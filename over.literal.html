<!DOCTYPE html><html lang='en'><head><title>[over.literal]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>12.6</a> User-defined literals <a class='abbr_ref'>[over.literal]</a></h2><div class='texpara'><a class='index' id=':user-defined_literal,overloaded'></a><a class='index' id=':overloading,user-defined_literal'></a></div><div class='texpara'><div class='bnf' id='nt:literal-operator-id'>
<a class='hidden_link' href='#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='nt:literal-operator-id'><span id=':literal-operator-id'>literal-operator-id<span class='textnormal'>:</span></span></span></a><br/><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span> <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><i >string-literal</i></span></span></a> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a><br/><span id=':operator_'><span class='texttt'><span class='keyword'>operator</span></span></span> <a href='lex.ext#nt:user-defined-string-literal' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal'><span class='textsf'><i >user-defined-string-literal</i></span></span></a>
</div></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3746'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal_'><span class='textsf'><i >string-literal</i></span></span></a> or <a href='lex.ext#nt:user-defined-string-literal' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal_'><span class='textsf'><i >user-defined-string-literal</i></span></span></a>
in a <a href='#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id'><span class='textsf'><i >literal-operator-id</i></span></span></a> shall have no
<a href='lex.ccon#nt:encoding-prefix' title='5.13.3&emsp;Character literals&emsp;[lex.ccon]'><span id='ntref:encoding-prefix'><span class='textsf'><i >encoding-prefix</i></span></span></a> and shall contain no characters other than the
implicit terminating <span class='texttt'><span class='literal'>'\0'</span></span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The <a href='lex.ext#nt:ud-suffix' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix'><span class='textsf'><i >ud-suffix</i></span></span></a> of the <a href='lex.ext#nt:user-defined-string-literal' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal__'><span class='textsf'><i >user-defined-string-literal</i></span></span></a> or
the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a> in a <a href='#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id_'><span class='textsf'><i >literal-operator-id</i></span></span></a> is called a
<a class='hidden_link' href='#def:literal,suffix_identifier' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,suffix_identifier'><i >literal suffix identifier</i></span></a><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Some literal suffix identifiers are reserved for future standardization;
see <a href='usrlit.suffix' title='16.4.5.3.6&emsp;User-defined literal suffixes'>[usrlit.<span class='shy'></span>suffix]</a><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>A declaration whose <a href='#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id__'><span class='textsf'><i >literal-operator-id</i></span></span></a> uses
such a literal suffix identifier is ill-formed, no diagnostic required<a class='hidden_link' href='#1.sentence-4'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3758'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A declaration whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a> is a
<a href='#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id___'><span class='textsf'><i >literal-operator-id</i></span></span></a> shall declare a function or function template
that belongs to a namespace (it could be a friend function (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>)) or
an explicit instantiation or specialization of a function template<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>A function declared with a <a href='#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id____'><span class='textsf'><i >literal-operator-id</i></span></span></a> is a <a class='hidden_link' href='#def:literal,operator' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator'><i >literal
operator</i></span></a><a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>A function template declared with a <a href='#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id_____'><span class='textsf'><i >literal-operator-id</i></span></span></a>
is a <a class='hidden_link' href='#def:literal,operator,template' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,template'><i >literal operator template</i></span></a><a class='hidden_link' href='#2.sentence-3'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3767'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>The declaration of a literal operator shall have a
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> equivalent to one of the following:
<span class='codeblock'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>
<span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span>
<span class='keyword'>long</span> <span class='keyword'>double</span>
<span class='keyword'>char</span>
<span class='keyword'>wchar_t</span>
<span class='keyword'>char8_t</span>
<span class='keyword'>char16_t</span>
<span class='keyword'>char32_t</span>
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>wchar_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char8_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char16_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char32_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
</span></div></div><div class='texpara'><div id='3.sentence-2' class='sentence'>If a parameter has a default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>), the program is
ill-formed<a class='hidden_link' href='#3.sentence-2'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3789'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,raw' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,raw'><i >raw literal operator</i></span></a> is a literal operator with a single parameter
whose type is <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span></span><a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3793'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,template_numeric' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,template_numeric'><i >numeric literal operator template</i></span></a>
is a literal operator template whose <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><i >template-parameter-list</i></span></span></a>
has a single <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><i >template-parameter</i></span></span></a>
that is a non-type template parameter pack (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)
with element type <span class='texttt'><span class='keyword'>char</span></span><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,template_string' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,template_string'><i >string literal operator template</i></span></a>
is a literal operator template whose <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_'><span class='textsf'><i >template-parameter-list</i></span></span></a>
comprises
a single non-type <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_'><span class='textsf'><i >template-parameter</i></span></span></a> of class type<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>The declaration of a literal operator template
shall have an empty <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
and shall declare either a numeric literal operator template
or a string literal operator template<a class='hidden_link' href='#5.sentence-3'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3808'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>Literal operators and literal operator templates shall not have C language linkage<a class='hidden_link' href='#6.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3811'>#</a></div><div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='7.sentence-1' class='sentence'>Literal operators and literal operator templates are usually invoked
implicitly through user-defined literals (<a href='lex.ext' title='5.13.8&emsp;User-defined literals'>[lex.<span class='shy'></span>ext]</a>)<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>However, except for
the constraints described above, they are ordinary namespace-scope functions and
function templates<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>In particular, they are looked up like ordinary functions
and function templates and they follow the same overload resolution rules<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'>Also,
they can be declared <span class='texttt'><span class='keyword'>inline</span></span> or <span class='texttt'><span class='keyword'>constexpr</span></span>,
they can have internal, module, or external linkage,
they can be called explicitly, their addresses can be
taken, etc<a class='hidden_link' href='#7.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f8ac034ab30648da8e74427bdf6a8429ff6bf3fc/source/overloading.tex#L3824'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _km<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// OK</span>
string <span class='keyword'>operator</span> <span class='literal'>""</span> _i18n<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>; <span class='comment'>// OK</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>double</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _\u03C0<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK: UCN for lowercase pi</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>""_e</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>""E</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                    <span class='comment'>// ill-formed, no diagnostic required:</span>
                                                    <span class='comment'>// reserved literal suffix (<a href='usrlit.suffix' title='16.4.5.3.6&emsp;User-defined literal suffixes'>[usrlit.<span class='shy'></span>suffix]</a>, <a href='lex.ext' title='5.13.8&emsp;User-defined literals'>[lex.<span class='shy'></span>ext]</a>)</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span><span class='literal'>""_Bq</span><span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// OK: does not use the reserved <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a> <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name' title='5.10&emsp;Identifiers'>[lex.<span class='shy'></span>name]</a>)</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span><span class='literal'>""</span> _Bq<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                 <span class='comment'>// ill-formed, no diagnostic required:</span>
                                                    <span class='comment'>// uses the reserved <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a> <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name' title='5.10&emsp;Identifiers'>[lex.<span class='shy'></span>name]</a>)</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>" "</span> B<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                  <span class='comment'>// error: non-empty <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal__'><span class='textsf'><i >string-literal</i></span></span></a></span>
string <span class='keyword'>operator</span> <span class='literal'>""</span> <span class='literal'>5X</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;    <span class='comment'>// error: invalid literal suffix identifier</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _miles<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// error: invalid <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a></span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _j<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>; <span class='comment'>// error: invalid <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause___'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a></span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _m<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: C language linkage</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></body></html>