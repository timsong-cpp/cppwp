<!DOCTYPE html><html lang='en'><head><title>[over.literal]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>16</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>16.5</a> Overloaded operators <a class='abbr_ref' href='over.oper#over.literal'>[over.oper]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>16.5.8</a> User-defined literals <a class='abbr_ref'>[over.literal]</a></h3><span class='indexparent'><a class='index' id=':user-defined_literal,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,user-defined_literal'></a></span><pre class='bnf'><a class='nontermdef' id='nt:literal-operator-id'>literal-operator-id:</a>
&#9;<span class='terminal'>operator</span> <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<span class='terminal'>operator</span> <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i>
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3404'>#</a></div><div id='1.sentence-1' class='sentence'>The <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> or <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i>
in a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> shall have no
<i ><a href='lex.ccon#nt:encoding-prefix'>encoding-prefix</a></i> and shall contain no characters other than the
implicit terminating <span class='texttt'>'\0'</span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The <i ><a href='lex.ext#nt:ud-suffix'>ud-suffix</a></i> of the <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i> or
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> in a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> is called a
<a class='hidden_link' href='#def:literal_suffix_identifier' id='def:literal_suffix_identifier'><i>literal suffix identifier</i></a><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Some literal suffix identifiers are reserved for future standardization;
see <a href='usrlit.suffix'>[usrlit.suffix]</a><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>A declaration whose <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> uses
such a literal suffix identifier is ill-formed, no diagnostic required<a class='hidden_link' href='#1.sentence-4'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3416'>#</a></div><div id='2.sentence-1' class='sentence'>A declaration whose <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is a
<i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> shall be a declaration of a namespace-scope
function or function template (it could be a <a href='class.friend'>friend
function</a>), an explicit instantiation or specialization of a
function template, or a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>A function declared with a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> is a <a class='hidden_link' href='#def:literal_operator' id='def:literal_operator'><i>literal operator</i></a><a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>A function template declared with a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i>
is a <a class='hidden_link' href='#def:literal_operator_template' id='def:literal_operator_template'><i>literal operator template</i></a><a class='hidden_link' href='#2.sentence-3'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3426'>#</a></div><div id='3.sentence-1' class='sentence'>The declaration of a literal operator shall have a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> equivalent to one of the following:</div><pre class='codeblock'>
const char*
unsigned long long int
long double
char
wchar_t
char16_t
char32_t
const char*, std::size_t
const wchar_t*, std::size_t
const char16_t*, std::size_t
const char32_t*, std::size_t</pre><div id='3.sentence-2' class='sentence'>If a parameter has a <a href='dcl.fct.default'>default argument</a>, the program is
ill-formed<a class='hidden_link' href='#3.sentence-2'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3447'>#</a></div><div id='4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:raw_literal_operator' id='def:raw_literal_operator'><i>raw literal operator</i></a> is a literal operator with a single parameter
whose type is <span class='texttt'>const char*</span><a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3451'>#</a></div><div id='5.sentence-1' class='sentence'>The declaration of a literal operator template shall have an empty
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> and its
<i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> shall have a single
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> that is a non-type template
<a href='temp.variadic#def:parameter_pack'>parameter pack</a> with element type <span class='texttt'>char</span><a class='hidden_link' href='#5.sentence-1'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3458'>#</a></div><div id='6.sentence-1' class='sentence'>Literal operators and literal operator templates shall not have C language linkage<a class='hidden_link' href='#6.sentence-1'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3461'>#</a></div><div id='7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-1' class='sentence'>Literal operators and literal operator templates are usually invoked
implicitly through <a href='lex.ext'>user-defined literals</a><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>However, except for
the constraints described above, they are ordinary namespace-scope functions and
function templates<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>In particular, they are looked up like ordinary functions
and function templates and they follow the same overload resolution rules<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'>Also,
they can be declared <span class='texttt'>inline</span> or <span class='texttt'>constexpr</span>, they may have internal
or external linkage, they can be called explicitly, their addresses can be
taken, etc<a class='hidden_link' href='#7.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/overloading.tex#L3471'>#</a></div><div id='8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void operator "" _km(long double);                  <span class='comment'>// OK
</span>string operator "" _i18n(const char*, std::size_t); <span class='comment'>// OK
</span>template &lt;char...&gt; double operator "" _\u03C0();    <span class='comment'>// OK: UCN for lowercase pi
</span>float operator ""_e(const char*);                   <span class='comment'>// OK
</span>float operator ""E(const char*);                    <span class='comment'>// error: reserved literal suffix (<a href='usrlit.suffix'>[usrlit.suffix]</a>, <a href='lex.ext'>[lex.ext]</a>)
</span>double operator""_Bq(long double);                  <span class='comment'>// OK: does not use the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name'>[lex.name]</a>)
</span>double operator"" _Bq(long double);                 <span class='comment'>// uses the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name'>[lex.name]</a>)
</span>float operator " " B(const char*);                  <span class='comment'>// error: non-empty <span class='grammarterm'>string-literal</span>
</span>string operator "" 5X(const char*, std::size_t);    <span class='comment'>// error: invalid literal suffix identifier
</span>double operator "" _miles(double);                  <span class='comment'>// error: invalid <span class='grammarterm'>parameter-declaration-clause</span>
</span>template &lt;char...&gt; int operator "" _j(const char*); <span class='comment'>// error: invalid <span class='grammarterm'>parameter-declaration-clause</span>
</span>extern "C" void operator "" _m(long double);        <span class='comment'>// error: C language linkage
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div></body></html>