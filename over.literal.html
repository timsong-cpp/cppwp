<!DOCTYPE html><html lang='en'><head><title>[over.literal]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>13</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>13.5</a> Overloaded operators <a class='abbr_ref' href='over.oper#over.literal'>[over.oper]</a></h2><div id='over.literal'><h3 ><a class='secnum' style='min-width:103pt'>13.5.8</a> User-defined literals <a class='abbr_ref'>[over.literal]</a></h3><p ><span class='indexparent'><a class='index' id='user-defined_literal,overloaded'></a></span><span class='indexparent'><a class='index' id='overloading,user-defined_literal'></a></span></p><pre class='bnf'><a class='nontermdef' id='nt:literal-operator-id'>literal-operator-id:</a>
&#9;<span class='terminal'>operator</span> <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<span class='terminal'>operator</span> <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i>
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3296'>#</a></div><p >The <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> or <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i>
in a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> shall have no
<i ><a href='lex.ccon#nt:encoding-prefix'>encoding-prefix</a></i> and shall contain no characters other than the
implicit terminating <span class='texttt'>'\0'</span>.
The <i ><a href='lex.ext#nt:ud-suffix'>ud-suffix</a></i> of the <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i> or
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> in a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> is called a
<a class='hidden_link' href='#def:literal_suffix_identifier' id='def:literal_suffix_identifier'><i>literal suffix identifier</i></a>.
Some literal suffix identifiers are reserved for future standardization;
see <a href='usrlit.suffix'>[usrlit.suffix]</a>.  A declaration whose <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> uses
such a literal suffix identifier is ill-formed; no diagnostic required.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3308'>#</a></div><p >A declaration whose <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is a
<i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> shall be a declaration of a namespace-scope
function or function template (it could be a <a href='class.friend'>friend
function</a>), an explicit instantiation or specialization of a
function template, or a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>.
A function declared with a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> is a <a class='hidden_link' href='#def:literal_operator' id='def:literal_operator'><i>literal operator</i></a>.
A function template declared with a <i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i>
is a <a class='hidden_link' href='#def:literal_operator_template' id='def:literal_operator_template'><i>literal operator template</i></a>.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3318'>#</a></div><p >The declaration of a literal operator shall have a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> equivalent to one of the following:</p><p ><pre class='codeblock'>
const char*
unsigned long long int
long double
char
wchar_t
char16_t
char32_t
const char*, std::size_t
const wchar_t*, std::size_t
const char16_t*, std::size_t
const char32_t*, std::size_t</pre></p><p >If a parameter has a <a href='dcl.fct.default'>default argument</a>, the program is
ill-formed.</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3339'>#</a></div><p >A <a class='hidden_link' href='#def:raw_literal_operator' id='def:raw_literal_operator'><i>raw literal operator</i></a> is a literal operator with a single parameter
whose type is <span class='texttt'>const char*</span>.</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3343'>#</a></div><p >The declaration of a literal operator template shall have an empty
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> and its
<i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> shall have a single
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> that is a non-type template
<a href='temp.variadic#def:parameter_pack'>parameter pack</a> with element type <span class='texttt'>char</span>.</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3350'>#</a></div><p >Literal operators and literal operator templates shall not have C language linkage.</p></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3353'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  Literal operators and literal operator templates are usually invoked
implicitly through <a href='lex.ext'>user-defined literals</a>. However, except for
the constraints described above, they are ordinary namespace-scope functions and
function templates. In particular, they are looked up like ordinary functions
and function templates and they follow the same overload resolution rules. Also,
they can be declared <span class='texttt'>inline</span> or <span class='texttt'>constexpr</span>, they may have internal
or external linkage, they can be called explicitly, their addresses can be
taken, etc. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5bc5cbae28d9e741ebc7df996f1f0d230ac4087e/source/overloading.tex#L3363'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
void operator "" _km(long double);                  <span class='comment'>// OK
</span>string operator "" _i18n(const char*, std::size_t); <span class='comment'>// OK
</span>template &lt;char...&gt; double operator "" _\u03C0();    <span class='comment'>// OK: UCN for lowercase pi
</span>float operator ""_e(const char*);                   <span class='comment'>// OK
</span>float operator ""E(const char*);                    <span class='comment'>// error: reserved literal suffix (<a href='usrlit.suffix'>[usrlit.suffix]</a>, <a href='lex.ext'>[lex.ext]</a>)
</span>double operator""_Bq(long double);                  <span class='comment'>// OK: does not use the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name'>[lex.name]</a>)
</span>double operator"" _Bq(long double);                 <span class='comment'>// uses the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name'>[lex.name]</a>)
</span>float operator " " B(const char*);                  <span class='comment'>// error: non-empty <i ><a href='lex.string#nt:string-literal'>string-literal</a></i>
</span>string operator "" 5X(const char*, std::size_t);    <span class='comment'>// error: invalid literal suffix identifier
</span>double operator "" _miles(double);                  <span class='comment'>// error: invalid <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
</span>template &lt;char...&gt; int operator "" _j(const char*); <span class='comment'>// error: invalid <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
</span>extern "C" void operator "" _m(long double);        <span class='comment'>// error: C language linkage
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div></div></body></html>