<!DOCTYPE html><html lang='en'><head><title>[module.unit]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>10</a> Modules <a class='abbr_ref' href='./#module'>[module]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>10.1</a> Module units and purviews <a class='abbr_ref'>[module.unit]</a></h2><div class='texpara'><div class='bnf' id='nt:module-declaration'>
<a class='hidden_link' href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='nt:module-declaration'><span id=':module-declaration'>module-declaration<span class='textnormal'>:</span></span></span></a><br/>export-keyword<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> module-keyword <a href='#nt:module-name' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name'><span class='textsf'><i >module-name</i></span></span></a> <a href='#nt:module-partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-partition'><span class='textsf'><i >module-partition</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</div></div><div class='texpara'><div class='bnf' id='nt:module-name'>
<a class='hidden_link' href='#nt:module-name' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='nt:module-name'><span id=':module-name'>module-name<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:module-name-qualifier' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name-qualifier'><span class='textsf'><i >module-name-qualifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:module-partition'>
<a class='hidden_link' href='#nt:module-partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='nt:module-partition'><span id=':module-partition'>module-partition<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='operator'>:</span></span> <a href='#nt:module-name-qualifier' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name-qualifier_'><span class='textsf'><i >module-name-qualifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:module-name-qualifier'>
<a class='hidden_link' href='#nt:module-name-qualifier' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='nt:module-name-qualifier'><span id=':module-name-qualifier'>module-name-qualifier<span class='textnormal'>:</span></span></span></a><br/><a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='operator'>.</span></span><br/><a href='#nt:module-name-qualifier' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name-qualifier__'><span class='textsf'><i >module-name-qualifier</i></span></span></a> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='operator'>.</span></span>
</div></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L29'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:module_unit' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:module_unit'><i >module unit</i></span></a> is a translation unit that contains
a <a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration'><span class='textsf'><i >module-declaration</i></span></span></a><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:module,named' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:module,named'><i >named module</i></span></a> is the
collection of module units with the same <a href='#nt:module-name' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name_'><span class='textsf'><i >module-name</i></span></span></a><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>The identifiers <span class='texttt'><span class='keyword'>module</span></span> and <span class='texttt'><span class='keyword'>import</span></span>
shall not appear as <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a><i >s</i>
in a <a href='#nt:module-name' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name__'><span class='textsf'><i >module-name</i></span></span></a> or <a href='#nt:module-partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-partition_'><span class='textsf'><i >module-partition</i></span></span></a><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'><a class='index' id=':module,reserved_name_of'></a>All <a href='#nt:module-name' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name___'><span class='textsf'><i >module-name</i></span></span></a><i >s</i> either beginning with an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____'><span class='textsf'><i >identifier</i></span></span></a>
consisting of <span class='texttt'>std</span> followed by zero or more <a href='lex.name#nt:digit' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:digit'><span class='textsf'><i >digit</i></span></span></a><i >s</i> or
containing a reserved identifier (<a href='lex.name' title='5.10&emsp;Identifiers'>[lex.<span class='shy'></span>name]</a>)
are reserved and shall not be specified in a <a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration_'><span class='textsf'><i >module-declaration</i></span></span></a>;
no diagnostic is required<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>If any <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier______'><span class='textsf'><i >identifier</i></span></span></a> in a reserved <a href='#nt:module-name' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-name____'><span class='textsf'><i >module-name</i></span></span></a>
is a reserved identifier,
the module name is reserved for use by C++ implementations;
otherwise it is reserved for future standardization<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>The optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>
appertains to the <a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration__'><span class='textsf'><i >module-declaration</i></span></span></a><a class='hidden_link' href='#1.sentence-6'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L50'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:module_interface_unit' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:module_interface_unit'><i >module interface unit</i></span></a> is a module unit whose
<a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration___'><span class='textsf'><i >module-declaration</i></span></span></a> starts with <span id='ntref:export-keyword'><span class='textsf'><i >export-keyword</i></span></span>;
any other module unit is a <a class='hidden_link' href='#def:module_implementation_unit' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:module_implementation_unit'><i >module implementation unit</i></span></a><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>A named module shall contain exactly one module interface unit
with no <a href='#nt:module-partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-partition__'><span class='textsf'><i >module-partition</i></span></span></a>, known as the
<a class='hidden_link' href='#def:primary_module_interface_unit' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:primary_module_interface_unit'><i >primary module interface unit</i></span></a> of the module;
no diagnostic is required<a class='hidden_link' href='#2.sentence-2'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L59'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:module_partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:module_partition'><i >module partition</i></span></a> is
a module unit whose <a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration____'><span class='textsf'><i >module-declaration</i></span></span></a> contains
a <a href='#nt:module-partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-partition___'><span class='textsf'><i >module-partition</i></span></span></a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>A named module shall not contain multiple module partitions with
the same <a href='#nt:module-partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-partition____'><span class='textsf'><i >module-partition</i></span></span></a><a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>All module partitions of a module
that are module interface units
shall be directly or indirectly exported
by the primary module interface unit (<a href='module.import' title='10.3&emsp;Import declaration'>[module.<span class='shy'></span>import]</a>)<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>No diagnostic is required for a violation of these rules<a class='hidden_link' href='#3.sentence-4'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='3.sentence-5' class='sentence'>Module partitions can be imported only by
other module units in the same module<a class='hidden_link' href='#3.sentence-5'>.</a></div> <div id='3.sentence-6' class='sentence'>The division of a module into module units
is not visible outside the module<a class='hidden_link' href='#3.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L77'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> A;
<span class='keyword'>export</span> <span class='keyword'>import</span> <span class='operator'>:</span>Foo;
<span class='keyword'>export</span> <span class='keyword'>int</span> baz<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> A<span class='operator'>:</span>Foo;
<span class='keyword'>import</span> <span class='operator'>:</span>Internals;
<span class='keyword'>export</span> <span class='keyword'>int</span> foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span>bar<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>1</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>module</span> A<span class='operator'>:</span>Internals;
<span class='keyword'>int</span> bar<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span></div><div class='texpara'><p>Translation unit #4:<span class='codeblock'><span class='keyword'>module</span> A;
<span class='keyword'>import</span> <span class='operator'>:</span>Internals;
<span class='keyword'>int</span> bar<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> baz<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>10</span>; <span class='curlybracket'>}</span>
<span class='keyword'>int</span> baz<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>30</span>; <span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Module <span class='texttt'>A</span> contains four translation units:
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.1'>(4.1)</a></div>a primary module interface unit,</li><li id='4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.2'>(4.2)</a></div>a module partition <span class='texttt'>A<span class='operator'>:</span>Foo</span>, which is a module interface unit
forming part of the interface of module <span class='texttt'>A</span>,</li><li id='4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.3'>(4.3)</a></div>a module partition <span class='texttt'>A<span class='operator'>:</span>Internals</span>, which does not contribute
to the external interface of module <span class='texttt'>A</span>, and</li><li id='4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.4'>(4.4)</a></div>a module implementation unit providing
a definition of <span class='texttt'>bar</span> and <span class='texttt'>baz</span>,
which cannot be imported because
it does not have a partition name<a class='hidden_link' href='#4.sentence-1'>.</a></li></ul></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L117'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:purview,module_unit' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:purview,module_unit'><i >module unit purview</i></span></a> is
the sequence of <a href='lex.token#nt:token' title='5.6&emsp;Tokens&emsp;[lex.token]'><span id='ntref:token'><span class='textsf'><i >token</i></span></span></a><i >s</i>
starting at the <a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration_____'><span class='textsf'><i >module-declaration</i></span></span></a>
and extending to the end of the translation unit<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:purview,named_module' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:purview,named_module'><i >purview</i></span></a>
of a named module <span class='texttt'>M</span> is the set of module unit purviews
of <span class='texttt'>M</span>'s module units<a class='hidden_link' href='#5.sentence-2'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L126'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:module,global' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:module,global'><i >global module</i></span></a> is the collection of all
<a href='module.global.frag#nt:global-module-fragment' title='10.4&emsp;Global module fragment&emsp;[module.global.frag]'><span id='ntref:global-module-fragment'><span class='textsf'><i >global-module-fragment</i></span></span></a><i >s</i>
and all translation units that are not module units<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Declarations appearing in such a context
are said to be in the <a class='hidden_link' href='#def:purview,global_module' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:purview,global_module'><i >purview</i></span></a> of the global module<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='6.sentence-3' class='sentence'>The global module has no name, no module interface unit, and is not
introduced by any <a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration______'><span class='textsf'><i >module-declaration</i></span></span></a><a class='hidden_link' href='#6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L137'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:module' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:module'><i >module</i></span></a> is either a named module or the global module<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>A declaration is <a class='hidden_link' href='#def:attached,declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='def:attached,declaration'><i >attached</i></span></a> to a module as follows:
<ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.1'>(7.1)</a></div><div class='texpara'><div id='7.1.sentence-1' class='sentence'>If the declaration is a non-dependent friend declaration
that nominates a function with a <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a>
that is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a> or <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a> or
that nominates a class
other than with an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> with neither
a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a> nor a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>,
it is attached to the module to which the friend is attached (<a href='basic.link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#7.1.sentence-1'>.</a></div></div></li><li id='7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.2'>(7.2)</a></div><div class='texpara'><div id='7.2.sentence-1' class='sentence'>Otherwise, if the declaration
<ul class='itemize'><li id='7.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#7.2.1'>(7.2.1)</a></div>is a <a href='namespace.def.general#nt:namespace-definition' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-definition'><span class='textsf'><i >namespace-definition</i></span></span></a> with external linkage or</li><li id='7.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#7.2.2'>(7.2.2)</a></div>appears within a <a href='dcl.link#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification'><span class='textsf'><i >linkage-specification</i></span></span></a> (<a href='dcl.link' title='9.11&emsp;Linkage specifications'>[dcl.<span class='shy'></span>link]</a>)</li></ul>
it is attached to the global module<a class='hidden_link' href='#7.2.sentence-1'>.</a></div></div></li><li id='7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.3'>(7.3)</a></div><div class='texpara'><div id='7.3.sentence-1' class='sentence'>Otherwise, the declaration is
attached to the module in whose purview it appears<a class='hidden_link' href='#7.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/modules.tex#L160'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>A <a href='#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration_______'><span class='textsf'><i >module-declaration</i></span></span></a>
that contains neither an <span id='ntref:export-keyword_'><span class='textsf'><i >export-keyword</i></span></span>
nor a <a href='#nt:module-partition' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-partition_____'><span class='textsf'><i >module-partition</i></span></span></a>
implicitly imports the primary module interface unit of the module
as if by a <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration'><span class='textsf'><i >module-import-declaration</i></span></span></a><a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>module</span> B<span class='operator'>:</span>Y;                     <span class='comment'>// does not implicitly import <span class='tcode_in_codeblock'>B</span></span>
<span class='keyword'>int</span> y<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> B;
<span class='keyword'>import</span> <span class='operator'>:</span>Y;                      <span class='comment'>// OK, does not create interface dependency cycle</span>
<span class='keyword'>int</span> n <span class='operator'>=</span> y<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>module</span> B<span class='operator'>:</span>X1;                    <span class='comment'>// does not implicitly import <span class='tcode_in_codeblock'>B</span></span>
<span class='keyword'>int</span> <span class='operator'>&amp;</span>a <span class='operator'>=</span> n;                     <span class='comment'>// error: <span class='tcode_in_codeblock'>n</span> not visible here</span>
</span></div><div class='texpara'><p>Translation unit #4:<span class='codeblock'><span class='keyword'>module</span> B<span class='operator'>:</span>X2;                    <span class='comment'>// does not implicitly import <span class='tcode_in_codeblock'>B</span></span>
<span class='keyword'>import</span> B;
<span class='keyword'>int</span> <span class='operator'>&amp;</span>b <span class='operator'>=</span> n;                     <span class='comment'>// OK</span>
</span></div><div class='texpara'><p>Translation unit #5:<span class='codeblock'><span class='keyword'>module</span> B;                       <span class='comment'>// implicitly imports <span class='tcode_in_codeblock'>B</span></span>
<span class='keyword'>int</span> <span class='operator'>&amp;</span>c <span class='operator'>=</span> n;                     <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></body></html>