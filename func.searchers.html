<!DOCTYPE html><html lang='en'><head><title>[func.searchers]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.14</a> Function objects <a class='abbr_ref' href='function.objects#func.searchers'>[function.objects]</a></h2><div id='func.searchers'><h3 ><a class='secnum' style='min-width:103pt'>20.14.13</a> Searchers <a class='abbr_ref'>[func.searchers]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >This sub-clause provides function object types (<a href='function.objects'>[function.objects]</a>) for
operations that search for a sequence <span class='texttt'>[pat_first, <span class='discretionary'></span>pat_last)</span> in another
sequence <span class='texttt'>[first, <span class='discretionary'></span>last)</span> that is provided to the object's function call
operator.  The first sequence (the pattern to be searched for) is provided to
the object's constructor, and the second (the sequence to be searched) is
provided to the function call operator.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >Each specialization of a class template specified in this sub-clause <a href='func.searchers'>[func.searchers]</a> shall meet the <span class='texttt'>CopyConstructible</span> and <span class='texttt'>CopyAssignable</span> requirements.
Template parameters named
</p><ul ><li ><p ><span class='texttt'>ForwardIterator</span>,
</p></li><li ><p ><span class='texttt'>ForwardIterator1</span>,
</p></li><li ><p ><span class='texttt'>ForwardIterator2</span>,
</p></li><li ><p ><span class='texttt'>RandomAccessIterator</span>,
</p></li><li ><p ><span class='texttt'>RandomAccessIterator1</span>,
</p></li><li ><p ><span class='texttt'>RandomAccessIterator2</span>, and
</p></li><li ><p ><span class='texttt'>BinaryPredicate</span>
</p></li></ul><p >of templates specified in this sub-clause
<a href='func.searchers'>[func.searchers]</a> shall meet the same requirements and semantics as
specified in <a href='algorithms.general'>[algorithms.general]</a>.
Template parameters named <span class='texttt'>Hash</span> shall meet the requirements as specified in <a href='hash.requirements'>[hash.requirements]</a>.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >The Boyer-Moore searcher implements the Boyer-Moore search algorithm.
The Boyer-Moore-Horspool searcher implements the Boyer-Moore-Horspool search algorithm.
In general, the Boyer-Moore searcher will use more memory and give better run-time performance than Boyer-Moore-Horspool</p></div><div id='default'><h4 ><a class='secnum' href='#default' style='min-width:118pt'>20.14.13.1</a> Class template <span class='texttt'>default_searcher</span> <a class='abbr_ref' href='func.searchers.default'>[func.searchers.default]</a></h4><p ><span class='indexparent'><a class='index' id='default_searcher'></a></span></p><pre class='codeblock'>
template &lt;class ForwardIterator1, class BinaryPredicate = equal_to&lt;&gt;&gt;
class default_searcher {
public:
  default_searcher(ForwardIterator1 pat_first, ForwardIterator1 pat_last,
                   BinaryPredicate pred = BinaryPredicate());

  template &lt;class ForwardIterator2&gt;
    pair&lt;ForwardIterator2, ForwardIterator2&gt;
      operator()(ForwardIterator2 first, ForwardIterator2 last) const;

private:
  ForwardIterator1 pat_first_; <span class='comment'>// <i>exposition only</i>
</span>  ForwardIterator1 pat_last_;  <span class='comment'>// <i>exposition only</i>
</span>  BinaryPredicate pred_;       <span class='comment'>// <i>exposition only</i>
</span>};
</pre><p ><span class='indexparent'><a class='index' id='default_searcher!constructor'></a></span><code class='itemdecl'>
default_searcher(ForwardIterator pat_first, ForwardIterator pat_last,
                 BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='default-1'><div class='marginalizedparent'><a class='marginalized' href='#default-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i>
Constructs a <span class='texttt'>default_searcher</span> object, initializing <span class='texttt'>pat_first_</span>
with <span class='texttt'>pat_first</span>, <span class='mbox'><span class='texttt'>pat_last_</span></span> with <span class='texttt'>pat_last</span>, and
<span class='texttt'>pred_</span> with <span class='texttt'>pred</span>.</p></div></div><div class='para' id='default-2'><div class='marginalizedparent'><a class='marginalized' href='#default-2'>2</a></div><div class='itemdescr'><p ><i>Throws:</i>
Any exception thrown by the copy constructor of <span class='texttt'>BinaryPredicate</span> or
<span class='texttt'>ForwardIterator1</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator()!default_searcher'></a></span><span class='indexparent'><a class='index' id='default_searcher!operator()'></a></span><code class='itemdecl'>
template&lt;class ForwardIterator2&gt;
  pair&lt;ForwardIterator2, ForwardIterator2&gt;
    operator()(ForwardIterator2 first, ForwardIterator2 last) const;
</code></p><div class='itemdescr'></div><div class='para' id='default-3'><div class='marginalizedparent'><a class='marginalized' href='#default-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i>
Returns a pair of iterators <span class='texttt'>i</span> and <span class='texttt'>j</span> such that
</p><ul ><li ><p ><span class='texttt'>i == search(first, last, pat_first_, pat_last_, pred_)</span>, and
</p></li><li ><p >if <span class='texttt'>i == last</span>, then <span class='texttt'>j == last</span>,
otherwise <span class='texttt'>j == next(i, distance(pat_first_, pat_last_))</span>.
</p></li></ul></div></div><div id='default.creation'><h4 ><a class='secnum' href='#default.creation' style='min-width:133pt'>20.14.13.1.1</a> <span class='texttt'>default_searcher</span> creation functions <a class='abbr_ref' href='func.searchers.default.creation'>[func.searchers.default.creation]</a></h4><p ><span class='indexparent'><a class='index' id='make_default_searcher'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator, class BinaryPredicate = equal_to&lt;&gt;&gt;
  default_searcher&lt;ForwardIterator, BinaryPredicate&gt;
    make_default_searcher(ForwardIterator pat_first, ForwardIterator pat_last,
                          BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='default.creation-1'><div class='marginalizedparent'><a class='marginalized' href='#default.creation-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return default_searcher&lt;ForwardIterator, BinaryPredicate&gt;(pat_first, pat_last, pred);
</pre></div></div></div></div><div id='boyer_moore'><h4 ><a class='secnum' href='#boyer_moore' style='min-width:118pt'>20.14.13.2</a> Class template <span class='texttt'>boyer_moore_searcher</span> <a class='abbr_ref' href='func.searchers.boyer_moore'>[func.searchers.boyer_moore]</a></h4><p ><span class='indexparent'><a class='index' id='boyer_moore_searcher'></a></span></p><pre class='codeblock'>
template &lt;class RandomAccessIterator1,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator1&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
class boyer_moore_searcher {
public:
  boyer_moore_searcher(RandomAccessIterator1 pat_first,
                       RandomAccessIterator1 pat_last, Hash hf = Hash(),
                       BinaryPredicate pred = BinaryPredicate());

  template &lt;class RandomAccessIterator2&gt;
    pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
      operator()(RandomAccessIterator2 first,
                 RandomAccessIterator2 last) const;

private:
  RandomAccessIterator1 pat_first_; <span class='comment'>// <i>exposition only</i>
</span>  RandomAccessIterator1 pat_last_;  <span class='comment'>// <i>exposition only</i>
</span>  Hash hash_;                       <span class='comment'>// <i>exposition only</i>
</span>  BinaryPredicate pred_;            <span class='comment'>// <i>exposition only</i>
</span>};
</pre><p ><span class='indexparent'><a class='index' id='boyer_moore_searcher!constructor'></a></span><code class='itemdecl'>
boyer_moore_searcher(RandomAccessIterator1 pat_first,
                     RandomAccessIterator1 pat_last, Hash hf = Hash(),
                     BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='boyer_moore-1'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i>
The value type of <span class='texttt'>RandomAccessIterator1</span> shall meet the <span class='texttt'>DefaultConstructible</span> requirements, the <span class='texttt'>CopyConstructible</span> requirements, and the <span class='texttt'>CopyAssignable</span> requirements.</p></div></div><div class='para' id='boyer_moore-2'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-2'>2</a></div><div class='itemdescr'><p ><i>Requires:</i>
For any two values <span class='texttt'>A</span> and <span class='texttt'>B</span> of the type <span class='texttt'>iterator_traits&lt;RandomAccessIterator1&gt;::value_type</span>, if <span class='texttt'>pred(A,B)==true</span>, then <span class='texttt'>hf(A)==hf(B)</span> shall be true.</p></div></div><div class='para' id='boyer_moore-3'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i>
Constructs a <span class='texttt'>boyer_moore_searcher</span> object, initializing <span class='texttt'>pat_first_</span> with <span class='texttt'>pat_first</span>, <span class='texttt'>pat_last_</span> with <span class='texttt'>pat_last</span>, <span class='texttt'>hash_</span> with <span class='texttt'>hf</span>, and <span class='texttt'>pred_</span> with <span class='texttt'>pred</span>.</p></div></div><div class='para' id='boyer_moore-4'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-4'>4</a></div><div class='itemdescr'><p ><i>Throws:</i>
Any exception thrown by the copy constructor of <span class='texttt'>RandomAccessIterator1</span>,
or by the default constructor, copy constructor, or the copy assignment operator of the value type of <span class='texttt'>RandomAccessIterator1</span>,
or the copy constructor or <span class='texttt'>operator()</span> of <span class='texttt'>BinaryPredicate</span> or <span class='texttt'>Hash</span>.
May throw <span class='texttt'>bad_alloc</span> if additional memory needed for internal data structures cannot be allocated.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator()!boyer_moore_searcher'></a></span><span class='indexparent'><a class='index' id='boyer_moore_searcher!operator()'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator2&gt;
  pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
    operator()(RandomAccessIterator2 first, RandomAccessIterator2 last) const;
</code></p><div class='itemdescr'></div><div class='para' id='boyer_moore-5'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-5'>5</a></div><div class='itemdescr'><p ><i>Requires:</i>
<span class='texttt'>RandomAccessIterator1</span> and <span class='texttt'>RandomAccessIterator2</span> shall have the same value type.</p></div></div><div class='para' id='boyer_moore-6'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i>
Finds a subsequence of equal values in a sequence.</p></div></div><div class='para' id='boyer_moore-7'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-7'>7</a></div><div class='itemdescr'><p ><i>Returns:</i>
A pair of iterators <span class='texttt'>i</span> and <span class='texttt'>j</span> such that
</p><ul ><li ><p ><span class='texttt'>i</span> is the first iterator
in the range <span class='texttt'>[first, <span class='discretionary'></span>last - (pat_last_ - pat_first_))</span> such that
for every non-negative integer <span class='texttt'>n</span> less than <span class='texttt'>pat_last_ - pat_first_</span>
the following condition holds:
<span class='texttt'>pred(*(i + n), *(pat_first_ + n)) != false</span>, and
</p></li><li ><p ><span class='texttt'>j == next(i, distance(pat_first_, pat_last_))</span>.
</p></li></ul><p >Returns <span class='texttt'>make_pair(first, first)</span> if <span class='texttt'>[pat_first_, <span class='discretionary'></span>pat_last_)</span> is empty,
otherwise returns <span class='texttt'>make_pair(last, last)</span> if no such iterator is found.</p></div></div><div class='para' id='boyer_moore-8'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore-8'>8</a></div><div class='itemdescr'><p ><i>Complexity:</i>
At most <span class='texttt'>(last - first) * (pat_last_ - pat_first_)</span> applications of the predicate.
</p></div></div><div id='boyer_moore.creation'><h4 ><a class='secnum' href='#boyer_moore.creation' style='min-width:133pt'>20.14.13.2.1</a> <span class='texttt'>boyer_moore_searcher</span> creation functions <a class='abbr_ref' href='func.searchers.boyer_moore.creation'>[func.searchers.boyer_moore.creation]</a></h4><p ><span class='indexparent'><a class='index' id='make_boyer_moore_searcher'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
  boyer_moore_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;
    make_boyer_moore_searcher(RandomAccessIterator pat_first,
                              RandomAccessIterator pat_last, Hash hf = Hash(),
                              BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='boyer_moore.creation-1'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore.creation-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return boyer_moore_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;(
         pat_first, pat_last, hf, pred);
</pre></div></div></div></div><div id='boyer_moore_horspool'><h4 ><a class='secnum' href='#boyer_moore_horspool' style='min-width:118pt'>20.14.13.3</a> Class template <span class='texttt'>boyer_moore_horspool_searcher</span> <a class='abbr_ref' href='func.searchers.boyer_moore_horspool'>[func.searchers.boyer_moore_horspool]</a></h4><p ><span class='indexparent'><a class='index' id='boyer_moore_horspool_searcher'></a></span></p><pre class='codeblock'>
template &lt;class RandomAccessIterator1,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator1&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
class boyer_moore_horspool_searcher {
public:
  boyer_moore_horspool_searcher(RandomAccessIterator1 pat_first,
                                RandomAccessIterator1 pat_last,
                                Hash hf = Hash(),
                                BinaryPredicate pred = BinaryPredicate());

  template &lt;class RandomAccessIterator2&gt;
    pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
      operator()(RandomAccessIterator2 first,
                 RandomAccessIterator2 last) const;

private:
  RandomAccessIterator1 pat_first_; <span class='comment'>// <i>exposition only</i>
</span>  RandomAccessIterator1 pat_last_;  <span class='comment'>// <i>exposition only</i>
</span>  Hash hash_;                       <span class='comment'>// <i>exposition only</i>
</span>  BinaryPredicate pred_;            <span class='comment'>// <i>exposition only</i>
</span>};
</pre><p ><span class='indexparent'><a class='index' id='boyer_moore_horspool_searcher!constructor'></a></span><code class='itemdecl'>
boyer_moore_horspool_searcher(RandomAccessIterator1 pat_first,
                              RandomAccessIterator1 pat_last, Hash hf = Hash(),
                              BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='boyer_moore_horspool-1'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i>
The value type of <span class='texttt'>RandomAccessIterator1</span> shall meet the <span class='texttt'>DefaultConstructible</span>, <span class='texttt'>CopyConstructible</span>, and <span class='texttt'>CopyAssignable</span> requirements.</p></div></div><div class='para' id='boyer_moore_horspool-2'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-2'>2</a></div><div class='itemdescr'><p ><i>Requires:</i>
For any two values <span class='texttt'>A</span> and <span class='texttt'>B</span> of the type <span class='texttt'>iterator_traits&lt;RandomAccessIterator1&gt;::value_type</span>,
if <span class='texttt'>pred(A,B)==true</span>, then <span class='texttt'>hf(A)==hf(B)</span> shall be true.</p></div></div><div class='para' id='boyer_moore_horspool-3'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i>
Constructs a <span class='texttt'>boyer_moore_horspool_searcher</span> object, initializing <span class='texttt'>pat_first_</span> with <span class='texttt'>pat_first</span>,
<span class='texttt'>pat_last_</span> with <span class='texttt'>pat_last</span>, <span class='texttt'>hash_</span> with <span class='texttt'>hf</span>, and <span class='texttt'>pred_</span> with <span class='texttt'>pred</span>.</p></div></div><div class='para' id='boyer_moore_horspool-4'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-4'>4</a></div><div class='itemdescr'><p ><i>Throws:</i>
Any exception thrown by the copy constructor of <span class='texttt'>RandomAccessIterator1</span>,
or by the default constructor, copy constructor, or the copy assignment operator of the value type of <span class='texttt'>RandomAccessIterator1</span>
or the copy constructor or <span class='texttt'>operator()</span> of <span class='texttt'>BinaryPredicate</span> or <span class='texttt'>Hash</span>.
May throw <span class='texttt'>bad_alloc</span> if additional memory needed for internal data structures cannot be allocated.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator()!boyer_moore_horspool_searcher'></a></span><span class='indexparent'><a class='index' id='boyer_moore_horspool_searcher!operator()'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator2&gt;
  pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
    operator()(RandomAccessIterator2 first, RandomAccessIterator2 last) const;
</code></p><div class='itemdescr'></div><div class='para' id='boyer_moore_horspool-5'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-5'>5</a></div><div class='itemdescr'><p ><i>Requires:</i>
<span class='texttt'>RandomAccessIterator1</span> and <span class='texttt'>RandomAccessIterator2</span> shall have the same value type.</p></div></div><div class='para' id='boyer_moore_horspool-6'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i>
Finds a subsequence of equal values in a sequence.</p></div></div><div class='para' id='boyer_moore_horspool-7'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-7'>7</a></div><div class='itemdescr'><p ><i>Returns:</i>
A pair of iterators <span class='texttt'>i</span> and <span class='texttt'>j</span> such that
</p><ul ><li ><p ><span class='texttt'>i</span> is the first iterator <span class='texttt'>i</span> in the range
<span class='texttt'>[first, <span class='discretionary'></span>last - (pat_last_ - pat_first_))</span> such that
for every non-negative integer <span class='texttt'>n</span> less than <span class='texttt'>pat_last_ - pat_first_</span>
the following condition holds:
<span class='texttt'>pred(*(i + n), *(pat_first_ + n)) != false</span>, and
</p></li><li ><p ><span class='texttt'>j == next(i, distance(pat_first_, pat_last_))</span>.
</p></li></ul><p >Returns <span class='texttt'>make_pair(first, first)</span> if <span class='texttt'>[pat_first_, <span class='discretionary'></span>pat_last_)</span> is empty,
otherwise returns <span class='texttt'>make_pair(last, last)</span> if no such iterator is found.</p></div></div><div class='para' id='boyer_moore_horspool-8'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool-8'>8</a></div><div class='itemdescr'><p ><i>Complexity:</i>
At most <span class='texttt'>(last - first) * (pat_last_ - pat_first_)</span> applications of the predicate.
</p></div></div><div id='boyer_moore_horspool.creation'><h4 ><a class='secnum' href='#boyer_moore_horspool.creation' style='min-width:133pt'>20.14.13.3.1</a> <span class='texttt'>boyer_moore_horspool_searcher</span> creation functions <a class='abbr_ref' href='func.searchers.boyer_moore_horspool.creation'>[func.searchers.boyer_moore_horspool.creation]</a></h4><p ><span class='indexparent'><a class='index' id='make_boyer_moore_horspool_searcher'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
  boyer_moore_horspool_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;
    make_boyer_moore_horspool_searcher(
      RandomAccessIterator pat_first, RandomAccessIterator pat_last,
      Hash hf = Hash(), BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='boyer_moore_horspool.creation-1'><div class='marginalizedparent'><a class='marginalized' href='#boyer_moore_horspool.creation-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return boyer_moore_horspool_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;(
         pat_first, pat_last, hf, pred);
</pre></div></div></div></div></div></div></body></html>