<!DOCTYPE html><html lang='en'><head><title>[class.prop]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.2</a> Properties of classes <a class='abbr_ref'>[class.prop]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L151'>#</a></div><div id='1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:class,trivially_copyable' id='def:class,trivially_copyable'><i >trivially copyable class</i></a> is a class:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div>that has at least one eligible
copy constructor, move constructor,
copy assignment operator, or
move assignment operator (<a href='special'>[special]</a>, <a href='class.copy.ctor'>[class.copy.ctor]</a>, <a href='class.copy.assign'>[class.copy.assign]</a>),</li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div>where each eligible copy constructor, move constructor, copy assignment operator,
and move assignment operator is trivial, and</li><li id='1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.3'>(1.3)</a></div>that has a trivial, non-deleted destructor (<a href='class.dtor'>[class.dtor]</a>)<a class='hidden_link' href='#1.sentence-1'>.</a></li></ul></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L163'>#</a></div><div id='2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:class,trivial' id='def:class,trivial'><i >trivial class</i></a> is a class that is trivially copyable and
has one or more eligible default constructors (<a href='class.default.ctor'>[class.default.ctor]</a>),
all of which are trivial<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'>In particular, a trivially copyable or trivial class does not have
virtual functions or virtual base classes<a class='hidden_link' href='#2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L172'>#</a></div><div id='3.sentence-1' class='sentence'>A class <span class='texttt'>S</span> is a <a class='hidden_link' href='#def:class,standard-layout' id='def:class,standard-layout'><i >standard-layout class</i></a> if it:
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div>has no non-static data members of type non-standard-layout class
(or array of such types) or reference,</li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div>has no <a href='class.virtual'>virtual functions</a> and no
<a href='class.mi'>virtual base classes</a>,</li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div>has the same <a href='class.access'>access control</a>
for all non-static data members,</li><li id='3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.4'>(3.4)</a></div>has no non-standard-layout base classes,</li><li id='3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.5'>(3.5)</a></div>has at most one base class subobject of any given type,</li><li id='3.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.6'>(3.6)</a></div>has all non-static data members and bit-fields in the class and
its base classes first declared in the same class, and</li><li id='3.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.7'>(3.7)</a></div>has no element of the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>S</span>)</span> of types
as a base class,
where for any type <span class='texttt'>X</span>, <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is defined as follows.<a class='footnotenum' href='#footnote-102' id='footnoteref-102'>102</a> <div id='3.7.note-1' class='note'>[&nbsp;<a class='note_link' href='#3.7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is the set of the types of all non-base-class subobjects
that may be at a zero offset in <span class='texttt'>X</span>. —&nbsp;<i>end note</i></div>&nbsp;]</div> <ul class='itemize'><li id='3.7.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.1'>(3.7.1)</a></div>If <span class='texttt'>X</span> is a non-union class type with no (possibly
<a href='class.derived'>inherited</a>) non-static data members, the set
<span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is empty.</li><li id='3.7.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.2'>(3.7.2)</a></div>If <span class='texttt'>X</span> is a non-union class type with a non-static data
member of type <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>
that is either of zero size or
is the first non-static data member of <span class='texttt'>X</span>
(where said member may be an anonymous union),
the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> consists of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> and the elements of
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>.</li><li id='3.7.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.3'>(3.7.3)</a></div>If <span class='texttt'>X</span> is a union type, the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is
the union of all <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> and the set containing all <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>,
where each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the type of the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> non-static data member
of <span class='texttt'>X</span>.</li><li id='3.7.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.4'>(3.7.4)</a></div>If <span class='texttt'>X</span> is an array type with element type <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span></span></span></span>,
the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> consists of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span></span></span></span>
and the elements of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>.</li><li id='3.7.5'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.5'>(3.7.5)</a></div>If <span class='texttt'>X</span> is a non-class, non-array type, the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is empty.</li></ul></li></ul></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L228'>#</a></div><div id='4.example-1' class='example'>[&nbsp;<a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>;            <span class='comment'>// standard-layout class</span>
<span class='keyword'>struct</span> C <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;               <span class='comment'>// standard-layout class</span>
<span class='keyword'>struct</span> D <span class='operator'>:</span> C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;               <span class='comment'>// standard-layout class</span>
<span class='keyword'>struct</span> E <span class='operator'>:</span> D <span class='curlybracket'>{</span> <span class='keyword'>char</span> <span class='operator'>:</span> <span class='literal'>4</span>; <span class='curlybracket'>}</span>;     <span class='comment'>// not a standard-layout class</span>

<span class='keyword'>struct</span> Q <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> S <span class='operator'>:</span> Q <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> T <span class='operator'>:</span> Q <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> U <span class='operator'>:</span> S, T <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;            <span class='comment'>// not a standard-layout class</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L243'>#</a></div><div id='5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:struct,standard-layout' id='def:struct,standard-layout'><i >standard-layout struct</i></a> is a standard-layout class
defined with the <a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> <span class='texttt'><span class='keyword'>struct</span></span> or the
<a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> <span class='texttt'><span class='keyword'>class</span></span><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:union,standard-layout' id='def:union,standard-layout'><i >standard-layout union</i></a> is a standard-layout class
defined with the
<a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> <span class='texttt'><span class='keyword'>union</span></span><a class='hidden_link' href='#5.sentence-2'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L251'>#</a></div><div id='6.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'>Standard-layout classes are useful for communicating with
code written in other programming languages<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Their layout is specified
in <a href='class.mem'>[class.mem]</a><a class='hidden_link' href='#6.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L258'>#</a></div><div id='7.example-1' class='example'>[&nbsp;<a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> N <span class='curlybracket'>{</span>          <span class='comment'>// neither trivial nor standard-layout</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> j;
  <span class='keyword'>virtual</span> <span class='operator'>~</span>N<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> T <span class='curlybracket'>{</span>          <span class='comment'>// trivial but not standard-layout</span>
  <span class='keyword'>int</span> i;
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> j;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> SL <span class='curlybracket'>{</span>         <span class='comment'>// standard-layout but not trivial</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> j;
  <span class='operator'>~</span>SL<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> POD <span class='curlybracket'>{</span>        <span class='comment'>// both trivial and standard-layout</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> j;
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L286'>#</a></div><div id='8.note-1' class='note'>[&nbsp;<a class='note_link' href='#8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='8.sentence-1' class='sentence'>Aggregates of class type are described in <a href='dcl.init.aggr'>[dcl.init.aggr]</a><a class='hidden_link' href='#8.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0958eadbf361605099a5882737a689708f64118e/source/classes.tex#L291'>#</a></div><div id='9.sentence-1' class='sentence'>A class <span class='texttt'>S</span> is an <a class='hidden_link' href='#def:class,implicit-lifetime' id='def:class,implicit-lifetime'><i >implicit-lifetime class</i></a>
if it is an aggregate or
has at least one trivial eligible constructor and
a trivial, non-deleted destructor<a class='hidden_link' href='#9.sentence-1'>.</a></div></div><div class='footnote' id='footnote-102'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-102'>102)</a></div><div id='footnote-102.sentence-1' class='sentence'>This ensures that two subobjects that have the same class type and that
belong to the same most derived object are not allocated at the same
address (<a href='expr.eq'>[expr.eq]</a>)<a class='hidden_link' href='#footnote-102.sentence-1'>.</a></div> <a href='#footnoteref-102'>⮥</a></div></div></body></html>