<!DOCTYPE html><html lang='en'><head><title>[class.prop]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>10</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>10.1</a> Properties of classes <a class='abbr_ref'>[class.prop]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/classes.tex#L145'>#</a></div><div id='1.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':class,trivially_copyable'></a></span><span class='textit'>trivially copyable class</span> is a class:</div><div id='1.sentence-2' class='sentence'><ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div><div id='1.1.sentence-1' class='sentence'>where each copy constructor, move constructor, copy assignment operator,
and move assignment operator (<a href='class.copy.ctor'>[class.copy.ctor]</a>, <a href='class.copy.assign'>[class.copy.assign]</a>)
is either deleted or trivial,</div></li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div><div id='1.2.sentence-1' class='sentence'>that has at least one non-deleted copy constructor, move constructor,
copy assignment operator, or move assignment operator, and</div></li><li id='1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.3'>(1.3)</a></div><div id='1.3.sentence-1' class='sentence'>that has a trivial, non-deleted <a href='class.dtor'>destructor</a><a class='hidden_link' href='#1.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/classes.tex#L157'>#</a></div><div id='2.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':class,trivial'></a></span><span class='textit'>trivial class</span> is a class that is trivially copyable and
has one or more default constructors (<a href='class.default.ctor'>[class.default.ctor]</a>),
all of which are either trivial or deleted and
at least one of which is not deleted<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'>In particular, a trivially copyable or trivial class does not have
virtual functions or virtual base classes<a class='hidden_link' href='#2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/classes.tex#L165'>#</a></div><div id='3.sentence-1' class='sentence'>A class <span class='texttt'>S</span> is a <span class='indexparent'><a class='index' id=':class,standard-layout'></a></span><span class='textit'>standard-layout class</span> if it:
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><div id='3.1.sentence-1' class='sentence'>has no non-static data members of type non-standard-layout class
(or array of such types) or reference,</div></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><div id='3.2.sentence-1' class='sentence'>has no <a href='class.virtual'>virtual functions</a> and no
<a href='class.mi'>virtual base classes</a>,</div></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><div id='3.3.sentence-1' class='sentence'>has the same <a href='class.access'>access control</a>
for all non-static data members,</div></li><li id='3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.4'>(3.4)</a></div><div id='3.4.sentence-1' class='sentence'>has no non-standard-layout base classes,</div></li><li id='3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.5'>(3.5)</a></div><div id='3.5.sentence-1' class='sentence'>has at most one base class subobject of any given type,</div></li><li id='3.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.6'>(3.6)</a></div><div id='3.6.sentence-1' class='sentence'>has all non-static data members and bit-fields in the class and
its base classes first declared in the same class, and</div></li><li id='3.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.7'>(3.7)</a></div><div id='3.7.sentence-1' class='sentence'>has no element of the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>S</span>)</span> of types
as a base class,
where for any type <span class='texttt'>X</span>, <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is defined as follows<a class='hidden_link' href='#3.7.sentence-1'>.</a><a class='footnotenum' href='#footnote-107'>107</a></div> <div id='3.7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#3.7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.7.sentence-2' class='sentence'><span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is the set of the types of all non-base-class subobjects
that may be at a zero offset in <span class='texttt'>X</span><a class='hidden_link' href='#3.7.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='3.7.sentence-3' class='sentence'><ul class='itemize'><li id='3.7.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.1'>(3.7.1)</a></div><div id='3.7.1.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a non-union class type with no (possibly
<a href='class.derived'>inherited</a>) non-static data members, the set
<span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is empty<a class='hidden_link' href='#3.7.1.sentence-1'>.</a></div></li><li id='3.7.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.2'>(3.7.2)</a></div><div id='3.7.2.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a non-union class type with a non-static data
member of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{X}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>
that is either of zero size or
is the first non-static data member of <span class='texttt'>X</span>
(where said member may be an anonymous union),
the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> consists of <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{X}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> and the elements of
<span class="mjx-chtml"><span class="mjx-math" aria-label="M(\mathtt{X}_0)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span><a class='hidden_link' href='#3.7.2.sentence-1'>.</a></div></li><li id='3.7.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.3'>(3.7.3)</a></div><div id='3.7.3.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a union type, the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is
the union of all <span class="mjx-chtml"><span class="mjx-math" aria-label="M(\mathtt{U}_i)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> and the set containing all <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{U}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>,
where each <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{U}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the type of the <span class="mjx-chtml"><span class="mjx-math" aria-label="i^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> non-static data member
of <span class='texttt'>X</span><a class='hidden_link' href='#3.7.3.sentence-1'>.</a></div></li><li id='3.7.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.4'>(3.7.4)</a></div><div id='3.7.4.sentence-1' class='sentence'>If <span class='texttt'>X</span> is an array type with element type <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{X}_e"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span></span></span></span>,
the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> consists of <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{X}_e"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span></span></span></span>
and the elements of <span class="mjx-chtml"><span class="mjx-math" aria-label="M(\mathtt{X}_e)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span><a class='hidden_link' href='#3.7.4.sentence-1'>.</a></div></li><li id='3.7.5'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#3.7.5'>(3.7.5)</a></div><div id='3.7.5.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a non-class, non-array type, the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is empty<a class='hidden_link' href='#3.7.5.sentence-1'>.</a></div></li></ul></div></li></ul></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/classes.tex#L219'>#</a></div><div id='4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
   struct B { int i; };         <span class='comment'>// standard-layout class
</span>   struct C : B { };            <span class='comment'>// standard-layout class
</span>   struct D : C { };            <span class='comment'>// standard-layout class
</span>   struct E : D { char : 4; };  <span class='comment'>// not a standard-layout class
</span>
   struct Q {};
   struct S : Q { };
   struct T : Q { };
   struct U : S, T { };         <span class='comment'>// not a standard-layout class
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/classes.tex#L234'>#</a></div><div id='5.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':struct,standard-layout'></a></span><span class='textit'>standard-layout struct</span> is a standard-layout class
defined with the <i ><a href='class#nt:class-key'>class-key</a></i> <span class='texttt'>struct</span> or the
<i ><a href='class#nt:class-key'>class-key</a></i> <span class='texttt'>class</span><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>A <span class='indexparent'><a class='index' id=':union,standard-layout'></a></span><span class='textit'>standard-layout union</span> is a standard-layout class
defined with the
<i ><a href='class#nt:class-key'>class-key</a></i> <span class='texttt'>union</span><a class='hidden_link' href='#5.sentence-2'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/classes.tex#L242'>#</a></div><div id='6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'>Standard-layout classes are useful for communicating with
code written in other programming languages<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Their layout is specified
in <a href='class.mem'>[class.mem]</a><a class='hidden_link' href='#6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/classes.tex#L247'>#</a></div><div id='7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct N {          <span class='comment'>// neither trivial nor standard-layout
</span>  int i;
  int j;
  virtual ~N();
};

struct T {          <span class='comment'>// trivial but not standard-layout
</span>  int i;
private:
  int j;
};

struct SL {         <span class='comment'>// standard-layout but not trivial
</span>  int i;
  int j;
  ~SL();
};

struct POD {        <span class='comment'>// both trivial and standard-layout
</span>  int i;
  int j;
};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-107'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-107'>107)</a></div><div id='footnote-107.sentence-1' class='sentence'>This ensures that two subobjects that have the same class type and that
belong to the same most derived object are not allocated at the same
address (<a href='expr.eq'>[expr.eq]</a>)<a class='hidden_link' href='#footnote-107.sentence-1'>.</a></div></div></div></body></html>