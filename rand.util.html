<!DOCTYPE html><html lang='en'><head><title>[rand.util]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>26</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>26.6</a> Random number generation <a class='abbr_ref' href='rand#util'>[rand]</a></h2><div id='rand.util'><h3 ><a class='secnum' style='min-width:103pt'>26.6.7</a> Utilities <a class='abbr_ref'>[rand.util]</a></h3><p ><span class='indexparent'><a class='index' id='random_number_generation,utilities'></a></span>

</p><div id='seedseq'><h4 ><a class='secnum' href='#seedseq' style='min-width:118pt'>26.6.7.1</a> Class <span class='texttt'>seed_seq</span> <a class='abbr_ref' href='rand.util.seedseq'>[rand.util.seedseq]</a></h4><p ><span class='indexparent'><a class='index' id='seed_seq'></a></span></p><pre class='codeblock'>
class seed_seq{
public:
 <span class='comment'>// types
</span> using result_type = uint_least32_t;

 <span class='comment'>// constructors
</span> seed_seq();
 template&lt;class T&gt;
   seed_seq(initializer_list&lt;T&gt; il);
 template&lt;class InputIterator&gt;
   seed_seq(InputIterator begin, InputIterator end);

 <span class='comment'>// generating functions
</span> template&lt;class RandomAccessIterator&gt;
   void generate(RandomAccessIterator begin, RandomAccessIterator end);

 <span class='comment'>// property functions
</span> size_t size() const noexcept;
 template&lt;class OutputIterator&gt;
   void param(OutputIterator dest) const;

 <span class='comment'>// no copy functions
</span> seed_seq(const seed_seq&amp; ) = delete;
 void operator=(const seed_seq&amp; ) = delete;

private:
 vector&lt;result_type&gt; v;   <span class='comment'>// <i>exposition only</i>
</span>};
</pre><p ><span class='indexparent'><a class='index' id='seed_seq,constructor'></a></span><code class='itemdecl'>
seed_seq();
</code></p><div class='itemdescr'></div><div class='para' id='seedseq-1'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs a <span class='texttt'>seed_seq</span> object
 as if by default-constructing its member <span class='texttt'>v</span>.</p></div></div><div class='para' id='seedseq-2'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-2'>2</a></div><div class='itemdescr'><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='seed_seq,constructor'></a></span><code class='itemdecl'>
template&lt;class T&gt;
 seed_seq(initializer_list&lt;T&gt; il);
</code></p><div class='itemdescr'></div><div class='para' id='seedseq-3'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-3'>3</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>T</span> shall be an integer type.</p></div></div><div class='para' id='seedseq-4'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i>
 Same as <span class='texttt'>seed_seq(il.begin(), il.end())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='seed_seq,constructor'></a></span><code class='itemdecl'>
template&lt;class InputIterator&gt;
  seed_seq(InputIterator begin, InputIterator end);
</code></p><div class='itemdescr'></div><div class='para' id='seedseq-5'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-5'>5</a></div><div class='itemdescr'><p ><i>Requires:</i>
  <span class='texttt'>InputIterator</span> shall satisfy the requirements
  of an input iterator (Table <a href='input.iterators#tab:iterator.input.requirements'>[tab:iterator.input.requirements]</a>) type.
  Moreover,
  <span class='texttt'>iterator_traits&lt;InputIterator&gt;::value_type</span>
  shall denote an integer type.</p></div></div><div class='para' id='seedseq-6'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs a <span class='texttt'>seed_seq</span> object
 by the following algorithm:
</p><pre class='codeblock'>
for( InputIterator s = begin; s != end; ++s)
 v.push_back((*s)<span class='math'><span class="mathrm">mod</span> 2<sup >32</sup></span>);
</pre></div></div><p ><span class='indexparent'><a class='index' id='generate,seed_seq'></a></span><span class='indexparent'><a class='index' id='seed_seq,generate'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  void generate(RandomAccessIterator begin, RandomAccessIterator end);
</code></p><div class='itemdescr'></div><div class='para' id='seedseq-7'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-7'>7</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>RandomAccessIterator</span>
  shall meet the requirements of a mutable random access iterator
  (Table <a href='random.access.iterators#tab:iterator.random.access.requirements'>[tab:iterator.random.access.requirements]</a>) type.
  Moreover,
  <span class='texttt'>iterator_traits&lt;RandomAccessIterator&gt;::value_type</span>
  shall denote an unsigned integer type
  capable of accommodating 32-bit quantities.</p></div></div><div class='para' id='seedseq-8'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-8'>8</a></div><div class='itemdescr'><p ><i>Effects:</i>
 Does nothing if <span class='texttt'>begin == end</span>.
 Otherwise,
 with <span class='math'> <span class='mathalpha'>s</span> = <span class='texttt'>v.size()</span> </span>
 and  <span class='math'> <span class='mathalpha'>n</span> = <span class='texttt'>end</span> - <span class='texttt'>begin</span> </span>,
 fills the supplied range <span class='math'>[<span class='texttt'>begin</span>,<span class='texttt'>end</span>)</span>
 according to the following algorithm
 in which
 each operation is to be carried out modulo <span class='math'>2<sup >32</sup></span>,
 each indexing operator applied to <span class='texttt'>begin</span> is to be taken modulo <span class='math'><span class='mathalpha'>n</span></span>,
 and <span class='math'><span class='mathalpha'>T</span>(<span class='mathalpha'>x</span>)</span> is defined as <span class='math'> <span class='mathalpha'>x</span> &nbsp; <span class='math'>&nbsp; <span class='mathsf'>xor</span> &nbsp;</span> &nbsp; (<span class='mathalpha'>x</span> &nbsp; <span class='math'>&nbsp; <span class='mathsf'>rshift</span> &nbsp;</span> &nbsp; 27)</span>:</p><ol class='enumeratea'><li id='seedseq-8.1'><p >By way of initialization,
   set each element of the range to the value <span class='texttt'>0x8b8b8b8b</span>.
   Additionally,
   for use in subsequent steps,
   let <span class='math'><span class='mathalpha'>p</span> = (<span class='mathalpha'>n</span> - <span class='mathalpha'>t</span>) / 2</span>
   and let <span class='math'><span class='mathalpha'>q</span> = <span class='mathalpha'>p</span> + <span class='mathalpha'>t</span></span>,
   where
   <span class='mathblock'>     <span class='mathalpha'>t</span> = (<span class='mathalpha'>n</span> ≥ 623) <span class='mbox'> ? </span> 11 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> ≥ 68) <span class='mbox'> ? </span> 7 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> ≥ 39) <span class='mbox'> ? </span> 5 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> ≥ 7) <span class='mbox'> ? </span> 3 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> - 1)/2;
   </span> </p></li><li id='seedseq-8.2'><p >With <span class='math'><span class='mathalpha'>m</span></span> as the larger of <span class='math'><span class='mathalpha'>s</span> + 1</span> and <span class='math'><span class='mathalpha'>n</span></span>,
   transform the elements of the range:
   iteratively for <span class='math'> <span class='mathalpha'>k</span> = 0, &hellip;, <span class='mathalpha'>m</span>-1 </span>,
   calculate values
   <img src='math/5460180720864397012.png' class='mathblockimg' alt='\begin{eqnarray*}
     r_1 &amp; = &amp;
       1664525 \cdot \texttt{T}\left(     \texttt{begin[}k\texttt{]}
                                    \ensuremath{\, \mathsf{xor} \,} \texttt{begin[}k+p\texttt{]}
                                    \ensuremath{\, \mathsf{xor} \,} \texttt{begin[}k-1 \texttt{]}
                               \right)
     \\
     r_2 &amp; = &amp; r_1 + \left\{
       \begin{array}{cl}
         s                                  &amp; \mbox{,  } k = 0
         \\
         k \bmod n + \texttt{v[}k-1\texttt{]} &amp; \mbox{,  } 0 < k \le s
         \\
         k \bmod n                          &amp; \mbox{,  } s < k
       \end{array}
     \right.
   \end{eqnarray*}'/>
   and, in order,
   increment <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>p</span><span class='texttt'>]</span></span> by <span class='math'><span class='mathalpha'>r</span><sub >1</sub></span>,
   increment <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>q</span><span class='texttt'>]</span></span> by <span class='math'><span class='mathalpha'>r</span><sub >2</sub></span>,
   and
   set <span class='texttt'>begin[k]</span> to <span class='math'><span class='mathalpha'>r</span><sub >2</sub></span>.
 </p></li><li id='seedseq-8.3'><p >Transform the elements of the range again,
   beginning where the previous step ended:
   iteratively for <span class='math'> <span class='mathalpha'>k</span> = <span class='mathalpha'>m</span>, &hellip;, <span class='mathalpha'>m</span>+<span class='mathalpha'>n</span>-1 </span>,
   calculate values
   <img src='math/5265029910326981193.png' class='mathblockimg' alt='\begin{eqnarray*}
     r_3 &amp; = &amp;
       1566083941 \cdot \texttt{T}\left( \texttt{begin[}k  \texttt{]}
                                      + \texttt{begin[}k+p\texttt{]}
                                      + \texttt{begin[}k-1\texttt{]}
                                 \right)
     \\
     r_4 &amp; = &amp; r_3 - (k \bmod n)
   \end{eqnarray*}'/>
   and, in order,
   
   update <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>p</span><span class='texttt'>]</span></span> by xoring it with <span class='math'><span class='mathalpha'>r</span><sub >3</sub></span>,
   update <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>q</span><span class='texttt'>]</span></span> by xoring it with <span class='math'><span class='mathalpha'>r</span><sub >4</sub></span>,
   and
   set <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span><span class='texttt'>]</span></span> to <span class='math'><span class='mathalpha'>r</span><sub >4</sub></span>.
</p></li></ol></div></div><div class='para' id='seedseq-9'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-9'>9</a></div><div class='itemdescr'><p ><i>Throws:</i>
What and when <span class='texttt'>RandomAccessIterator</span> operations of <span class='texttt'>begin</span>
and <span class='texttt'>end</span> throw.
</p></div></div><p ><span class='indexparent'><a class='index' id='size,seed_seq'></a></span><span class='indexparent'><a class='index' id='seed_seq,size'></a></span><code class='itemdecl'>
size_t size() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='seedseq-10'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-10'>10</a></div><div class='itemdescr'><p ><i>Returns:</i> The number of 32-bit units
 that would be returned
 by a call to <span class='texttt'>param()</span>.</p></div></div><div class='para' id='seedseq-11'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-11'>11</a></div><div class='itemdescr'><p ><i>Complexity:</i> Constant time.
</p></div></div><p ><span class='indexparent'><a class='index' id='param,seed_seq'></a></span><span class='indexparent'><a class='index' id='seed_seq,param'></a></span><code class='itemdecl'>
template&lt;class OutputIterator&gt;
  void param(OutputIterator dest) const;
</code></p><div class='itemdescr'></div><div class='para' id='seedseq-12'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-12'>12</a></div><div class='itemdescr'><p ><i>Requires:</i>
  <span class='texttt'>OutputIterator</span> shall satisfy the requirements
  of an output iterator (Table <a href='output.iterators#tab:iterator.output.requirements'>[tab:iterator.output.requirements]</a>) type.
  Moreover,
  the expression
  <span class='texttt'>*dest = rt</span>
  shall be valid for a value <span class='texttt'>rt</span> of type <span class='texttt'>result_type</span>.</p></div></div><div class='para' id='seedseq-13'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-13'>13</a></div><div class='itemdescr'><p ><i>Effects:</i> Copies the sequence of prepared 32-bit units
 to the given destination,
 as if by executing the following statement:
</p><pre class='codeblock'>
copy(v.begin(), v.end(), dest);
</pre></div></div><div class='para' id='seedseq-14'><div class='marginalizedparent'><a class='marginalized' href='#seedseq-14'>14</a></div><div class='itemdescr'><p ><i>Throws:</i>
What and when <span class='texttt'>OutputIterator</span> operations of <span class='texttt'>dest</span> throw.
</p></div></div></div><div id='canonical'><h4 ><a class='secnum' href='#canonical' style='min-width:118pt'>26.6.7.2</a> Function template <span class='texttt'>generate_canonical</span> <a class='abbr_ref' href='rand.util.canonical'>[rand.util.canonical]</a></h4><p ><span class='indexparent'><a class='index' id='generate_canonical'></a></span>
</p><div class='para' id='canonical-1'><div class='marginalizedparent'><a class='marginalized' href='#canonical-1'>1</a></div><p >Each function instantiated
 from the template
 described in this section <a href='rand.util.canonical'>[rand.util.canonical]</a>
 maps the result of one or more invocations
 of a supplied uniform random bit generator <span class='texttt'>g</span>
 to one member
 of the specified <span class='texttt'>RealType</span>
 such that,
 if the values <span class='math'><span class='mathalpha'>g</span><sub ><span class='mathalpha'>i</span></sub></span>
 produced by <span class='texttt'>g</span>
 are uniformly distributed,
 the instantiation's results
 <span class='math'><span class='mathalpha'>t</span><sub ><span class='mathalpha'>j</span></sub></span>, <span class='math'> 0 ≤ <span class='mathalpha'>t</span><sub ><span class='mathalpha'>j</span></sub> &lt; 1 </span>,
 are distributed as uniformly as possible
 as specified below.</p></div><div class='para' id='canonical-2'><div class='marginalizedparent'><a class='marginalized' href='#canonical-2'>2</a></div><p >[&nbsp;<i>Note:</i><span class='space'></span>
 Obtaining a value in this way
 can be a useful step
 in the process of transforming
 a value generated by a uniform random bit generator
 into a value
 that can be delivered by a random number distribution.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p><p ><span class='indexparent'><a class='index' id='generate_canonical'></a></span><code class='itemdecl'>
template&lt;class RealType, size_t bits, class URBG&gt;
 RealType generate_canonical(URBG&amp; g);
</code></p></div><div class='itemdescr'></div><div class='para' id='canonical-3'><div class='marginalizedparent'><a class='marginalized' href='#canonical-3'>3</a></div><div class='itemdescr'><p ><i>Complexity:</i> Exactly
 <span class='math'> <span class='mathalpha'>k</span> = <span class="mathrm">max</span>(1, <span class='left'></span>⌈ <span class='mathalpha'>b</span> / <span class="mathrm">log</span><sub >2</sub> <span class='mathalpha'>R</span> <span class='right'></span>⌉)</span>
 invocations
 of <span class='texttt'>g</span>,
 where <span class='math'><span class='mathalpha'>b</span></span><a class='footnotenum' href='#footnote-274'>274</a>
   is the lesser of <span class='texttt'>numeric_limits&lt;RealType&gt;<span class='discretionary'></span>::<span class='discretionary'></span>digits</span>
                and <span class='texttt'>bits</span>,
 and
   <span class='math'><span class='mathalpha'>R</span></span> is the value of <span class='math'> <span class='texttt'>g.max()</span> - <span class='texttt'>g.min()</span> + 1 </span>.</p></div></div><div class='para' id='canonical-4'><div class='marginalizedparent'><a class='marginalized' href='#canonical-4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i>
 Invokes <span class='texttt'>g()</span> <span class='math'><span class='mathalpha'>k</span></span> times
 to obtain values <span class='math'> <span class='mathalpha'>g</span><sub >0</sub>, &hellip;, <span class='mathalpha'>g</span><sub ><span class='mathalpha'>k</span>-1</sub> </span>, respectively.
 Calculates a quantity
 <img src='math/1815020361946892378.png' class='mathblockimg' alt='\[
   S = \sum_{i=0}^{k-1} (g_i - \texttt{g.min()})
                        \cdot R^i
 \]'/>
 using arithmetic of type
 <span class='texttt'>RealType</span>.</p></div></div><div class='para' id='canonical-5'><div class='marginalizedparent'><a class='marginalized' href='#canonical-5'>5</a></div><div class='itemdescr'><p ><i>Returns:</i>
 <span class='math'> <span class='mathalpha'>S</span> / <span class='mathalpha'>R</span><sup ><span class='mathalpha'>k</span></sup> </span>.</p></div></div><div class='para' id='canonical-6'><div class='marginalizedparent'><a class='marginalized' href='#canonical-6'>6</a></div><div class='itemdescr'><p ><i>Throws:</i> What and when <span class='texttt'>g</span> throws.
</p></div></div><p ><span class='indexparent'><a class='index' id='random_number_generation,utilities'></a></span></p><div class='footnote' id='footnote-274'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-274'>274)</a></div><p ><span class='math'><span class='mathalpha'>b</span></span> is introduced
   to avoid any attempt
   to produce more bits of randomness
   than can be held in <span class='texttt'>RealType</span>.</p></div></div></div></div></body></html>