<!DOCTYPE html><html lang='en'><head><title>[iostream.forward]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>27</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><div id='iostream.forward'><h2 ><a class='secnum' style='min-width:88pt'>27.3</a> Forward declarations <a class='abbr_ref'>[iostream.forward]</a></h2><p ><b>Header <span class='texttt'>&lt;iosfwd&gt;</span> synopsis</b>
<span class='indexparent'><a class='index' id='iosfwd'></a></span>
<span class='indexparent'><a class='index' id='basic_ios'></a></span><span class='indexparent'><a class='index' id='basic_streambuf'></a></span><span class='indexparent'><a class='index' id='basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_ostream'></a></span><span class='indexparent'><a class='index' id='basic_stringbuf'></a></span><span class='indexparent'><a class='index' id='basic_istringstream'></a></span><span class='indexparent'><a class='index' id='basic_ostringstream'></a></span><span class='indexparent'><a class='index' id='basic_stringstream'></a></span><span class='indexparent'><a class='index' id='basic_filebuf'></a></span><span class='indexparent'><a class='index' id='basic_ifstream'></a></span><span class='indexparent'><a class='index' id='basic_ofstream'></a></span><span class='indexparent'><a class='index' id='basic_fstream'></a></span><span class='indexparent'><a class='index' id='basic_istreambuf_iterator'></a></span><span class='indexparent'><a class='index' id='basic_ostreambuf_iterator'></a></span><span class='indexparent'><a class='index' id='ios'></a></span><span class='indexparent'><a class='index' id='streambuf'></a></span><span class='indexparent'><a class='index' id='istream'></a></span><span class='indexparent'><a class='index' id='ostream'></a></span><span class='indexparent'><a class='index' id='stringbuf'></a></span><span class='indexparent'><a class='index' id='istringstream'></a></span><span class='indexparent'><a class='index' id='ostringstream'></a></span><span class='indexparent'><a class='index' id='stringstream'></a></span><span class='indexparent'><a class='index' id='filebuf'></a></span><span class='indexparent'><a class='index' id='ifstream'></a></span><span class='indexparent'><a class='index' id='ofstream'></a></span><span class='indexparent'><a class='index' id='fstream'></a></span><span class='indexparent'><a class='index' id='wstreambuf'></a></span><span class='indexparent'><a class='index' id='wistream'></a></span><span class='indexparent'><a class='index' id='wostream'></a></span><span class='indexparent'><a class='index' id='wstringbuf'></a></span><span class='indexparent'><a class='index' id='wistringstream'></a></span><span class='indexparent'><a class='index' id='wostringstream'></a></span><span class='indexparent'><a class='index' id='wstringstream'></a></span><span class='indexparent'><a class='index' id='wfilebuf'></a></span><span class='indexparent'><a class='index' id='wifstream'></a></span><span class='indexparent'><a class='index' id='wofstream'></a></span><span class='indexparent'><a class='index' id='wfstream'></a></span></p><pre class='codeblock'>
namespace std {
  template&lt;class charT&gt; class char_traits;
  template&lt;&gt; class char_traits&lt;char&gt;;
  template&lt;&gt; class char_traits&lt;char16_t&gt;;
  template&lt;&gt; class char_traits&lt;char32_t&gt;;
  template&lt;&gt; class char_traits&lt;wchar_t&gt;;

  template&lt;class T&gt; class allocator;

  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_ios;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_streambuf;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_istream;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_ostream;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_iostream;

  template &lt;class charT, class traits = char_traits&lt;charT&gt;,
      class Allocator = allocator&lt;charT&gt; &gt;
    class basic_stringbuf;
  template &lt;class charT, class traits = char_traits&lt;charT&gt;,
      class Allocator = allocator&lt;charT&gt; &gt;
    class basic_istringstream;
  template &lt;class charT, class traits = char_traits&lt;charT&gt;,
      class Allocator = allocator&lt;charT&gt; &gt;
    class basic_ostringstream;
  template &lt;class charT, class traits = char_traits&lt;charT&gt;,
      class Allocator = allocator&lt;charT&gt; &gt;
    class basic_stringstream;

  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_filebuf;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_ifstream;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_ofstream;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class basic_fstream;

  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class istreambuf_iterator;
  template &lt;class charT, class traits = char_traits&lt;charT&gt; &gt;
    class ostreambuf_iterator;

  typedef basic_ios&lt;char&gt;       ios;
  typedef basic_ios&lt;wchar_t&gt;    wios;

  typedef basic_streambuf&lt;char&gt; streambuf;
  typedef basic_istream&lt;char&gt;   istream;
  typedef basic_ostream&lt;char&gt;   ostream;
  typedef basic_iostream&lt;char&gt;  iostream;

  typedef basic_stringbuf&lt;char&gt;     stringbuf;
  typedef basic_istringstream&lt;char&gt; istringstream;
  typedef basic_ostringstream&lt;char&gt; ostringstream;
  typedef basic_stringstream&lt;char&gt;  stringstream;

  typedef basic_filebuf&lt;char&gt;  filebuf;
  typedef basic_ifstream&lt;char&gt; ifstream;
  typedef basic_ofstream&lt;char&gt; ofstream;
  typedef basic_fstream&lt;char&gt;  fstream;

  typedef basic_streambuf&lt;wchar_t&gt; wstreambuf;
  typedef basic_istream&lt;wchar_t&gt;   wistream;
  typedef basic_ostream&lt;wchar_t&gt;   wostream;
  typedef basic_iostream&lt;wchar_t&gt;  wiostream;

  typedef basic_stringbuf&lt;wchar_t&gt;     wstringbuf;
  typedef basic_istringstream&lt;wchar_t&gt; wistringstream;
  typedef basic_ostringstream&lt;wchar_t&gt; wostringstream;
  typedef basic_stringstream&lt;wchar_t&gt;  wstringstream;

  typedef basic_filebuf&lt;wchar_t&gt;  wfilebuf;
  typedef basic_ifstream&lt;wchar_t&gt; wifstream;
  typedef basic_ofstream&lt;wchar_t&gt; wofstream;
  typedef basic_fstream&lt;wchar_t&gt;  wfstream;

  template &lt;class state&gt; class fpos;
  typedef fpos&lt;char_traits&lt;char&gt;::state_type&gt;    streampos;
  typedef fpos&lt;char_traits&lt;wchar_t&gt;::state_type&gt; wstreampos;
}
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >Default template arguments are described as appearing both in
<span class='texttt'>&lt;iosfwd&gt;</span>
and in the synopsis of other headers
but it is well-formed to include both
<span class='texttt'>&lt;iosfwd&gt;</span>
and one or more of the other headers.<a class='footnotenum' href='#footnote-294'>294</a></p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >[&nbsp;<i>Note:</i>
The
class template specialization
<span class='texttt'>basic_ios&lt;charT,traits&gt;</span>
serves as a virtual base class for the
class templates
<span class='texttt'>basic_istream</span>,
<span class='texttt'>basic_ostream</span>,
and
class templates
derived from them.
<span class='texttt'>basic_iostream</span>
is a class
template
derived from both
<span class='texttt'>basic_istream&lt;charT,traits&gt;</span>
and
<span class='texttt'>basic_ostream&lt;charT,traits&gt;</span>.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >The
class template specialization
<span class='texttt'>basic_streambuf&lt;charT,traits&gt;</span>
serves as a base class for class templates
<span class='texttt'>basic_stringbuf</span>
and
<span class='texttt'>basic_filebuf</span>.</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >The
class template specialization
<span class='texttt'>basic_istream&lt;charT,traits&gt;</span>
serves as a base class for class templates
<span class='texttt'>basic_istringstream</span>
and
<span class='texttt'>basic_ifstream</span>.</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><p >The
class template specialization
<span class='texttt'>basic_ostream&lt;charT,traits&gt;</span>
serves as a base class for class templates
<span class='texttt'>basic_ostringstream</span>
and
<span class='texttt'>basic_ofstream</span>.</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><p >The
class template specialization
<span class='texttt'>basic_iostream&lt;charT,traits&gt;</span>
serves as a base class for class templates
<span class='texttt'>basic_stringstream</span>
and
<span class='texttt'>basic_fstream</span>.</p></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><p >Other typedefs define instances of
class templates
specialized for
<span class='texttt'>char</span>
or
<span class='texttt'>wchar_t</span>
types.</p></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><p >Specializations of the class template
<span class='texttt'>fpos</span>
are
used for specifying file position information.</p></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><p >The types
<span class='texttt'>streampos</span>
and
<span class='texttt'>wstreampos</span>
are used for positioning streams specialized on
<span class='texttt'>char</span>
and
<span class='texttt'>wchar_t</span>
respectively.</p></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><p >This synopsis suggests a circularity between
<span class='texttt'>streampos</span>
and
<span class='texttt'>char_traits&lt;char&gt;</span>.
An implementation can avoid this circularity by substituting equivalent
types.
One way to do this might be
</p><pre class='codeblock'>
template&lt;class stateT&gt; class fpos { ... };      <span class='comment'>// depends on nothing
</span>typedef ... _STATE;             <span class='comment'>// implementation private declaration of <span class='texttt'>stateT</span>
</span>
typedef fpos&lt;_STATE&gt; streampos;

template&lt;&gt; struct char_traits&lt;char&gt; {
  typedef streampos
  pos_type;
}
</pre><p ><i>&nbsp;â€”&nbsp;end note</i>&nbsp;]</p></div><div class='footnote' id='footnote-293'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-293'>293)</a></div><p >It is the implementation's
responsibility to implement headers so
that including
<span class='texttt'>&lt;iosfwd&gt;</span>
and other headers does not violate the rules about
multiple occurrences of default arguments.</p></div></div></div></body></html>