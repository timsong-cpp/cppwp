<!DOCTYPE html><html lang='en'><head><title>[algorithms.parallel]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>26</a> Algorithms library <a class='abbr_ref' href='./#algorithms'>[algorithms]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>26.3</a> Parallel algorithms <a class='abbr_ref'>[algorithms.parallel]</a></h2><div id='defns' class='section'><h3 ><a class='secnum' href='#defns' style='min-width:80pt'>26.3.1</a> Preamble <a class='abbr_ref' href='algorithms.parallel.defns'>[algorithms.parallel.defns]</a></h3><div class='para' id='defns-1'><div class='marginalizedparent'><a class='marginalized' href='#defns-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L269'>#</a></div><div class='texpara'><div id='defns-1.sentence-1' class='sentence'>Subclause [algorithms.<span class='shy'></span>parallel] describes components that C++ programs may use
to perform operations on containers and other sequences in parallel<a class='hidden_link' href='#defns-1.sentence-1'>.</a></div></div></div><div class='para' id='defns-2'><div class='marginalizedparent'><a class='marginalized' href='#defns-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L273'>#</a></div><div class='texpara'><div id='defns-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:parallel_algorithm' title='26.3.1&emsp;Preamble&emsp;[algorithms.parallel.defns]'><span id='def:parallel_algorithm'><i >parallel algorithm</i></span></a> is a function template listed in this document
with a template parameter named <span class='texttt'>ExecutionPolicy</span><a class='hidden_link' href='#defns-2.sentence-1'>.</a></div></div></div><div class='para' id='defns-3'><div class='marginalizedparent'><a class='marginalized' href='#defns-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L277'>#</a></div><div class='texpara'><div id='defns-3.sentence-1' class='sentence'>Parallel algorithms access objects indirectly accessible via their arguments
by invoking the following functions:
<ul class='itemize'><li id='defns-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#defns-3.1'>(3.1)</a></div><div class='texpara'><div id='defns-3.1.sentence-1' class='sentence'>All operations of the categories of the iterators or <span class='texttt'>mdspan</span> types
  that the algorithm is instantiated with<a class='hidden_link' href='#defns-3.1.sentence-1'>.</a></div></div></li><li id='defns-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#defns-3.2'>(3.2)</a></div><div class='texpara'><div id='defns-3.2.sentence-1' class='sentence'>Operations on those sequence elements that are required by its specification<a class='hidden_link' href='#defns-3.2.sentence-1'>.</a></div></div></li><li id='defns-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#defns-3.3'>(3.3)</a></div><div class='texpara'><div id='defns-3.3.sentence-1' class='sentence'>User-provided function objects
  to be applied during the execution of the algorithm,
  if required by the specification<a class='hidden_link' href='#defns-3.3.sentence-1'>.</a></div></div></li><li id='defns-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#defns-3.4'>(3.4)</a></div><div class='texpara'><div id='defns-3.4.sentence-1' class='sentence'>Operations on those function objects required by the specification<a class='hidden_link' href='#defns-3.4.sentence-1'>.</a></div> <div id='defns-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#defns-note-1'>1</a></i>:&ensp;<div id='defns-3.4.sentence-2' class='sentence'>See <a href='algorithms.requirements' title='26.2&emsp;Algorithms requirements'>[algorithms.<span class='shy'></span>requirements]</a><a class='hidden_link' href='#defns-3.4.sentence-2'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='defns-3.sentence-2' class='sentence'>
These functions are herein called <a class='hidden_link' href='#def:element_access_functions' title='26.3.1&emsp;Preamble&emsp;[algorithms.parallel.defns]'><span id='def:element_access_functions'><i >element access functions</i></span></a><a class='hidden_link' href='#defns-3.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='defns-4'><div class='marginalizedparent'><a class='marginalized' href='#defns-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L298'>#</a></div><div class='texpara'><div id='defns-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#defns-example-1'>1</a></i>:&ensp;<div id='defns-4.sentence-1' class='sentence'>The <span class='texttt'>sort</span> function may invoke the following element access functions:
<ul class='itemize'><li id='defns-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#defns-4.1'>(4.1)</a></div><div class='texpara'><div id='defns-4.1.sentence-1' class='sentence'>Operations of the random-access iterator of the actual template argument
  (as per <a href='random.access.iterators' title='24.3.5.7&emsp;Random access iterators'>[random.<span class='shy'></span>access.<span class='shy'></span>iterators]</a>),
  as implied by the name of the template parameter <span class='texttt'>RandomAccessIterator</span><a class='hidden_link' href='#defns-4.1.sentence-1'>.</a></div></div></li><li id='defns-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#defns-4.2'>(4.2)</a></div><div class='texpara'><div id='defns-4.2.sentence-1' class='sentence'>The <span class='texttt'>swap</span> function on the elements of the sequence
  (as per the preconditions specified in <a href='sort' title='26.8.2.1&emsp;sort'>[sort]</a>)<a class='hidden_link' href='#defns-4.2.sentence-1'>.</a></div></div></li><li id='defns-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#defns-4.3'>(4.3)</a></div><div class='texpara'><div id='defns-4.3.sentence-1' class='sentence'>The user-provided <span class='texttt'>Compare</span> function object<a class='hidden_link' href='#defns-4.3.sentence-1'>.</a></div></div></li></ul></div> ‚Äî&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='defns-5'><div class='marginalizedparent'><a class='marginalized' href='#defns-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L314'>#</a></div><div class='texpara'><div id='defns-5.sentence-1' class='sentence'>A standard library function is <a class='hidden_link' href='#def:vectorization-unsafe' title='26.3.1&emsp;Preamble&emsp;[algorithms.parallel.defns]'><span id='def:vectorization-unsafe'><i >vectorization-unsafe</i></span></a>
if it is specified to synchronize with another function invocation, or
another function invocation is specified to synchronize with it,
and if it is not a memory allocation or deallocation function<a class='hidden_link' href='#defns-5.sentence-1'>.</a></div> <div id='defns-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#defns-note-2'>2</a></i>:&ensp;<div id='defns-5.sentence-2' class='sentence'>Implementations must ensure that internal synchronization
inside standard library functions does not prevent forward progress
when those functions are executed by threads of execution
with weakly parallel forward progress guarantees<a class='hidden_link' href='#defns-5.sentence-2'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div> <div id='defns-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#defns-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>0</span>;
std<span class='operator'>::</span>mutex m;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span><span class='curlybracket'>}</span>;
  std<span class='operator'>::</span>for_each<span class='parenthesis'>(</span>std<span class='operator'>::</span>execution<span class='operator'>::</span>par_unseq, std<span class='operator'>::</span>begin<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, std<span class='operator'>::</span>end<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    std<span class='operator'>::</span>lock_guard<span class='anglebracket'>&lt;</span>mutex<span class='anglebracket'>&gt;</span> guard<span class='parenthesis'>(</span>m<span class='parenthesis'>)</span>;            <span class='comment'>// incorrect: <span class='tcode_in_codeblock'>lock_<span class='shy'></span>guard</span> constructor calls <span class='tcode_in_codeblock'>m.lock()</span></span>
    <span class='operator'>+</span><span class='operator'>+</span>x;
  <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span> <div id='defns-5.sentence-3' class='sentence'>
The above program may result in two consecutive calls to <span class='texttt'>m<span class='operator'>.</span>lock<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
on the same thread of execution (which may deadlock),
because the applications of the function object are not guaranteed
to run on different threads of execution<a class='hidden_link' href='#defns-5.sentence-3'>.</a></div> ‚Äî&nbsp;<i>end example</i>]</div></div></div></div></div><div id='user' class='section'><h3 ><a class='secnum' href='#user' style='min-width:80pt'>26.3.2</a> Requirements on user-provided function objects <a class='abbr_ref' href='algorithms.parallel.user'>[algorithms.parallel.user]</a></h3><div class='para' id='user-1'><div class='marginalizedparent'><a class='marginalized' href='#user-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L345'>#</a></div><div class='texpara'><div id='user-1.sentence-1' class='sentence'>Unless otherwise specified,
function objects passed into parallel algorithms as objects of type
<span class='texttt'>Predicate</span>,
<span class='texttt'>BinaryPredicate</span>,
<span class='texttt'>Compare</span>,
<span class='texttt'>UnaryOperation</span>,
<span class='texttt'>BinaryOperation</span>,
<span class='texttt'>BinaryOperation1</span>,
<span class='texttt'>BinaryOperation2</span>,
<span class='texttt'>BinaryDivideOp</span>, and
the operators used by the analogous overloads to these parallel algorithms
that are formed by an invocation
with the specified default predicate or operation (where applicable)
shall not directly or indirectly modify objects via their arguments,
nor shall they rely on the identity of the provided objects<a class='hidden_link' href='#user-1.sentence-1'>.</a></div></div></div></div><div id='exec' class='section'><h3 ><a class='secnum' href='#exec' style='min-width:80pt'>26.3.3</a> Effect of execution policies on algorithm execution <a class='abbr_ref' href='algorithms.parallel.exec'>[algorithms.parallel.exec]</a></h3><div class='para' id='exec-1'><div class='marginalizedparent'><a class='marginalized' href='#exec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L364'>#</a></div><div class='texpara'><div id='exec-1.sentence-1' class='sentence'>Parallel algorithms have
template parameters named <span class='texttt'>ExecutionPolicy</span> (<a href='#execpol' title='26.3.6&emsp;Execution policies'>[execpol]</a>)
which describe the manner in which the execution of these algorithms may be
parallelized and the manner in which they apply the element access functions<a class='hidden_link' href='#exec-1.sentence-1'>.</a></div></div></div><div class='para' id='exec-2'><div class='marginalizedparent'><a class='marginalized' href='#exec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L370'>#</a></div><div class='texpara'><div id='exec-2.sentence-1' class='sentence'>If an object is modified by an element access function,
the algorithm will perform no other unsynchronized accesses to that object<a class='hidden_link' href='#exec-2.sentence-1'>.</a></div> <div id='exec-2.sentence-2' class='sentence'>The modifying element access functions are those
which are specified as modifying the object<a class='hidden_link' href='#exec-2.sentence-2'>.</a></div> <div id='exec-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-1'>1</a></i>:&ensp;<div id='exec-2.sentence-3' class='sentence'>For example,
<span class='texttt'>swap</span>,
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>,
<span class='texttt'><span class='operator'>-</span><span class='operator'>-</span></span>,
<span class='texttt'>@<span class='operator'>=</span></span>, and
assignments
modify the object<a class='hidden_link' href='#exec-2.sentence-3'>.</a></div> <div id='exec-2.sentence-4' class='sentence'>For the assignment and <span class='texttt'>@<span class='operator'>=</span></span> operators, only the left argument is modified<a class='hidden_link' href='#exec-2.sentence-4'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='exec-3'><div class='marginalizedparent'><a class='marginalized' href='#exec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L386'>#</a></div><div class='texpara'><div id='exec-3.sentence-1' class='sentence'>Unless otherwise stated, implementations may make arbitrary copies of elements
(with type <span class='texttt'>T</span>) from sequences
where <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>
and <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>destructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> are <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#exec-3.sentence-1'>.</a></div> <div id='exec-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-2'>2</a></i>:&ensp;<div id='exec-3.sentence-2' class='sentence'>This implies that user-supplied function objects cannot rely on
object identity of arguments for such input sequences<a class='hidden_link' href='#exec-3.sentence-2'>.</a></div> <div id='exec-3.sentence-3' class='sentence'>If object identity of the arguments to these function objects
is important, a wrapping iterator
that returns a non-copied implementation object
such as <span class='texttt'>reference_<span class='shy'></span>wrapper<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> (<a href='refwrap' title='22.10.6&emsp;Class template reference_&shy;wrapper'>[refwrap]</a>),
or some equivalent solution, can be used<a class='hidden_link' href='#exec-3.sentence-3'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='exec-4'><div class='marginalizedparent'><a class='marginalized' href='#exec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L401'>#</a></div><div class='texpara'><div id='exec-4.sentence-1' class='sentence'>The invocations of element access functions in parallel algorithms invoked with
an execution policy object of type <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>sequenced_<span class='shy'></span>policy</span> all occur
in the calling thread of execution<a class='hidden_link' href='#exec-4.sentence-1'>.</a></div> <div id='exec-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-3'>3</a></i>:&ensp;<div id='exec-4.sentence-2' class='sentence'>The invocations are not interleaved; see <a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a><a class='hidden_link' href='#exec-4.sentence-2'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='exec-5'><div class='marginalizedparent'><a class='marginalized' href='#exec-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L409'>#</a></div><div class='texpara'><div id='exec-5.sentence-1' class='sentence'>The invocations of element access functions in parallel algorithms invoked with
an execution policy object of type <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>unsequenced_<span class='shy'></span>policy</span>
are permitted to execute in an unordered fashion
in the calling thread of execution,
unsequenced with respect to one another in the calling thread of execution<a class='hidden_link' href='#exec-5.sentence-1'>.</a></div> <div id='exec-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-4'>4</a></i>:&ensp;<div id='exec-5.sentence-2' class='sentence'>This means that multiple function object invocations
can be interleaved on a single thread of execution,
which overrides the usual guarantee from <a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>
that function executions do not overlap with one another<a class='hidden_link' href='#exec-5.sentence-2'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div> <div id='exec-5.sentence-3' class='sentence'>
The behavior of a program is undefined if
it invokes a vectorization-unsafe standard library function
from user code
called from an <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>unsequenced_<span class='shy'></span>policy</span> algorithm<a class='hidden_link' href='#exec-5.sentence-3'>.</a></div> <div id='exec-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-5'>5</a></i>:&ensp;<div id='exec-5.sentence-4' class='sentence'>Because <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>unsequenced_<span class='shy'></span>policy</span> allows
the execution of element access functions
to be interleaved on a single thread of execution,
blocking synchronization, including the use of mutexes, risks deadlock<a class='hidden_link' href='#exec-5.sentence-4'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='exec-6'><div class='marginalizedparent'><a class='marginalized' href='#exec-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L432'>#</a></div><div class='texpara'><div id='exec-6.sentence-1' class='sentence'>The invocations of element access functions in parallel algorithms invoked with
an execution policy object of type <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>policy</span>
are permitted to execute either
in the invoking thread of execution or
in a thread of execution implicitly created by the library
to support parallel algorithm execution<a class='hidden_link' href='#exec-6.sentence-1'>.</a></div> <div id='exec-6.sentence-2' class='sentence'>If the threads of execution created by <span class='texttt'>thread</span> (<a href='thread.thread.class' title='32.4.3&emsp;Class thread'>[thread.<span class='shy'></span>thread.<span class='shy'></span>class]</a>)
or <span class='texttt'>jthread</span> (<a href='thread.jthread.class' title='32.4.4&emsp;Class jthread'>[thread.<span class='shy'></span>jthread.<span class='shy'></span>class]</a>)
provide concurrent forward progress guarantees (<a href='intro.progress' title='6.9.2.3&emsp;Forward progress'>[intro.<span class='shy'></span>progress]</a>),
then a thread of execution implicitly created by the library will provide
parallel forward progress guarantees;
otherwise, the provided forward progress guarantee is
<a class='index' id=':forward_progress_guarantees_for_implicit_threads_of_parallel_algorithms_(if_not_defined_for_thread)'></a>implementation-defined<a class='hidden_link' href='#exec-6.sentence-2'>.</a></div> <div id='exec-6.sentence-3' class='sentence'>Any such invocations executing in the same thread of execution
are indeterminately sequenced with respect to each other<a class='hidden_link' href='#exec-6.sentence-3'>.</a></div> <div id='exec-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-6'>6</a></i>:&ensp;<div id='exec-6.sentence-4' class='sentence'>It is the caller's responsibility to ensure
that the invocation does not introduce data races or deadlocks<a class='hidden_link' href='#exec-6.sentence-4'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div> <div id='exec-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#exec-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>,<span class='literal'>1</span><span class='curlybracket'>}</span>;
std<span class='operator'>::</span>vector<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v;
std<span class='operator'>::</span>for_each<span class='parenthesis'>(</span>std<span class='operator'>::</span>execution<span class='operator'>::</span>par, std<span class='operator'>::</span>begin<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, std<span class='operator'>::</span>end<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  v<span class='operator'>.</span>push_back<span class='parenthesis'>(</span>i<span class='operator'>*</span><span class='literal'>2</span><span class='operator'>+</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// incorrect: data race</span>
<span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
</span> <div id='exec-6.sentence-5' class='sentence'>
The program above has a data race because of the unsynchronized access to the
container <span class='texttt'>v</span><a class='hidden_link' href='#exec-6.sentence-5'>.</a></div> ‚Äî&nbsp;<i>end example</i>]</div></div> <div id='exec-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#exec-example-2'>2</a></i>:&ensp;<span class='codeblock'>std<span class='operator'>::</span>atomic<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> x<span class='curlybracket'>{</span><span class='literal'>0</span><span class='curlybracket'>}</span>;
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span><span class='curlybracket'>}</span>;
std<span class='operator'>::</span>for_each<span class='parenthesis'>(</span>std<span class='operator'>::</span>execution<span class='operator'>::</span>par, std<span class='operator'>::</span>begin<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, std<span class='operator'>::</span>end<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  x<span class='operator'>.</span>fetch_add<span class='parenthesis'>(</span><span class='literal'>1</span>, std<span class='operator'>::</span>memory_order<span class='operator'>::</span>relaxed<span class='parenthesis'>)</span>;
  <span class='comment'>// spin wait for another iteration to change the value of <span class='tcode_in_codeblock'>x</span></span>
  <span class='keyword'>while</span> <span class='parenthesis'>(</span>x<span class='operator'>.</span>load<span class='parenthesis'>(</span>std<span class='operator'>::</span>memory_order<span class='operator'>::</span>relaxed<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>           <span class='comment'>// incorrect: assumes execution order</span>
<span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
</span> <div id='exec-6.sentence-6' class='sentence'>
The above example depends on the order of execution of the iterations, and
will not terminate if both iterations are executed sequentially
on the same thread of execution<a class='hidden_link' href='#exec-6.sentence-6'>.</a></div> ‚Äî&nbsp;<i>end example</i>]</div></div> <div id='exec-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#exec-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>0</span>;
std<span class='operator'>::</span>mutex m;
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span><span class='curlybracket'>}</span>;
std<span class='operator'>::</span>for_each<span class='parenthesis'>(</span>std<span class='operator'>::</span>execution<span class='operator'>::</span>par, std<span class='operator'>::</span>begin<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, std<span class='operator'>::</span>end<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>lock_guard<span class='anglebracket'>&lt;</span>mutex<span class='anglebracket'>&gt;</span> guard<span class='parenthesis'>(</span>m<span class='parenthesis'>)</span>;
  <span class='operator'>+</span><span class='operator'>+</span>x;
<span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
</span> <div id='exec-6.sentence-7' class='sentence'>
The above example synchronizes access to object <span class='texttt'>x</span>
ensuring that it is incremented correctly<a class='hidden_link' href='#exec-6.sentence-7'>.</a></div> ‚Äî&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='exec-7'><div class='marginalizedparent'><a class='marginalized' href='#exec-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L492'>#</a></div><div class='texpara'><div id='exec-7.sentence-1' class='sentence'>The invocations of element access functions in parallel algorithms invoked with
an execution policy object of type <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>unsequenced_<span class='shy'></span>policy</span> are
permitted to execute
in an unordered fashion in unspecified threads of execution, and
unsequenced with respect to one another within each thread of execution<a class='hidden_link' href='#exec-7.sentence-1'>.</a></div> <div id='exec-7.sentence-2' class='sentence'>These threads of execution are
either the invoking thread of execution
or threads of execution implicitly created by the library;
the latter will provide weakly parallel forward progress guarantees<a class='hidden_link' href='#exec-7.sentence-2'>.</a></div> <div id='exec-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-7'>7</a></i>:&ensp;<div id='exec-7.sentence-3' class='sentence'>This means that multiple function object invocations can be interleaved
on a single thread of execution,
which overrides the usual guarantee from <a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>
that function executions do not overlap with one another<a class='hidden_link' href='#exec-7.sentence-3'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div> <div id='exec-7.sentence-4' class='sentence'>
The behavior of a program is undefined if
it invokes a vectorization-unsafe standard library function
from user code
called from an <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>unsequenced_<span class='shy'></span>policy</span> algorithm<a class='hidden_link' href='#exec-7.sentence-4'>.</a></div> <div id='exec-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-8'>8</a></i>:&ensp;<div id='exec-7.sentence-5' class='sentence'>Because <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>unsequenced_<span class='shy'></span>policy</span> allows
the execution of element access functions
to be interleaved on a single thread of execution,
blocking synchronization, including the use of mutexes, risks deadlock<a class='hidden_link' href='#exec-7.sentence-5'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='exec-8'><div class='marginalizedparent'><a class='marginalized' href='#exec-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L519'>#</a></div><div class='texpara'><div id='exec-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-9'>9</a></i>:&ensp;<div id='exec-8.sentence-1' class='sentence'>The semantics of invocation with
<span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>unsequenced_<span class='shy'></span>policy</span>,
<span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>policy</span>, or
<span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>unsequenced_<span class='shy'></span>policy</span>
allow the implementation to fall back to sequential execution
if the system cannot parallelize an algorithm invocation,
e.g., due to lack of resources<a class='hidden_link' href='#exec-8.sentence-1'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='exec-9'><div class='marginalizedparent'><a class='marginalized' href='#exec-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L530'>#</a></div><div class='texpara'><div id='exec-9.sentence-1' class='sentence'>If an invocation of a parallel algorithm uses threads of execution
implicitly created by the library,
then the invoking thread of execution will either
<ul class='itemize'><li id='exec-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#exec-9.1'>(9.1)</a></div>temporarily block
  with forward progress guarantee delegation (<a href='intro.progress' title='6.9.2.3&emsp;Forward progress'>[intro.<span class='shy'></span>progress]</a>)
  on the completion of these library-managed threads of execution, or</li><li id='exec-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#exec-9.2'>(9.2)</a></div>eventually execute an element access function;</li></ul>
the thread of execution will continue to do so until the algorithm is finished<a class='hidden_link' href='#exec-9.sentence-1'>.</a></div> <div id='exec-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#exec-note-10'>10</a></i>:&ensp;<div id='exec-9.sentence-2' class='sentence'>In blocking with forward progress guarantee delegation in this context,
a thread of execution created by the library
is considered to have finished execution
as soon as it has finished the execution
of the particular element access function
that the invoking thread of execution logically depends on<a class='hidden_link' href='#exec-9.sentence-2'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='exec-10'><div class='marginalizedparent'><a class='marginalized' href='#exec-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L552'>#</a></div><div class='texpara'><div id='exec-10.sentence-1' class='sentence'>The semantics of parallel algorithms invoked with an execution policy object of
<a class='index' id=':additional_execution_policies_supported_by_parallel_algorithms'></a>implementation-defined type
are <a class='index' id=':semantics_of_parallel_algorithms_invoked_with_implementation-defined_execution_policies'></a>implementation-defined<a class='hidden_link' href='#exec-10.sentence-1'>.</a></div></div></div></div><div id='exceptions' class='section'><h3 ><a class='secnum' href='#exceptions' style='min-width:80pt'>26.3.4</a> Parallel algorithm exceptions <a class='abbr_ref' href='algorithms.parallel.exceptions'>[algorithms.parallel.exceptions]</a></h3><div class='para' id='exceptions-1'><div class='marginalizedparent'><a class='marginalized' href='#exceptions-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L560'>#</a></div><div class='texpara'><div id='exceptions-1.sentence-1' class='sentence'>During the execution of a parallel algorithm,
if temporary memory resources are required for parallelization
and none are available, the algorithm throws a <span class='texttt'>bad_<span class='shy'></span>alloc</span> exception<a class='hidden_link' href='#exceptions-1.sentence-1'>.</a></div></div></div><div class='para' id='exceptions-2'><div class='marginalizedparent'><a class='marginalized' href='#exceptions-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L565'>#</a></div><div class='texpara'><div id='exceptions-2.sentence-1' class='sentence'>During the execution of a parallel algorithm,
if the invocation of an element access function exits via an uncaught exception,
the behavior is determined by the <span class='texttt'>ExecutionPolicy</span><a class='hidden_link' href='#exceptions-2.sentence-1'>.</a></div></div></div></div><div id='overloads' class='section'><h3 ><a class='secnum' href='#overloads' style='min-width:80pt'>26.3.5</a> <span class='texttt'>ExecutionPolicy</span> algorithm overloads <a class='abbr_ref' href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a></h3><div class='para' id='overloads-1'><div class='marginalizedparent'><a class='marginalized' href='#overloads-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L572'>#</a></div><div class='texpara'><div id='overloads-1.sentence-1' class='sentence'>Parallel algorithms are algorithm overloads<a class='hidden_link' href='#overloads-1.sentence-1'>.</a></div> <div id='overloads-1.sentence-2' class='sentence'>Each parallel algorithm overload
has an additional template type parameter named <span class='texttt'>ExecutionPolicy</span>,
which is the first template parameter<a class='hidden_link' href='#overloads-1.sentence-2'>.</a></div> <div id='overloads-1.sentence-3' class='sentence'>Additionally, each parallel algorithm overload
has an additional function parameter of type <span class='texttt'>ExecutionPolicy<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>,
which is the first function parameter<a class='hidden_link' href='#overloads-1.sentence-3'>.</a></div> <div id='overloads-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#overloads-note-1'>1</a></i>:&ensp;<div id='overloads-1.sentence-4' class='sentence'>Not all algorithms have parallel algorithm overloads<a class='hidden_link' href='#overloads-1.sentence-4'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='overloads-2'><div class='marginalizedparent'><a class='marginalized' href='#overloads-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L584'>#</a></div><div class='texpara'><div id='overloads-2.sentence-1' class='sentence'>Unless otherwise specified,
the semantics of <span class='texttt'>ExecutionPolicy</span> algorithm overloads
are identical to their overloads without<a class='hidden_link' href='#overloads-2.sentence-1'>.</a></div></div></div><div class='para' id='overloads-3'><div class='marginalizedparent'><a class='marginalized' href='#overloads-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L589'>#</a></div><div class='texpara'><div id='overloads-3.sentence-1' class='sentence'>Unless otherwise specified,
the complexity requirements of <span class='texttt'>ExecutionPolicy</span> algorithm overloads
are relaxed from the complexity requirements of the overloads without
as follows:
when the guarantee says ‚Äúat most <i >expr</i>‚Äù or
‚Äúexactly <i >expr</i>‚Äù
and does not specify the number of assignments or swaps, and
<i >expr</i> is not already expressed with <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.225em; padding-right: 0.067em;">O</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span> notation,
the complexity of the algorithm shall be <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.225em; padding-right: 0.067em;">O</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">expr</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span><a class='hidden_link' href='#overloads-3.sentence-1'>.</a></div></div></div><div class='para' id='overloads-4'><div class='marginalizedparent'><a class='marginalized' href='#overloads-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L600'>#</a></div><div class='texpara'><div id='overloads-4.sentence-1' class='sentence'>Parallel algorithms shall not participate in overload resolution unless
<span class='texttt'>is_<span class='shy'></span>execution_<span class='shy'></span>policy_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>ExecutionPolicy<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#overloads-4.sentence-1'>.</a></div></div></div></div><div id='execpol' class='section'><h3 ><a class='secnum' href='#execpol' style='min-width:80pt'>26.3.6</a> Execution policies <a class='abbr_ref' href='execpol'>[execpol]</a></h3><div id='execpol.general' class='section'><h4 ><a class='secnum' href='#execpol.general' style='min-width:95pt'>26.3.6.1</a> General <a class='abbr_ref' href='execpol.general'>[execpol.general]</a></h4><div class='para' id='execpol.general-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L608'>#</a></div><div class='texpara'><div id='execpol.general-1.sentence-1' class='sentence'>Subclause <a href='#execpol' title='26.3.6&emsp;Execution policies'>[execpol]</a> describes classes that are <a class='hidden_link' href='#def:execution_policy' title='26.3.6.1&emsp;General&emsp;[execpol.general]'><span id='def:execution_policy'><i >execution policy</i></span></a> types<a class='hidden_link' href='#execpol.general-1.sentence-1'>.</a></div> <div id='execpol.general-1.sentence-2' class='sentence'>An
object of an execution policy type indicates the kinds of parallelism allowed
in the execution of an algorithm and expresses the consequent requirements on
the element access functions<a class='hidden_link' href='#execpol.general-1.sentence-2'>.</a></div> <div id='execpol.general-1.sentence-3' class='sentence'>Execution policy types are declared in header <a href='execution.syn#header:%3cexecution%3e' title='33.4&emsp;Header &lt;execution&gt; synopsis&emsp;[execution.syn]'><span id='headerref:<execution>'><span class='texttt'>&lt;execution&gt;</span></span></a><a class='hidden_link' href='#execpol.general-1.sentence-3'>.</a></div> <div id='execpol.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#execpol.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>using</span> <span class='keyword'>namespace</span> std;
vector<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v <span class='operator'>=</span> <span class='comment'>/* ... */</span>;

<span class='comment'>// standard sequential sort</span>
sort<span class='parenthesis'>(</span>v<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, v<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

<span class='comment'>// explicitly sequential sort</span>
sort<span class='parenthesis'>(</span>execution<span class='operator'>::</span>seq, v<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, v<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

<span class='comment'>// permitting parallel execution</span>
sort<span class='parenthesis'>(</span>execution<span class='operator'>::</span>par, v<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, v<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

<span class='comment'>// permitting vectorization as well</span>
sort<span class='parenthesis'>(</span>execution<span class='operator'>::</span>par_unseq, v<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, v<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span> ‚Äî&nbsp;<i>end example</i>]</div></div> <div id='execpol.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#execpol.general-note-1'>1</a></i>:&ensp;<div id='execpol.general-1.sentence-4' class='sentence'>Implementations can provide additional execution policies
to those described in this document as extensions
to address parallel architectures that require idiosyncratic
parameters for efficient execution<a class='hidden_link' href='#execpol.general-1.sentence-4'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div></div><div id='execpol.type' class='section'><h4 ><a class='secnum' href='#execpol.type' style='min-width:95pt'>26.3.6.2</a> Execution policy type trait <a class='abbr_ref' href='execpol.type'>[execpol.type]</a></h4><div class='texpara'><div id='lib:is_execution_policy'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:is_execution_policy'>üîó</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> is_execution_policy;
</code></div></div></div><div class='para' id='execpol.type-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.type-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L647'>#</a></div><div class='texpara'><div id='execpol.type-1.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>execution_<span class='shy'></span>policy</span> can be used to detect execution policies for the
purpose of excluding function signatures from otherwise ambiguous overload
resolution participation<a class='hidden_link' href='#execpol.type-1.sentence-1'>.</a></div></div></div></div><div class='para' id='execpol.type-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.type-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L652'>#</a></div><div class='texpara'><div id='execpol.type-2.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>execution_<span class='shy'></span>policy<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is a <i >Cpp17UnaryTypeTrait</i> with a
base characteristic of <span class='texttt'>true_<span class='shy'></span>type</span> if <span class='texttt'>T</span> is the type of a standard
or <a class='index' id=':additional_execution_policies_supported_by_parallel_algorithms_'></a>implementation-defined
execution policy, otherwise <span class='texttt'>false_<span class='shy'></span>type</span><a class='hidden_link' href='#execpol.type-2.sentence-1'>.</a></div></div><div class='texpara'><div id='execpol.type-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#execpol.type-note-1'>1</a></i>:&ensp;<div id='execpol.type-2.sentence-2' class='sentence'>This provision reserves the privilege of creating non-standard execution
policies to the library implementation<a class='hidden_link' href='#execpol.type-2.sentence-2'>.</a></div> ‚Äî&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='execpol.type-3'><div class='marginalizedparent'><a class='marginalized' href='#execpol.type-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L663'>#</a></div><div class='texpara'><div id='execpol.type-3.sentence-1' class='sentence'>The behavior of a program that adds specializations for
<span class='texttt'>is_<span class='shy'></span>execution_<span class='shy'></span>policy</span> is undefined<a class='hidden_link' href='#execpol.type-3.sentence-1'>.</a></div></div></div></div></div><div id='execpol.seq' class='section'><h4 ><a class='secnum' href='#execpol.seq' style='min-width:95pt'>26.3.6.3</a> Sequenced execution policy <a class='abbr_ref' href='execpol.seq'>[execpol.seq]</a></h4><div class='texpara'><div id='lib:execution::sequenced_policy'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:execution::sequenced_policy'>üîó</a></div><code class='itemdeclcode'><span class='keyword'>class</span> execution<span class='operator'>::</span>sequenced_policy <span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
</code></div></div></div><div class='para' id='execpol.seq-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.seq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L676'>#</a></div><div class='texpara'><div id='execpol.seq-1.sentence-1' class='sentence'>The class <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>sequenced_<span class='shy'></span>policy</span> is an execution policy type used
as a unique type to disambiguate parallel algorithm overloading and require
that a parallel algorithm's execution may not be parallelized<a class='hidden_link' href='#execpol.seq-1.sentence-1'>.</a></div></div></div></div><div class='para' id='execpol.seq-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.seq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L681'>#</a></div><div class='texpara'><div id='execpol.seq-2.sentence-1' class='sentence'>During the execution of a parallel algorithm with
the <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>sequenced_<span class='shy'></span>policy</span> policy,
if the invocation of an element access function exits via an exception,
<span class='texttt'>terminate</span> is invoked (<a href='except.terminate' title='14.6.2&emsp;The std&#x200b;::&#x200b;terminate function'>[except.<span class='shy'></span>terminate]</a>)<a class='hidden_link' href='#execpol.seq-2.sentence-1'>.</a></div></div></div></div></div><div id='execpol.par' class='section'><h4 ><a class='secnum' href='#execpol.par' style='min-width:95pt'>26.3.6.4</a> Parallel execution policy <a class='abbr_ref' href='execpol.par'>[execpol.par]</a></h4><div class='texpara'><div id='lib:execution::parallel_policy'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:execution::parallel_policy'>üîó</a></div><code class='itemdeclcode'><span class='keyword'>class</span> execution<span class='operator'>::</span>parallel_policy <span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
</code></div></div></div><div class='para' id='execpol.par-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.par-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L696'>#</a></div><div class='texpara'><div id='execpol.par-1.sentence-1' class='sentence'>The class <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>policy</span> is an execution policy type used as
a unique type to disambiguate parallel algorithm overloading and indicate that
a parallel algorithm's execution may be parallelized<a class='hidden_link' href='#execpol.par-1.sentence-1'>.</a></div></div></div></div><div class='para' id='execpol.par-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.par-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L701'>#</a></div><div class='texpara'><div id='execpol.par-2.sentence-1' class='sentence'>During the execution of a parallel algorithm with
the <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>policy</span> policy,
if the invocation of an element access function exits via an exception,
<span class='texttt'>terminate</span> is invoked (<a href='except.terminate' title='14.6.2&emsp;The std&#x200b;::&#x200b;terminate function'>[except.<span class='shy'></span>terminate]</a>)<a class='hidden_link' href='#execpol.par-2.sentence-1'>.</a></div></div></div></div></div><div id='execpol.parunseq' class='section'><h4 ><a class='secnum' href='#execpol.parunseq' style='min-width:95pt'>26.3.6.5</a> Parallel and unsequenced execution policy <a class='abbr_ref' href='execpol.parunseq'>[execpol.parunseq]</a></h4><div class='texpara'><div id='lib:execution::parallel_unsequenced_policy'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:execution::parallel_unsequenced_policy'>üîó</a></div><code class='itemdeclcode'><span class='keyword'>class</span> execution<span class='operator'>::</span>parallel_unsequenced_policy <span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
</code></div></div></div><div class='para' id='execpol.parunseq-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.parunseq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L716'>#</a></div><div class='texpara'><div id='execpol.parunseq-1.sentence-1' class='sentence'>The class <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>unsequenced_<span class='shy'></span>policy</span> is an execution policy type
used as a unique type to disambiguate parallel algorithm overloading and
indicate that a parallel algorithm's execution may be parallelized and
vectorized<a class='hidden_link' href='#execpol.parunseq-1.sentence-1'>.</a></div></div></div></div><div class='para' id='execpol.parunseq-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.parunseq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L722'>#</a></div><div class='texpara'><div id='execpol.parunseq-2.sentence-1' class='sentence'>During the execution of a parallel algorithm with
the <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>parallel_<span class='shy'></span>unsequenced_<span class='shy'></span>policy</span> policy,
if the invocation of an element access function exits via an exception,
<span class='texttt'>terminate</span> is invoked (<a href='except.terminate' title='14.6.2&emsp;The std&#x200b;::&#x200b;terminate function'>[except.<span class='shy'></span>terminate]</a>)<a class='hidden_link' href='#execpol.parunseq-2.sentence-1'>.</a></div></div></div></div></div><div id='execpol.unseq' class='section'><h4 ><a class='secnum' href='#execpol.unseq' style='min-width:95pt'>26.3.6.6</a> Unsequenced execution policy <a class='abbr_ref' href='execpol.unseq'>[execpol.unseq]</a></h4><div class='texpara'><div id='lib:execution::unsequenced_policy'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:execution::unsequenced_policy'>üîó</a></div><code class='itemdeclcode'><span class='keyword'>class</span> execution<span class='operator'>::</span>unsequenced_policy <span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
</code></div></div></div><div class='para' id='execpol.unseq-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.unseq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L737'>#</a></div><div class='texpara'><div id='execpol.unseq-1.sentence-1' class='sentence'>The class <span class='texttt'>unsequenced_<span class='shy'></span>policy</span> is an execution policy type
used as a unique type to disambiguate parallel algorithm overloading and
indicate that a parallel algorithm's execution may be vectorized,
e.g., executed on a single thread using instructions
that operate on multiple data items<a class='hidden_link' href='#execpol.unseq-1.sentence-1'>.</a></div></div></div></div><div class='para' id='execpol.unseq-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.unseq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L744'>#</a></div><div class='texpara'><div id='execpol.unseq-2.sentence-1' class='sentence'>During the execution of a parallel algorithm with
the <span class='texttt'>execution<span class='operator'>&#x200b;::&#x200b;</span>unsequenced_<span class='shy'></span>policy</span> policy,
if the invocation of an element access function exits via an exception,
<span class='texttt'>terminate</span> is invoked (<a href='except.terminate' title='14.6.2&emsp;The std&#x200b;::&#x200b;terminate function'>[except.<span class='shy'></span>terminate]</a>)<a class='hidden_link' href='#execpol.unseq-2.sentence-1'>.</a></div></div></div></div></div><div id='execpol.objects' class='section'><h4 ><a class='secnum' href='#execpol.objects' style='min-width:95pt'>26.3.6.7</a> Execution policy objects <a class='abbr_ref' href='execpol.objects'>[execpol.objects]</a></h4><div class='texpara'><div id='lib:par_unseq,execution'><div id='lib:execution,par_unseq'><div id='lib:par,execution'><div id='lib:execution,par'><div id='lib:seq,execution'><div id='lib:execution,seq'><div id='lib:par_unseq'><div id='lib:par'><div id='lib:seq'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seq'>üîó</a></div><code class='itemdeclcode'><span class='keyword'>inline</span> <span class='keyword'>constexpr</span> execution<span class='operator'>::</span>sequenced_policy            execution<span class='operator'>::</span>seq<span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
<span class='keyword'>inline</span> <span class='keyword'>constexpr</span> execution<span class='operator'>::</span>parallel_policy             execution<span class='operator'>::</span>par<span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
<span class='keyword'>inline</span> <span class='keyword'>constexpr</span> execution<span class='operator'>::</span>parallel_unsequenced_policy execution<span class='operator'>::</span>par_unseq<span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
<span class='keyword'>inline</span> <span class='keyword'>constexpr</span> execution<span class='operator'>::</span>unsequenced_policy          execution<span class='operator'>::</span>unseq<span class='curlybracket'>{</span> <i ><span class='texttt'>unspecified</span></i> <span class='curlybracket'>}</span>;
</code></div></div></div></div></div></div></div></div></div></div></div><div class='para' id='execpol.objects-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.objects-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/algorithms.tex#L767'>#</a></div><div class='texpara'><div id='execpol.objects-1.sentence-1' class='sentence'>The header <a href='execution.syn#header:%3cexecution%3e' title='33.4&emsp;Header &lt;execution&gt; synopsis&emsp;[execution.syn]'><span id='headerref:<execution>_'><span class='texttt'>&lt;execution&gt;</span></span></a> declares global objects associated with each type of execution policy<a class='hidden_link' href='#execpol.objects-1.sentence-1'>.</a></div></div></div></div></div></div></div></body></html>