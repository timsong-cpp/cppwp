<!DOCTYPE html><html lang='en'><head><title>[temp.expl.spec]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>13.9</a> Template instantiation and specialization <a class='abbr_ref' href='temp.spec#temp.expl.spec'>[temp.spec]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>13.9.4</a> Explicit specialization <a class='abbr_ref'>[temp.expl.spec]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6321'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><a class='index' id=':specialization,template_explicit'></a>An explicit specialization of any of the following:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div>function template</li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div>class template</li><li id='1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.3'>(1.3)</a></div>variable template</li><li id='1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.4'>(1.4)</a></div>member function of a class template</li><li id='1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.5'>(1.5)</a></div>static data member of a class template</li><li id='1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.6'>(1.6)</a></div>member class of a class template</li><li id='1.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.7'>(1.7)</a></div>member enumeration of a class template</li><li id='1.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.8'>(1.8)</a></div>member class template of a class or class template</li><li id='1.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.9'>(1.9)</a></div>member function template of a class or class template</li></ul>
can be declared by a declaration introduced by
<span class='texttt'><span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span>;
that is:
<a class='index' id=':explicit-specialization'></a>
<div class='bnf' id='nt:explicit-specialization'>
<a class='hidden_link' href='#nt:explicit-specialization' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'><span id='nt:explicit-specialization'><span id=':explicit-specialization_'>explicit-specialization<span class='textnormal'>:</span></span></span></a><br/><span id=':template_'><span class='texttt'><span class='keyword'>template</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration'><span class='textsf'><i >declaration</i></span></span></a>
</div></div></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> stream;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> stream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</span></div><div class='texpara'><div id='1.sentence-2' class='sentence'>Given these declarations,
<span class='texttt'>stream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span></span>
will be used as the definition of streams of
<span class='texttt'><span class='keyword'>char</span></span>s;
other streams will be handled by class template specializations instantiated
from the class template<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Similarly,
<span class='texttt'>sort<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span></span>
will be used as the sort function for arguments
of type
<span class='texttt'>Array<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span></span>;
other
<span class='texttt'>Array</span>
types will be sorted by functions generated from the template<a class='hidden_link' href='#1.sentence-3'>.</a></div> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6382'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>The <a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration_'><span class='textsf'><i >declaration</i></span></span></a> in an <a href='#nt:explicit-specialization' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'><span id='ntref:explicit-specialization'><span class='textsf'><i >explicit-specialization</i></span></span></a>
shall not be an <a href='module.interface#nt:export-declaration' title='10.2&emsp;Export declaration&emsp;[module.interface]'><span id='ntref:export-declaration'><span class='textsf'><i >export-declaration</i></span></span></a><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>An explicit specialization shall not use
a <a href='dcl.stc#nt:storage-class-specifier' title='9.2.2&emsp;Storage class specifiers&emsp;[dcl.stc]'><span id='ntref:storage-class-specifier'><span class='textsf'><i >storage-class-specifier</i></span></span></a> (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>)
other than <span id=':thread_local'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span><a class='hidden_link' href='#2.sentence-2'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6389'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>An explicit specialization
may be declared in any scope in which the corresponding primary template
may be defined (<a href='dcl.meaning' title='9.3.4&emsp;Meaning of declarators'>[dcl.<span class='shy'></span>meaning]</a>, <a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>, <a href='temp.mem' title='13.7.3&emsp;Member templates'>[temp.<span class='shy'></span>mem]</a>)<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6394'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>An explicit specialization does not introduce a name (<a href='basic.scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>A declaration of a function template, class template, or variable template being explicitly
specialized shall be reachable from the declaration of
the explicit
specialization<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='4.sentence-3' class='sentence'>A declaration, but not a definition of the template is required<a class='hidden_link' href='#4.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div> <div id='4.sentence-4' class='sentence'>
The definition of a class or class template shall be reachable from the
declaration of an explicit specialization for a member template of the class
or class template<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;          <span class='comment'>// error: <span class='tcode_in_codeblock'>X</span> not a template</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>X</span> is a template</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6416'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>A member function, a member function template, a member class,
a member enumeration, a
member class template,
a static data member, or a static data member template of a class template
may be explicitly specialized for a class specialization that is implicitly
instantiated;
in this case, the definition of the class template shall
be reachable from the explicit specialization for the member of the class
template<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>If such an explicit specialization for the member of a class template names an
implicitly-declared special member function (<a href='special' title='11.4.4&emsp;Special member functions'>[special]</a>),
the program is ill-formed<a class='hidden_link' href='#5.sentence-2'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6430'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>A member of an explicitly specialized class is not implicitly
instantiated from the member declaration of the class template;
instead, the member of the class template specialization shall itself be
explicitly defined if its definition is required<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>The definition of the class template explicit specialization
shall be reachable from the definition of any member of it<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>The definition of an explicitly specialized class is unrelated to the
definition of a generated specialization<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.sentence-4' class='sentence'>That is, its members need
not have the same names, types, etc.&nbsp;as the members of a generated
specialization<a class='hidden_link' href='#6.sentence-4'>.</a></div> <div id='6.sentence-5' class='sentence'>Members of an explicitly specialized
class template are defined in the same manner as members of normal classes, and
not using the <span class='texttt'><span id=':template__'><span class='texttt'><span class='keyword'>template</span></span></span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> syntax<a class='hidden_link' href='#6.sentence-5'>.</a></div> <div id='6.sentence-6' class='sentence'>The same is true when defining a member of an explicitly specialized member
class<a class='hidden_link' href='#6.sentence-6'>.</a></div> <div id='6.sentence-7' class='sentence'>However, <span class='texttt'><span id=':template___'><span class='texttt'><span class='keyword'>template</span></span></span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> is used in defining a member of an explicitly
specialized member class template that is specialized as a class template<a class='hidden_link' href='#6.sentence-7'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> a;
  a<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='literal'>16</span><span class='parenthesis'>)</span>;          <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;f</span> must be defined somewhere</span>
<span class='curlybracket'>}</span>

<span class='comment'>// <span class='tcode_in_codeblock'><span id=':template____'><span class='tcode_in_codeblock'>template</span></span>&lt;&gt;</span> not used for a member of an explicitly specialized class template</span>
<span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='comment'>// <span class='tcode_in_codeblock'><span id=':template_____'><span class='tcode_in_codeblock'>template</span></span>&lt;&gt;</span> also not used when defining a member of an explicitly specialized member class</span>
<span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>C <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='comment'>// <span class='tcode_in_codeblock'><span id=':template______'><span class='tcode_in_codeblock'>template</span></span>&lt;&gt;</span> is used when defining a member of an explicitly specialized member class template</span>
<span class='comment'>// specialized as a class template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>C<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>              <span class='comment'>// error: <span class='tcode_in_codeblock'><span id=':template_______'><span class='tcode_in_codeblock'>template</span></span>&lt;&gt;</span> not permitted</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>C <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>C<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>    <span class='comment'>// error: <span class='tcode_in_codeblock'><span id=':template________'><span class='tcode_in_codeblock'>template</span></span>&lt;&gt;</span> required</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6493'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>If a template, a member template or a member of a class template is explicitly
specialized, a declaration of that specialization shall be reachable from
every use of
that specialization that would cause an implicit instantiation to take place,
in every translation unit in which such a use occurs;
no diagnostic is required<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>If the program does not provide a definition for an explicit specialization and
either the specialization is used in a way that would cause an implicit
instantiation to take place or the member is a virtual member function,
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>An implicit instantiation is never generated for an explicit specialization
that is declared but not defined<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>class</span> String <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>String<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  sort<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;          <span class='comment'>// use primary template <span class='tcode_in_codeblock'>sort(Array&lt;T&gt;&amp;)</span>, <span class='tcode_in_codeblock'>T</span> is <span class='tcode_in_codeblock'>String</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='anglebracket'>&lt;</span>String<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>String<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;     <span class='comment'>// error: specialization after use of primary template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;            <span class='comment'>// OK, <span class='tcode_in_codeblock'>sort&lt;char*&gt;</span> not yet used</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> E <span class='operator'>:</span> T;
  <span class='keyword'>enum</span> <span class='keyword'>class</span> S <span class='operator'>:</span> T;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>E <span class='operator'>:</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span> eint <span class='curlybracket'>}</span>;           <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>S <span class='operator'>:</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span> sint <span class='curlybracket'>}</span>;     <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>E <span class='operator'>:</span> T <span class='curlybracket'>{</span> eT <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>S <span class='operator'>:</span> T <span class='curlybracket'>{</span> sT <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>E <span class='operator'>:</span> <span class='keyword'>char</span> <span class='curlybracket'>{</span> echar <span class='curlybracket'>}</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>A&lt;char&gt;&#x200b;::&#x200b;E</span> was instantiated</span>
                                                    <span class='comment'>// when <span class='tcode_in_codeblock'>A&lt;char&gt;</span> was instantiated</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>S <span class='operator'>:</span> <span class='keyword'>char</span> <span class='curlybracket'>{</span> schar <span class='curlybracket'>}</span>;  <span class='comment'>// OK</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6532'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>The placement of explicit specialization declarations for function templates, class
templates, variable templates,
member functions of class templates, static data members of class
templates, member classes of class templates, member enumerations of class
templates, member class templates of class
templates, member function templates of class templates,
static data member templates of class templates,
member functions of
member templates of class templates, member functions of member templates of
non-template classes,
static data member templates of non-template classes,
member function templates of member classes of class
templates, etc., and the placement of partial specialization declarations
of class templates, variable templates,
member class templates of non-template classes,
static data member templates of non-template classes, member
class templates of class templates, etc., can affect whether a program is
well-formed according to the relative positioning of the explicit specialization
declarations and their points of instantiation in the translation unit as
specified above and below<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>When writing a specialization, be careful about its location;
or to make it compile will be such a trial as to kindle its self-immolation<a class='hidden_link' href='#8.sentence-2'>.</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6556'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>A
<a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>
that names a class template explicit specialization that has been declared but
not defined can be used exactly like the names of other incompletely-defined
classes (<a href='basic.types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X;                      <span class='comment'>// <span class='tcode_in_codeblock'>X</span> is a class template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>;

X<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> p;                                      <span class='comment'>// OK, pointer to declared class <span class='tcode_in_codeblock'>X&lt;int&gt;</span></span>
X<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> x;                                       <span class='comment'>// error: object of incomplete class <span class='tcode_in_codeblock'>X&lt;int&gt;</span></span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6572'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'>A trailing
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a>
can be left unspecified in the
<a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a>
naming an explicit function template specialization
provided it can be deduced (<a href='temp.deduct.decl' title='13.10.3.7&emsp;Deducing template arguments from a function declaration'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>decl]</a>)<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;

<span class='comment'>// explicit specialization for <span class='tcode_in_codeblock'>sort(Array&lt;int&gt;&amp;)</span></span>
<span class='comment'>// with deduced template-argument of type <span class='tcode_in_codeblock'>int</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6590'>#</a></div><div class='texpara'><div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>: <div id='11.sentence-1' class='sentence'>An explicit specialization of a constrained template is required
to satisfy that template's associated constraints (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>)<a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>The satisfaction of constraints is determined
when forming the template name of an explicit specialization
in which all template arguments are specified (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>),
or, for explicit specializations of function templates,
during template argument deduction (<a href='temp.deduct.decl' title='13.10.3.7&emsp;Deducing template arguments from a function declaration'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>decl]</a>)
when one or more trailing template arguments are left unspecified<a class='hidden_link' href='#11.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6602'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'>A function with the same name as a template and a type that exactly matches that
of a template specialization is not an explicit specialization (<a href='temp.fct' title='13.7.7&emsp;Function templates'>[temp.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#12.sentence-1'>.</a></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6606'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'>Whether an explicit specialization of a function or variable template
is inline, constexpr, constinit, or consteval
is determined by the explicit specialization and
is independent of those properties of the template<a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.sentence-2' class='sentence'>Similarly,
attributes appearing in the declaration of a template
have no effect on an explicit specialization of that template<a class='hidden_link' href='#13.sentence-2'>.</a></div> <div id='example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-7'>7</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>inline</span> T g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>inline</span> <span class='keyword'>void</span> f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>   <span class='comment'>// OK, inline</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> g<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>           <span class='comment'>// OK, not inline</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>noreturn<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>[</span>maybe_unused<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>int</span> i<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> h<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='comment'>// Implementations are expected not to warn that the function returns</span>
    <span class='comment'>// but can warn about the unused parameter.</span>
<span class='curlybracket'>}</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6630'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'>An explicit specialization of a static data member of a template
or an explicit specialization of a static data member template is a
definition if the declaration includes an initializer;
otherwise, it is a declaration<a class='hidden_link' href='#14.sentence-1'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>: <div id='14.sentence-2' class='sentence'>The definition of a static data member of a template
for which default-initialization is desired
can use functional cast notation (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>):
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> X Q<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>x;                         <span class='comment'>// declaration</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> X Q<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>x <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// error: declares a function</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> X Q<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>x <span class='operator'>=</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// definition</span>
</span></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6646'>#</a></div><div class='texpara'><div id='15.sentence-1' class='sentence'>A member or a member template of a class template may be explicitly specialized
for a given implicit instantiation of the class template, even if the member
or member template is defined in the class template definition<a class='hidden_link' href='#15.sentence-1'>.</a></div> <div id='15.sentence-2' class='sentence'>An explicit specialization of a member or member template is specified using the
syntax for explicit specialization<a class='hidden_link' href='#15.sentence-2'>.</a></div> <div id='example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-8'>8</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g1<span class='parenthesis'>(</span>T, X1<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X2<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g2<span class='parenthesis'>(</span>T, X2<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='comment'>// specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;

<span class='comment'>// out of class member template definition</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g1<span class='parenthesis'>(</span>T, X1<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='comment'>// member template specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>g1<span class='parenthesis'>(</span><span class='keyword'>int</span>, X1<span class='parenthesis'>)</span>;

<span class='comment'>// member template specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>g1<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>char</span><span class='parenthesis'>)</span>;           <span class='comment'>// <span class='tcode_in_codeblock'>X1</span> deduced as <span class='tcode_in_codeblock'>char</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>g2<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>char</span><span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>X2</span> specified as <span class='tcode_in_codeblock'>char</span></span>

<span class='comment'>// member specialization even if defined in class definition</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6681'>#</a></div><div class='texpara'><div id='16.sentence-1' class='sentence'>A member or a member template may be nested within many enclosing class
templates<a class='hidden_link' href='#16.sentence-1'>.</a></div> <div id='16.sentence-2' class='sentence'>In an explicit specialization for such a member,
the member declaration shall be preceded by a
<span class='texttt'><span id=':template_________'><span class='texttt'><span class='keyword'>template</span></span></span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span>
for each enclosing class template that is explicitly specialized<a class='hidden_link' href='#16.sentence-2'>.</a></div> <div id='example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-9'>9</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> mf<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>mf<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6700'>#</a></div><div class='texpara'><div id='17.sentence-1' class='sentence'>In an explicit specialization declaration for a member of a class template or
a member template that appears in namespace scope,
the member template and some of its enclosing class templates may remain
unspecialized,
except that the declaration shall not explicitly specialize a class member
template if its enclosing class templates are not explicitly specialized
as well<a class='hidden_link' href='#17.sentence-1'>.</a></div> <div id='17.sentence-2' class='sentence'>In such an explicit specialization declaration, the keyword
<span id=':template__________'><span class='texttt'><span class='keyword'>template</span></span></span>
followed by a
<a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><i >template-parameter-list</i></span></span></a>
shall be provided instead of the
<span class='texttt'><span id=':template___________'><span class='texttt'><span class='keyword'>template</span></span></span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span>
preceding the explicit specialization declaration of the member<a class='hidden_link' href='#17.sentence-2'>.</a></div> <div id='17.sentence-3' class='sentence'>The types of the
<a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i>
in the
<a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_'><span class='textsf'><i >template-parameter-list</i></span></span></a>
shall be the same as those specified in the primary template definition<a class='hidden_link' href='#17.sentence-3'>.</a></div> <div id='example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-10'>10</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T3<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> mf1<span class='parenthesis'>(</span>T3<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> mf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span>
      <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> mf1<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>mf1<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Y<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>Y<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>mf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>       <span class='comment'>// error: <span class='tcode_in_codeblock'>B&lt;double&gt;</span> is specialized but</span>
                                        <span class='comment'>// its enclosing class template <span class='tcode_in_codeblock'>A</span> is not</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6740'>#</a></div><div class='texpara'><div id='18.sentence-1' class='sentence'>A specialization of a member function template, member class template,
or static data member template of
a non-specialized class template is itself a template<a class='hidden_link' href='#18.sentence-1'>.</a></div></div></div><div class='para' id='19'><div class='marginalizedparent'><a class='marginalized' href='#19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6745'>#</a></div><div class='texpara'><div id='19.sentence-1' class='sentence'>An explicit specialization declaration shall not be a friend declaration<a class='hidden_link' href='#19.sentence-1'>.</a></div></div></div><div class='para' id='20'><div class='marginalizedparent'><a class='marginalized' href='#20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/templates.tex#L6748'>#</a></div><div class='texpara'><div id='20.sentence-1' class='sentence'>Default function arguments shall not be specified in a declaration or
a definition for one of the following explicit specializations:
<ul class='itemize'><li id='20.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#20.1'>(20.1)</a></div>the explicit specialization of a function template;</li><li id='20.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#20.2'>(20.2)</a></div>the explicit specialization of a member function template;</li><li id='20.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#20.3'>(20.3)</a></div>the explicit specialization of a member function of a class template where
the class template specialization to which the member function specialization
belongs is implicitly instantiated<a class='hidden_link' href='#20.sentence-1'>.</a> <div class='texpara'><div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>: <div id='20.3.sentence-2' class='sentence'>Default function arguments can be specified in the declaration or
definition of a member function of a class template specialization that is
explicitly specialized<a class='hidden_link' href='#20.3.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div></div></body></html>