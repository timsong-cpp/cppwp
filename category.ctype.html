<!DOCTYPE html><html lang='en'><head><title>[category.ctype]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>22</a> Localization library <a class='abbr_ref' href='./#localization'>[localization]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>22.4</a> Standard <span class='texttt'>locale</span> categories <a class='abbr_ref' href='locale.categories#category.ctype'>[locale.categories]</a></h2><div id='category.ctype'><h3 ><a class='secnum' style='min-width:103pt'>22.4.1</a> The <span class='texttt'>ctype</span> category <a class='abbr_ref'>[category.ctype]</a></h3><p ><span class='indexparent'><a class='index' id='ctype_base'></a></span></p><pre class='codeblock'>
namespace std {
  class ctype_base {
  public:
    using mask = <span class='textit'>T</span>;

    <span class='comment'>// numeric values are for exposition only.
</span>    static const mask space = 1 &lt;&lt; 0;
    static const mask print = 1 &lt;&lt; 1;
    static const mask cntrl = 1 &lt;&lt; 2;
    static const mask upper = 1 &lt;&lt; 3;
    static const mask lower = 1 &lt;&lt; 4;
    static const mask alpha = 1 &lt;&lt; 5;
    static const mask digit = 1 &lt;&lt; 6;
    static const mask punct = 1 &lt;&lt; 7;
    static const mask xdigit = 1 &lt;&lt; 8;
    static const mask blank = 1 &lt;&lt; 9;
    static const mask alnum = alpha | digit;
    static const mask graph = alnum | punct;
  };
}</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1517'>#</a></div><p >The type
<span class='texttt'>mask</span>
is a bitmask type (<a href='bitmask.types'>[bitmask.types]</a>).</p></div><div id='locale.ctype'><h4 ><a class='secnum' href='#locale.ctype' style='min-width:118pt'>22.4.1.1</a> Class template <span class='texttt'>ctype</span> <a class='abbr_ref' href='locale.ctype'>[locale.ctype]</a></h4><p ><span class='indexparent'><a class='index' id='ctype'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class charT&gt;
    class ctype : public locale::facet, public ctype_base {
    public:
      using char_type = charT;

      explicit ctype(size_t refs = 0);

      bool         is(mask m, charT c) const;
      const charT* is(const charT* low, const charT* high, mask* vec) const;
      const charT* scan_is(mask m, const charT* low, const charT* high) const;
      const charT* scan_not(mask m, const charT* low, const charT* high) const;
      charT        toupper(charT c) const;
      const charT* toupper(charT* low, const charT* high) const;
      charT        tolower(charT c) const;
      const charT* tolower(charT* low, const charT* high) const;

      charT        widen(char c) const;
      const char*  widen(const char* low, const char* high, charT* to) const;
      char         narrow(charT c, char dfault) const;
      const charT* narrow(const charT* low, const charT* high, char dfault, char* to) const;

      static locale::id id;

    protected:
     ~ctype();
      virtual bool         do_is(mask m, charT c) const;
      virtual const charT* do_is(const charT* low, const charT* high, mask* vec) const;
      virtual const charT* do_scan_is(mask m, const charT* low, const charT* high) const;
      virtual const charT* do_scan_not(mask m, const charT* low, const charT* high) const;
      virtual charT        do_toupper(charT) const;
      virtual const charT* do_toupper(charT* low, const charT* high) const;
      virtual charT        do_tolower(charT) const;
      virtual const charT* do_tolower(charT* low, const charT* high) const;
      virtual charT        do_widen(char) const;
      virtual const char*  do_widen(const char* low, const char* high, charT* dest) const;
      virtual char         do_narrow(charT, char dfault) const;
      virtual const charT* do_narrow(const charT* low, const charT* high,
                                     char dfault, char* dest) const;
    };
}</pre><div class='para' id='locale.ctype-1'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1569'>#</a></div><p >Class
<span class='texttt'>ctype</span>
encapsulates the C library
<span class='texttt'>&lt;cctype&gt;</span>
features.
<span class='texttt'>istream</span>
members are required to use
<span class='texttt'>ctype&lt;&gt;</span>
for character classing during input parsing.</p></div><div class='para' id='locale.ctype-2'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1580'>#</a></div><p >The specializations required in Table <a href='locale.category#tab:localization.category.facets'>[tab:localization.category.facets]</a> (<a href='locale.category'>[locale.category]</a>), namely
<span class='texttt'>ctype&lt;char&gt;</span>
and
<span class='texttt'>ctype&lt;wchar_&shy;t&gt;</span>,
implement character classing appropriate
to the implementation's native character set.</p></div><div id='locale.ctype.members'><h4 ><a class='secnum' href='#locale.ctype.members' style='min-width:133pt'>22.4.1.1.1</a> <span class='texttt'>ctype</span> members <a class='abbr_ref' href='locale.ctype.members'>[locale.ctype.members]</a></h4><p ><span class='indexparent'><a class='index' id='ctype,is'></a></span><span class='indexparent'><a class='index' id='is,ctype'></a></span></p><p ><code class='itemdecl'>
bool         is(mask m, charT c) const;
const charT* is(const charT* low, const charT* high,
                mask* vec) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.members-1'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1598'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;is(m, c)</span>
or
<span class='texttt'>do_&shy;is(low, high, vec)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,scan_is'></a></span><span class='indexparent'><a class='index' id='scan_is,ctype'></a></span></p><p ><code class='itemdecl'>
const charT* scan_is(mask m,
                     const charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.members-2'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1612'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;scan_&shy;is(m, low, high)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,scan_not'></a></span><span class='indexparent'><a class='index' id='scan_not,ctype'></a></span></p><p ><code class='itemdecl'>
const charT* scan_not(mask m,
                      const charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.members-3'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1624'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;scan_&shy;not(m, low, high)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,toupper'></a></span><span class='indexparent'><a class='index' id='toupper,ctype'></a></span></p><p ><code class='itemdecl'>
charT        toupper(charT) const;
const charT* toupper(charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.members-4'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1636'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;toupper(c)</span>
or
<span class='texttt'>do_&shy;toupper(low, high)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,tolower'></a></span><span class='indexparent'><a class='index' id='tolower,ctype'></a></span></p><p ><code class='itemdecl'>
charT        tolower(charT c) const;
const charT* tolower(charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.members-5'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1650'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;tolower(c)</span>
or
<span class='texttt'>do_&shy;tolower(low, high)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,widen'></a></span><span class='indexparent'><a class='index' id='widen,ctype'></a></span></p><p ><code class='itemdecl'>
charT       widen(char c) const;
const char* widen(const char* low, const char* high, charT* to) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.members-6'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1664'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;widen(c)</span>
or
<span class='texttt'>do_&shy;widen(low, high, to)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,narrow'></a></span><span class='indexparent'><a class='index' id='narrow,ctype'></a></span></p><p ><code class='itemdecl'>
char         narrow(charT c, char dfault) const;
const charT* narrow(const charT* low, const charT* high, char dfault,
                    char* to) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.members-7'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1679'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;narrow(c, dfault)</span>
or
<span class='texttt'>do_&shy;narrow(low, high, dfault, to)</span>.
</p></div></div></div><div id='locale.ctype.virtuals'><h4 ><a class='secnum' href='#locale.ctype.virtuals' style='min-width:133pt'>22.4.1.1.2</a> <span class='texttt'>ctype</span> virtual functions <a class='abbr_ref' href='locale.ctype.virtuals'>[locale.ctype.virtuals]</a></h4><p ><span class='indexparent'><a class='index' id='ctype,do_is'></a></span><span class='indexparent'><a class='index' id='do_is,ctype'></a></span></p><p ><code class='itemdecl'>
bool         do_is(mask m, charT c) const;
const charT* do_is(const charT* low, const charT* high,
                   mask* vec) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.virtuals-1'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1696'>#</a></div><p ><span class='textit'>Effects:</span>
Classifies a character or sequence of characters.
For each argument character, identifies a value
<span class='texttt'>M</span>
of type
<span class='texttt'>ctype_&shy;base&#x200b;::&#x200b;mask</span>.
The second form identifies a value <span class='texttt'>M</span> of type
<span class='texttt'>ctype_&shy;base&#x200b;::&#x200b;mask</span>
for each
<span class='texttt'>*p</span>
where
<span class='texttt'>(low &lt;= p &amp;&amp; p &lt; high)</span>,
and places it into
<span class='texttt'>vec[p - low]</span>.</p></div></div><div class='para' id='locale.ctype.virtuals-2'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1712'>#</a></div><p ><span class='textit'>Returns:</span>
The first form returns the result of the expression
<span class='texttt'>(M &amp; m) != 0</span>;
i.e.,
<span class='texttt'>true</span>
if the character has the characteristics specified.
The second form returns <span class='texttt'>high</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype_base,do_scan_is'></a></span><span class='indexparent'><a class='index' id='do_scan_is,ctype_base'></a></span></p><p ><code class='itemdecl'>
const charT* do_scan_is(mask m, const charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.virtuals-3'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1728'>#</a></div><p ><span class='textit'>Effects:</span>
Locates a character in a buffer that conforms to a classification
<span class='texttt'>m</span>.</p></div></div><div class='para' id='locale.ctype.virtuals-4'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1733'>#</a></div><p ><span class='textit'>Returns:</span>
The smallest pointer <span class='texttt'>p</span> in the range
<span class='texttt'>[low, high)</span>
such that
<span class='texttt'>is(m, *p)</span>
would return
<span class='texttt'>true</span>;
otherwise, returns <span class='texttt'>high</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,do_scan_not'></a></span><span class='indexparent'><a class='index' id='do_scan_not,ctype'></a></span></p><p ><code class='itemdecl'>
const charT* do_scan_not(mask m, const charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.virtuals-5'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1750'>#</a></div><p ><span class='textit'>Effects:</span>
Locates a character in a buffer that fails to conform to a classification
<span class='texttt'>m</span>.</p></div></div><div class='para' id='locale.ctype.virtuals-6'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1755'>#</a></div><p ><span class='textit'>Returns:</span>
The smallest pointer <span class='texttt'>p</span>, if any, in the range
<span class='texttt'>[low, high)</span>
such that
<span class='texttt'>is(m, *p)</span>
would return
<span class='texttt'>false</span>;
otherwise, returns <span class='texttt'>high</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,do_toupper'></a></span><span class='indexparent'><a class='index' id='do_toupper,ctype'></a></span></p><p ><code class='itemdecl'>
charT        do_toupper(charT c) const;
const charT* do_toupper(charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.virtuals-7'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1773'>#</a></div><p ><span class='textit'>Effects:</span>
Converts a character or characters to upper case.
The second form replaces each character
<span class='texttt'>*p</span>
in the range
<span class='texttt'>[low, high)</span>
for which a corresponding upper-case character exists, with
that character.</p></div></div><div class='para' id='locale.ctype.virtuals-8'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1783'>#</a></div><p ><span class='textit'>Returns:</span>
The first form returns the corresponding upper-case character if it
is known to exist, or its argument if not.
The second form returns <span class='texttt'>high</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,do_tolower'></a></span><span class='indexparent'><a class='index' id='do_tolower,ctype'></a></span></p><p ><code class='itemdecl'>
charT        do_tolower(charT c) const;
const charT* do_tolower(charT* low, const charT* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.virtuals-9'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1797'>#</a></div><p ><span class='textit'>Effects:</span>
Converts a character or characters to lower case.
The second form replaces each character
<span class='texttt'>*p</span>
in the range
<span class='texttt'>[low, high)</span>
and for which a corresponding lower-case character exists,
with that character.</p></div></div><div class='para' id='locale.ctype.virtuals-10'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1807'>#</a></div><p ><span class='textit'>Returns:</span>
The first form returns the corresponding lower-case character if it
is known to exist, or its argument if not.
The second form returns <span class='texttt'>high</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,do_widen'></a></span><span class='indexparent'><a class='index' id='do_widen,ctype'></a></span></p><p ><code class='itemdecl'>
charT        do_widen(char c) const;
const char*  do_widen(const char* low, const char* high,
                      charT* dest) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.virtuals-11'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1822'>#</a></div><p ><span class='textit'>Effects:</span>
Applies the simplest reasonable transformation from a
<span class='texttt'>char</span>
value or sequence of
<span class='texttt'>char</span>
values to the corresponding
<span class='texttt'>charT</span>
value or values.<a class='footnotenum' href='#footnote-233'>233</a>
The only characters for which unique transformations are required
are those in the basic source character set (<a href='lex.charset'>[lex.charset]</a>).</p><p >For any named
<span class='texttt'>ctype</span>
category with a
<span class='texttt'>ctype &lt;charT&gt;</span>
facet <span class='texttt'>ctc</span> and valid
<span class='texttt'>ctype_&shy;base&#x200b;::&#x200b;mask</span>
value <span class='texttt'>M</span>,
<span class='texttt'>(ctc.&#x200b;is(M, c) || !is(M, do_&shy;widen(c)) )</span>
is
<span class='texttt'>true</span>.<a class='footnotenum' href='#footnote-234'>234</a></p><p >The second form transforms each character
<span class='texttt'>*p</span>
in the range
<span class='texttt'>[low, high)</span>,
placing the result in
<span class='texttt'>dest[p - low]</span>.</p></div></div><div class='para' id='locale.ctype.virtuals-12'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1856'>#</a></div><p ><span class='textit'>Returns:</span>
The first form returns the transformed value.
The second form returns <span class='texttt'>high</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype,do_narrow'></a></span><span class='indexparent'><a class='index' id='do_narrow,ctype'></a></span></p><p ><code class='itemdecl'>
char         do_narrow(charT c, char dfault) const;
const charT* do_narrow(const charT* low, const charT* high,
                       char dfault, char* dest) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.ctype.virtuals-13'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1870'>#</a></div><p ><span class='textit'>Effects:</span>
Applies the simplest reasonable transformation from a
<span class='texttt'>charT</span>
value or sequence of
<span class='texttt'>charT</span>
values to the corresponding
<span class='texttt'>char</span>
value or values.</p><p >For any character <span class='texttt'>c</span> in the basic source character set (<a href='lex.charset'>[lex.charset]</a>)
the transformation is such that</p><pre class='codeblock'>
do_widen(do_narrow(c, 0)) == c</pre><p >For any named
<span class='texttt'>ctype</span>
category with a
<span class='texttt'>ctype&lt;char&gt;</span>
facet <span class='texttt'>ctc</span> however, and
<span class='texttt'>ctype_&shy;base&#x200b;::&#x200b;mask</span>
value <span class='texttt'>M</span>,
</p><pre class='codeblock'>
(is(M, c) || !ctc.is(M, do_narrow(c, dfault)) )</pre><p >is
<span class='texttt'>true</span>
(unless
<span class='texttt'>do_&shy;narrow</span>
returns
<span class='texttt'>dfault</span>).
In addition, for any digit character <span class='texttt'>c</span>,
the expression
<span class='texttt'>(do_&shy;narrow(c, dfault) - '0')</span>
evaluates to the digit value of the character.
The second form transforms each character
<span class='texttt'>*p</span>
in the range
<span class='texttt'>[low, high)</span>,
placing the result (or <span class='texttt'>dfault</span>
if no simple transformation is readily available) in
<span class='texttt'>dest[p - low]</span>.</p></div></div><div class='para' id='locale.ctype.virtuals-14'><div class='marginalizedparent'><a class='marginalized' href='#locale.ctype.virtuals-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1915'>#</a></div><p ><span class='textit'>Returns:</span>
The first form returns the transformed value; or <span class='texttt'>dfault</span>
if no mapping is readily available.
The second form returns <span class='texttt'>high</span>.
</p></div></div><div class='footnote' id='footnote-233'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-233'>233)</a></div><p >The char argument of
<span class='texttt'>do_&shy;widen</span>
is intended to accept values derived from character literals for conversion
to the locale's encoding.</p></div><div class='footnote' id='footnote-234'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-234'>234)</a></div><p >In other words, the transformed character is not a member
of any character classification that <span class='texttt'>c</span> is not also a member of.</p></div></div></div><div id='locale.ctype.byname'><h4 ><a class='secnum' href='#locale.ctype.byname' style='min-width:118pt'>22.4.1.2</a> Class template <span class='texttt'>ctype_&shy;byname</span> <a class='abbr_ref' href='locale.ctype.byname'>[locale.ctype.byname]</a></h4><p ><span class='indexparent'><a class='index' id='ctype_byname'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class charT&gt;
    class ctype_byname : public ctype&lt;charT&gt; {
    public:
      using mask = typename ctype&lt;charT&gt;::mask;
      explicit ctype_byname(const char*, size_t refs = 0);
      explicit ctype_byname(const string&amp;, size_t refs = 0);
    protected:
     ~ctype_byname();
    };
}</pre></div><div id='facet.ctype.special'><h4 ><a class='secnum' href='#facet.ctype.special' style='min-width:118pt'>22.4.1.3</a> <span class='texttt'>ctype</span> specializations <a class='abbr_ref' href='facet.ctype.special'>[facet.ctype.special]</a></h4><p ><span class='indexparent'><a class='index' id='ctype<char>'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;&gt;
    class ctype&lt;char&gt; : public locale::facet, public ctype_base {
    public:
      using char_type = char;

      explicit ctype(const mask* tab = 0, bool del = false,
                     size_t refs = 0);

      bool is(mask m, char c) const;
      const char* is(const char* low, const char* high, mask* vec) const;
      const char* scan_is (mask m,
                           const char* low, const char* high) const;
      const char* scan_not(mask m,
                           const char* low, const char* high) const;

      char        toupper(char c) const;
      const char* toupper(char* low, const char* high) const;
      char        tolower(char c) const;
      const char* tolower(char* low, const char* high) const;

      char  widen(char c) const;
      const char* widen(const char* low, const char* high, char* to) const;
      char  narrow(char c, char dfault) const;
      const char* narrow(const char* low, const char* high, char dfault,
                         char* to) const;

      static locale::id id;
      static const size_t table_size = <span class='textit'>implementation-defined</span>;

      const mask* table() const noexcept;
      static const mask* classic_table() noexcept;

    protected:
     ~ctype();
      virtual char        do_toupper(char c) const;
      virtual const char* do_toupper(char* low, const char* high) const;
      virtual char        do_tolower(char c) const;
      virtual const char* do_tolower(char* low, const char* high) const;

      virtual char        do_widen(char c) const;
      virtual const char* do_widen(const char* low,
                                   const char* high,
                                   char* to) const;
      virtual char        do_narrow(char c, char dfault) const;
      virtual const char* do_narrow(const char* low,
                                    const char* high,
                                    char dfault, char* to) const;
    };
}</pre><div class='para' id='facet.ctype.special-1'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.special-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L1995'>#</a></div><p >A specialization
<span class='texttt'>ctype&lt;char&gt;</span>
is provided so that the member functions on type
<span class='texttt'>char</span>
can be implemented
<span class='texttt'>inline</span>.<a class='footnotenum' href='#footnote-235'>235</a>
The <span class='indexparent'><a class='index' id='value_of_ctype<char>::table_size'></a></span>implementation-defined value of member
<span class='texttt'>table_&shy;size</span>
is at least 256.</p></div><div class='footnote' id='footnote-235'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-235'>235)</a></div><p >Only the
<span class='texttt'>char</span>
(not
<span class='texttt'>unsigned char</span>
and
<span class='texttt'>signed char</span>)
form is provided.
The specialization is specified in the standard, and not left as an
implementation detail, because it affects the derivation interface for
<span class='texttt'>ctype&lt;char&gt;</span>.</p></div><div id='facet.ctype.char.dtor'><h4 ><a class='secnum' href='#facet.ctype.char.dtor' style='min-width:133pt'>22.4.1.3.1</a> <span class='texttt'>ctype&lt;char&gt;</span> destructor <a class='abbr_ref' href='facet.ctype.char.dtor'>[facet.ctype.char.dtor]</a></h4><p ><span class='indexparent'><a class='index' id='ctype<char>,destructor'></a></span></p><p ><code class='itemdecl'>
~ctype();
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2023'>#</a></div><p ><span class='textit'>Effects:</span>
If the constructor's first argument was nonzero, and its second argument
was <span class='texttt'>true</span>, does
<span class='texttt'>delete [] table()</span>.
</p></div></div></div><div id='facet.ctype.char.members'><h4 ><a class='secnum' href='#facet.ctype.char.members' style='min-width:133pt'>22.4.1.3.2</a> <span class='texttt'>ctype&lt;char&gt;</span> members <a class='abbr_ref' href='facet.ctype.char.members'>[facet.ctype.char.members]</a></h4><div class='para' id='facet.ctype.char.members-1'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2032'>#</a></div><p ><span class='indexparent'><a class='index' id='ctype<char>,ctype<char>'></a></span>In the following member descriptions, for
<span class='texttt'>unsigned char</span>
values <span class='texttt'>v</span> where <span class='texttt'>v &gt;= table_&shy;size</span>,
<span class='texttt'>table()[v]</span> is assumed to have an
implementation-specific value (possibly different for each
such value <span class='texttt'>v</span>) without performing the array lookup.</p><p ><span class='indexparent'><a class='index' id='ctype<char>,constructor'></a></span></p></div><p ><code class='itemdecl'>
explicit ctype(const mask* tbl = 0, bool del = false,
               size_t refs = 0);
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-2'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2048'>#</a></div><p ><span class='textit'>Requires:</span>
<span class='texttt'>tbl</span> either 0 or an array of at least
<span class='texttt'>table_&shy;size</span>
elements.</p></div></div><div class='para' id='facet.ctype.char.members-3'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2054'>#</a></div><p ><span class='textit'>Effects:</span>
Passes its <span class='texttt'>refs</span> argument to its base class constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,is'></a></span><span class='indexparent'><a class='index' id='is,ctype<char>'></a></span></p><p ><code class='itemdecl'>
bool        is(mask m, char c) const;
const char* is(const char* low, const char* high,
               mask* vec) const;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-4'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2067'>#</a></div><p ><span class='textit'>Effects:</span>
The second form, for all
<span class='texttt'>*p</span>
in the range
<span class='texttt'>[low, high)</span>,
assigns
into
<span class='texttt'>vec[p - low]</span>
the value
<span class='texttt'>table()[(unsigned char)*p]</span>.</p></div></div><div class='para' id='facet.ctype.char.members-5'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2079'>#</a></div><p ><span class='textit'>Returns:</span>
The first form returns
<span class='texttt'>table()[(unsigned char)c] &amp; m</span>;
the second form returns <span class='texttt'>high</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,scan_is'></a></span><span class='indexparent'><a class='index' id='scan_is,ctype<char>'></a></span></p><p ><code class='itemdecl'>
const char* scan_is(mask m,
                    const char* low, const char* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-6'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2093'>#</a></div><p ><span class='textit'>Returns:</span>
The smallest
<span class='texttt'>p</span>
in the range
<span class='texttt'>[low, high)</span>
such that
</p><pre class='codeblock'>
table()[(unsigned char) *p] &amp; m</pre><p >is
<span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,scan_not'></a></span><span class='indexparent'><a class='index' id='scan_not,ctype<char>'></a></span></p><p ><code class='itemdecl'>
const char* scan_not(mask m,
                     const char* low, const char* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-7'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2114'>#</a></div><p ><span class='textit'>Returns:</span>
The smallest
<span class='texttt'>p</span>
in the range
<span class='texttt'>[low, high)</span>
such that
</p><pre class='codeblock'>
table()[(unsigned char) *p] &amp; m</pre><p >is
<span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,toupper'></a></span><span class='indexparent'><a class='index' id='toupper,ctype<char>'></a></span></p><p ><code class='itemdecl'>
char        toupper(char c) const;
const char* toupper(char* low, const char* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-8'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2135'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;toupper(c)</span>
or
<span class='texttt'>do_&shy;toupper(low, high)</span>,
respectively.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,tolower'></a></span><span class='indexparent'><a class='index' id='tolower,ctype<char>'></a></span></p><p ><code class='itemdecl'>
char        tolower(char c) const;
const char* tolower(char* low, const char* high) const;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-9'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2150'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;tolower(c)</span>
or
<span class='texttt'>do_&shy;tolower(low, high)</span>,
respectively.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,widen'></a></span><span class='indexparent'><a class='index' id='widen,ctype<char>'></a></span></p><p ><code class='itemdecl'>
char  widen(char c) const;
const char* widen(const char* low, const char* high,
    char* to) const;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-10'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2166'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;widen(c)</span>
or
<span class='indexparent'><a class='index' id='do_widen'></a></span><span class='texttt'>do_&shy;widen(low, high, to)</span>,
respectively.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,narrow'></a></span><span class='indexparent'><a class='index' id='narrow,ctype<char>'></a></span></p><p ><code class='itemdecl'>
char        narrow(char c, char dfault) const;
const char* narrow(const char* low, const char* high,
                   char dfault, char* to) const;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-11'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2183'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='indexparent'><a class='index' id='do_narrow'></a></span><span class='texttt'>do_&shy;narrow(c, dfault)</span>
or
<span class='indexparent'><a class='index' id='do_narrow'></a></span><span class='texttt'>do_&shy;narrow(low, high, dfault, to)</span>,
respectively.
</p></div></div><p ><span class='indexparent'><a class='index' id='ctype<char>,table'></a></span><span class='indexparent'><a class='index' id='table,ctype<char>'></a></span></p><p ><code class='itemdecl'>
const mask* table() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.members-12'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.members-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2199'>#</a></div><p ><span class='textit'>Returns:</span>
The first constructor argument, if it was nonzero, otherwise
<span class='texttt'>classic_&shy;table()</span>.
</p></div></div></div><div id='facet.ctype.char.statics'><h4 ><a class='secnum' href='#facet.ctype.char.statics' style='min-width:133pt'>22.4.1.3.3</a> <span class='texttt'>ctype&lt;char&gt;</span> static members <a class='abbr_ref' href='facet.ctype.char.statics'>[facet.ctype.char.statics]</a></h4><p ><span class='indexparent'><a class='index' id='ctype<char>,classic_table'></a></span><span class='indexparent'><a class='index' id='classic_table,ctype<char>'></a></span></p><p ><code class='itemdecl'>
static const mask* classic_table() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='facet.ctype.char.statics-1'><div class='marginalizedparent'><a class='marginalized' href='#facet.ctype.char.statics-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2213'>#</a></div><p ><span class='textit'>Returns:</span>
A pointer to the initial element of an array of size
<span class='texttt'>table_&shy;size</span>
which represents the classifications of characters in the <span class='texttt'>"C"</span> locale.
</p></div></div></div><div id='facet.ctype.char.virtuals'><h4 ><a class='secnum' href='#facet.ctype.char.virtuals' style='min-width:133pt'>22.4.1.3.4</a> <span class='texttt'>ctype&lt;char&gt;</span> virtual functions <a class='abbr_ref' href='facet.ctype.char.virtuals'>[facet.ctype.char.virtuals]</a></h4><p ><span class='indexparent'><a class='index' id='ctype<char>,do_toupper'></a></span><span class='indexparent'><a class='index' id='do_toupper,ctype<char>'></a></span><span class='indexparent'><a class='index' id='ctype<char>,do_tolower'></a></span><span class='indexparent'><a class='index' id='do_tolower,ctype<char>'></a></span><span class='indexparent'><a class='index' id='ctype<char>,do_widen'></a></span><span class='indexparent'><a class='index' id='do_widen,ctype<char>'></a></span><span class='indexparent'><a class='index' id='ctype<char>,do_narrow'></a></span><span class='indexparent'><a class='index' id='do_narrow,ctype<char>'></a></span></p><pre class='codeblock'>
char        do_toupper(char) const;
const char* do_toupper(char* low, const char* high) const;
char        do_tolower(char) const;
const char* do_tolower(char* low, const char* high) const;

virtual char        do_widen(char c) const;
virtual const char* do_widen(const char* low,
                             const char* high,
                             char* to) const;
virtual char        do_narrow(char c, char dfault) const;
virtual const char* do_narrow(const char* low,
                              const char* high,
                              char dfault, char* to) const;</pre><p >These functions are described identically as those members of the
same name in the
<span class='texttt'>ctype</span>
class template (<a href='locale.ctype.members'>[locale.ctype.members]</a>).</p></div></div><div id='locale.codecvt'><h4 ><a class='secnum' href='#locale.codecvt' style='min-width:118pt'>22.4.1.4</a> Class template <span class='texttt'>codecvt</span> <a class='abbr_ref' href='locale.codecvt'>[locale.codecvt]</a></h4><p ><span class='indexparent'><a class='index' id='codecvt'></a></span></p><pre class='codeblock'>
namespace std {
  class codecvt_base {
  public:
    enum result { ok, partial, error, noconv };
  };

  template &lt;class internT, class externT, class stateT&gt;
    class codecvt : public locale::facet, public codecvt_base {
    public:
      using intern_type = internT;
      using extern_type = externT;
      using state_type  = stateT;

      explicit codecvt(size_t refs = 0);

      result out(
          stateT&amp; state,
          const internT* from, const internT* from_end, const internT*&amp; from_next,
                externT*   to,       externT*   to_end,       externT*&amp;   to_next) const;

      result unshift(
          stateT&amp; state,
                externT*    to,      externT*   to_end,       externT*&amp;   to_next) const;

      result in(
          stateT&amp; state,
          const externT* from, const externT* from_end, const externT*&amp; from_next,
                internT*   to,       internT*   to_end,       internT*&amp;   to_next) const;

      int encoding() const noexcept;
      bool always_noconv() const noexcept;
      int length(stateT&amp;, const externT* from, const externT* end, size_t max) const;
      int max_length() const noexcept;

      static locale::id id;

    protected:
      ~codecvt();
      virtual result do_out(
          stateT&amp; state,
          const internT* from, const internT* from_end, const internT*&amp; from_next,
                externT* to,         externT*   to_end,       externT*&amp;   to_next) const;
      virtual result do_in(
          stateT&amp; state,
          const externT* from, const externT* from_end, const externT*&amp; from_next,
                internT* to,         internT*   to_end,       internT*&amp;   to_next) const;
      virtual result do_unshift(
          stateT&amp; state,
                externT* to,         externT*   to_end,       externT*&amp;   to_next) const;

      virtual int do_encoding() const noexcept;
      virtual bool do_always_noconv() const noexcept;
      virtual int do_length(stateT&amp;, const externT* from, const externT* end, size_t max) const;
      virtual int do_max_length() const noexcept;
    };
}</pre><div class='para' id='locale.codecvt-1'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2309'>#</a></div><p >The class
<span class='texttt'>codecvt&lt;internT, externT, stateT&gt;</span>
is for use when
converting from one character encoding to another, such as from wide characters
to multibyte  characters or between wide character encodings such as
Unicode and EUC.</p></div><div class='para' id='locale.codecvt-2'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2317'>#</a></div><p >The
<span class='texttt'>stateT</span>
argument selects the pair of character encodings being mapped between.</p></div><div class='para' id='locale.codecvt-3'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2322'>#</a></div><p >The specializations required in Table <a href='locale.category#tab:localization.category.facets'>[tab:localization.category.facets]</a> (<a href='locale.category'>[locale.category]</a>)
convert the implementation-defined native character set.
<span class='texttt'>codecvt&lt;char, char, mbstate_&shy;t&gt;</span>
implements a degenerate conversion;
it does not convert at all.
The specialization <span class='texttt'>codecvt&lt;char16_&shy;t, char, mbstate_&shy;t&gt;</span>
converts between the UTF-16 and UTF-8 encoding forms, and
the specialization <span class='texttt'>codecvt</span> <span class='texttt'>&lt;char32_&shy;t, char, mbstate_&shy;t&gt;</span>
converts between the UTF-32 and UTF-8 encoding forms.
<span class='texttt'>codecvt&lt;wchar_&shy;t, char, mbstate_&shy;t&gt;</span>
converts between the native character sets for narrow and wide characters.
Specializations on
<span class='texttt'>mbstate_&shy;t</span>
perform conversion between encodings known to the library implementer.
Other encodings can be converted by specializing on a user-defined
<span class='texttt'>stateT</span>
type.
Objects of type
<span class='texttt'>stateT</span>
can contain any state that is useful to communicate to or from
the specialized
<span class='texttt'>do_&shy;in</span>
or
<span class='texttt'>do_&shy;out</span>
members.</p></div><div id='locale.codecvt.members'><h4 ><a class='secnum' href='#locale.codecvt.members' style='min-width:133pt'>22.4.1.4.1</a> <span class='texttt'>codecvt</span> members <a class='abbr_ref' href='locale.codecvt.members'>[locale.codecvt.members]</a></h4><p ><span class='indexparent'><a class='index' id='codecvt,out'></a></span><span class='indexparent'><a class='index' id='out,codecvt'></a></span></p><p ><code class='itemdecl'>
result out(
    stateT&amp; state,
    const internT* from, const internT* from_end, const internT*&amp; from_next,
    externT* to, externT* to_end, externT*&amp; to_next) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.members-1'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2360'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;out(state, from, from_&shy;end, from_&shy;next, to, to_&shy;end, to_&shy;next)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,unshift'></a></span><span class='indexparent'><a class='index' id='unshift,codecvt'></a></span></p><p ><code class='itemdecl'>
result unshift(stateT&amp; state, externT* to, externT* to_end, externT*&amp; to_next) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.members-2'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2371'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;unshift(state, to, to_&shy;end, to_&shy;next)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,in'></a></span><span class='indexparent'><a class='index' id='in,codecvt'></a></span></p><p ><code class='itemdecl'>
result in(
    stateT&amp; state,
    const externT* from, const externT* from_end, const externT*&amp; from_next,
    internT* to, internT* to_end, internT*&amp; to_next) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.members-3'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2385'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;in(state, from, from_&shy;end, from_&shy;next, to, to_&shy;end, to_&shy;next)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,encoding'></a></span><span class='indexparent'><a class='index' id='encoding,codecvt'></a></span></p><p ><code class='itemdecl'>
int encoding() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.members-4'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2396'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;encoding()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,always_noconv'></a></span><span class='indexparent'><a class='index' id='always_noconv,codecvt'></a></span></p><p ><code class='itemdecl'>
bool always_noconv() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.members-5'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2407'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;always_&shy;noconv()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,length'></a></span><span class='indexparent'><a class='index' id='length,codecvt'></a></span></p><p ><code class='itemdecl'>
int length(stateT&amp; state, const externT* from, const externT* from_end, size_t max) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.members-6'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2418'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;length(state, from, from_&shy;end, max)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,max_length'></a></span><span class='indexparent'><a class='index' id='max_length,codecvt'></a></span></p><p ><code class='itemdecl'>
int max_length() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.members-7'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2429'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>do_&shy;max_&shy;length()</span>.
</p></div></div></div><div id='locale.codecvt.virtuals'><h4 ><a class='secnum' href='#locale.codecvt.virtuals' style='min-width:133pt'>22.4.1.4.2</a> <span class='texttt'>codecvt</span> virtual functions <a class='abbr_ref' href='locale.codecvt.virtuals'>[locale.codecvt.virtuals]</a></h4><p ><span class='indexparent'><a class='index' id='codecvt,do_out'></a></span><span class='indexparent'><a class='index' id='do_out,codecvt'></a></span><span class='indexparent'><a class='index' id='codecvt,do_in'></a></span><span class='indexparent'><a class='index' id='do_in,codecvt'></a></span></p><p ><code class='itemdecl'>
result do_out(
    stateT&amp; state,
    const internT* from, const internT* from_end, const internT*&amp; from_next,
    externT* to, externT* to_end, externT*&amp; to_next) const;

result do_in(
    stateT&amp; state,
    const externT* from, const externT* from_end, const externT*&amp; from_next,
    internT* to, internT* to_end, internT*&amp; to_next) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.virtuals-1'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2451'>#</a></div><p ><span class='textit'>Requires:</span>
<span class='texttt'>(from &lt;= from_&shy;end &amp;&amp; to &lt;= to_&shy;end)</span>
well-defined and
<span class='texttt'>true</span>;
<span class='texttt'>state</span> initialized, if at the beginning of a sequence, or else equal to
the result of converting the preceding characters in the sequence.</p></div></div><div class='para' id='locale.codecvt.virtuals-2'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2459'>#</a></div><p ><span class='textit'>Effects:</span>
Translates characters in the source range
<span class='texttt'>[from, from_&shy;end)</span>,
placing the results in sequential positions starting at destination <span class='texttt'>to</span>.
Converts no more than
<span class='texttt'>(from_&shy;end - from)</span>
source elements, and
stores no more than
<span class='texttt'>(to_&shy;end - to)</span>
destination elements.</p><p >Stops if it encounters a character it cannot convert.
It always leaves the <span class='texttt'>from_&shy;next</span> and <span class='texttt'>to_&shy;next</span> pointers
pointing one beyond the last element successfully converted.
If returns
<span class='texttt'>noconv</span>,
<span class='texttt'>internT</span>
and
<span class='texttt'>externT</span>
are the same type and the converted sequence is
identical to the input sequence
<span class='texttt'>[from, from_&shy;<span class='nobreak'></span>next)</span>.
<span class='texttt'>to_&shy;next</span> is set equal to <span class='texttt'>to</span>, the value of <span class='texttt'>state</span> is
unchanged, and there are no changes to the values in
<span class='texttt'>[to, to_&shy;end)</span>.</p></div></div><div class='para' id='locale.codecvt.virtuals-3'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2486'>#</a></div><p >A
<span class='texttt'>codecvt</span>
facet that is used by
<span class='texttt'>basic_&shy;filebuf</span> (<a href='file.streams'>[file.streams]</a>) shall have the property that if
</p><pre class='codeblock'>
do_out(state, from, from_end, from_next, to, to_end, to_next)</pre><p >would return
<span class='texttt'>ok</span>,
where
<span class='texttt'>from != from_&shy;end</span>,
then
</p><pre class='codeblock'>
do_out(state, from, from + 1, from_next, to, to_end, to_next)</pre><p >shall also return
<span class='texttt'>ok</span>,
and that if
</p><pre class='codeblock'>
do_in(state, from, from_end, from_next, to, to_end, to_next)</pre><p >would return
<span class='texttt'>ok</span>,
where
<span class='texttt'>to != to_&shy;end</span>,
then
</p><pre class='codeblock'>
do_in(state, from, from_end, from_next, to, to + 1, to_next)</pre><p >shall also return
<span class='texttt'>ok</span>.<a class='footnotenum' href='#footnote-236'>236</a>
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> As a result of operations on <span class='texttt'>state</span>, it can return <span class='texttt'>ok</span> or <span class='texttt'>partial</span> and set <span class='texttt'>from_&shy;next == from</span> and <span class='texttt'>to_&shy;next != to</span>. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span><span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='locale.codecvt.virtuals-4'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2528'>#</a></div><p ><span class='textit'>Remarks:</span>
Its operations on <span class='texttt'>state</span> are unspecified.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
This argument can be used, for example, to maintain
shift state, to specify conversion options (such as count only), or to
identify a cache of seek offsets.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span><span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='locale.codecvt.virtuals-5'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2537'>#</a></div><p ><span class='textit'>Returns:</span>
An enumeration value, as summarized in Table <a href='#tab:localization.convert.result.values.out.in'>[tab:localization.convert.result.values.out.in]</a>.</p><div class='numberedTable' id='tab:localization.convert.result.values.out.in'>Table <a href='#tab:localization.convert.result.values.out.in'>71</a>  <span class='texttt'>do_&shy;in/do_&shy;out</span> result values<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Value</b></td><td colspan='1' class='center'><b>Meaning</b></td></tr><tr class='capsep'><td class='left'> 
<span class='texttt'>ok</span>                  </td><td class='justify'>   completed the conversion            </td></tr><tr ><td class='left'>
<span class='texttt'>partial</span>             </td><td class='justify'>   not all source characters converted </td></tr><tr ><td class='left'>
<span class='texttt'>error</span>               </td><td class='justify'>
encountered a character in <span class='texttt'>[from, from_&shy;end)</span>
that it could not convert                                           </td></tr><tr ><td class='left'>
<span class='texttt'>noconv</span>              </td><td class='justify'>
<span class='texttt'>internT</span> and <span class='texttt'>externT</span> are the same type, and input
sequence is identical to converted sequence                         </td></tr></table></div><p >A return value of
<span class='texttt'>partial</span>,
if
<span class='texttt'>(from_&shy;next == from_&shy;end)</span>,
indicates that either the destination sequence has not absorbed all the
available destination elements, or that additional source elements are
needed before another destination element can be produced.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,do_unshift'></a></span><span class='indexparent'><a class='index' id='do_unshift,codecvt'></a></span></p><p ><code class='itemdecl'>
result do_unshift(stateT&amp; state, externT* to, externT* to_end, externT*&amp; to_next) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.virtuals-6'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2570'>#</a></div><p ><span class='textit'>Requires:</span>
<span class='texttt'>(to &lt;= to_&shy;end)</span>
well defined and <span class='texttt'>true</span>; state initialized, if at the beginning of a sequence,
or else equal to the result of converting the preceding characters in the
sequence.</p></div></div><div class='para' id='locale.codecvt.virtuals-7'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2577'>#</a></div><p ><span class='textit'>Effects:</span>
Places characters starting at <span class='texttt'>to</span> that should be appended
to terminate a sequence when the current
<span class='texttt'>stateT</span>
is given by <span class='texttt'>state</span>.<a class='footnotenum' href='#footnote-237'>237</a>
Stores no more than
<span class='texttt'>(to_&shy;end - to)</span>
destination elements, and leaves the <span class='texttt'>to_&shy;next</span> pointer
pointing one beyond the last element successfully stored.</p></div></div><div class='para' id='locale.codecvt.virtuals-8'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2589'>#</a></div><p ><span class='textit'>Returns:</span>
An enumeration value, as summarized in Table <a href='#tab:localization.convert.result.values.unshift'>[tab:localization.convert.result.values.unshift]</a>.</p><div class='numberedTable' id='tab:localization.convert.result.values.unshift'>Table <a href='#tab:localization.convert.result.values.unshift'>72</a>  <span class='texttt'>do_&shy;unshift</span> result values<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Value</b></td><td colspan='1' class='center'><b>Meaning</b></td></tr><tr class='capsep'><td class='left'> 
<span class='texttt'>ok</span>                  </td><td class='justify'>   completed the sequence                                  </td></tr><tr ><td class='left'>
<span class='texttt'>partial</span>             </td><td class='justify'>
space for more than <span class='texttt'>to_&shy;end - to</span> destination elements was needed
to terminate a sequence given the value of <span class='texttt'>state</span></td></tr><tr ><td class='left'>
<span class='texttt'>error</span>               </td><td class='justify'>   an unspecified error has occurred </td></tr><tr ><td class='left'>
<span class='texttt'>noconv</span>              </td><td class='justify'>   no termination is needed for this <span class='texttt'>state_&shy;type</span>    </td></tr></table></div></div></div><p ><span class='indexparent'><a class='index' id='codecvt,do_encoding'></a></span><span class='indexparent'><a class='index' id='do_encoding,codecvt'></a></span></p><p ><code class='itemdecl'>
int do_encoding() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.virtuals-9'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2612'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>-1</span> if the encoding of the <span class='texttt'>externT</span> sequence is state-dependent; else the
constant number of <span class='texttt'>externT</span> characters needed to produce an internal
character; or <span class='texttt'>0</span> if this number is not a constant.<a class='footnotenum' href='#footnote-238'>238</a>
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,do_always_noconv'></a></span><span class='indexparent'><a class='index' id='do_always_noconv,codecvt'></a></span></p><p ><code class='itemdecl'>
bool do_always_noconv() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.virtuals-10'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2629'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>true</span>
if
<span class='texttt'>do_&shy;in()</span>
and
<span class='texttt'>do_&shy;out()</span>
return
<span class='texttt'>noconv</span>
for all valid argument values.
<span class='texttt'>codecvt&lt;char, char, mbstate_&shy;t&gt;</span>
returns
<span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,do_length'></a></span><span class='indexparent'><a class='index' id='do_length,codecvt'></a></span></p><p ><code class='itemdecl'>
int do_length(stateT&amp; state, const externT* from, const externT* from_end, size_t max) const;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.virtuals-11'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2650'>#</a></div><p ><span class='textit'>Requires:</span>
<span class='texttt'>(from &lt;= from_&shy;end)</span>
well-defined and
<span class='texttt'>true</span>;
<span class='texttt'>state</span> initialized, if at the beginning of a sequence, or else equal to
the result of converting the preceding characters in the sequence.</p></div></div><div class='para' id='locale.codecvt.virtuals-12'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2658'>#</a></div><p ><span class='textit'>Effects:</span>
The effect on the <span class='texttt'>state</span> argument is as if it called
<span class='texttt'>do_&shy;in(state, from, from_&shy;end, from, to, to+max, to)</span>
for <span class='texttt'>to</span> pointing to a buffer of at least <span class='texttt'>max</span> elements.</p></div></div><div class='para' id='locale.codecvt.virtuals-13'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2664'>#</a></div><p ><span class='textit'>Returns:</span>
<span class='texttt'>(from_&shy;next-from)</span>
where
<span class='texttt'>from_&shy;next</span>
is the largest value in the range
<span class='texttt'>[from, from_&shy;end]</span>
such that the sequence of values in the range
<span class='texttt'>[from, from_&shy;next)</span>
represents
<span class='texttt'>max</span>
or fewer valid complete characters of type
<span class='texttt'>internT</span>.
The specialization
<span class='texttt'>codecvt&lt;char, char, mbstate_&shy;t&gt;</span>,
returns the lesser of
<span class='texttt'>max</span>
and
<span class='texttt'>(from_&shy;end-from)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='codecvt,do_max_length'></a></span><span class='indexparent'><a class='index' id='do_max_length,codecvt'></a></span></p><p ><code class='itemdecl'>
int do_max_length() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='locale.codecvt.virtuals-14'><div class='marginalizedparent'><a class='marginalized' href='#locale.codecvt.virtuals-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/701df7eac2474300d2b602700a3c32a51ef439a7/source/locales.tex#L2691'>#</a></div><p ><span class='textit'>Returns:</span>
The maximum value that
<span class='texttt'>do_&shy;length(state, from, from_&shy;end, 1)</span>
can return for any valid range
<span class='texttt'>[from, from_&shy;end)</span>
and
<span class='texttt'>stateT</span>
value
<span class='texttt'>state</span>.
The specialization
<span class='texttt'>codecvt&lt;char, char, mbstate_&shy;t&gt;&#x200b;&#x200b;::&#x200b;&#x200b;do_&shy;max_&shy;length()</span>
returns 1.
</p></div></div><div class='footnote' id='footnote-236'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-236'>236)</a></div><p >Informally, this means that
<span class='texttt'>basic_&shy;filebuf</span>
assumes that the mappings from internal to external characters is
1 to N: a
<span class='texttt'>codecvt</span>
facet that is used by
<span class='texttt'>basic_&shy;filebuf</span>
must be able to translate characters one internal character at a time.
</p></div><div class='footnote' id='footnote-237'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-237'>237)</a></div><p >Typically these will be characters to return the state to
<span class='texttt'>stateT()</span>.</p></div><div class='footnote' id='footnote-238'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-238'>238)</a></div><p >If <span class='texttt'>encoding()</span>
yields <span class='texttt'>-1</span>, then more than <span class='texttt'>max_&shy;length()</span> <span class='texttt'>externT</span> elements
may be consumed when producing a single <span class='texttt'>internT</span> character, and additional
<span class='texttt'>externT</span> elements may appear at the end of a sequence after those that
yield the final <span class='texttt'>internT</span> character.</p></div></div></div><div id='locale.codecvt.byname'><h4 ><a class='secnum' href='#locale.codecvt.byname' style='min-width:118pt'>22.4.1.5</a> Class template <span class='texttt'>codecvt_&shy;byname</span> <a class='abbr_ref' href='locale.codecvt.byname'>[locale.codecvt.byname]</a></h4><p ><span class='indexparent'><a class='index' id='codecvt_byname'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class internT, class externT, class stateT&gt;
    class codecvt_byname : public codecvt&lt;internT, externT, stateT&gt; {
    public:
      explicit codecvt_byname(const char*, size_t refs = 0);
      explicit codecvt_byname(const string&amp;, size_t refs = 0);
    protected:
      ~codecvt_byname();
    };
}</pre></div></div></div></body></html>