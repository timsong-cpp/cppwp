<!DOCTYPE html><html lang='en'><head><title>[flat.map.modifiers]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>23</a> Containers library <a class='abbr_ref' href='./#containers'>[containers]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>23.6</a> Container adaptors <a class='abbr_ref' href='container.adaptors#flat.map.modifiers'>[container.adaptors]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>23.6.8</a> Class template <span class='texttt'>flat_<span class='shy'></span>map</span> <a class='abbr_ref' href='flat.map#modifiers'>[flat.map]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>23.6.8.7</a> Modifiers <a class='abbr_ref'>[flat.map.modifiers]</a></h4><div class='texpara'><div id='lib:flat_map,emplace'><div id='lib:emplace,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16444'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>pair<span class='anglebracket'>&lt;</span>key_<span class='shy'></span>type, mapped_<span class='shy'></span>type<span class='anglebracket'>&gt;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#1.sentence-1'>.</a></div></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16448'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><i >Effects</i>: Initializes an object <span class='texttt'>t</span> of type <span class='texttt'>pair<span class='anglebracket'>&lt;</span>key_<span class='shy'></span>type, mapped_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>
with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span>;
if the map already contains an element
whose key is equivalent to <span class='texttt'>t<span class='operator'>.</span>first</span>,
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> is unchanged<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>Otherwise, equivalent to:
<span class='codeblock'><span class='keyword'>auto</span> key_it <span class='operator'>=</span> ranges<span class='operator'>::</span>upper_bound<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys, t<span class='operator'>.</span>first, compare<span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> value_it <span class='operator'>=</span> c<span class='operator'>.</span>values<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> distance<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, key_it<span class='parenthesis'>)</span>;
c<span class='operator'>.</span>keys<span class='operator'>.</span>insert<span class='parenthesis'>(</span>key_it, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>t<span class='operator'>.</span>first<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
c<span class='operator'>.</span>values<span class='operator'>.</span>insert<span class='parenthesis'>(</span>value_it, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>t<span class='operator'>.</span>second<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16463'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><i >Returns</i>: The <span class='texttt'><span class='keyword'>bool</span></span> component of the returned pair is <span class='texttt'><span class='literal'>true</span></span>
if and only if the insertion took place, and
the iterator component of the pair points to
the element with key equivalent to <span class='texttt'>t<span class='operator'>.</span>first</span><a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,insert'><div id='lib:insert,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:insert,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> P<span class='anglebracket'>&gt;</span> pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> insert<span class='parenthesis'>(</span>P<span class='operator'>&amp;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> P<span class='anglebracket'>&gt;</span> iterator insert<span class='parenthesis'>(</span>const_iterator position, P<span class='operator'>&amp;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16478'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>pair<span class='anglebracket'>&lt;</span>key_<span class='shy'></span>type, mapped_<span class='shy'></span>type<span class='anglebracket'>&gt;</span>, P<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16482'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><i >Effects</i>: The first form is equivalent to <span class='texttt'><span class='keyword'>return</span> emplace<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>P<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;</span><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The second form is equivalent to
<span class='texttt'><span class='keyword'>return</span> emplace_<span class='shy'></span>hint<span class='parenthesis'>(</span>position, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>P<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;</span><a class='hidden_link' href='#5.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,insert_'><div id='lib:insert,flat_map_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:insert,flat_map_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> InputIterator<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> insert<span class='parenthesis'>(</span>InputIterator first, InputIterator last<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16496'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><i >Effects</i>: Adds elements to <span class='texttt'>c</span> as if by:
<span class='codeblock'><span class='keyword'>for</span> <span class='parenthesis'>(</span>; first <span class='operator'>!</span><span class='operator'>=</span> last; <span class='operator'>+</span><span class='operator'>+</span>first<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  value_type value <span class='operator'>=</span> <span class='operator'>*</span>first;
  c<span class='operator'>.</span>keys<span class='operator'>.</span>insert<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>value<span class='operator'>.</span>first<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  c<span class='operator'>.</span>values<span class='operator'>.</span>insert<span class='parenthesis'>(</span>c<span class='operator'>.</span>values<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>value<span class='operator'>.</span>second<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div> <div id='6.sentence-2' class='sentence'>
Then, sorts the range of newly inserted elements
with respect to <span class='texttt'>value_<span class='shy'></span>comp<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>;
merges the resulting sorted range and
the sorted range of pre-existing elements into a single sorted range; and
finally erases the duplicate elements as if by:
<span class='codeblock'><span class='keyword'>auto</span> zv <span class='operator'>=</span> views<span class='operator'>::</span>zip<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys, c<span class='operator'>.</span>values<span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> it <span class='operator'>=</span> ranges<span class='operator'>::</span>unique<span class='parenthesis'>(</span>zv, key_equiv<span class='parenthesis'>(</span>compare<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> dist <span class='operator'>=</span> distance<span class='parenthesis'>(</span>zv<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, it<span class='parenthesis'>)</span>;
c<span class='operator'>.</span>keys<span class='operator'>.</span>erase<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> dist, c<span class='operator'>.</span>keys<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
c<span class='operator'>.</span>values<span class='operator'>.</span>erase<span class='parenthesis'>(</span>c<span class='operator'>.</span>values<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> dist, c<span class='operator'>.</span>values<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16519'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'><i >Complexity</i>: <span class='math'><span class='mathalpha'>N</span></span> + <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">log</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span></span></span></span></span>,
where <span class='math'><span class='mathalpha'>N</span></span> is <span class='texttt'>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> before the operation and
<span class='math'><span class='mathalpha'>M</span></span> is <span class='texttt'>distance<span class='parenthesis'>(</span>first, last<span class='parenthesis'>)</span></span><a class='hidden_link' href='#7.sentence-1'>.</a></div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16525'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'><i >Remarks</i>: Since this operation performs an in-place merge, it may allocate memory<a class='hidden_link' href='#8.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,insert__'><div id='lib:insert,flat_map__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:insert,flat_map__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> InputIterator<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> insert<span class='parenthesis'>(</span>sorted_unique_t, InputIterator first, InputIterator last<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16537'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'><i >Effects</i>: Adds elements to <span class='texttt'>c</span> as if by:
<span class='codeblock'><span class='keyword'>for</span> <span class='parenthesis'>(</span>; first <span class='operator'>!</span><span class='operator'>=</span> last; <span class='operator'>+</span><span class='operator'>+</span>first<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  value_type value <span class='operator'>=</span> <span class='operator'>*</span>first;
  c<span class='operator'>.</span>keys<span class='operator'>.</span>insert<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>value<span class='operator'>.</span>first<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  c<span class='operator'>.</span>values<span class='operator'>.</span>insert<span class='parenthesis'>(</span>c<span class='operator'>.</span>values<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>value<span class='operator'>.</span>second<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div> <div id='9.sentence-2' class='sentence'>
Then, merges the sorted range of newly added elements and
the sorted range of pre-existing elements into a single sorted range; and
finally erases the duplicate elements as if by:
<span class='codeblock'><span class='keyword'>auto</span> zv <span class='operator'>=</span> views<span class='operator'>::</span>zip<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys, c<span class='operator'>.</span>values<span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> it <span class='operator'>=</span> ranges<span class='operator'>::</span>unique<span class='parenthesis'>(</span>zv, key_equiv<span class='parenthesis'>(</span>compare<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> dist <span class='operator'>=</span> distance<span class='parenthesis'>(</span>zv<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, it<span class='parenthesis'>)</span>;
c<span class='operator'>.</span>keys<span class='operator'>.</span>erase<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> dist, c<span class='operator'>.</span>keys<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
c<span class='operator'>.</span>values<span class='operator'>.</span>erase<span class='parenthesis'>(</span>c<span class='operator'>.</span>values<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> dist, c<span class='operator'>.</span>values<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16558'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'><i >Complexity</i>: Linear in <span class='math'><span class='mathalpha'>N</span></span>, where <span class='math'><span class='mathalpha'>N</span></span> is <span class='texttt'>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> after the operation<a class='hidden_link' href='#10.sentence-1'>.</a></div></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16562'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'><i >Remarks</i>: Since this operation performs an in-place merge, it may allocate memory<a class='hidden_link' href='#11.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,insert_range'><div id='lib:insert_range,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:insert_range,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><a href='container.intro.reqmts#concept:container-compatible-range' title='23.2.2.1&emsp;Introduction&emsp;[container.intro.reqmts]'><span id='conceptref:container-compatible-range'><span class='texttt'><i >container-compatible-range</i></span></span></a><span class='anglebracket'>&lt;</span>value_type<span class='anglebracket'>&gt;</span> R<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> insert_range<span class='parenthesis'>(</span>R<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rg<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16574'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'><i >Effects</i>: Adds elements to <span class='texttt'>c</span> as if by:
<span class='codeblock'><span class='keyword'>for</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span> e <span class='operator'>:</span> rg<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  c<span class='operator'>.</span>keys<span class='operator'>.</span>insert<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, e<span class='operator'>.</span>first<span class='parenthesis'>)</span>;
  c<span class='operator'>.</span>values<span class='operator'>.</span>insert<span class='parenthesis'>(</span>c<span class='operator'>.</span>values<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, e<span class='operator'>.</span>second<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div> <div id='12.sentence-2' class='sentence'>
Then, sorts the range of newly inserted elements
with respect to <span class='texttt'>value_<span class='shy'></span>comp<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>;
merges the resulting sorted range and
the sorted range of pre-existing elements into a single sorted range; and
finally erases the duplicate elements as if by:
<span class='codeblock'><span class='keyword'>auto</span> zv <span class='operator'>=</span> views<span class='operator'>::</span>zip<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys, c<span class='operator'>.</span>values<span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> it <span class='operator'>=</span> ranges<span class='operator'>::</span>unique<span class='parenthesis'>(</span>zv, key_equiv<span class='parenthesis'>(</span>compare<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> dist <span class='operator'>=</span> distance<span class='parenthesis'>(</span>zv<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, it<span class='parenthesis'>)</span>;
c<span class='operator'>.</span>keys<span class='operator'>.</span>erase<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> dist, c<span class='operator'>.</span>keys<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
c<span class='operator'>.</span>values<span class='operator'>.</span>erase<span class='parenthesis'>(</span>c<span class='operator'>.</span>values<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> dist, c<span class='operator'>.</span>values<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16596'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'><i >Complexity</i>: <span class='math'><span class='mathalpha'>N</span></span> + <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">log</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span></span></span></span></span>,
where <span class='math'><span class='mathalpha'>N</span></span> is <span class='texttt'>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> before the operation and
<span class='math'><span class='mathalpha'>M</span></span> is <span class='texttt'>ranges<span class='operator'>&#x200b;::&#x200b;</span>distance<span class='parenthesis'>(</span>rg<span class='parenthesis'>)</span></span><a class='hidden_link' href='#13.sentence-1'>.</a></div></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16602'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'><i >Remarks</i>: Since this operation performs an in-place merge, it may allocate memory<a class='hidden_link' href='#14.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,try_emplace'><div id='lib:try_emplace,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:try_emplace,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> try_emplace<span class='parenthesis'>(</span><span class='keyword'>const</span> key_type<span class='operator'>&amp;</span> k, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> try_emplace<span class='parenthesis'>(</span>key_type<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  iterator try_emplace<span class='parenthesis'>(</span>const_iterator hint, <span class='keyword'>const</span> key_type<span class='operator'>&amp;</span> k, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  iterator try_emplace<span class='parenthesis'>(</span>const_iterator hint, key_type<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16620'>#</a></div><div class='texpara'><div id='15.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>mapped_<span class='shy'></span>type, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#15.sentence-1'>.</a></div></div></div></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16624'>#</a></div><div class='texpara'><div id='16.sentence-1' class='sentence'><i >Effects</i>: If the map already contains an element whose key is equivalent to <span class='texttt'>k</span>,
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and <span class='texttt'>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> are unchanged<a class='hidden_link' href='#16.sentence-1'>.</a></div> <div id='16.sentence-2' class='sentence'>Otherwise equivalent to:
<span class='codeblock'><span class='keyword'>auto</span> key_it <span class='operator'>=</span> ranges<span class='operator'>::</span>upper_bound<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys, k, compare<span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> value_it <span class='operator'>=</span> c<span class='operator'>.</span>values<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> distance<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, key_it<span class='parenthesis'>)</span>;
c<span class='operator'>.</span>keys<span class='operator'>.</span>insert<span class='parenthesis'>(</span>key_it, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
c<span class='operator'>.</span>values<span class='operator'>.</span>emplace<span class='parenthesis'>(</span>value_it, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16636'>#</a></div><div class='texpara'><div id='17.sentence-1' class='sentence'><i >Returns</i>: In the first two overloads,
the <span class='texttt'><span class='keyword'>bool</span></span> component of the returned pair is <span class='texttt'><span class='literal'>true</span></span>
if and only if the insertion took place<a class='hidden_link' href='#17.sentence-1'>.</a></div> <div id='17.sentence-2' class='sentence'>The returned iterator points to the map element
whose key is equivalent to <span class='texttt'>k</span><a class='hidden_link' href='#17.sentence-2'>.</a></div></div></div></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16644'>#</a></div><div class='texpara'><div id='18.sentence-1' class='sentence'><i >Complexity</i>: The same as <span class='texttt'>emplace</span> for the first two overloads, and
the same as <span class='texttt'>emplace_<span class='shy'></span>hint</span> for the last two overloads<a class='hidden_link' href='#18.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,try_emplace_'><div id='lib:try_emplace,flat_map_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:try_emplace,flat_map_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> K, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> try_emplace<span class='parenthesis'>(</span>K<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> K, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  iterator try_emplace<span class='parenthesis'>(</span>const_iterator hint, K<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='19'><div class='marginalizedparent'><a class='marginalized' href='#19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16659'>#</a></div><div class='texpara'><div id='19.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='19.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#19.1'>(19.1)</a></div><div class='texpara'><div id='19.1.sentence-1' class='sentence'>The <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a> <span class='texttt'>Compare<span class='operator'>&#x200b;::&#x200b;</span>is_<span class='shy'></span>transparent</span>
is valid and denotes a type<a class='hidden_link' href='#19.1.sentence-1'>.</a></div></div></li><li id='19.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#19.2'>(19.2)</a></div><div class='texpara'><div id='19.2.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>key_<span class='shy'></span>type, K<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#19.2.sentence-1'>.</a></div></div></li><li id='19.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#19.3'>(19.3)</a></div><div class='texpara'><div id='19.3.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>mapped_<span class='shy'></span>type, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#19.3.sentence-1'>.</a></div></div></li><li id='19.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#19.4'>(19.4)</a></div><div class='texpara'><div id='19.4.sentence-1' class='sentence'>For the first overload,
<span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>K<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, const_<span class='shy'></span>iterator<span class='anglebracket'>&gt;</span></span> and
<span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>K<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, iterator<span class='anglebracket'>&gt;</span></span> are both <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#19.4.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='20'><div class='marginalizedparent'><a class='marginalized' href='#20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16675'>#</a></div><div class='texpara'><div id='20.sentence-1' class='sentence'><i >Preconditions</i>: The conversion from <span class='texttt'>k</span> into <span class='texttt'>key_<span class='shy'></span>type</span> constructs
an object <span class='texttt'>u</span>,
for which <span class='texttt'>find<span class='parenthesis'>(</span>k<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> find<span class='parenthesis'>(</span>u<span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#20.sentence-1'>.</a></div></div></div></div><div class='para' id='21'><div class='marginalizedparent'><a class='marginalized' href='#21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16681'>#</a></div><div class='texpara'><div id='21.sentence-1' class='sentence'><i >Effects</i>: If the map already contains an element whose key is equivalent to <span class='texttt'>k</span>,
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and <span class='texttt'>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> are unchanged<a class='hidden_link' href='#21.sentence-1'>.</a></div> <div id='21.sentence-2' class='sentence'>Otherwise equivalent to:
<span class='codeblock'><span class='keyword'>auto</span> key_it <span class='operator'>=</span> ranges<span class='operator'>::</span>upper_bound<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys, k, compare<span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> value_it <span class='operator'>=</span> c<span class='operator'>.</span>values<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> distance<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, key_it<span class='parenthesis'>)</span>;
c<span class='operator'>.</span>keys<span class='operator'>.</span>emplace<span class='parenthesis'>(</span>key_it, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>K<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
c<span class='operator'>.</span>values<span class='operator'>.</span>emplace<span class='parenthesis'>(</span>value_it, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para' id='22'><div class='marginalizedparent'><a class='marginalized' href='#22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16693'>#</a></div><div class='texpara'><div id='22.sentence-1' class='sentence'><i >Returns</i>: In the first overload,
the <span class='texttt'><span class='keyword'>bool</span></span> component of the returned pair is <span class='texttt'><span class='literal'>true</span></span>
if and only if the insertion took place<a class='hidden_link' href='#22.sentence-1'>.</a></div> <div id='22.sentence-2' class='sentence'>The returned iterator points to the map element
whose key is equivalent to <span class='texttt'>k</span><a class='hidden_link' href='#22.sentence-2'>.</a></div></div></div></div><div class='para' id='23'><div class='marginalizedparent'><a class='marginalized' href='#23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16701'>#</a></div><div class='texpara'><div id='23.sentence-1' class='sentence'><i >Complexity</i>: The same as <span class='texttt'>emplace</span> and <span class='texttt'>emplace_<span class='shy'></span>hint</span>, respectively<a class='hidden_link' href='#23.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,insert_or_assign'><div id='lib:insert_or_assign,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:insert_or_assign,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> M<span class='anglebracket'>&gt;</span>
  pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> insert_or_assign<span class='parenthesis'>(</span><span class='keyword'>const</span> key_type<span class='operator'>&amp;</span> k, M<span class='operator'>&amp;</span><span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> M<span class='anglebracket'>&gt;</span>
  pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> insert_or_assign<span class='parenthesis'>(</span>key_type<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, M<span class='operator'>&amp;</span><span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> M<span class='anglebracket'>&gt;</span>
  iterator insert_or_assign<span class='parenthesis'>(</span>const_iterator hint, <span class='keyword'>const</span> key_type<span class='operator'>&amp;</span> k, M<span class='operator'>&amp;</span><span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> M<span class='anglebracket'>&gt;</span>
  iterator insert_or_assign<span class='parenthesis'>(</span>const_iterator hint, key_type<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, M<span class='operator'>&amp;</span><span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='24'><div class='marginalizedparent'><a class='marginalized' href='#24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16719'>#</a></div><div class='texpara'><div id='24.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>mapped_<span class='shy'></span>type<span class='operator'>&amp;</span>, M<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>mapped_<span class='shy'></span>type, M<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#24.sentence-1'>.</a></div></div></div></div><div class='para' id='25'><div class='marginalizedparent'><a class='marginalized' href='#25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16724'>#</a></div><div class='texpara'><div id='25.sentence-1' class='sentence'><i >Effects</i>: If the map already contains an element <span class='texttt'>e</span>
whose key is equivalent to <span class='texttt'>k</span>,
assigns <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>M<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span></span> to <span class='texttt'>e<span class='operator'>.</span>second</span><a class='hidden_link' href='#25.sentence-1'>.</a></div> <div id='25.sentence-2' class='sentence'>Otherwise, equivalent to
<span class='codeblock'>try_emplace<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>M<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span>
for the first two overloads or
<span class='codeblock'>try_emplace<span class='parenthesis'>(</span>hint, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>M<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span>
for the last two overloads<a class='hidden_link' href='#25.sentence-2'>.</a></div></div></div></div><div class='para' id='26'><div class='marginalizedparent'><a class='marginalized' href='#26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16739'>#</a></div><div class='texpara'><div id='26.sentence-1' class='sentence'><i >Returns</i>: In the first two overloads, the <span class='texttt'><span class='keyword'>bool</span></span> component of the returned pair
is <span class='texttt'><span class='literal'>true</span></span> if and only if the insertion took place<a class='hidden_link' href='#26.sentence-1'>.</a></div> <div id='26.sentence-2' class='sentence'>The returned
iterator points to the map element whose key is equivalent to <span class='texttt'>k</span><a class='hidden_link' href='#26.sentence-2'>.</a></div></div></div></div><div class='para' id='27'><div class='marginalizedparent'><a class='marginalized' href='#27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16745'>#</a></div><div class='texpara'><div id='27.sentence-1' class='sentence'><i >Complexity</i>: The same as <span class='texttt'>emplace</span> for the first two overloads and
the same as <span class='texttt'>emplace_<span class='shy'></span>hint</span> for the last two overloads<a class='hidden_link' href='#27.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,insert_or_assign_'><div id='lib:insert_or_assign,flat_map_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:insert_or_assign,flat_map_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> K, <span class='keyword'>class</span> M<span class='anglebracket'>&gt;</span>
  pair<span class='anglebracket'>&lt;</span>iterator, <span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> insert_or_assign<span class='parenthesis'>(</span>K<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, M<span class='operator'>&amp;</span><span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> K, <span class='keyword'>class</span> M<span class='anglebracket'>&gt;</span>
  iterator insert_or_assign<span class='parenthesis'>(</span>const_iterator hint, K<span class='operator'>&amp;</span><span class='operator'>&amp;</span> k, M<span class='operator'>&amp;</span><span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='28'><div class='marginalizedparent'><a class='marginalized' href='#28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16760'>#</a></div><div class='texpara'><div id='28.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='28.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#28.1'>(28.1)</a></div><div class='texpara'><div id='28.1.sentence-1' class='sentence'>The <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a> <span class='texttt'>Compare<span class='operator'>&#x200b;::&#x200b;</span>is_<span class='shy'></span>transparent</span>
is valid and denotes a type<a class='hidden_link' href='#28.1.sentence-1'>.</a></div></div></li><li id='28.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#28.2'>(28.2)</a></div><div class='texpara'><div id='28.2.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>key_<span class='shy'></span>type, K<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#28.2.sentence-1'>.</a></div></div></li><li id='28.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#28.3'>(28.3)</a></div><div class='texpara'><div id='28.3.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>mapped_<span class='shy'></span>type<span class='operator'>&amp;</span>, M<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#28.3.sentence-1'>.</a></div></div></li><li id='28.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#28.4'>(28.4)</a></div><div class='texpara'><div id='28.4.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>mapped_<span class='shy'></span>type, M<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#28.4.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='29'><div class='marginalizedparent'><a class='marginalized' href='#29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16774'>#</a></div><div class='texpara'><div id='29.sentence-1' class='sentence'><i >Preconditions</i>: The conversion from <span class='texttt'>k</span> into <span class='texttt'>key_<span class='shy'></span>type</span> constructs
an object <span class='texttt'>u</span>, for which <span class='texttt'>find<span class='parenthesis'>(</span>k<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> find<span class='parenthesis'>(</span>u<span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#29.sentence-1'>.</a></div></div></div></div><div class='para' id='30'><div class='marginalizedparent'><a class='marginalized' href='#30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16779'>#</a></div><div class='texpara'><div id='30.sentence-1' class='sentence'><i >Effects</i>: If the map already contains an element <span class='texttt'>e</span>
whose key is equivalent to <span class='texttt'>k</span>,
assigns <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>M<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span></span> to <span class='texttt'>e<span class='operator'>.</span>second</span><a class='hidden_link' href='#30.sentence-1'>.</a></div> <div id='30.sentence-2' class='sentence'>Otherwise, equivalent to
<span class='codeblock'>try_emplace<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>K<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>M<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span>
for the first overload or
<span class='codeblock'>try_emplace<span class='parenthesis'>(</span>hint, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>K<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>M<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span>
for the second overload<a class='hidden_link' href='#30.sentence-2'>.</a></div></div></div></div><div class='para' id='31'><div class='marginalizedparent'><a class='marginalized' href='#31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16794'>#</a></div><div class='texpara'><div id='31.sentence-1' class='sentence'><i >Returns</i>: In the first overload,
the <span class='texttt'><span class='keyword'>bool</span></span> component of the returned pair is <span class='texttt'><span class='literal'>true</span></span>
if and only if the insertion took place<a class='hidden_link' href='#31.sentence-1'>.</a></div> <div id='31.sentence-2' class='sentence'>The returned iterator points to the map element
whose key is equivalent to <span class='texttt'>k</span><a class='hidden_link' href='#31.sentence-2'>.</a></div></div></div></div><div class='para' id='32'><div class='marginalizedparent'><a class='marginalized' href='#32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16802'>#</a></div><div class='texpara'><div id='32.sentence-1' class='sentence'><i >Complexity</i>: The same as <span class='texttt'>emplace</span> and <span class='texttt'>emplace_<span class='shy'></span>hint</span>, respectively<a class='hidden_link' href='#32.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,swap'><div id='lib:swap,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>flat_map<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='33'><div class='marginalizedparent'><a class='marginalized' href='#33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16813'>#</a></div><div class='texpara'><div id='33.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>ranges<span class='operator'>::</span>swap<span class='parenthesis'>(</span>compare, y<span class='operator'>.</span>compare<span class='parenthesis'>)</span>;
ranges<span class='operator'>::</span>swap<span class='parenthesis'>(</span>c<span class='operator'>.</span>keys, y<span class='operator'>.</span>c<span class='operator'>.</span>keys<span class='parenthesis'>)</span>;
ranges<span class='operator'>::</span>swap<span class='parenthesis'>(</span>c<span class='operator'>.</span>values, y<span class='operator'>.</span>c<span class='operator'>.</span>values<span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:flat_map,extract'><div id='lib:extract,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:extract,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'>containers extract<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='34'><div class='marginalizedparent'><a class='marginalized' href='#34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16829'>#</a></div><div class='texpara'><div id='34.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> is emptied, even if the function exits via an exception<a class='hidden_link' href='#34.sentence-1'>.</a></div></div></div></div><div class='para' id='35'><div class='marginalizedparent'><a class='marginalized' href='#35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16833'>#</a></div><div class='texpara'><div id='35.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span><a class='hidden_link' href='#35.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:flat_map,replace'><div id='lib:replace,flat_map'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:replace,flat_map'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> replace<span class='parenthesis'>(</span>key_container_type<span class='operator'>&amp;</span><span class='operator'>&amp;</span> key_cont, mapped_container_type<span class='operator'>&amp;</span><span class='operator'>&amp;</span> mapped_cont<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='36'><div class='marginalizedparent'><a class='marginalized' href='#36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16844'>#</a></div><div class='texpara'><div id='36.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>key_<span class='shy'></span>cont<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> mapped_<span class='shy'></span>cont<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
the elements of <span class='texttt'>key_<span class='shy'></span>cont</span> are sorted with respect to <span class='texttt'>compare</span>, and
<span class='texttt'>key_<span class='shy'></span>cont</span> contains no equal elements<a class='hidden_link' href='#36.sentence-1'>.</a></div></div></div></div><div class='para' id='37'><div class='marginalizedparent'><a class='marginalized' href='#37'>37</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/containers.tex#L16850'>#</a></div><div class='texpara'><div id='37.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>c<span class='operator'>.</span>keys <span class='operator'>=</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>key_cont<span class='parenthesis'>)</span>;
c<span class='operator'>.</span>values <span class='operator'>=</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>mapped_cont<span class='parenthesis'>)</span>;
</span></div></div></div></div></div></body></html>