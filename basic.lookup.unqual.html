<!DOCTYPE html><html lang='en'><head><title>[basic.lookup.unqual]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>6.5</a> Name lookup <a class='abbr_ref' href='basic.lookup#unqual'>[basic.lookup]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>6.5.1</a> Unqualified name lookup <a class='abbr_ref'>[basic.lookup.unqual]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1421'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,unqualified_name'></a></span><span class='indexparent'><a class='index' id=':name,unqualified'></a></span>In all the cases listed in <a href='#basic.lookup.unqual'>[basic.lookup.unqual]</a>, the scopes are
searched for a declaration in the order listed in each of the respective
categories; name lookup ends as soon as a declaration is found for the
name<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>If no declaration is found, the program is ill-formed<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1429'>#</a></div><div id='2.sentence-1' class='sentence'>The declarations from the namespace nominated by a
<a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> become visible in a namespace enclosing the
<a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a>; see <a href='namespace.udir'>[namespace.udir]</a><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>For the purpose of
the unqualified name lookup rules described
in <a href='#basic.lookup.unqual'>[basic.lookup.unqual]</a>, the declarations from the namespace
nominated by the <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> are considered members of
that enclosing namespace<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1438'>#</a></div><div id='3.sentence-1' class='sentence'>The lookup for an unqualified name used as the
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> of a function call is described
in <a href='basic.lookup.argdep'>[basic.lookup.argdep]</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.note-1' class='note'>[&nbsp;<a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-2' class='sentence'>For purposes of determining
(during parsing) whether an expression is a
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> for a function call, the usual name lookup
rules apply<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>In some cases
a name followed by <span class='texttt'><span class='anglebracket'>&lt;</span></span> is treated as a <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a>
even though name lookup did not find a <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a>
(see <a href='temp.names'>[temp.names]</a>)<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>int</span> h;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> x <span class='operator'>=</span> f<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK: lookup of <span class='tcode_in_codeblock'>f</span> finds nothing, <span class='tcode_in_codeblock'>f</span> treated as template name</span>
<span class='keyword'>int</span> y <span class='operator'>=</span> g<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK: lookup of <span class='tcode_in_codeblock'>g</span> finds a function, <span class='tcode_in_codeblock'>g</span> treated as template name</span>
<span class='keyword'>int</span> z <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>h&lt;</span> does not begin a <span class='grammarterm'>template-id</span></span>
</pre></div><div id='3.sentence-5' class='sentence'>The rules in <a href='basic.lookup.argdep'>[basic.lookup.argdep]</a> have no effect on
the syntactic interpretation of an expression<a class='hidden_link' href='#3.sentence-5'>.</a></div> <div id='3.sentence-6' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>int</span> f;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>A a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is the typedef, not the friend function: equivalent to <span class='tcode_in_codeblock'>int(a)</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre></div> <div id='3.sentence-7' class='sentence'>
Because the expression is not a function call, the argument-dependent
name lookup (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>) does not apply and the friend
function <span class='texttt'>f</span> is not found<a class='hidden_link' href='#3.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1486'>#</a></div><div id='4.sentence-1' class='sentence'>A name used in global scope, outside of any function, class or
user-declared namespace, shall be declared before its use in global
scope<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1491'>#</a></div><div id='5.sentence-1' class='sentence'>A name used in a user-declared namespace outside of the definition of
any function or class shall be declared before its use in that namespace
or before its use in a namespace enclosing its namespace<a class='hidden_link' href='#5.sentence-1'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1496'>#</a></div><div id='6.sentence-1' class='sentence'>In the definition of a function that is a member of namespace <span class='texttt'>N</span>,
a name used after the function's
<a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a><a class='footnotenum' href='#footnote-21' id='footnoteref-21'>21</a>
shall be
declared before its use in the block in which it is used or in one of
its enclosing blocks (<a href='stmt.block'>[stmt.block]</a>) or shall be declared before its
use in namespace <span class='texttt'>N</span> or, if <span class='texttt'>N</span> is a nested namespace, shall
be declared before its use in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.example-1' class='example'>[&nbsp;<a class='example_link' href='#6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> A<span class='operator'>::</span>N<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  i <span class='operator'>=</span> <span class='literal'>5</span>;
  <span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:</span>
  <span class='comment'>// 1) outermost block scope of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;f</span>, before the use of <span class='tcode_in_codeblock'>i</span></span>
  <span class='comment'>// 2) scope of namespace <span class='tcode_in_codeblock'>N</span></span>
  <span class='comment'>// 3) scope of namespace <span class='tcode_in_codeblock'>A</span></span>
  <span class='comment'>// 4) global scope, before the definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;f</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1526'>#</a></div><div id='7.sentence-1' class='sentence'>A name used in the definition of a class <span class='texttt'>X</span><a class='footnotenum' href='#footnote-22' id='footnoteref-22'>22</a>
outside of a complete-class context (<a href='class.mem'>[class.mem]</a>) of <span class='texttt'>X</span>
shall be declared in one of the following ways:
<ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.1'>(7.1)</a></div>before its use in class <span class='texttt'>X</span> or be a member of a base class
of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or</li><li id='7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.2'>(7.2)</a></div>if <span class='texttt'>X</span> is a <a href='class.nest#def:nested_class'>nested class</a> of class
<span class='texttt'>Y</span>, before the definition of <span class='texttt'>X</span> in
<span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span> (this
lookup applies in turn to <span class='texttt'>Y</span>'s enclosing classes, starting with
the innermost enclosing class),<a class='footnotenum' href='#footnote-23' id='footnoteref-23'>23</a>
or</li><li id='7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.3'>(7.3)</a></div>if <span class='texttt'>X</span> is a <a href='class.local'>local class</a> or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or</li><li id='7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.4'>(7.4)</a></div>if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the definition of class <span class='texttt'>X</span> in namespace
<span class='texttt'>N</span> or in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#7.sentence-1'>.</a></li></ul></div> <div id='7.example-1' class='example'>[&nbsp;<a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> M <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

</pre>
<pre class='codeblock'>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> Y <span class='operator'>:</span> <span class='keyword'>public</span> M<span class='operator'>::</span>B <span class='curlybracket'>{</span>
    <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> a<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:</span>
<span class='comment'>// 1) scope of class <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y&#x200b;::&#x200b;X</span>, before the use of <span class='tcode_in_codeblock'>i</span></span>
<span class='comment'>// 2) scope of class <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span>, before the definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y&#x200b;::&#x200b;X</span></span>
<span class='comment'>// 3) scope of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span>'s base class <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;B</span></span>
<span class='comment'>// 4) scope of namespace <span class='tcode_in_codeblock'>N</span>, before the definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span></span>
<span class='comment'>// 5) global scope, before the definition of <span class='tcode_in_codeblock'>N</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='7.note-1' class='note'>[&nbsp;<a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-2' class='sentence'>When looking for a prior declaration of a class
or function introduced by a friend declaration, scopes outside
of the innermost enclosing namespace scope are not considered;
see <a href='namespace.memdef'>[namespace.memdef]</a><a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='7.note-2' class='note'>[&nbsp;<a class='note_link' href='#7.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-3' class='sentence'><a href='basic.scope.class'>[basic.scope.class]</a>
further describes the restrictions on the use of names in a class
definition<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'><a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in nested class definitions<a class='hidden_link' href='#7.sentence-4'>.</a></div> <div id='7.sentence-5' class='sentence'><a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions<a class='hidden_link' href='#7.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1595'>#</a></div><div id='8.sentence-1' class='sentence'>For the members of a class <span class='texttt'>X</span>, a name used
in a complete-class context (<a href='class.mem'>[class.mem]</a>) of <span class='texttt'>X</span> or
in the definition of a class member outside of the definition of <span class='texttt'>X</span>,
following the member's
<a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a><a class='footnotenum' href='#footnote-24' id='footnoteref-24'>24</a>, shall be declared in one of the
following ways:
<ul class='itemize'><li id='8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.1'>(8.1)</a></div>before its use in the block in which it is used or in an enclosing
block (<a href='stmt.block'>[stmt.block]</a>), or</li><li id='8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.2'>(8.2)</a></div>shall be a member of class <span class='texttt'>X</span> or be a member of a base
class of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or</li><li id='8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.3'>(8.3)</a></div>if <span class='texttt'>X</span>
is a <a href='class.nest#def:nested_class'>nested class</a> of class <span class='texttt'>Y</span>, shall be a
member of <span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span>
(this lookup applies in turn to <span class='texttt'>Y</span>'s enclosing classes, starting
with the innermost enclosing class),<a class='footnotenum' href='#footnote-25' id='footnoteref-25'>25</a>
or</li><li id='8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.4'>(8.4)</a></div>if <span class='texttt'>X</span> is a <a href='class.local'>local class</a> or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or</li><li id='8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.5'>(8.5)</a></div>if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the use of the name, in namespace <span class='texttt'>N</span>
or in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#8.sentence-1'>.</a></li></ul></div> <div id='8.example-1' class='example'>[&nbsp;<a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> M <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
    <span class='keyword'>class</span> X <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
      <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> M<span class='operator'>::</span>N<span class='operator'>::</span>X<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  i <span class='operator'>=</span> <span class='literal'>16</span>;
<span class='curlybracket'>}</span>

<span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:</span>
<span class='comment'>// 1) outermost block scope of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X&#x200b;::&#x200b;f</span>, before the use of <span class='tcode_in_codeblock'>i</span></span>
<span class='comment'>// 2) scope of class <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X</span></span>
<span class='comment'>// 3) scope of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X</span>'s base class <span class='tcode_in_codeblock'>B</span></span>
<span class='comment'>// 4) scope of namespace <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N</span></span>
<span class='comment'>// 5) scope of namespace <span class='tcode_in_codeblock'>M</span></span>
<span class='comment'>// 6) global scope, before the definition of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X&#x200b;::&#x200b;f</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='8.note-1' class='note'>[&nbsp;<a class='note_link' href='#8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='8.sentence-2' class='sentence'><a href='class.mfct'>[class.mfct]</a> and <a href='class.static'>[class.static]</a> further
describe the restrictions on the use of names in member function
definitions<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'><a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in the scope of nested classes<a class='hidden_link' href='#8.sentence-3'>.</a></div> <div id='8.sentence-4' class='sentence'><a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions<a class='hidden_link' href='#8.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1665'>#</a></div><div id='9.sentence-1' class='sentence'>Name lookup for a name used in the definition of a <a href='class.friend'>friend
function</a> defined inline in the class granting
friendship shall proceed as described for lookup in member function
definitions<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>If the friend function is not defined in the class
granting friendship, name lookup in the friend function
definition shall proceed as described for lookup in namespace member
function definitions<a class='hidden_link' href='#9.sentence-2'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1674'>#</a></div><div id='10.sentence-1' class='sentence'>In a friend declaration naming a member function, a name used in
the function declarator and not part of a <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
in the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a> is first looked up in the scope of the
member function's class (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>If it is not found,
or if the name is part of a
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a> in
the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a>, the look up is
as described for unqualified names in the definition of the class
granting friendship<a class='hidden_link' href='#10.sentence-2'>.</a></div> <div id='10.example-1' class='example'>[&nbsp;<a class='example_link' href='#10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> AT;
  <span class='keyword'>void</span> f1<span class='parenthesis'>(</span>AT<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f2<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>char</span> AT;
  <span class='keyword'>typedef</span> <span class='keyword'>float</span> BT;
  <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f1<span class='parenthesis'>(</span>AT<span class='parenthesis'>)</span>;        <span class='comment'>// parameter type is <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;AT</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f2<span class='parenthesis'>(</span>BT<span class='parenthesis'>)</span>;        <span class='comment'>// parameter type is <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;BT</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f3<span class='anglebracket'>&lt;</span>AT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// template argument is <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;AT</span></span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1702'>#</a></div><div id='11.sentence-1' class='sentence'>During the lookup for a name used as a <a href='dcl.fct.default'>default
argument</a> in a function
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> or used in the
<a class='grammarterm' href='expr.comma#nt:expression'>expression</a> of a <a class='grammarterm' href='class.base.init#nt:mem-initializer'>mem-initializer</a> for a
constructor (<a href='class.base.init'>[class.base.init]</a>), the function parameter names are
visible and hide the names of entities declared in the block, class or
namespace scopes containing the function declaration<a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.note-1' class='note'>[&nbsp;<a class='note_link' href='#11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='11.sentence-2' class='sentence'><a href='dcl.fct.default'>[dcl.fct.default]</a> further describes the restrictions on the use of
names in default arguments<a class='hidden_link' href='#11.sentence-2'>.</a></div> <div id='11.sentence-3' class='sentence'><a href='class.base.init'>[class.base.init]</a> further describes the
restrictions on the use of names in a <a class='grammarterm' href='class.base.init#nt:ctor-initializer'>ctor-initializer</a><a class='hidden_link' href='#11.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1716'>#</a></div><div id='12.sentence-1' class='sentence'>During the lookup of a name used in the
<a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> of an <a class='grammarterm' href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a>,
previously declared <a class='grammarterm' href='dcl.enum#nt:enumerator'>enumerator</a><span class='textit'>s</span> of the enumeration are visible
and hide the names of entities declared in the block, class, or namespace
scopes containing the <a class='grammarterm' href='dcl.enum#nt:enum-specifier'>enum-specifier</a><a class='hidden_link' href='#12.sentence-1'>.</a></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1723'>#</a></div><div id='13.sentence-1' class='sentence'>A name used in the definition of a <a href='class.static.data'><span class='texttt'>static</span> data member</a>
of class <span class='texttt'>X</span> (after the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
of the static member) is looked up as if the name was used in a member
function of <span class='texttt'>X</span><a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.note-1' class='note'>[&nbsp;<a class='note_link' href='#13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='13.sentence-2' class='sentence'><a href='class.static.data'>[class.static.data]</a> further
describes the restrictions on the use of names in the definition of a
<span class='texttt'><span class='keyword'>static</span></span> data member<a class='hidden_link' href='#13.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1734'>#</a></div><div id='14.sentence-1' class='sentence'>If a variable member of a namespace is defined outside of the scope of
its namespace then any name that appears in the definition of the
member (after the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a>) is looked up as if the
definition of the member occurred in its namespace<a class='hidden_link' href='#14.sentence-1'>.</a></div> <div id='14.example-1' class='example'>[&nbsp;<a class='example_link' href='#14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>4</span>;
  <span class='keyword'>extern</span> <span class='keyword'>int</span> j;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>2</span>;

<span class='keyword'>int</span> N<span class='operator'>::</span>j <span class='operator'>=</span> i;       <span class='comment'>// <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;j == 4</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1752'>#</a></div><div id='15.sentence-1' class='sentence'>A name used in the handler for a <a class='grammarterm' href='except.pre#nt:function-try-block'>function-try-block</a>
is looked up as if the name was used in the
outermost block of the function definition<a class='hidden_link' href='#15.sentence-1'>.</a></div> <div id='15.sentence-2' class='sentence'>In particular, the function
parameter names shall not be redeclared in the
<a class='grammarterm' href='except.pre#nt:exception-declaration'>exception-declaration</a> nor in the outermost block of a handler
for the <a class='grammarterm' href='except.pre#nt:function-try-block'>function-try-block</a><a class='hidden_link' href='#15.sentence-2'>.</a></div> <div id='15.sentence-3' class='sentence'>Names declared in the outermost
block of the function definition are not found when looked up in the
scope of a handler for the <a class='grammarterm' href='except.pre#nt:function-try-block'>function-try-block</a><a class='hidden_link' href='#15.sentence-3'>.</a></div> <div id='15.note-1' class='note'>[&nbsp;<a class='note_link' href='#15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='15.sentence-4' class='sentence'>But
function parameter names are found<a class='hidden_link' href='#15.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1766'>#</a></div><div id='16.note-1' class='note'>[&nbsp;<a class='note_link' href='#16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='16.sentence-1' class='sentence'>The rules for name lookup in template definitions are
described in <a href='temp.res'>[temp.res]</a><a class='hidden_link' href='#16.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-21'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-21'>21)</a></div><div id='footnote-21.sentence-1' class='sentence'>This refers to unqualified names
that occur, for instance, in
a type or default argument in the
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> or used in the function body<a class='hidden_link' href='#footnote-21.sentence-1'>.</a></div> <a href='#footnoteref-21'>⮥</a></div><div class='footnote' id='footnote-22'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-22'>22)</a></div><div id='footnote-22.sentence-1' class='sentence'>This
refers to unqualified names following the class name;
such a name may be used in a <a class='grammarterm' href='class.derived#nt:base-specifier'>base-specifier</a> or
in the <a class='grammarterm' href='class.mem#nt:member-specification'>member-specification</a> of the class definition<a class='hidden_link' href='#footnote-22.sentence-1'>.</a></div> <a href='#footnoteref-22'>⮥</a></div><div class='footnote' id='footnote-23'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-23'>23)</a></div><div id='footnote-23.sentence-1' class='sentence'>This lookup applies whether the
definition of <span class='texttt'>X</span> is
nested within <span class='texttt'>Y</span>'s definition or whether <span class='texttt'>X</span>'s definition
appears in a namespace scope enclosing <span class='texttt'>Y</span>'s
definition (<a href='class.nest'>[class.nest]</a>)<a class='hidden_link' href='#footnote-23.sentence-1'>.</a></div> <a href='#footnoteref-23'>⮥</a></div><div class='footnote' id='footnote-24'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-24'>24)</a></div><div id='footnote-24.sentence-1' class='sentence'>That is, an unqualified name that occurs,
for instance, in a
type in the
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> or in the
<a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a><a class='hidden_link' href='#footnote-24.sentence-1'>.</a></div> <a href='#footnoteref-24'>⮥</a></div><div class='footnote' id='footnote-25'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-25'>25)</a></div><div id='footnote-25.sentence-1' class='sentence'>This lookup applies whether
the member function is defined
within the definition of class <span class='texttt'>X</span> or whether the member function
is defined in a namespace scope enclosing <span class='texttt'>X</span>'s definition<a class='hidden_link' href='#footnote-25.sentence-1'>.</a></div> <a href='#footnoteref-25'>⮥</a></div></div></body></html>