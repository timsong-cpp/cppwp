<!DOCTYPE html><html lang='en'><head><title>[support.runtime]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>17</a> Language support library <a class='abbr_ref' href='./#support'>[support]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>17.13</a> Other runtime support <a class='abbr_ref'>[support.runtime]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>17.13.1</a> General <a class='abbr_ref' href='support.runtime.general'>[support.runtime.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5735'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'><a class='index' id='lib:getenv'></a><a class='index' id='lib:system'></a>Headers
<a href='#header:%3ccsetjmp%3e' title='17.13.3&emsp;Header &lt;csetjmp&gt; synopsis&emsp;[csetjmp.syn]'><span id='headerref:<csetjmp>'><span class='texttt'>&lt;csetjmp&gt;</span></span></a> (nonlocal jumps),
<a href='#header:%3ccsignal%3e' title='17.13.4&emsp;Header &lt;csignal&gt; synopsis&emsp;[csignal.syn]'><span id='headerref:<csignal>'><span class='texttt'>&lt;csignal&gt;</span></span></a> (signal handling),
<a href='#header:%3ccstdarg%3e' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis&emsp;[cstdarg.syn]'><span id='headerref:<cstdarg>'><span class='texttt'>&lt;cstdarg&gt;</span></span></a> (variable arguments),
and
<a href='cstdlib.syn#header:%3ccstdlib%3e' title='17.2.2&emsp;Header &lt;cstdlib&gt; synopsis&emsp;[cstdlib.syn]'><span id='headerref:<cstdlib>'><span class='texttt'>&lt;cstdlib&gt;</span></span></a> (runtime environment <span class='texttt'>getenv</span>, <span class='texttt'>system</span>),
provide further compatibility with C code<a class='hidden_link' href='#general-1.sentence-1'>.</a></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5746'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>Calls to the function
<a class='index' id='lib:getenv_'></a><span class='texttt'>getenv</span> (<a href='cstdlib.syn' title='17.2.2&emsp;Header &lt;cstdlib&gt; synopsis'>[cstdlib.<span class='shy'></span>syn]</a>) shall not introduce a data
race (<a href='res.on.data.races' title='16.4.6.10&emsp;Data race avoidance'>[res.<span class='shy'></span>on.<span class='shy'></span>data.<span class='shy'></span>races]</a>) provided that nothing modifies the environment<a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-2.sentence-2' class='sentence'>Calls to the POSIX functions
<a class='index' id='lib:setenv'></a><span class='texttt'>setenv</span> and
<a class='index' id='lib:putenv'></a><span class='texttt'>putenv</span> modify the
environment<a class='hidden_link' href='#general-2.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5760'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'>A call to the <a href='clocale.syn#lib:setlocale' title='30.5.1&emsp;Header &lt;clocale&gt; synopsis&emsp;[clocale.syn]'><span class='texttt'>setlocale</span></a> function
may introduce a data race with other
calls to the <span class='texttt'>setlocale</span> function or with calls to functions that are
affected by the current C locale<a class='hidden_link' href='#general-3.sentence-1'>.</a></div> <div id='general-3.sentence-2' class='sentence'>The implementation shall behave as if no
library function other than <span class='texttt'>locale<span class='operator'>&#x200b;::&#x200b;</span>global</span> calls the <span class='texttt'>setlocale</span>
function<a class='hidden_link' href='#general-3.sentence-2'>.</a></div></div></div></div><div id='cstdarg.syn' class='section'><h3 ><a class='secnum' href='#cstdarg.syn' style='min-width:80pt'>17.13.2</a> Header <span class='texttt'>&lt;cstdarg&gt;</span> synopsis <a class='abbr_ref' href='cstdarg.syn'>[cstdarg.syn]</a></h3><div class='texpara'><span id='header:<cstdarg>'><div class='marginalizedparent'><a class='itemDeclLink' href='#header:%3ccstdarg%3e'>ðŸ”—</a></div><span class='codeblock'><span class='comment'>// all freestanding</span>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span id='lib:va_list'><a class='hidden_link' href='#lib:va_list' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis&emsp;[cstdarg.syn]'>va_list</a></span> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
<span class='curlybracket'>}</span>

<span class='preprocessordirective'>#define</span> <span id='lib:va_arg'><a class='hidden_link' href='#lib:va_arg' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis&emsp;[cstdarg.syn]'>va_arg</a></span><span class='parenthesis'>(</span>V, P<span class='parenthesis'>)</span> <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> <span id='lib:va_copy'><a class='hidden_link' href='#lib:va_copy' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis&emsp;[cstdarg.syn]'>va_copy</a></span><span class='parenthesis'>(</span>VDST, VSRC<span class='parenthesis'>)</span> <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> <span id='lib:va_end'><a class='hidden_link' href='#lib:va_end' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis&emsp;[cstdarg.syn]'>va_end</a></span><span class='parenthesis'>(</span>V<span class='parenthesis'>)</span> <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> <span id='lib:va_start'><a class='hidden_link' href='#lib:va_start' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis&emsp;[cstdarg.syn]'>va_start</a></span><span class='parenthesis'>(</span>V, P<span class='parenthesis'>)</span> <i ><span class='texttt'>see below</span></i>
</span></span></div><div class='para' id='cstdarg.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#cstdarg.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5783'>#</a></div><div class='texpara'><div id='cstdarg.syn-1.sentence-1' class='sentence'>The contents of the header <span id='header:<cstdarg>_'><span class='texttt'><span class='anglebracket'>&lt;</span>cstdarg<span class='anglebracket'>&gt;</span></span></span> are the same as the C
standard library header <a href='support.c.headers.general#header:%3cstdarg.h%3e' title='17.14.1&emsp;General&emsp;[support.c.headers.general]'><span id='headerref:<stdarg.h>'><span class='texttt'>&lt;stdarg.h&gt;</span></span></a>, with the following changes:
<ul class='itemize'><li id='cstdarg.syn-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cstdarg.syn-1.1'>(1.1)</a></div><div class='texpara'><div id='cstdarg.syn-1.1.sentence-1' class='sentence'>In lieu of the default argument promotions specified in ISO C 6.5.2.2,
the definition in <a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a> applies<a class='hidden_link' href='#cstdarg.syn-1.1.sentence-1'>.</a></div></div></li><li id='cstdarg.syn-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cstdarg.syn-1.2'>(1.2)</a></div><div class='texpara'><div id='cstdarg.syn-1.2.sentence-1' class='sentence'>The restrictions that ISO C places on the second parameter to the
<a class='index' id='lib:va_start_'></a><span class='texttt'>va_<span class='shy'></span>start</span> macro in header <a href='support.c.headers.general#header:%3cstdarg.h%3e' title='17.14.1&emsp;General&emsp;[support.c.headers.general]'><span id='headerref:<stdarg.h>_'><span class='texttt'>&lt;stdarg.h&gt;</span></span></a>
are different in this document<a class='hidden_link' href='#cstdarg.syn-1.2.sentence-1'>.</a></div> <div id='cstdarg.syn-1.2.sentence-2' class='sentence'>The parameter
<span class='texttt'>parmN</span>
is the rightmost parameter in the variable parameter list
of the function definition (the one just before the
<span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span>)<a class='hidden_link' href='#cstdarg.syn-1.2.sentence-2'>.</a><a class='footnoteref' href='#footnote-196' id='footnoteref-196' title='Note that va_&shy;start is required to work as specified even if unary operator&amp; is overloaded for the type of parmN.'>196</a></div> <div id='cstdarg.syn-1.2.sentence-3' class='sentence'>
If the parameter <span class='texttt'>parmN</span> is a pack expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>) or
an entity resulting from a lambda capture (<a href='expr.prim.lambda' title='7.5.5&emsp;Lambda expressions'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda]</a>),
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#cstdarg.syn-1.2.sentence-3'>.</a></div> <div id='cstdarg.syn-1.2.sentence-4' class='sentence'>If the parameter
<span class='texttt'>parmN</span>
is of a reference type, or of a type that is not compatible with the
type that results when passing an argument for which there is no
parameter, the behavior is undefined<a class='hidden_link' href='#cstdarg.syn-1.2.sentence-4'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='cstdarg.syn-1.sentence-2' class='sentence'><span class='textsc'>See also:</span>  ISO/IEC 9899:2018, 7.16.1.1</div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-196'><div class='texpara'><a class='footnotenum' href='#footnote-196'>196)</a><a class='footnoteBacklink' href='#footnoteref-196'>196)</a> <div id='footnote-196.sentence-1' class='sentence'>Note that
<span class='texttt'>va_<span class='shy'></span>start</span>
is required to work as specified even if unary
<span class='texttt'><span class='keyword'>operator</span><span class='operator'>&amp;</span></span>
is overloaded for the type of
<span class='texttt'>parmN</span><a class='hidden_link' href='#footnote-196.sentence-1'>.</a></div></div></div></div><div id='csetjmp.syn' class='section'><h3 ><a class='secnum' href='#csetjmp.syn' style='min-width:80pt'>17.13.3</a> Header <span class='texttt'>&lt;csetjmp&gt;</span> synopsis <a class='abbr_ref' href='csetjmp.syn'>[csetjmp.syn]</a></h3><div class='texpara'><span id='lib:setjmp'><span id='lib:longjmp'><span id='lib:jmp_buf'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:jmp_buf'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> jmp_buf <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
  <span class='squarebracket'>[</span><span class='squarebracket'>[</span>noreturn<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span> longjmp<span class='parenthesis'>(</span>jmp_buf env, <span class='keyword'>int</span> val<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='preprocessordirective'>#define</span> setjmp<span class='parenthesis'>(</span>env<span class='parenthesis'>)</span> <i ><span class='texttt'>see below</span></i>
</span></span></span></span></div><div class='para' id='csetjmp.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#csetjmp.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5834'>#</a></div><div class='texpara'><div id='csetjmp.syn-1.sentence-1' class='sentence'>The contents of the header <span id='header:<csetjmp>'><span class='texttt'><span class='anglebracket'>&lt;</span>csetjmp<span class='anglebracket'>&gt;</span></span></span> are the same as the C
standard library header <a href='support.c.headers.general#header:%3csetjmp.h%3e' title='17.14.1&emsp;General&emsp;[support.c.headers.general]'><span id='headerref:<setjmp.h>'><span class='texttt'>&lt;setjmp.h&gt;</span></span></a><a class='hidden_link' href='#csetjmp.syn-1.sentence-1'>.</a></div></div></div><div class='para' id='csetjmp.syn-2'><div class='marginalizedparent'><a class='marginalized' href='#csetjmp.syn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5838'>#</a></div><div class='texpara'><div id='csetjmp.syn-2.sentence-1' class='sentence'>The function signature
<a class='index' id='lib:longjmp_'></a><span class='texttt'>longjmp<span class='parenthesis'>(</span>jmp_<span class='shy'></span>buf jbuf, <span class='keyword'>int</span> val<span class='parenthesis'>)</span></span>
has more restricted behavior in this document<a class='hidden_link' href='#csetjmp.syn-2.sentence-1'>.</a></div> <div id='csetjmp.syn-2.sentence-2' class='sentence'>A <span class='texttt'>setjmp</span>/<span class='texttt'>longjmp</span> call pair has undefined
behavior if replacing the <span class='texttt'>setjmp</span> and <span class='texttt'>longjmp</span>
by <span id=':catch'><span class='texttt'><span class='keyword'>catch</span></span></span> and <span class='texttt'><span class='keyword'>throw</span></span> would invoke any non-trivial destructors for any objects
with automatic storage duration<a class='hidden_link' href='#csetjmp.syn-2.sentence-2'>.</a></div> <div id='csetjmp.syn-2.sentence-3' class='sentence'>A call to <span class='texttt'>setjmp</span> or <span class='texttt'>longjmp</span> has undefined
behavior if invoked in a suspension context of a coroutine (<a href='expr.await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>)<a class='hidden_link' href='#csetjmp.syn-2.sentence-3'>.</a></div></div><div class='texpara'><div id='csetjmp.syn-2.sentence-4' class='sentence'><span class='textsc'>See also:</span>  ISO/IEC 9899:2018, 7.13</div></div></div></div><div id='csignal.syn' class='section'><h3 ><a class='secnum' href='#csignal.syn' style='min-width:80pt'>17.13.4</a> Header <span class='texttt'>&lt;csignal&gt;</span> synopsis <a class='abbr_ref' href='csignal.syn'>[csignal.syn]</a></h3><div class='texpara'><span id='lib:SIG_ERR'><span id='lib:SIG_DFL'><span id='lib:SIGTERM'><span id='lib:SIGSEGV'><span id='lib:SIGINT'><span id='lib:SIGILL'><span id='lib:SIGFPE'><span id='lib:SIGABRT'><span id='lib:SIG_IGN'><span id='lib:raise'><span id='lib:signal'><span id='lib:sig_atomic_t'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:sig_atomic_t'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> sig_atomic_t <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;

  <span class='comment'>// <a href='#support.signal' title='17.13.5&emsp;Signal handlers'>[support.<span class='shy'></span>signal]</a>, signal handlers</span>
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>using</span> <i >signal-handler</i> <span class='operator'>=</span> <span class='keyword'>void</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;  <span class='comment'>// <i >exposition only</i></span>
  <i >signal-handler</i><span class='operator'>*</span> signal<span class='parenthesis'>(</span><span class='keyword'>int</span> sig, <i >signal-handler</i><span class='operator'>*</span> func<span class='parenthesis'>)</span>;

  <span class='keyword'>int</span> raise<span class='parenthesis'>(</span><span class='keyword'>int</span> sig<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='preprocessordirective'>#define</span> SIG_DFL <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIG_ERR <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIG_IGN <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIGABRT <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIGFPE <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIGILL <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIGINT <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIGSEGV <i ><span class='texttt'>see below</span></i>
<span class='preprocessordirective'>#define</span> SIGTERM <i ><span class='texttt'>see below</span></i>
</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div class='para' id='csignal.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#csignal.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5888'>#</a></div><div class='texpara'><div id='csignal.syn-1.sentence-1' class='sentence'>The contents of the header <span id='header:<csignal>'><span class='texttt'><span class='anglebracket'>&lt;</span>csignal<span class='anglebracket'>&gt;</span></span></span> are the same as the C
standard library header <a href='support.c.headers.general#header:%3csignal.h%3e' title='17.14.1&emsp;General&emsp;[support.c.headers.general]'><span id='headerref:<signal.h>'><span class='texttt'>&lt;signal.h&gt;</span></span></a><a class='hidden_link' href='#csignal.syn-1.sentence-1'>.</a></div></div></div></div><div id='support.signal' class='section'><h3 ><a class='secnum' href='#support.signal' style='min-width:80pt'>17.13.5</a> Signal handlers <a class='abbr_ref' href='support.signal'>[support.signal]</a></h3><div class='para' id='support.signal-1'><div class='marginalizedparent'><a class='marginalized' href='#support.signal-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5894'>#</a></div><div class='texpara'><div id='support.signal-1.sentence-1' class='sentence'>A call to the function <span class='texttt'>signal</span> synchronizes with any resulting
invocation of the signal handler so installed<a class='hidden_link' href='#support.signal-1.sentence-1'>.</a></div></div></div><div class='para' id='support.signal-2'><div class='marginalizedparent'><a class='marginalized' href='#support.signal-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5898'>#</a></div><div class='texpara'><div id='support.signal-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:plain_lock-free_atomic_operation' title='17.13.5&emsp;Signal handlers&emsp;[support.signal]'><span id='def:plain_lock-free_atomic_operation'><i >plain lock-free atomic operation</i></span></a> is
an invocation of a function <span class='texttt'>f</span> from <a href='atomics' title='33.5&emsp;Atomic operations'>[atomics]</a>,
such that:
<ul class='itemize'><li id='support.signal-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-2.1'>(2.1)</a></div><span class='texttt'>f</span> is the function <span class='texttt'>atomic_<span class='shy'></span>is_<span class='shy'></span>lock_<span class='shy'></span>free<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, or</li><li id='support.signal-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-2.2'>(2.2)</a></div><span class='texttt'>f</span> is the member function <span class='texttt'>is_<span class='shy'></span>lock_<span class='shy'></span>free<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, or</li><li id='support.signal-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-2.3'>(2.3)</a></div><span class='texttt'>f</span> is a non-static member function of class <span class='texttt'>atomic_<span class='shy'></span>flag</span>, or</li><li id='support.signal-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-2.4'>(2.4)</a></div><span class='texttt'>f</span> is a non-member function, and
the first parameter of <span class='texttt'>f</span> has type <span class='mathit'>cv</span> <span class='texttt'>atomic_<span class='shy'></span>flag<span class='operator'>*</span></span>, or</li><li id='support.signal-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-2.5'>(2.5)</a></div><span class='texttt'>f</span> is a non-static member function invoked on an object <span class='texttt'>A</span>,
such that <span class='texttt'>A<span class='operator'>.</span>is_<span class='shy'></span>lock_<span class='shy'></span>free<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> yields <span class='texttt'><span class='literal'>true</span></span>, or</li><li id='support.signal-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-2.6'>(2.6)</a></div><span class='texttt'>f</span> is a non-member function, and
for every pointer-to-atomic argument <span class='texttt'>A</span> passed to <span class='texttt'>f</span>,
<span class='texttt'>atomic_<span class='shy'></span>is_<span class='shy'></span>lock_<span class='shy'></span>free<span class='parenthesis'>(</span>A<span class='parenthesis'>)</span></span> yields <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#support.signal-2.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='support.signal-3'><div class='marginalizedparent'><a class='marginalized' href='#support.signal-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5926'>#</a></div><div class='texpara'><div id='support.signal-3.sentence-1' class='sentence'>An evaluation is <a class='hidden_link' href='#def:evaluation,signal-safe' title='17.13.5&emsp;Signal handlers&emsp;[support.signal]'><span id='def:evaluation,signal-safe'><i >signal-safe</i></span></a> unless it includes one of the following:
<ul class='itemize'><li id='support.signal-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-3.1'>(3.1)</a></div>a call to any standard library function,
except for plain lock-free atomic operations and
functions explicitly identified as signal-safe;
<div id='support.signal-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#support.signal-note-1'>1</a></i>:&ensp;<div id='support.signal-3.1.sentence-1' class='sentence'>This implicitly excludes the use of <span id=':new'><span class='texttt'><span class='keyword'>new</span></span></span> and <span id=':delete'><span class='texttt'><span class='keyword'>delete</span></span></span> expressions
that rely on a library-provided memory allocator<a class='hidden_link' href='#support.signal-3.1.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></li><li id='support.signal-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-3.2'>(3.2)</a></div>an access to an object with thread storage duration;</li><li id='support.signal-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-3.3'>(3.3)</a></div>a <span id=':dynamic_cast'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> expression;</li><li id='support.signal-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-3.4'>(3.4)</a></div>throwing of an exception;</li><li id='support.signal-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-3.5'>(3.5)</a></div>control entering a <a href='except.pre#nt:try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:try-block'><span class='textsf'><i >try-block</i></span></span></a> or <a href='except.pre#nt:function-try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:function-try-block'><span class='textsf'><i >function-try-block</i></span></span></a>;</li><li id='support.signal-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-3.6'>(3.6)</a></div>initialization of a variable with static storage duration
requiring dynamic initialization (<a href='basic.start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a>, <a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a>)<a class='footnoteref' href='#footnote-197' id='footnoteref-197' title='Such initialization can occur because it is the first odr-use ([term.odr.use]) of that variable.'>197</a>
; or</li><li id='support.signal-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#support.signal-3.7'>(3.7)</a></div>waiting for the completion of the initialization of a variable with static storage duration (<a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a>)<a class='hidden_link' href='#support.signal-3.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='support.signal-3.sentence-2' class='sentence'>A signal handler invocation has undefined behavior if it includes
an evaluation that is not signal-safe<a class='hidden_link' href='#support.signal-3.sentence-2'>.</a></div></div></div><div class='para' id='support.signal-4'><div class='marginalizedparent'><a class='marginalized' href='#support.signal-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/support.tex#L5966'>#</a></div><div class='texpara'><div id='support.signal-4.sentence-1' class='sentence'><a class='index' id=':signal-safe,signal'></a>The function <span class='texttt'>signal</span> is signal-safe if it is invoked
with the first argument equal to the signal number
corresponding to the signal that caused the invocation of the handler<a class='hidden_link' href='#support.signal-4.sentence-1'>.</a></div></div><div class='texpara'><div id='support.signal-4.sentence-2' class='sentence'><span class='textsc'>See also:</span>  ISO/IEC 9899:2018, 7.14</div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-197'><div class='texpara'><a class='footnotenum' href='#footnote-197'>197)</a><a class='footnoteBacklink' href='#footnoteref-197'>197)</a> <div id='footnote-197.sentence-1' class='sentence'>Such initialization can occur because it is the first odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) of that variable<a class='hidden_link' href='#footnote-197.sentence-1'>.</a></div></div></div></div></div></body></html>