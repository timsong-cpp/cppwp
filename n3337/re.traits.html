<!DOCTYPE html><html lang='en'><head><title>[re.traits]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>28</a> Regular expressions library <a class='abbr_ref' href='./#re'>[re]</a></h1><div id='re.traits'><h2 ><a class='secnum' style='min-width:88pt'>28.7</a> Class template <span class='texttt'>regex_traits</span> <a class='abbr_ref'>[re.traits]</a></h2><p ><span class='indexparent'><a class='index' id='regex_traits'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class charT&gt;
  struct regex_traits {
  public:
     typedef charT                        char_type;
     typedef std::basic_string&lt;char_type&gt; string_type;
     typedef std::locale                  locale_type;
     typedef <i> bitmask_type</i>                 char_class_type;

     regex_traits();
     static std::size_t length(const char_type* p);
     charT translate(charT c) const;
     charT translate_nocase(charT c) const;
     template &lt;class ForwardIterator&gt;
       string_type transform(ForwardIterator first, ForwardIterator last) const;
     template &lt;class ForwardIterator&gt;
       string_type transform_primary(
         ForwardIterator first, ForwardIterator last) const;
     template &lt;class ForwardIterator&gt;
       string_type lookup_collatename(
         ForwardIterator first, ForwardIterator last) const;
     template &lt;class ForwardIterator&gt;
       char_class_type lookup_classname(
         ForwardIterator first, ForwardIterator last, bool icase = false) const;
     bool isctype(charT c, char_class_type f) const;
     int value(charT ch, int radix) const;
     locale_type imbue(locale_type l);
     locale_type getloc()const;
  };
}
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p ><span class='indexparent'><a class='index' id='regular_expression_traits,requirements'></a></span><span class='indexparent'><a class='index' id='requirements,regular_expression_traits'></a></span><span class='indexparent'><a class='index' id='regex_traits,specializations'></a></span>The specializations <span class='texttt'>regex_traits&lt;char&gt;</span> and
<span class='texttt'>regex_traits&lt;wchar_t&gt;</span> shall be valid and shall satisfy the
requirements for a regular expression traits class (<a href='re.req'>[re.req]</a>).</p><p ><span class='indexparent'><a class='index' id='regex_traits,char_class_type'></a></span><span class='indexparent'><a class='index' id='char_class_type,regex_traits'></a></span><code class='itemdecl'>
typedef <i>bitmask_type</i>                 char_class_type; 
</code></p></div><div class='itemdescr'></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><p >The type <span class='texttt'>char_class_type</span> is used to represent a character
classification and is capable of holding an implementation specific
set returned by <span class='texttt'>lookup_classname</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='length,regex_traits'></a></span><span class='indexparent'><a class='index' id='regex_traits,length'></a></span><code class='itemdecl'>
static std::size_t length(const char_type* p); 
</code></p><div class='itemdescr'></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>char_traits&lt;charT&gt;::length(p);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='regex_traits,translate'></a></span><span class='indexparent'><a class='index' id='translate,regex_traits'></a></span><code class='itemdecl'>
charT translate(charT c) const; 
</code></p><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>(c)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='regex_traits,translate_nocase'></a></span><span class='indexparent'><a class='index' id='translate_nocase,regex_traits'></a></span><code class='itemdecl'>
charT translate_nocase(charT c) const; 
</code></p><div class='itemdescr'></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><p ><i>Returns:</i>  <span class='texttt'>use_facet&lt;ctype&lt;charT&gt; &gt;(getloc()).tolower(c)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='regex_traits,transform'></a></span><span class='indexparent'><a class='index' id='transform,regex_traits'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator&gt;
  string_type transform(ForwardIterator first, ForwardIterator last) const; 
</code></p><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i>
</p><pre class='codeblock'>
string_type str(first, last);
return use_facet&lt;collate&lt;charT&gt; &gt;(
  getloc()).transform(&amp;*str.begin(), &amp;*str.begin() + str.length());
</pre></div></div><p ><span class='indexparent'><a class='index' id='regex_traits,transform_primary'></a></span><span class='indexparent'><a class='index' id='transform_primary,regex_traits'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator&gt;
  string_type transform_primary(ForwardIterator first, ForwardIterator last) const; 
</code></p><div class='itemdescr'></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><p ><i>Effects:</i>  if <span class='texttt'>typeid(use_facet&lt;collate&lt;charT&gt; &gt;) 
== typeid(collate_byname&lt;charT&gt;)</span>
and the form of the sort key returned
by <span class='texttt'>collate_byname&lt;charT&gt; <span class='discretionary'></span>::<span class='discretionary'></span> transform(first, last)</span> is known and
can be converted into a primary sort key then returns that key,
otherwise returns an empty string.
</p></div></div><p ><span class='indexparent'><a class='index' id='regex_traits,lookup_collatename'></a></span><span class='indexparent'><a class='index' id='lookup_collatename,regex_traits'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator&gt;
  string_type lookup_collatename(ForwardIterator first, ForwardIterator last) const; 
</code></p><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><p ><i>Returns:</i>  a sequence of one or more characters that
represents the collating element consisting of the character
sequence designated by the iterator range <span class='texttt'>[<span class='discretionary'></span>first,<span class='discretionary'></span>last<span class='discretionary'></span>)</span>.
Returns an empty string if the character sequence is not a
valid collating element.
</p></div></div><p ><span class='indexparent'><a class='index' id='regex_traits,lookup_classname'></a></span><span class='indexparent'><a class='index' id='lookup_classname,regex_traits'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator&gt;
  char_class_type lookup_classname(
    ForwardIterator first, ForwardIterator last, bool icase = false) const; 
</code></p><div class='itemdescr'></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><p ><i>Returns:</i>  an unspecified value that represents
the character classification named by the character sequence
designated by the iterator range <span class='texttt'>[<span class='discretionary'></span>first,<span class='discretionary'></span>last<span class='discretionary'></span>)</span>.
If the parameter <span class='texttt'>icase</span> is true then the returned mask identifies the
character classification without regard to the case of the characters being
matched, otherwise it does honor the case of the characters being
matched.<a class='footnotenum' href='#footnote-336'>336</a>
The value
returned shall be independent of the case of the characters in
the character sequence. If the name
is not recognized then returns a value that compares equal to 0.</p></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><p ><i>Remarks:</i>  For <span class='texttt'>regex_traits&lt;char&gt;</span>, at least the names <span class='texttt'>"d"</span>,
<span class='texttt'>"w"</span>, <span class='texttt'>"s"</span>, <span class='texttt'>"alnum"</span>, <span class='texttt'>"alpha"</span>, <span class='texttt'>"blank"</span>, <span class='texttt'>"cntrl"</span>,
<span class='texttt'>"digit"</span>, <span class='texttt'>"graph"</span>, <span class='texttt'>"lower"</span>, <span class='texttt'>"print"</span>, <span class='texttt'>"punct"</span>,
<span class='texttt'>"space"</span>, <span class='texttt'>"upper"</span> and <span class='texttt'>"xdigit"</span> shall be recognized.
For <span class='texttt'>regex_traits&lt;wchar_t&gt;</span>, at least the names <span class='texttt'>L"d"</span>,
<span class='texttt'>L"w"</span>, <span class='texttt'>L"s"</span>, <span class='texttt'>L"alnum"</span>, <span class='texttt'>L"alpha"</span>, <span class='texttt'>L"blank"</span>, <span class='texttt'>L"cntrl"</span>,
<span class='texttt'>L"digit"</span>, <span class='texttt'>L"graph"</span>, <span class='texttt'>L"lower"</span>, <span class='texttt'>L"print"</span>, <span class='texttt'>L"punct"</span>,
<span class='texttt'>L"space"</span>, <span class='texttt'>L"upper"</span> and <span class='texttt'>L"xdigit"</span> shall be recognized.
</p></div></div><p ><span class='indexparent'><a class='index' id='regex_traits,isctype'></a></span><span class='indexparent'><a class='index' id='isctype,regex_traits'></a></span><code class='itemdecl'>
bool isctype(charT c, char_class_type f) const; 
</code></p><div class='itemdescr'></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><p ><i>Effects:</i>  Determines if the character <span class='texttt'>c</span> is a member of the character
classification represented by <span class='texttt'>f</span>.</p></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><p ><i>Returns:</i>  Converts <span class='texttt'>f</span> into a value <span class='texttt'>m</span> of type
<span class='texttt'>std::ctype_base::mask</span> in an unspecified manner, and
returns <span class='texttt'>true</span> if <span class='texttt'>use_facet&lt;ctype&lt;charT&gt; &gt;(getloc()).is(m, c)</span> is
<span class='texttt'>true</span>. Otherwise 
returns <span class='texttt'>true</span> if <span class='texttt'>f</span> bitwise or'ed with the result of calling
<span class='texttt'>lookup_classname</span> with an iterator pair that designates the
character sequence <span class='texttt'>"w"</span> is not equal to 0 and <span class='texttt'>c == '_'</span>, or
if <span class='texttt'>f</span> bitwise or'ed with the result of calling
<span class='texttt'>lookup_classname</span> with an iterator pair that designates the
character sequence <span class='texttt'>"blank"</span> is not equal to 0 and <span class='texttt'>c</span> is one of
an <span class='indexparent'><a class='index' id='set_of_blank_characters_defined_by_regex_traits::isctype'></a></span>implementation-defined subset of
the characters for which <span class='texttt'>isspace(c, getloc())</span> returns <span class='texttt'>true</span>, otherwise
returns <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='value,regex_traits'></a></span><span class='indexparent'><a class='index' id='regex_traits,value'></a></span><code class='itemdecl'>
int value(charT ch, int radix) const;
</code></p><div class='itemdescr'></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><p ><i>Requires:</i>  The value of <i>radix</i> shall be 8, 10, or 16.</p></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><p ><i>Returns:</i>  the value represented by the digit <i>ch</i> in base
<i>radix</i> if the character <i>ch</i> is a valid digit in base
<i>radix</i>; otherwise returns -1.
</p></div></div><p ><span class='indexparent'><a class='index' id='locale'></a></span><span class='indexparent'><a class='index' id='imbue'></a></span><code class='itemdecl'>
locale_type imbue(locale_type loc); 
</code></p><div class='itemdescr'></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><p ><i>Effects:</i>  Imbues <span class='texttt'>this</span> with a copy of the
locale <span class='texttt'>loc</span>. [&nbsp;<i>Note:</i> Calling <span class='texttt'>imbue</span> with a
different locale than the one currently in use invalidates all cached
data held by <span class='texttt'>*this</span>. <i>&nbsp;â€”&nbsp;end note</i>&nbsp;]</p></div></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='itemdescr'><p ><i>Returns:</i>  if no locale has been previously imbued then a copy of the
global locale in effect at the time of construction of <span class='texttt'>*this</span>,
otherwise a copy of the last argument passed to <span class='texttt'>imbue</span>.</p></div></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='itemdescr'><p ><i>Postcondition:</i>  <span class='texttt'>getloc() == loc</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='locale'></a></span><span class='indexparent'><a class='index' id='getloc'></a></span><code class='itemdecl'>
locale_type getloc()const; 
</code></p><div class='itemdescr'></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='itemdescr'><p ><i>Returns:</i>  if no locale has been imbued then a copy of the global locale
in effect at the time of construction of <span class='texttt'>*this</span>, otherwise a copy of
the last argument passed to <span class='texttt'>imbue</span>.
</p></div></div><div class='footnote' id='footnote-335'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-335'>335)</a></div><p >For example, if the parameter <span class='texttt'>icase</span> is true then
<span class='texttt'>[[:lower:]]</span> is the same as <span class='texttt'>[[:alpha:]]</span>.</p></div></div></div></body></html>