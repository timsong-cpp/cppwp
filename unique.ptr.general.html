<!DOCTYPE html><html lang='en'><head><title>[unique.ptr.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>20.11</a> Smart pointers <a class='abbr_ref' href='smartptr#unique.ptr.general'>[smartptr]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>20.11.1</a> Class template <span class='texttt'>unique_&shy;ptr</span> <a class='abbr_ref' href='unique.ptr#general'>[unique.ptr]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>20.11.1.1</a> General <a class='abbr_ref'>[unique.ptr.general]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/628ded4b8e6cd4b7297f9e04a394f200423ab2d7/source/utilities.tex#L8409'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:unique_pointer' title='20.11.1.1&emsp;General&emsp;[unique.ptr.general]'><span id='def:unique_pointer'><i >unique pointer</i></span></a> is an object that owns another object and
manages that other object through a pointer<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>More precisely, a unique pointer
is an object <i >u</i> that stores a pointer to a second object <i >p</i> and
will dispose of <i >p</i> when <i >u</i> is itself destroyed (e.g., when
leaving block scope (<a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a>))<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>In this context, <i >u</i> is said
to <a class='hidden_link' href='#def:own' title='20.11.1.1&emsp;General&emsp;[unique.ptr.general]'><span id='def:own'><i >own</i></span></a> <span class='texttt'>p</span><a class='hidden_link' href='#1.sentence-3'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/628ded4b8e6cd4b7297f9e04a394f200423ab2d7/source/utilities.tex#L8417'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>The mechanism by which <i >u</i> disposes of <i >p</i> is known as
<i >p</i>'s associated <a class='hidden_link' href='#def:deleter' title='20.11.1.1&emsp;General&emsp;[unique.ptr.general]'><span id='def:deleter'><i >deleter</i></span></a>, a function object whose correct
invocation results in <i >p</i>'s appropriate disposition (typically its deletion)<a class='hidden_link' href='#2.sentence-1'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/628ded4b8e6cd4b7297f9e04a394f200423ab2d7/source/utilities.tex#L8422'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>Let the notation <i >u.p</i> denote the pointer stored by <i >u</i>, and
let <i >u.d</i> denote the associated deleter<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Upon request, <i >u</i> can
<a class='hidden_link' href='#def:reset' title='20.11.1.1&emsp;General&emsp;[unique.ptr.general]'><span id='def:reset'><i >reset</i></span></a> (replace) <i >u.p</i> and <i >u.d</i> with another pointer and
deleter, but properly disposes of its owned object via the associated
deleter before such replacement is considered completed<a class='hidden_link' href='#3.sentence-2'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/628ded4b8e6cd4b7297f9e04a394f200423ab2d7/source/utilities.tex#L8429'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Each object of a type <span class='texttt'>U</span> instantiated from the <span class='texttt'>unique_&shy;ptr</span> template
specified in <a href='unique.ptr' title='20.11.1&emsp;Class template unique_&shy;ptr'>[unique.<span class='shy'></span>ptr]</a> has the strict ownership semantics, specified above,
of a unique pointer<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>In partial satisfaction of these semantics, each such <span class='texttt'>U</span>
is <i >Cpp17MoveConstructible</i> and <i >Cpp17MoveAssignable</i>, but is not
<i >Cpp17CopyConstructible</i> nor <i >Cpp17CopyAssignable</i><a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>The template parameter <span class='texttt'>T</span> of <span class='texttt'>unique_&shy;ptr</span> may be an incomplete type<a class='hidden_link' href='#4.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/628ded4b8e6cd4b7297f9e04a394f200423ab2d7/source/utilities.tex#L8437'>#</a></div><div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='5.sentence-1' class='sentence'>The uses
of <span class='texttt'>unique_&shy;ptr</span> include providing exception safety for
dynamically allocated memory, passing ownership of dynamically allocated
memory to a function, and returning dynamically allocated memory from a
function<a class='hidden_link' href='#5.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div></body></html>