<!DOCTYPE html><html lang='en'><head><title>[rand.util.seedseq]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>26</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>26.6</a> Random number generation <a class='abbr_ref' href='rand#util.seedseq'>[rand]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>26.6.7</a> Utilities <a class='abbr_ref' href='rand.util#seedseq'>[rand.util]</a></h3><div id='rand.util.seedseq'><h4 ><a class='secnum' style='min-width:118pt'>26.6.7.1</a> Class <span class='texttt'>seed_seq</span> <a class='abbr_ref'>[rand.util.seedseq]</a></h4><p ><span class='indexparent'><a class='index' id='seed_seq'></a></span></p><pre class='codeblock'>
class seed_seq {
public:
  <span class='comment'>// types
</span>  using result_type = uint_least32_t;

  <span class='comment'>// constructors
</span>  seed_seq();
  template&lt;class T&gt;
    seed_seq(initializer_list&lt;T&gt; il);
  template&lt;class InputIterator&gt;
    seed_seq(InputIterator begin, InputIterator end);

  <span class='comment'>// generating functions
</span>  template&lt;class RandomAccessIterator&gt;
    void generate(RandomAccessIterator begin, RandomAccessIterator end);

  <span class='comment'>// property functions
</span>  size_t size() const noexcept;
  template&lt;class OutputIterator&gt;
    void param(OutputIterator dest) const;

  <span class='comment'>// no copy functions
</span>  seed_seq(const seed_seq&amp; ) = delete;
  void operator=(const seed_seq&amp; ) = delete;

private:
  vector&lt;result_type&gt; v;   <span class='comment'>// <i>exposition only</i>
</span>};
</pre><p ><span class='indexparent'><a class='index' id='seed_seq,constructor'></a></span><code class='itemdecl'>
seed_seq();
</code></p><div class='itemdescr'></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs a <span class='texttt'>seed_seq</span> object
 as if by default-constructing its member <span class='texttt'>v</span>.</p></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='seed_seq,constructor'></a></span><code class='itemdecl'>
template&lt;class T&gt;
 seed_seq(initializer_list&lt;T&gt; il);
</code></p><div class='itemdescr'></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>T</span> shall be an integer type.</p></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i>
 Same as <span class='texttt'>seed_seq(il.begin(), il.end())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='seed_seq,constructor'></a></span><code class='itemdecl'>
template&lt;class InputIterator&gt;
  seed_seq(InputIterator begin, InputIterator end);
</code></p><div class='itemdescr'></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><p ><i>Requires:</i>
  <span class='texttt'>InputIterator</span> shall satisfy the requirements
  of an input iterator (Table <a href='input.iterators#tab:iterator.input.requirements'>[tab:iterator.input.requirements]</a>) type.
  Moreover,
  <span class='texttt'>iterator_traits&lt;InputIterator&gt;::value_type</span>
  shall denote an integer type.</p></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs a <span class='texttt'>seed_seq</span> object
 by the following algorithm:
</p><pre class='codeblock'>
for( InputIterator s = begin; s != end; ++s)
 v.push_back((*s)<span class='math'><span class="mathrm">mod</span> 2<sup >32</sup></span>);
</pre></div></div><p ><span class='indexparent'><a class='index' id='generate,seed_seq'></a></span><span class='indexparent'><a class='index' id='seed_seq,generate'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  void generate(RandomAccessIterator begin, RandomAccessIterator end);
</code></p><div class='itemdescr'></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>RandomAccessIterator</span>
  shall meet the requirements of a mutable random access iterator
  (Table <a href='random.access.iterators#tab:iterator.random.access.requirements'>[tab:iterator.random.access.requirements]</a>) type.
  Moreover,
  <span class='texttt'>iterator_traits&lt;RandomAccessIterator&gt;::value_type</span>
  shall denote an unsigned integer type
  capable of accommodating 32-bit quantities.</p></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><p ><i>Effects:</i>
 Does nothing if <span class='texttt'>begin == end</span>.
 Otherwise,
 with <span class='math'> <span class='mathalpha'>s</span> = <span class='texttt'>v.size()</span> </span>
 and  <span class='math'> <span class='mathalpha'>n</span> = <span class='texttt'>end</span> - <span class='texttt'>begin</span> </span>,
 fills the supplied range <span class='math'>[<span class='texttt'>begin</span>,<span class='texttt'>end</span>)</span>
 according to the following algorithm
 in which
 each operation is to be carried out modulo <span class='math'>2<sup >32</sup></span>,
 each indexing operator applied to <span class='texttt'>begin</span> is to be taken modulo <span class='math'><span class='mathalpha'>n</span></span>,
 and <span class='math'><span class='mathalpha'>T</span>(<span class='mathalpha'>x</span>)</span> is defined as <span class='math'> <span class='mathalpha'>x</span> &nbsp; <span class='math'>&nbsp; <span class='mathsf'>xor</span> &nbsp;</span> &nbsp; (<span class='mathalpha'>x</span> &nbsp; <span class='math'>&nbsp; <span class='mathsf'>rshift</span> &nbsp;</span> &nbsp; 27)</span>:</p><ol class='enumeratea'><li ><p >By way of initialization,
   set each element of the range to the value <span class='texttt'>0x8b8b8b8b</span>.
   Additionally,
   for use in subsequent steps,
   let <span class='math'><span class='mathalpha'>p</span> = (<span class='mathalpha'>n</span> - <span class='mathalpha'>t</span>) / 2</span>
   and let <span class='math'><span class='mathalpha'>q</span> = <span class='mathalpha'>p</span> + <span class='mathalpha'>t</span></span>,
   where
   <span class='mathblock'>     <span class='mathalpha'>t</span> = (<span class='mathalpha'>n</span> ≥ 623) <span class='mbox'> ? </span> 11 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> ≥ 68) <span class='mbox'> ? </span> 7 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> ≥ 39) <span class='mbox'> ? </span> 5 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> ≥ 7) <span class='mbox'> ? </span> 3 <span class='mbox'> : </span> (<span class='mathalpha'>n</span> - 1)/2;
   </span> </p></li><li ><p >With <span class='math'><span class='mathalpha'>m</span></span> as the larger of <span class='math'><span class='mathalpha'>s</span> + 1</span> and <span class='math'><span class='mathalpha'>n</span></span>,
   transform the elements of the range:
   iteratively for <span class='math'> <span class='mathalpha'>k</span> = 0, &hellip;, <span class='mathalpha'>m</span>-1 </span>,
   calculate values
   <img src='math/5460180720864397012.png' class='mathblockimg' alt='\begin{eqnarray*}
     r_1 &amp; = &amp;
       1664525 \cdot \texttt{T}\left(     \texttt{begin[}k\texttt{]}
                                    \ensuremath{\, \mathsf{xor} \,} \texttt{begin[}k+p\texttt{]}
                                    \ensuremath{\, \mathsf{xor} \,} \texttt{begin[}k-1 \texttt{]}
                               \right)
     \\
     r_2 &amp; = &amp; r_1 + \left\{
       \begin{array}{cl}
         s                                  &amp; \mbox{,  } k = 0
         \\
         k \bmod n + \texttt{v[}k-1\texttt{]} &amp; \mbox{,  } 0 < k \le s
         \\
         k \bmod n                          &amp; \mbox{,  } s < k
       \end{array}
     \right.
   \end{eqnarray*}'/>
   and, in order,
   increment <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>p</span><span class='texttt'>]</span></span> by <span class='math'><span class='mathalpha'>r</span><sub >1</sub></span>,
   increment <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>q</span><span class='texttt'>]</span></span> by <span class='math'><span class='mathalpha'>r</span><sub >2</sub></span>,
   and
   set <span class='texttt'>begin[k]</span> to <span class='math'><span class='mathalpha'>r</span><sub >2</sub></span>.
 </p></li><li ><p >Transform the elements of the range again,
   beginning where the previous step ended:
   iteratively for <span class='math'> <span class='mathalpha'>k</span> = <span class='mathalpha'>m</span>, &hellip;, <span class='mathalpha'>m</span>+<span class='mathalpha'>n</span>-1 </span>,
   calculate values
   <img src='math/5265029910326981193.png' class='mathblockimg' alt='\begin{eqnarray*}
     r_3 &amp; = &amp;
       1566083941 \cdot \texttt{T}\left( \texttt{begin[}k  \texttt{]}
                                      + \texttt{begin[}k+p\texttt{]}
                                      + \texttt{begin[}k-1\texttt{]}
                                 \right)
     \\
     r_4 &amp; = &amp; r_3 - (k \bmod n)
   \end{eqnarray*}'/>
   and, in order,
   
   update <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>p</span><span class='texttt'>]</span></span> by xoring it with <span class='math'><span class='mathalpha'>r</span><sub >3</sub></span>,
   update <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span>+<span class='mathalpha'>q</span><span class='texttt'>]</span></span> by xoring it with <span class='math'><span class='mathalpha'>r</span><sub >4</sub></span>,
   and
   set <span class='math'><span class='texttt'>begin[</span><span class='mathalpha'>k</span><span class='texttt'>]</span></span> to <span class='math'><span class='mathalpha'>r</span><sub >4</sub></span>.
</p></li></ol></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><p ><i>Throws:</i>
What and when <span class='texttt'>RandomAccessIterator</span> operations of <span class='texttt'>begin</span>
and <span class='texttt'>end</span> throw.
</p></div></div><p ><span class='indexparent'><a class='index' id='size,seed_seq'></a></span><span class='indexparent'><a class='index' id='seed_seq,size'></a></span><code class='itemdecl'>
size_t size() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><p ><i>Returns:</i> The number of 32-bit units
 that would be returned
 by a call to <span class='texttt'>param()</span>.</p></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><p ><i>Complexity:</i> Constant time.
</p></div></div><p ><span class='indexparent'><a class='index' id='param,seed_seq'></a></span><span class='indexparent'><a class='index' id='seed_seq,param'></a></span><code class='itemdecl'>
template&lt;class OutputIterator&gt;
  void param(OutputIterator dest) const;
</code></p><div class='itemdescr'></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><p ><i>Requires:</i>
  <span class='texttt'>OutputIterator</span> shall satisfy the requirements
  of an output iterator (Table <a href='output.iterators#tab:iterator.output.requirements'>[tab:iterator.output.requirements]</a>) type.
  Moreover,
  the expression
  <span class='texttt'>*dest = rt</span>
  shall be valid for a value <span class='texttt'>rt</span> of type <span class='texttt'>result_type</span>.</p></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><p ><i>Effects:</i> Copies the sequence of prepared 32-bit units
 to the given destination,
 as if by executing the following statement:
</p><pre class='codeblock'>
copy(v.begin(), v.end(), dest);
</pre></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><p ><i>Throws:</i>
What and when <span class='texttt'>OutputIterator</span> operations of <span class='texttt'>dest</span> throw.
</p></div></div></div></div></body></html>