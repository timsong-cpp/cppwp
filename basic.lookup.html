<!DOCTYPE html><html lang='en'><head><title>[basic.lookup]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>6.5</a> Name lookup <a class='abbr_ref'>[basic.lookup]</a></h2><span class='indexparent'><a class='index' id=':scope,name_lookup_and'></a></span><span class='indexparent'><a class='index' id=':lookup,name'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1382'>#</a></div><div id='1.sentence-1' class='sentence'>The name lookup rules apply uniformly to all names (including
<a class='grammarterm' href='dcl.typedef#nt:typedef-name'>typedef-name</a><span class='textit'>s</span>,
<a class='grammarterm' href='namespace.def#nt:namespace-name'>namespace-name</a><span class='textit'>s</span> (<a href='basic.namespace'>[basic.namespace]</a>), and
<a class='grammarterm' href='class.pre#nt:class-name'>class-name</a><span class='textit'>s</span> (<a href='class.name'>[class.name]</a>)) wherever the grammar allows
such names in the context discussed by a particular rule<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Name lookup
associates the use of a name with a set of declarations (<a href='basic.def'>[basic.def]</a>) of
that name<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>If the declarations found by name lookup
all denote functions or function templates,
the declarations are said to form an <a class='hidden_link' href='#def:overload_set' id='def:overload_set'><i >overload set</i></a><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>The declarations found by name lookup shall either
all denote the same entity or form an overload set<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>Overload resolution (<a href='over.match'>[over.match]</a>, <a href='over.over'>[over.over]</a>)
takes place after name lookup has succeeded<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>The access rules (<a href='class.access'>[class.access]</a>)
are considered only once name lookup and
function overload resolution (if applicable) have succeeded<a class='hidden_link' href='#1.sentence-6'>.</a></div> <div id='1.sentence-7' class='sentence'>Only after
name lookup, function overload resolution (if applicable) and access
checking have succeeded
are the semantic properties introduced by the name's declaration
and its reachable (<a href='module.reach'>[module.reach]</a>) redeclarations
used further in expression processing (<a href='expr'>[expr]</a>)<a class='hidden_link' href='#1.sentence-7'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1405'>#</a></div><div id='2.sentence-1' class='sentence'>A name “looked up in the context of an expression” is looked up
in the scope where the expression is found<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1409'>#</a></div><div id='3.sentence-1' class='sentence'>The injected-class-name of a class (<a href='class.pre'>[class.pre]</a>) is also
considered to be a member of that class for the purposes of name hiding
and lookup<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1414'>#</a></div><div id='4.note-1' class='note'>[&nbsp;<a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-1' class='sentence'><a href='basic.link'>[basic.link]</a> discusses linkage issues<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>The notions of
scope, point of declaration and name hiding are discussed
in <a href='basic.scope'>[basic.scope]</a><a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div id='unqual' class='section'><h3 ><a class='secnum' href='#unqual' style='min-width:103pt'>6.5.1</a> Unqualified name lookup <a class='abbr_ref' href='basic.lookup.unqual'>[basic.lookup.unqual]</a></h3><div class='para' id='unqual-1'><div class='marginalizedparent'><a class='marginalized' href='#unqual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1423'>#</a></div><div id='unqual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,unqualified_name'></a></span><span class='indexparent'><a class='index' id=':name,unqualified'></a></span>In all the cases listed in <a href='#unqual'>[basic.lookup.unqual]</a>, the scopes are
searched for a declaration in the order listed in each of the respective
categories; name lookup ends as soon as a declaration is found for the
name<a class='hidden_link' href='#unqual-1.sentence-1'>.</a></div> <div id='unqual-1.sentence-2' class='sentence'>If no declaration is found, the program is ill-formed<a class='hidden_link' href='#unqual-1.sentence-2'>.</a></div></div><div class='para' id='unqual-2'><div class='marginalizedparent'><a class='marginalized' href='#unqual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1431'>#</a></div><div id='unqual-2.sentence-1' class='sentence'>The declarations from the namespace nominated by a
<a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> become visible in a namespace enclosing the
<a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a>; see <a href='namespace.udir'>[namespace.udir]</a><a class='hidden_link' href='#unqual-2.sentence-1'>.</a></div> <div id='unqual-2.sentence-2' class='sentence'>For the purpose of
the unqualified name lookup rules described
in <a href='#unqual'>[basic.lookup.unqual]</a>, the declarations from the namespace
nominated by the <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> are considered members of
that enclosing namespace<a class='hidden_link' href='#unqual-2.sentence-2'>.</a></div></div><div class='para' id='unqual-3'><div class='marginalizedparent'><a class='marginalized' href='#unqual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1440'>#</a></div><div id='unqual-3.sentence-1' class='sentence'>The lookup for an unqualified name used as the
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> of a function call is described
in <a href='#argdep'>[basic.lookup.argdep]</a><a class='hidden_link' href='#unqual-3.sentence-1'>.</a></div> <div id='unqual-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#unqual-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-3.sentence-2' class='sentence'>For purposes of determining
(during parsing) whether an expression is a
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> for a function call, the usual name lookup
rules apply<a class='hidden_link' href='#unqual-3.sentence-2'>.</a></div> <div id='unqual-3.sentence-3' class='sentence'>In some cases
a name followed by <span class='texttt'><span class='anglebracket'>&lt;</span></span> is treated as a <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a>
even though name lookup did not find a <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a>
(see <a href='temp.names'>[temp.names]</a>)<a class='hidden_link' href='#unqual-3.sentence-3'>.</a></div> <div id='unqual-3.sentence-4' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>int</span> h;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> x <span class='operator'>=</span> f<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK: lookup of <span class='tcode_in_codeblock'>f</span> finds nothing, <span class='tcode_in_codeblock'>f</span> treated as template name</span>
<span class='keyword'>int</span> y <span class='operator'>=</span> g<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK: lookup of <span class='tcode_in_codeblock'>g</span> finds a function, <span class='tcode_in_codeblock'>g</span> treated as template name</span>
<span class='keyword'>int</span> z <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>h&lt;</span> does not begin a <span class='grammarterm'>template-id</span></span>
</pre></div><div id='unqual-3.sentence-5' class='sentence'>The rules in <a href='#argdep'>[basic.lookup.argdep]</a> have no effect on
the syntactic interpretation of an expression<a class='hidden_link' href='#unqual-3.sentence-5'>.</a></div> <div id='unqual-3.sentence-6' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>int</span> f;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>A a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is the typedef, not the friend function: equivalent to <span class='tcode_in_codeblock'>int(a)</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre></div> <div id='unqual-3.sentence-7' class='sentence'>
Because the expression is not a function call, the argument-dependent
name lookup (<a href='#argdep'>[basic.lookup.argdep]</a>) does not apply and the friend
function <span class='texttt'>f</span> is not found<a class='hidden_link' href='#unqual-3.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='unqual-4'><div class='marginalizedparent'><a class='marginalized' href='#unqual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1488'>#</a></div><div id='unqual-4.sentence-1' class='sentence'>A name used in global scope, outside of any function, class or
user-declared namespace, shall be declared before its use in global
scope<a class='hidden_link' href='#unqual-4.sentence-1'>.</a></div></div><div class='para' id='unqual-5'><div class='marginalizedparent'><a class='marginalized' href='#unqual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1493'>#</a></div><div id='unqual-5.sentence-1' class='sentence'>A name used in a user-declared namespace outside of the definition of
any function or class shall be declared before its use in that namespace
or before its use in a namespace enclosing its namespace<a class='hidden_link' href='#unqual-5.sentence-1'>.</a></div></div><div class='para' id='unqual-6'><div class='marginalizedparent'><a class='marginalized' href='#unqual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1498'>#</a></div><div id='unqual-6.sentence-1' class='sentence'>In the definition of a function that is a member of namespace <span class='texttt'>N</span>,
a name used after the function's
<a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a><a class='footnotenum' href='#footnote-21' id='footnoteref-21'>21</a>
shall be
declared before its use in the block in which it is used or in one of
its enclosing blocks (<a href='stmt.block'>[stmt.block]</a>) or shall be declared before its
use in namespace <span class='texttt'>N</span> or, if <span class='texttt'>N</span> is a nested namespace, shall
be declared before its use in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#unqual-6.sentence-1'>.</a></div> <div id='unqual-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#unqual-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> A<span class='operator'>::</span>N<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  i <span class='operator'>=</span> <span class='literal'>5</span>;
  <span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:</span>
  <span class='comment'>// 1) outermost block scope of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;f</span>, before the use of <span class='tcode_in_codeblock'>i</span></span>
  <span class='comment'>// 2) scope of namespace <span class='tcode_in_codeblock'>N</span></span>
  <span class='comment'>// 3) scope of namespace <span class='tcode_in_codeblock'>A</span></span>
  <span class='comment'>// 4) global scope, before the definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;f</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='unqual-7'><div class='marginalizedparent'><a class='marginalized' href='#unqual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1528'>#</a></div><div id='unqual-7.sentence-1' class='sentence'>A name used in the definition of a class <span class='texttt'>X</span><a class='footnotenum' href='#footnote-22' id='footnoteref-22'>22</a>
outside of a complete-class context (<a href='class.mem'>[class.mem]</a>) of <span class='texttt'>X</span>
shall be declared in one of the following ways:
<ul class='itemize'><li id='unqual-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-7.1'>(7.1)</a></div>before its use in class <span class='texttt'>X</span> or be a member of a base class
of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or</li><li id='unqual-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-7.2'>(7.2)</a></div>if <span class='texttt'>X</span> is a <a href='class.nest#def:nested_class'>nested class</a> of class
<span class='texttt'>Y</span>, before the definition of <span class='texttt'>X</span> in
<span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span> (this
lookup applies in turn to <span class='texttt'>Y</span>'s enclosing classes, starting with
the innermost enclosing class),<a class='footnotenum' href='#footnote-23' id='footnoteref-23'>23</a>
or</li><li id='unqual-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-7.3'>(7.3)</a></div>if <span class='texttt'>X</span> is a <a href='class.local'>local class</a> or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or</li><li id='unqual-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-7.4'>(7.4)</a></div>if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the definition of class <span class='texttt'>X</span> in namespace
<span class='texttt'>N</span> or in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#unqual-7.sentence-1'>.</a></li></ul></div> <div id='unqual-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#unqual-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> M <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

</pre>
<pre class='codeblock'>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> Y <span class='operator'>:</span> <span class='keyword'>public</span> M<span class='operator'>::</span>B <span class='curlybracket'>{</span>
    <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> a<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:</span>
<span class='comment'>// 1) scope of class <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y&#x200b;::&#x200b;X</span>, before the use of <span class='tcode_in_codeblock'>i</span></span>
<span class='comment'>// 2) scope of class <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span>, before the definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y&#x200b;::&#x200b;X</span></span>
<span class='comment'>// 3) scope of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span>'s base class <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;B</span></span>
<span class='comment'>// 4) scope of namespace <span class='tcode_in_codeblock'>N</span>, before the definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span></span>
<span class='comment'>// 5) global scope, before the definition of <span class='tcode_in_codeblock'>N</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='unqual-7.note-1' class='note'>[&nbsp;<a class='note_link' href='#unqual-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-7.sentence-2' class='sentence'>When looking for a prior declaration of a class
or function introduced by a friend declaration, scopes outside
of the innermost enclosing namespace scope are not considered;
see <a href='namespace.memdef'>[namespace.memdef]</a><a class='hidden_link' href='#unqual-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='unqual-7.note-2' class='note'>[&nbsp;<a class='note_link' href='#unqual-7.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-7.sentence-3' class='sentence'><a href='basic.scope.class'>[basic.scope.class]</a>
further describes the restrictions on the use of names in a class
definition<a class='hidden_link' href='#unqual-7.sentence-3'>.</a></div> <div id='unqual-7.sentence-4' class='sentence'><a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in nested class definitions<a class='hidden_link' href='#unqual-7.sentence-4'>.</a></div> <div id='unqual-7.sentence-5' class='sentence'><a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions<a class='hidden_link' href='#unqual-7.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='unqual-8'><div class='marginalizedparent'><a class='marginalized' href='#unqual-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1597'>#</a></div><div id='unqual-8.sentence-1' class='sentence'>For the members of a class <span class='texttt'>X</span>, a name used
in a complete-class context (<a href='class.mem'>[class.mem]</a>) of <span class='texttt'>X</span> or
in the definition of a class member outside of the definition of <span class='texttt'>X</span>,
following the member's
<a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a><a class='footnotenum' href='#footnote-24' id='footnoteref-24'>24</a>, shall be declared in one of the
following ways:
<ul class='itemize'><li id='unqual-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-8.1'>(8.1)</a></div>before its use in the block in which it is used or in an enclosing
block (<a href='stmt.block'>[stmt.block]</a>), or</li><li id='unqual-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-8.2'>(8.2)</a></div>shall be a member of class <span class='texttt'>X</span> or be a member of a base
class of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or</li><li id='unqual-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-8.3'>(8.3)</a></div>if <span class='texttt'>X</span>
is a <a href='class.nest#def:nested_class'>nested class</a> of class <span class='texttt'>Y</span>, shall be a
member of <span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span>
(this lookup applies in turn to <span class='texttt'>Y</span>'s enclosing classes, starting
with the innermost enclosing class),<a class='footnotenum' href='#footnote-25' id='footnoteref-25'>25</a>
or</li><li id='unqual-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-8.4'>(8.4)</a></div>if <span class='texttt'>X</span> is a <a href='class.local'>local class</a> or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or</li><li id='unqual-8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unqual-8.5'>(8.5)</a></div>if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the use of the name, in namespace <span class='texttt'>N</span>
or in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#unqual-8.sentence-1'>.</a></li></ul></div> <div id='unqual-8.example-1' class='example'>[&nbsp;<a class='example_link' href='#unqual-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> M <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
    <span class='keyword'>class</span> X <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
      <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> M<span class='operator'>::</span>N<span class='operator'>::</span>X<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  i <span class='operator'>=</span> <span class='literal'>16</span>;
<span class='curlybracket'>}</span>

<span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:</span>
<span class='comment'>// 1) outermost block scope of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X&#x200b;::&#x200b;f</span>, before the use of <span class='tcode_in_codeblock'>i</span></span>
<span class='comment'>// 2) scope of class <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X</span></span>
<span class='comment'>// 3) scope of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X</span>'s base class <span class='tcode_in_codeblock'>B</span></span>
<span class='comment'>// 4) scope of namespace <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N</span></span>
<span class='comment'>// 5) scope of namespace <span class='tcode_in_codeblock'>M</span></span>
<span class='comment'>// 6) global scope, before the definition of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X&#x200b;::&#x200b;f</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='unqual-8.note-1' class='note'>[&nbsp;<a class='note_link' href='#unqual-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-8.sentence-2' class='sentence'><a href='class.mfct'>[class.mfct]</a> and <a href='class.static'>[class.static]</a> further
describe the restrictions on the use of names in member function
definitions<a class='hidden_link' href='#unqual-8.sentence-2'>.</a></div> <div id='unqual-8.sentence-3' class='sentence'><a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in the scope of nested classes<a class='hidden_link' href='#unqual-8.sentence-3'>.</a></div> <div id='unqual-8.sentence-4' class='sentence'><a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions<a class='hidden_link' href='#unqual-8.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='unqual-9'><div class='marginalizedparent'><a class='marginalized' href='#unqual-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1667'>#</a></div><div id='unqual-9.sentence-1' class='sentence'>Name lookup for a name used in the definition of a <a href='class.friend'>friend
function</a> defined inline in the class granting
friendship shall proceed as described for lookup in member function
definitions<a class='hidden_link' href='#unqual-9.sentence-1'>.</a></div> <div id='unqual-9.sentence-2' class='sentence'>If the friend function is not defined in the class
granting friendship, name lookup in the friend function
definition shall proceed as described for lookup in namespace member
function definitions<a class='hidden_link' href='#unqual-9.sentence-2'>.</a></div></div><div class='para' id='unqual-10'><div class='marginalizedparent'><a class='marginalized' href='#unqual-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1676'>#</a></div><div id='unqual-10.sentence-1' class='sentence'>In a friend declaration naming a member function, a name used in
the function declarator and not part of a <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
in the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a> is first looked up in the scope of the
member function's class (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#unqual-10.sentence-1'>.</a></div> <div id='unqual-10.sentence-2' class='sentence'>If it is not found,
or if the name is part of a
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a> in
the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a>, the look up is
as described for unqualified names in the definition of the class
granting friendship<a class='hidden_link' href='#unqual-10.sentence-2'>.</a></div> <div id='unqual-10.example-1' class='example'>[&nbsp;<a class='example_link' href='#unqual-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> AT;
  <span class='keyword'>void</span> f1<span class='parenthesis'>(</span>AT<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f2<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>char</span> AT;
  <span class='keyword'>typedef</span> <span class='keyword'>float</span> BT;
  <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f1<span class='parenthesis'>(</span>AT<span class='parenthesis'>)</span>;        <span class='comment'>// parameter type is <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;AT</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f2<span class='parenthesis'>(</span>BT<span class='parenthesis'>)</span>;        <span class='comment'>// parameter type is <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;BT</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f3<span class='anglebracket'>&lt;</span>AT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// template argument is <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;AT</span></span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='unqual-11'><div class='marginalizedparent'><a class='marginalized' href='#unqual-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1704'>#</a></div><div id='unqual-11.sentence-1' class='sentence'>During the lookup for a name used as a <a href='dcl.fct.default'>default
argument</a> in a function
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> or used in the
<a class='grammarterm' href='expr.comma#nt:expression'>expression</a> of a <a class='grammarterm' href='class.base.init#nt:mem-initializer'>mem-initializer</a> for a
constructor (<a href='class.base.init'>[class.base.init]</a>), the function parameter names are
visible and hide the names of entities declared in the block, class or
namespace scopes containing the function declaration<a class='hidden_link' href='#unqual-11.sentence-1'>.</a></div> <div id='unqual-11.note-1' class='note'>[&nbsp;<a class='note_link' href='#unqual-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-11.sentence-2' class='sentence'><a href='dcl.fct.default'>[dcl.fct.default]</a> further describes the restrictions on the use of
names in default arguments<a class='hidden_link' href='#unqual-11.sentence-2'>.</a></div> <div id='unqual-11.sentence-3' class='sentence'><a href='class.base.init'>[class.base.init]</a> further describes the
restrictions on the use of names in a <a class='grammarterm' href='class.base.init#nt:ctor-initializer'>ctor-initializer</a><a class='hidden_link' href='#unqual-11.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='unqual-12'><div class='marginalizedparent'><a class='marginalized' href='#unqual-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1718'>#</a></div><div id='unqual-12.sentence-1' class='sentence'>During the lookup of a name used in the
<a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> of an <a class='grammarterm' href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a>,
previously declared <a class='grammarterm' href='dcl.enum#nt:enumerator'>enumerator</a><span class='textit'>s</span> of the enumeration are visible
and hide the names of entities declared in the block, class, or namespace
scopes containing the <a class='grammarterm' href='dcl.enum#nt:enum-specifier'>enum-specifier</a><a class='hidden_link' href='#unqual-12.sentence-1'>.</a></div></div><div class='para' id='unqual-13'><div class='marginalizedparent'><a class='marginalized' href='#unqual-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1725'>#</a></div><div id='unqual-13.sentence-1' class='sentence'>A name used in the definition of a <a href='class.static.data'><span class='texttt'>static</span> data member</a>
of class <span class='texttt'>X</span> (after the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
of the static member) is looked up as if the name was used in a member
function of <span class='texttt'>X</span><a class='hidden_link' href='#unqual-13.sentence-1'>.</a></div> <div id='unqual-13.note-1' class='note'>[&nbsp;<a class='note_link' href='#unqual-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-13.sentence-2' class='sentence'><a href='class.static.data'>[class.static.data]</a> further
describes the restrictions on the use of names in the definition of a
<span class='texttt'><span class='keyword'>static</span></span> data member<a class='hidden_link' href='#unqual-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='unqual-14'><div class='marginalizedparent'><a class='marginalized' href='#unqual-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1736'>#</a></div><div id='unqual-14.sentence-1' class='sentence'>If a variable member of a namespace is defined outside of the scope of
its namespace then any name that appears in the definition of the
member (after the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a>) is looked up as if the
definition of the member occurred in its namespace<a class='hidden_link' href='#unqual-14.sentence-1'>.</a></div> <div id='unqual-14.example-1' class='example'>[&nbsp;<a class='example_link' href='#unqual-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>4</span>;
  <span class='keyword'>extern</span> <span class='keyword'>int</span> j;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>2</span>;

<span class='keyword'>int</span> N<span class='operator'>::</span>j <span class='operator'>=</span> i;       <span class='comment'>// <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;j == 4</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='unqual-15'><div class='marginalizedparent'><a class='marginalized' href='#unqual-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1754'>#</a></div><div id='unqual-15.sentence-1' class='sentence'>A name used in the handler for a <a class='grammarterm' href='except.pre#nt:function-try-block'>function-try-block</a>
is looked up as if the name was used in the
outermost block of the function definition<a class='hidden_link' href='#unqual-15.sentence-1'>.</a></div> <div id='unqual-15.sentence-2' class='sentence'>In particular, the function
parameter names shall not be redeclared in the
<a class='grammarterm' href='except.pre#nt:exception-declaration'>exception-declaration</a> nor in the outermost block of a handler
for the <a class='grammarterm' href='except.pre#nt:function-try-block'>function-try-block</a><a class='hidden_link' href='#unqual-15.sentence-2'>.</a></div> <div id='unqual-15.sentence-3' class='sentence'>Names declared in the outermost
block of the function definition are not found when looked up in the
scope of a handler for the <a class='grammarterm' href='except.pre#nt:function-try-block'>function-try-block</a><a class='hidden_link' href='#unqual-15.sentence-3'>.</a></div> <div id='unqual-15.note-1' class='note'>[&nbsp;<a class='note_link' href='#unqual-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-15.sentence-4' class='sentence'>But
function parameter names are found<a class='hidden_link' href='#unqual-15.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='unqual-16'><div class='marginalizedparent'><a class='marginalized' href='#unqual-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1768'>#</a></div><div id='unqual-16.note-1' class='note'>[&nbsp;<a class='note_link' href='#unqual-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unqual-16.sentence-1' class='sentence'>The rules for name lookup in template definitions are
described in <a href='temp.res'>[temp.res]</a><a class='hidden_link' href='#unqual-16.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-21'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-21'>21)</a></div><div id='footnote-21.sentence-1' class='sentence'>This refers to unqualified names
that occur, for instance, in
a type or default argument in the
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> or used in the function body<a class='hidden_link' href='#footnote-21.sentence-1'>.</a></div> <a href='#footnoteref-21'>⮥</a></div><div class='footnote' id='footnote-22'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-22'>22)</a></div><div id='footnote-22.sentence-1' class='sentence'>This
refers to unqualified names following the class name;
such a name may be used in a <a class='grammarterm' href='class.derived#nt:base-specifier'>base-specifier</a> or
in the <a class='grammarterm' href='class.mem#nt:member-specification'>member-specification</a> of the class definition<a class='hidden_link' href='#footnote-22.sentence-1'>.</a></div> <a href='#footnoteref-22'>⮥</a></div><div class='footnote' id='footnote-23'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-23'>23)</a></div><div id='footnote-23.sentence-1' class='sentence'>This lookup applies whether the
definition of <span class='texttt'>X</span> is
nested within <span class='texttt'>Y</span>'s definition or whether <span class='texttt'>X</span>'s definition
appears in a namespace scope enclosing <span class='texttt'>Y</span>'s
definition (<a href='class.nest'>[class.nest]</a>)<a class='hidden_link' href='#footnote-23.sentence-1'>.</a></div> <a href='#footnoteref-23'>⮥</a></div><div class='footnote' id='footnote-24'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-24'>24)</a></div><div id='footnote-24.sentence-1' class='sentence'>That is, an unqualified name that occurs,
for instance, in a
type in the
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> or in the
<a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a><a class='hidden_link' href='#footnote-24.sentence-1'>.</a></div> <a href='#footnoteref-24'>⮥</a></div><div class='footnote' id='footnote-25'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-25'>25)</a></div><div id='footnote-25.sentence-1' class='sentence'>This lookup applies whether
the member function is defined
within the definition of class <span class='texttt'>X</span> or whether the member function
is defined in a namespace scope enclosing <span class='texttt'>X</span>'s definition<a class='hidden_link' href='#footnote-25.sentence-1'>.</a></div> <a href='#footnoteref-25'>⮥</a></div></div><div id='argdep' class='section'><h3 ><a class='secnum' href='#argdep' style='min-width:103pt'>6.5.2</a> Argument-dependent name lookup <a class='abbr_ref' href='basic.lookup.argdep'>[basic.lookup.argdep]</a></h3><span class='indexparent'><a class='index' id=':lookup,argument-dependent'></a></span><div class='para' id='argdep-1'><div class='marginalizedparent'><a class='marginalized' href='#argdep-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1777'>#</a></div><div id='argdep-1.sentence-1' class='sentence'>When the <a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> in
a <a href='expr.call'>function call</a> is an <a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a>, other namespaces not considered
during the usual <a href='#unqual'>unqualified lookup</a> may be
searched, and in those namespaces, namespace-scope friend function or
function template declarations (<a href='class.friend'>[class.friend]</a>) not otherwise
visible may be found<a class='hidden_link' href='#argdep-1.sentence-1'>.</a></div> <div id='argdep-1.sentence-2' class='sentence'>These modifications to the search depend on the types of the arguments
(and for template template arguments, the namespace of the template
argument)<a class='hidden_link' href='#argdep-1.sentence-2'>.</a></div> <div id='argdep-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#argdep-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  N<span class='operator'>::</span>S s;
  f<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;     <span class='comment'>// OK: calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span></span>
  <span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span> not considered; parentheses prevent argument-dependent lookup</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='argdep-2'><div class='marginalizedparent'><a class='marginalized' href='#argdep-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1802'>#</a></div><div id='argdep-2.sentence-1' class='sentence'>For each argument type <span class='texttt'>T</span> in the function call,
there is a set of zero or more
<a class='hidden_link' href='#def:namespace,associated' id='def:namespace,associated'><i >associated namespaces</i></a>
and a set of zero or more
<a class='hidden_link' href='#def:entity,associated' id='def:entity,associated'><i >associated entities</i></a>
(other than namespaces)
to be considered<a class='hidden_link' href='#argdep-2.sentence-1'>.</a></div> <div id='argdep-2.sentence-2' class='sentence'>The sets of namespaces and entities
are determined entirely by
the types of the function arguments
(and the namespace of any template template argument)<a class='hidden_link' href='#argdep-2.sentence-2'>.</a></div> <div id='argdep-2.sentence-3' class='sentence'>Typedef names and <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a><span class='textit'>s</span>
used to specify the types
do not contribute to this set<a class='hidden_link' href='#argdep-2.sentence-3'>.</a></div> <div id='argdep-2.sentence-4' class='sentence'>The sets of namespaces and entities
are determined in the following way:
<ul class='itemize'><li id='argdep-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-2.1'>(2.1)</a></div>If <span class='texttt'>T</span> is a fundamental type, its associated sets of
namespaces and entities are both empty.</li><li id='argdep-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-2.2'>(2.2)</a></div>If <span class='texttt'>T</span> is a class type (including unions),
its associated entities are:
the class itself;
the class of which it is a member, if any;
and its direct and indirect base classes. Its associated namespaces are
the innermost enclosing namespaces of its associated entities. Furthermore, if <span class='texttt'>T</span> is a class template specialization,
its associated namespaces and entities also include:
the namespaces and entities
associated with the types of the template arguments
provided for template type parameters
(excluding template template parameters);
the templates used as template template arguments;
the namespaces of which any template template arguments are members; and the
classes of which any member templates used as template template
arguments are members. <div id='argdep-2.2.note-1' class='note'>[&nbsp;<a class='note_link' href='#argdep-2.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> Non-type template arguments do not
contribute to the set of associated namespaces. —&nbsp;<i>end note</i></div>&nbsp;]</div> </li><li id='argdep-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-2.3'>(2.3)</a></div>If <span class='texttt'>T</span> is an enumeration type,
its associated namespace is
the innermost enclosing namespace of its declaration, and
its associated entities are <span class='texttt'>T</span>
and, if it is a class member, the member's class.</li><li id='argdep-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-2.4'>(2.4)</a></div>If <span class='texttt'>T</span> is a pointer to <span class='texttt'>U</span> or an array of <span class='texttt'>U</span>,
its associated namespaces and entities are those associated with
<span class='texttt'>U</span>.</li><li id='argdep-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-2.5'>(2.5)</a></div>If <span class='texttt'>T</span> is a function type, its associated namespaces and
entities are those associated with the function parameter types and those
associated with the return type.</li><li id='argdep-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-2.6'>(2.6)</a></div>If <span class='texttt'>T</span> is a pointer to a member function of a class
<span class='texttt'>X</span>, its associated namespaces and entities are those associated
with the function parameter types and return type, together with those
associated with <span class='texttt'>X</span>.</li><li id='argdep-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-2.7'>(2.7)</a></div>If <span class='texttt'>T</span> is a pointer to a data member of class <span class='texttt'>X</span>, its
associated namespaces and entities are those associated with the member
type together with those associated with <span class='texttt'>X</span>.</li></ul></div> <div id='argdep-2.sentence-5' class='sentence'>
If an associated namespace is an <a href='namespace.def#def:inline_namespace'>inline namespace</a>, its
enclosing namespace is also included in the set<a class='hidden_link' href='#argdep-2.sentence-5'>.</a></div> <div id='argdep-2.sentence-6' class='sentence'>If an associated namespace
directly contains inline namespaces, those inline namespaces are also included
in the set<a class='hidden_link' href='#argdep-2.sentence-6'>.</a></div> <div id='argdep-2.sentence-7' class='sentence'>In addition, if the argument is the name or address of an overload set,
its associated entities
and namespaces are the union of those associated with each of the
members of the set, i.e., the entities and namespaces associated with its
parameter types and return type<a class='hidden_link' href='#argdep-2.sentence-7'>.</a></div> <div id='argdep-2.sentence-8' class='sentence'>Additionally, if the aforementioned overload set is named with
a <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a>, its associated entities and namespaces also include
those of its type <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><span class='textit'>s</span> and its template
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><span class='textit'>s</span><a class='hidden_link' href='#argdep-2.sentence-8'>.</a></div></div><div class='para' id='argdep-3'><div class='marginalizedparent'><a class='marginalized' href='#argdep-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1882'>#</a></div><div id='argdep-3.sentence-1' class='sentence'>Let <span class='textit'>X</span> be the lookup set produced by <a href='#unqual'>unqualified
lookup</a> and let <span class='textit'>Y</span> be the lookup set produced
by argument dependent lookup (defined as follows)<a class='hidden_link' href='#argdep-3.sentence-1'>.</a></div> <div id='argdep-3.sentence-2' class='sentence'>If <span class='textit'>X</span> contains
<ul class='itemize'><li id='argdep-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-3.1'>(3.1)</a></div>a declaration of a class member, or</li><li id='argdep-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-3.2'>(3.2)</a></div>a block-scope function declaration that is not a <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>, or</li><li id='argdep-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-3.3'>(3.3)</a></div>a declaration that is neither a function nor a function template</li></ul>
then <span class='textit'>Y</span> is empty<a class='hidden_link' href='#argdep-3.sentence-2'>.</a></div> <div id='argdep-3.sentence-3' class='sentence'>Otherwise <span class='textit'>Y</span> is the set of declarations
found in the namespaces associated with the argument types as described
below<a class='hidden_link' href='#argdep-3.sentence-3'>.</a></div> <div id='argdep-3.sentence-4' class='sentence'>The set of declarations found by the lookup of the name is the
union of <span class='textit'>X</span> and <span class='textit'>Y</span><a class='hidden_link' href='#argdep-3.sentence-4'>.</a></div> <div id='argdep-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#argdep-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='argdep-3.sentence-5' class='sentence'>The namespaces and entities
associated with the argument types can include namespaces and entities
already considered by the ordinary unqualified lookup<a class='hidden_link' href='#argdep-3.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='argdep-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#argdep-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> NS <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> T <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
NS<span class='operator'>::</span>T parm;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>parm<span class='parenthesis'>)</span>;                      <span class='comment'>// OK: calls <span class='tcode_in_codeblock'>NS&#x200b;::&#x200b;f</span></span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>parm, <span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK: calls <span class='tcode_in_codeblock'>g(NS&#x200b;::&#x200b;T, float)</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='argdep-4'><div class='marginalizedparent'><a class='marginalized' href='#argdep-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1917'>#</a></div><div id='argdep-4.sentence-1' class='sentence'>When considering an associated namespace <span class='texttt'>N</span>,
the lookup is the same as the
lookup performed when <span class='texttt'>N</span>
is used as a qualifier (<a href='#namespace.qual'>[namespace.qual]</a>)
except that:
<ul class='itemize'><li id='argdep-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-4.1'>(4.1)</a></div>Any <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a><span class='textit'>s</span> in <span class='texttt'>N</span> are ignored.</li><li id='argdep-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-4.2'>(4.2)</a></div>All names except those of (possibly overloaded) functions and
function templates are ignored.</li><li id='argdep-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-4.3'>(4.3)</a></div>Any namespace-scope friend functions or friend function templates (<a href='class.friend'>[class.friend]</a>)
declared in classes with reachable definitions in the set of associated entities
are visible within their respective
namespaces even if they are not visible during an ordinary
lookup (<a href='namespace.memdef'>[namespace.memdef]</a>).</li><li id='argdep-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-4.4'>(4.4)</a></div>Any exported declaration <span class='texttt'>D</span> in <span class='texttt'>N</span>
declared within the purview of
a named module <span class='texttt'>M</span> (<a href='module.interface'>[module.interface]</a>)
is visible
if there is an associated entity attached to <span class='texttt'>M</span>
with the same innermost enclosing non-inline namespace as <span class='texttt'>D</span>.</li><li id='argdep-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#argdep-4.5'>(4.5)</a></div>If the lookup is for a dependent name (<a href='temp.dep'>[temp.dep]</a>, <a href='temp.dep.candidate'>[temp.dep.candidate]</a>),
any declaration <span class='texttt'>D</span> in <span class='texttt'>N</span>
is visible
if <span class='texttt'>D</span> would be visible to qualified name lookup (<a href='#namespace.qual'>[namespace.qual]</a>)
at any point in the instantiation context (<a href='module.context'>[module.context]</a>) of the lookup,
unless <span class='texttt'>D</span> is declared in another translation unit, attached to the global module,
and is either discarded (<a href='module.global.frag'>[module.global.frag]</a>) or has internal linkage.</li></ul></div></div><div class='para' id='argdep-5'><div class='marginalizedparent'><a class='marginalized' href='#argdep-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1953'>#</a></div><div id='argdep-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#argdep-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <p>Translation unit #1:<pre class='codeblock'>
<span class='keyword'>export</span> <span class='keyword'>module</span> M;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>R<span class='operator'>::</span>X, R<span class='operator'>::</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</pre><p>Translation unit #2:<pre class='codeblock'>
<span class='keyword'>export</span> <span class='keyword'>module</span> N;
<span class='keyword'>import</span> M;
<span class='keyword'>export</span> R<span class='operator'>::</span>X make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span> <span class='keyword'>static</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> apply<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>t, u<span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</pre><p>Translation unit #3:<pre class='codeblock'>
<span class='keyword'>module</span> Q;
<span class='keyword'>import</span> N;
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Z <span class='curlybracket'>{</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> x <span class='operator'>=</span> make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>decltype(x)</span> is <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;X</span> in module <span class='tcode_in_codeblock'>M</span></span>
  R<span class='operator'>::</span>f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                      <span class='comment'>// error: <span class='tcode_in_codeblock'>R</span> and <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> are not visible here</span>
  f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> from interface of <span class='tcode_in_codeblock'>M</span></span>
  f<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> in module <span class='tcode_in_codeblock'>M</span> not considered</span>
                                <span class='comment'>// even though <span class='tcode_in_codeblock'>S</span> is an associated namespace</span>
  apply<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> is visible in instantiation context, but</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;g</span> has internal linkage and cannot be used outside TU #2</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='qual' class='section'><h3 ><a class='secnum' href='#qual' style='min-width:103pt'>6.5.3</a> Qualified name lookup <a class='abbr_ref' href='basic.lookup.qual'>[basic.lookup.qual]</a></h3><div class='para' id='qual-1'><div class='marginalizedparent'><a class='marginalized' href='#qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L1997'>#</a></div><div id='qual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,qualified_name'></a></span><span class='indexparent'><a class='index' id=':name,qualified'></a></span><span class='indexparent'><a class='index' id=':qualification,explicit'></a></span>The name of a class or namespace member
or enumerator can be referred to after the
<span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> scope resolution operator (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>) applied to a
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> that denotes its class,
namespace, or enumeration<a class='hidden_link' href='#qual-1.sentence-1'>.</a></div> <div id='qual-1.sentence-2' class='sentence'>If a
<span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> scope resolution
operator
in a <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> is not preceded by a <a class='grammarterm' href='dcl.type.decltype#nt:decltype-specifier'>decltype-specifier</a>,
lookup of the name preceding that <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> considers only namespaces, types, and
templates whose specializations are types<a class='hidden_link' href='#qual-1.sentence-2'>.</a></div> <div id='qual-1.sentence-3' class='sentence'>If the
name found does not designate a namespace or a class, enumeration, or dependent type,
the program is ill-formed<a class='hidden_link' href='#qual-1.sentence-3'>.</a></div> <div id='qual-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#qual-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> A <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> n;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> A;
  A<span class='operator'>::</span>n <span class='operator'>=</span> <span class='literal'>42</span>;        <span class='comment'>// OK</span>
  A b;              <span class='comment'>// error: <span class='tcode_in_codeblock'>A</span> does not name a type</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='qual-2'><div class='marginalizedparent'><a class='marginalized' href='#qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2028'>#</a></div><div id='qual-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#qual-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='qual-2.sentence-1' class='sentence'>Multiply qualified names, such as <span class='texttt'>N1<span class='operator'>&#x200b;::&#x200b;</span>N2<span class='operator'>&#x200b;::&#x200b;</span>N3<span class='operator'>&#x200b;::&#x200b;</span>n</span>, can
be used to refer to members of nested classes (<a href='class.nest'>[class.nest]</a>) or
members of nested namespaces<a class='hidden_link' href='#qual-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='qual-3'><div class='marginalizedparent'><a class='marginalized' href='#qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2035'>#</a></div><div id='qual-3.sentence-1' class='sentence'>In a declaration in which the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a> is a
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>, names used before the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
being declared are looked up in the defining namespace scope; names
following the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> are looked up in the scope of the
member's class or namespace<a class='hidden_link' href='#qual-3.sentence-1'>.</a></div> <div id='qual-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#qual-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> number <span class='operator'>=</span> <span class='literal'>50</span>;
  <span class='keyword'>static</span> X arr<span class='squarebracket'>[</span>number<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
X C<span class='operator'>::</span>arr<span class='squarebracket'>[</span>number<span class='squarebracket'>]</span>;   <span class='comment'>// error:</span>
                    <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span> <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;arr[C&#x200b;::&#x200b;number];</span></span>
                    <span class='comment'>// and not to <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;X</span> <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;arr[C&#x200b;::&#x200b;number];</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='qual-4'><div class='marginalizedparent'><a class='marginalized' href='#qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2055'>#</a></div><div id='qual-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,scope_resolution'></a></span>A name prefixed by the unary scope operator <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>)
is looked up in global scope, in the translation unit where it is used<a class='hidden_link' href='#qual-4.sentence-1'>.</a></div> <div id='qual-4.sentence-2' class='sentence'>The name shall be declared in global namespace scope or shall be a name
whose declaration is visible in global scope because of a
<a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> (<a href='#namespace.qual'>[namespace.qual]</a>)<a class='hidden_link' href='#qual-4.sentence-2'>.</a></div> <div id='qual-4.sentence-3' class='sentence'>The use of <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>
allows a global name to be referred to even if its identifier has been
<a href='basic.scope.hiding'>hidden</a><a class='hidden_link' href='#qual-4.sentence-3'>.</a></div></div><div class='para' id='qual-5'><div class='marginalizedparent'><a class='marginalized' href='#qual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2066'>#</a></div><div id='qual-5.sentence-1' class='sentence'>A name prefixed by a <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> that
nominates an enumeration type shall represent an <a class='grammarterm' href='dcl.enum#nt:enumerator'>enumerator</a>
of that enumeration<a class='hidden_link' href='#qual-5.sentence-1'>.</a></div></div><div class='para' id='qual-6'><div class='marginalizedparent'><a class='marginalized' href='#qual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2071'>#</a></div><div id='qual-6.sentence-1' class='sentence'>In a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> of the form:</div><div id='qual-6.sentence-2' class='sentence'><pre class='ncbnf'><a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a> <span class='terminal'><span class='operator'>::</span></span> <span class='terminal'><span class='operator'>~</span></span> <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a>
</pre>
the second <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a> is looked up in the same scope as the first<a class='hidden_link' href='#qual-6.sentence-2'>.</a></div> <div id='qual-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#qual-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
<span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> I1, I2;
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>*</span> p;
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>*</span> q;
p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>C<span class='operator'>::</span>I<span class='operator'>::</span><span class='operator'>~</span>I<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>I</span> is looked up in the scope of <span class='tcode_in_codeblock'>C</span></span>
q<span class='operator'>-</span><span class='anglebracket'>&gt;</span>I1<span class='operator'>::</span><span class='operator'>~</span>I2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// <span class='tcode_in_codeblock'>I2</span> is looked up in the scope of the postfix-expression</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='operator'>~</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> A AB;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  AB<span class='operator'>*</span> p;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>AB<span class='operator'>::</span><span class='operator'>~</span>AB<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// explicitly calls the destructor for <span class='tcode_in_codeblock'>A</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='qual-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#qual-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='qual-6.sentence-3' class='sentence'><a href='#classref'>[basic.lookup.classref]</a> describes how name
lookup proceeds after the <span class='texttt'><span class='operator'>.</span></span> and <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> operators<a class='hidden_link' href='#qual-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div id='class.qual' class='section'><h4 ><a class='secnum' href='#class.qual' style='min-width:118pt'>6.5.3.1</a> Class members <a class='abbr_ref' href='class.qual'>[class.qual]</a></h4><div class='para' id='class.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2106'>#</a></div><div id='class.qual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,class_member'></a></span>If the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> of a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
nominates a class, the name specified after the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> is looked up in the scope of the
class (<a href='class.member.lookup'>[class.member.lookup]</a>), except for the cases listed below<a class='hidden_link' href='#class.qual-1.sentence-1'>.</a></div> <div id='class.qual-1.sentence-2' class='sentence'>The name shall represent one or more members of that class or of one of
its base classes (<a href='class.derived'>[class.derived]</a>)<a class='hidden_link' href='#class.qual-1.sentence-2'>.</a></div> <div id='class.qual-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.qual-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.qual-1.sentence-3' class='sentence'>A class member
can be referred to using a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> at any point in its
potential scope (<a href='basic.scope.class'>[basic.scope.class]</a>)<a class='hidden_link' href='#class.qual-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.qual-1.sentence-4' class='sentence'>
The exceptions to
the name lookup rule above are the following:
<ul class='itemize'><li id='class.qual-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.1'>(1.1)</a></div>the lookup for a destructor is as specified
in <a href='#qual'>[basic.lookup.qual]</a>;</li><li id='class.qual-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.2'>(1.2)</a></div>a <a class='grammarterm' href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a> of a
<a class='grammarterm' href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a> is looked up
in the same manner as a <a class='grammarterm' href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a> in a class member
access (see <a href='#classref'>[basic.lookup.classref]</a>);</li><li id='class.qual-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.3'>(1.3)</a></div>the names in a <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a> of a
<a class='grammarterm' href='temp.names#nt:template-id'>template-id</a> are looked up in the context in which the entire
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> occurs;</li><li id='class.qual-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.4'>(1.4)</a></div>the lookup for a name specified in a
<a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a> also finds class or
enumeration names <a href='basic.scope.hiding'>hidden</a> within the same
scope<a class='hidden_link' href='#class.qual-1.sentence-4'>.</a></li></ul></div></div><div class='para' id='class.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2140'>#</a></div><div id='class.qual-2.sentence-1' class='sentence'>In a lookup in which function names are not ignored<a class='footnotenum' href='#footnote-26' id='footnoteref-26'>26</a>
and the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> nominates a class <span class='texttt'>C</span>:
<ul class='itemize'><li id='class.qual-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-2.1'>(2.1)</a></div>if the name specified after the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>,
when looked up in <span class='texttt'>C</span>, is the injected-class-name of <span class='texttt'>C</span> (<a href='class.pre'>[class.pre]</a>), or</li><li id='class.qual-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-2.2'>(2.2)</a></div>in a <a class='grammarterm' href='namespace.udecl#nt:using-declarator'>using-declarator</a> of
a <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a> that is a <a class='grammarterm' href='class.mem#nt:member-declaration'>member-declaration</a>,
if the name specified after the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> is the same as the
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> or the <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>'s
<a class='grammarterm' href='temp.names#nt:template-name'>template-name</a> in the last component of the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>,</li></ul>
the name is instead considered to name the
constructor of class <span class='texttt'>C</span><a class='hidden_link' href='#class.qual-2.sentence-1'>.</a></div> <div id='class.qual-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.qual-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.qual-2.sentence-2' class='sentence'>For example, the constructor
is not an acceptable lookup result in an
<a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> so the constructor would not be
used in place of the injected-class-name<a class='hidden_link' href='#class.qual-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.qual-2.sentence-3' class='sentence'>
Such a constructor
name shall be used only in the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a> of a declaration
that names a constructor or in a <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a><a class='hidden_link' href='#class.qual-2.sentence-3'>.</a></div> <div id='class.qual-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.qual-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B<span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

A<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
B<span class='operator'>::</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

B<span class='operator'>::</span>A ba;            <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span></span>
A<span class='operator'>::</span>A a;             <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;A</span> is not a type name</span>
<span class='keyword'>struct</span> A<span class='operator'>::</span>A a2;     <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2181'>#</a></div><div id='class.qual-3.sentence-1' class='sentence'>A class member name hidden by a name in a nested declarative region or
by the name of a derived class member can still be found if qualified by
the name of its class followed by the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> operator<a class='hidden_link' href='#class.qual-3.sentence-1'>.</a></div></div><div class='footnote' id='footnote-26'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-26'>26)</a></div><div id='footnote-26.sentence-1' class='sentence'>Lookups in which
function names are ignored include names appearing in a
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>, an
<a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a>, or a <a class='grammarterm' href='class.derived#nt:base-specifier'>base-specifier</a><a class='hidden_link' href='#footnote-26.sentence-1'>.</a></div> <a href='#footnoteref-26'>⮥</a></div></div><div id='namespace.qual' class='section'><h4 ><a class='secnum' href='#namespace.qual' style='min-width:118pt'>6.5.3.2</a> Namespace members <a class='abbr_ref' href='namespace.qual'>[namespace.qual]</a></h4><div class='para' id='namespace.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2188'>#</a></div><div id='namespace.qual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,namespace_member'></a></span>If the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> of a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
nominates a namespace (including the case where the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> is <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>, i.e., nominating
the global namespace), the name specified after the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> is looked up in the scope of the
namespace<a class='hidden_link' href='#namespace.qual-1.sentence-1'>.</a></div> <div id='namespace.qual-1.sentence-2' class='sentence'>The names in a <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a> of a
<a class='grammarterm' href='temp.names#nt:template-id'>template-id</a> are looked up in the context in which the
entire <a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> occurs<a class='hidden_link' href='#namespace.qual-1.sentence-2'>.</a></div></div><div class='para' id='namespace.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2200'>#</a></div><div id='namespace.qual-2.sentence-1' class='sentence'>For a namespace <span class='texttt'>X</span> and name <span class='texttt'>m</span>, the namespace-qualified lookup set
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is defined as follows: Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.13em; padding-right: 0.071em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> be the set of all
declarations of <span class='texttt'>m</span> in <span class='texttt'>X</span> and the inline namespace set of
<span class='texttt'>X</span> (<a href='namespace.def'>[namespace.def]</a>)
whose potential scope (<a href='basic.scope.namespace'>[basic.scope.namespace]</a>)
would include the namespace in which <span class='texttt'>m</span> is declared
at the location of the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a><a class='hidden_link' href='#namespace.qual-2.sentence-1'>.</a></div> <div id='namespace.qual-2.sentence-2' class='sentence'>If <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.13em; padding-right: 0.071em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is not empty, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>
is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.13em; padding-right: 0.071em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>; otherwise, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is the union of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.085em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> for
all namespaces <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.085em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> nominated by <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a><span class='textit'>s</span> in
<span class='texttt'>X</span> and its inline namespace set<a class='hidden_link' href='#namespace.qual-2.sentence-2'>.</a></div></div><div class='para' id='namespace.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2213'>#</a></div><div id='namespace.qual-3.sentence-1' class='sentence'>Given <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>m</span> (where <span class='texttt'>X</span> is a user-declared namespace), or
given <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span>m</span> (where X is the global namespace), if
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is the empty set, the program is ill-formed<a class='hidden_link' href='#namespace.qual-3.sentence-1'>.</a></div> <div id='namespace.qual-3.sentence-2' class='sentence'>Otherwise, if
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> has exactly one member, or if the context of the reference is
a <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>
is the
required set of declarations of <span class='texttt'>m</span><a class='hidden_link' href='#namespace.qual-3.sentence-2'>.</a></div> <div id='namespace.qual-3.sentence-3' class='sentence'>Otherwise if the use of
<span class='texttt'>m</span> is not one that allows a unique declaration to be chosen from
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, the program is ill-formed<a class='hidden_link' href='#namespace.qual-3.sentence-3'>.</a></div> <div id='namespace.qual-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#namespace.qual-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> x;
<span class='keyword'>namespace</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> Y;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> Z;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> AB <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  AB<span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>g</span> is declared directly in <span class='tcode_in_codeblock'>AB</span>, therefore <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> }</span> and <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> is chosen</span>

  AB<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>;</span>
                <span class='comment'>// namespace <span class='tcode_in_codeblock'>Y</span> is not searched and <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;f(float)</span> is not considered;</span>
                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">A<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span> and overload resolution chooses <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span></span>

  AB<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>'c'</span><span class='parenthesis'>)</span>;   <span class='comment'>// as above but resolution chooses <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span></span>

  AB<span class='operator'>::</span>x<span class='operator'>+</span><span class='operator'>+</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span>, and is not declared in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span>, so the rules</span>
                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ }</span> so the program is ill-formed</span>

  AB<span class='operator'>::</span>i<span class='operator'>+</span><span class='operator'>+</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>i</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>,</span>
                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.225em;">A<span class='operator'>::</span>i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">B<span class='operator'>::</span>i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span> so the use is ambiguous and the program is ill-formed</span>

  AB<span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='literal'>16.8</span><span class='parenthesis'>)</span>;  <span class='comment'>// <span class='tcode_in_codeblock'>h</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> and not declared directly in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span> so the rules</span>
                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">Y<span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">Z<span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span> and</span>
                <span class='comment'>// overload resolution chooses <span class='tcode_in_codeblock'>Z&#x200b;::&#x200b;h(double)</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='namespace.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2277'>#</a></div><div id='namespace.qual-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#namespace.qual-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.qual-4.sentence-1' class='sentence'>The same declaration found more than once is not an ambiguity (because
it is still a unique declaration)<a class='hidden_link' href='#namespace.qual-4.sentence-1'>.</a></div> <div id='namespace.qual-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#namespace.qual-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> BC <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> C;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  BC<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK: <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A<span class='operator'>::</span>a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A<span class='operator'>::</span>a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> BD <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> D;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  BD<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK: <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A<span class='operator'>::</span>a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A<span class='operator'>::</span>a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='namespace.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2322'>#</a></div><div id='namespace.qual-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#namespace.qual-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='namespace.qual-5.sentence-1' class='sentence'>Because each referenced namespace is searched at most once, the
following is well-defined:
<pre class='codeblock'>
<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> b;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  A<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>a</span> declared directly in <span class='tcode_in_codeblock'>A</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
  B<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK: both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
  A<span class='operator'>::</span>b<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK: both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span></span>
  B<span class='operator'>::</span>b<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>b</span> declared directly in <span class='tcode_in_codeblock'>B</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span></span>
<span class='curlybracket'>}</span>
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='namespace.qual-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2350'>#</a></div><div id='namespace.qual-6.sentence-1' class='sentence'>During the lookup of a qualified namespace member name, if the lookup
finds more than one declaration of the member, and if one declaration
introduces a class name or enumeration name and the other declarations
introduce either the same variable, the same enumerator, or a set of
functions, the non-type name hides the class or enumeration name if and
only if the declarations are from the same namespace; otherwise (the
declarations are from different namespaces), the program is ill-formed<a class='hidden_link' href='#namespace.qual-6.sentence-1'>.</a></div> <div id='namespace.qual-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#namespace.qual-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> x <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> x;
  <span class='keyword'>int</span> y;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>int</span> i <span class='operator'>=</span> C<span class='operator'>::</span>x;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span> (of type <span class='tcode_in_codeblock'>int</span>)</span>
  <span class='keyword'>int</span> j <span class='operator'>=</span> C<span class='operator'>::</span>y;     <span class='comment'>// ambiguous, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;y</span> or <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;y</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='namespace.qual-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2379'>#</a></div><div id='namespace.qual-7.sentence-1' class='sentence'>In a declaration for a namespace member in which the
<a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a> is a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>, given that the
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> for the namespace member has the form
<pre class='ncbnf'><a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> <a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a>
</pre>
the
<a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a> shall name a member of the namespace
designated by the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
or of an element of the <a href='namespace.def#def:inline_namespace_set'>inline namespace set</a> of that namespace<a class='hidden_link' href='#namespace.qual-7.sentence-1'>.</a></div> <div id='namespace.qual-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#namespace.qual-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> A<span class='operator'>::</span>f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>  <span class='comment'>// error: <span class='tcode_in_codeblock'>f1</span> is not a member of <span class='tcode_in_codeblock'>A</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='namespace.qual-7.sentence-2' class='sentence'>
However, in such namespace member declarations, the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> may rely on <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a><span class='textit'>s</span>
to implicitly provide the initial part of the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a><a class='hidden_link' href='#namespace.qual-7.sentence-2'>.</a></div> <div id='namespace.qual-7.example-2' class='example'>[&nbsp;<a class='example_link' href='#namespace.qual-7.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> D <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>

<span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='keyword'>using</span> <span class='keyword'>namespace</span> C<span class='operator'>::</span>D;
<span class='keyword'>void</span> B<span class='operator'>::</span>f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>  <span class='comment'>// OK, defines <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B&#x200b;::&#x200b;f1(int)</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  </div></div></div><div id='elab' class='section'><h3 ><a class='secnum' href='#elab' style='min-width:103pt'>6.5.4</a> Elaborated type specifiers <a class='abbr_ref' href='basic.lookup.elab'>[basic.lookup.elab]</a></h3><span class='indexparent'><a class='index' id=':lookup,elaborated_type_specifier'></a></span><span class='indexparent'><a class='index' id=':type_specifier,elaborated'></a></span><div class='para' id='elab-1'><div class='marginalizedparent'><a class='marginalized' href='#elab-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2430'>#</a></div><div id='elab-1.sentence-1' class='sentence'>An <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> may be
used to refer to a previously declared <a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> or
<a class='grammarterm' href='dcl.enum#nt:enum-name'>enum-name</a> even though the name has been
<a href='basic.scope.hiding'>hidden</a> by a non-type
declaration<a class='hidden_link' href='#elab-1.sentence-1'>.</a></div></div><div class='para' id='elab-2'><div class='marginalizedparent'><a class='marginalized' href='#elab-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2437'>#</a></div><div id='elab-2.sentence-1' class='sentence'>If the <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> has no
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>, and unless the
<a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> appears in a declaration with the
following form:
<pre class='ncbnf'><a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <span class='terminal'>;</span>
</pre>
the <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> is looked up according
to <a href='#unqual'>[basic.lookup.unqual]</a> but ignoring any non-type names that have
been declared<a class='hidden_link' href='#elab-2.sentence-1'>.</a></div> <div id='elab-2.sentence-2' class='sentence'>If the <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> is introduced
by the <span class='texttt'><span class='keyword'>enum</span></span> keyword and this lookup does not find a previously
declared <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a>, the <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a>
is ill-formed<a class='hidden_link' href='#elab-2.sentence-2'>.</a></div> <div id='elab-2.sentence-3' class='sentence'>If the <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> is introduced
by the <a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> and this lookup does not find a previously
declared <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a>, or if the
<a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> appears in a declaration with the
form:
<pre class='ncbnf'><a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <span class='terminal'>;</span>
</pre>
the <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> is a declaration that
introduces the <a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> as described
in <a href='basic.scope.pdecl'>[basic.scope.pdecl]</a><a class='hidden_link' href='#elab-2.sentence-3'>.</a></div></div><div class='para' id='elab-3'><div class='marginalizedparent'><a class='marginalized' href='#elab-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2462'>#</a></div><div id='elab-3.sentence-1' class='sentence'>If the <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> has a
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>, qualified name lookup is performed, as
described in <a href='#qual'>[basic.lookup.qual]</a>, but ignoring any non-type names
that have been declared<a class='hidden_link' href='#elab-3.sentence-1'>.</a></div> <div id='elab-3.sentence-2' class='sentence'>If the name lookup does not find a previously
declared <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a>, the <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a>
is ill-formed<a class='hidden_link' href='#elab-3.sentence-2'>.</a></div></div><div class='para' id='elab-4'><div class='marginalizedparent'><a class='marginalized' href='#elab-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2470'>#</a></div><div id='elab-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#elab-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> Node <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Node<span class='operator'>*</span> Next;            <span class='comment'>// OK: Refers to injected-class-name <span class='tcode_in_codeblock'>Node</span></span>
  <span class='keyword'>struct</span> Data<span class='operator'>*</span> Data;            <span class='comment'>// OK: Declares type <span class='tcode_in_codeblock'>Data</span> at global scope and member <span class='tcode_in_codeblock'>Data</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Data <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Node<span class='operator'>*</span> Node;            <span class='comment'>// OK: Refers to <span class='tcode_in_codeblock'>Node</span> at global scope</span>
  <span class='keyword'>friend</span> <span class='keyword'>struct</span> <span class='operator'>::</span>Glob;         <span class='comment'>// error: <span class='tcode_in_codeblock'>Glob</span> is not declared, cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)</span>
  <span class='keyword'>friend</span> <span class='keyword'>struct</span> Glob;           <span class='comment'>// OK: Refers to (as yet) undeclared <span class='tcode_in_codeblock'>Glob</span> at global scope.</span>
  <span class='comment'>/* ... */</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Data;                  <span class='comment'>// OK: Declares nested <span class='tcode_in_codeblock'>Data</span></span>
  <span class='keyword'>struct</span> <span class='operator'>::</span>Data<span class='operator'>*</span>     thatData;  <span class='comment'>// OK: Refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;Data</span></span>
  <span class='keyword'>struct</span> Base<span class='operator'>::</span>Data<span class='operator'>*</span> thisData;  <span class='comment'>// OK: Refers to nested <span class='tcode_in_codeblock'>Data</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> <span class='operator'>::</span>Data;          <span class='comment'>// OK: global <span class='tcode_in_codeblock'>Data</span> is a friend</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Data;            <span class='comment'>// OK: nested <span class='tcode_in_codeblock'>Data</span> is a friend</span>
  <span class='keyword'>struct</span> Data <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;    <span class='comment'>// Defines nested <span class='tcode_in_codeblock'>Data</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Data;                    <span class='comment'>// OK: Redeclares <span class='tcode_in_codeblock'>Data</span> at global scope</span>
<span class='keyword'>struct</span> <span class='operator'>::</span>Data;                  <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Data;              <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Datum;             <span class='comment'>// error: <span class='tcode_in_codeblock'>Datum</span> undefined</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Data<span class='operator'>*</span> pBase;       <span class='comment'>// OK: refers to nested <span class='tcode_in_codeblock'>Data</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  </div></div><div id='classref' class='section'><h3 ><a class='secnum' href='#classref' style='min-width:103pt'>6.5.5</a> Class member access <a class='abbr_ref' href='basic.lookup.classref'>[basic.lookup.classref]</a></h3><div class='para' id='classref-1'><div class='marginalizedparent'><a class='marginalized' href='#classref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2505'>#</a></div><div id='classref-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,class_member_'></a></span>In a <a href='expr.ref'>class member access</a> expression, if the <span class='texttt'><span class='operator'>.</span></span>
or <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> token is immediately followed by an <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
followed by a <span class='texttt'><span class='anglebracket'>&lt;</span></span>, the identifier must be looked up to determine
whether the <span class='texttt'><span class='anglebracket'>&lt;</span></span> is the beginning of a template argument
list (<a href='temp.names'>[temp.names]</a>) or a less-than operator<a class='hidden_link' href='#classref-1.sentence-1'>.</a></div> <div id='classref-1.sentence-2' class='sentence'>The identifier is first
looked up in the class of the object expression (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#classref-1.sentence-2'>.</a></div> <div id='classref-1.sentence-3' class='sentence'>If the identifier is not found,
it is then looked up in the context of the entire
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> and shall name a template
whose specializations are types<a class='hidden_link' href='#classref-1.sentence-3'>.</a></div></div><div class='para' id='classref-2'><div class='marginalizedparent'><a class='marginalized' href='#classref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2518'>#</a></div><div id='classref-2.sentence-1' class='sentence'>If the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> in a <a href='expr.ref'>class member
access</a> is an <a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a>, and the type of
the object expression is of a class type <span class='texttt'>C</span>, the
<a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a> is looked up
in the scope of class <span class='texttt'>C</span> (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#classref-2.sentence-1'>.</a></div></div><div class='para' id='classref-3'><div class='marginalizedparent'><a class='marginalized' href='#classref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2525'>#</a></div><div id='classref-3.sentence-1' class='sentence'>If the <a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a> is <span class='texttt'><span class='operator'>~</span></span><a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a>, the
<a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a> is looked up in the context of the entire
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a><a class='hidden_link' href='#classref-3.sentence-1'>.</a></div> <div id='classref-3.sentence-2' class='sentence'>If the type <span class='texttt'>T</span> of the object
expression is of a class type <span class='texttt'>C</span>, the <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a> is
also looked up in the scope of class <span class='texttt'>C</span><a class='hidden_link' href='#classref-3.sentence-2'>.</a></div> <div id='classref-3.sentence-3' class='sentence'>At least one of the
lookups shall find a name that refers to <span class='mathit'>cv</span> <span class='texttt'>T</span><a class='hidden_link' href='#classref-3.sentence-3'>.</a></div> <div id='classref-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#classref-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='operator'>::</span>A<span class='operator'>*</span> a<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='operator'>::</span>A<span class='operator'>*</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  a<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK: lookup in <span class='tcode_in_codeblock'>*a</span> finds the injected-class-name</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='classref-4'><div class='marginalizedparent'><a class='marginalized' href='#classref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2547'>#</a></div><div id='classref-4.sentence-1' class='sentence'>If the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> in a class member access is a
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> of the form
<pre class='codeblock'>
<span class='textit'>class-name-or-namespace-name</span><span class='operator'>::</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>
</pre>
the <span class='texttt'><span class='textit'>class-name-or-namespace-name</span></span> following the <span class='texttt'><span class='operator'>.</span></span> or
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> operator is
first looked up in the class of the object expression (<a href='class.member.lookup'>[class.member.lookup]</a>)
and the name, if found,
is used<a class='hidden_link' href='#classref-4.sentence-1'>.</a></div> <div id='classref-4.sentence-2' class='sentence'>Otherwise it is looked up in the context of the entire
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a><a class='hidden_link' href='#classref-4.sentence-2'>.</a></div> <div id='classref-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#classref-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='classref-4.sentence-3' class='sentence'>See <a href='#qual'>[basic.lookup.qual]</a>, which
describes the lookup of a name before <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>, which will only find a type
or namespace name<a class='hidden_link' href='#classref-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='classref-5'><div class='marginalizedparent'><a class='marginalized' href='#classref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2565'>#</a></div><div id='classref-5.sentence-1' class='sentence'>If the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> has the form
<pre class='codeblock'>
<span class='operator'>::</span><span class='textit'>class-name-or-namespace-name</span><span class='operator'>::</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>
</pre>
the <span class='texttt'><span class='textit'>class-name-or-namespace-name</span></span> is looked up in global scope
as a <a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> or <a class='grammarterm' href='namespace.def#nt:namespace-name'>namespace-name</a><a class='hidden_link' href='#classref-5.sentence-1'>.</a></div></div><div class='para' id='classref-6'><div class='marginalizedparent'><a class='marginalized' href='#classref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2573'>#</a></div><div id='classref-6.sentence-1' class='sentence'>If the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> contains a
<a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>, the names in its
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><span class='textit'>s</span> are looked up in the context in which the
entire <a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> occurs<a class='hidden_link' href='#classref-6.sentence-1'>.</a></div></div><div class='para' id='classref-7'><div class='marginalizedparent'><a class='marginalized' href='#classref-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2579'>#</a></div><div id='classref-7.sentence-1' class='sentence'>If the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is a <a class='grammarterm' href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a>,
its <a class='grammarterm' href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a>
is first looked up
in the class of the object expression (<a href='class.member.lookup'>[class.member.lookup]</a>)
and the name, if
found, is used<a class='hidden_link' href='#classref-7.sentence-1'>.</a></div> <div id='classref-7.sentence-2' class='sentence'>Otherwise it is looked up in the context
of the entire <a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a><a class='hidden_link' href='#classref-7.sentence-2'>.</a></div> <div id='classref-7.sentence-3' class='sentence'>In each of these lookups, only names that denote types or templates whose
specializations are types are considered<a class='hidden_link' href='#classref-7.sentence-3'>.</a></div> <div id='classref-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#classref-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
    <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  N<span class='operator'>::</span>A a;
  a<span class='operator'>.</span><span class='keyword'>operator</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;A&#x200b;::&#x200b;operator N&#x200b;::&#x200b;A</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='udir' class='section'><h3 ><a class='secnum' href='#udir' style='min-width:103pt'>6.5.6</a> Using-directives and namespace aliases <a class='abbr_ref' href='basic.lookup.udir'>[basic.lookup.udir]</a></h3><div class='para' id='udir-1'><div class='marginalizedparent'><a class='marginalized' href='#udir-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b6d9e27e75b10cfb0a5f0a99343cce3697042c21/source/basic.tex#L2608'>#</a></div><div id='udir-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,using-directives_and'></a></span><span class='indexparent'><a class='index' id=':lookup,namespace_aliases_and'></a></span>In a <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> or <a class='grammarterm' href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a>,
during the lookup for a <a class='grammarterm' href='namespace.def#nt:namespace-name'>namespace-name</a> or for a name in a
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
only namespace names are considered<a class='hidden_link' href='#udir-1.sentence-1'>.</a></div> </div></div></div></body></html>