<!DOCTYPE html><html lang='en'><head><title>[basic.lookup]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>6.5</a> Name lookup <a class='abbr_ref'>[basic.lookup]</a></h2><div class='texpara'><a class='index' id=':lookup,name'></a></div><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>6.5.1</a> General <a class='abbr_ref' href='basic.lookup.general'>[basic.lookup.general]</a></h3><div class='texpara'></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1460'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>The name lookup rules apply uniformly to all names (including
<a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>),
<a href='namespace.def.general#nt:namespace-name' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name'><span class='textsf'><i >namespace-name</i></span></span></a><i >s</i> (<a href='basic.namespace' title='9.8&emsp;Namespaces'>[basic.<span class='shy'></span>namespace]</a>), and
<a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name'><span class='textsf'><i >class-name</i></span></span></a><i >s</i> (<a href='class.name' title='11.3&emsp;Class names'>[class.<span class='shy'></span>name]</a>)) wherever the grammar allows
such names in the context discussed by a particular rule<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>Name lookup
associates the use of a name with a set of declarations (<a href='basic.def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>) of
that name<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>Unless otherwise specified,
the program is ill-formed if no declarations are found<a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-1.sentence-4' class='sentence'>If the declarations found by name lookup
all denote functions or function templates,
the declarations are said to form an <a class='hidden_link' href='#def:overload_set' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:overload_set'><i >overload set</i></span></a><a class='hidden_link' href='#general-1.sentence-4'>.</a></div> <div id='general-1.sentence-5' class='sentence'>Otherwise,
if the declarations found by name lookup do not all denote the same entity,
<a class='index' id=':lookup,ambiguous'></a>they are <a class='hidden_link' href='#def:ambiguous' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:ambiguous'><i >ambiguous</i></span></a> and the program is ill-formed<a class='hidden_link' href='#general-1.sentence-5'>.</a></div> <div id='general-1.sentence-6' class='sentence'>Overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)
takes place after name lookup has succeeded<a class='hidden_link' href='#general-1.sentence-6'>.</a></div> <div id='general-1.sentence-7' class='sentence'>The access rules (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)
are considered only once name lookup and
function overload resolution (if applicable) have succeeded<a class='hidden_link' href='#general-1.sentence-7'>.</a></div> <div id='general-1.sentence-8' class='sentence'>Only after
name lookup, function overload resolution (if applicable) and access
checking have succeeded
are the semantic properties introduced by the declarations
used in further processing<a class='hidden_link' href='#general-1.sentence-8'>.</a></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1486'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>A program point <span class='math'><span class='mathalpha'>P</span></span> is said to follow
any declaration in the same translation unit
whose locus (<a href='basic.scope.pdecl' title='6.4.2&emsp;Point of declaration'>[basic.<span class='shy'></span>scope.<span class='shy'></span>pdecl]</a>) is before <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-2.sentence-2' class='sentence'>The declaration might appear in a scope that does not contain <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#general-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-2.sentence-3' class='sentence'>A declaration <span class='math'><span class='mathalpha'>X</span></span> <a class='hidden_link' href='#def:declaration,precede' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:declaration,precede'><i >precedes</i></span></a>
a program point <span class='math'><span class='mathalpha'>P</span></span> in a translation unit <span class='math'><span class='mathalpha'>L</span></span>
if <span class='math'><span class='mathalpha'>P</span></span> follows <span class='math'><span class='mathalpha'>X</span></span>, <span class='math'><span class='mathalpha'>X</span></span> inhabits a class scope and is reachable from <span class='math'><span class='mathalpha'>P</span></span>, or
else <span class='math'><span class='mathalpha'>X</span></span> appears in a translation unit <span class='math'><span class='mathalpha'>D</span></span> and
<ul class='itemize'><li id='general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>P</span></span> follows
a <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration'><span class='textsf'><i >module-import-declaration</i></span></span></a> or <a href='module.unit#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration'><span class='textsf'><i >module-declaration</i></span></span></a>
that imports <span class='math'><span class='mathalpha'>D</span></span> (directly or indirectly), and</li><li id='general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.2'>(2.2)</a></div><span class='math'><span class='mathalpha'>X</span></span> appears after the <a href='module.unit#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration_'><span class='textsf'><i >module-declaration</i></span></span></a> in <span class='math'><span class='mathalpha'>D</span></span> (if any) and
before the <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment'><span class='textsf'><i >private-module-fragment</i></span></span></a> in <span class='math'><span class='mathalpha'>D</span></span> (if any), and</li><li id='general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.3'>(2.3)</a></div>either <span class='math'><span class='mathalpha'>X</span></span> is exported or else <span class='math'><span class='mathalpha'>D</span></span> and <span class='math'><span class='mathalpha'>L</span></span> are part of the same module and
<span class='math'><span class='mathalpha'>X</span></span> does not inhabit a namespace with internal linkage or
declare a name with internal linkage<a class='hidden_link' href='#general-2.sentence-3'>.</a> <div class='texpara'><div id='general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-2'>2</a></i>:&ensp;<div id='general-2.3.sentence-2' class='sentence'>Names declared by a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a> have no linkage<a class='hidden_link' href='#general-2.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-3'>3</a></i>:&ensp;<div id='general-2.sentence-4' class='sentence'>A <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration_'><span class='textsf'><i >module-import-declaration</i></span></span></a> imports both
the named translation unit(s) and
any modules named by exported
<a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration__'><span class='textsf'><i >module-import-declaration</i></span></span></a><i >s</i> within them,
recursively<a class='hidden_link' href='#general-2.sentence-4'>.</a></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> Q;
<span class='keyword'>export</span> <span class='keyword'>int</span> sq<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i<span class='operator'>*</span>i; <span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> R;
<span class='keyword'>export</span> <span class='keyword'>import</span> Q;
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>import</span> R;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> sq<span class='parenthesis'>(</span><span class='literal'>9</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>    <span class='comment'>// OK, <span class='tcode_in_codeblock'>sq</span> from module <span class='tcode_in_codeblock'>Q</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1538'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'><a class='index' id=':scope,search,single'></a>A <a class='hidden_link' href='#def:search,single' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:search,single'><i >single search</i></span></a> in a scope <span class='math'><span class='mathalpha'>S</span></span>
for a name <span class='math'><span class='mathalpha'>N</span></span> from a program point <span class='math'><span class='mathalpha'>P</span></span>
finds all declarations that precede <span class='math'><span class='mathalpha'>P</span></span>
to which any name that is the same as <span class='math'><span class='mathalpha'>N</span></span> (<a href='basic.pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>) is bound in <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#general-3.sentence-1'>.</a></div> <div id='general-3.sentence-2' class='sentence'>If any such declaration is a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator'><span class='textsf'><i >using-declarator</i></span></span></a>
whose terminal name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>)
is not dependent (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>),
it is replaced by the declarations named by
the <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator_'><span class='textsf'><i >using-declarator</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#general-3.sentence-2'>.</a></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1550'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>In certain contexts, only certain kinds of declarations are included<a class='hidden_link' href='#general-4.sentence-1'>.</a></div> <div id='general-4.sentence-2' class='sentence'>After any such restriction, any declarations of classes or enumerations are discarded if any other declarations are found<a class='hidden_link' href='#general-4.sentence-2'>.</a></div> <div id='general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-4'>4</a></i>:&ensp;<div id='general-4.sentence-3' class='sentence'>A type (but not a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_'><span class='textsf'><i >typedef-name</i></span></span></a> or template)
is therefore hidden by any other entity in its scope<a class='hidden_link' href='#general-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-4.sentence-4' class='sentence'>However, if a lookup is <a class='hidden_link' href='#def:lookup,type-only' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:lookup,type-only'><i >type-only</i></span></a>,
only declarations of
types and templates whose specializations are types are considered;
furthermore, if declarations
of a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name__'><span class='textsf'><i >typedef-name</i></span></span></a> and of the type to which it refers are found,
the declaration of the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name___'><span class='textsf'><i >typedef-name</i></span></span></a> is discarded
instead of the type declaration<a class='hidden_link' href='#general-4.sentence-4'>.</a></div></div></div></div><div id='class.member.lookup' class='section'><h3 ><a class='secnum' href='#class.member.lookup' style='min-width:80pt'>6.5.2</a> Member name lookup <a class='abbr_ref' href='class.member.lookup'>[class.member.lookup]</a></h3><div class='texpara'><a class='index' id=':lookup,member_name'></a><a class='index' id=':ambiguity,base_class_member'></a><a class='index' id=':ambiguity,member_access'></a></div><div class='para' id='class.member.lookup-1'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1571'>#</a></div><div class='texpara'><div id='class.member.lookup-1.sentence-1' class='sentence'><a class='index' id=':scope,search'></a>A <a class='hidden_link' href='#def:search' title='6.5.2&emsp;Member name lookup&emsp;[class.member.lookup]'><span id='def:search'><i >search</i></span></a> in a scope <span class='math'><span class='mathalpha'>X</span></span> for a name <span class='math'><span class='mathalpha'>M</span></span> from a program point <span class='math'><span class='mathalpha'>P</span></span>
is a single search in <span class='math'><span class='mathalpha'>X</span></span> for <span class='math'><span class='mathalpha'>M</span></span> from <span class='math'><span class='mathalpha'>P</span></span>
unless <span class='math'><span class='mathalpha'>X</span></span> is the scope of a class or class template <span class='math'><span class='mathalpha'>T</span></span>, in which case the
following steps define the result of the search<a class='hidden_link' href='#class.member.lookup-1.sentence-1'>.</a></div> <div id='class.member.lookup-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-1'>1</a></i>:&ensp;<div id='class.member.lookup-1.sentence-2' class='sentence'>The result differs only
if <span class='math'><span class='mathalpha'>M</span></span> is a <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a> or
if the single search would find nothing<a class='hidden_link' href='#class.member.lookup-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.member.lookup-2'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1583'>#</a></div><div class='texpara'><div id='class.member.lookup-2.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:lookup_set' title='6.5.2&emsp;Member name lookup&emsp;[class.member.lookup]'><span id='def:lookup_set'><i >lookup set</i></span></a> for a name <span class='math'><span class='mathalpha'>N</span></span> in a class or class template <span class='math'><span class='mathalpha'>C</span></span>, called <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>,
consists of two component sets:
the <a class='hidden_link' href='#def:declaration_set' id='def:declaration_set'><i>declaration set</i></a>, a set of members named <span class='math'><span class='mathalpha'>N</span></span>; and
the <a class='hidden_link' href='#def:subobject_set' id='def:subobject_set'><i>subobject set</i></a>,
a set of subobjects where declarations of these members were found
(possibly via <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration_'><span class='textsf'><i >using-declaration</i></span></span></a><i >s</i>)<a class='hidden_link' href='#class.member.lookup-2.sentence-1'>.</a></div> <div id='class.member.lookup-2.sentence-2' class='sentence'>In the declaration set, type declarations (including injected-class-names)
are replaced by the types they designate<a class='hidden_link' href='#class.member.lookup-2.sentence-2'>.</a></div> <div id='class.member.lookup-2.sentence-3' class='sentence'><span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is calculated as follows:</div></div></div><div class='para' id='class.member.lookup-3'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1593'>#</a></div><div class='texpara'><div id='class.member.lookup-3.sentence-1' class='sentence'>The declaration set is the result of
a single search in the scope of <span class='math'><span class='mathalpha'>C</span></span> for <span class='math'><span class='mathalpha'>N</span></span>
from immediately after the <a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier'><span class='textsf'><i >class-specifier</i></span></span></a> of <span class='math'><span class='mathalpha'>C</span></span>
if <span class='math'><span class='mathalpha'>P</span></span> is in a complete-class context of <span class='math'><span class='mathalpha'>C</span></span> or
from <span class='math'><span class='mathalpha'>P</span></span> otherwise<a class='hidden_link' href='#class.member.lookup-3.sentence-1'>.</a></div> <div id='class.member.lookup-3.sentence-2' class='sentence'>If the resulting declaration set is not empty, the subobject set
contains <span class='math'><span class='mathalpha'>C</span></span> itself, and calculation is complete<a class='hidden_link' href='#class.member.lookup-3.sentence-2'>.</a></div></div></div><div class='para' id='class.member.lookup-4'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1602'>#</a></div><div class='texpara'><div id='class.member.lookup-4.sentence-1' class='sentence'>Otherwise (i.e., <span class='math'><span class='mathalpha'>C</span></span> does not contain a declaration of <span class='math'><span class='mathalpha'>N</span></span>
or the resulting declaration set is empty), <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is initially empty<a class='hidden_link' href='#class.member.lookup-4.sentence-1'>.</a></div> <div id='class.member.lookup-4.sentence-2' class='sentence'>Calculate the lookup set for <span class='math'><span class='mathalpha'>N</span></span>
in each direct non-dependent (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>) base class subobject <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, and
merge each such lookup set <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> in turn into <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span><a class='hidden_link' href='#class.member.lookup-4.sentence-2'>.</a></div> <div id='class.member.lookup-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-2'>2</a></i>:&ensp;<div id='class.member.lookup-4.sentence-3' class='sentence'>If <span class='math'><span class='mathalpha'>C</span></span> is incomplete,
only base classes whose <a href='class.derived.general#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier'><span class='textsf'><i >base-specifier</i></span></span></a> appears before <span class='math'><span class='mathalpha'>P</span></span>
are considered<a class='hidden_link' href='#class.member.lookup-4.sentence-3'>.</a></div> <div id='class.member.lookup-4.sentence-4' class='sentence'>If <span class='math'><span class='mathalpha'>C</span></span> is an instantiated class, its base classes are not dependent<a class='hidden_link' href='#class.member.lookup-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.member.lookup-5'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1615'>#</a></div><div class='texpara'><div id='class.member.lookup-5.sentence-1' class='sentence'>The following steps define the result of merging lookup set <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>
into the intermediate <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>:</div></div><div class='texpara'><ul class='itemize'><li id='class.member.lookup-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.member.lookup-5.1'>(5.1)</a></div><div class='texpara'><div id='class.member.lookup-5.1.sentence-1' class='sentence'>If each of the subobject members of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is a base class
subobject of at least one of the subobject members of <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>, or if
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is empty, <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is unchanged and the merge is complete<a class='hidden_link' href='#class.member.lookup-5.1.sentence-1'>.</a></div> <div id='class.member.lookup-5.1.sentence-2' class='sentence'>Conversely, if each of the subobject members of <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a base class
subobject of at least one of the subobject members of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, or if
<span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is empty, the new <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a copy of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span><a class='hidden_link' href='#class.member.lookup-5.1.sentence-2'>.</a></div></div></li><li id='class.member.lookup-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.member.lookup-5.2'>(5.2)</a></div><div class='texpara'><div id='class.member.lookup-5.2.sentence-1' class='sentence'>Otherwise, if the declaration sets of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> and <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>
differ, the merge is ambiguous: the new <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a lookup set with an
invalid declaration set and the union of the subobject sets<a class='hidden_link' href='#class.member.lookup-5.2.sentence-1'>.</a></div> <div id='class.member.lookup-5.2.sentence-2' class='sentence'>In
subsequent merges, an invalid declaration set is considered different
from any other<a class='hidden_link' href='#class.member.lookup-5.2.sentence-2'>.</a></div></div></li><li id='class.member.lookup-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.member.lookup-5.3'>(5.3)</a></div><div class='texpara'><div id='class.member.lookup-5.3.sentence-1' class='sentence'>Otherwise, the new <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a lookup set with the shared set of
declarations and the union of the subobject sets<a class='hidden_link' href='#class.member.lookup-5.3.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='class.member.lookup-6'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1637'>#</a></div><div class='texpara'><div id='class.member.lookup-6.sentence-1' class='sentence'>The result of the search is the declaration set of <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>M</span>,<span class='mathalpha'>T</span>)</span><a class='hidden_link' href='#class.member.lookup-6.sentence-1'>.</a></div> <div id='class.member.lookup-6.sentence-2' class='sentence'>If it is an invalid set, the program is ill-formed<a class='hidden_link' href='#class.member.lookup-6.sentence-2'>.</a></div> <div id='class.member.lookup-6.sentence-3' class='sentence'>If it differs from the result of a search in <span class='math'><span class='mathalpha'>T</span></span> for <span class='math'><span class='mathalpha'>M</span></span>
in a complete-class context (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) of <span class='math'><span class='mathalpha'>T</span></span>,
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#class.member.lookup-6.sentence-3'>.</a></div> <div id='class.member.lookup-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;                    <span class='comment'>// S(x,A) = { { <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span> }, { <span class='tcode_in_codeblock'>A</span> } }</span>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>float</span> x; <span class='curlybracket'>}</span>;                  <span class='comment'>// S(x,B) = { { <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;x</span> }, { <span class='tcode_in_codeblock'>B</span> } }</span>
<span class='keyword'>struct</span> C<span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;       <span class='comment'>// S(x,C) = { invalid, { <span class='tcode_in_codeblock'>A</span> in <span class='tcode_in_codeblock'>C</span>, <span class='tcode_in_codeblock'>B</span> in <span class='tcode_in_codeblock'>C</span> } }</span>
<span class='keyword'>struct</span> D<span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// S(x,D) = S(x,C)</span>
<span class='keyword'>struct</span> E<span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> C <span class='curlybracket'>{</span> <span class='keyword'>char</span> x; <span class='curlybracket'>}</span>; <span class='comment'>// S(x,E) = { { <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;x</span> }, { <span class='tcode_in_codeblock'>E</span> } }</span>
<span class='keyword'>struct</span> F<span class='operator'>:</span> <span class='keyword'>public</span> D, <span class='keyword'>public</span> E <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;       <span class='comment'>// S(x,F) = S(x,E)</span>
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  F f;
  f<span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>0</span>;                              <span class='comment'>// OK, lookup finds <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;x</span></span>
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='class.member.lookup-6.sentence-4' class='sentence'><span class='math'><span class='mathalpha'>S</span>(<span class='texttt'>x</span>,<span class='texttt'>F</span>)</span> is unambiguous because the <span class='texttt'>A</span> and <span class='texttt'>B</span> base
class subobjects of <span class='texttt'>D</span> are also base class subobjects of <span class='texttt'>E</span>, so
<span class='math'><span class='mathalpha'>S</span>(<span class='texttt'>x</span>,<span class='texttt'>D</span>)</span> is discarded in the first merge step<a class='hidden_link' href='#class.member.lookup-6.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.member.lookup-7'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1662'>#</a></div><div class='texpara'><div id='class.member.lookup-7.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>M</span></span> is a non-dependent <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id_'><span class='textsf'><i >conversion-function-id</i></span></span></a>,
conversion function templates that are members of <span class='math'><span class='mathalpha'>T</span></span> are considered<a class='hidden_link' href='#class.member.lookup-7.sentence-1'>.</a></div> <div id='class.member.lookup-7.sentence-2' class='sentence'>For each such template <span class='math'><span class='mathalpha'>F</span></span>, the lookup set <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>t</span>,<span class='mathalpha'>T</span>)</span> is constructed,
considering a function template declaration to have the name <span class='math'><span class='mathalpha'>t</span></span>
only if it corresponds to a declaration of <span class='math'><span class='mathalpha'>F</span></span> (<a href='basic.scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>)<a class='hidden_link' href='#class.member.lookup-7.sentence-2'>.</a></div> <div id='class.member.lookup-7.sentence-3' class='sentence'>The members of the declaration set of each such lookup set,
which shall not be an invalid set, are included in the result<a class='hidden_link' href='#class.member.lookup-7.sentence-3'>.</a></div> <div id='class.member.lookup-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-3'>3</a></i>:&ensp;<div id='class.member.lookup-7.sentence-4' class='sentence'>Overload resolution will discard those
that cannot convert to the type specified by <span class='math'><span class='mathalpha'>M</span></span> (<a href='temp.over' title='13.10.4&emsp;Overload resolution'>[temp.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#class.member.lookup-7.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.member.lookup-8'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1675'>#</a></div><div class='texpara'><div id='class.member.lookup-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-4'>4</a></i>:&ensp;<div id='class.member.lookup-8.sentence-1' class='sentence'>A static member, a nested type or an enumerator defined in a base class
<span class='texttt'>T</span> can unambiguously be found even if an object has more than one
base class subobject of type <span class='texttt'>T</span><a class='hidden_link' href='#class.member.lookup-8.sentence-1'>.</a></div> <div id='class.member.lookup-8.sentence-2' class='sentence'>Two base class subobjects share
the non-static member subobjects of their common virtual base classes<a class='hidden_link' href='#class.member.lookup-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.member.lookup-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> v;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;
  <span class='keyword'>enum</span> <span class='curlybracket'>{</span> e <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>D<span class='operator'>*</span> pd<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>v<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>v</span> (virtual)</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>s<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>s</span> (static)</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>e;    <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>e</span> (enumerator)</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// error: ambiguous: two <span class='tcode_in_codeblock'>a</span>s in <span class='tcode_in_codeblock'>D</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.member.lookup-9'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1705'>#</a></div><div class='texpara'><div id='class.member.lookup-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-5'>5</a></i>:&ensp;<div id='class.member.lookup-9.sentence-1' class='sentence'><a class='index' id=':dominance,virtual_base_class'></a>When virtual base classes are used, a hidden declaration can be reached
along a path through the subobject lattice that does not pass through
the hiding declaration<a class='hidden_link' href='#class.member.lookup-9.sentence-1'>.</a></div> <div id='class.member.lookup-9.sentence-2' class='sentence'>This is not an ambiguity<a class='hidden_link' href='#class.member.lookup-9.sentence-2'>.</a></div> <div id='class.member.lookup-9.sentence-3' class='sentence'>The identical use with
non-virtual base classes is an ambiguity; in that case there is no
unique instance of the name that hides all the others<a class='hidden_link' href='#class.member.lookup-9.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.member.lookup-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> W <span class='curlybracket'>{</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> y; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V, W <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> x;
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> y;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> <span class='keyword'>virtual</span> V, W <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='keyword'>void</span> glorp<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div class='figure' id='fig:class.lookup'><svg width="386pt" height="140pt"
 viewBox="0.00 0.00 386.00 140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 136)">
<title>virt</title>
<!-- W1 -->
<g class="node">
<title>W1</title>
<text text-anchor="middle" x="27" y="-119.2" font-family="Noto Sans Mono" font-size="11.00">W</text>
</g>
<!-- V -->
<g class="node">
<title>V</title>
<text text-anchor="middle" x="189" y="-119.2" font-family="Noto Sans Mono" font-size="11.00">V</text>
</g>
<!-- W2 -->
<g class="node">
<title>W2</title>
<text text-anchor="middle" x="351" y="-119.2" font-family="Noto Sans Mono" font-size="11.00">W</text>
</g>
<!-- B -->
<g class="node">
<title>B</title>
<text text-anchor="middle" x="108" y="-63.2" font-family="Noto Sans Mono" font-size="11.00">B</text>
</g>
<!-- B&#45;&gt;W1 -->
<g class="edge">
<title>B&#45;&gt;W1</title>
<path fill="none" stroke="black" d="M94.26,-76.16C81.85,-84.43 63.37,-96.75 48.92,-106.38"/>
<polygon fill="black" stroke="black" points="46.92,-103.52 40.54,-111.97 50.8,-109.34 46.92,-103.52"/>
</g>
<!-- B&#45;&gt;V -->
<g class="edge">
<title>B&#45;&gt;V</title>
<path fill="none" stroke="black" d="M121.74,-76.16C134.15,-84.43 152.63,-96.75 167.08,-106.38"/>
<polygon fill="black" stroke="black" points="165.2,-109.34 175.46,-111.97 169.08,-103.52 165.2,-109.34"/>
</g>
<!-- C -->
<g class="node">
<title>C</title>
<text text-anchor="middle" x="270" y="-63.2" font-family="Noto Sans Mono" font-size="11.00">C</text>
</g>
<!-- C&#45;&gt;V -->
<g class="edge">
<title>C&#45;&gt;V</title>
<path fill="none" stroke="black" d="M256.26,-76.16C243.85,-84.43 225.37,-96.75 210.92,-106.38"/>
<polygon fill="black" stroke="black" points="208.92,-103.52 202.54,-111.97 212.8,-109.34 208.92,-103.52"/>
</g>
<!-- C&#45;&gt;W2 -->
<g class="edge">
<title>C&#45;&gt;W2</title>
<path fill="none" stroke="black" d="M283.74,-76.16C296.15,-84.43 314.63,-96.75 329.08,-106.38"/>
<polygon fill="black" stroke="black" points="327.2,-109.34 337.46,-111.97 331.08,-103.52 327.2,-109.34"/>
</g>
<!-- D -->
<g class="node">
<title>D</title>
<text text-anchor="middle" x="189" y="-7.2" font-family="Noto Sans Mono" font-size="11.00">D</text>
</g>
<!-- D&#45;&gt;B -->
<g class="edge">
<title>D&#45;&gt;B</title>
<path fill="none" stroke="black" d="M175.26,-20.16C162.85,-28.43 144.37,-40.75 129.92,-50.38"/>
<polygon fill="black" stroke="black" points="127.92,-47.52 121.54,-55.97 131.8,-53.34 127.92,-47.52"/>
</g>
<!-- D&#45;&gt;C -->
<g class="edge">
<title>D&#45;&gt;C</title>
<path fill="none" stroke="black" d="M202.74,-20.16C215.15,-28.43 233.63,-40.75 248.08,-50.38"/>
<polygon fill="black" stroke="black" points="246.2,-53.34 256.46,-55.97 250.08,-47.52 246.2,-53.34"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.lookup'>1</a>: Name lookup&emsp;&ensp;<a href='./fig:class.lookup'>[fig:class.lookup]</a></div></div><div class='texpara'><div id='class.member.lookup-9.sentence-4' class='sentence'>As illustrated in Figure <a href='#fig:class.lookup'>1</a>,
the names declared in <span class='texttt'>V</span> and the left-hand instance of <span class='texttt'>W</span>
are hidden by those in <span class='texttt'>B</span>, but the names declared in the
right-hand instance of <span class='texttt'>W</span> are not hidden at all<a class='hidden_link' href='#class.member.lookup-9.sentence-4'>.</a></div> <span class='codeblock'><span class='keyword'>void</span> D<span class='operator'>::</span>glorp<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  x<span class='operator'>+</span><span class='operator'>+</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;x</span> hides <span class='tcode_in_codeblock'>V&#x200b;::&#x200b;x</span></span>
  f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f()</span> hides <span class='tcode_in_codeblock'>V&#x200b;::&#x200b;f()</span></span>
  y<span class='operator'>+</span><span class='operator'>+</span>;              <span class='comment'>// error: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;y</span> and <span class='tcode_in_codeblock'>C</span>'s <span class='tcode_in_codeblock'>W&#x200b;::&#x200b;y</span></span>
  g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// error: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g()</span> and <span class='tcode_in_codeblock'>C</span>'s <span class='tcode_in_codeblock'>W&#x200b;::&#x200b;g()</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <a class='index' id=':ambiguity,class_conversion'></a></div></div><div class='para' id='class.member.lookup-10'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1748'>#</a></div><div class='texpara'><div id='class.member.lookup-10.sentence-1' class='sentence'>An explicit or implicit conversion from a pointer to or
an expression designating an object
of a
derived class to a pointer or reference to one of its base classes shall
unambiguously refer to a unique object representing the base class<a class='hidden_link' href='#class.member.lookup-10.sentence-1'>.</a></div> <div id='class.member.lookup-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D d;
  B<span class='operator'>*</span> pb <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  A<span class='operator'>*</span> pa <span class='operator'>=</span> <span class='operator'>&amp;</span>d;       <span class='comment'>// error: ambiguous: <span class='tcode_in_codeblock'>C</span>'s <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span>'s <span class='tcode_in_codeblock'>A</span>?</span>
  V<span class='operator'>*</span> pv <span class='operator'>=</span> <span class='operator'>&amp;</span>d;       <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>V</span> subobject</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.member.lookup-11'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1771'>#</a></div><div class='texpara'><div id='class.member.lookup-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-6'>6</a></i>:&ensp;<div id='class.member.lookup-11.sentence-1' class='sentence'>Even if the result of name lookup is unambiguous, use of a name found in
multiple subobjects might still be
ambiguous (<a href='conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>, <a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <a href='class.access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a>)<a class='hidden_link' href='#class.member.lookup-11.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.member.lookup-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B1 <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B2 <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> I1<span class='operator'>:</span> B1 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> I2<span class='operator'>:</span> B1 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D<span class='operator'>:</span> I1, I2, B2 <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B1<span class='operator'>::</span>f;
  <span class='keyword'>using</span> B2<span class='operator'>::</span>f;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                        <span class='comment'>// Ambiguous conversion of <span id=':this'><span class='tcode_in_codeblock'>this</span></span></span>
    f<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                       <span class='comment'>// Unambiguous (static)</span>
    f<span class='parenthesis'>(</span><span class='literal'>0.0</span><span class='parenthesis'>)</span>;                     <span class='comment'>// Unambiguous (only one <span class='tcode_in_codeblock'>B2</span>)</span>
    <span class='keyword'>int</span> B1<span class='operator'>::</span><span class='operator'>*</span> mpB1 <span class='operator'>=</span> <span class='operator'>&amp;</span>D<span class='operator'>::</span>i;     <span class='comment'>// Unambiguous</span>
    <span class='keyword'>int</span> D<span class='operator'>::</span><span class='operator'>*</span> mpD <span class='operator'>=</span> <span class='operator'>&amp;</span>D<span class='operator'>::</span>i;       <span class='comment'>// Ambiguous conversion</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='unqual' class='section'><h3 ><a class='secnum' href='#unqual' style='min-width:80pt'>6.5.3</a> Unqualified name lookup <a class='abbr_ref' href='basic.lookup.unqual'>[basic.lookup.unqual]</a></h3><div class='texpara'><a class='index' id=':name,unqualified'></a></div><div class='para' id='unqual-1'><div class='marginalizedparent'><a class='marginalized' href='#unqual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1808'>#</a></div><div class='texpara'><div id='unqual-1.sentence-1' class='sentence'>A <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive'><span class='textsf'><i >using-directive</i></span></span></a> is
<a class='hidden_link' href='#def:active' id='def:active'><i>active</i></a> in a scope <span class='math'><span class='mathalpha'>S</span></span> at a program point <span class='math'><span class='mathalpha'>P</span></span>
if it precedes <span class='math'><span class='mathalpha'>P</span></span> and inhabits either <span class='math'><span class='mathalpha'>S</span></span> or
the scope of a namespace nominated by a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive_'><span class='textsf'><i >using-directive</i></span></span></a>
that is active in <span class='math'><span class='mathalpha'>S</span></span> at <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#unqual-1.sentence-1'>.</a></div></div></div><div class='para' id='unqual-2'><div class='marginalizedparent'><a class='marginalized' href='#unqual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1815'>#</a></div><div class='texpara'><div id='unqual-2.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:unqualified_search' id='def:unqualified_search'><i>unqualified search</i></a> in a scope <span class='math'><span class='mathalpha'>S</span></span> from a program point <span class='math'><span class='mathalpha'>P</span></span>
includes the results of searches from <span class='math'><span class='mathalpha'>P</span></span> in
<ul class='itemize'><li id='unqual-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#unqual-2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>S</span></span>, and</li><li id='unqual-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#unqual-2.2'>(2.2)</a></div>for any scope <span class='math'><span class='mathalpha'>U</span></span> that contains <span class='math'><span class='mathalpha'>P</span></span> and is or is contained by <span class='math'><span class='mathalpha'>S</span></span>,
each namespace contained by <span class='math'><span class='mathalpha'>S</span></span> that is nominated by
a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive__'><span class='textsf'><i >using-directive</i></span></span></a> that is active in <span class='math'><span class='mathalpha'>U</span></span> at <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#unqual-2.sentence-1'>.</a></li></ul></div> <div id='unqual-2.sentence-2' class='sentence'>
If no declarations are found,
the results of the unqualified search are
the results of an unqualified search in the parent scope of <span class='math'><span class='mathalpha'>S</span></span>, if any,
from <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#unqual-2.sentence-2'>.</a></div> <div id='unqual-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unqual-note-1'>1</a></i>:&ensp;<div id='unqual-2.sentence-3' class='sentence'>When a class scope is searched,
the scopes of its base classes are also searched (<a href='#class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#unqual-2.sentence-3'>.</a></div> <div id='unqual-2.sentence-4' class='sentence'>If it inherits from a single base,
it is as if the scope of the base immediately contains
the scope of the derived class<a class='hidden_link' href='#unqual-2.sentence-4'>.</a></div> <div id='unqual-2.sentence-5' class='sentence'>Template parameter scopes
that are associated with one scope in the chain of parents
are also considered (<a href='temp.local' title='13.8.2&emsp;Locally declared names'>[temp.<span class='shy'></span>local]</a>)<a class='hidden_link' href='#unqual-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='unqual-3'><div class='marginalizedparent'><a class='marginalized' href='#unqual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1841'>#</a></div><div class='texpara'><div id='unqual-3.sentence-1' class='sentence'><a class='hidden_link' href='#def:lookup,unqualified_name' title='6.5.3&emsp;Unqualified name lookup&emsp;[basic.lookup.unqual]'><span id='def:lookup,unqualified_name'><i >Unqualified name lookup</i></span></a>
from a program point performs an unqualified search in its immediate scope<a class='hidden_link' href='#unqual-3.sentence-1'>.</a></div></div></div><div class='para' id='unqual-4'><div class='marginalizedparent'><a class='marginalized' href='#unqual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1845'>#</a></div><div class='texpara'><div id='unqual-4.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:name,unqualified' title='6.5.3&emsp;Unqualified name lookup&emsp;[basic.lookup.unqual]'><span id='def:name,unqualified'><i >unqualified name</i></span></a> is a name
that does not immediately follow a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a> or
the <span class='texttt'><span class='operator'>.</span></span> or <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> in a class member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>),
possibly after a <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span> keyword or <span class='texttt'><span class='operator'>~</span></span><a class='hidden_link' href='#unqual-4.sentence-1'>.</a></div> <div id='unqual-4.sentence-2' class='sentence'>Unless otherwise specified,
such a name undergoes unqualified name lookup from the point where it appears<a class='hidden_link' href='#unqual-4.sentence-2'>.</a></div></div></div><div class='para' id='unqual-5'><div class='marginalizedparent'><a class='marginalized' href='#unqual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1853'>#</a></div><div class='texpara'><div id='unqual-5.sentence-1' class='sentence'>An unqualified name that is a component name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>) of
a <a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier'><span class='textsf'><i >type-specifier</i></span></span></a> or <a href='dcl.decl.general#nt:ptr-operator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-operator'><span class='textsf'><i >ptr-operator</i></span></span></a> of
a <a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id'><span class='textsf'><i >conversion-type-id</i></span></span></a> is looked up in the same fashion
as the <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id__'><span class='textsf'><i >conversion-function-id</i></span></span></a> in which it appears<a class='hidden_link' href='#unqual-5.sentence-1'>.</a></div> <div id='unqual-5.sentence-2' class='sentence'>If that lookup finds nothing, it undergoes unqualified name lookup;
in each case, only names
that denote types or templates whose specializations are types are considered<a class='hidden_link' href='#unqual-5.sentence-2'>.</a></div> <div id='unqual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#unqual-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> T1 <span class='curlybracket'>{</span> <span class='keyword'>struct</span> U <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> T2 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> U1 <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> U2 <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> T <span class='operator'>=</span> T1;
  <span class='keyword'>using</span> U <span class='operator'>=</span> U1;
  <span class='keyword'>operator</span> U1 T1<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> U1 T2<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> U2 T1<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> U2 T2<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> U <span class='operator'>=</span> U2;
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='keyword'>operator</span> U T<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// #1, searches for <span class='tcode_in_codeblock'>T</span> in the scope of <span class='tcode_in_codeblock'>X</span> first</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='keyword'>operator</span> U <span class='keyword'>decltype</span><span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// #2</span>
  <span class='keyword'>return</span> <span class='literal'>0</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>int</span> x <span class='operator'>=</span> g<span class='anglebracket'>&lt;</span>B, T2<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                     <span class='comment'>// #1 calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator U1 T1&#x200b;::&#x200b;*</span></span>
                                        <span class='comment'>// #2 calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator U1 T2&#x200b;::&#x200b;*</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='unqual-6'><div class='marginalizedparent'><a class='marginalized' href='#unqual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1889'>#</a></div><div class='texpara'><div id='unqual-6.sentence-1' class='sentence'>In a friend declaration <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator'><span class='textsf'><i >declarator</i></span></span></a>
whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
whose lookup context (<a href='#qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a>) is a class or namespace <span class='math'><span class='mathalpha'>S</span></span>,
lookup for an unqualified name
that appears after the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id_'><span class='textsf'><i >declarator-id</i></span></span></a>
performs a search in the scope associated with <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#unqual-6.sentence-1'>.</a></div> <div id='unqual-6.sentence-2' class='sentence'>If that lookup finds nothing, it undergoes unqualified name lookup<a class='hidden_link' href='#unqual-6.sentence-2'>.</a></div> <div id='unqual-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#unqual-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>using</span> I <span class='operator'>=</span> <span class='keyword'>int</span>;
<span class='keyword'>using</span> D <span class='operator'>=</span> <span class='keyword'>double</span>;
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>inline</span> <span class='keyword'>namespace</span> N <span class='curlybracket'>{</span><span class='keyword'>using</span> C <span class='operator'>=</span> <span class='keyword'>char</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>using</span> F <span class='operator'>=</span> <span class='keyword'>float</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>struct</span> X0 <span class='curlybracket'>{</span><span class='keyword'>using</span> F <span class='operator'>=</span> <span class='keyword'>float</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> W <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> D <span class='operator'>=</span> <span class='keyword'>void</span>;
  <span class='keyword'>struct</span> X <span class='operator'>:</span> X0 <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='operator'>::</span>D<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>short</span> I, F;
  <span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;        <span class='comment'>// error: no <span class='tcode_in_codeblock'>void A&#x200b;::&#x200b;f(short)</span></span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>;        <span class='comment'>// OK</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;C</span> not found</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;        <span class='comment'>// OK</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> W<span class='operator'>::</span>X<span class='operator'>::</span>g<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;     <span class='comment'>// error: no <span class='tcode_in_codeblock'>void X&#x200b;::&#x200b;g(short)</span></span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> W<span class='operator'>::</span>X<span class='operator'>::</span>g<span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>;     <span class='comment'>// OK</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> W<span class='operator'>::</span>X<span class='operator'>::</span>g<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;     <span class='comment'>// OK</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='argdep' class='section'><h3 ><a class='secnum' href='#argdep' style='min-width:80pt'>6.5.4</a> Argument-dependent name lookup <a class='abbr_ref' href='basic.lookup.argdep'>[basic.lookup.argdep]</a></h3><div class='texpara'><a class='index' id=':lookup,argument-dependent'></a></div><div class='para' id='argdep-1'><div class='marginalizedparent'><a class='marginalized' href='#argdep-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1936'>#</a></div><div class='texpara'><div id='argdep-1.sentence-1' class='sentence'>When the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a> in
a function call (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>) is an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a>,
and unqualified lookup (<a href='#unqual' title='6.5.3&emsp;Unqualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>unqual]</a>)
for the name in the <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><i >unqualified-id</i></span></span></a> does not find any
<ul class='itemize'><li id='argdep-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-1.1'>(1.1)</a></div>declaration of a class member, or</li><li id='argdep-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-1.2'>(1.2)</a></div>function declaration inhabiting a block scope, or</li><li id='argdep-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-1.3'>(1.3)</a></div>declaration not of a function or function template</li></ul>
then lookup for the name also includes the result of
<a class='hidden_link' href='#def:lookup,argument-dependent' title='6.5.4&emsp;Argument-dependent name lookup&emsp;[basic.lookup.argdep]'><span id='def:lookup,argument-dependent'><i >argument-dependent lookup</i></span></a> in a set of associated namespaces
that depends on the types of the arguments
(and for template template arguments, the namespace of the template argument),
as specified below<a class='hidden_link' href='#argdep-1.sentence-1'>.</a></div> <div id='argdep-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#argdep-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  N<span class='operator'>::</span>S s;
  f<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;             <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span></span>
  <span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;           <span class='comment'>// error: <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span> not considered; parentheses prevent argument-dependent lookup</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='argdep-2'><div class='marginalizedparent'><a class='marginalized' href='#argdep-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1969'>#</a></div><div class='texpara'><div id='argdep-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#argdep-note-1'>1</a></i>:&ensp;<div id='argdep-2.sentence-1' class='sentence'>For purposes of determining
(during parsing) whether an expression is a
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_'><span class='textsf'><i >postfix-expression</i></span></span></a> for a function call, the usual name lookup
rules apply<a class='hidden_link' href='#argdep-2.sentence-1'>.</a></div> <div id='argdep-2.sentence-2' class='sentence'>In some cases
a name followed by <span class='texttt'><span class='anglebracket'>&lt;</span></span> is treated as a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a>
even though name lookup did not find a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a>
(see <a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>)<a class='hidden_link' href='#argdep-2.sentence-2'>.</a></div> <div id='argdep-2.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>int</span> h;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> x <span class='operator'>=</span> f<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, lookup of <span class='tcode_in_codeblock'>f</span> finds nothing, <span class='tcode_in_codeblock'>f</span> treated as template name</span>
<span class='keyword'>int</span> y <span class='operator'>=</span> g<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, lookup of <span class='tcode_in_codeblock'>g</span> finds a function, <span class='tcode_in_codeblock'>g</span> treated as template name</span>
<span class='keyword'>int</span> z <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>h&lt;</span> does not begin a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a></span>
</span></div></div><div class='texpara'><div id='argdep-2.sentence-4' class='sentence'>The rules have no effect on the syntactic interpretation of an expression<a class='hidden_link' href='#argdep-2.sentence-4'>.</a></div> <div id='argdep-2.sentence-5' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span> f;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>A a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is the typedef, not the friend function: equivalent to <span class='tcode_in_codeblock'>int(a)</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div> <div id='argdep-2.sentence-6' class='sentence'>
Because the expression is not a function call,
argument-dependent name lookup does not apply and
the friend function <span class='texttt'>f</span> is not found<a class='hidden_link' href='#argdep-2.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='argdep-3'><div class='marginalizedparent'><a class='marginalized' href='#argdep-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2014'>#</a></div><div class='texpara'><div id='argdep-3.sentence-1' class='sentence'>For each argument type <span class='texttt'>T</span> in the function call,
there is a set of zero or more <a class='hidden_link' href='#def:entity,associated' title='6.5.4&emsp;Argument-dependent name lookup&emsp;[basic.lookup.argdep]'><span id='def:entity,associated'><i >associated entities</i></span></a>
to be considered<a class='hidden_link' href='#argdep-3.sentence-1'>.</a></div> <div id='argdep-3.sentence-2' class='sentence'>The set of entities is determined entirely by
the types of the function arguments
(and any template template arguments)<a class='hidden_link' href='#argdep-3.sentence-2'>.</a></div> <div id='argdep-3.sentence-3' class='sentence'>Any <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name____'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> and <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration__'><span class='textsf'><i >using-declaration</i></span></span></a><i >s</i>
used to specify the types
do not contribute to this set<a class='hidden_link' href='#argdep-3.sentence-3'>.</a></div> <div id='argdep-3.sentence-4' class='sentence'>The set of entities
is determined in the following way:
<ul class='itemize'><li id='argdep-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-3.1'>(3.1)</a></div><div class='texpara'><div id='argdep-3.1.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a fundamental type, its associated set of
entities is empty<a class='hidden_link' href='#argdep-3.1.sentence-1'>.</a></div></div></li><li id='argdep-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-3.2'>(3.2)</a></div><div class='texpara'><div id='argdep-3.2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a class type (including unions),
its associated entities are:
the class itself;
the class of which it is a member, if any;
and its direct and indirect base classes<a class='hidden_link' href='#argdep-3.2.sentence-1'>.</a></div> <div id='argdep-3.2.sentence-2' class='sentence'>Furthermore, if <span class='texttt'>T</span> is a class template specialization,
its associated entities also include:
the entities
associated with the types of the template arguments
provided for template type parameters;
the templates used as template template arguments; and
the classes of which any member templates used as template template
arguments are members<a class='hidden_link' href='#argdep-3.2.sentence-2'>.</a></div> <div id='argdep-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#argdep-note-2'>2</a></i>:&ensp;<div id='argdep-3.2.sentence-3' class='sentence'>Non-type template arguments do not
contribute to the set of associated entities<a class='hidden_link' href='#argdep-3.2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='argdep-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-3.3'>(3.3)</a></div><div class='texpara'><div id='argdep-3.3.sentence-1' class='sentence'>If <span class='texttt'>T</span> is an enumeration type,
its associated entities are <span class='texttt'>T</span>
and, if it is a class member, the member's class<a class='hidden_link' href='#argdep-3.3.sentence-1'>.</a></div></div></li><li id='argdep-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-3.4'>(3.4)</a></div><div class='texpara'><div id='argdep-3.4.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to <span class='texttt'>U</span> or an array of <span class='texttt'>U</span>,
its associated entities are those associated with <span class='texttt'>U</span><a class='hidden_link' href='#argdep-3.4.sentence-1'>.</a></div></div></li><li id='argdep-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-3.5'>(3.5)</a></div><div class='texpara'><div id='argdep-3.5.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a function type, its associated
entities are those associated with the function parameter types and those
associated with the return type<a class='hidden_link' href='#argdep-3.5.sentence-1'>.</a></div></div></li><li id='argdep-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-3.6'>(3.6)</a></div><div class='texpara'><div id='argdep-3.6.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a member function of a class
<span class='texttt'>X</span>, its associated entities are those associated
with the function parameter types and return type, together with those
associated with <span class='texttt'>X</span><a class='hidden_link' href='#argdep-3.6.sentence-1'>.</a></div></div></li><li id='argdep-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-3.7'>(3.7)</a></div><div class='texpara'><div id='argdep-3.7.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a data member of class <span class='texttt'>X</span>, its
associated entities are those associated with the member
type together with those associated with <span class='texttt'>X</span><a class='hidden_link' href='#argdep-3.7.sentence-1'>.</a></div></div></li></ul></div> <div id='argdep-3.sentence-5' class='sentence'>
In addition, if the argument is an overload set or the address of such a set,
its associated entities
are the union of those associated with each of the
members of the set, i.e., the entities associated with its
parameter types and return type<a class='hidden_link' href='#argdep-3.sentence-5'>.</a></div> <div id='argdep-3.sentence-6' class='sentence'>Additionally, if the aforementioned overload set is named with
a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><i >template-id</i></span></span></a>, its associated entities also include
its template <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i> and
those associated with its type <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i><a class='hidden_link' href='#argdep-3.sentence-6'>.</a></div></div></div><div class='para' id='argdep-4'><div class='marginalizedparent'><a class='marginalized' href='#argdep-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2078'>#</a></div><div class='texpara'><div id='argdep-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:associated_namespaces' id='def:associated_namespaces'><i>associated namespaces</i></a> for a call are
the innermost enclosing non-inline namespaces for its associated entities
as well as every element of the inline namespace set (<a href='namespace.def' title='9.8.2&emsp;Namespace definition'>[namespace.<span class='shy'></span>def]</a>)
of those namespaces<a class='hidden_link' href='#argdep-4.sentence-1'>.</a></div> <div id='argdep-4.sentence-2' class='sentence'>Argument-dependent lookup finds
all declarations of functions and function templates that
<ul class='itemize'><li id='argdep-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-4.1'>(4.1)</a></div>are found by a search of any associated namespace, or</li><li id='argdep-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-4.2'>(4.2)</a></div>are declared as a friend (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) of any class
with a reachable definition in the set of associated entities, or</li><li id='argdep-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#argdep-4.3'>(4.3)</a></div>are exported,
are attached to a named module <span class='texttt'>M</span> (<a href='module.interface' title='10.2&emsp;Export declaration'>[module.<span class='shy'></span>interface]</a>),
do not appear in the translation unit containing the point of the lookup, and
have the same innermost enclosing non-inline namespace scope as
a declaration of an associated entity attached to <span class='texttt'>M</span> (<a href='basic.link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#argdep-4.sentence-2'>.</a></li></ul></div> <div id='argdep-4.sentence-3' class='sentence'>
If the lookup is for a dependent name (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>, <a href='temp.dep.candidate' title='13.8.4.2&emsp;Candidate functions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>candidate]</a>),
the above lookup is also performed
from each point in the instantiation context (<a href='module.context' title='10.6&emsp;Instantiation context'>[module.<span class='shy'></span>context]</a>) of the lookup,
additionally ignoring any declaration that
appears in another translation unit,
is attached to the global module, and
is either discarded (<a href='module.global.frag' title='10.4&emsp;Global module fragment'>[module.<span class='shy'></span>global.<span class='shy'></span>frag]</a>) or has internal linkage<a class='hidden_link' href='#argdep-4.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='argdep-5'><div class='marginalizedparent'><a class='marginalized' href='#argdep-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2106'>#</a></div><div class='texpara'><div id='argdep-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#argdep-example-2'>2</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> M;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>R<span class='operator'>::</span>X, R<span class='operator'>::</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> N;
<span class='keyword'>import</span> M;
<span class='keyword'>export</span> R<span class='operator'>::</span>X make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span> <span class='keyword'>static</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> apply<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>t, u<span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>module</span> Q;
<span class='keyword'>import</span> N;
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Z <span class='curlybracket'>{</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> x <span class='operator'>=</span> make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>decltype(x)</span> is <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;X</span> in module <span class='tcode_in_codeblock'>M</span></span>
  R<span class='operator'>::</span>f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                      <span class='comment'>// error: <span class='tcode_in_codeblock'>R</span> and <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> are not visible here</span>
  f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> from interface of <span class='tcode_in_codeblock'>M</span></span>
  f<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> in module <span class='tcode_in_codeblock'>M</span> not considered</span>
                                <span class='comment'>// even though <span class='tcode_in_codeblock'>S</span> is an associated namespace</span>
  apply<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> is visible in instantiation context, but</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;g</span> has internal linkage and cannot be used outside TU #2</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='argdep-6'><div class='marginalizedparent'><a class='marginalized' href='#argdep-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2148'>#</a></div><div class='texpara'><div id='argdep-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#argdep-note-3'>3</a></i>:&ensp;<div id='argdep-6.sentence-1' class='sentence'>The associated namespace can include namespaces
already considered by ordinary unqualified lookup<a class='hidden_link' href='#argdep-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='argdep-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#argdep-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> NS <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> T <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
NS<span class='operator'>::</span>T parm;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>parm<span class='parenthesis'>)</span>;                      <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>NS&#x200b;::&#x200b;f</span></span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>parm, <span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>g(NS&#x200b;::&#x200b;T, float)</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='qual' class='section'><h3 ><a class='secnum' href='#qual' style='min-width:80pt'>6.5.5</a> Qualified name lookup <a class='abbr_ref' href='basic.lookup.qual'>[basic.lookup.qual]</a></h3><div id='qual.general' class='section'><h4 ><a class='secnum' href='#qual.general' style='min-width:95pt'>6.5.5.1</a> General <a class='abbr_ref' href='basic.lookup.qual.general'>[basic.lookup.qual.general]</a></h4><div class='para' id='qual.general-1'><div class='marginalizedparent'><a class='marginalized' href='#qual.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2174'>#</a></div><div class='texpara'><div id='qual.general-1.sentence-1' class='sentence'><a class='index' id=':lookup,qualified_name'></a><a class='index' id=':name,qualified'></a><a class='index' id=':qualification,explicit'></a>Lookup of an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a>
followed by a <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> scope resolution operator
considers only
namespaces, types, and templates whose specializations are types<a class='hidden_link' href='#qual.general-1.sentence-1'>.</a></div> <div id='qual.general-1.sentence-2' class='sentence'>If a name, <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id__'><span class='textsf'><i >template-id</i></span></span></a>, or <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier'><span class='textsf'><i >computed-type-specifier</i></span></span></a>
is followed by a <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>,
it shall designate a namespace, class, enumeration, or dependent type,
and the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> is never interpreted as
a complete <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#qual.general-1.sentence-2'>.</a></div> <div id='qual.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#qual.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> n;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> A;
  A<span class='operator'>::</span>n <span class='operator'>=</span> <span class='literal'>42</span>;            <span class='comment'>// OK</span>
  A b;                  <span class='comment'>// error: <span class='tcode_in_codeblock'>A</span> does not name a type</span>
<span class='curlybracket'>}</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> B<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>n;     <span class='comment'>// error: <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;B&lt;0&gt;</span> is not a type</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><a class='index' id=':operator,scope_resolution'></a></div></div><div class='para' id='qual.general-2'><div class='marginalizedparent'><a class='marginalized' href='#qual.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2211'>#</a></div><div class='texpara'><div id='qual.general-2.sentence-1' class='sentence'>A member-qualified name is
the (unique) component name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>), if any, of
<ul class='itemize'><li id='qual.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-2.1'>(2.1)</a></div>an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__'><span class='textsf'><i >unqualified-id</i></span></span></a> or</li><li id='qual.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-2.2'>(2.2)</a></div>a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__'><span class='textsf'><i >nested-name-specifier</i></span></span></a> of the form
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> or <a href='namespace.def.general#nt:namespace-name' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name_'><span class='textsf'><i >namespace-name</i></span></span></a> <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span></li></ul>
in the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> of a class member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#qual.general-2.sentence-1'>.</a></div> <div id='qual.general-2.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:name,qualified' title='6.5.5.1&emsp;General&emsp;[basic.lookup.qual.general]'><span id='def:name,qualified'><i >qualified name</i></span></a> is
<ul class='itemize'><li id='qual.general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-2.3'>(2.3)</a></div>a member-qualified name or</li><li id='qual.general-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-2.4'>(2.4)</a></div>the terminal name of
<ul class='itemize'><li id='qual.general-2.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#qual.general-2.4.1'>(2.4.1)</a></div>a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a>,</li><li id='qual.general-2.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#qual.general-2.4.2'>(2.4.2)</a></div>a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator__'><span class='textsf'><i >using-declarator</i></span></span></a>,</li><li id='qual.general-2.4.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#qual.general-2.4.3'>(2.4.3)</a></div>a <a href='temp.res.general#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier'><span class='textsf'><i >typename-specifier</i></span></span></a>,</li><li id='qual.general-2.4.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#qual.general-2.4.4'>(2.4.4)</a></div>a <a href='namespace.alias#nt:qualified-namespace-specifier' title='9.8.3&emsp;Namespace alias&emsp;[namespace.alias]'><span id='ntref:qualified-namespace-specifier'><span class='textsf'><i >qualified-namespace-specifier</i></span></span></a>, or</li><li id='qual.general-2.4.5'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#qual.general-2.4.5'>(2.4.5)</a></div>a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___'><span class='textsf'><i >nested-name-specifier</i></span></span></a>,
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>, or
<a href='class.derived.general#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype'><span class='textsf'><i >class-or-decltype</i></span></span></a>
that has a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier____'><span class='textsf'><i >nested-name-specifier</i></span></span></a> (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>)<a class='hidden_link' href='#qual.general-2.sentence-2'>.</a></li></ul></li></ul></div> <div id='qual.general-2.sentence-3' class='sentence'>
The <a class='hidden_link' href='#def:lookup_context' title='6.5.5.1&emsp;General&emsp;[basic.lookup.qual.general]'><span id='def:lookup_context'><i >lookup context</i></span></a> of a member-qualified name is
the type of its associated object expression
(considered dependent if the object expression is type-dependent)<a class='hidden_link' href='#qual.general-2.sentence-3'>.</a></div> <div id='qual.general-2.sentence-4' class='sentence'>The lookup context of any other qualified name is
the type, template, or namespace
nominated by the preceding <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_____'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#qual.general-2.sentence-4'>.</a></div> <div id='qual.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#qual.general-note-1'>1</a></i>:&ensp;<div id='qual.general-2.sentence-5' class='sentence'>When parsing a class member access,
the name following the <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> or <span class='texttt'><span class='operator'>.</span></span> is
a qualified name even though it is not yet known of which kind<a class='hidden_link' href='#qual.general-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='qual.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#qual.general-example-2'>2</a></i>:&ensp;<div id='qual.general-2.sentence-6' class='sentence'>In
<span class='codeblock'>  N<span class='operator'>::</span>C<span class='operator'>::</span>m<span class='operator'>.</span>Base<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</span>
<span class='texttt'>Base</span> is a member-qualified name;
the other qualified names are <span class='texttt'>C</span>, <span class='texttt'>m</span>, and <span class='texttt'>f</span><a class='hidden_link' href='#qual.general-2.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='qual.general-3'><div class='marginalizedparent'><a class='marginalized' href='#qual.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2257'>#</a></div><div class='texpara'><div id='qual.general-3.sentence-1' class='sentence'><a class='hidden_link' href='#def:lookup,qualified_name' title='6.5.5.1&emsp;General&emsp;[basic.lookup.qual.general]'><span id='def:lookup,qualified_name'><i >Qualified name lookup</i></span></a>
in a class, namespace, or enumeration performs
a search of the scope associated with it (<a href='#class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)
except as specified below<a class='hidden_link' href='#qual.general-3.sentence-1'>.</a></div> <div id='qual.general-3.sentence-2' class='sentence'>Unless otherwise specified,
a qualified name undergoes qualified name lookup in its lookup context
from the point where it appears
unless the lookup context either
is dependent and is not the current instantiation (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>) or
is not a class or class template<a class='hidden_link' href='#qual.general-3.sentence-2'>.</a></div> <div id='qual.general-3.sentence-3' class='sentence'>If nothing is found by qualified lookup for a member-qualified name
that is the terminal name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>) of
a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier______'><span class='textsf'><i >nested-name-specifier</i></span></span></a> and
is not dependent, it undergoes unqualified lookup<a class='hidden_link' href='#qual.general-3.sentence-3'>.</a></div> <div id='qual.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#qual.general-note-2'>2</a></i>:&ensp;<div id='qual.general-3.sentence-4' class='sentence'>During lookup for a template specialization, no names are dependent<a class='hidden_link' href='#qual.general-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='qual.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#qual.general-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> B, C;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> D <span class='operator'>=</span> <span class='keyword'>void</span>;
  <span class='keyword'>using</span> T <span class='operator'>=</span> <span class='keyword'>void</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>using</span> B <span class='operator'>=</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> C <span class='operator'>=</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> D <span class='operator'>=</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> X <span class='operator'>=</span> A;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>T <span class='operator'>*</span>p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                  <span class='comment'>// as instantiated for <span class='tcode_in_codeblock'>g&lt;A&gt;</span>:</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>X<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X</span> not found in <span class='tcode_in_codeblock'>((p-&gt;X) &lt; 0) &gt; &#x200b;::&#x200b;f()</span></span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>template</span> X<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span> found in definition context</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// OK, non-type <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> ignored</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>template</span> C<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;C</span> is not a template</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>template</span> D<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;D&lt;0&gt;</span> is not a class type</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;T</span> is not a class type</span>
<span class='curlybracket'>}</span>
<span class='keyword'>template</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='qual.general-4'><div class='marginalizedparent'><a class='marginalized' href='#qual.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2302'>#</a></div><div class='texpara'><div id='qual.general-4.sentence-1' class='sentence'>If a qualified name <span class='math'><span class='mathalpha'>Q</span></span> follows a <span class='texttt'><span class='operator'>~</span></span>:
<ul class='itemize'><li id='qual.general-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-4.1'>(4.1)</a></div><div class='texpara'><div id='qual.general-4.1.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>Q</span></span> is a member-qualified name,
it undergoes unqualified lookup as well as qualified lookup<a class='hidden_link' href='#qual.general-4.1.sentence-1'>.</a></div></div></li><li id='qual.general-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-4.2'>(4.2)</a></div><div class='texpara'><div id='qual.general-4.2.sentence-1' class='sentence'>Otherwise, its <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_______'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span class='math'><span class='mathalpha'>N</span></span> shall nominate a type<a class='hidden_link' href='#qual.general-4.2.sentence-1'>.</a></div> <div id='qual.general-4.2.sentence-2' class='sentence'>If <span class='math'><span class='mathalpha'>N</span></span> has another <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span class='math'><span class='mathalpha'>S</span></span>,
<span class='math'><span class='mathalpha'>Q</span></span> is looked up as if its lookup context were that nominated by <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#qual.general-4.2.sentence-2'>.</a></div></div></li><li id='qual.general-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-4.3'>(4.3)</a></div><div class='texpara'><div id='qual.general-4.3.sentence-1' class='sentence'>Otherwise, if the terminal name of <span class='math'><span class='mathalpha'>N</span></span> is a member-qualified name <span class='math'><span class='mathalpha'>M</span></span>,
<span class='math'><span class='mathalpha'>Q</span></span> is looked up as if <span class='math'><span class='texttt'><span class='operator'>~</span></span><span class='mathalpha'>Q</span></span> appeared in place of <span class='math'><span class='mathalpha'>M</span></span> (as above)<a class='hidden_link' href='#qual.general-4.3.sentence-1'>.</a></div></div></li><li id='qual.general-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-4.4'>(4.4)</a></div><div class='texpara'><div id='qual.general-4.4.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>Q</span></span> undergoes unqualified lookup<a class='hidden_link' href='#qual.general-4.4.sentence-1'>.</a></div></div></li><li id='qual.general-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-4.5'>(4.5)</a></div><div class='texpara'><div id='qual.general-4.5.sentence-1' class='sentence'>Each lookup for <span class='math'><span class='mathalpha'>Q</span></span> considers only
types (if <span class='math'><span class='mathalpha'>Q</span></span> is not followed by a <span class='texttt'><span class='anglebracket'>&lt;</span></span>) and
templates whose specializations are types<a class='hidden_link' href='#qual.general-4.5.sentence-1'>.</a></div> <div id='qual.general-4.5.sentence-2' class='sentence'>If it finds nothing or is ambiguous, it is discarded<a class='hidden_link' href='#qual.general-4.5.sentence-2'>.</a></div></div></li><li id='qual.general-4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#qual.general-4.6'>(4.6)</a></div><div class='texpara'><div id='qual.general-4.6.sentence-1' class='sentence'>The <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_'><span class='textsf'><i >type-name</i></span></span></a> that is or contains <span class='math'><span class='mathalpha'>Q</span></span>
shall refer to its (original) lookup context (ignoring cv-qualification) under
the interpretation established by at least one (successful) lookup performed<a class='hidden_link' href='#qual.general-4.6.sentence-1'>.</a></div></div></li></ul></div> <div id='qual.general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#qual.general-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
<span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> I1, I2;
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>*</span> p;
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>*</span> q;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>C<span class='operator'>::</span>I<span class='operator'>::</span><span class='operator'>~</span>I<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// <span class='tcode_in_codeblock'>I</span> is looked up in the scope of <span class='tcode_in_codeblock'>C</span></span>
  q<span class='operator'>-</span><span class='anglebracket'>&gt;</span>I1<span class='operator'>::</span><span class='operator'>~</span>I2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// <span class='tcode_in_codeblock'>I2</span> is found by unqualified lookup</span>
<span class='curlybracket'>}</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='operator'>~</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> A AB;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  AB<span class='operator'>*</span> p;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>AB<span class='operator'>::</span><span class='operator'>~</span>AB<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// explicitly calls the destructor for <span class='tcode_in_codeblock'>A</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='class.qual' class='section'><h4 ><a class='secnum' href='#class.qual' style='min-width:95pt'>6.5.5.2</a> Class members <a class='abbr_ref' href='class.qual'>[class.qual]</a></h4><div class='texpara'><a class='index' id=':lookup,class_member'></a></div><div class='para' id='class.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2354'>#</a></div><div class='texpara'><div id='class.qual-1.sentence-1' class='sentence'>In a lookup for a qualified name <span class='math'><span class='mathalpha'>N</span></span> whose lookup context is a class <span class='math'><span class='mathalpha'>C</span></span>
in which function names are not ignored,<a class='footnoteref' href='#footnote-18' id='footnoteref-18' title='Lookups in which function names are ignored include names appearing in a nested-name-specifier, an elaborated-type-specifier, or a base-specifier.'>18</a>
<ul class='itemize'><li id='class.qual-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.qual-1.1'>(1.1)</a></div>if the search finds the injected-class-name of <span class='texttt'>C</span> (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>), or</li><li id='class.qual-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.qual-1.2'>(1.2)</a></div>if <span class='math'><span class='mathalpha'>N</span></span> is dependent and
is the terminal name of a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator___'><span class='textsf'><i >using-declarator</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)
that names a constructor,</li></ul>
<span class='math'><span class='mathalpha'>N</span></span> is instead considered to name the constructor of class <span class='texttt'>C</span><a class='hidden_link' href='#class.qual-1.sentence-1'>.</a></div> <div id='class.qual-1.sentence-2' class='sentence'>Such a constructor name shall be used only
in the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id__'><span class='textsf'><i >declarator-id</i></span></span></a> of a (friend) declaration of a constructor or
in a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration___'><span class='textsf'><i >using-declaration</i></span></span></a><a class='hidden_link' href='#class.qual-1.sentence-2'>.</a></div> <div id='class.qual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.qual-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B<span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

A<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
B<span class='operator'>::</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

B<span class='operator'>::</span>A ba;            <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span></span>
A<span class='operator'>::</span>A a;             <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;A</span> is not a type name</span>
<span class='keyword'>struct</span> A<span class='operator'>::</span>A a2;     <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-18'><div class='texpara'><a class='footnotenum' href='#footnote-18'>18)</a><a class='footnoteBacklink' href='#footnoteref-18'>18)</a> <div id='footnote-18.sentence-1' class='sentence'>Lookups in which
function names are ignored include names appearing in a
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>, an
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>, or a <a href='class.derived.general#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier_'><span class='textsf'><i >base-specifier</i></span></span></a><a class='hidden_link' href='#footnote-18.sentence-1'>.</a></div></div></div></div><div id='namespace.qual' class='section'><h4 ><a class='secnum' href='#namespace.qual' style='min-width:95pt'>6.5.5.3</a> Namespace members <a class='abbr_ref' href='namespace.qual'>[namespace.qual]</a></h4><div class='para' id='namespace.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2391'>#</a></div><div class='texpara'><div id='namespace.qual-1.sentence-1' class='sentence'>Qualified name lookup in a namespace <span class='math'><span class='mathalpha'>N</span></span> additionally searches
every element of the inline namespace set of <span class='math'><span class='mathalpha'>N</span></span> (<a href='namespace.def' title='9.8.2&emsp;Namespace definition'>[namespace.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#namespace.qual-1.sentence-1'>.</a></div> <div id='namespace.qual-1.sentence-2' class='sentence'>If nothing is found,
the results of the lookup are the results of qualified name lookup
in each namespace nominated by a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive___'><span class='textsf'><i >using-directive</i></span></span></a>
that precedes the point of the lookup and
inhabits <span class='math'><span class='mathalpha'>N</span></span> or an element of <span class='math'><span class='mathalpha'>N</span></span>'s inline namespace set<a class='hidden_link' href='#namespace.qual-1.sentence-2'>.</a></div> <div id='namespace.qual-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#namespace.qual-note-1'>1</a></i>:&ensp;<div id='namespace.qual-1.sentence-3' class='sentence'>If a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive____'><span class='textsf'><i >using-directive</i></span></span></a> refers to a namespace
that has already been considered, it does not affect the result<a class='hidden_link' href='#namespace.qual-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='namespace.qual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x;
<span class='keyword'>namespace</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> Y;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> Z;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> AB <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  AB<span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>g</span> is declared directly in <span class='tcode_in_codeblock'>AB</span>, therefore <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> }</span> and <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> is chosen</span>

  AB<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>;</span>
                <span class='comment'>// namespace <span class='tcode_in_codeblock'>Y</span> is not searched and <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;f(float)</span> is not considered;</span>
                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span>, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span> }</span> and overload resolution chooses <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span></span>

  AB<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>'c'</span><span class='parenthesis'>)</span>;   <span class='comment'>// as above but resolution chooses <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span></span>

  AB<span class='operator'>::</span>x<span class='operator'>+</span><span class='operator'>+</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span>, and is not declared in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span>, so the rules</span>
                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ }</span> so the program is ill-formed</span>

  AB<span class='operator'>::</span>i<span class='operator'>+</span><span class='operator'>+</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>i</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>,</span>
                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;i</span> }</span> so the use is ambiguous and the program is ill-formed</span>

  AB<span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='literal'>16.8</span><span class='parenthesis'>)</span>;  <span class='comment'>// <span class='tcode_in_codeblock'>h</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> and not declared directly in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span> so the rules</span>
                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;h(int)</span>, <span class='tcode_in_codeblock'>Z&#x200b;::&#x200b;h(double)</span> }</span> and</span>
                <span class='comment'>// overload resolution chooses <span class='tcode_in_codeblock'>Z&#x200b;::&#x200b;h(double)</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='namespace.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2457'>#</a></div><div class='texpara'><div id='namespace.qual-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#namespace.qual-note-2'>2</a></i>:&ensp;<div id='namespace.qual-2.sentence-1' class='sentence'>The same declaration found more than once is not an ambiguity (because
it is still a unique declaration)<a class='hidden_link' href='#namespace.qual-2.sentence-1'>.</a></div> <div id='namespace.qual-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> BC <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> C;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  BC<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> BD <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> D;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  BD<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='namespace.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2502'>#</a></div><div class='texpara'><div id='namespace.qual-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-3'>3</a></i>:&ensp;<div id='namespace.qual-3.sentence-1' class='sentence'>Because each referenced namespace is searched at most once, the
following is well-defined:
<span class='codeblock'><span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> b;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  A<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, <span class='tcode_in_codeblock'>a</span> declared directly in <span class='tcode_in_codeblock'>A</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
  B<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
  A<span class='operator'>::</span>b<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span></span>
  B<span class='operator'>::</span>b<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, <span class='tcode_in_codeblock'>b</span> declared directly in <span class='tcode_in_codeblock'>B</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span></span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='namespace.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2530'>#</a></div><div class='texpara'><div id='namespace.qual-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#namespace.qual-note-3'>3</a></i>:&ensp;<div id='namespace.qual-4.sentence-1' class='sentence'>Class and enumeration declarations are not discarded
because of other declarations found in other searches<a class='hidden_link' href='#namespace.qual-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='namespace.qual-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> x <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> x;
  <span class='keyword'>int</span> y;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>int</span> i <span class='operator'>=</span> C<span class='operator'>::</span>x;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span> (of type <span class='tcode_in_codeblock'>int</span>)</span>
  <span class='keyword'>int</span> j <span class='operator'>=</span> C<span class='operator'>::</span>y;     <span class='comment'>// ambiguous, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;y</span> or <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;y</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'></div></div></div></div><div id='elab' class='section'><h3 ><a class='secnum' href='#elab' style='min-width:80pt'>6.5.6</a> Elaborated type specifiers <a class='abbr_ref' href='basic.lookup.elab'>[basic.lookup.elab]</a></h3><div class='texpara'><a class='index' id=':lookup,elaborated_type_specifier'></a><a class='index' id=':type_specifier,elaborated'></a></div><div class='para' id='elab-1'><div class='marginalizedparent'><a class='marginalized' href='#elab-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2562'>#</a></div><div class='texpara'><div id='elab-1.sentence-1' class='sentence'>If the <a href='class.pre#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key'><span class='textsf'><i >class-key</i></span></span></a> or <span id=':enum'><span class='texttt'><span class='keyword'>enum</span></span></span> keyword
in an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier__'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
is followed by an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a>
that is not followed by <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>,
lookup for the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a> is type-only (<a href='#general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#elab-1.sentence-1'>.</a></div> <div id='elab-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#elab-note-1'>1</a></i>:&ensp;<div id='elab-1.sentence-2' class='sentence'>In general, the recognition of an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier___'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
depends on the following tokens<a class='hidden_link' href='#elab-1.sentence-2'>.</a></div> <div id='elab-1.sentence-3' class='sentence'>If the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a> is followed by <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>,
see <a href='#qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a><a class='hidden_link' href='#elab-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='elab-2'><div class='marginalizedparent'><a class='marginalized' href='#elab-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2575'>#</a></div><div class='texpara'><div id='elab-2.sentence-1' class='sentence'>If the terminal name of the <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier____'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
is a qualified name,
lookup for it is type-only<a class='hidden_link' href='#elab-2.sentence-1'>.</a></div> <div id='elab-2.sentence-2' class='sentence'>If the name lookup does not find a previously declared <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name__'><span class='textsf'><i >type-name</i></span></span></a>,
the <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_____'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> is ill-formed<a class='hidden_link' href='#elab-2.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='elab-3'><div class='marginalizedparent'><a class='marginalized' href='#elab-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2582'>#</a></div><div class='texpara'><div id='elab-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#elab-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> Node <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Node<span class='operator'>*</span> Next;            <span class='comment'>// OK, refers to injected-class-name <span class='tcode_in_codeblock'>Node</span></span>
  <span class='keyword'>struct</span> Data<span class='operator'>*</span> Data;            <span class='comment'>// OK, declares type <span class='tcode_in_codeblock'>Data</span> at global scope and member <span class='tcode_in_codeblock'>Data</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Data <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Node<span class='operator'>*</span> Node;            <span class='comment'>// OK, refers to <span class='tcode_in_codeblock'>Node</span> at global scope</span>
  <span class='keyword'>friend</span> <span class='keyword'>struct</span> <span class='operator'>::</span>Glob;         <span class='comment'>// error: <span class='tcode_in_codeblock'>Glob</span> is not declared, cannot introduce a qualified type (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)</span>
  <span class='keyword'>friend</span> <span class='keyword'>struct</span> Glob;           <span class='comment'>// OK, refers to (as yet) undeclared <span class='tcode_in_codeblock'>Glob</span> at global scope.</span>
  <span class='comment'>/* ... */</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Data;                  <span class='comment'>// OK, declares nested <span class='tcode_in_codeblock'>Data</span></span>
  <span class='keyword'>struct</span> <span class='operator'>::</span>Data<span class='operator'>*</span>     thatData;  <span class='comment'>// OK, refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;Data</span></span>
  <span class='keyword'>struct</span> Base<span class='operator'>::</span>Data<span class='operator'>*</span> thisData;  <span class='comment'>// OK, refers to nested <span class='tcode_in_codeblock'>Data</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> <span class='operator'>::</span>Data;          <span class='comment'>// OK, global <span class='tcode_in_codeblock'>Data</span> is a friend</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Data;            <span class='comment'>// OK, nested <span class='tcode_in_codeblock'>Data</span> is a friend</span>
  <span class='keyword'>struct</span> Data <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;    <span class='comment'>// Defines nested <span class='tcode_in_codeblock'>Data</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Data;                    <span class='comment'>// OK, redeclares <span class='tcode_in_codeblock'>Data</span> at global scope</span>
<span class='keyword'>struct</span> <span class='operator'>::</span>Data;                  <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Data;              <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Datum;             <span class='comment'>// error: <span class='tcode_in_codeblock'>Datum</span> undefined</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Data<span class='operator'>*</span> pBase;       <span class='comment'>// OK, refers to nested <span class='tcode_in_codeblock'>Data</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div><div id='udir' class='section'><h3 ><a class='secnum' href='#udir' style='min-width:80pt'>6.5.7</a> Using-directives and namespace aliases <a class='abbr_ref' href='basic.lookup.udir'>[basic.lookup.udir]</a></h3><div class='para' id='udir-1'><div class='marginalizedparent'><a class='marginalized' href='#udir-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2617'>#</a></div><div class='texpara'><div id='udir-1.sentence-1' class='sentence'><a class='index' id=':lookup,using-directives_and'></a><a class='index' id=':lookup,namespace_aliases_and'></a>In a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive_____'><span class='textsf'><i >using-directive</i></span></span></a> or <a href='namespace.alias#nt:namespace-alias-definition' title='9.8.3&emsp;Namespace alias&emsp;[namespace.alias]'><span id='ntref:namespace-alias-definition'><span class='textsf'><i >namespace-alias-definition</i></span></span></a>,
during the lookup for a <a href='namespace.def.general#nt:namespace-name' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name__'><span class='textsf'><i >namespace-name</i></span></span></a> or for a name in a
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
only namespace names are considered<a class='hidden_link' href='#udir-1.sentence-1'>.</a></div> </div></div></div></div></body></html>