<!DOCTYPE html><html lang='en'><head><title>[basic.namespace]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>10</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>10.3</a> Namespaces <a class='abbr_ref'>[basic.namespace]</a></h2><span class='indexparent'><a class='index' id=':namespaces'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2207'>#</a></div><div id='1.sentence-1' class='sentence'>A namespace is an optionally-named declarative region<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The name of a
namespace can be used to access entities declared in that namespace;
that is, the members of the namespace<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Unlike other declarative regions,
the definition of a namespace can be split over several parts of one or
more translation units<a class='hidden_link' href='#1.sentence-3'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2214'>#</a></div><div id='2.sentence-1' class='sentence'>The outermost declarative region of a translation unit is a namespace;
see <a href='basic.scope.namespace'>[basic.scope.namespace]</a><a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div id='namespace.def' class='section'><h3 ><a class='secnum' href='#namespace.def' style='min-width:103pt'>10.3.1</a> Namespace definition <a class='abbr_ref' href='namespace.def'>[namespace.def]</a></h3><span class='indexparent'><a class='index' id=':definition,namespace'></a></span><span class='indexparent'><a class='index' id=':namespace,definition'></a></span><pre class='bnf'><a class='nontermdef' id='nt:namespace-name'>namespace-name:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:namespace-definition'>namespace-definition:</a>
&#9;<i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i>
&#9;<i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i>
&#9;<i ><a href='namespace.def#nt:nested-namespace-definition'>nested-namespace-definition</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:named-namespace-definition'>named-namespace-definition:</a>
&#9;<span class='terminal'>inline<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>namespace</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:unnamed-namespace-definition'>unnamed-namespace-definition:</a>
&#9;<span class='terminal'>inline<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>namespace</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:nested-namespace-definition'>nested-namespace-definition:</a>
&#9;<span class='terminal'>namespace</span> <i ><a href='namespace.def#nt:enclosing-namespace-specifier'>enclosing-namespace-specifier</a></i> <span class='terminal'>::</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:enclosing-namespace-specifier'>enclosing-namespace-specifier:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='namespace.def#nt:enclosing-namespace-specifier'>enclosing-namespace-specifier</a></i> <span class='terminal'>::</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:namespace-body'>namespace-body:</a>
&#9;<i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div class='para' id='namespace.def-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2261'>#</a></div><div id='namespace.def-1.sentence-1' class='sentence'>Every <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> shall appear in the global scope
or in a namespace scope (<a href='basic.scope.namespace'>[basic.scope.namespace]</a>)<a class='hidden_link' href='#namespace.def-1.sentence-1'>.</a></div></div><div class='para' id='namespace.def-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2265'>#</a></div><div id='namespace.def-2.sentence-1' class='sentence'>In a <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i>,
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is the name of the namespace<a class='hidden_link' href='#namespace.def-2.sentence-1'>.</a></div> <div id='namespace.def-2.sentence-2' class='sentence'>If the <i ><a href='lex.name#nt:identifier'>identifier</a></i>, when looked up (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>),
refers to a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> (but not a <i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i>)
that was introduced in the namespace
in which the <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i> appears
or that was introduced in a member of the inline namespace set of that namespace,
the <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i>

<a class='hidden_link' href='#def:namespace,extend' id='def:namespace,extend'><i >extends</i></a> the previously-declared namespace<a class='hidden_link' href='#namespace.def-2.sentence-2'>.</a></div> <div id='namespace.def-2.sentence-3' class='sentence'>Otherwise, the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is introduced
as a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> into the declarative region
in which the <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i> appears<a class='hidden_link' href='#namespace.def-2.sentence-3'>.</a></div></div><div class='para' id='namespace.def-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2280'>#</a></div><div id='namespace.def-3.sentence-1' class='sentence'>Because a <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> contains
<i ><a href='dcl.dcl#nt:declaration'>declaration</a></i><span class='textit'>s</span> in its <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> and a
<i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> is itself a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i>, it
follows that <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i><span class='textit'>s</span> can be nested<a class='hidden_link' href='#namespace.def-3.sentence-1'>.</a></div> <div id='namespace.def-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.def-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace Outer {
  int i;
  namespace Inner {
    void f() { i++; }           <span class='comment'>// <span class='tcode_in_codeblock'>Outer&#x200b;::&#x200b;i</span>
</span>    int i;
    void g() { i++; }           <span class='comment'>// <span class='tcode_in_codeblock'>Inner&#x200b;::&#x200b;i</span>
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.def-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2298'>#</a></div><div id='namespace.def-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:enclosing_namespaces' id='def:enclosing_namespaces'><i>enclosing namespaces</i></a> of a declaration are those
namespaces in which the declaration lexically appears, except for a
redeclaration of a namespace member outside its original namespace
(e.g., a definition as specified in <a href='namespace.memdef'>[namespace.memdef]</a>)<a class='hidden_link' href='#namespace.def-4.sentence-1'>.</a></div> <div id='namespace.def-4.sentence-2' class='sentence'>Such a
redeclaration has the same enclosing namespaces as the original
declaration<a class='hidden_link' href='#namespace.def-4.sentence-2'>.</a></div> <div id='namespace.def-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.def-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace Q {
  namespace V {
    void f();                   <span class='comment'>// enclosing namespaces are the global namespace, <span class='tcode_in_codeblock'>Q</span>, and <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V</span>
</span>    class C { void m(); };
  }
  void V::f() {                 <span class='comment'>// enclosing namespaces are the global namespace, <span class='tcode_in_codeblock'>Q</span>, and <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V</span>
</span>    extern void h();            <span class='comment'>// ... so this declares <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V&#x200b;::&#x200b;h</span>
</span>  }
  void V::C::m() {              <span class='comment'>// enclosing namespaces are the global namespace, <span class='tcode_in_codeblock'>Q</span>, and <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V</span>
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.def-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2321'>#</a></div><div id='namespace.def-5.sentence-1' class='sentence'>If the optional initial <span class='texttt'>inline</span> keyword appears in a
<i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> for a particular namespace, that namespace is
declared to be an <a class='hidden_link' href='#def:inline_namespace' id='def:inline_namespace'><i>inline namespace</i></a><a class='hidden_link' href='#namespace.def-5.sentence-1'>.</a></div> <div id='namespace.def-5.sentence-2' class='sentence'>The <span class='texttt'>inline</span> keyword may be
used on a <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> that extends a namespace
only if it was previously used on the <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i>
that initially declared the <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> for that namespace<a class='hidden_link' href='#namespace.def-5.sentence-2'>.</a></div></div><div class='para' id='namespace.def-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2329'>#</a></div><div id='namespace.def-6.sentence-1' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
in a <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i>
appertains to the namespace being defined or extended<a class='hidden_link' href='#namespace.def-6.sentence-1'>.</a></div></div><div class='para' id='namespace.def-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2334'>#</a></div><div id='namespace.def-7.sentence-1' class='sentence'>Members of an inline namespace can be used in most respects as though they were members
of the enclosing namespace<a class='hidden_link' href='#namespace.def-7.sentence-1'>.</a></div> <div id='namespace.def-7.sentence-2' class='sentence'>Specifically, the inline namespace and its enclosing
namespace are both added to the set of associated namespaces used in
<a href='basic.lookup.argdep'>argument-dependent lookup</a> whenever one of them is,
and a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> that names the inline
namespace is implicitly inserted into the enclosing namespace as for an <a href='namespace.unnamed'>unnamed
namespace</a><a class='hidden_link' href='#namespace.def-7.sentence-2'>.</a></div> <div id='namespace.def-7.sentence-3' class='sentence'>Furthermore, each
member of the inline namespace can subsequently be <a href='temp.class.spec'>partially
specialized</a>, <a href='temp.explicit'>explicitly
instantiated</a>, or <a href='temp.expl.spec'>explicitly specialized</a> as
though it were a member of the enclosing namespace<a class='hidden_link' href='#namespace.def-7.sentence-3'>.</a></div> <div id='namespace.def-7.sentence-4' class='sentence'>Finally, looking up a name in the
enclosing namespace via explicit qualification (<a href='namespace.qual'>[namespace.qual]</a>) will include
members of the inline namespace brought in by the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> even if
there are declarations of that name in the enclosing namespace<a class='hidden_link' href='#namespace.def-7.sentence-4'>.</a></div></div><div class='para' id='namespace.def-8'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2350'>#</a></div><div id='namespace.def-8.sentence-1' class='sentence'>These properties are transitive: if a namespace <span class='texttt'>N</span> contains an inline namespace
<span class='texttt'>M</span>, which in turn contains an inline namespace <span class='texttt'>O</span>, then the members of
<span class='texttt'>O</span> can be used as though they were members of <span class='texttt'>M</span> or <span class='texttt'>N</span><a class='hidden_link' href='#namespace.def-8.sentence-1'>.</a></div> <div id='namespace.def-8.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:inline_namespace_set' id='def:inline_namespace_set'><i>inline namespace set</i></a> of <span class='texttt'>N</span> is the transitive closure of all
inline namespaces in <span class='texttt'>N</span><a class='hidden_link' href='#namespace.def-8.sentence-2'>.</a></div> <div id='namespace.def-8.sentence-3' class='sentence'>The <a class='hidden_link' href='#def:enclosing_namespace_set' id='def:enclosing_namespace_set'><i>enclosing namespace set</i></a> of <span class='texttt'>O</span> is the set of namespaces
consisting of the innermost non-inline namespace enclosing
an inline namespace <span class='texttt'>O</span>, together with any intervening inline namespaces<a class='hidden_link' href='#namespace.def-8.sentence-3'>.</a></div></div><div class='para' id='namespace.def-9'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2360'>#</a></div><div id='namespace.def-9.sentence-1' class='sentence'>A <i ><a href='namespace.def#nt:nested-namespace-definition'>nested-namespace-definition</a></i> with an
<i ><a href='namespace.def#nt:enclosing-namespace-specifier'>enclosing-namespace-specifier</a></i> <span class='texttt'>E</span>,
<i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='texttt'>I</span> and
<i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='texttt'>B</span>
is equivalent to
<pre class='codeblock'>
namespace E { namespace I { B } }</pre>
<div id='namespace.def-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.def-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A::B::C {
  int i;
}</pre> <div id='namespace.def-9.sentence-2' class='sentence'>
The above has the same effect as:
<pre class='codeblock'>
namespace A {
  namespace B {
    namespace C {
      int i;
    }
  }
}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='namespace.unnamed' class='section'><h4 ><a class='secnum' href='#namespace.unnamed' style='min-width:118pt'>10.3.1.1</a> Unnamed namespaces <a class='abbr_ref' href='namespace.unnamed'>[namespace.unnamed]</a></h4><span class='indexparent'><a class='index' id=':namespace,unnamed'></a></span><div class='para' id='namespace.unnamed-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.unnamed-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2390'>#</a></div><div id='namespace.unnamed-1.sentence-1' class='sentence'>An <i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i> behaves as if it were
replaced by
<pre class='ncsimplebnf'><span class='terminal'>inline</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>namespace</span> <span class='terminal'><span class='textit'>unique</span></span> <span class='terminal'>{ /* empty body */ }</span>
<span class='terminal'>using namespace</span> <span class='terminal'><span class='textit'>unique</span></span> <span class='terminal'>;</span>
<span class='terminal'>namespace</span> <span class='terminal'><span class='textit'>unique</span></span> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre>
where
<span class='texttt'>inline</span> appears if and only if it appears in the
<i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i>
and all occurrences of <span class='texttt'><span class='textit'>unique</span></span> in a translation unit are replaced by
the same identifier, and this identifier differs from all other
identifiers in the translation unit<a class='hidden_link' href='#namespace.unnamed-1.sentence-1'>.</a></div> <div id='namespace.unnamed-1.sentence-2' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
in the <i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i>
appertains to <span class='texttt'><span class='textit'>unique</span></span><a class='hidden_link' href='#namespace.unnamed-1.sentence-2'>.</a></div> <div id='namespace.unnamed-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.unnamed-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace { int i; }            <span class='comment'>// <span class='tcode_in_codeblock'><span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>void f() { i++; }               <span class='comment'>// <span class='tcode_in_codeblock'><span class='textit'>unique</span>&#x200b;::&#x200b;i++</span>
</span>
namespace A {
  namespace {
    int i;                      <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>    int j;                      <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;j</span>
</span>  }
  void g() { i++; }             <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i++</span>
</span>}

using namespace A;
void h() {
  i++;                          <span class='comment'>// error: <span class='tcode_in_codeblock'><span class='textit'>unique</span>&#x200b;::&#x200b;i</span> or <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>  A::i++;                       <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>  j++;                          <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;j</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='namespace.memdef' class='section'><h4 ><a class='secnum' href='#namespace.memdef' style='min-width:118pt'>10.3.1.2</a> Namespace member definitions <a class='abbr_ref' href='namespace.memdef'>[namespace.memdef]</a></h4><span class='indexparent'><a class='index' id=':namespace,member_definition'></a></span><div class='para' id='namespace.memdef-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.memdef-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2432'>#</a></div><div id='namespace.memdef-1.sentence-1' class='sentence'>A declaration in a namespace <span class='texttt'>N</span> (excluding declarations in nested scopes)
whose <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is an <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> (<a href='dcl.meaning'>[dcl.meaning]</a>),
whose <i ><a href='class#nt:class-head-name'>class-head-name</a></i> or
<i ><a href='dcl.enum#nt:enum-head-name'>enum-head-name</a></i> is an <i ><a href='lex.name#nt:identifier'>identifier</a></i>, or
whose <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is of the form <i ><a href='class#nt:class-key'>class-key</a></i>
<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> (<a href='dcl.type.elab'>[dcl.type.elab]</a>), or
that is an <i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i>,
declares (or redeclares) its <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> or
<i ><a href='lex.name#nt:identifier'>identifier</a></i> as a member of <span class='texttt'>N</span><a class='hidden_link' href='#namespace.memdef-1.sentence-1'>.</a></div> <div id='namespace.memdef-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.memdef-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.memdef-1.sentence-2' class='sentence'>An <a href='temp.explicit'>explicit instantiation</a> or
<a href='temp.expl.spec'>explicit specialization</a> of a template
does not introduce a name and thus may be declared using an
<span class='grammarterm'>unqualified-id</span> in a member of the enclosing namespace set,
if the primary template is declared in an inline namespace<a class='hidden_link' href='#namespace.memdef-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.memdef-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.memdef-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace X {
  void f() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }        <span class='comment'>// OK: introduces <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f()</span>
</span>
  namespace M {
    void g();                   <span class='comment'>// OK: introduces <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;M&#x200b;::&#x200b;g()</span>
</span>  }
  using M::g;
  void g();                     <span class='comment'>// error: conflicts with <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;M&#x200b;::&#x200b;g()</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.memdef-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.memdef-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2463'>#</a></div><div id='namespace.memdef-2.sentence-1' class='sentence'>Members of a named namespace can also be
defined outside that namespace by explicit
qualification (<a href='namespace.qual'>[namespace.qual]</a>) of the name being defined, provided
that the entity being defined was already declared in the namespace and
the definition appears after the point of declaration in a namespace
that encloses the declaration's namespace<a class='hidden_link' href='#namespace.memdef-2.sentence-1'>.</a></div> <div id='namespace.memdef-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.memdef-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace Q {
  namespace V {
    void f();
  }
  void V::f() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }     <span class='comment'>// OK
</span>  void V::g() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }     <span class='comment'>// error: <span class='tcode_in_codeblock'>g()</span> is not yet a member of <span class='tcode_in_codeblock'>V</span>
</span>  namespace V {
    void g();
  }
}

namespace R {
  void Q::V::g() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }  <span class='comment'>// error: <span class='tcode_in_codeblock'>R</span> doesn't enclose <span class='tcode_in_codeblock'>Q</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.memdef-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.memdef-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2489'>#</a></div><div id='namespace.memdef-3.sentence-1' class='sentence'>If a <span class='texttt'>friend</span> declaration in a non-local class first declares a
class, function, class template or function template<a class='footnotenum' href='#footnote-97'>97</a>
the friend is a member of the innermost enclosing
namespace<a class='hidden_link' href='#namespace.memdef-3.sentence-1'>.</a></div> <div id='namespace.memdef-3.sentence-2' class='sentence'>The <span class='texttt'>friend</span> declaration does not by itself make the name
visible to unqualified lookup (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>) or qualified
lookup (<a href='basic.lookup.qual'>[basic.lookup.qual]</a>)<a class='hidden_link' href='#namespace.memdef-3.sentence-2'>.</a></div> <div id='namespace.memdef-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.memdef-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.memdef-3.sentence-5' class='sentence'>The name of the friend will be
visible in its namespace if a matching declaration is provided at namespace
scope (either before or after the class definition granting friendship)<a class='hidden_link' href='#namespace.memdef-3.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.memdef-3.sentence-3' class='sentence'> If a friend
function or function template is called, its name may be found by the
name lookup that considers functions from namespaces and classes
associated with the types of the function
arguments (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>)<a class='hidden_link' href='#namespace.memdef-3.sentence-3'>.</a></div> <div id='namespace.memdef-3.sentence-4' class='sentence'>If the
name in a <span class='texttt'>friend</span> declaration is neither qualified nor a
<i ><a href='temp.names#nt:template-id'>template-id</a></i> and the declaration is a function or an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>, the lookup to determine whether
the entity has been previously declared shall not consider any scopes
outside the innermost enclosing namespace<a class='hidden_link' href='#namespace.memdef-3.sentence-4'>.</a></div> <div id='namespace.memdef-3.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.memdef-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.memdef-3.sentence-6' class='sentence'>The other forms of
<span class='texttt'>friend</span> declarations cannot declare a new member of the innermost
enclosing namespace and thus follow the usual lookup rules<a class='hidden_link' href='#namespace.memdef-3.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.memdef-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.memdef-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// Assume <span class='tcode_in_codeblock'>f</span> and <span class='tcode_in_codeblock'>g</span> have not yet been declared.
</span>void h(int);
template &lt;class T&gt; void f2(T);
namespace A {
  class X {
    friend void f(X);           <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(X)</span> is a friend
</span>    class Y {
      friend void g();          <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> is a friend
</span>      friend void h(int);       <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> is a friend
</span>                                <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;h</span> not considered
</span>      friend void f2&lt;&gt;(int);    <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;f2&lt;&gt;(int)</span> is a friend
</span>    };
  };

  <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> are not visible here
</span>  X x;
  void g() { f(x); }            <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>  void f(X) { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }       <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>
</span>  void h(int) { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }     <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span>
</span>  <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> are visible here and known to be friends
</span>}

using A::x;

void h() {
  A::f(x);
  A::X::f(x);                   <span class='comment'>// error: <span class='tcode_in_codeblock'>f</span> is not a member of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X</span>
</span>  A::X::Y::g();                 <span class='comment'>// error: <span class='tcode_in_codeblock'>g</span> is not a member of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X&#x200b;::&#x200b;Y</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-97'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-97'>97)</a></div><div id='footnote-97.sentence-1' class='sentence'>this implies that the name of the class or function is unqualified<a class='hidden_link' href='#footnote-97.sentence-1'>.</a></div></div></div></div><div id='namespace.alias' class='section'><h3 ><a class='secnum' href='#namespace.alias' style='min-width:103pt'>10.3.2</a> Namespace alias <a class='abbr_ref' href='namespace.alias'>[namespace.alias]</a></h3><span class='indexparent'><a class='index' id=':namespace,alias'></a></span><span class='indexparent'><a class='index' id=':alias,namespace'></a></span><span class='indexparent'><a class='index' id=':synonym'></a></span><div class='para' id='namespace.alias-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.alias-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2551'>#</a></div><div id='namespace.alias-1.sentence-1' class='sentence'>A <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i> declares an alternate name for a
namespace according to the following grammar:</div><pre class='bnf'><a class='nontermdef' id='nt:namespace-alias'>namespace-alias:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:namespace-alias-definition'>namespace-alias-definition:</a>
&#9;<span class='terminal'>namespace</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>=</span> <i ><a href='namespace.alias#nt:qualified-namespace-specifier'>qualified-namespace-specifier</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:qualified-namespace-specifier'>qualified-namespace-specifier:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i>
</pre></div><div class='para' id='namespace.alias-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.alias-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2570'>#</a></div><div id='namespace.alias-2.sentence-1' class='sentence'>The <i ><a href='lex.name#nt:identifier'>identifier</a></i> in a <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i> is
a synonym for the name of the namespace denoted by the
<i ><a href='namespace.alias#nt:qualified-namespace-specifier'>qualified-namespace-specifier</a></i> and becomes a
<i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i><a class='hidden_link' href='#namespace.alias-2.sentence-1'>.</a></div> <div id='namespace.alias-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.alias-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.alias-2.sentence-2' class='sentence'>When looking up a <span class='grammarterm'>namespace-name</span> in a
<span class='grammarterm'>namespace-alias-definition</span>, only namespace names are
considered, see <a href='basic.lookup.udir'>[basic.lookup.udir]</a><a class='hidden_link' href='#namespace.alias-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.alias-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.alias-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2581'>#</a></div><div id='namespace.alias-3.sentence-1' class='sentence'>In a declarative region, a <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i> can be
used to redefine a <i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i> declared in that
declarative region to refer only to the namespace to which it already
refers<a class='hidden_link' href='#namespace.alias-3.sentence-1'>.</a></div> <div id='namespace.alias-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.alias-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='namespace.alias-3.sentence-2' class='sentence'>The following declarations are well-formed:</div><pre class='codeblock'>
namespace Company_with_very_long_name { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }
namespace CWVLN = Company_with_very_long_name;
namespace CWVLN = Company_with_very_long_name;  <span class='comment'>// OK: duplicate
</span>namespace CWVLN = CWVLN;</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='namespace.udecl' class='section'><h3 ><a class='secnum' href='#namespace.udecl' style='min-width:103pt'>10.3.3</a> The <span class='texttt'>using</span> declaration <a class='abbr_ref' href='namespace.udecl'>[namespace.udecl]</a></h3><span class='indexparent'><a class='index' id=':using-declaration'></a></span><pre class='bnf'><a class='nontermdef' id='nt:using-declaration'>using-declaration:</a>
&#9;<span class='terminal'>using</span> <i ><a href='namespace.udecl#nt:using-declarator-list'>using-declarator-list</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:using-declarator-list'>using-declarator-list:</a>
&#9;<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='namespace.udecl#nt:using-declarator-list'>using-declarator-list</a></i> <span class='terminal'>,</span> <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:using-declarator'>using-declarator:</a>
&#9;<span class='terminal'>typename<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
</pre><div class='para' id='namespace.udecl-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2616'>#</a></div><div id='namespace.udecl-1.sentence-1' class='sentence'>Each <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> in a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><a class='footnotenum' href='#footnote-98'>98</a>
introduces a set of declarations into the declarative region in
which the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> appears<a class='hidden_link' href='#namespace.udecl-1.sentence-1'>.</a></div> <div id='namespace.udecl-1.sentence-2' class='sentence'>The set of declarations introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is found by
performing qualified name lookup (<a href='basic.lookup.qual'>[basic.lookup.qual]</a>, <a href='class.member.lookup'>[class.member.lookup]</a>)
for the name in the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i>,
excluding functions that are hidden as described below<a class='hidden_link' href='#namespace.udecl-1.sentence-2'>.</a></div> <div id='namespace.udecl-1.sentence-3' class='sentence'>If the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> does not name a constructor,
the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> is declared in the declarative region
in which the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> appears
as a synonym for each declaration introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#namespace.udecl-1.sentence-3'>.</a></div> <div id='namespace.udecl-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-1.sentence-5' class='sentence'>Only the specified name is so declared;
specifying an enumeration name in a <span class='grammarterm'>using-declaration</span>
does not declare its enumerators
in the <span class='grammarterm'>using-declaration</span>'s declarative region<a class='hidden_link' href='#namespace.udecl-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':inheritance,using-declaration_and'></a></span>If the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> names a constructor,
it declares that the class <a class='hidden_link' href='#def:inherits' id='def:inherits'><i>inherits</i></a> the set of constructor declarations
introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> from the nominated base class<a class='hidden_link' href='#namespace.udecl-1.sentence-4'>.</a></div></div><div class='para' id='namespace.udecl-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2642'>#</a></div><div id='namespace.udecl-2.sentence-1' class='sentence'>Every <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> and a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i> and can therefore be used in a class definition<a class='hidden_link' href='#namespace.udecl-2.sentence-1'>.</a></div> <div id='namespace.udecl-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  void f(char);
  void g(char);
  enum E { e };
  union { int x; };
};

struct D : B {
  using B::f;
  void f(int) { f('c'); }       <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span>
</span>  void g(int) { g('c'); }       <span class='comment'>// recursively calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g(int)</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2663'>#</a></div><div id='namespace.udecl-3.sentence-1' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> used as a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i>,
each <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i>'s <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
shall name a base class of the class being defined<a class='hidden_link' href='#namespace.udecl-3.sentence-1'>.</a></div> <div id='namespace.udecl-3.sentence-2' class='sentence'>If a
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> names a constructor, its
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> shall name a direct base class of the class
being defined<a class='hidden_link' href='#namespace.udecl-3.sentence-2'>.</a></div> <div id='namespace.udecl-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;typename... bases&gt;
struct X : bases... {
  using bases::g...;
};

X&lt;B, D&gt; x;                      <span class='comment'>// OK: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g</span> introduced
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-3.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-3.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class C {
  int g();
};

class D2 : public B {
  using B::f;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>B</span> is a base of <span class='tcode_in_codeblock'>D2</span>
</span>  using B::e;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>e</span> is an enumerator of base <span class='tcode_in_codeblock'>B</span>
</span>  using B::x;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>x</span> is a union member of base <span class='tcode_in_codeblock'>B</span>
</span>  using C::g;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>C</span> isn't a base of <span class='tcode_in_codeblock'>D2</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2696'>#</a></div><div id='namespace.udecl-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-4.sentence-2' class='sentence'>Since destructors do not have names, a
<span class='grammarterm'>using-declaration</span> cannot refer to a
destructor for a base class<a class='hidden_link' href='#namespace.udecl-4.sentence-2'>.</a></div> <div id='namespace.udecl-4.sentence-3' class='sentence'>Since specializations of member templates
for conversion functions are not found by name lookup, they are not
considered when a <span class='grammarterm'>using-declaration</span> specifies a conversion
function (<a href='temp.mem'>[temp.mem]</a>)<a class='hidden_link' href='#namespace.udecl-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-4.sentence-1' class='sentence'>
If a constructor or assignment operator brought from a base class into a derived class
has the signature of a copy/move constructor or assignment operator
for the derived class (<a href='class.copy'>[class.copy]</a>),
the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> does not by itself
suppress the implicit declaration of the derived class member;
the member from the base class is hidden or overridden
by the implicitly-declared copy/move constructor or assignment operator
of the derived class, as described below<a class='hidden_link' href='#namespace.udecl-4.sentence-1'>.</a></div></div><div class='para' id='namespace.udecl-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2714'>#</a></div><div id='namespace.udecl-5.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a <i ><a href='temp.names#nt:template-id'>template-id</a></i><a class='hidden_link' href='#namespace.udecl-5.sentence-1'>.</a></div> <div id='namespace.udecl-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  template &lt;class T&gt; void f(T);
  template &lt;class T&gt; struct X { };
};
struct B : A {
  using A::f&lt;double&gt;;           <span class='comment'>// ill-formed
</span>  using A::X&lt;int&gt;;              <span class='comment'>// ill-formed
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2730'>#</a></div><div id='namespace.udecl-6.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a namespace<a class='hidden_link' href='#namespace.udecl-6.sentence-1'>.</a></div></div><div class='para' id='namespace.udecl-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2733'>#</a></div><div id='namespace.udecl-7.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a scoped enumerator<a class='hidden_link' href='#namespace.udecl-7.sentence-1'>.</a></div></div><div class='para' id='namespace.udecl-8'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2736'>#</a></div><div id='namespace.udecl-8.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> that names a class member shall be a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i><a class='hidden_link' href='#namespace.udecl-8.sentence-1'>.</a></div> <div id='namespace.udecl-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct X {
  int i;
  static int s;
};

void f() {
  using X::i;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;i</span> is a class member and this is not a member declaration.
</span>  using X::s;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;s</span> is a class member and this is not a member declaration.
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-9'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2753'>#</a></div><div id='namespace.udecl-9.sentence-1' class='sentence'>Members declared by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> can be referred to by
explicit qualification just like other member
names (<a href='namespace.qual'>[namespace.qual]</a>)<a class='hidden_link' href='#namespace.udecl-9.sentence-1'>.</a></div> <div id='namespace.udecl-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f();

namespace A {
  void g();
}

namespace X {
  using ::f;                    <span class='comment'>// global <span class='tcode_in_codeblock'>f</span>
</span>  using A::g;                   <span class='comment'>// <span class='tcode_in_codeblock'>A</span>'s <span class='tcode_in_codeblock'>g</span>
</span>}

void h()
{
  X::f();                       <span class='comment'>// calls <span class='tcode_in_codeblock'>&#x200b;::&#x200b;f</span>
</span>  X::g();                       <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-10'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2778'>#</a></div><div id='namespace.udecl-10.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> and can
therefore be used repeatedly where (and only where) multiple
declarations are allowed<a class='hidden_link' href='#namespace.udecl-10.sentence-1'>.</a></div> <div id='namespace.udecl-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int i;
}

namespace A1 {
  using A::i, A::i;             <span class='comment'>// OK: double declaration
</span>}

struct B {
  int i;
};

struct X : B {
  using B::i, B::i;             <span class='comment'>// error: double member declaration
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-11'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2802'>#</a></div><div id='namespace.udecl-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-11.sentence-1' class='sentence'>For a <span class='grammarterm'>using-declaration</span>
whose <span class='grammarterm'>nested-name-specifier</span> names a namespace,
members added to the namespace after the <span class='grammarterm'>using-declaration</span>
are not in the set of introduced declarations, so they are not
considered when a use of the name is made<a class='hidden_link' href='#namespace.udecl-11.sentence-1'>.</a></div> <div id='namespace.udecl-11.sentence-2' class='sentence'>Thus, additional
overloads added after the <span class='grammarterm'>using-declaration</span> are ignored, but
default function arguments (<a href='dcl.fct.default'>[dcl.fct.default]</a>), default template
arguments (<a href='temp.param'>[temp.param]</a>), and template specializations (<a href='temp.class.spec'>[temp.class.spec]</a>,
<a href='temp.expl.spec'>[temp.expl.spec]</a>) are considered<a class='hidden_link' href='#namespace.udecl-11.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  void f(int);
}

using A::f;         <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is a synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>; that is, for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span>.
</span>namespace A {
  void f(char);
}

void foo() {
  f('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>f(int)</span>, even though <span class='tcode_in_codeblock'>f(char)</span> exists.
</span>}

void bar() {
  using A::f;       <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is a synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>; that is, for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(char)</span>.
</span>  f('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>f(char)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-12'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2836'>#</a></div><div id='namespace.udecl-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-12.sentence-1' class='sentence'>Partial specializations of class templates are found by looking up the
primary class template and then considering all partial specializations
of that template<a class='hidden_link' href='#namespace.udecl-12.sentence-1'>.</a></div> <div id='namespace.udecl-12.sentence-2' class='sentence'>If a <span class='grammarterm'>using-declaration</span> names a class
template, partial specializations introduced after the
<span class='grammarterm'>using-declaration</span> are effectively visible because the primary
template is visible (<a href='temp.class.spec'>[temp.class.spec]</a>)<a class='hidden_link' href='#namespace.udecl-12.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-13'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2846'>#</a></div><div id='namespace.udecl-13.sentence-1' class='sentence'>Since a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a declaration, the restrictions
on declarations of the same name in the same
<a href='basic.scope#def:declarative_region'>declarative region</a> also apply to <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span><a class='hidden_link' href='#namespace.udecl-13.sentence-1'>.</a></div> <div id='namespace.udecl-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int x;
}

namespace B {
  int i;
  struct g { };
  struct x { };
  void f(int);
  void f(double);
  void g(char);     <span class='comment'>// OK: hides <span class='tcode_in_codeblock'>struct g</span>
</span>}

void func() {
  int i;
  using B::i;       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> declared twice
</span>  void f(char);
  using B::f;       <span class='comment'>// OK: each <span class='tcode_in_codeblock'>f</span> is a function
</span>  f(3.5);           <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(double)</span>
</span>  using B::g;
  g('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g(char)</span>
</span>  struct g g1;      <span class='comment'>// <span class='tcode_in_codeblock'>g1</span> has class type <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span>
</span>  using B::x;
  using A::x;       <span class='comment'>// OK: hides <span class='tcode_in_codeblock'>struct B&#x200b;::&#x200b;x</span>
</span>  x = 99;           <span class='comment'>// assigns to <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span>
</span>  struct x x1;      <span class='comment'>// <span class='tcode_in_codeblock'>x1</span> has class type <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;x</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-14'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2883'>#</a></div><div id='namespace.udecl-14.sentence-1' class='sentence'>If a function declaration in namespace scope or block scope has the same
name and the same <a href='dcl.fct#def:parameter-type-list'>parameter-type-list</a> as
a function introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, and the
declarations do not declare the same function, the program is
ill-formed<a class='hidden_link' href='#namespace.udecl-14.sentence-1'>.</a></div> <div id='namespace.udecl-14.sentence-2' class='sentence'>If a function template declaration in namespace scope has
the same name, parameter-type-list, return type, and template
parameter list as a function template introduced by a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, the program is ill-formed<a class='hidden_link' href='#namespace.udecl-14.sentence-2'>.</a></div> <div id='namespace.udecl-14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-14.sentence-3' class='sentence'>Two <span class='grammarterm'>using-declaration</span><span class='textit'>s</span> may introduce functions with the same
name and the same parameter-type-list<a class='hidden_link' href='#namespace.udecl-14.sentence-3'>.</a></div> <div id='namespace.udecl-14.sentence-4' class='sentence'>If, for a call to an unqualified
function name, function overload resolution selects the functions
introduced by such <span class='grammarterm'>using-declaration</span><span class='textit'>s</span>, the function call is
ill-formed<a class='hidden_link' href='#namespace.udecl-14.sentence-4'>.</a></div> <div id='namespace.udecl-14.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace B {
  void f(int);
  void f(double);
}
namespace C {
  void f(int);
  void f(double);
  void f(char);
}

void h() {
  using B::f;       <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(double)</span>
</span>  using C::f;       <span class='comment'>// <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span>, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(double)</span>, and <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(char)</span>
</span>  f('h');           <span class='comment'>// calls <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(char)</span>
</span>  f(1);             <span class='comment'>// error: ambiguous: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span> or <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span>?
</span>  void f(int);      <span class='comment'>// error: <span class='tcode_in_codeblock'>f(int)</span> conflicts with <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-15'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2922'>#</a></div><div id='namespace.udecl-15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding,using-declaration_and'></a></span>When a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> brings declarations from a base class into
a derived class, member functions and member function templates in
the derived class override and/or hide member functions and member
function templates with the same name,
<a href='dcl.fct#def:parameter-type-list'>parameter-type-list</a>, cv-qualification, and <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> (if any) in a base
class (rather than conflicting)<a class='hidden_link' href='#namespace.udecl-15.sentence-1'>.</a></div> <div id='namespace.udecl-15.sentence-2' class='sentence'>Such hidden or overridden declarations are excluded from the set of
declarations introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#namespace.udecl-15.sentence-2'>.</a></div> <div id='namespace.udecl-15.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  virtual void f(int);
  virtual void f(char);
  void g(int);
  void h(int);
};

struct D : B {
  using B::f;
  void f(int);      <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span> overrides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span>;
</span>
  using B::g;
  void g(char);     <span class='comment'>// OK
</span>
  using B::h;
  void h(int);      <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;h(int)</span> hides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;h(int)</span>
</span>};

void k(D* p)
{
  p-&gt;f(1);          <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span>
</span>  p-&gt;f('a');        <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span>
</span>  p-&gt;g(1);          <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g(int)</span>
</span>  p-&gt;g('a');        <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g(char)</span>
</span>}

struct B1 {
  B1(int);
};

struct B2 {
  B2(int);
};

struct D1 : B1, B2 {
  using B1::B1;
  using B2::B2;
};
D1 d1(0);           <span class='comment'>// ill-formed: ambiguous
</span>
struct D2 : B1, B2 {
  using B1::B1;
  using B2::B2;
  D2(int);          <span class='comment'>// OK: <span class='tcode_in_codeblock'>D2&#x200b;::&#x200b;D2(int)</span> hides <span class='tcode_in_codeblock'>B1&#x200b;::&#x200b;B1(int)</span> and <span class='tcode_in_codeblock'>B2&#x200b;::&#x200b;B2(int)</span>
</span>};
D2 d2(0);           <span class='comment'>// calls <span class='tcode_in_codeblock'>D2&#x200b;::&#x200b;D2(int)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-16'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L2984'>#</a></div><div id='namespace.udecl-16.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,using-declaration_and'></a></span>For the purpose of forming a set of candidates during overload resolution,
the functions that are
introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> into a derived class
are treated as though they were members of the derived class<a class='hidden_link' href='#namespace.udecl-16.sentence-1'>.</a></div> <div id='namespace.udecl-16.sentence-2' class='sentence'>In
particular, the implicit <span class='texttt'>this</span> parameter shall be treated as if
it were a pointer to the derived class rather than to the base class<a class='hidden_link' href='#namespace.udecl-16.sentence-2'>.</a></div> <div id='namespace.udecl-16.sentence-3' class='sentence'>This has no effect on the type of the function, and in all other
respects the function remains a member of the base class<a class='hidden_link' href='#namespace.udecl-16.sentence-3'>.</a></div> <div id='namespace.udecl-16.sentence-4' class='sentence'>Likewise, constructors that are introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
are treated as though they were constructors of the derived class
when looking up the constructors of the derived class (<a href='class.qual'>[class.qual]</a>)
or forming a set of overload candidates (<a href='over.match.ctor'>[over.match.ctor]</a>, <a href='over.match.copy'>[over.match.copy]</a>, <a href='over.match.list'>[over.match.list]</a>)<a class='hidden_link' href='#namespace.udecl-16.sentence-4'>.</a></div> <div id='namespace.udecl-16.sentence-5' class='sentence'>If such a constructor is selected to perform the initialization
of an object of class type, all subobjects other than the base class
from which the constructor originated
are implicitly initialized (<a href='class.inhctor.init'>[class.inhctor.init]</a>)<a class='hidden_link' href='#namespace.udecl-16.sentence-5'>.</a></div> <div id='namespace.udecl-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-16.sentence-6' class='sentence'>A member of a derived class is sometimes preferred to a member of a base class
if they would otherwise be ambiguous (<a href='over.match.best'>[over.match.best]</a>)<a class='hidden_link' href='#namespace.udecl-16.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-17'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3007'>#</a></div><div id='namespace.udecl-17.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':access_control,using-declaration_and'></a></span>In a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that does not name a constructor,
all members of the set of introduced declarations shall be accessible<a class='hidden_link' href='#namespace.udecl-17.sentence-1'>.</a></div> <div id='namespace.udecl-17.sentence-2' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that names a constructor,
no access check is performed<a class='hidden_link' href='#namespace.udecl-17.sentence-2'>.</a></div> <div id='namespace.udecl-17.sentence-3' class='sentence'>In particular, if a derived class uses a
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> to access a member of a base class, the
member name shall be accessible<a class='hidden_link' href='#namespace.udecl-17.sentence-3'>.</a></div> <div id='namespace.udecl-17.sentence-4' class='sentence'>If the name is that of an overloaded
member function, then all functions named shall be accessible<a class='hidden_link' href='#namespace.udecl-17.sentence-4'>.</a></div> <div id='namespace.udecl-17.sentence-5' class='sentence'>The base
class members mentioned by a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> shall be
visible in the scope of at least one of the direct base classes of the
class where the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is specified<a class='hidden_link' href='#namespace.udecl-17.sentence-5'>.</a></div></div><div class='para' id='namespace.udecl-18'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3021'>#</a></div><div id='namespace.udecl-18.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-18.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-18.sentence-1' class='sentence'>Because a <span class='grammarterm'>using-declarator</span> designates a base class member
(and not a member subobject or a member function of a base class
subobject), a <span class='grammarterm'>using-declarator</span> cannot be used to resolve
inherited member ambiguities<a class='hidden_link' href='#namespace.udecl-18.sentence-1'>.</a></div> <div id='namespace.udecl-18.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-18.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { int x(); };
struct B : A { };
struct C : A {
  using A::x;
  int x(int);
};

struct D : B, C {
  using C::x;
  int x(double);
};
int f(D* d) {
  return d-&gt;x();    <span class='comment'>// error: overload resolution selects <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span>, but <span class='tcode_in_codeblock'>A</span> is an ambiguous base class
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-19'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3047'>#</a></div><div id='namespace.udecl-19.sentence-1' class='sentence'>A synonym created by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> has the usual
accessibility for a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i><a class='hidden_link' href='#namespace.udecl-19.sentence-1'>.</a></div> <div id='namespace.udecl-19.sentence-2' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that names a constructor does not
create a synonym; instead, the additional constructors
are accessible if they would be accessible
when used to construct an object of the corresponding base class,
and the accessibility of the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is ignored<a class='hidden_link' href='#namespace.udecl-19.sentence-2'>.</a></div> <div id='namespace.udecl-19.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-19.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class A {
private:
    void f(char);
public:
    void f(int);
protected:
    void g();
};

class B : public A {
  using A::f;       <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(char)</span> is inaccessible
</span>public:
  using A::g;       <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span> is a public synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-20'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3075'>#</a></div><div id='namespace.udecl-20.sentence-1' class='sentence'>If a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> uses the keyword <span class='texttt'>typename</span> and
specifies a dependent name (<a href='temp.dep'>[temp.dep]</a>), the name introduced by the
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is treated as a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><a class='hidden_link' href='#namespace.udecl-20.sentence-1'>.</a></div> </div><div class='footnote' id='footnote-98'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-98'>98)</a></div><div id='footnote-98.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> with more than one
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is equivalent to a corresponding sequence
of <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span> with
one <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> each<a class='hidden_link' href='#footnote-98.sentence-1'>.</a></div></div></div><div id='namespace.udir' class='section'><h3 ><a class='secnum' href='#namespace.udir' style='min-width:103pt'>10.3.4</a> Using directive <a class='abbr_ref' href='namespace.udir'>[namespace.udir]</a></h3><span class='indexparent'><a class='index' id=':using-directive'></a></span><pre class='bnf'><a class='nontermdef' id='nt:using-directive'>using-directive:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>using  namespace</span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> <span class='terminal'>;</span>
</pre><div class='para' id='namespace.udir-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3090'>#</a></div><div id='namespace.udir-1.sentence-1' class='sentence'>A <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> shall not appear in class scope, but may
appear in namespace scope or in block scope<a class='hidden_link' href='#namespace.udir-1.sentence-1'>.</a></div> <div id='namespace.udir-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-1.sentence-3' class='sentence'>When looking up a <span class='grammarterm'>namespace-name</span> in a
<span class='grammarterm'>using-directive</span>, only namespace names are considered,
see <a href='basic.lookup.udir'>[basic.lookup.udir]</a><a class='hidden_link' href='#namespace.udir-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udir-1.sentence-2' class='sentence'>
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><a class='hidden_link' href='#namespace.udir-1.sentence-2'>.</a></div></div><div class='para' id='namespace.udir-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3100'>#</a></div><div id='namespace.udir-2.sentence-1' class='sentence'>A <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> specifies that the names in the nominated
namespace can be used in the scope in which the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> appears after the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><a class='hidden_link' href='#namespace.udir-2.sentence-1'>.</a></div> <div id='namespace.udir-2.sentence-2' class='sentence'>During <a href='basic.lookup.unqual'>unqualified name lookup</a>, the names
appear as if they were declared in the nearest enclosing namespace which
contains both the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> and the nominated
namespace<a class='hidden_link' href='#namespace.udir-2.sentence-2'>.</a></div> <div id='namespace.udir-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-2.sentence-3' class='sentence'>In this context, “contains” means “contains directly or indirectly”<a class='hidden_link' href='#namespace.udir-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3112'>#</a></div><div id='namespace.udir-3.sentence-1' class='sentence'>A <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> does not add any members to the declarative
region in which it appears<a class='hidden_link' href='#namespace.udir-3.sentence-1'>.</a></div> <div id='namespace.udir-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udir-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int i;
  namespace B {
    namespace C {
      int i;
    }
    using namespace A::B::C;
    void f1() {
      i = 5;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;i</span> visible in <span class='tcode_in_codeblock'>B</span> and hides <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>    }
  }
  namespace D {
    using namespace B;
    using namespace C;
    void f2() {
      i = 5;        <span class='comment'>// ambiguous, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;C&#x200b;::&#x200b;i</span> or <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>?
</span>    }
  }
  void f3() {
    i = 5;          <span class='comment'>// uses <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>  }
}
void f4() {
  i = 5;            <span class='comment'>// ill-formed; neither <span class='tcode_in_codeblock'>i</span> is visible
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3146'>#</a></div><div id='namespace.udir-4.sentence-1' class='sentence'>For <a href='basic.lookup.unqual'>unqualified lookup</a>, the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> is transitive: if a scope contains a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> that nominates a second namespace that itself
contains <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span>, the effect is as if the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> from the second namespace also appeared in
the first<a class='hidden_link' href='#namespace.udir-4.sentence-1'>.</a></div> <div id='namespace.udir-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-4.sentence-2' class='sentence'>For qualified lookup, see <a href='namespace.qual'>[namespace.qual]</a><a class='hidden_link' href='#namespace.udir-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udir-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udir-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace M {
  int i;
}

namespace N {
  int i;
  using namespace M;
}

void f() {
  using namespace N;
  i = 7;            <span class='comment'>// error: both <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;i</span> and <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;i</span> are visible
</span>}</pre><div id='namespace.udir-4.sentence-3' class='sentence'>For another example,</div><pre class='codeblock'>
namespace A {
  int i;
}
namespace B {
  int i;
  int j;
  namespace C {
    namespace D {
      using namespace A;
      int j;
      int k;
      int a = i;    <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;i</span> hides <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>    }
    using namespace D;
    int k = 89;     <span class='comment'>// no problem yet
</span>    int l = k;      <span class='comment'>// ambiguous: <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;k</span> or <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;k</span>
</span>    int m = i;      <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;i</span> hides <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>    int n = j;      <span class='comment'>// <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;j</span> hides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;j</span>
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3199'>#</a></div><div id='namespace.udir-5.sentence-1' class='sentence'>If a namespace is <a href='namespace.def#def:namespace,extend'>extended</a> after a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> for that namespace is given, the additional
members of the extended namespace and the members of namespaces
nominated by <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> in the
extending <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> can be used after the
extending <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i><a class='hidden_link' href='#namespace.udir-5.sentence-1'>.</a></div></div><div class='para' id='namespace.udir-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3207'>#</a></div><div id='namespace.udir-6.sentence-1' class='sentence'>If name lookup finds a declaration for a name in two different
namespaces, and the declarations do not declare the same entity and do
not declare functions, the use of the name is ill-formed<a class='hidden_link' href='#namespace.udir-6.sentence-1'>.</a></div> <div id='namespace.udir-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-6.sentence-2' class='sentence'>In particular, the name of a variable, function or enumerator does not
hide the name of a class or enumeration declared in a different
namespace<a class='hidden_link' href='#namespace.udir-6.sentence-2'>.</a></div> <div id='namespace.udir-6.sentence-3' class='sentence'>For example,</div><pre class='codeblock'>
namespace A {
  class X { };
  extern "C"   int g();
  extern "C++" int h();
}
namespace B {
  void X(int);
  extern "C"   int g();
  extern "C++" int h(int);
}
using namespace A;
using namespace B;

void f() {
  X(1);             <span class='comment'>// error: name <span class='tcode_in_codeblock'>X</span> found in two namespaces
</span>  g();              <span class='comment'>// OK: name <span class='tcode_in_codeblock'>g</span> refers to the same entity
</span>  h();              <span class='comment'>// OK: overload resolution selects <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/58a489c5007a31a364006fd589f971930a8d30c5/source/declarations.tex#L3238'>#</a></div><div id='namespace.udir-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,using_directive_and'></a></span>During overload resolution, all functions from the transitive search are
considered for argument matching<a class='hidden_link' href='#namespace.udir-7.sentence-1'>.</a></div> <div id='namespace.udir-7.sentence-2' class='sentence'>The set of declarations found by the
transitive search is unordered<a class='hidden_link' href='#namespace.udir-7.sentence-2'>.</a></div> <div id='namespace.udir-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-7.sentence-4' class='sentence'>In particular, the order in which namespaces were considered and the
relationships among the namespaces implied by the
<span class='grammarterm'>using-directive</span><span class='textit'>s</span> do not cause preference to be given to any
of the declarations found by the search<a class='hidden_link' href='#namespace.udir-7.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udir-7.sentence-3' class='sentence'>
An ambiguity exists if the best match finds two functions with the same
signature, even if one is in a namespace reachable through
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> in the namespace of the other<a class='hidden_link' href='#namespace.udir-7.sentence-3'>.</a><a class='footnotenum' href='#footnote-99'>99</a></div> <div id='namespace.udir-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udir-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace D {
  int d1;
  void f(char);
}
using namespace D;

int d1;             <span class='comment'>// OK: no conflict with <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;d1</span>
</span>
namespace E {
  int e;
  void f(int);
}

namespace D {       <span class='comment'>// namespace extension
</span>  int d2;
  using namespace E;
  void f(int);
}

void f() {
  d1++;             <span class='comment'>// error: ambiguous <span class='tcode_in_codeblock'>&#x200b;::&#x200b;d1</span> or <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;d1</span>?
</span>  ::d1++;           <span class='comment'>// OK
</span>  D::d1++;          <span class='comment'>// OK
</span>  d2++;             <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;d2</span>
</span>  e++;              <span class='comment'>// OK: <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;e</span>
</span>  f(1);             <span class='comment'>// error: ambiguous: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span> or <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;f(int)</span>?
</span>  f('a');           <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(char)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-99'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-99'>99)</a></div><div id='footnote-99.sentence-1' class='sentence'>During
name lookup in a class hierarchy, some ambiguities may be
resolved by considering whether one member hides the other along some
paths (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#footnote-99.sentence-1'>.</a></div> <div id='footnote-99.sentence-2' class='sentence'>There is no such disambiguation when
considering the set of names found as a result of following
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span><a class='hidden_link' href='#footnote-99.sentence-2'>.</a></div></div></div></div></body></html>