<!DOCTYPE html><html lang='en'><head><title>[temp.dep.constexpr]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>13.7</a> Name resolution <a class='abbr_ref' href='temp.res#temp.dep.constexpr'>[temp.res]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>13.7.2</a> Dependent names <a class='abbr_ref' href='temp.dep#constexpr'>[temp.dep]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>13.7.2.3</a> Value-dependent expressions <a class='abbr_ref'>[temp.dep.constexpr]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/templates.tex#L5131'>#</a></div><div id='1.sentence-1' class='sentence'>Except as described below, an expression used in a context where a
constant expression is required is value-dependent if any
subexpression is value-dependent<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/templates.tex#L5136'>#</a></div><div id='2.sentence-1' class='sentence'>An
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
is value-dependent if:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div>it is type-dependent,</li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div>it is the name of a non-type template parameter,</li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div>it names a static data member that is a dependent member of the current
instantiation and is not initialized in a <i ><a href='class.mem#nt:member-declarator'>member-declarator</a></i>,</li><li id='2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.4'>(2.4)</a></div>it names a static member function that is a dependent member of the current
instantiation, or</li><li id='2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.5'>(2.5)</a></div>it is a constant with literal type and is initialized with an
expression that is value-dependent<a class='hidden_link' href='#2.sentence-1'>.</a></li></ul></div><div id='2.sentence-2' class='sentence'>Expressions of the following form are value-dependent if the
<i ><a href='expr.unary#nt:unary-expression'>unary-expression</a></i> or <i ><a href='expr.comma#nt:expression'>expression</a></i>
is type-dependent or the
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>
is dependent:</div><pre class='ncsimplebnf'><span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof'></a></span> <i ><a href='expr.unary#nt:unary-expression'>unary-expression</a></i>
<span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof_'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>typeid</span></span><span class='indexparent'><a class='index' id=':typeid'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>typeid</span></span><span class='indexparent'><a class='index' id=':typeid_'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>alignof</span></span><span class='indexparent'><a class='index' id=':alignof'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>noexcept</span></span><span class='indexparent'><a class='index' id=':noexcept'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre><div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-3' class='sentence'>For the standard library macro <span class='texttt'>offsetof</span>,
see <a href='support.types'>[support.types]</a><a class='hidden_link' href='#2.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/templates.tex#L5174'>#</a></div><div id='3.sentence-1' class='sentence'>Expressions of the following form are value-dependent if either the
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>
or
<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i>
is dependent or the
<i ><a href='expr.comma#nt:expression'>expression</a></i>
or
<i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
is value-dependent:</div><pre class='ncsimplebnf'><i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>static_&shy;cast</span></span><span class='indexparent'><a class='index' id=':static_cast'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>const_&shy;cast</span></span><span class='indexparent'><a class='index' id=':const_cast'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>reinterpret_&shy;cast</span></span><span class='indexparent'><a class='index' id=':reinterpret_cast'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'><span class='parenthesis'>)</span></span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
</pre></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/templates.tex#L5193'>#</a></div><div id='4.sentence-1' class='sentence'>Expressions of the following form are value-dependent:</div><pre class='ncsimplebnf'><span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof__'></a></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'><span class='parenthesis'>)</span></span>
<i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i>
</pre></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/templates.tex#L5201'>#</a></div><div id='5.sentence-1' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> where the
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> names a dependent member of the current
instantiation is value-dependent<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
is also value-dependent if evaluating <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
as a <a href='expr.const#def:expression,core_constant'>core constant expression</a> succeeds and
the result of the evaluation refers to a templated entity
that is an object with static or thread storage duration or a member function<a class='hidden_link' href='#5.sentence-2'>.</a></div></div></div></body></html>