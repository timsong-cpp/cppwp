<!DOCTYPE html><html lang='en'><head><title>[expr.prim.req]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>7.5</a> Primary expressions <a class='abbr_ref' href='expr.prim#req'>[expr.prim]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>7.5.8</a> Requires expressions <a class='abbr_ref'>[expr.prim.req]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>7.5.8.1</a> General <a class='abbr_ref' href='expr.prim.req.general'>[expr.prim.req.general]</a></h4><div class='texpara'><a class='index' id=':expression,requires'></a></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3193'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression'><span class='textsf'><i >requires-expression</i></span></span></a> provides a concise way to express
requirements on template arguments
that can be checked by <a href='basic.lookup' title='6.5&emsp;Name lookup&emsp;[basic.lookup]'>name lookup</a>
or by checking properties of types and expressions<a class='hidden_link' href='#general-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:requires-expression'>
<a class='hidden_link' href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requires-expression'><span id=':requires-expression'>requires-expression<span class='textnormal'>:</span></span></span></a><br><span id=':requires'><span class='texttt'><span class='keyword'>requires</span></span></span> <a href='#nt:requirement-parameter-list' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-parameter-list'><span class='textsf'><i >requirement-parameter-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:requirement-body' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-body'><span class='textsf'><i >requirement-body</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement-parameter-list'>
<a class='hidden_link' href='#nt:requirement-parameter-list' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement-parameter-list'><span id=':requirement-parameter-list'>requirement-parameter-list<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement-body'>

<a class='hidden_link' href='#nt:requirement-body' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement-body'><span id=':requirement-body'>requirement-body<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='curlybracket'>{</span></span> <a href='#nt:requirement-seq' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-seq'><span class='textsf'><i >requirement-seq</i></span></span></a> <span class='terminal'><span class='curlybracket'>}</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement-seq'>
<a class='hidden_link' href='#nt:requirement-seq' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement-seq'><span id=':requirement-seq'>requirement-seq<span class='textnormal'>:</span></span></span></a><br><a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement'><span class='textsf'><i >requirement</i></span></span></a> <a href='#nt:requirement-seq' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-seq_'><span class='textsf'><i >requirement-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement'>
<a class='hidden_link' href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement'><span id=':requirement'>requirement<span class='textnormal'>:</span></span></span></a><br><a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement'><span class='textsf'><i >simple-requirement</i></span></span></a><br><a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement'><span class='textsf'><i >type-requirement</i></span></span></a><br><a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement'><span class='textsf'><i >compound-requirement</i></span></span></a><br><a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement'><span class='textsf'><i >nested-requirement</i></span></span></a>
</div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3228'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_'><span class='textsf'><i >requires-expression</i></span></span></a> is a prvalue of type <span class='texttt'><span class='keyword'>bool</span></span>
whose value is described below<a class='hidden_link' href='#general-2.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3232'>#</a></div><div class='texpara'><div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<div id='general-3.sentence-1' class='sentence'>A common use of <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression__'><span class='textsf'><i >requires-expression</i></span></span></a><i >s</i> is to define
requirements in concepts such as the one below:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>concept</span> R <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>typename</span> T<span class='operator'>::</span>type;
    <span class='curlybracket'>{</span><span class='operator'>*</span>i<span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> std<span class='operator'>::</span><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='tcode_in_codeblock'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>typename</span> T<span class='operator'>::</span>type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>;
  <span class='curlybracket'>}</span>;
</span></div> <div id='general-3.sentence-2' class='sentence'>
A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression___'><span class='textsf'><i >requires-expression</i></span></span></a> can also be used in a
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a> (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>) as a way of writing ad hoc
constraints on template arguments such as the one below:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> x <span class='operator'>+</span> x; <span class='curlybracket'>}</span>
    T add<span class='parenthesis'>(</span>T a, T b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a <span class='operator'>+</span> b; <span class='curlybracket'>}</span>
</span></div> <div id='general-3.sentence-3' class='sentence'>
The first <span id=':requires_'><span class='texttt'><span class='keyword'>requires</span></span></span> introduces the
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_'><span class='textsf'><i >requires-clause</i></span></span></a>, and the second
introduces the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression____'><span class='textsf'><i >requires-expression</i></span></span></a><a class='hidden_link' href='#general-3.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3256'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_____'><span class='textsf'><i >requires-expression</i></span></span></a> may introduce local parameters using a
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a><a class='hidden_link' href='#general-4.sentence-1'>.</a></div> <div id='general-4.sentence-2' class='sentence'>A local parameter of a <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression______'><span class='textsf'><i >requires-expression</i></span></span></a> shall not have a
default argument<a class='hidden_link' href='#general-4.sentence-2'>.</a></div> <div id='general-4.sentence-3' class='sentence'>The type of such a parameter is determined as specified for
a function parameter in <a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a><a class='hidden_link' href='#general-4.sentence-3'>.</a></div> <div id='general-4.sentence-4' class='sentence'>These parameters have no linkage, storage, or lifetime; they are only used
as notation for the purpose of defining <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement_'><span class='textsf'><i >requirement</i></span></span></a><i >s</i><a class='hidden_link' href='#general-4.sentence-4'>.</a></div> <div id='general-4.sentence-5' class='sentence'>The <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> of a
<a href='#nt:requirement-parameter-list' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-parameter-list_'><span class='textsf'><i >requirement-parameter-list</i></span></span></a>
shall not terminate with an ellipsis<a class='hidden_link' href='#general-4.sentence-5'>.</a></div> <div id='general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T t, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>    <span class='comment'>// error: terminates with an ellipsis</span>
  t;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>concept</span> C2 <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T p<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>p<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='literal'>nullptr</span>;             <span class='comment'>// OK, <span class='tcode_in_codeblock'>p</span> has type “pointer to <span class='tcode_in_codeblock'>T</span>''</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-5'><div class='marginalizedparent'><a class='marginalized' href='#general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3281'>#</a></div><div class='texpara'><div id='general-5.sentence-1' class='sentence'>The substitution of template arguments into a <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_______'><span class='textsf'><i >requires-expression</i></span></span></a>
can result in
the formation of invalid types or expressions in the immediate context of
its <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement__'><span class='textsf'><i >requirement</i></span></span></a><i >s</i> (<a href='temp.deduct.general' title='13.10.3.1&emsp;General'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>general]</a>) or
the violation of the semantic constraints of those <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement___'><span class='textsf'><i >requirement</i></span></span></a><i >s</i><a class='hidden_link' href='#general-5.sentence-1'>.</a></div> <div id='general-5.sentence-2' class='sentence'>In such cases, the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression________'><span class='textsf'><i >requires-expression</i></span></span></a> evaluates to <span id=':false'><span class='texttt'><span class='literal'>false</span></span></span>;
it does not cause the program to be ill-formed<a class='hidden_link' href='#general-5.sentence-2'>.</a></div> <div id='general-5.sentence-3' class='sentence'>The substitution and semantic constraint checking
proceeds in lexical order and stops when a condition that
determines the result of the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_________'><span class='textsf'><i >requires-expression</i></span></span></a> is encountered<a class='hidden_link' href='#general-5.sentence-3'>.</a></div> <div id='general-5.sentence-4' class='sentence'>If substitution (if any) and semantic constraint checking succeed,
the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression__________'><span class='textsf'><i >requires-expression</i></span></span></a> evaluates to <span id=':true'><span class='texttt'><span class='literal'>true</span></span></span><a class='hidden_link' href='#general-5.sentence-4'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-5.sentence-5' class='sentence'>If a <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression___________'><span class='textsf'><i >requires-expression</i></span></span></a> contains invalid types or expressions in
its <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement____'><span class='textsf'><i >requirement</i></span></span></a><i >s</i>, and it does not appear within the declaration of a templated
entity, then the program is ill-formed<a class='hidden_link' href='#general-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-5.sentence-6' class='sentence'>
If the substitution of template arguments into a <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement_____'><span class='textsf'><i >requirement</i></span></span></a>
would always result in a substitution failure, the program is ill-formed;
no diagnostic required<a class='hidden_link' href='#general-5.sentence-6'>.</a></div> <div id='general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span>
<span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='keyword'>new</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>)</span>T<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;      <span class='comment'>// ill-formed, no diagnostic required</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='simple' class='section'><h4 ><a class='secnum' href='#simple' style='min-width:95pt'>7.5.8.2</a> Simple requirements <a class='abbr_ref' href='expr.prim.req.simple'>[expr.prim.req.simple]</a></h4><div class='texpara'><a class='index' id=':requirement,simple'></a>
<div class='bnf' id='nt:simple-requirement'>
<a class='hidden_link' href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='nt:simple-requirement'><span id=':simple-requirement'>simple-requirement<span class='textnormal'>:</span></span></span></a><br><a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'>;</span>
</div></div><div class='para' id='simple-1'><div class='marginalizedparent'><a class='marginalized' href='#simple-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3319'>#</a></div><div class='texpara'><div id='simple-1.sentence-1' class='sentence'>A <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement_'><span class='textsf'><i >simple-requirement</i></span></span></a> asserts
the validity of an <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_'><span class='textsf'><i >expression</i></span></span></a><a class='hidden_link' href='#simple-1.sentence-1'>.</a></div> <div id='simple-1.sentence-2' class='sentence'>The <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__'><span class='textsf'><i >expression</i></span></span></a> is an unevaluated operand<a class='hidden_link' href='#simple-1.sentence-2'>.</a></div> <div id='simple-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#simple-note-1'>1</a></i>:&ensp;<div id='simple-1.sentence-3' class='sentence'>The enclosing <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression____________'><span class='textsf'><i >requires-expression</i></span></span></a> will evaluate to <span id=':false_'><span class='texttt'><span class='literal'>false</span></span></span>
if substitution of template arguments into the <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___'><span class='textsf'><i >expression</i></span></span></a> fails<a class='hidden_link' href='#simple-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='simple-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#simple-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span>
  <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T a, T b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    a <span class='operator'>+</span> b;          <span class='comment'>// <span class='tcode_in_codeblock'>C&lt;T&gt;</span> is <span class='tcode_in_codeblock'>true</span> if <span class='tcode_in_codeblock'>a + b</span> is a valid expression</span>
  <span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='simple-2'><div class='marginalizedparent'><a class='marginalized' href='#simple-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3336'>#</a></div><div class='texpara'><div id='simple-2.sentence-1' class='sentence'>A <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement______'><span class='textsf'><i >requirement</i></span></span></a> that starts with a <span id=':requires__'><span class='texttt'><span class='keyword'>requires</span></span></span> token
is never interpreted as a <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement__'><span class='textsf'><i >simple-requirement</i></span></span></a><a class='hidden_link' href='#simple-2.sentence-1'>.</a></div> <div id='simple-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#simple-note-2'>2</a></i>:&ensp;<div id='simple-2.sentence-2' class='sentence'>This simplifies distinguishing between a <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement___'><span class='textsf'><i >simple-requirement</i></span></span></a>
and a <a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement_'><span class='textsf'><i >nested-requirement</i></span></span></a><a class='hidden_link' href='#simple-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='type' class='section'><h4 ><a class='secnum' href='#type' style='min-width:95pt'>7.5.8.3</a> Type requirements <a class='abbr_ref' href='expr.prim.req.type'>[expr.prim.req.type]</a></h4><div class='texpara'><a class='index' id=':requirement,type'></a>
<div class='bnf' id='nt:type-requirement'>
<a class='hidden_link' href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='nt:type-requirement'><span id=':type-requirement'>type-requirement<span class='textnormal'>:</span></span></span></a><br><span id=':typename'><span class='texttt'><span class='keyword'>typename</span></span></span> <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> <span class='terminal'>;</span><br><span id=':typename_'><span class='texttt'><span class='keyword'>typename</span></span></span> <a href='basic.splice#nt:splice-specifier' title='6.6&emsp;Splice specifiers&emsp;[basic.splice]'><span id='ntref:splice-specifier'><span class='textsf'><i >splice-specifier</i></span></span></a><br><span id=':typename__'><span class='texttt'><span class='keyword'>typename</span></span></span> <a href='basic.splice#nt:splice-specialization-specifier' title='6.6&emsp;Splice specifiers&emsp;[basic.splice]'><span id='ntref:splice-specialization-specifier'><span class='textsf'><i >splice-specialization-specifier</i></span></span></a>
</div></div><div class='para' id='type-1'><div class='marginalizedparent'><a class='marginalized' href='#type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3354'>#</a></div><div class='texpara'><div id='type-1.sentence-1' class='sentence'>A <a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement_'><span class='textsf'><i >type-requirement</i></span></span></a> asserts the validity of a type<a class='hidden_link' href='#type-1.sentence-1'>.</a></div> <div id='type-1.sentence-2' class='sentence'>The component names of a <a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement__'><span class='textsf'><i >type-requirement</i></span></span></a> are those of its
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a> (if any) and
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_'><span class='textsf'><i >type-name</i></span></span></a> (if any)<a class='hidden_link' href='#type-1.sentence-2'>.</a></div> <div id='type-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#type-note-1'>1</a></i>:&ensp;<div id='type-1.sentence-3' class='sentence'>The enclosing <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_____________'><span class='textsf'><i >requires-expression</i></span></span></a> will evaluate to <span id=':false__'><span class='texttt'><span class='literal'>false</span></span></span>
if substitution of template arguments fails<a class='hidden_link' href='#type-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='type-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#type-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> T<span class='operator'>::</span>type <span class='operator'>=</span> <span class='literal'>0</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> Ref <span class='operator'>=</span> T<span class='operator'>&amp;</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>inner;        <span class='comment'>// required nested member name</span>
  <span class='keyword'>typename</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;            <span class='comment'>// required valid (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>) <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a>; fails if <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;type</span> does not exist as a type</span>
                            <span class='comment'>// to which <span class='tcode_in_codeblock'>0</span> can be implicitly converted</span>
  <span class='keyword'>typename</span> Ref<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;          <span class='comment'>// required alias template substitution, fails if <span class='tcode_in_codeblock'>T</span> is void</span>
  <span class='keyword'>typename</span> <span class='squarebracket'>[</span><span class='operator'>:</span>T<span class='operator'>::</span>r1<span class='operator'>:</span><span class='squarebracket'>]</span>;       <span class='comment'>// fails if <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;r1</span> is not a reflection of a type</span>
  <span class='keyword'>typename</span> <span class='squarebracket'>[</span><span class='operator'>:</span>T<span class='operator'>::</span>r2<span class='operator'>:</span><span class='squarebracket'>]</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>;  <span class='comment'>// fails if <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;r2</span> is not a reflection of a template <span class='tcode_in_codeblock'>Z</span> for which <span class='tcode_in_codeblock'>Z&lt;int&gt;</span> is a type</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='type-2'><div class='marginalizedparent'><a class='marginalized' href='#type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3379'>#</a></div><div class='texpara'><div id='type-2.sentence-1' class='sentence'>A <a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement___'><span class='textsf'><i >type-requirement</i></span></span></a> that names a class template specialization
does not require that type to be complete (<a href='basic.types.general#term.incomplete.type' title='6.9.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#type-2.sentence-1'>.</a></div></div></div></div><div id='compound' class='section'><h4 ><a class='secnum' href='#compound' style='min-width:95pt'>7.5.8.4</a> Compound requirements <a class='abbr_ref' href='expr.prim.req.compound'>[expr.prim.req.compound]</a></h4><div class='texpara'><a class='index' id=':requirement,compound'></a>
<div class='bnf' id='nt:compound-requirement'>
<a class='hidden_link' href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='nt:compound-requirement'><span id=':compound-requirement'>compound-requirement<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='curlybracket'>{</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='curlybracket'>}</span></span> <span id=':noexcept'><span class='texttt'><span class='keyword'>noexcept</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:return-type-requirement'><span class='textsf'><i >return-type-requirement</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</div></div><div class='texpara'><div class='bnf' id='nt:return-type-requirement'>
<a class='hidden_link' href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='nt:return-type-requirement'><span id=':return-type-requirement'>return-type-requirement<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint'><span class='textsf'><i >type-constraint</i></span></span></a>
</div></div><div class='para' id='compound-1'><div class='marginalizedparent'><a class='marginalized' href='#compound-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3396'>#</a></div><div class='texpara'><div id='compound-1.sentence-1' class='sentence'>A <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement_'><span class='textsf'><i >compound-requirement</i></span></span></a> asserts properties
of the <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____'><span class='textsf'><i >expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#compound-1.sentence-1'>.</a></div> <div id='compound-1.sentence-2' class='sentence'>The <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______'><span class='textsf'><i >expression</i></span></span></a> is an unevaluated operand<a class='hidden_link' href='#compound-1.sentence-2'>.</a></div> <div id='compound-1.sentence-3' class='sentence'>Substitution
of template arguments (if any) and verification of
semantic properties proceed in the following order:
<ul class='itemize'><li id='compound-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.1'>(1.1)</a></div><div class='texpara'><div id='compound-1.1.sentence-1' class='sentence'>Substitution of template arguments (if any)
into the <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_______'><span class='textsf'><i >expression</i></span></span></a> is performed<a class='hidden_link' href='#compound-1.1.sentence-1'>.</a></div></div></li><li id='compound-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.2'>(1.2)</a></div><div class='texpara'><div id='compound-1.2.sentence-1' class='sentence'>If the <span id=':noexcept_'><span class='texttt'><span class='keyword'>noexcept</span></span></span> specifier is present,
<span class='math'><span class='mathalpha'>E</span></span> shall not be a potentially-throwing expression (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#compound-1.2.sentence-1'>.</a></div></div></li><li id='compound-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.3'>(1.3)</a></div><div class='texpara'><div id='compound-1.3.sentence-1' class='sentence'>If the <a href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:return-type-requirement_'><span class='textsf'><i >return-type-requirement</i></span></span></a> is present, then:
<ul class='itemize'><li id='compound-1.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#compound-1.3.1'>(1.3.1)</a></div><div class='texpara'><div id='compound-1.3.1.sentence-1' class='sentence'>Substitution of template arguments (if any)
into the <a href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:return-type-requirement__'><span class='textsf'><i >return-type-requirement</i></span></span></a> is performed<a class='hidden_link' href='#compound-1.3.1.sentence-1'>.</a></div></div></li><li id='compound-1.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#compound-1.3.2'>(1.3.2)</a></div><div class='texpara'><div id='compound-1.3.2.sentence-1' class='sentence'>The immediately-declared constraint (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>)
of the <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint_'><span class='textsf'><i >type-constraint</i></span></span></a> for <span class='texttt'><span id=':decltype'><span class='texttt'><span class='keyword'>decltype</span></span></span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
shall be satisfied<a class='hidden_link' href='#compound-1.3.2.sentence-1'>.</a></div></div></li></ul></div> <div id='compound-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#compound-example-1'>1</a></i>:&ensp;<div id='compound-1.3.sentence-2' class='sentence'>Given concepts <span class='texttt'>C</span> and <span class='texttt'>D</span>,
<span class='codeblock'><span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span> E1 <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C;
  <span class='curlybracket'>{</span> E2 <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> D<span class='anglebracket'>&lt;</span>A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>, <span class='math'>⋯</span>, A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span>
is equivalent to
<span class='codeblock'><span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  E1; <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>;
  E2; <span class='keyword'>requires</span> D<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>E2<span class='parenthesis'>)</span><span class='parenthesis'>)</span>, A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>, <span class='math'>⋯</span>, A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span>
(including in the case where <span class='math'><span class='mathalpha'>n</span></span> is zero)<a class='hidden_link' href='#compound-1.3.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para nonNormativeOnly' id='compound-2'><div class='marginalizedparent'><a class='marginalized' href='#compound-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3442'>#</a></div><div class='texpara'><div id='compound-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#compound-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C1 <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span>x<span class='operator'>+</span><span class='operator'>+</span><span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
</span> <div id='compound-2.sentence-1' class='sentence'>
The <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement__'><span class='textsf'><i >compound-requirement</i></span></span></a> in <span class='texttt'>C1</span>
requires that <span class='texttt'>x<span class='operator'>+</span><span class='operator'>+</span></span> is a valid expression<a class='hidden_link' href='#compound-2.sentence-1'>.</a></div> <div id='compound-2.sentence-2' class='sentence'>It is equivalent to the <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement____'><span class='textsf'><i >simple-requirement</i></span></span></a>
<span class='texttt'>x<span class='operator'>+</span><span class='operator'>+</span>;</span><a class='hidden_link' href='#compound-2.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C2 <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span><span class='operator'>*</span>x<span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> std<span class='operator'>::</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='operator'>::</span>inner<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='compound-2.sentence-3' class='sentence'>The <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement___'><span class='textsf'><i >compound-requirement</i></span></span></a> in <span class='texttt'>C2</span>
requires that <span class='texttt'><span class='operator'>*</span>x</span> is a valid expression,
that <span class='texttt'><span class='keyword'>typename</span> T<span class='operator'>&#x200b;::&#x200b;</span>inner</span> is a valid type, and
that <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as_'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='operator'>*</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span>, <span class='keyword'>typename</span> T<span class='operator'>&#x200b;::&#x200b;</span>inner<span class='anglebracket'>&gt;</span></span> is satisfied<a class='hidden_link' href='#compound-2.sentence-3'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C3 <span class='operator'>=</span>
  <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='curlybracket'>{</span>g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='curlybracket'>}</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='compound-2.sentence-4' class='sentence'>The <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement____'><span class='textsf'><i >compound-requirement</i></span></span></a> in <span class='texttt'>C3</span>
requires that <span class='texttt'>g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> is a valid expression and
that <span class='texttt'>g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> is non-throwing<a class='hidden_link' href='#compound-2.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='nested' class='section'><h4 ><a class='secnum' href='#nested' style='min-width:95pt'>7.5.8.5</a> Nested requirements <a class='abbr_ref' href='expr.prim.req.nested'>[expr.prim.req.nested]</a></h4><div class='texpara'><a class='index' id=':requirement,nested'></a>
<div class='bnf' id='nt:nested-requirement'>
<a class='hidden_link' href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='nt:nested-requirement'><span id=':nested-requirement'>nested-requirement<span class='textnormal'>:</span></span></span></a><br><span id=':requires___'><span class='texttt'><span class='keyword'>requires</span></span></span> <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a> <span class='terminal'>;</span>
</div></div><div class='para' id='nested-1'><div class='marginalizedparent'><a class='marginalized' href='#nested-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/expressions.tex#L3485'>#</a></div><div class='texpara'><div id='nested-1.sentence-1' class='sentence'>A <a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement__'><span class='textsf'><i >nested-requirement</i></span></span></a> can be used
to specify additional constraints in terms of local parameters<a class='hidden_link' href='#nested-1.sentence-1'>.</a></div> <div id='nested-1.sentence-2' class='sentence'>The <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression_'><span class='textsf'><i >constraint-expression</i></span></span></a>
shall be satisfied (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>)
by the substituted template arguments, if any<a class='hidden_link' href='#nested-1.sentence-2'>.</a></div> <div id='nested-1.sentence-3' class='sentence'>Substitution of template arguments into a <a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement___'><span class='textsf'><i >nested-requirement</i></span></span></a>
does not result in substitution into the <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression__'><span class='textsf'><i >constraint-expression</i></span></span></a>
other than as specified in <a href='temp.constr.constr' title='13.5.2&emsp;Constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>constr]</a><a class='hidden_link' href='#nested-1.sentence-3'>.</a></div> <div id='nested-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#nested-example-1'>1</a></i>:&ensp;<div id='nested-1.sentence-4' class='sentence'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span> <span class='parenthesis'>(</span><span class='operator'>+</span>t<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span>
<span class='texttt'>D<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is satisfied if <span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>decltype</span> <span class='parenthesis'>(</span><span class='operator'>+</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span></span> (<a href='temp.constr.atomic' title='13.5.2.3&emsp;Atomic constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>atomic]</a>)<a class='hidden_link' href='#nested-1.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> 
</div></div></div></div></body></html>