<!DOCTYPE html><html lang='en'><head><title>[basic.start.main]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>3</a> Basic concepts <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>3.6</a> Start and termination <a class='abbr_ref' href='basic.start#main'>[basic.start]</a></h2><div id='basic.start.main'><h3 ><a class='secnum' style='min-width:103pt'>3.6.1</a> Main function <a class='abbr_ref'>[basic.start.main]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b63d68ab7bc08f5e969a5b44b000941e6e82eb2e/source/basic.tex#L2432'>#</a></div><p ><span class='indexparent'><a class='index' id='program,start'></a></span><span class='indexparent'><a class='index' id='main()'></a></span>A program shall contain a global function called <span class='texttt'>main</span>, which is the designated
start of the program. It is <span class='indexparent'><a class='index' id='defining_main_in_freestanding_environment'></a></span>implementation-defined
whether a program in a freestanding environment is required to define a <span class='texttt'>main</span>
function. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> In a freestanding environment, start-up and termination is
<span class='indexparent'><a class='index' id='start-up_and_termination_in_freestanding_environment'></a></span>implementation-defined; start-up contains the
execution of constructors for objects of namespace scope with static storage duration;
termination contains the execution of destructors for objects with static storage
duration. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b63d68ab7bc08f5e969a5b44b000941e6e82eb2e/source/basic.tex#L2444'>#</a></div><p >An implementation shall not predefine the <span class='texttt'>main</span> function. This
function shall not be overloaded.  Its type shall have C++ language linkage
and it shall have a declared return type of type
<span class='texttt'>int</span>, but otherwise its type is <span class='indexparent'><a class='index' id='parameters_to_main'></a></span>implementation-defined.
<span class='indexparent'><a class='index' id='main(),implementation-defined_parameters_to'></a></span>An implementation shall allow both
</p><ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div><p >a function of <span class='texttt'>()</span> returning <span class='texttt'>int</span> and
</p></li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div><p >a function of <span class='texttt'>(int</span>, pointer to pointer to <span class='texttt'>char)</span> returning <span class='texttt'>int</span>
</p></li></ul><p ><span class='indexparent'><a class='index' id='argc'></a></span><span class='indexparent'><a class='index' id='argv'></a></span>as the type of <span class='texttt'>main</span> (<a href='dcl.fct'>[dcl.fct]</a>).
<span class='indexparent'><a class='index' id='main(),parameters_to'></a></span><span class='indexparent'><a class='index' id='environment,program'></a></span>In the latter form, for purposes of exposition, the first function
parameter is called <span class='texttt'>argc</span> and the second function parameter is
called <span class='texttt'>argv</span>, where <span class='texttt'>argc</span> shall be the number of
arguments passed to the program from the environment in which the
program is run. If
<span class='texttt'>argc</span> is nonzero these arguments shall be supplied in
<span class='texttt'>argv[0]</span> through <span class='texttt'>argv[argc-1]</span> as pointers to the initial
characters of null-terminated multibyte strings (<span class='textsc'>ntmbs</span>
s) (<a href='multibyte.strings'>[multibyte.strings]</a>) and <span class='texttt'>argv[0]</span> shall be the pointer to
the initial character of a <span class='textsc'>ntmbs</span> that represents the name used to
invoke the program or <span class='texttt'>""</span>. The value of <span class='texttt'>argc</span> shall be
non-negative. The value of <span class='texttt'>argv[argc]</span> shall be 0. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> It
is recommended that any further (optional) parameters be added after
<span class='texttt'>argv</span>. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b63d68ab7bc08f5e969a5b44b000941e6e82eb2e/source/basic.tex#L2476'>#</a></div><p >The function <span class='texttt'>main</span> shall not be used within
a program.
<span class='indexparent'><a class='index' id='main(),implementation-defined_linkage_of'></a></span>The linkage (<a href='basic.link'>[basic.link]</a>) of <span class='texttt'>main</span> is
<span class='indexparent'><a class='index' id='linkage_of_main'></a></span>implementation-defined. A program that defines <span class='texttt'>main</span> as
deleted or that declares <span class='texttt'>main</span> to be
<span class='texttt'>inline</span>, <span class='texttt'>static</span>, or <span class='texttt'>constexpr</span> is ill-formed.
The <span class='texttt'>main</span> function shall not be declared with a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i> (<a href='dcl.link'>[dcl.link]</a>).  A program that
declares a variable <span class='texttt'>main</span> at global scope or that declares the name
<span class='texttt'>main</span> with C language linkage (in any namespace) is ill-formed.
The name <span class='texttt'>main</span> is
not otherwise reserved. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> Member functions, classes, and
enumerations can be called <span class='texttt'>main</span>, as can entities in other
namespaces. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b63d68ab7bc08f5e969a5b44b000941e6e82eb2e/source/basic.tex#L2493'>#</a></div><p ><span class='indexparent'><a class='index' id='exit'></a></span><span class='indexparent'><a class='index' id='exit'></a></span><span class='indexparent'><a class='index' id='termination,program'></a></span>Terminating the program
without leaving the current block (e.g., by calling the function
<span class='texttt'>std&#x200b;::&#x200b;exit(int)</span> (<a href='support.start.term'>[support.start.term]</a>)) does not destroy any
objects with automatic storage duration (<a href='class.dtor'>[class.dtor]</a>). If
<span class='texttt'>std&#x200b;::&#x200b;exit</span> is called to end a program during the destruction of
an object with static or thread storage duration, the program has undefined
behavior.</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b63d68ab7bc08f5e969a5b44b000941e6e82eb2e/source/basic.tex#L2505'>#</a></div><p ><span class='indexparent'><a class='index' id='termination,program'></a></span><span class='indexparent'><a class='index' id='main(),return_from'></a></span>A return statement in <span class='texttt'>main</span> has the effect of leaving the main
function (destroying any objects with automatic storage duration) and
calling <span class='texttt'>std&#x200b;::&#x200b;exit</span> with the return value as the argument.
If control flows off the end of
the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> of <span class='texttt'>main</span>,
the effect is equivalent to a <span class='texttt'>return</span> with operand <span class='texttt'>0</span>
(see also <a href='except.handle'>[except.handle]</a>).</p></div></div></div></body></html>