<!DOCTYPE html><html lang='en'><head><title>[variant]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>22</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>22.6</a> Variants <a class='abbr_ref'>[variant]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>22.6.1</a> General <a class='abbr_ref' href='variant.general'>[variant.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L4942'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>A variant object holds and manages the lifetime of a value<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>If the <span class='texttt'>variant</span> holds a value, that value's type has to be one
of the template argument types given to <span class='texttt'>variant</span><a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>These template arguments are called alternatives<a class='hidden_link' href='#general-1.sentence-3'>.</a></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L4948'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>In [variant],
<span class='texttt'><i >GET</i></span> denotes
a set of exposition-only function templates (<a href='#get' title='22.6.5&emsp;Value access'>[variant.<span class='shy'></span>get]</a>)<a class='hidden_link' href='#general-2.sentence-1'>.</a></div></div></div></div><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:80pt'>22.6.2</a> Header <span class='texttt'>&lt;variant&gt;</span> synopsis <a class='abbr_ref' href='variant.syn'>[variant.syn]</a></h3><div class='texpara'><a class='index' id='header:<variant>'></a>
<span class='codeblock'><span class='comment'>// mostly freestanding</span>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>compare<span class='anglebracket'>&gt;</span>              <span class='comment'>// see <a href='compare.syn' title='17.11.1&emsp;Header &lt;compare&gt; synopsis'>[compare.<span class='shy'></span>syn]</a></span>

<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='comment'>// <a href='#variant' title='22.6.3&emsp;Class template variant'>[variant.<span class='shy'></span>variant]</a>, class template <span class='tcode_in_codeblock'>variant</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> variant;

  <span class='comment'>// <a href='#helper' title='22.6.4&emsp;variant helper classes'>[variant.<span class='shy'></span>helper]</a>, variant helper classes</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size;                        <span class='comment'>// <i >not defined</i></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> size_t <span id='lib:variant_size_v'><a class='hidden_link' href='#lib:variant_size_v' title='22.6.2&emsp;Header &lt;variant&gt; synopsis&emsp;[variant.syn]'>variant_size_v</a></span> <span class='operator'>=</span> variant_size<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>value;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_alternative;       <span class='comment'>// <i >not defined</i></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> <span id='lib:variant_alternative_t'><a class='hidden_link' href='#lib:variant_alternative_t' title='22.6.2&emsp;Header &lt;variant&gt; synopsis&emsp;[variant.syn]'>variant_alternative_t</a></span> <span class='operator'>=</span> <span class='keyword'>typename</span> variant_alternative<span class='anglebracket'>&lt;</span>I, T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>type;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> variant_alternative<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>inline</span> <span class='keyword'>constexpr</span> size_t variant_npos <span class='operator'>=</span> <span class='operator'>-</span><span class='literal'>1</span>;

  <span class='comment'>// <a href='#get' title='22.6.5&emsp;Value access'>[variant.<span class='shy'></span>get]</a>, value access</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> holds_alternative<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>
      get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                                          <span class='comment'>// freestanding-deleted</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>
      get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                                         <span class='comment'>// freestanding-deleted</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>
      get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                                    <span class='comment'>// freestanding-deleted</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>
      get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                                   <span class='comment'>// freestanding-deleted</span>

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                               <span class='comment'>// freestanding-deleted</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                             <span class='comment'>// freestanding-deleted</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                   <span class='comment'>// freestanding-deleted</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                 <span class='comment'>// freestanding-deleted</span>

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='#relops' title='22.6.6&emsp;Relational operators'>[variant.<span class='shy'></span>relops]</a>, relational operators</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><a href='cmp.concept#concept:three_way_comparable' title='17.11.4&emsp;Concept three_&shy;way_&shy;comparable&emsp;[cmp.concept]'><span id='conceptref:three_way_comparable'><span class='tcode_in_codeblock'>three_<span class='shy'></span>way_<span class='shy'></span>comparable</span></span></a><span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>
    <span class='keyword'>constexpr</span> common_comparison_category_t<span class='anglebracket'>&lt;</span>compare_three_way_result_t<span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
      <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#visit' title='22.6.7&emsp;Visitation'>[variant.<span class='shy'></span>visit]</a>, visitation</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <i ><span class='texttt'>see below</span></i> visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> R visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#monostate' title='22.6.8&emsp;Class monostate'>[variant.<span class='shy'></span>monostate]</a>, class <span class='tcode_in_codeblock'>monostate</span></span>
  <span class='keyword'>struct</span> monostate;

  <span class='comment'>// <a href='#monostate.relops' title='22.6.9&emsp;monostate relational operators'>[variant.<span class='shy'></span>monostate.<span class='shy'></span>relops]</a>, <span class='tcode_in_codeblock'>monostate</span> relational operators</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>constexpr</span> strong_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='#specalg' title='22.6.10&emsp;Specialized algorithms'>[variant.<span class='shy'></span>specalg]</a>, specialized algorithms</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#bad.access' title='22.6.11&emsp;Class bad_&shy;variant_&shy;access'>[variant.<span class='shy'></span>bad.<span class='shy'></span>access]</a>, class <span class='tcode_in_codeblock'>bad_<span class='shy'></span>variant_<span class='shy'></span>access</span></span>
  <span class='keyword'>class</span> bad_variant_access;

  <span class='comment'>// <a href='#hash' title='22.6.12&emsp;Hash support'>[variant.<span class='shy'></span>hash]</a>, hash support</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>monostate<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</span></div></div><div id='variant' class='section'><h3 ><a class='secnum' href='#variant' style='min-width:80pt'>22.6.3</a> Class template <span class='texttt'>variant</span> <a class='abbr_ref' href='variant.variant'>[variant.variant]</a></h3><div class='texpara'><a class='index' id='lib:variant'></a></div><div id='variant.general' class='section'><h4 ><a class='secnum' href='#variant.general' style='min-width:95pt'>22.6.3.1</a> General <a class='abbr_ref' href='variant.variant.general'>[variant.variant.general]</a></h4><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> variant <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='comment'>// <a href='#ctor' title='22.6.3.2&emsp;Constructors'>[variant.<span class='shy'></span>ctor]</a>, constructors</span>
    <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#dtor' title='22.6.3.3&emsp;Destructor'>[variant.<span class='shy'></span>dtor]</a>, destructor</span>
    <span class='keyword'>constexpr</span> <span class='operator'>~</span>variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#assign' title='22.6.3.4&emsp;Assignment'>[variant.<span class='shy'></span>assign]</a>, assignment</span>
    <span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#mod' title='22.6.3.5&emsp;Modifiers'>[variant.<span class='shy'></span>mod]</a>, modifiers</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>
        emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#status' title='22.6.3.6&emsp;Value status'>[variant.<span class='shy'></span>status]</a>, value status</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> size_t index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='comment'>// <a href='#swap' title='22.6.3.7&emsp;Swap'>[variant.<span class='shy'></span>swap]</a>, swap</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#visit' title='22.6.7&emsp;Visitation'>[variant.<span class='shy'></span>visit]</a>, visitation</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Self, <span class='keyword'>class</span> Visitor<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>)</span> visit<span class='parenthesis'>(</span><span class='keyword'>this</span> Self<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> Self, <span class='keyword'>class</span> Visitor<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> R visit<span class='parenthesis'>(</span><span class='keyword'>this</span> Self<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='para' id='variant.general-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5132'>#</a></div><div class='texpara'><div id='variant.general-1.sentence-1' class='sentence'>Any instance of <span class='texttt'>variant</span> at any given time either holds a value
of one of its alternative types or holds no value<a class='hidden_link' href='#variant.general-1.sentence-1'>.</a></div> <div id='variant.general-1.sentence-2' class='sentence'>When an instance of <span class='texttt'>variant</span> holds a value of alternative type <span class='texttt'>T</span>,
it means that a value of type <span class='texttt'>T</span>, referred to as the <span class='texttt'>variant</span>
object's <a class='hidden_link' href='#def:contained_value,variant' title='22.6.3.1&emsp;General&emsp;[variant.variant.general]'><span id='def:contained_value,variant'><i >contained value</i></span></a>, is allocated within the storage of the
<span class='texttt'>variant</span> object<a class='hidden_link' href='#variant.general-1.sentence-2'>.</a></div> <div id='variant.general-1.sentence-3' class='sentence'>Implementations are not permitted to use additional storage, such as dynamic
memory, to allocate the contained value<a class='hidden_link' href='#variant.general-1.sentence-3'>.</a></div></div></div><div class='para' id='variant.general-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5142'>#</a></div><div class='texpara'><div id='variant.general-2.sentence-1' class='sentence'>All types in <span class='texttt'>Types</span> shall meet
the <i >Cpp17Destructible</i> requirements (Table <a href='utility.arg.requirements#tab:cpp17.destructible' title='Table 35: Cpp17Destructible requirements'>35</a>)<a class='hidden_link' href='#variant.general-2.sentence-1'>.</a></div></div></div><div class='para' id='variant.general-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5146'>#</a></div><div class='texpara'><div id='variant.general-3.sentence-1' class='sentence'>A program that instantiates the definition of <span class='texttt'>variant</span> with
no template arguments is ill-formed<a class='hidden_link' href='#variant.general-3.sentence-1'>.</a></div></div></div><div class='para' id='variant.general-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5150'>#</a></div><div class='texpara'><div id='variant.general-4.sentence-1' class='sentence'>If a program declares an explicit or partial specialization of <span class='texttt'>variant</span>,
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#variant.general-4.sentence-1'>.</a></div></div></div></div><div id='ctor' class='section'><h4 ><a class='secnum' href='#ctor' style='min-width:95pt'>22.6.3.2</a> Constructors <a class='abbr_ref' href='variant.ctor'>[variant.ctor]</a></h4><div class='para' id='ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5156'>#</a></div><div class='texpara'><div id='ctor-1.sentence-1' class='sentence'>In the descriptions that follow, let <span class='math'><span class='mathalpha'>i</span></span> be in the range [<span class='texttt'><span class='literal'>0</span>, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span>),
and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> be the <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span></span> type in <span class='texttt'>Types</span><a class='hidden_link' href='#ctor-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:variant,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5166'>#</a></div><div class='texpara'><div id='ctor-2.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>default_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-2.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5170'>#</a></div><div class='texpara'><div id='ctor-3.sentence-1' class='sentence'><i >Effects</i>: Constructs a <span class='texttt'>variant</span> holding a value-initialized value of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-3.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5174'>#</a></div><div class='texpara'><div id='ctor-4.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span> and <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>0</span></span><a class='hidden_link' href='#ctor-4.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5178'>#</a></div><div class='texpara'><div id='ctor-5.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the value-initialization of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-5.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5182'>#</a></div><div class='texpara'><div id='ctor-6.sentence-1' class='sentence'><i >Remarks</i>: This function is <span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span> if and only if the
value-initialization of the alternative type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span>
would be constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#ctor-6.sentence-1'>.</a></div> <div id='ctor-6.sentence-2' class='sentence'>The exception specification is equivalent to
<span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>default_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ctor-6.sentence-2'>.</a></div> <div id='ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor-note-1'>1</a></i>:&ensp;<div id='ctor-6.sentence-3' class='sentence'>See also class <span class='texttt'>monostate</span><a class='hidden_link' href='#ctor-6.sentence-3'>.</a></div> &nbsp;<i>end note</i>]</div></div></div></div></div><div class='texpara'><div id='lib:variant,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor_'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5200'>#</a></div><div class='texpara'><div id='ctor-7.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value
with <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span>j<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span>, where <span class='texttt'>j</span> is <span class='texttt'>w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-7.sentence-1'>.</a></div> <div id='ctor-7.sentence-2' class='sentence'>Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value<a class='hidden_link' href='#ctor-7.sentence-2'>.</a></div></div></div></div><div class='para' id='ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5207'>#</a></div><div class='texpara'><div id='ctor-8.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by direct-initializing any <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-8.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5211'>#</a></div><div class='texpara'><div id='ctor-9.sentence-1' class='sentence'><i >Remarks</i>: This constructor is defined as deleted unless
<span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-9.sentence-1'>.</a></div> <div id='ctor-9.sentence-2' class='sentence'>If <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span>, this constructor is trivial<a class='hidden_link' href='#ctor-9.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor__'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5225'>#</a></div><div class='texpara'><div id='ctor-10.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-10.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5229'>#</a></div><div class='texpara'><div id='ctor-11.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value with
<span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span>j<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>, where <span class='texttt'>j</span> is <span class='texttt'>w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-11.sentence-1'>.</a></div> <div id='ctor-11.sentence-2' class='sentence'>Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value<a class='hidden_link' href='#ctor-11.sentence-2'>.</a></div></div></div></div><div class='para' id='ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5236'>#</a></div><div class='texpara'><div id='ctor-12.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by move-constructing any <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-12.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5240'>#</a></div><div class='texpara'><div id='ctor-13.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to the logical <span class='textsc'>and</span> of
<span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-13.sentence-1'>.</a></div> <div id='ctor-13.sentence-2' class='sentence'>If <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span>, this constructor is trivial<a class='hidden_link' href='#ctor-13.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor___'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5254'>#</a></div><div class='texpara'><div id='ctor-14.sentence-1' class='sentence'>Let <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span></span>
for each alternative type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
for which <span class='texttt'><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> x<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span></span> <span class='texttt'><span class='curlybracket'>{</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='curlybracket'>}</span>;</span>
is well-formed for some invented variable <span class='texttt'>x</span><a class='hidden_link' href='#ctor-14.sentence-1'>.</a></div> <div id='ctor-14.sentence-2' class='sentence'>The overload <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span></span> selected by overload
resolution for the expression <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>&#x200b;t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> defines
the alternative <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span> which is the type of the contained value after
construction<a class='hidden_link' href='#ctor-14.sentence-2'>.</a></div></div></div></div><div class='para' id='ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5265'>#</a></div><div class='texpara'><div id='ctor-15.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ctor-15.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-15.1'>(15.1)</a></div><span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span> is nonzero,</li><li id='ctor-15.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-15.2'>(15.2)</a></div><span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, variant<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-15.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-15.3'>(15.3)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is neither
a specialization of <span class='texttt'>in_<span class='shy'></span>place_<span class='shy'></span>type_<span class='shy'></span>t</span> nor
a specialization of <span class='texttt'>in_<span class='shy'></span>place_<span class='shy'></span>index_<span class='shy'></span>t</span>,</li><li id='ctor-15.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-15.4'>(15.4)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='ctor-15.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-15.5'>(15.5)</a></div>the expression <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span></span>&#x200b;<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
(with <span class='texttt'><i >FUN</i></span> being the above-mentioned set of
imaginary functions) is well-formed<a class='hidden_link' href='#ctor-15.sentence-1'>.</a> <div class='texpara'><div id='ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor-note-2'>2</a></i>:&ensp;<div id='ctor-15.5.sentence-2' class='sentence'><span class='codeblock'>variant<span class='anglebracket'>&lt;</span>string, string<span class='anglebracket'>&gt;</span> v<span class='parenthesis'>(</span><span class='literal'>"abc"</span><span class='parenthesis'>)</span>;
</span>
is ill-formed, as both alternative types have an equally viable constructor
for the argument<a class='hidden_link' href='#ctor-15.5.sentence-2'>.</a></div> &nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div></div><div class='para' id='ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5295'>#</a></div><div class='texpara'><div id='ctor-16.sentence-1' class='sentence'><i >Effects</i>: Initializes <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> to hold the alternative type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span> and
direct-non-list-initializes the contained value with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-16.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5300'>#</a></div><div class='texpara'><div id='ctor-17.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>holds_<span class='shy'></span>alternative<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-17.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5304'>#</a></div><div class='texpara'><div id='ctor-18.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the selected alternative <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-18.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5308'>#</a></div><div class='texpara'><div id='ctor-19.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to
<span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ctor-19.sentence-1'>.</a></div> <div id='ctor-19.sentence-2' class='sentence'>If <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor,
this constructor is a constexpr constructor<a class='hidden_link' href='#ctor-19.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor____'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5322'>#</a></div><div class='texpara'><div id='ctor-20.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ctor-20.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-20.1'>(20.1)</a></div>There is exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and</li><li id='ctor-20.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-20.2'>(20.2)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-20.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5329'>#</a></div><div class='texpara'><div id='ctor-21.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes the contained value of type <span class='texttt'>T</span>
with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-21.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5334'>#</a></div><div class='texpara'><div id='ctor-22.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>holds_<span class='shy'></span>alternative<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-22.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5338'>#</a></div><div class='texpara'><div id='ctor-23.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by calling the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-23.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5342'>#</a></div><div class='texpara'><div id='ctor-24.sentence-1' class='sentence'><i >Remarks</i>: If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor is a constexpr constructor<a class='hidden_link' href='#ctor-24.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,constructor_____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor_____'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5355'>#</a></div><div class='texpara'><div id='ctor-25.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ctor-25.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-25.1'>(25.1)</a></div>There is exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and</li><li id='ctor-25.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-25.2'>(25.2)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-25.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5362'>#</a></div><div class='texpara'><div id='ctor-26.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes the contained value of type <span class='texttt'>T</span>
with <span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>&#x200b;args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-26.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5367'>#</a></div><div class='texpara'><div id='ctor-27.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>holds_<span class='shy'></span>alternative<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-27.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5371'>#</a></div><div class='texpara'><div id='ctor-28.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by calling the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-28.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5375'>#</a></div><div class='texpara'><div id='ctor-29.sentence-1' class='sentence'><i >Remarks</i>: If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor is a constexpr constructor<a class='hidden_link' href='#ctor-29.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,constructor______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor______'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5387'>#</a></div><div class='texpara'><div id='ctor-30.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ctor-30.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-30.1'>(30.1)</a></div><span class='texttt'>I</span> is less than <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span> and</li><li id='ctor-30.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-30.2'>(30.2)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-30.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ctor-31'><div class='marginalizedparent'><a class='marginalized' href='#ctor-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5396'>#</a></div><div class='texpara'><div id='ctor-31.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes the contained value of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>
with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-31.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-32'><div class='marginalizedparent'><a class='marginalized' href='#ctor-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5401'>#</a></div><div class='texpara'><div id='ctor-32.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#ctor-32.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-33'><div class='marginalizedparent'><a class='marginalized' href='#ctor-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5405'>#</a></div><div class='texpara'><div id='ctor-33.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by calling the selected constructor of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-33.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-34'><div class='marginalizedparent'><a class='marginalized' href='#ctor-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5409'>#</a></div><div class='texpara'><div id='ctor-34.sentence-1' class='sentence'><i >Remarks</i>: If <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor is a constexpr constructor<a class='hidden_link' href='#ctor-34.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,constructor_______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,constructor_______'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ctor-35'><div class='marginalizedparent'><a class='marginalized' href='#ctor-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5422'>#</a></div><div class='texpara'><div id='ctor-35.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ctor-35.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-35.1'>(35.1)</a></div><span class='texttt'>I</span> is less than <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span> and</li><li id='ctor-35.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ctor-35.2'>(35.2)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-35.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ctor-36'><div class='marginalizedparent'><a class='marginalized' href='#ctor-36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5431'>#</a></div><div class='texpara'><div id='ctor-36.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes the contained value of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>
with <span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>&#x200b;args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-36.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-37'><div class='marginalizedparent'><a class='marginalized' href='#ctor-37'>37</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5436'>#</a></div><div class='texpara'><div id='ctor-37.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#ctor-37.sentence-1'>.</a></div></div></div></div><div class='para' id='ctor-38'><div class='marginalizedparent'><a class='marginalized' href='#ctor-38'>38</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5440'>#</a></div><div class='texpara'><div id='ctor-38.sentence-1' class='sentence'><i >Remarks</i>: If <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor is a constexpr constructor<a class='hidden_link' href='#ctor-38.sentence-1'>.</a></div></div></div></div></div><div id='dtor' class='section'><h4 ><a class='secnum' href='#dtor' style='min-width:95pt'>22.6.3.3</a> Destructor <a class='abbr_ref' href='variant.dtor'>[variant.dtor]</a></h4><div class='texpara'><div id='lib:variant,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant,destructor'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='operator'>~</span>variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5454'>#</a></div><div class='texpara'><div id='dtor-1.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span>,
destroys the currently contained value<a class='hidden_link' href='#dtor-1.sentence-1'>.</a></div></div></div></div><div class='para' id='dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5459'>#</a></div><div class='texpara'><div id='dtor-2.sentence-1' class='sentence'><i >Remarks</i>: If <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>destructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>,
then this destructor is trivial<a class='hidden_link' href='#dtor-2.sentence-1'>.</a></div></div></div></div></div><div id='assign' class='section'><h4 ><a class='secnum' href='#assign' style='min-width:95pt'>22.6.3.4</a> Assignment <a class='abbr_ref' href='variant.assign'>[variant.assign]</a></h4><div class='texpara'><div id='lib:variant,operator='><div id='lib:operator=,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,variant'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='assign-1'><div class='marginalizedparent'><a class='marginalized' href='#assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5473'>#</a></div><div class='texpara'><div id='assign-1.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>j</span></span> be <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-1.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-2'><div class='marginalizedparent'><a class='marginalized' href='#assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5476'>#</a></div><div class='texpara'><div id='assign-2.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='assign-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-2.1'>(2.1)</a></div><div class='texpara'><div id='assign-2.1.sentence-1' class='sentence'>If neither <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> nor <span class='texttt'>rhs</span> holds a value, there is no effect<a class='hidden_link' href='#assign-2.1.sentence-1'>.</a></div></div></li><li id='assign-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-2.2'>(2.2)</a></div><div class='texpara'><div id='assign-2.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and sets <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> to not hold a value<a class='hidden_link' href='#assign-2.2.sentence-1'>.</a></div></div></li><li id='assign-2.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-2.3'>(2.3)</a></div><div class='texpara'><div id='assign-2.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='math'><span class='mathalpha'>j</span></span></span>, assigns the value contained in <span class='texttt'>rhs</span>
to the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-2.3.sentence-1'>.</a></div></div></li><li id='assign-2.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-2.4'>(2.4)</a></div><div class='texpara'><div id='assign-2.4.sentence-1' class='sentence'>Otherwise, if either <span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> or
<span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,
equivalent to <span class='texttt'>emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-2.4.sentence-1'>.</a></div></div></li><li id='assign-2.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-2.5'>(2.5)</a></div><div class='texpara'><div id='assign-2.5.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>variant<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-2.5.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='assign-3'><div class='marginalizedparent'><a class='marginalized' href='#assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5496'>#</a></div><div class='texpara'><div id='assign-3.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-3.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-4'><div class='marginalizedparent'><a class='marginalized' href='#assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5500'>#</a></div><div class='texpara'><div id='assign-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-4.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-5'><div class='marginalizedparent'><a class='marginalized' href='#assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5504'>#</a></div><div class='texpara'><div id='assign-5.sentence-1' class='sentence'><i >Remarks</i>: This operator is defined as deleted unless
<span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#assign-5.sentence-1'>.</a></div> <div id='assign-5.sentence-2' class='sentence'>If <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>copy_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>destructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span>, this assignment operator is trivial<a class='hidden_link' href='#assign-5.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,operator=_'><div id='lib:operator=,variant_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,variant_'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='assign-6'><div class='marginalizedparent'><a class='marginalized' href='#assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5522'>#</a></div><div class='texpara'><div id='assign-6.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>j</span></span> be <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-6.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-7'><div class='marginalizedparent'><a class='marginalized' href='#assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5525'>#</a></div><div class='texpara'><div id='assign-7.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is
<span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#assign-7.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-8'><div class='marginalizedparent'><a class='marginalized' href='#assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5531'>#</a></div><div class='texpara'><div id='assign-8.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='assign-8.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-8.1'>(8.1)</a></div><div class='texpara'><div id='assign-8.1.sentence-1' class='sentence'>If neither <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> nor <span class='texttt'>rhs</span> holds a value, there is no effect<a class='hidden_link' href='#assign-8.1.sentence-1'>.</a></div></div></li><li id='assign-8.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-8.2'>(8.2)</a></div><div class='texpara'><div id='assign-8.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and sets <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> to not hold a value<a class='hidden_link' href='#assign-8.2.sentence-1'>.</a></div></div></li><li id='assign-8.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-8.3'>(8.3)</a></div><div class='texpara'><div id='assign-8.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='math'><span class='mathalpha'>j</span></span></span>, assigns <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> to
the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-8.3.sentence-1'>.</a></div></div></li><li id='assign-8.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-8.4'>(8.4)</a></div><div class='texpara'><div id='assign-8.4.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'>emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-8.4.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='assign-9'><div class='marginalizedparent'><a class='marginalized' href='#assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5546'>#</a></div><div class='texpara'><div id='assign-9.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-9.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-10'><div class='marginalizedparent'><a class='marginalized' href='#assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5550'>#</a></div><div class='texpara'><div id='assign-10.sentence-1' class='sentence'><i >Remarks</i>: If <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>move_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>destructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span>, this assignment operator is trivial<a class='hidden_link' href='#assign-10.sentence-1'>.</a></div> <div id='assign-10.sentence-2' class='sentence'>The exception specification is equivalent to
<span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#assign-10.sentence-2'>.</a></div> <ul class='itemize'><li id='assign-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-10.1'>(10.1)</a></div><div class='texpara'><div id='assign-10.1.sentence-1' class='sentence'>If an exception is thrown during the call to <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>'s move construction
(with <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>), the <span class='texttt'>variant</span> will hold no value<a class='hidden_link' href='#assign-10.1.sentence-1'>.</a></div></div></li><li id='assign-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-10.2'>(10.2)</a></div><div class='texpara'><div id='assign-10.2.sentence-1' class='sentence'>If an exception is thrown during the call to <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>'s move assignment,
the state of the contained value is as defined by the exception safety
guarantee of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>'s move assignment; <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> will be <span class='math'><span class='mathalpha'>j</span></span><a class='hidden_link' href='#assign-10.2.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='texpara'><div id='lib:variant,operator=__'><div id='lib:operator=,variant__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,variant__'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='assign-11'><div class='marginalizedparent'><a class='marginalized' href='#assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5573'>#</a></div><div class='texpara'><div id='assign-11.sentence-1' class='sentence'>Let <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span></span>
for each alternative type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
for which <span class='texttt'><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> x<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span></span> <span class='texttt'><span class='curlybracket'>{</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='curlybracket'>}</span>;</span>
is well-formed for some invented variable <span class='texttt'>x</span><a class='hidden_link' href='#assign-11.sentence-1'>.</a></div> <div id='assign-11.sentence-2' class='sentence'>The overload <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span></span> selected by overload
resolution for the expression <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>&#x200b;t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> defines
the alternative <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span> which is the type of the contained value after
assignment<a class='hidden_link' href='#assign-11.sentence-2'>.</a></div></div></div></div><div class='para' id='assign-12'><div class='marginalizedparent'><a class='marginalized' href='#assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5584'>#</a></div><div class='texpara'><div id='assign-12.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='assign-12.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-12.1'>(12.1)</a></div><span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, variant<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-12.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-12.2'>(12.2)</a></div><span class='texttt'>is_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='assign-12.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-12.3'>(12.3)</a></div>the expression <span class='texttt'><i >FUN</i><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
(with <span class='texttt'><i >FUN</i></span> being the above-mentioned set
of imaginary functions) is well-formed<a class='hidden_link' href='#assign-12.sentence-1'>.</a> <div class='texpara'><div id='assign-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#assign-note-1'>1</a></i>:&ensp;<div id='assign-12.3.sentence-2' class='sentence'><span class='codeblock'>variant<span class='anglebracket'>&lt;</span>string, string<span class='anglebracket'>&gt;</span> v;
v <span class='operator'>=</span> <span class='literal'>"abc"</span>;
</span>
is ill-formed, as both alternative types have an equally viable constructor
for the argument<a class='hidden_link' href='#assign-12.3.sentence-2'>.</a></div> &nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div></div><div class='para' id='assign-13'><div class='marginalizedparent'><a class='marginalized' href='#assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5608'>#</a></div><div class='texpara'><div id='assign-13.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='assign-13.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-13.1'>(13.1)</a></div><div class='texpara'><div id='assign-13.1.sentence-1' class='sentence'>If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> holds a <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>, assigns <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span> to
the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-13.1.sentence-1'>.</a></div></div></li><li id='assign-13.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-13.2'>(13.2)</a></div><div class='texpara'><div id='assign-13.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span></span>
<span class='texttt'><span class='operator'>!</span>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to <span class='texttt'>emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-13.2.sentence-1'>.</a></div></div></li><li id='assign-13.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-13.3'>(13.3)</a></div><div class='texpara'><div id='assign-13.3.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'>emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-13.3.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='assign-14'><div class='marginalizedparent'><a class='marginalized' href='#assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5622'>#</a></div><div class='texpara'><div id='assign-14.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>holds_<span class='shy'></span>alternative<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, with <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>
selected by the imaginary function overload resolution described above<a class='hidden_link' href='#assign-14.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-15'><div class='marginalizedparent'><a class='marginalized' href='#assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5627'>#</a></div><div class='texpara'><div id='assign-15.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-15.sentence-1'>.</a></div></div></div></div><div class='para' id='assign-16'><div class='marginalizedparent'><a class='marginalized' href='#assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5631'>#</a></div><div class='texpara'><div id='assign-16.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to:
<span class='codeblock'>is_nothrow_assignable_v<span class='anglebracket'>&lt;</span>T<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_constructible_v<span class='anglebracket'>&lt;</span>T<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span>
</span>
<ul class='itemize'><li id='assign-16.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-16.1'>(16.1)</a></div><div class='texpara'><div id='assign-16.1.sentence-1' class='sentence'>If an exception is thrown during the assignment of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span>
to the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>, the state of the contained value and
<span class='texttt'>t</span> are as defined by the exception safety guarantee of the assignment
expression; <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> will be <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#assign-16.1.sentence-1'>.</a></div></div></li><li id='assign-16.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#assign-16.2'>(16.2)</a></div><div class='texpara'><div id='assign-16.2.sentence-1' class='sentence'>If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> object is permitted to not hold a value<a class='hidden_link' href='#assign-16.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div></div><div id='mod' class='section'><h4 ><a class='secnum' href='#mod' style='min-width:95pt'>22.6.3.5</a> Modifiers <a class='abbr_ref' href='variant.mod'>[variant.mod]</a></h4><div class='texpara'><div id='lib:variant,emplace'><div id='lib:emplace,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='mod-1'><div class='marginalizedparent'><a class='marginalized' href='#mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5655'>#</a></div><div class='texpara'><div id='mod-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and
<span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types</span><a class='hidden_link' href='#mod-1.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-2'><div class='marginalizedparent'><a class='marginalized' href='#mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5660'>#</a></div><div class='texpara'><div id='mod-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>I</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span>
where <span class='math'><span class='mathalpha'>I</span></span> is the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types</span><a class='hidden_link' href='#mod-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,emplace_'><div id='lib:emplace,variant_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,variant_'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='mod-3'><div class='marginalizedparent'><a class='marginalized' href='#mod-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5676'>#</a></div><div class='texpara'><div id='mod-3.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
and <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types</span><a class='hidden_link' href='#mod-3.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-4'><div class='marginalizedparent'><a class='marginalized' href='#mod-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5681'>#</a></div><div class='texpara'><div id='mod-4.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>I</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>il, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span>
where <span class='math'><span class='mathalpha'>I</span></span> is the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types</span><a class='hidden_link' href='#mod-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,emplace__'><div id='lib:emplace,variant__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,variant__'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='mod-5'><div class='marginalizedparent'><a class='marginalized' href='#mod-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5697'>#</a></div><div class='texpara'><div id='mod-5.sentence-1' class='sentence'><i >Mandates</i>: <span class='math'><span class='texttt'>I</span> &lt; <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span></span><a class='hidden_link' href='#mod-5.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-6'><div class='marginalizedparent'><a class='marginalized' href='#mod-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5701'>#</a></div><div class='texpara'><div id='mod-6.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#mod-6.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-7'><div class='marginalizedparent'><a class='marginalized' href='#mod-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5705'>#</a></div><div class='texpara'><div id='mod-7.sentence-1' class='sentence'><i >Effects</i>: Destroys the currently contained value if <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#mod-7.sentence-1'>.</a></div> <div id='mod-7.sentence-2' class='sentence'>Then direct-non-list-initializes the contained value of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>
with the arguments <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-7.sentence-2'>.</a></div></div></div></div><div class='para' id='mod-8'><div class='marginalizedparent'><a class='marginalized' href='#mod-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5712'>#</a></div><div class='texpara'><div id='mod-8.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#mod-8.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-9'><div class='marginalizedparent'><a class='marginalized' href='#mod-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5716'>#</a></div><div class='texpara'><div id='mod-9.sentence-1' class='sentence'><i >Returns</i>: A reference to the new contained value<a class='hidden_link' href='#mod-9.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-10'><div class='marginalizedparent'><a class='marginalized' href='#mod-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5720'>#</a></div><div class='texpara'><div id='mod-10.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown during the initialization of the contained value<a class='hidden_link' href='#mod-10.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-11'><div class='marginalizedparent'><a class='marginalized' href='#mod-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5724'>#</a></div><div class='texpara'><div id='mod-11.sentence-1' class='sentence'><i >Remarks</i>: If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> is permitted to not hold a value<a class='hidden_link' href='#mod-11.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,emplace___'><div id='lib:emplace,variant___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,variant___'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>
    emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='mod-12'><div class='marginalizedparent'><a class='marginalized' href='#mod-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5738'>#</a></div><div class='texpara'><div id='mod-12.sentence-1' class='sentence'><i >Mandates</i>: <span class='math'><span class='texttt'>I</span> &lt; <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span></span><a class='hidden_link' href='#mod-12.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-13'><div class='marginalizedparent'><a class='marginalized' href='#mod-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5742'>#</a></div><div class='texpara'><div id='mod-13.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#mod-13.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-14'><div class='marginalizedparent'><a class='marginalized' href='#mod-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5746'>#</a></div><div class='texpara'><div id='mod-14.sentence-1' class='sentence'><i >Effects</i>: Destroys the currently contained value if <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#mod-14.sentence-1'>.</a></div> <div id='mod-14.sentence-2' class='sentence'>Then direct-non-list-initializes the contained value of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span>
with <span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-14.sentence-2'>.</a></div></div></div></div><div class='para' id='mod-15'><div class='marginalizedparent'><a class='marginalized' href='#mod-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5753'>#</a></div><div class='texpara'><div id='mod-15.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#mod-15.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-16'><div class='marginalizedparent'><a class='marginalized' href='#mod-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5757'>#</a></div><div class='texpara'><div id='mod-16.sentence-1' class='sentence'><i >Returns</i>: A reference to the new contained value<a class='hidden_link' href='#mod-16.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-17'><div class='marginalizedparent'><a class='marginalized' href='#mod-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5761'>#</a></div><div class='texpara'><div id='mod-17.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown during the initialization of the contained value<a class='hidden_link' href='#mod-17.sentence-1'>.</a></div></div></div></div><div class='para' id='mod-18'><div class='marginalizedparent'><a class='marginalized' href='#mod-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5765'>#</a></div><div class='texpara'><div id='mod-18.sentence-1' class='sentence'><i >Remarks</i>: If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> is permitted to not hold a value<a class='hidden_link' href='#mod-18.sentence-1'>.</a></div></div></div></div></div><div id='status' class='section'><h4 ><a class='secnum' href='#status' style='min-width:95pt'>22.6.3.6</a> Value status <a class='abbr_ref' href='variant.status'>[variant.status]</a></h4><div class='texpara'><div id='lib:variant,valueless_by_exception'><div id='lib:valueless_by_exception,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:valueless_by_exception,variant'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>bool</span> valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='status-1'><div class='marginalizedparent'><a class='marginalized' href='#status-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5779'>#</a></div><div class='texpara'><div id='status-1.sentence-1' class='sentence'><i >Effects</i>: Returns <span class='texttt'><span class='literal'>false</span></span> if and only if the <span class='texttt'>variant</span> holds a value<a class='hidden_link' href='#status-1.sentence-1'>.</a></div></div></div></div><div class='para nonNormativeOnly' id='status-2'><div class='marginalizedparent'><a class='marginalized' href='#status-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5783'>#</a></div><div class='texpara'><div id='status-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#status-note-1'>1</a></i>:&ensp;<div id='status-2.sentence-1' class='sentence'>It is possible for a <span class='texttt'>variant</span> to hold no value
if an exception is thrown during a
type-changing assignment or emplacement<a class='hidden_link' href='#status-2.sentence-1'>.</a></div> <div id='status-2.sentence-2' class='sentence'>The latter means that even a
<span class='texttt'>variant<span class='anglebracket'>&lt;</span><span class='keyword'>float</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span></span> can become <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, for
instance by
<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>throw</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span><span class='curlybracket'>}</span>;
variant<span class='anglebracket'>&lt;</span><span class='keyword'>float</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v<span class='curlybracket'>{</span><span class='literal'>12.f</span><span class='curlybracket'>}</span>;
v<span class='operator'>.</span>emplace<span class='anglebracket'>&lt;</span><span class='literal'>1</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div> &nbsp;<i>end note</i>]</div></div></div></div></div><div class='texpara'><div id='lib:variant,index'><div id='lib:index,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:index,variant'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> size_t index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='status-3'><div class='marginalizedparent'><a class='marginalized' href='#status-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5804'>#</a></div><div class='texpara'><div id='status-3.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, returns <span class='texttt'>variant_<span class='shy'></span>npos</span><a class='hidden_link' href='#status-3.sentence-1'>.</a></div> <div id='status-3.sentence-2' class='sentence'>Otherwise, returns the zero-based index of the alternative of the contained value<a class='hidden_link' href='#status-3.sentence-2'>.</a></div></div></div></div></div><div id='swap' class='section'><h4 ><a class='secnum' href='#swap' style='min-width:95pt'>22.6.3.7</a> Swap <a class='abbr_ref' href='variant.swap'>[variant.swap]</a></h4><div class='texpara'><div id='lib:variant,swap'><div id='lib:swap,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,variant'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='swap-1'><div class='marginalizedparent'><a class='marginalized' href='#swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5818'>#</a></div><div class='texpara'><div id='swap-1.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#swap-1.sentence-1'>.</a></div></div></div></div><div class='para' id='swap-2'><div class='marginalizedparent'><a class='marginalized' href='#swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5822'>#</a></div><div class='texpara'><div id='swap-2.sentence-1' class='sentence'><i >Preconditions</i>: Each <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> meets the <i >Cpp17Swappable</i> requirements (<a href='swappable.requirements' title='16.4.4.3&emsp;Swappable requirements'>[swappable.<span class='shy'></span>requirements]</a>)<a class='hidden_link' href='#swap-2.sentence-1'>.</a></div></div></div></div><div class='para' id='swap-3'><div class='marginalizedparent'><a class='marginalized' href='#swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5826'>#</a></div><div class='texpara'><div id='swap-3.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='swap-3.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#swap-3.1'>(3.1)</a></div><div class='texpara'><div id='swap-3.1.sentence-1' class='sentence'>If <span class='texttt'>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> no effect<a class='hidden_link' href='#swap-3.1.sentence-1'>.</a></div></div></li><li id='swap-3.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#swap-3.2'>(3.2)</a></div><div class='texpara'><div id='swap-3.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, calls <span class='texttt'>swap<span class='parenthesis'>(</span><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> where <span class='math'><span class='mathalpha'>i</span></span> is <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-3.2.sentence-1'>.</a></div></div></li><li id='swap-3.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#swap-3.3'>(3.3)</a></div><div class='texpara'><div id='swap-3.3.sentence-1' class='sentence'>Otherwise, exchanges values of <span class='texttt'>rhs</span> and <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#swap-3.3.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='swap-4'><div class='marginalizedparent'><a class='marginalized' href='#swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5837'>#</a></div><div class='texpara'><div id='swap-4.sentence-1' class='sentence'><i >Throws</i>: If <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
any exception thrown by <span class='texttt'>swap<span class='parenthesis'>(</span><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-4.sentence-1'>.</a></div> <div id='swap-4.sentence-2' class='sentence'>Otherwise, any exception thrown by the move constructor
of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> or <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> and <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-4.sentence-2'>.</a></div></div></div></div><div class='para' id='swap-5'><div class='marginalizedparent'><a class='marginalized' href='#swap-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5846'>#</a></div><div class='texpara'><div id='swap-5.sentence-1' class='sentence'><i >Remarks</i>: If an exception is thrown during the call to function <span class='texttt'>swap<span class='parenthesis'>(</span><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>,
the states of the contained values of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and of <span class='texttt'>rhs</span> are
determined by the exception safety guarantee of <span class='texttt'>swap</span> for lvalues of
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-5.sentence-1'>.</a></div> <div id='swap-5.sentence-2' class='sentence'>If an exception is thrown during the exchange of the values of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
and <span class='texttt'>rhs</span>, the states of the values of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and of <span class='texttt'>rhs</span>
are determined by the exception safety guarantee of <span class='texttt'>variant</span>'s move constructor<a class='hidden_link' href='#swap-5.sentence-2'>.</a></div> <div id='swap-5.sentence-3' class='sentence'>The exception specification is equivalent to the logical <span class='textsc'>and</span> of
<span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_<span class='shy'></span>nothrow_<span class='shy'></span>swappable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#swap-5.sentence-3'>.</a></div></div></div></div></div></div><div id='helper' class='section'><h3 ><a class='secnum' href='#helper' style='min-width:80pt'>22.6.4</a> <span class='texttt'>variant</span> helper classes <a class='abbr_ref' href='variant.helper'>[variant.helper]</a></h3><div class='texpara'><div id='lib:variant_size'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant_size'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size;
</code></div></div></div><div class='para' id='helper-1'><div class='marginalizedparent'><a class='marginalized' href='#helper-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5867'>#</a></div><div class='texpara'><div id='helper-1.sentence-1' class='sentence'>All specializations of <span class='texttt'>variant_<span class='shy'></span>size</span> meet the
<i >Cpp17UnaryTypeTrait</i> requirements (<a href='meta.rqmts' title='21.3.2&emsp;Requirements'>[meta.<span class='shy'></span>rqmts]</a>)
with a base characteristic of <span class='texttt'>integral_<span class='shy'></span>constant<span class='anglebracket'>&lt;</span>size_<span class='shy'></span>t, N<span class='anglebracket'>&gt;</span></span> for some <span class='texttt'>N</span><a class='hidden_link' href='#helper-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant_size_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant_size_'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
</code></div></div></div><div class='para' id='helper-2'><div class='marginalizedparent'><a class='marginalized' href='#helper-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5879'>#</a></div><div class='texpara'><div id='helper-2.sentence-1' class='sentence'>Let <span class='texttt'>VS</span> denote <span class='texttt'>variant_<span class='shy'></span>size<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> of the cv-unqualified
type <span class='texttt'>T</span><a class='hidden_link' href='#helper-2.sentence-1'>.</a></div> <div id='helper-2.sentence-2' class='sentence'>Then each specialization of the template meets the
<i >Cpp17UnaryTypeTrait</i> requirements (<a href='meta.rqmts' title='21.3.2&emsp;Requirements'>[meta.<span class='shy'></span>rqmts]</a>) with a
base characteristic of <span class='texttt'>integral_<span class='shy'></span>constant<span class='anglebracket'>&lt;</span>size_<span class='shy'></span>t, VS<span class='operator'>&#x200b;::&#x200b;</span>value<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#helper-2.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant_size__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant_size__'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>:</span> integral_constant<span class='anglebracket'>&lt;</span>size_t, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</code></div></div></div><div class='texpara'><div id='lib:variant_alternative'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant_alternative'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
</code></div></div></div><div class='para' id='helper-3'><div class='marginalizedparent'><a class='marginalized' href='#helper-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5899'>#</a></div><div class='texpara'><div id='helper-3.sentence-1' class='sentence'>Let <span class='texttt'>VA</span> denote <span class='texttt'>variant_<span class='shy'></span>alternative<span class='anglebracket'>&lt;</span>I, T<span class='anglebracket'>&gt;</span></span> of the
cv-unqualified type <span class='texttt'>T</span><a class='hidden_link' href='#helper-3.sentence-1'>.</a></div> <div id='helper-3.sentence-2' class='sentence'>Then each specialization of the template
meets the <i >Cpp17TransformationTrait</i> requirements (<a href='meta.rqmts' title='21.3.2&emsp;Requirements'>[meta.<span class='shy'></span>rqmts]</a>) with a
member typedef <span class='texttt'>type</span> that names the type <span class='texttt'>add_<span class='shy'></span>const_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>VA<span class='operator'>&#x200b;::&#x200b;</span>type<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#helper-3.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant_alternative_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:variant_alternative_'></a></div><code class='itemdeclcode'>variant_alternative<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>type
</code></div></div></div><div class='para' id='helper-4'><div class='marginalizedparent'><a class='marginalized' href='#helper-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5912'>#</a></div><div class='texpara'><div id='helper-4.sentence-1' class='sentence'><i >Mandates</i>: <span class='math'><span class='texttt'>I</span> &lt; <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span></span><a class='hidden_link' href='#helper-4.sentence-1'>.</a></div></div></div></div><div class='para' id='helper-5'><div class='marginalizedparent'><a class='marginalized' href='#helper-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5916'>#</a></div><div class='texpara'><div id='helper-5.sentence-1' class='sentence'><i >Type</i>: The type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span></span><a class='hidden_link' href='#helper-5.sentence-1'>.</a></div></div></div></div></div><div id='get' class='section'><h3 ><a class='secnum' href='#get' style='min-width:80pt'>22.6.5</a> Value access <a class='abbr_ref' href='variant.get'>[variant.get]</a></h3><div class='texpara'><div id='lib:holds_alternative,variant'><div id='lib:variant,holds_alternative'><div id='lib:holds_alternative'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:holds_alternative'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> holds_alternative<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div></div><div class='para' id='get-1'><div class='marginalizedparent'><a class='marginalized' href='#get-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5931'>#</a></div><div class='texpara'><div id='get-1.sentence-1' class='sentence'><i >Mandates</i>: The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types</span><a class='hidden_link' href='#get-1.sentence-1'>.</a></div></div></div></div><div class='para' id='get-2'><div class='marginalizedparent'><a class='marginalized' href='#get-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5935'>#</a></div><div class='texpara'><div id='get-2.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is equal to the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types</span><a class='hidden_link' href='#get-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='get-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#get-itemdecl:2'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>
    <span class='texttt'><i >GET</i></span><span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;                                  <span class='comment'>// <i >exposition only</i></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>
    <span class='texttt'><i >GET</i></span><span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;                                 <span class='comment'>// <i >exposition only</i></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>
    <span class='texttt'><i >GET</i></span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;                            <span class='comment'>// <i >exposition only</i></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>
    <span class='texttt'><i >GET</i></span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;                           <span class='comment'>// <i >exposition only</i></span>
</code></div></div><div class='para' id='get-3'><div class='marginalizedparent'><a class='marginalized' href='#get-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5956'>#</a></div><div class='texpara'><div id='get-3.sentence-1' class='sentence'><i >Mandates</i>: <span class='math'><span class='texttt'>I</span> &lt; <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span></span><a class='hidden_link' href='#get-3.sentence-1'>.</a></div></div></div></div><div class='para' id='get-4'><div class='marginalizedparent'><a class='marginalized' href='#get-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5960'>#</a></div><div class='texpara'><div id='get-4.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#get-4.sentence-1'>.</a></div></div></div></div><div class='para' id='get-5'><div class='marginalizedparent'><a class='marginalized' href='#get-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5964'>#</a></div><div class='texpara'><div id='get-5.sentence-1' class='sentence'><i >Returns</i>: A reference to the object stored in the <span class='texttt'>variant</span><a class='hidden_link' href='#get-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,get'><div id='lib:get,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='get-6'><div class='marginalizedparent'><a class='marginalized' href='#get-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5982'>#</a></div><div class='texpara'><div id='get-6.sentence-1' class='sentence'><i >Mandates</i>: <span class='math'><span class='texttt'>I</span> &lt; <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span></span><a class='hidden_link' href='#get-6.sentence-1'>.</a></div></div></div></div><div class='para' id='get-7'><div class='marginalizedparent'><a class='marginalized' href='#get-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L5986'>#</a></div><div class='texpara'><div id='get-7.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span>, returns a reference to the object stored in
the <span class='texttt'>variant</span><a class='hidden_link' href='#get-7.sentence-1'>.</a></div> <div id='get-7.sentence-2' class='sentence'>Otherwise, throws an exception of type <span class='texttt'>bad_<span class='shy'></span>variant_<span class='shy'></span>access</span><a class='hidden_link' href='#get-7.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,get_'><div id='lib:get,variant_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,variant_'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='get-8'><div class='marginalizedparent'><a class='marginalized' href='#get-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6001'>#</a></div><div class='texpara'><div id='get-8.sentence-1' class='sentence'><i >Mandates</i>: The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types</span><a class='hidden_link' href='#get-8.sentence-1'>.</a></div></div></div></div><div class='para' id='get-9'><div class='marginalizedparent'><a class='marginalized' href='#get-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6005'>#</a></div><div class='texpara'><div id='get-9.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>v</span> holds a value of type <span class='texttt'>T</span>, returns a reference to that value<a class='hidden_link' href='#get-9.sentence-1'>.</a></div> <div id='get-9.sentence-2' class='sentence'>Otherwise, throws an exception of type <span class='texttt'>bad_<span class='shy'></span>variant_<span class='shy'></span>access</span><a class='hidden_link' href='#get-9.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:get_if,variant'><div id='lib:variant,get_if'><div id='lib:get_if'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get_if'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div></div><div class='para' id='get-10'><div class='marginalizedparent'><a class='marginalized' href='#get-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6023'>#</a></div><div class='texpara'><div id='get-10.sentence-1' class='sentence'><i >Mandates</i>: <span class='math'><span class='texttt'>I</span> &lt; <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span></span><a class='hidden_link' href='#get-10.sentence-1'>.</a></div></div></div></div><div class='para' id='get-11'><div class='marginalizedparent'><a class='marginalized' href='#get-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6027'>#</a></div><div class='texpara'><div id='get-11.sentence-1' class='sentence'><i >Returns</i>: A pointer to the value stored in the <span class='texttt'>variant</span>, if <span class='texttt'>v <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span>
and <span class='texttt'>v<span class='operator'>-</span><span class='anglebracket'>&gt;</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> I</span><a class='hidden_link' href='#get-11.sentence-1'>.</a></div> <div id='get-11.sentence-2' class='sentence'>Otherwise, returns <span id=':nullptr'><span class='texttt'><span class='literal'>nullptr</span></span></span><a class='hidden_link' href='#get-11.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:get_if,variant_'><div id='lib:variant,get_if_'><div id='lib:get_if_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get_if_'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div></div><div class='para' id='get-12'><div class='marginalizedparent'><a class='marginalized' href='#get-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6045'>#</a></div><div class='texpara'><div id='get-12.sentence-1' class='sentence'><i >Mandates</i>: The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types</span><a class='hidden_link' href='#get-12.sentence-1'>.</a></div></div></div></div><div class='para' id='get-13'><div class='marginalizedparent'><a class='marginalized' href='#get-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6049'>#</a></div><div class='texpara'><div id='get-13.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> get_<span class='shy'></span>if<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;</span> with <span class='math'><span class='mathalpha'>i</span></span> being the zero-based
index of <span class='texttt'>T</span> in <span class='texttt'>Types</span><a class='hidden_link' href='#get-13.sentence-1'>.</a></div></div></div></div></div><div id='relops' class='section'><h3 ><a class='secnum' href='#relops' style='min-width:80pt'>22.6.6</a> Relational operators <a class='abbr_ref' href='variant.relops'>[variant.relops]</a></h3><div class='texpara'><div id='lib:variant,operator=='><div id='lib:operator==,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='relops-1'><div class='marginalizedparent'><a class='marginalized' href='#relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6064'>#</a></div><div class='texpara'><div id='relops-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-1.sentence-1'>.</a></div></div></div></div><div class='para' id='relops-2'><div class='marginalizedparent'><a class='marginalized' href='#relops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6069'>#</a></div><div class='texpara'><div id='relops-2.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,operator!='><div id='lib:operator!=,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator!=,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='relops-3'><div class='marginalizedparent'><a class='marginalized' href='#relops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6083'>#</a></div><div class='texpara'><div id='relops-3.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-3.sentence-1'>.</a></div></div></div></div><div class='para' id='relops-4'><div class='marginalizedparent'><a class='marginalized' href='#relops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6088'>#</a></div><div class='texpara'><div id='relops-4.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,operator<'><div id='lib:operator<,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='relops-5'><div class='marginalizedparent'><a class='marginalized' href='#relops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6102'>#</a></div><div class='texpara'><div id='relops-5.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-5.sentence-1'>.</a></div></div></div></div><div class='para' id='relops-6'><div class='marginalizedparent'><a class='marginalized' href='#relops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6107'>#</a></div><div class='texpara'><div id='relops-6.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>w<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-6.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,operator>'><div id='lib:operator>,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='relops-7'><div class='marginalizedparent'><a class='marginalized' href='#relops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6123'>#</a></div><div class='texpara'><div id='relops-7.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-7.sentence-1'>.</a></div></div></div></div><div class='para' id='relops-8'><div class='marginalizedparent'><a class='marginalized' href='#relops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6128'>#</a></div><div class='texpara'><div id='relops-8.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>v<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>w<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-8.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,operator<='><div id='lib:operator<=,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='relops-9'><div class='marginalizedparent'><a class='marginalized' href='#relops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6144'>#</a></div><div class='texpara'><div id='relops-9.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-9.sentence-1'>.</a></div></div></div></div><div class='para' id='relops-10'><div class='marginalizedparent'><a class='marginalized' href='#relops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6149'>#</a></div><div class='texpara'><div id='relops-10.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>v<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>w<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-10.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,operator>='><div id='lib:operator>=,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e=,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='relops-11'><div class='marginalizedparent'><a class='marginalized' href='#relops-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6165'>#</a></div><div class='texpara'><div id='relops-11.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-11.sentence-1'>.</a></div></div></div></div><div class='para' id='relops-12'><div class='marginalizedparent'><a class='marginalized' href='#relops-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6170'>#</a></div><div class='texpara'><div id='relops-12.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>w<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='texttt'><i >GET</i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-12.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,operator<=>'><div id='lib:operator<=>,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=%3e,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><a href='cmp.concept#concept:three_way_comparable' title='17.11.4&emsp;Concept three_&shy;way_&shy;comparable&emsp;[cmp.concept]'><span id='conceptref:three_way_comparable_'><span class='texttt'>three_<span class='shy'></span>way_<span class='shy'></span>comparable</span></span></a><span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>
  <span class='keyword'>constexpr</span> common_comparison_category_t<span class='anglebracket'>&lt;</span>compare_three_way_result_t<span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='relops-13'><div class='marginalizedparent'><a class='marginalized' href='#relops-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6187'>#</a></div><div class='texpara'><div id='relops-13.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>v<span class='operator'>.</span>valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> w<span class='operator'>.</span>valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> strong_ordering<span class='operator'>::</span>equal;
<span class='keyword'>if</span> <span class='parenthesis'>(</span>v<span class='operator'>.</span>valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='keyword'>return</span> strong_ordering<span class='operator'>::</span>less;
<span class='keyword'>if</span> <span class='parenthesis'>(</span>w<span class='operator'>.</span>valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='keyword'>return</span> strong_ordering<span class='operator'>::</span>greater;
<span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='keyword'>auto</span> c <span class='operator'>=</span> v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; c <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='keyword'>return</span> c;
<span class='keyword'>return</span> <i >GET</i><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> <i >GET</i><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span>;
</span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-13.sentence-1'>.</a></div></div></div></div></div><div id='visit' class='section'><h3 ><a class='secnum' href='#visit' style='min-width:80pt'>22.6.7</a> Visitation <a class='abbr_ref' href='variant.visit'>[variant.visit]</a></h3><div class='texpara'><div id='lib:visit,variant'><div id='lib:variant,visit'><div id='lib:visit'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:visit'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <i ><span class='texttt'>see below</span></i> visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> vars<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> R visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> vars<span class='parenthesis'>)</span>;
</code></div></div></div></div></div><div class='para' id='visit-1'><div class='marginalizedparent'><a class='marginalized' href='#visit-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6213'>#</a></div><div class='texpara'><div id='visit-1.sentence-1' class='sentence'>Let <span class='texttt'><i >as-variant</i></span> denote the following exposition-only function templates:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Ts<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> <i >as-variant</i><span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Ts<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> var<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> var; <span class='curlybracket'>}</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Ts<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> <i >as-variant</i><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Ts<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> var<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> var; <span class='curlybracket'>}</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Ts<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> <i >as-variant</i><span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Ts<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> var<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>var<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Ts<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> <i >as-variant</i><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Ts<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> var<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>var<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
</span></div> <div id='visit-1.sentence-2' class='sentence'>
Let <span class='math'><span class='mathalpha'>n</span></span> be <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Variants<span class='parenthesis'>)</span></span><a class='hidden_link' href='#visit-1.sentence-2'>.</a></div> <div id='visit-1.sentence-3' class='sentence'>For each <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;"></span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span>, let
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">V</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> denote the type<br><span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='texttt'><i >as-variant</i></span><span class='parenthesis'>(</span><span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">Variants</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">vars</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#visit-1.sentence-3'>.</a></div></div></div></div><div class='para' id='visit-2'><div class='marginalizedparent'><a class='marginalized' href='#visit-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6230'>#</a></div><div class='texpara'><div id='visit-2.sentence-1' class='sentence'><i >Constraints</i>: <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">V</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a valid type for all <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;"></span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span><a class='hidden_link' href='#visit-2.sentence-1'>.</a></div></div></div></div><div class='para' id='visit-3'><div class='marginalizedparent'><a class='marginalized' href='#visit-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6234'>#</a></div><div class='texpara'><div id='visit-3.sentence-1' class='sentence'>Let <span class='texttt'>V</span> denote the pack of types <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">V</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><a class='hidden_link' href='#visit-3.sentence-1'>.</a></div></div></div></div><div class='para' id='visit-4'><div class='marginalizedparent'><a class='marginalized' href='#visit-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6237'>#</a></div><div class='texpara'><div id='visit-4.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>m</span></span> be a pack of <span class='math'><span class='mathalpha'>n</span></span> values of type <span class='texttt'>size_<span class='shy'></span>t</span><a class='hidden_link' href='#visit-4.sentence-1'>.</a></div> <div id='visit-4.sentence-2' class='sentence'>Such a pack is valid if<br><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;"></span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">variant_size_v<span class='anglebracket'>&lt;</span>remove_reference_t<span class='anglebracket'>&lt;</span>V</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.22em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;"><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span></span></span></span></span></span></span></span>
for all <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;"></span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span><a class='hidden_link' href='#visit-4.sentence-2'>.</a></div> <div id='visit-4.sentence-3' class='sentence'>For each valid pack <span class='math'><span class='mathalpha'>m</span></span>, let <span class='math'><span class='mathalpha'>e</span>(<span class='mathalpha'>m</span>)</span> denote the expression:
<span class='codeblock'><i >INVOKE</i><span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, <i >GET</i><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>m</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vars<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>  <span class='comment'>// see <a href='func.require' title='22.10.4&emsp;Requirements'>[func.<span class='shy'></span>require]</a></span>
</span>
for the first form and
<span class='codeblock'><i >INVOKE</i><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, <i >GET</i><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>m</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vars<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>  <span class='comment'>// see <a href='func.require' title='22.10.4&emsp;Requirements'>[func.<span class='shy'></span>require]</a></span>
</span>
for the second form<a class='hidden_link' href='#visit-4.sentence-3'>.</a></div></div></div></div><div class='para' id='visit-5'><div class='marginalizedparent'><a class='marginalized' href='#visit-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6252'>#</a></div><div class='texpara'><div id='visit-5.sentence-1' class='sentence'><i >Mandates</i>: For each valid pack <span class='math'><span class='mathalpha'>m</span></span>, <span class='math'><span class='mathalpha'>e</span>(<span class='mathalpha'>m</span>)</span> is a valid expression<a class='hidden_link' href='#visit-5.sentence-1'>.</a></div> <div id='visit-5.sentence-2' class='sentence'>All such expressions are of the same type and value category<a class='hidden_link' href='#visit-5.sentence-2'>.</a></div></div></div></div><div class='para' id='visit-6'><div class='marginalizedparent'><a class='marginalized' href='#visit-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6257'>#</a></div><div class='texpara'><div id='visit-6.sentence-1' class='sentence'><i >Returns</i>: <span class='math'><span class='mathalpha'>e</span>(<span class='mathalpha'>m</span>)</span>, where <span class='math'><span class='mathalpha'>m</span></span> is the pack for which
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is <span class='texttt'><span class='texttt'><i >as-variant</i></span><span class='parenthesis'>(</span>vars<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span><span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> for all <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;"></span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span><a class='hidden_link' href='#visit-6.sentence-1'>.</a></div> <div id='visit-6.sentence-2' class='sentence'>The return type is <span class='math'><span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span></span><span class='mathalpha'>e</span>(<span class='mathalpha'>m</span>)<span class='texttt'><span class='parenthesis'>)</span></span></span>
for the first form<a class='hidden_link' href='#visit-6.sentence-2'>.</a></div></div></div></div><div class='para' id='visit-7'><div class='marginalizedparent'><a class='marginalized' href='#visit-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6264'>#</a></div><div class='texpara'><div id='visit-7.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>bad_<span class='shy'></span>variant_<span class='shy'></span>access</span> if
<span class='texttt'><span class='parenthesis'>(</span><span class='texttt'><i >as-variant</i></span><span class='parenthesis'>(</span>vars<span class='parenthesis'>)</span><span class='operator'>.</span>valueless_<span class='shy'></span>by_<span class='shy'></span>exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#visit-7.sentence-1'>.</a></div></div></div></div><div class='para' id='visit-8'><div class='marginalizedparent'><a class='marginalized' href='#visit-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6270'>#</a></div><div class='texpara'><div id='visit-8.sentence-1' class='sentence'><i >Complexity</i>: For <span class='math'><span class='mathalpha'>n</span> &ensp;&ensp;1</span>, the invocation of the callable object is
implemented in constant time, i.e., for <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span>, it does not depend on
the number of alternative types of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">V</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span><a class='hidden_link' href='#visit-8.sentence-1'>.</a></div> <div id='visit-8.sentence-2' class='sentence'>For <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span>, the invocation of the callable object has
no complexity requirements<a class='hidden_link' href='#visit-8.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:variant,visit_'><div id='lib:visit,variant_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:visit,variant_'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Self, <span class='keyword'>class</span> Visitor<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>)</span> visit<span class='parenthesis'>(</span><span class='keyword'>this</span> Self<span class='operator'>&amp;</span><span class='operator'>&amp;</span> self, Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='visit-9'><div class='marginalizedparent'><a class='marginalized' href='#visit-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6286'>#</a></div><div class='texpara'><div id='visit-9.sentence-1' class='sentence'>Let <span class='texttt'>V</span> be
<span class='texttt'><span class='texttt'><i >OVERRIDE_<span class='shy'></span>REF</i></span><span class='parenthesis'>(</span>Self<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, <span class='texttt'><i >COPY_<span class='shy'></span>CONST</i></span><span class='parenthesis'>(</span>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>Self<span class='anglebracket'>&gt;</span>, variant<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='forward' title='22.2.4&emsp;Forward/move helpers'>[forward]</a>)<a class='hidden_link' href='#visit-9.sentence-1'>.</a></div></div></div></div><div class='para' id='visit-10'><div class='marginalizedparent'><a class='marginalized' href='#visit-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6290'>#</a></div><div class='texpara'><div id='visit-10.sentence-1' class='sentence'><i >Constraints</i>: The call to <span class='texttt'>visit</span> does not use
an explicit <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list'><span class='textsf'><i >template-argument-list</i></span></span></a> that
begins with a type <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a><a class='hidden_link' href='#visit-10.sentence-1'>.</a></div></div></div></div><div class='para' id='visit-11'><div class='marginalizedparent'><a class='marginalized' href='#visit-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6296'>#</a></div><div class='texpara'><div id='visit-11.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> std<span class='operator'>&#x200b;::&#x200b;</span>visit<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, <span class='parenthesis'>(</span>V<span class='parenthesis'>)</span>self<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:variant,visit__'><div id='lib:visit,variant__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:visit,variant__'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> Self, <span class='keyword'>class</span> Visitor<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> R visit<span class='parenthesis'>(</span><span class='keyword'>this</span> Self<span class='operator'>&amp;</span><span class='operator'>&amp;</span> self, Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='visit-12'><div class='marginalizedparent'><a class='marginalized' href='#visit-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6308'>#</a></div><div class='texpara'><div id='visit-12.sentence-1' class='sentence'>Let <span class='texttt'>V</span> be
<span class='texttt'><span class='texttt'><i >OVERRIDE_<span class='shy'></span>REF</i></span><span class='parenthesis'>(</span>Self<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, <span class='texttt'><i >COPY_<span class='shy'></span>CONST</i></span><span class='parenthesis'>(</span>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>Self<span class='anglebracket'>&gt;</span>, variant<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='forward' title='22.2.4&emsp;Forward/move helpers'>[forward]</a>)<a class='hidden_link' href='#visit-12.sentence-1'>.</a></div></div></div></div><div class='para' id='visit-13'><div class='marginalizedparent'><a class='marginalized' href='#visit-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6312'>#</a></div><div class='texpara'><div id='visit-13.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> std<span class='operator'>&#x200b;::&#x200b;</span>visit<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, <span class='parenthesis'>(</span>V<span class='parenthesis'>)</span>self<span class='parenthesis'>)</span>;</span></div></div></div></div></div><div id='monostate' class='section'><h3 ><a class='secnum' href='#monostate' style='min-width:80pt'>22.6.8</a> Class <span class='texttt'>monostate</span> <a class='abbr_ref' href='variant.monostate'>[variant.monostate]</a></h3><div class='texpara'><a class='index' id='lib:monostate'></a></div><div class='texpara'><div id='lib:monostate_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:monostate_'></a></div><code class='itemdeclcode'><span class='keyword'>struct</span> monostate<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
</code></div></div></div><div class='para' id='monostate-1'><div class='marginalizedparent'><a class='marginalized' href='#monostate-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6326'>#</a></div><div class='texpara'><div id='monostate-1.sentence-1' class='sentence'>The class <span class='texttt'>monostate</span> can serve as a first alternative type for
a <span class='texttt'>variant</span> to make the <span class='texttt'>variant</span> type default constructible<a class='hidden_link' href='#monostate-1.sentence-1'>.</a></div></div></div></div></div><div id='monostate.relops' class='section'><h3 ><a class='secnum' href='#monostate.relops' style='min-width:80pt'>22.6.9</a> <span class='texttt'>monostate</span> relational operators <a class='abbr_ref' href='variant.monostate.relops'>[variant.monostate.relops]</a></h3><div class='texpara'><div id='lib:monostate,operator<=>'><div id='lib:operator<=>,monostate'><div id='lib:monostate,operator=='><div id='lib:operator==,monostate'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,monostate'></a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>true</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> strong_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>
<span class='curlybracket'>{</span> <span class='keyword'>return</span> strong_ordering<span class='operator'>::</span>equal; <span class='curlybracket'>}</span>
</code></div></div></div></div></div></div><div class='para nonNormativeOnly' id='monostate.relops-1'><div class='marginalizedparent'><a class='marginalized' href='#monostate.relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6343'>#</a></div><div class='texpara'><div id='monostate.relops-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#monostate.relops-note-1'>1</a></i>:&ensp;<div id='monostate.relops-1.sentence-1' class='sentence'><span class='texttt'>monostate</span> objects have only a single state; they thus always compare equal<a class='hidden_link' href='#monostate.relops-1.sentence-1'>.</a></div> &nbsp;<i>end note</i>]</div></div></div></div></div></div><div id='specalg' class='section'><h3 ><a class='secnum' href='#specalg' style='min-width:80pt'>22.6.10</a> Specialized algorithms <a class='abbr_ref' href='variant.specalg'>[variant.specalg]</a></h3><div class='texpara'><div id='lib:variant,swap_'><div id='lib:swap,variant_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,variant_'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='specalg-1'><div class='marginalizedparent'><a class='marginalized' href='#specalg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6358'>#</a></div><div class='texpara'><div id='specalg-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_<span class='shy'></span>swappable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#specalg-1.sentence-1'>.</a></div></div></div></div><div class='para' id='specalg-2'><div class='marginalizedparent'><a class='marginalized' href='#specalg-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6363'>#</a></div><div class='texpara'><div id='specalg-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>v<span class='operator'>.</span>swap<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span><a class='hidden_link' href='#specalg-2.sentence-1'>.</a></div></div></div></div><div class='para' id='specalg-3'><div class='marginalizedparent'><a class='marginalized' href='#specalg-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6367'>#</a></div><div class='texpara'><div id='specalg-3.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to <span class='texttt'><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>v<span class='operator'>.</span>swap<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#specalg-3.sentence-1'>.</a></div></div></div></div></div><div id='bad.access' class='section'><h3 ><a class='secnum' href='#bad.access' style='min-width:80pt'>22.6.11</a> Class <span class='texttt'>bad_<span class='shy'></span>variant_<span class='shy'></span>access</span> <a class='abbr_ref' href='variant.bad.access'>[variant.bad.access]</a></h3><div class='texpara'><a class='index' id='lib:bad_variant_access'></a>
<span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> bad_variant_access <span class='operator'>:</span> <span class='keyword'>public</span> exception <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='comment'>// see <a href='exception' title='17.9.3&emsp;Class exception'>[exception]</a> for the specification of the special member functions</span>
    <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='para' id='bad.access-1'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6385'>#</a></div><div class='texpara'><div id='bad.access-1.sentence-1' class='sentence'>Objects of type <span class='texttt'>bad_<span class='shy'></span>variant_<span class='shy'></span>access</span> are thrown to report invalid
accesses to the value of a <span class='texttt'>variant</span> object<a class='hidden_link' href='#bad.access-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:bad_variant_access,what'><div id='lib:what,bad_variant_access'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:what,bad_variant_access'></a></div><code class='itemdeclcode'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='bad.access-2'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6395'>#</a></div><div class='texpara'><div id='bad.access-2.sentence-1' class='sentence'><i >Returns</i>: An <a class='index' id=':return_value_of_bad_variant_access::what'></a>implementation-defined <span class='textsc'>ntbs</span><a class='hidden_link' href='#bad.access-2.sentence-1'>.</a></div></div></div></div></div><div id='hash' class='section'><h3 ><a class='secnum' href='#hash' style='min-width:80pt'>22.6.12</a> Hash support <a class='abbr_ref' href='variant.hash'>[variant.hash]</a></h3><div class='texpara'><div id='lib:variant,hash'><div id='lib:hash,variant'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:hash,variant'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
</code></div></div></div></div><div class='para' id='hash-1'><div class='marginalizedparent'><a class='marginalized' href='#hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6408'>#</a></div><div class='texpara'><div id='hash-1.sentence-1' class='sentence'>The specialization <span class='texttt'>hash<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is enabled (<a href='unord.hash' title='22.10.19&emsp;Class template hash'>[unord.<span class='shy'></span>hash]</a>)
if and only if every specialization in <span class='texttt'>hash<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>const_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> is enabled<a class='hidden_link' href='#hash-1.sentence-1'>.</a></div> <div id='hash-1.sentence-2' class='sentence'>The member functions are not guaranteed to be <span id=':noexcept'><span class='texttt'><span class='keyword'>noexcept</span></span></span><a class='hidden_link' href='#hash-1.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:monostate,hash'><div id='lib:hash,monostate'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:hash,monostate'></a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>monostate<span class='anglebracket'>&gt;</span>;
</code></div></div></div></div><div class='para' id='hash-2'><div class='marginalizedparent'><a class='marginalized' href='#hash-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L6420'>#</a></div><div class='texpara'><div id='hash-2.sentence-1' class='sentence'>The specialization is enabled (<a href='unord.hash' title='22.10.19&emsp;Class template hash'>[unord.<span class='shy'></span>hash]</a>)<a class='hidden_link' href='#hash-2.sentence-1'>.</a></div></div></div></div></div></div></body></html>