<!DOCTYPE html><html lang='en'><head><title>[temp.decls]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>17</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>17.6</a> Template declarations <a class='abbr_ref'>[temp.decls]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2043'>#</a></div><div id='1.sentence-1' class='sentence'>A
<i ><a href='temp.names#nt:template-id'>template-id</a></i>,
that is, the
<i ><a href='temp.names#nt:template-name'>template-name</a></i>
followed by a
<i ><a href='temp.names#nt:template-argument-list'>template-argument-list</a></i>
shall not be specified in the declaration of a primary template declaration<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T1, class T2, int I&gt; class A&lt;T1, T2, I&gt; { };     <span class='comment'>// error
</span>template&lt;class T1, int I&gt; void sort&lt;T1, I&gt;(T1 data[I]);         <span class='comment'>// error
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-2' class='sentence'>However, this syntax is allowed in <a href='temp.class.spec'>class template partial specializations</a><a class='hidden_link' href='#1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2062'>#</a></div><div id='2.sentence-1' class='sentence'>For purposes of name lookup and instantiation,
default arguments,
<i ><a href='temp.param#nt:partial-concept-id'>partial-concept-id</a></i><span class='textit'>s</span>,
<i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class='textit'>s</span>,
and
<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class='textit'>s</span>
of function templates
and
of member functions of class templates
are considered definitions;
each
default argument,
<i ><a href='temp.param#nt:partial-concept-id'>partial-concept-id</a></i><span class='textit'>s</span>,
<i ><a href='temp#nt:requires-clause'>requires-clause</a></i>,
or
<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i>
is a separate definition
which is unrelated
to the templated function definition or
to any other
default arguments
<i ><a href='temp.param#nt:partial-concept-id'>partial-concept-id</a></i><span class='textit'>s</span>,
<i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class='textit'>s</span>,
or
<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class='textit'>s</span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>For the purpose of instantiation, the substatements of a
<a href='stmt.if#def:constexpr_if'>constexpr if</a> statement are considered definitions<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2091'>#</a></div><div id='3.sentence-1' class='sentence'>Because an <i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i> cannot declare a
<i ><a href='temp.names#nt:template-id'>template-id</a></i>, it is not possible to partially or
explicitly specialize an alias template<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div id='temp.class' class='section'><h3 ><a class='secnum' href='#temp.class' style='min-width:103pt'>17.6.1</a> Class templates <a class='abbr_ref' href='temp.class'>[temp.class]</a></h3><div class='para' id='temp.class-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2098'>#</a></div><div id='temp.class-1.sentence-1' class='sentence'>A
<a class='hidden_link' href='#def:template,class' id='def:template,class'><i >class template</i></a>
defines the layout and operations
for an unbounded set of related types<a class='hidden_link' href='#temp.class-1.sentence-1'>.</a></div></div><div class='para' id='temp.class-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2104'>#</a></div><div id='temp.class-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.class-2.sentence-1' class='sentence'>A single class template
<span class='texttt'>List</span>
might provide an unbounded set of class definitions:
one class <span class='texttt'>List&lt;T&gt;</span> for every type <span class='texttt'>T</span>,
each describing a linked list of elements of type <span class='texttt'>T</span><a class='hidden_link' href='#temp.class-2.sentence-1'>.</a></div> <div id='temp.class-2.sentence-2' class='sentence'>Similarly, a class template <span class='texttt'>Array</span> describing a contiguous,
dynamic array might be defined like this:
<pre class='codeblock'>
template&lt;class T&gt; class Array {
  T* v;
  int sz;
public:
  explicit Array(int);
  T&amp; operator[](int);
  T&amp; elem(int i) { return v[i]; }
};</pre>
The prefix <span class='texttt'>template&lt;class T&gt;</span>
specifies that a template is being declared and that a
<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
<span class='texttt'>T</span>
may be used in the declaration<a class='hidden_link' href='#temp.class-2.sentence-2'>.</a></div> <div id='temp.class-2.sentence-3' class='sentence'>In other words,
<span class='texttt'>Array</span>
is a parameterized type with
<span class='texttt'>T</span>
as its parameter<a class='hidden_link' href='#temp.class-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2135'>#</a></div><div id='temp.class-3.sentence-1' class='sentence'>When a member function, a member class, a member enumeration, a static data member or
a member template of a class
template is defined outside of the class template definition,
the member definition is defined as a template definition in which the
<i ><a href='temp#nt:template-head'>template-head</a></i> is equivalent to that
of the class template (<a href='temp.over.link'>[temp.over.link]</a>)<a class='hidden_link' href='#temp.class-3.sentence-1'>.</a></div> <div id='temp.class-3.sentence-2' class='sentence'>The names of the template parameters used in the definition of the member may
be different from the template parameter names used in the class
template definition<a class='hidden_link' href='#temp.class-3.sentence-2'>.</a></div> <div id='temp.class-3.sentence-3' class='sentence'>The template argument list following the class template name in the member
definition shall name the parameters in the same order as the one used in
the template parameter list of the member<a class='hidden_link' href='#temp.class-3.sentence-3'>.</a></div> <div id='temp.class-3.sentence-4' class='sentence'>Each template
parameter pack shall be expanded with an ellipsis in the template
argument list<a class='hidden_link' href='#temp.class-3.sentence-4'>.</a></div> <div id='temp.class-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T1, class T2&gt; struct A {
  void f1();
  void f2();
};

template&lt;class T2, class T1&gt; void A&lt;T2,T1&gt;::f1() { }    <span class='comment'>// OK
</span>template&lt;class T2, class T1&gt; void A&lt;T1,T2&gt;::f2() { }    <span class='comment'>// error
</span></pre><pre class='codeblock'>
template&lt;class ... Types&gt; struct B {
  void f3();
  void f4();
};

template&lt;class ... Types&gt; void B&lt;Types ...&gt;::f3() { }   <span class='comment'>// OK
</span>template&lt;class ... Types&gt; void B&lt;Types&gt;::f4() { }       <span class='comment'>// error
</span></pre><pre class='codeblock'>
template&lt;typename T&gt; concept C = true;
template&lt;typename T&gt; concept D = true;

template&lt;C T&gt; struct S {
  void f();
  void g();
  void h();
  template&lt;D U&gt; struct Inner;
};

template&lt;C A&gt; void S&lt;A&gt;::f() { }        <span class='comment'>// OK: <span class='grammarterm'>template-head</span><span class='textit'>s</span> match
</span>template&lt;typename T&gt; void S&lt;T&gt;::g() { } <span class='comment'>// error: no matching declaration for <span class='tcode_in_codeblock'>S&lt;T&gt;</span>
</span>
template&lt;typename T&gt; requires C&lt;T&gt;      <span class='comment'>// error (no diagnostic required): <span class='grammarterm'>template-head</span><span class='textit'>s</span> are
</span>void S&lt;T&gt;::h() { }                      <span class='comment'>// functionally equivalent but not equivalent
</span>
template&lt;C X&gt; template&lt;D Y&gt;
struct S&lt;X&gt;::Inner { };                 <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2193'>#</a></div><div id='temp.class-4.sentence-1' class='sentence'>In a redeclaration, partial
specialization,
explicit specialization or explicit
instantiation of a class template, the
<i ><a href='class#nt:class-key'>class-key</a></i>
shall agree in kind with the original class template declaration (<a href='dcl.type.elab'>[dcl.type.elab]</a>)<a class='hidden_link' href='#temp.class-4.sentence-1'>.</a></div></div><div id='temp.mem.func' class='section'><h4 ><a class='secnum' href='#temp.mem.func' style='min-width:118pt'>17.6.1.1</a> Member functions of class templates <a class='abbr_ref' href='temp.mem.func'>[temp.mem.func]</a></h4><div class='para' id='temp.mem.func-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2203'>#</a></div><div id='temp.mem.func-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':template,member_function'></a></span>A member function
of a class template
may be defined outside of the class
template definition in which it is declared<a class='hidden_link' href='#temp.mem.func-1.sentence-1'>.</a></div> <div id='temp.mem.func-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem.func-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; class Array {
  T* v;
  int sz;
public:
  explicit Array(int);
  T&amp; operator[](int);
  T&amp; elem(int i) { return v[i]; }
};</pre><div id='temp.mem.func-1.sentence-2' class='sentence'>declares three function templates<a class='hidden_link' href='#temp.mem.func-1.sentence-2'>.</a></div> <div id='temp.mem.func-1.sentence-3' class='sentence'>The subscript function might be defined like this:</div><pre class='codeblock'>
template&lt;class T&gt; T&amp; Array&lt;T&gt;::operator[](int i) {
  if (i&lt;0 || sz&lt;=i) error("Array: range error");
  return v[i];
}</pre><div id='temp.mem.func-1.sentence-4' class='sentence'>A constrained member function can be defined out of line:
<pre class='codeblock'>
template&lt;typename T&gt; concept C = requires {
  typename T::type;
};

template&lt;typename T&gt; struct S {
  void f() requires C&lt;T&gt;;
  void g() requires C&lt;T&gt;;
};

template&lt;typename T&gt;
  void S&lt;T&gt;::f() requires C&lt;T&gt; { }      <span class='comment'>// OK
</span>template&lt;typename T&gt;
  void S&lt;T&gt;::g() { }                    <span class='comment'>// error: no matching function in <span class='tcode_in_codeblock'>S&lt;T&gt;</span>
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.mem.func-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2250'>#</a></div><div id='temp.mem.func-2.sentence-1' class='sentence'>The
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i><span class='textit'>s</span>
for a member function of a class template are determined by the
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i><span class='textit'>s</span>
of the type of the object for which the member function is called<a class='hidden_link' href='#temp.mem.func-2.sentence-1'>.</a></div> <div id='temp.mem.func-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem.func-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.mem.func-2.sentence-2' class='sentence'>The
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i>
for
<span class='texttt'>Array&lt;T&gt;&#x200b;::&#x200b;operator[]()</span>
will be determined by the
<span class='texttt'>Array</span>
to which the subscripting operation is applied<a class='hidden_link' href='#temp.mem.func-2.sentence-2'>.</a></div><pre class='codeblock'>
Array&lt;int&gt; v1(20);
Array&lt;dcomplex&gt; v2(30);

v1[3] = 7;                              <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;int&gt;&#x200b;::&#x200b;operator[]()</span>
</span>v2[3] = dcomplex(7,8);                  <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;dcomplex&gt;&#x200b;::&#x200b;operator[]()</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='temp.mem.class' class='section'><h4 ><a class='secnum' href='#temp.mem.class' style='min-width:118pt'>17.6.1.2</a> Member classes of class templates <a class='abbr_ref' href='temp.mem.class'>[temp.mem.class]</a></h4><div class='para' id='temp.mem.class-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2276'>#</a></div><div id='temp.mem.class-1.sentence-1' class='sentence'>A member class of a class template may be defined outside the class template
definition in which it is declared<a class='hidden_link' href='#temp.mem.class-1.sentence-1'>.</a></div> <div id='temp.mem.class-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.mem.class-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.mem.class-1.sentence-2' class='sentence'>The member class must be defined before its first use that requires
an instantiation (<a href='temp.inst'>[temp.inst]</a>)<a class='hidden_link' href='#temp.mem.class-1.sentence-2'>.</a></div> <div id='temp.mem.class-1.sentence-3' class='sentence'>For example,</div><pre class='codeblock'>
template&lt;class T&gt; struct A {
  class B;
};
A&lt;int&gt;::B* b1;                          <span class='comment'>// OK: requires <span class='tcode_in_codeblock'>A</span> to be defined but not <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span>
</span>template&lt;class T&gt; class A&lt;T&gt;::B { };
A&lt;int&gt;::B  b2;                          <span class='comment'>// OK: requires <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> to be defined
</span></pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='temp.static' class='section'><h4 ><a class='secnum' href='#temp.static' style='min-width:118pt'>17.6.1.3</a> Static data members of class templates <a class='abbr_ref' href='temp.static'>[temp.static]</a></h4><div class='para' id='temp.static-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2296'>#</a></div><div id='temp.static-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member,template_and_static'></a></span>A definition for a static data member or static data member template may be
provided in a namespace scope enclosing the definition of the static member's
class template<a class='hidden_link' href='#temp.static-1.sentence-1'>.</a></div> <div id='temp.static-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.static-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; class X {
  static T s;
};
template&lt;class T&gt; T X&lt;T&gt;::s = 0;

struct limits {
  template&lt;class T&gt;
    static const T min;                 <span class='comment'>// declaration
</span>};

template&lt;class T&gt;
  const T limits::min = { };            <span class='comment'>// definition
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.static-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2319'>#</a></div><div id='temp.static-2.sentence-1' class='sentence'>An explicit specialization of a static data member declared as an array of unknown
bound can have a different bound from its definition, if any<a class='hidden_link' href='#temp.static-2.sentence-1'>.</a></div> <div id='temp.static-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.static-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; struct A {
  static int i[];
};
template &lt;class T&gt; int A&lt;T&gt;::i[4];      <span class='comment'>// 4 elements
</span>template &lt;&gt; int A&lt;int&gt;::i[] = { 1 };    <span class='comment'>// OK: 1 element
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='temp.mem.enum' class='section'><h4 ><a class='secnum' href='#temp.mem.enum' style='min-width:118pt'>17.6.1.4</a> Enumeration members of class templates <a class='abbr_ref' href='temp.mem.enum'>[temp.mem.enum]</a></h4><div class='para' id='temp.mem.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.enum-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2334'>#</a></div><div id='temp.mem.enum-1.sentence-1' class='sentence'>An enumeration member of a class template may be defined outside the class
template definition<a class='hidden_link' href='#temp.mem.enum-1.sentence-1'>.</a></div> <div id='temp.mem.enum-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem.enum-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct A {
  enum E : T;
};
A&lt;int&gt; a;
template&lt;class T&gt; enum A&lt;T&gt;::E : T { e1, e2 };
A&lt;int&gt;::E e = A&lt;int&gt;::e1;</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='temp.mem' class='section'><h3 ><a class='secnum' href='#temp.mem' style='min-width:103pt'>17.6.2</a> Member templates <a class='abbr_ref' href='temp.mem'>[temp.mem]</a></h3><div class='para' id='temp.mem-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2350'>#</a></div><div id='temp.mem-1.sentence-1' class='sentence'>A template can be declared within a class or class template; such a template
is called a member template<a class='hidden_link' href='#temp.mem-1.sentence-1'>.</a></div> <div id='temp.mem-1.sentence-2' class='sentence'>A member template can be defined within or outside its class definition or
class template definition<a class='hidden_link' href='#temp.mem-1.sentence-2'>.</a></div> <div id='temp.mem-1.sentence-3' class='sentence'>A member template of a class template that is defined outside of its class
template definition shall be specified with
a <i ><a href='temp#nt:template-head'>template-head</a></i> equivalent to that
of the class template followed by
a <i ><a href='temp#nt:template-head'>template-head</a></i> equivalent to that
of the member template (<a href='temp.over.link'>[temp.over.link]</a>)<a class='hidden_link' href='#temp.mem-1.sentence-3'>.</a></div> <div id='temp.mem-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct string {
  template&lt;class T2&gt; int compare(const T2&amp;);
  template&lt;class T2&gt; string(const string&lt;T2&gt;&amp; s) { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }
};

template&lt;class T&gt; template&lt;class T2&gt; int string&lt;T&gt;::compare(const T2&amp; s) {
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.mem-1.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem-1.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C1 = true;
template&lt;typename T&gt; concept C2 = sizeof(T) &lt;= 4;

template&lt;C1 T&gt; struct S {
  template&lt;C2 U&gt; void f(U);
  template&lt;C2 U&gt; void g(U);
};

template&lt;C1 T&gt; template&lt;C2 U&gt;
void S&lt;T&gt;::f(U) { }             <span class='comment'>// OK
</span>template&lt;C1 T&gt; template&lt;typename U&gt;
void S&lt;T&gt;::g(U) { }             <span class='comment'>// error: no matching function in <span class='tcode_in_codeblock'>S&lt;T&gt;</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.mem-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2389'>#</a></div><div id='temp.mem-2.sentence-1' class='sentence'>A local class of non-closure type shall not have member templates<a class='hidden_link' href='#temp.mem-2.sentence-1'>.</a></div> <div id='temp.mem-2.sentence-2' class='sentence'><a href='class.access'>Access control rules</a>
apply to member template names<a class='hidden_link' href='#temp.mem-2.sentence-2'>.</a></div> <div id='temp.mem-2.sentence-3' class='sentence'>A destructor shall not be a member
template<a class='hidden_link' href='#temp.mem-2.sentence-3'>.</a></div> <div id='temp.mem-2.sentence-4' class='sentence'>A non-template member function (<a href='dcl.fct'>[dcl.fct]</a>) with a given name
and type and a member function template of the same name, which could be
used to generate a specialization of the same type, can both be
declared in a class<a class='hidden_link' href='#temp.mem-2.sentence-4'>.</a></div> <div id='temp.mem-2.sentence-5' class='sentence'>When both exist, a use of that name and type refers to the
non-template member unless an explicit template argument list is supplied<a class='hidden_link' href='#temp.mem-2.sentence-5'>.</a></div> <div id='temp.mem-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; struct A {
  void f(int);
  template &lt;class T2&gt; void f(T2);
};

template &lt;&gt; void A&lt;int&gt;::f(int) { }                 <span class='comment'>// non-template member function
</span>template &lt;&gt; template &lt;&gt; void A&lt;int&gt;::f&lt;&gt;(int) { }   <span class='comment'>// member function template specialization
</span>
int main() {
  A&lt;char&gt; ac;
  ac.f(1);                                          <span class='comment'>// non-template
</span>  ac.f('c');                                        <span class='comment'>// template
</span>  ac.f&lt;&gt;(1);                                        <span class='comment'>// template
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.mem-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2420'>#</a></div><div id='temp.mem-3.sentence-1' class='sentence'>A member function template shall not be virtual<a class='hidden_link' href='#temp.mem-3.sentence-1'>.</a></div> <div id='temp.mem-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; struct AA {
  template &lt;class C&gt; virtual void g(C);             <span class='comment'>// error
</span>  virtual void f();                                 <span class='comment'>// OK
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.mem-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2432'>#</a></div><div id='temp.mem-4.sentence-1' class='sentence'>A specialization of
a member function template does not override a virtual function from a
base class<a class='hidden_link' href='#temp.mem-4.sentence-1'>.</a></div> <div id='temp.mem-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class B {
  virtual void f(int);
};

class D : public B {
  template &lt;class T&gt; void f(T); <span class='comment'>// does not override <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span>
</span>  void f(int i) { f&lt;&gt;(i); }     <span class='comment'>// overriding function that calls the template instantiation
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.mem-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2449'>#</a></div><div id='temp.mem-5.sentence-1' class='sentence'>A specialization of a
conversion function template
is referenced in
the same way as a non-template conversion function that converts to
the same type<a class='hidden_link' href='#temp.mem-5.sentence-1'>.</a></div> <div id='temp.mem-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.mem-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  template &lt;class T&gt; operator T*();
};
template &lt;class T&gt; A::operator T*(){ return 0; }
template &lt;&gt; A::operator char*(){ return 0; }        <span class='comment'>// specialization
</span>template A::operator void*();                       <span class='comment'>// explicit instantiation
</span>
int main() {
  A a;
  int* ip;
  ip = a.operator int*();       <span class='comment'>// explicit call to template operator <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;operator int*()</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.mem-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.mem-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.mem-5.sentence-2' class='sentence'>Because the explicit template argument list follows the function template
name, and because conversion member function templates and constructor
member function templates are called without using a function name,
there is no way to provide an explicit template argument list for these
function templates<a class='hidden_link' href='#temp.mem-5.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.mem-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2480'>#</a></div><div id='temp.mem-6.sentence-1' class='sentence'>A specialization of a
conversion function template
is not found by name
lookup<a class='hidden_link' href='#temp.mem-6.sentence-1'>.</a></div> <div id='temp.mem-6.sentence-2' class='sentence'>Instead, any
conversion function templates
visible in the
context of the use are considered<a class='hidden_link' href='#temp.mem-6.sentence-2'>.</a></div> <div id='temp.mem-6.sentence-3' class='sentence'>For each such operator, if argument
deduction succeeds (<a href='temp.deduct.conv'>[temp.deduct.conv]</a>), the resulting specialization is
used as if found by name lookup<a class='hidden_link' href='#temp.mem-6.sentence-3'>.</a></div></div><div class='para' id='temp.mem-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2493'>#</a></div><div id='temp.mem-7.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> in a derived class cannot refer to a specialization
of a
conversion function template
in a base class<a class='hidden_link' href='#temp.mem-7.sentence-1'>.</a></div></div><div class='para' id='temp.mem-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2499'>#</a></div><div id='temp.mem-8.sentence-1' class='sentence'><a href='over.ics.rank'>Overload resolution</a> and <a href='temp.func.order'>partial
ordering</a> are used to select the best conversion function
among multiple
specializations of conversion function templates
and/or non-template
conversion functions<a class='hidden_link' href='#temp.mem-8.sentence-1'>.</a></div></div></div><div id='temp.variadic' class='section'><h3 ><a class='secnum' href='#temp.variadic' style='min-width:103pt'>17.6.3</a> Variadic templates <a class='abbr_ref' href='temp.variadic'>[temp.variadic]</a></h3><div class='para' id='temp.variadic-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2509'>#</a></div><div id='temp.variadic-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:template_parameter_pack' id='def:template_parameter_pack'><i >template parameter pack</i></a> is a template parameter
that accepts zero or more template arguments<a class='hidden_link' href='#temp.variadic-1.sentence-1'>.</a></div> <div id='temp.variadic-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.variadic-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class ... Types&gt; struct Tuple { };

Tuple&lt;&gt; t0;                     <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains no arguments
</span>Tuple&lt;int&gt; t1;                  <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains one argument: <span class='tcode_in_codeblock'>int</span>
</span>Tuple&lt;int, float&gt; t2;           <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>float</span>
</span>Tuple&lt;0&gt; error;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>0</span> is not a type
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.variadic-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2524'>#</a></div><div id='temp.variadic-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:function_parameter_pack' id='def:function_parameter_pack'><i >function parameter pack</i></a> is a function parameter
that accepts zero or more function arguments<a class='hidden_link' href='#temp.variadic-2.sentence-1'>.</a></div> <div id='temp.variadic-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.variadic-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class ... Types&gt; void f(Types ... args);

f();                            <span class='comment'>// OK: <span class='tcode_in_codeblock'>args</span> contains no arguments
</span>f(1);                           <span class='comment'>// OK: <span class='tcode_in_codeblock'>args</span> contains one argument: <span class='tcode_in_codeblock'>int</span>
</span>f(2, 1.0);                      <span class='comment'>// OK: <span class='tcode_in_codeblock'>args</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>double</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.variadic-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2538'>#</a></div><div id='temp.variadic-3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:parameter_pack' id='def:parameter_pack'><i >parameter pack</i></a> is either a template parameter
pack or a function parameter pack<a class='hidden_link' href='#temp.variadic-3.sentence-1'>.</a></div></div><div class='para' id='temp.variadic-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2542'>#</a></div><div id='temp.variadic-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:pack_expansion' id='def:pack_expansion'><i >pack expansion</i></a>
consists of a <a class='hidden_link' href='#def:pack_expansion,pattern' id='def:pack_expansion,pattern'><i >pattern</i></a> and an ellipsis, the instantiation of which
produces zero or more instantiations of the pattern in a list (described below)<a class='hidden_link' href='#temp.variadic-4.sentence-1'>.</a></div> <div id='temp.variadic-4.sentence-2' class='sentence'>The form of the pattern
depends on the context in which the expansion occurs<a class='hidden_link' href='#temp.variadic-4.sentence-2'>.</a></div> <div id='temp.variadic-4.sentence-3' class='sentence'>Pack
expansions can occur in the following contexts:</div><div id='temp.variadic-4.sentence-4' class='sentence'><ul class='itemize'><li id='temp.variadic-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.1'>(4.1)</a></div><div id='temp.variadic-4.1.sentence-1' class='sentence'>In a function parameter pack (<a href='dcl.fct'>[dcl.fct]</a>); the pattern is the
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> without the ellipsis<a class='hidden_link' href='#temp.variadic-4.1.sentence-1'>.</a></div></li><li id='temp.variadic-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.2'>(4.2)</a></div><div id='temp.variadic-4.2.sentence-1' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>;
the pattern is a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#temp.variadic-4.2.sentence-1'>.</a></div></li><li id='temp.variadic-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.3'>(4.3)</a></div><div id='temp.variadic-4.3.sentence-1' class='sentence'>In a template parameter pack that is a pack expansion (<a href='temp.param'>[temp.param]</a>):</div><div id='temp.variadic-4.3.sentence-2' class='sentence'><ul class='itemize'><li id='temp.variadic-4.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#temp.variadic-4.3.1'>(4.3.1)</a></div><div id='temp.variadic-4.3.1.sentence-1' class='sentence'>if the template parameter pack is a <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>;
the pattern is the <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> without the ellipsis;</div></li><li id='temp.variadic-4.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#temp.variadic-4.3.2'>(4.3.2)</a></div><div id='temp.variadic-4.3.2.sentence-1' class='sentence'>if the template parameter pack is a <i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i> with a
<i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i>; the pattern is the corresponding
<i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i> without the ellipsis<a class='hidden_link' href='#temp.variadic-4.3.2.sentence-1'>.</a></div></li></ul></div></li><li id='temp.variadic-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.4'>(4.4)</a></div><div id='temp.variadic-4.4.sentence-1' class='sentence'>In an <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>;
the pattern is an <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><a class='hidden_link' href='#temp.variadic-4.4.sentence-1'>.</a></div></li><li id='temp.variadic-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.5'>(4.5)</a></div><div id='temp.variadic-4.5.sentence-1' class='sentence'>In a <i ><a href='class.derived#nt:base-specifier-list'>base-specifier-list</a></i>;
the pattern is a <i ><a href='class.derived#nt:base-specifier'>base-specifier</a></i><a class='hidden_link' href='#temp.variadic-4.5.sentence-1'>.</a></div></li><li id='temp.variadic-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.6'>(4.6)</a></div><div id='temp.variadic-4.6.sentence-1' class='sentence'>In a <i ><a href='class.base.init#nt:mem-initializer-list'>mem-initializer-list</a></i> for a
<i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i> whose <i ><a href='class.base.init#nt:mem-initializer-id'>mem-initializer-id</a></i> denotes a
base class; the pattern is the <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i><a class='hidden_link' href='#temp.variadic-4.6.sentence-1'>.</a></div></li><li id='temp.variadic-4.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.7'>(4.7)</a></div><div id='temp.variadic-4.7.sentence-1' class='sentence'>In a <i ><a href='temp.names#nt:template-argument-list'>template-argument-list</a></i> (<a href='temp.arg'>[temp.arg]</a>);
the pattern is a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i><a class='hidden_link' href='#temp.variadic-4.7.sentence-1'>.</a></div></li><li id='temp.variadic-4.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.8'>(4.8)</a></div><div id='temp.variadic-4.8.sentence-1' class='sentence'>In an <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>; the pattern is
an <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><a class='hidden_link' href='#temp.variadic-4.8.sentence-1'>.</a></div></li><li id='temp.variadic-4.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.9'>(4.9)</a></div><div id='temp.variadic-4.9.sentence-1' class='sentence'>In an <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> (<a href='dcl.align'>[dcl.align]</a>); the pattern is
the <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> without the ellipsis<a class='hidden_link' href='#temp.variadic-4.9.sentence-1'>.</a></div></li><li id='temp.variadic-4.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.10'>(4.10)</a></div><div id='temp.variadic-4.10.sentence-1' class='sentence'>In a <i ><a href='expr.prim.lambda.capture#nt:capture-list'>capture-list</a></i> (<a href='expr.prim.lambda'>[expr.prim.lambda]</a>); the pattern is
a <i ><a href='expr.prim.lambda.capture#nt:capture'>capture</a></i><a class='hidden_link' href='#temp.variadic-4.10.sentence-1'>.</a></div></li><li id='temp.variadic-4.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.11'>(4.11)</a></div><div id='temp.variadic-4.11.sentence-1' class='sentence'>In a <a href='expr.sizeof'><span class='texttt'>sizeof...</span> expression</a>; the pattern is an
<i ><a href='lex.name#nt:identifier'>identifier</a></i><a class='hidden_link' href='#temp.variadic-4.11.sentence-1'>.</a></div></li><li id='temp.variadic-4.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-4.12'>(4.12)</a></div><div id='temp.variadic-4.12.sentence-1' class='sentence'>In a <i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i>;
the pattern is the <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
that contains an unexpanded parameter pack<a class='hidden_link' href='#temp.variadic-4.12.sentence-1'>.</a></div></li></ul></div><div id='temp.variadic-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.variadic-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class ... Types&gt; void f(Types ... rest);
template&lt;class ... Types&gt; void g(Types ... rest) {
  f(&amp;rest ...);     <span class='comment'>// “<span class='tcode_in_codeblock'>&amp;rest ...</span>” is a pack expansion; “<span class='tcode_in_codeblock'>&amp;rest</span>” is its pattern
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.variadic-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2608'>#</a></div><div id='temp.variadic-5.sentence-1' class='sentence'>For the purpose of determining whether a parameter pack satisfies a rule
regarding entities other than parameter packs, the parameter pack is
considered to be the entity that would result from an instantiation of
the pattern in which it appears<a class='hidden_link' href='#temp.variadic-5.sentence-1'>.</a></div></div><div class='para' id='temp.variadic-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2614'>#</a></div><div id='temp.variadic-6.sentence-1' class='sentence'>A parameter pack whose name appears within the pattern of a pack
expansion is expanded by that pack expansion<a class='hidden_link' href='#temp.variadic-6.sentence-1'>.</a></div> <div id='temp.variadic-6.sentence-2' class='sentence'>An appearance of the name of
a parameter pack is only expanded by the innermost enclosing pack expansion<a class='hidden_link' href='#temp.variadic-6.sentence-2'>.</a></div> <div id='temp.variadic-6.sentence-3' class='sentence'>The pattern of a pack expansion shall name one or more parameter packs that
are not expanded by a nested pack expansion; such parameter packs are called
<a class='hidden_link' href='#def:parameter_pack,unexpanded' id='def:parameter_pack,unexpanded'><i >unexpanded parameter packs</i></a> in the pattern<a class='hidden_link' href='#temp.variadic-6.sentence-3'>.</a></div> <div id='temp.variadic-6.sentence-4' class='sentence'>All of the parameter packs expanded
by a pack expansion shall have the same number of arguments specified<a class='hidden_link' href='#temp.variadic-6.sentence-4'>.</a></div> <div id='temp.variadic-6.sentence-5' class='sentence'>An
appearance of a name of a parameter pack that is not expanded is
ill-formed<a class='hidden_link' href='#temp.variadic-6.sentence-5'>.</a></div> <div id='temp.variadic-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.variadic-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename...&gt; struct Tuple {};
template&lt;typename T1, typename T2&gt; struct Pair {};

template&lt;class ... Args1&gt; struct zip {
  template&lt;class ... Args2&gt; struct with {
    typedef Tuple&lt;Pair&lt;Args1, Args2&gt; ... &gt; type;
  };
};

typedef zip&lt;short, int&gt;::with&lt;unsigned short, unsigned&gt;::type T1;
    <span class='comment'>// <span class='tcode_in_codeblock'>T1</span> is <span class='tcode_in_codeblock'>Tuple&lt;Pair&lt;short, unsigned short&gt;, Pair&lt;int, unsigned&gt;&gt;</span>
</span>typedef zip&lt;short&gt;::with&lt;unsigned short, unsigned&gt;::type T2;
    <span class='comment'>// error: different number of arguments specified for <span class='tcode_in_codeblock'>Args1</span> and <span class='tcode_in_codeblock'>Args2</span>
</span>
template&lt;class ... Args&gt;
  void g(Args ... args) {                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>Args</span> is expanded by the function parameter pack <span class='tcode_in_codeblock'>args</span>
</span>    f(const_cast&lt;const Args*&gt;(&amp;args)...);   <span class='comment'>// OK: “<span class='tcode_in_codeblock'>Args</span>” and “<span class='tcode_in_codeblock'>args</span>” are expanded
</span>    f(5 ...);                               <span class='comment'>// error: pattern does not contain any parameter packs
</span>    f(args);                                <span class='comment'>// error: parameter pack “<span class='tcode_in_codeblock'>args</span>” is not expanded
</span>    f(h(args ...) + args ...);              <span class='comment'>// OK: first “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>h</span>,
</span>                                            <span class='comment'>// second “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>f</span>
</span>  }</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.variadic-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2652'>#</a></div><div id='temp.variadic-7.sentence-1' class='sentence'>The instantiation of a pack expansion
that is neither a <span class='texttt'>sizeof...</span> expression
nor a <i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i>
produces a
list
<span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1, \mathtt{E}_2, \dotsc{}, \mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>,
where
<span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the pack expansion parameters<a class='hidden_link' href='#temp.variadic-7.sentence-1'>.</a></div> <div id='temp.variadic-7.sentence-2' class='sentence'>Each
<span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is generated by instantiating the pattern and
replacing each pack expansion parameter with its <span class='math'><span class='mathalpha'>i</span></span>th element<a class='hidden_link' href='#temp.variadic-7.sentence-2'>.</a></div> <div id='temp.variadic-7.sentence-3' class='sentence'>Such an element, in the context of the instantiation, is interpreted as
follows:</div><div id='temp.variadic-7.sentence-4' class='sentence'><ul class='itemize'><li id='temp.variadic-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-7.1'>(7.1)</a></div><div id='temp.variadic-7.1.sentence-1' class='sentence'>if the pack is a template parameter pack, the element is a <a href='temp.param'>template
parameter</a> of the corresponding kind (type or
non-type) designating the type or value from the template
argument; otherwise,</div></li><li id='temp.variadic-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-7.2'>(7.2)</a></div><div id='temp.variadic-7.2.sentence-1' class='sentence'>if the pack is a function parameter pack, the element is an
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
designating the function parameter that resulted from
the instantiation of the pattern where the pack is declared<a class='hidden_link' href='#temp.variadic-7.2.sentence-1'>.</a></div></li></ul></div><div id='temp.variadic-7.sentence-5' class='sentence'>All of the <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> become elements in the enclosing list<a class='hidden_link' href='#temp.variadic-7.sentence-5'>.</a></div> <div id='temp.variadic-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.variadic-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.variadic-7.sentence-8' class='sentence'>The variety of list varies with the context:
<i ><a href='expr.post#nt:expression-list'>expression-list</a></i>,
<i ><a href='class.derived#nt:base-specifier-list'>base-specifier-list</a></i>,
<i ><a href='temp.names#nt:template-argument-list'>template-argument-list</a></i>, etc<a class='hidden_link' href='#temp.variadic-7.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.variadic-7.sentence-6' class='sentence'>
When <span class='math'><span class='mathalpha'>N</span></span> is zero, the instantiation of the expansion produces an empty list<a class='hidden_link' href='#temp.variadic-7.sentence-6'>.</a></div> <div id='temp.variadic-7.sentence-7' class='sentence'>Such an instantiation does not alter the syntactic interpretation of the
enclosing construct, even in cases where omitting the list entirely would
otherwise be ill-formed or would result in an ambiguity in the grammar<a class='hidden_link' href='#temp.variadic-7.sentence-7'>.</a></div> <div id='temp.variadic-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.variadic-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class... T&gt; struct X : T... { };
template&lt;class... T&gt; void f(T... values) {
  X&lt;T...&gt; x(values...);
}

template void f&lt;&gt;();    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&lt;&gt;</span> has no base classes
</span>                        <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is a variable of type <span class='tcode_in_codeblock'>X&lt;&gt;</span> that is value-initialized
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.variadic-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2701'>#</a></div><div id='temp.variadic-8.sentence-1' class='sentence'>The instantiation of a <a href='expr.sizeof'><span class='texttt'>sizeof...</span> expression</a> produces
an integral constant containing the number of elements in the parameter pack
it expands<a class='hidden_link' href='#temp.variadic-8.sentence-1'>.</a></div></div><div class='para' id='temp.variadic-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2706'>#</a></div><div id='temp.variadic-9.sentence-1' class='sentence'>The instantiation of a <i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i> produces:</div><div id='temp.variadic-9.sentence-2' class='sentence'><ul class='itemize'><li id='temp.variadic-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-9.1'>(9.1)</a></div><div id='temp.variadic-9.1.sentence-1' class='sentence'><span class='texttt'>((</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>
           <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'>)</span>
           <span class='textit'>op</span> <span class='math'>⋯</span><span class='texttt'>)</span>
           <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a unary left fold,</div></li><li id='temp.variadic-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-9.2'>(9.2)</a></div><div id='temp.variadic-9.2.sentence-1' class='sentence'><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <span class='textit'>op</span>
<span class='texttt'>(</span><span class='math'>⋯</span>           <span class='textit'>op</span>
<span class='texttt'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_{N-1}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='textit'>op</span>
         <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span><span class='texttt'>))</span>
for a unary right fold,</div></li><li id='temp.variadic-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-9.3'>(9.3)</a></div><div id='temp.variadic-9.3.sentence-1' class='sentence'><span class='texttt'>(((</span><span class='math'><span class='mathtt'>E</span></span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><span class='texttt'>)</span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'>)</span>
            <span class='textit'>op</span> <span class='math'>⋯</span><span class='texttt'>)</span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a binary left fold, and</div></li><li id='temp.variadic-9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-9.4'>(9.4)</a></div><div id='temp.variadic-9.4.sentence-1' class='sentence'><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <span class='textit'>op</span>
<span class='texttt'>(</span><span class='math'>⋯</span>           <span class='textit'>op</span>
<span class='texttt'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_{N-1}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='textit'>op</span>
<span class='texttt'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_{N}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span></span></span>   <span class='textit'>op</span>
         <span class='math'><span class='mathtt'>E</span></span><span class='texttt'>)))</span>
for a binary right fold<a class='hidden_link' href='#temp.variadic-9.4.sentence-1'>.</a></div></li></ul></div><div id='temp.variadic-9.sentence-3' class='sentence'>In each case,
<span class='textit'>op</span> is the <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i>,
<span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the pack expansion parameters,
and each <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is generated by instantiating the pattern
and replacing each pack expansion parameter with its <span class='math'><span class='mathalpha'>i</span></span>th element<a class='hidden_link' href='#temp.variadic-9.sentence-3'>.</a></div> <div id='temp.variadic-9.sentence-4' class='sentence'>For a binary fold-expression,
<span class='math'><span class='mathtt'>E</span></span> is generated
by instantiating the <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
that did not contain an unexpanded parameter pack<a class='hidden_link' href='#temp.variadic-9.sentence-4'>.</a></div> <div id='temp.variadic-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.variadic-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename ...Args&gt;
  bool all(Args ...args) { return (... &amp;&amp; args); }

bool b = all(true, true, true, false);</pre> <div id='temp.variadic-9.sentence-6' class='sentence'>
Within the instantiation of <span class='texttt'>all</span>,
the returned expression expands to
<span class='texttt'>((true &amp;&amp; true) &amp;&amp; true) &amp;&amp; false</span>,
which evaluates to <span class='texttt'>false</span><a class='hidden_link' href='#temp.variadic-9.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.variadic-9.sentence-5' class='sentence'>
If <span class='math'><span class='mathalpha'>N</span></span> is zero for a unary fold-expression,
the value of the expression is shown in Table <a href='#tab:fold.empty'>14</a>;
if the operator is not listed in Table <a href='#tab:fold.empty'>14</a>,
the instantiation is ill-formed<a class='hidden_link' href='#temp.variadic-9.sentence-5'>.</a></div><div class='numberedTable' id='tab:fold.empty'>Table <a href='#tab:fold.empty'>14</a> — Value of folding empty sequences<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='temp.variadic-9.sentence-7' class='sentence'><b>Operator</b></div></td><td colspan='1' class='center'><div id='temp.variadic-9.sentence-8' class='sentence'><b>Value when parameter pack is empty</b></div></td></tr><tr class='capsep'><td class='left'><div id='temp.variadic-9.sentence-9' class='sentence'><span class='texttt'>&amp;&amp;</span></div></td><td class='left'><div id='temp.variadic-9.sentence-10' class='sentence'><span class='texttt'>true</span></div></td></tr><tr ><td class='left'><div id='temp.variadic-9.sentence-11' class='sentence'><span class='texttt'>||</span></div></td><td class='left'><div id='temp.variadic-9.sentence-12' class='sentence'><span class='texttt'>false</span></div></td></tr><tr ><td class='left'><div id='temp.variadic-9.sentence-13' class='sentence'><span class='texttt'>,</span></div></td><td class='left'><div id='temp.variadic-9.sentence-14' class='sentence'><span class='texttt'>void()</span></div></td></tr></table></div></div></div><div id='temp.friend' class='section'><h3 ><a class='secnum' href='#temp.friend' style='min-width:103pt'>17.6.4</a> Friends <a class='abbr_ref' href='temp.friend'>[temp.friend]</a></h3><div class='para' id='temp.friend-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2776'>#</a></div><div id='temp.friend-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend,template_and'></a></span>A friend of a class or class template can be a function template or
class template, a specialization of a function template or class
template, or a non-template function or class<a class='hidden_link' href='#temp.friend-1.sentence-1'>.</a></div> <div id='temp.friend-1.sentence-2' class='sentence'>For a friend function declaration that is not a template declaration:</div><div id='temp.friend-1.sentence-3' class='sentence'><ul class='itemize'><li id='temp.friend-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.1'>(1.1)</a></div><div id='temp.friend-1.1.sentence-1' class='sentence'>if the name of the friend is a qualified or unqualified <i ><a href='temp.names#nt:template-id'>template-id</a></i>,
the friend declaration refers to a specialization of a function
template, otherwise,</div></li><li id='temp.friend-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.2'>(1.2)</a></div><div id='temp.friend-1.2.sentence-1' class='sentence'>if the name of the friend is a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> and a matching non-template
function is found in the specified class or namespace, the friend
declaration refers to that function, otherwise,</div></li><li id='temp.friend-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.3'>(1.3)</a></div><div id='temp.friend-1.3.sentence-1' class='sentence'>if the name of the friend is a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> and a matching
function template
is found in the specified class
or namespace, the friend declaration refers to
the deduced specialization of that function template (<a href='temp.deduct.decl'>[temp.deduct.decl]</a>), otherwise,</div></li><li id='temp.friend-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.4'>(1.4)</a></div><div id='temp.friend-1.4.sentence-1' class='sentence'>the name shall be an <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> that declares (or redeclares) a
non-template function<a class='hidden_link' href='#temp.friend-1.4.sentence-1'>.</a></div></li></ul></div><div id='temp.friend-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.friend-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; class task;
template&lt;class T&gt; task&lt;T&gt;* preempt(task&lt;T&gt;*);

template&lt;class T&gt; class task {
  friend void next_time();
  friend void process(task&lt;T&gt;*);
  friend task&lt;T&gt;* preempt&lt;T&gt;(task&lt;T&gt;*);
  template&lt;class C&gt; friend int func(C);

  friend class task&lt;int&gt;;
  template&lt;class P&gt; friend class frd;
};</pre><div id='temp.friend-1.sentence-4' class='sentence'>Here,
each specialization of the
<span class='texttt'>task</span>
class template has the function
<span class='texttt'>next_&shy;time</span>
as a friend;
because
<span class='texttt'>process</span>
does not have explicit
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i><span class='textit'>s</span>,
each specialization of the
<span class='texttt'>task</span>
class template has an appropriately typed function
<span class='texttt'>process</span>
as a friend, and this friend is not a function template specialization;
because the friend
<span class='texttt'>preempt</span>
has an explicit
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i>
<span class='texttt'>T</span>,
each specialization of the
<span class='texttt'>task</span>
class template has the appropriate specialization of the function
template
<span class='texttt'>preempt</span>
as a friend;
and each specialization of the
<span class='texttt'>task</span>
class template has all specializations of the function template
<span class='texttt'>func</span>
as friends<a class='hidden_link' href='#temp.friend-1.sentence-4'>.</a></div> <div id='temp.friend-1.sentence-5' class='sentence'>Similarly,
each specialization of the
<span class='texttt'>task</span>
class template has the class template specialization
<span class='texttt'>task&lt;int&gt;</span>
as a friend, and has all specializations of the class template
<span class='texttt'>frd</span>
as friends<a class='hidden_link' href='#temp.friend-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.friend-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2860'>#</a></div><div id='temp.friend-2.sentence-1' class='sentence'>A friend template may be declared within a class or class template<a class='hidden_link' href='#temp.friend-2.sentence-1'>.</a></div> <div id='temp.friend-2.sentence-2' class='sentence'>A friend function template may be defined within a class or class
template, but a friend class template may not be defined in a class
or class template<a class='hidden_link' href='#temp.friend-2.sentence-2'>.</a></div> <div id='temp.friend-2.sentence-3' class='sentence'>In these cases, all specializations of the friend class or friend function
template are friends of the class or class template granting friendship<a class='hidden_link' href='#temp.friend-2.sentence-3'>.</a></div> <div id='temp.friend-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.friend-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class A {
  template&lt;class T&gt; friend class B;                 <span class='comment'>// OK
</span>  template&lt;class T&gt; friend void f(T){ <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }   <span class='comment'>// OK
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.friend-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2876'>#</a></div><div id='temp.friend-3.sentence-1' class='sentence'>A template friend declaration specifies that all specializations of that
template, whether they are <a href='temp.inst'>implicitly instantiated</a>, <a href='temp.class.spec'>partially
specialized</a> or <a href='temp.expl.spec'>explicitly specialized</a>,
are friends of the class containing the template friend declaration<a class='hidden_link' href='#temp.friend-3.sentence-1'>.</a></div> <div id='temp.friend-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.friend-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class X {
  template&lt;class T&gt; friend struct A;
  class Y { };
};

template&lt;class T&gt; struct A { X::Y ab; };            <span class='comment'>// OK
</span>template&lt;class T&gt; struct A&lt;T*&gt; { X::Y ab; };        <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.friend-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2893'>#</a></div><div id='temp.friend-4.sentence-1' class='sentence'>A template friend declaration may declare
a member of a dependent type to be a friend<a class='hidden_link' href='#temp.friend-4.sentence-1'>.</a></div> <div id='temp.friend-4.sentence-2' class='sentence'>The friend declaration shall declare a function or
specify a type with an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>,
in either case with a <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
ending with a <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>, <span class='textit'>C</span>,
whose <i ><a href='temp.names#nt:template-name'>template-name</a></i> names a class template<a class='hidden_link' href='#temp.friend-4.sentence-2'>.</a></div> <div id='temp.friend-4.sentence-3' class='sentence'>The template parameters of the template friend declaration
shall be deducible from <span class='textit'>C</span> (<a href='temp.deduct.type'>[temp.deduct.type]</a>)<a class='hidden_link' href='#temp.friend-4.sentence-3'>.</a></div> <div id='temp.friend-4.sentence-4' class='sentence'>In this case,
a member of a specialization <span class='textit'>S</span> of the class template
is a friend of the class granting friendship
if deduction of the template parameters
of <span class='textit'>C</span> from <span class='textit'>S</span> succeeds, and
substituting the deduced template arguments into the friend declaration
produces a declaration that would be a valid redeclaration
of the member of the specialization<a class='hidden_link' href='#temp.friend-4.sentence-4'>.</a></div> <div id='temp.friend-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.friend-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct A {
  struct B { };
  void f();
  struct D {
    void g();
  };
  T h();
  template&lt;T U&gt; T i();
};
template&lt;&gt; struct A&lt;int&gt; {
  struct B { };
  int f();
  struct D {
    void g();
  };
  template&lt;int U&gt; int i();
};
template&lt;&gt; struct A&lt;float*&gt; {
  int *h();
};

class C {
  template&lt;class T&gt; friend struct A&lt;T&gt;::B;      <span class='comment'>// grants friendship to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;B</span> even though
</span>                                                <span class='comment'>// it is not a specialization of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;B</span>
</span>  template&lt;class T&gt; friend void A&lt;T&gt;::f();      <span class='comment'>// does not grant friendship to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;f()</span>
</span>                                                <span class='comment'>// because its return type does not match
</span>  template&lt;class T&gt; friend void A&lt;T&gt;::D::g();   <span class='comment'>// ill-formed: <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;D</span> does not end with
</span>                                                <span class='comment'>// a <span class='grammarterm'>simple-template-id</span>
</span>  template&lt;class T&gt; friend int *A&lt;T*&gt;::h();     <span class='comment'>// grants friendship to <span class='tcode_in_codeblock'>A&lt;int*&gt;&#x200b;::&#x200b;h()</span> and <span class='tcode_in_codeblock'>A&lt;float*&gt;&#x200b;::&#x200b;h()</span>
</span>  template&lt;class T&gt; template&lt;T U&gt;               <span class='comment'>// grants friendship to instantiations of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;i()</span> and
</span>    friend T A&lt;T&gt;::i();                         <span class='comment'>// to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;i()</span>, and thereby to all specializations
</span>};                                              <span class='comment'>// of those function templates
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.friend-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2949'>#</a></div><div id='temp.friend-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.friend-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.friend-5.sentence-1' class='sentence'>A friend declaration may first declare a member of an enclosing namespace scope (<a href='temp.inject'>[temp.inject]</a>)<a class='hidden_link' href='#temp.friend-5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.friend-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2954'>#</a></div><div id='temp.friend-6.sentence-1' class='sentence'>A friend template shall not be declared in a local class<a class='hidden_link' href='#temp.friend-6.sentence-1'>.</a></div></div><div class='para' id='temp.friend-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2957'>#</a></div><div id='temp.friend-7.sentence-1' class='sentence'>Friend declarations shall not declare partial specializations<a class='hidden_link' href='#temp.friend-7.sentence-1'>.</a></div> <div id='temp.friend-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.friend-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; class A { };
class X {
  template&lt;class T&gt; friend class A&lt;T*&gt;;         <span class='comment'>// error
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.friend-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2969'>#</a></div><div id='temp.friend-8.sentence-1' class='sentence'>When a friend declaration refers to a specialization of a function
template, the function parameter declarations shall not include
default arguments, nor shall the inline specifier be used in such a
declaration<a class='hidden_link' href='#temp.friend-8.sentence-1'>.</a></div></div><div class='para' id='temp.friend-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2975'>#</a></div><div id='temp.friend-9.sentence-1' class='sentence'>A non-template friend declaration shall not have a <i ><a href='temp#nt:requires-clause'>requires-clause</a></i><a class='hidden_link' href='#temp.friend-9.sentence-1'>.</a></div></div></div><div id='temp.class.spec' class='section'><h3 ><a class='secnum' href='#temp.class.spec' style='min-width:103pt'>17.6.5</a> Class template partial specializations <a class='abbr_ref' href='temp.class.spec'>[temp.class.spec]</a></h3><div class='para' id='temp.class.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L2980'>#</a></div><div id='temp.class.spec-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specialization,class_template_partial'></a></span>A
<a class='hidden_link' href='#def:template,primary' id='def:template,primary'><i >primary class template</i></a>
declaration is one in which the class template name is an
identifier<a class='hidden_link' href='#temp.class.spec-1.sentence-1'>.</a></div> <div id='temp.class.spec-1.sentence-2' class='sentence'>A template declaration in which the class template name is a
<i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
is a
<a class='hidden_link' href='#def:specialization,class_template_partial' id='def:specialization,class_template_partial'><i >partial specialization</i></a>
of the class template named in the
<i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i><a class='hidden_link' href='#temp.class.spec-1.sentence-2'>.</a></div> <div id='temp.class.spec-1.sentence-3' class='sentence'>A partial specialization of a class template provides an alternative definition
of the template that is used instead of the primary definition when the
arguments in a specialization match those given in the partial
specialization (<a href='temp.class.spec.match'>[temp.class.spec.match]</a>)<a class='hidden_link' href='#temp.class.spec-1.sentence-3'>.</a></div> <div id='temp.class.spec-1.sentence-4' class='sentence'>The primary template shall be declared before any specializations of
that template<a class='hidden_link' href='#temp.class.spec-1.sentence-4'>.</a></div> <div id='temp.class.spec-1.sentence-5' class='sentence'>A partial specialization shall be declared before the first use of a class template
specialization that would make use of the partial specialization as the result of
an implicit or explicit instantiation in every translation unit in which such a use
occurs; no diagnostic is required<a class='hidden_link' href='#temp.class.spec-1.sentence-5'>.</a></div></div><div class='para' id='temp.class.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3004'>#</a></div><div id='temp.class.spec-2.sentence-1' class='sentence'>Each class template partial specialization is a distinct template and
definitions shall be provided for the members of a template partial
specialization (<a href='temp.class.spec.mfunc'>[temp.class.spec.mfunc]</a>)<a class='hidden_link' href='#temp.class.spec-2.sentence-1'>.</a></div></div><div class='para' id='temp.class.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3009'>#</a></div><div id='temp.class.spec-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T1, class T2, int I&gt; class A             { };
template&lt;class T, int I&gt;            class A&lt;T, T*, I&gt;   { };
template&lt;class T1, class T2, int I&gt; class A&lt;T1*, T2, I&gt; { };
template&lt;class T&gt;                   class A&lt;int, T*, 5&gt; { };
template&lt;class T1, class T2, int I&gt; class A&lt;T1, T2*, I&gt; { };</pre><div id='temp.class.spec-3.sentence-1' class='sentence'>The first declaration declares the primary (unspecialized) class template<a class='hidden_link' href='#temp.class.spec-3.sentence-1'>.</a></div> <div id='temp.class.spec-3.sentence-2' class='sentence'>The second and subsequent declarations declare partial specializations of
the primary template<a class='hidden_link' href='#temp.class.spec-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3024'>#</a></div><div id='temp.class.spec-4.sentence-1' class='sentence'>A class template partial specialization may be constrained (<a href='temp'>[temp]</a>)<a class='hidden_link' href='#temp.class.spec-4.sentence-1'>.</a></div> <div id='temp.class.spec-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C = true;

template&lt;typename T&gt; struct X { };
template&lt;typename T&gt; struct X&lt;T*&gt; { };          <span class='comment'>// #1
</span>template&lt;C T&gt; struct X&lt;T&gt; { };                  <span class='comment'>// #2
</span></pre> <div id='temp.class.spec-4.sentence-2' class='sentence'>
Both partial specializations are more specialized than the primary template<a class='hidden_link' href='#temp.class.spec-4.sentence-2'>.</a></div> <div id='temp.class.spec-4.sentence-3' class='sentence'>#1 is more specialized because the deduction of its template arguments
from the template argument list of the class template specialization succeeds,
while the reverse does not<a class='hidden_link' href='#temp.class.spec-4.sentence-3'>.</a></div> <div id='temp.class.spec-4.sentence-4' class='sentence'>#2 is more specialized because the template arguments are equivalent,
but the partial specialization is more constrained (<a href='temp.constr.order'>[temp.constr.order]</a>)<a class='hidden_link' href='#temp.class.spec-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3042'>#</a></div><div id='temp.class.spec-5.sentence-1' class='sentence'>The template parameters are specified in the angle bracket enclosed list
that immediately follows the keyword
<span class='texttt'>template</span><a class='hidden_link' href='#temp.class.spec-5.sentence-1'>.</a></div> <div id='temp.class.spec-5.sentence-2' class='sentence'>For partial specializations, the template argument list is explicitly
written immediately following the class template name<a class='hidden_link' href='#temp.class.spec-5.sentence-2'>.</a></div> <div id='temp.class.spec-5.sentence-3' class='sentence'>For primary templates, this list is implicitly described by the
template parameter list<a class='hidden_link' href='#temp.class.spec-5.sentence-3'>.</a></div> <div id='temp.class.spec-5.sentence-4' class='sentence'>Specifically, the order of the template arguments is the sequence in
which they appear in the template parameter list<a class='hidden_link' href='#temp.class.spec-5.sentence-4'>.</a></div> <div id='temp.class.spec-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.class.spec-5.sentence-5' class='sentence'>The template argument list for the primary template in the example
above is
<span class='texttt'>&lt;T1,</span>
<span class='texttt'>T2,</span>
<span class='texttt'>I&gt;</span><a class='hidden_link' href='#temp.class.spec-5.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.class.spec-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.class.spec-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.class.spec-5.sentence-6' class='sentence'>The template argument list shall not be specified in the primary template
declaration<a class='hidden_link' href='#temp.class.spec-5.sentence-6'>.</a></div> <div id='temp.class.spec-5.sentence-7' class='sentence'>For example,</div><pre class='codeblock'>
template&lt;class T1, class T2, int I&gt;
class A&lt;T1, T2, I&gt; { };                         <span class='comment'>// error
</span></pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3070'>#</a></div><div id='temp.class.spec-6.sentence-1' class='sentence'>A class template partial specialization may be declared in any
scope in which the corresponding primary template
may be defined (<a href='namespace.memdef'>[namespace.memdef]</a>, <a href='class.mem'>[class.mem]</a>, <a href='temp.mem'>[temp.mem]</a>)<a class='hidden_link' href='#temp.class.spec-6.sentence-1'>.</a></div> <div id='temp.class.spec-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct A {
  struct C {
    template&lt;class T2&gt; struct B { };
    template&lt;class T2&gt; struct B&lt;T2**&gt; { };      <span class='comment'>// partial specialization #1
</span>  };
};

<span class='comment'>// partial specialization of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;C&#x200b;::&#x200b;B&lt;T2&gt;</span>
</span>template&lt;class T&gt; template&lt;class T2&gt;
  struct A&lt;T&gt;::C::B&lt;T2*&gt; { };                   <span class='comment'>// #2
</span>
A&lt;short&gt;::C::B&lt;int*&gt; absip;                     <span class='comment'>// uses partial specialization #2
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3092'>#</a></div><div id='temp.class.spec-7.sentence-1' class='sentence'>Partial specialization declarations themselves are not found by name lookup<a class='hidden_link' href='#temp.class.spec-7.sentence-1'>.</a></div> <div id='temp.class.spec-7.sentence-2' class='sentence'>Rather, when the primary template name is used, any previously-declared partial
specializations of the primary template are also considered<a class='hidden_link' href='#temp.class.spec-7.sentence-2'>.</a></div> <div id='temp.class.spec-7.sentence-3' class='sentence'>One consequence is
that a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
which refers to a class template does not restrict the set of partial specializations
which may be found through the
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><a class='hidden_link' href='#temp.class.spec-7.sentence-3'>.</a></div> <div id='temp.class.spec-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace N {
  template&lt;class T1, class T2&gt; class A { };     <span class='comment'>// primary template
</span>}

using N::A;                                     <span class='comment'>// refers to the primary template
</span>
namespace N {
  template&lt;class T&gt; class A&lt;T, T*&gt; { };         <span class='comment'>// partial specialization
</span>}

A&lt;int,int*&gt; a;      <span class='comment'>// uses the partial specialization, which is found through the using-declaration
</span>                    <span class='comment'>// which refers to the primary template
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3120'>#</a></div><div id='temp.class.spec-8.sentence-1' class='sentence'>A non-type argument is non-specialized if it is the name of a non-type
parameter<a class='hidden_link' href='#temp.class.spec-8.sentence-1'>.</a></div> <div id='temp.class.spec-8.sentence-2' class='sentence'>All other non-type arguments are specialized<a class='hidden_link' href='#temp.class.spec-8.sentence-2'>.</a></div></div><div class='para' id='temp.class.spec-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3125'>#</a></div><div id='temp.class.spec-9.sentence-1' class='sentence'>Within the argument list of a class template partial specialization,
the following restrictions apply:</div><div id='temp.class.spec-9.sentence-2' class='sentence'><ul class='itemize'><li id='temp.class.spec-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.1'>(9.1)</a></div><div id='temp.class.spec-9.1.sentence-1' class='sentence'>The type of a template parameter corresponding to a specialized non-type argument
shall not be dependent on a parameter of the specialization<a class='hidden_link' href='#temp.class.spec-9.1.sentence-1'>.</a></div> <div id='temp.class.spec-9.1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec-9.1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T, T t&gt; struct C {};
template &lt;class T&gt; struct C&lt;T, 1&gt;;              <span class='comment'>// error
</span>
template&lt; int X, int (*array_ptr)[X] &gt; class A {};
int array[5];
template&lt; int X &gt; class A&lt;X,&amp;array&gt; { };        <span class='comment'>// error
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='temp.class.spec-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.2'>(9.2)</a></div><div id='temp.class.spec-9.2.sentence-1' class='sentence'>The specialization shall be <a href='temp.class.order#def:more_specialized'>more specialized</a>
than the primary template<a class='hidden_link' href='#temp.class.spec-9.2.sentence-1'>.</a></div></li><li id='temp.class.spec-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.3'>(9.3)</a></div><div id='temp.class.spec-9.3.sentence-1' class='sentence'>The template parameter list of a specialization shall not contain default
template argument values<a class='hidden_link' href='#temp.class.spec-9.3.sentence-1'>.</a><a class='footnotenum' href='#footnote-141'>141</a></div></li><li id='temp.class.spec-9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.4'>(9.4)</a></div><div id='temp.class.spec-9.4.sentence-1' class='sentence'>An argument shall not contain an unexpanded parameter pack<a class='hidden_link' href='#temp.class.spec-9.4.sentence-1'>.</a></div> <div id='temp.class.spec-9.4.sentence-2' class='sentence'>If
an argument is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a>, it shall be
the last argument in the template argument list<a class='hidden_link' href='#temp.class.spec-9.4.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='temp.class.spec-10'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3158'>#</a></div><div id='temp.class.spec-10.sentence-1' class='sentence'>The usual access checking rules do not apply to non-dependent names
used to specify template arguments of the <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
of the partial specialization<a class='hidden_link' href='#temp.class.spec-10.sentence-1'>.</a></div> <div id='temp.class.spec-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.class.spec-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.class.spec-10.sentence-2' class='sentence'>The template arguments may be private types or
objects that would normally not be accessible<a class='hidden_link' href='#temp.class.spec-10.sentence-2'>.</a></div> <div id='temp.class.spec-10.sentence-3' class='sentence'>Dependent names cannot be checked when declaring the partial specialization,
but will be checked when substituting into the partial specialization<a class='hidden_link' href='#temp.class.spec-10.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-141'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-141'>141)</a></div><div id='footnote-141.sentence-1' class='sentence'>There is no way in which they could be used<a class='hidden_link' href='#footnote-141.sentence-1'>.</a></div></div><div id='temp.class.spec.match' class='section'><h4 ><a class='secnum' href='#temp.class.spec.match' style='min-width:118pt'>17.6.5.1</a> Matching of class template partial specializations <a class='abbr_ref' href='temp.class.spec.match'>[temp.class.spec.match]</a></h4><div class='para' id='temp.class.spec.match-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3171'>#</a></div><div id='temp.class.spec.match-1.sentence-1' class='sentence'>When a class template is used in a context that requires an instantiation of
the class,
it is necessary to determine whether the instantiation is to be generated
using the primary template or one of the partial specializations<a class='hidden_link' href='#temp.class.spec.match-1.sentence-1'>.</a></div> <div id='temp.class.spec.match-1.sentence-2' class='sentence'>This is done by matching the template arguments of the class template
specialization with the template argument lists of the partial
specializations<a class='hidden_link' href='#temp.class.spec.match-1.sentence-2'>.</a></div><div id='temp.class.spec.match-1.sentence-3' class='sentence'><ul class='itemize'><li id='temp.class.spec.match-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec.match-1.1'>(1.1)</a></div><div id='temp.class.spec.match-1.1.sentence-1' class='sentence'>If exactly one matching specialization is found, the instantiation is
generated from that specialization<a class='hidden_link' href='#temp.class.spec.match-1.1.sentence-1'>.</a></div></li><li id='temp.class.spec.match-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec.match-1.2'>(1.2)</a></div><div id='temp.class.spec.match-1.2.sentence-1' class='sentence'>If more than one matching specialization is found,
the <a href='temp.class.order'>partial order rules</a> are used to determine
whether one of the specializations is more specialized than the
others<a class='hidden_link' href='#temp.class.spec.match-1.2.sentence-1'>.</a></div> <div id='temp.class.spec.match-1.2.sentence-2' class='sentence'>If none of the specializations is more specialized than all of the
other matching specializations, then the use of the class template
is ambiguous and the program is ill-formed<a class='hidden_link' href='#temp.class.spec.match-1.2.sentence-2'>.</a></div></li><li id='temp.class.spec.match-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec.match-1.3'>(1.3)</a></div><div id='temp.class.spec.match-1.3.sentence-1' class='sentence'>If no matches are found, the instantiation is generated from the
primary template<a class='hidden_link' href='#temp.class.spec.match-1.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='temp.class.spec.match-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3197'>#</a></div><div id='temp.class.spec.match-2.sentence-1' class='sentence'>A partial specialization matches a given actual template argument
list if the template arguments of the partial specialization can be
<a href='temp.deduct'>deduced</a> from the actual template argument list,
and the deduced template arguments satisfy the <a href='temp.constr.decl#def:associated_constraints'>associated constraints</a>
of the partial specialization, if any<a class='hidden_link' href='#temp.class.spec.match-2.sentence-1'>.</a></div> <div id='temp.class.spec.match-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec.match-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T1, class T2, int I&gt; class A             { };    <span class='comment'>// #1
</span>template&lt;class T, int I&gt;            class A&lt;T, T*, I&gt;   { };    <span class='comment'>// #2
</span>template&lt;class T1, class T2, int I&gt; class A&lt;T1*, T2, I&gt; { };    <span class='comment'>// #3
</span>template&lt;class T&gt;                   class A&lt;int, T*, 5&gt; { };    <span class='comment'>// #4
</span>template&lt;class T1, class T2, int I&gt; class A&lt;T1, T2*, I&gt; { };    <span class='comment'>// #5
</span>
A&lt;int, int, 1&gt;   a1;                    <span class='comment'>// uses #1
</span>A&lt;int, int*, 1&gt;  a2;                    <span class='comment'>// uses #2, <span class='tcode_in_codeblock'>T</span> is <span class='tcode_in_codeblock'>int</span>, <span class='tcode_in_codeblock'>I</span> is <span class='tcode_in_codeblock'>1</span>
</span>A&lt;int, char*, 5&gt; a3;                    <span class='comment'>// uses #4, <span class='tcode_in_codeblock'>T</span> is <span class='tcode_in_codeblock'>char</span>
</span>A&lt;int, char*, 1&gt; a4;                    <span class='comment'>// uses #5, <span class='tcode_in_codeblock'>T1</span> is <span class='tcode_in_codeblock'>int</span>, <span class='tcode_in_codeblock'>T2</span> is <span class='tcode_in_codeblock'>char</span>, <span class='tcode_in_codeblock'>I</span> is <span class='tcode_in_codeblock'>1</span>
</span>A&lt;int*, int*, 2&gt; a5;                    <span class='comment'>// ambiguous: matches #3 and #5
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.class.spec.match-2.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec.match-2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C = requires (T t) { t.f(); };

template&lt;typename T&gt; struct S { };      <span class='comment'>// #1
</span>template&lt;C T&gt; struct S&lt;T&gt; { };          <span class='comment'>// #2
</span>
struct Arg { void f(); };

S&lt;int&gt; s1;                              <span class='comment'>// uses #1; the constraints of #2 are not satisfied
</span>S&lt;Arg&gt; s2;                              <span class='comment'>// uses #2; both constraints are satisfied but #2 is more specialized
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec.match-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3232'>#</a></div><div id='temp.class.spec.match-3.sentence-1' class='sentence'>If the template arguments of a partial specialization cannot be deduced
because of the structure of its <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i>
and the <i ><a href='temp.names#nt:template-id'>template-id</a></i>,
the program is ill-formed<a class='hidden_link' href='#temp.class.spec.match-3.sentence-1'>.</a></div> <div id='temp.class.spec.match-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec.match-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;int I, int J&gt; struct A {};
template &lt;int I&gt; struct A&lt;I+5, I*2&gt; {};     <span class='comment'>// error
</span>
template &lt;int I&gt; struct A&lt;I, I&gt; {};         <span class='comment'>// OK
</span>
template &lt;int I, int J, int K&gt; struct B {};
template &lt;int I&gt; struct B&lt;I, I*2, 2&gt; {};    <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec.match-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3249'>#</a></div><div id='temp.class.spec.match-4.sentence-1' class='sentence'>In a type name that refers to a class template specialization, (e.g.,
<span class='texttt'>A&lt;int, int, 1&gt;</span>)
the argument list shall match the template parameter list of the primary
template<a class='hidden_link' href='#temp.class.spec.match-4.sentence-1'>.</a></div> <div id='temp.class.spec.match-4.sentence-2' class='sentence'>The template arguments of a specialization are deduced from the arguments
of the primary template<a class='hidden_link' href='#temp.class.spec.match-4.sentence-2'>.</a></div></div></div><div id='temp.class.order' class='section'><h4 ><a class='secnum' href='#temp.class.order' style='min-width:118pt'>17.6.5.2</a> Partial ordering of class template specializations <a class='abbr_ref' href='temp.class.order'>[temp.class.order]</a></h4><div class='para' id='temp.class.order-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.order-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3259'>#</a></div><div id='temp.class.order-1.sentence-1' class='sentence'>For two class template partial specializations,
the first is <a class='hidden_link' href='#def:more_specialized,class_template' id='def:more_specialized,class_template'><i >more specialized</i></a> than the second if, given the following
rewrite to two function templates, the first function template is more
specialized than the second according to the <a href='temp.func.order'>ordering rules for function
templates</a>:</div><div id='temp.class.order-1.sentence-2' class='sentence'><ul class='itemize'><li id='temp.class.order-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.order-1.1'>(1.1)</a></div><div id='temp.class.order-1.1.sentence-1' class='sentence'>Each of the two
function templates has the same template parameters
and <a href='temp.constr.decl#def:associated_constraints'>associated constraints</a>
as the corresponding partial specialization<a class='hidden_link' href='#temp.class.order-1.1.sentence-1'>.</a></div></li><li id='temp.class.order-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.order-1.2'>(1.2)</a></div><div id='temp.class.order-1.2.sentence-1' class='sentence'>Each function template
has a single function parameter
whose type is a class template specialization where the template arguments
are the corresponding template parameters from the function template
for each template argument
in the <i ><a href='temp.names#nt:template-argument-list'>template-argument-list</a></i>
of the <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
of the partial specialization<a class='hidden_link' href='#temp.class.order-1.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='temp.class.order-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.order-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3283'>#</a></div><div id='temp.class.order-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.order-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;int I, int J, class T&gt; class X { };
template&lt;int I, int J&gt;          class X&lt;I, J, int&gt; { };         <span class='comment'>// #1
</span>template&lt;int I&gt;                 class X&lt;I, I, int&gt; { };         <span class='comment'>// #2
</span>
template&lt;int I0, int J0&gt; void f(X&lt;I0, J0, int&gt;);                <span class='comment'>// A
</span>template&lt;int I0&gt;         void f(X&lt;I0, I0, int&gt;);                <span class='comment'>// B
</span>
template &lt;auto v&gt;    class Y { };
template &lt;auto* p&gt;   class Y&lt;p&gt; { };                            <span class='comment'>// #3
</span>template &lt;auto** pp&gt; class Y&lt;pp&gt; { };                           <span class='comment'>// #4
</span>
template &lt;auto* p0&gt;   void g(Y&lt;p0&gt;);                            <span class='comment'>// C
</span>template &lt;auto** pp0&gt; void g(Y&lt;pp0&gt;);                           <span class='comment'>// D
</span></pre><div id='temp.class.order-2.sentence-1' class='sentence'>According to the ordering rules for function templates,
the function template
<span class='textit'>B</span>
is more specialized than the function template
<span class='textit'>A</span>
and
the function template
<span class='textit'>D</span>
is more specialized than the function template
<span class='textit'>C</span><a class='hidden_link' href='#temp.class.order-2.sentence-1'>.</a></div> <div id='temp.class.order-2.sentence-2' class='sentence'>Therefore, the partial specialization #2
is more specialized than the partial specialization #1
and the partial specialization #4
is more specialized than the partial specialization #3<a class='hidden_link' href='#temp.class.order-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.class.order-2.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.order-2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C = requires (T t) { t.f(); };
template&lt;typename T&gt; concept D = C&lt;T&gt; &amp;&amp; requires (T t) { t.f(); };

template&lt;typename T&gt; class S { };
template&lt;C T&gt; class S&lt;T&gt; { };   <span class='comment'>// #1
</span>template&lt;D T&gt; class S&lt;T&gt; { };   <span class='comment'>// #2
</span>
template&lt;C T&gt; void f(S&lt;T&gt;);     <span class='comment'>// A
</span>template&lt;D T&gt; void f(S&lt;T&gt;);     <span class='comment'>// B
</span></pre> <div id='temp.class.order-2.sentence-3' class='sentence'>
The partial specialization #2 is more specialized than #1
because <span class='texttt'>B</span> is more specialized than <span class='texttt'>A</span><a class='hidden_link' href='#temp.class.order-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='temp.class.spec.mfunc' class='section'><h4 ><a class='secnum' href='#temp.class.spec.mfunc' style='min-width:118pt'>17.6.5.3</a> Members of class template specializations <a class='abbr_ref' href='temp.class.spec.mfunc'>[temp.class.spec.mfunc]</a></h4><div class='para' id='temp.class.spec.mfunc-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.mfunc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3334'>#</a></div><div id='temp.class.spec.mfunc-1.sentence-1' class='sentence'>The template parameter list of a member of a class template partial
specialization shall match the template parameter list of the class template
partial specialization<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-1'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-2' class='sentence'>The template argument list of a member of a class template partial
specialization shall match the template argument list of the class template
partial specialization<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-2'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-3' class='sentence'>A class template specialization is a distinct template<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-3'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-4' class='sentence'>The members of the class template partial specialization are
unrelated to the members of the primary template<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-4'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-5' class='sentence'>Class template partial specialization members that are used in a way that
requires a definition shall be defined; the definitions of members of the
primary template are never used as definitions for members of a class
template partial specialization<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-5'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-6' class='sentence'>An explicit specialization of a member of a class template partial
specialization is declared in the same way as an explicit specialization of
the primary template<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-6'>.</a></div> <div id='temp.class.spec.mfunc-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec.mfunc-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// primary class template
</span>template&lt;class T, int I&gt; struct A {
  void f();
};

<span class='comment'>// member of primary class template
</span>template&lt;class T, int I&gt; void A&lt;T,I&gt;::f() { }

<span class='comment'>// class template partial specialization
</span>template&lt;class T&gt; struct A&lt;T,2&gt; {
  void f();
  void g();
  void h();
};

<span class='comment'>// member of class template partial specialization
</span>template&lt;class T&gt; void A&lt;T,2&gt;::g() { }

<span class='comment'>// explicit specialization
</span>template&lt;&gt; void A&lt;char,2&gt;::h() { }

int main() {
  A&lt;char,0&gt; a0;
  A&lt;char,2&gt; a2;
  a0.f();           <span class='comment'>// OK, uses definition of primary template's member
</span>  a2.g();           <span class='comment'>// OK, uses definition of partial specialization's member
</span>  a2.h();           <span class='comment'>// OK, uses definition of explicit specialization's member
</span>  a2.f();           <span class='comment'>// ill-formed, no definition of <span class='tcode_in_codeblock'>f</span> for <span class='tcode_in_codeblock'>A&lt;T,2&gt;</span>; the primary template is not used here
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.class.spec.mfunc-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.mfunc-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3386'>#</a></div><div id='temp.class.spec.mfunc-2.sentence-1' class='sentence'>If a member template of a class template is partially specialized,
the member template partial specializations are member templates of
the enclosing class template;
if the enclosing class template is instantiated (<a href='temp.inst'>[temp.inst]</a>, <a href='temp.explicit'>[temp.explicit]</a>),
a declaration for every member template partial specialization is also
instantiated as part of creating the members of the class template
specialization<a class='hidden_link' href='#temp.class.spec.mfunc-2.sentence-1'>.</a></div> <div id='temp.class.spec.mfunc-2.sentence-2' class='sentence'>If the primary member template is explicitly specialized for a given
(implicit) specialization of the enclosing class template,
the partial specializations of the member template are ignored for this
specialization of the enclosing class template<a class='hidden_link' href='#temp.class.spec.mfunc-2.sentence-2'>.</a></div> <div id='temp.class.spec.mfunc-2.sentence-3' class='sentence'>If a partial specialization of the member template is explicitly specialized
for a given (implicit) specialization of the enclosing class template,
the primary member template and its other partial specializations are
still considered for this specialization of the enclosing class template<a class='hidden_link' href='#temp.class.spec.mfunc-2.sentence-3'>.</a></div> <div id='temp.class.spec.mfunc-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.class.spec.mfunc-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct A {
  template&lt;class T2&gt; struct B {};                     <span class='comment'>// #1
</span>  template&lt;class T2&gt; struct B&lt;T2*&gt; {};                <span class='comment'>// #2
</span>};

template&lt;&gt; template&lt;class T2&gt; struct A&lt;short&gt;::B {};  <span class='comment'>// #3
</span>
A&lt;char&gt;::B&lt;int*&gt;  abcip;                              <span class='comment'>// uses #2
</span>A&lt;short&gt;::B&lt;int*&gt; absip;                              <span class='comment'>// uses #3
</span>A&lt;char&gt;::B&lt;int&gt;  abci;                                <span class='comment'>// uses #1
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='temp.fct' class='section'><h3 ><a class='secnum' href='#temp.fct' style='min-width:103pt'>17.6.6</a> Function templates <a class='abbr_ref' href='temp.fct'>[temp.fct]</a></h3><div class='para' id='temp.fct-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.fct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3420'>#</a></div><div id='temp.fct-1.sentence-1' class='sentence'>A function template defines an unbounded set of related functions<a class='hidden_link' href='#temp.fct-1.sentence-1'>.</a></div> <div id='temp.fct-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.fct-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.fct-1.sentence-2' class='sentence'>A family of sort functions might be declared like this:</div><pre class='codeblock'>
template&lt;class T&gt; class Array { };
template&lt;class T&gt; void sort(Array&lt;T&gt;&amp;);</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.fct-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.fct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3431'>#</a></div><div id='temp.fct-2.sentence-1' class='sentence'>A function template can be overloaded with other function templates
and with non-template functions (<a href='dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#temp.fct-2.sentence-1'>.</a></div> <div id='temp.fct-2.sentence-2' class='sentence'>A non-template function is not
related to a function template
(i.e., it is never considered to be a specialization),
even if it has the same name and type
as a potentially generated function template specialization<a class='hidden_link' href='#temp.fct-2.sentence-2'>.</a><a class='footnotenum' href='#footnote-142'>142</a></div></div><div class='footnote' id='footnote-142'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-142'>142)</a></div><div id='footnote-142.sentence-1' class='sentence'>That is,
declarations of non-template functions do not merely guide
overload resolution of
function template specializations
with the same name<a class='hidden_link' href='#footnote-142.sentence-1'>.</a></div> <div id='footnote-142.sentence-2' class='sentence'>If such a non-template function is <a href='basic.def.odr'>odr-used</a> in a program, it must be defined;
it will not be implicitly instantiated using the function template definition<a class='hidden_link' href='#footnote-142.sentence-2'>.</a></div></div><div id='temp.over.link' class='section'><h4 ><a class='secnum' href='#temp.over.link' style='min-width:118pt'>17.6.6.1</a> Function template overloading <a class='abbr_ref' href='temp.over.link'>[temp.over.link]</a></h4><div class='para' id='temp.over.link-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3448'>#</a></div><div id='temp.over.link-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading'></a></span>It is possible to overload function templates so that two different
function template specializations have the same type<a class='hidden_link' href='#temp.over.link-1.sentence-1'>.</a></div> <div id='temp.over.link-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.over.link-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div class='minipage'><pre class='codeblock'>
<span class='comment'>// translation unit 1:
</span>template&lt;class T&gt;
  void f(T*);
void g(int* p) {
  f(p); <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int&gt;(int*)</span>
</span>}</pre></div>
<div class='minipage'><pre class='codeblock'>
<span class='comment'>// translation unit 2:
</span>template&lt;class T&gt;
  void f(T);
void h(int* p) {
  f(p); <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int*&gt;(int*)</span>
</span>}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.over.link-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3477'>#</a></div><div id='temp.over.link-2.sentence-1' class='sentence'>Such specializations are distinct functions and do not violate the
<a href='basic.def.odr'>one-definition rule</a><a class='hidden_link' href='#temp.over.link-2.sentence-1'>.</a></div></div><div class='para' id='temp.over.link-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3481'>#</a></div><div id='temp.over.link-3.sentence-1' class='sentence'>The signature of a function template
is defined in <a href='intro.defs'>[intro.defs]</a><a class='hidden_link' href='#temp.over.link-3.sentence-1'>.</a></div> <div id='temp.over.link-3.sentence-2' class='sentence'>The names of the template parameters are significant only for establishing
the relationship between the template parameters and the rest of the
signature<a class='hidden_link' href='#temp.over.link-3.sentence-2'>.</a></div> <div id='temp.over.link-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.over.link-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-3.sentence-3' class='sentence'>Two distinct function templates may have identical function return types and
function parameter lists, even if overload resolution alone cannot distinguish
them<a class='hidden_link' href='#temp.over.link-3.sentence-3'>.</a></div><pre class='codeblock'>
template&lt;class T&gt; void f();
template&lt;int I&gt; void f();       <span class='comment'>// OK: overloads the first template
</span>                                <span class='comment'>// distinguishable with an explicit template argument list
</span></pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.over.link-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3499'>#</a></div><div id='temp.over.link-4.sentence-1' class='sentence'>When an expression that references a template parameter is used in the
function parameter list or the return type in the declaration of a
function template, the expression that references the template
parameter is part of the signature of the function template<a class='hidden_link' href='#temp.over.link-4.sentence-1'>.</a></div> <div id='temp.over.link-4.sentence-2' class='sentence'>This is
necessary to permit a declaration of a function template in one
translation unit to be linked with another declaration of the function
template in another translation unit and, conversely, to ensure that
function templates that are intended to be distinct are not linked
with one another<a class='hidden_link' href='#temp.over.link-4.sentence-2'>.</a></div> <div id='temp.over.link-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.over.link-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;int I, int J&gt; A&lt;I+J&gt; f(A&lt;I&gt;, A&lt;J&gt;);   <span class='comment'>// #1
</span>template &lt;int K, int L&gt; A&lt;K+L&gt; f(A&lt;K&gt;, A&lt;L&gt;);   <span class='comment'>// same as #1
</span>template &lt;int I, int J&gt; A&lt;I-J&gt; f(A&lt;I&gt;, A&lt;J&gt;);   <span class='comment'>// different from #1
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.over.link-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.over.link-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-4.sentence-3' class='sentence'>Most expressions that use template parameters use non-type template
parameters, but it is possible for an expression to reference a type
parameter<a class='hidden_link' href='#temp.over.link-4.sentence-3'>.</a></div> <div id='temp.over.link-4.sentence-4' class='sentence'>For example, a template type parameter can be used in the
<span class='texttt'>sizeof</span> operator<a class='hidden_link' href='#temp.over.link-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.over.link-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3526'>#</a></div><div id='temp.over.link-5.sentence-1' class='sentence'>Two expressions involving template parameters are considered
<a class='hidden_link' href='#def:equivalent,expressions' id='def:equivalent,expressions'><i >equivalent</i></a>
if two function definitions containing the expressions would satisfy
the <a href='basic.def.odr'>one-definition rule</a>, except that the tokens used
to name the template parameters may differ as long as a token used to
name a template parameter in one expression is replaced by another token
that names the same template parameter in the other expression<a class='hidden_link' href='#temp.over.link-5.sentence-1'>.</a></div> <div id='temp.over.link-5.sentence-2' class='sentence'>Two <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><span class='textit'>s</span> are never considered equivalent<a class='hidden_link' href='#temp.over.link-5.sentence-2'>.</a></div> <div id='temp.over.link-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.over.link-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-5.sentence-6' class='sentence'>The intent is to avoid <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><span class='textit'>s</span> appearing in the
signature of a function template with external linkage<a class='hidden_link' href='#temp.over.link-5.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.over.link-5.sentence-3' class='sentence'>
For determining whether two dependent names (<a href='temp.dep'>[temp.dep]</a>) are
equivalent, only the name itself is considered, not the result of name
lookup in the context of the template<a class='hidden_link' href='#temp.over.link-5.sentence-3'>.</a></div> <div id='temp.over.link-5.sentence-4' class='sentence'>If multiple declarations of the
same function template differ in the result of this name lookup, the
result for the first declaration is used<a class='hidden_link' href='#temp.over.link-5.sentence-4'>.</a></div> <div id='temp.over.link-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.over.link-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;int I, int J&gt; void f(A&lt;I+J&gt;);         <span class='comment'>// #1
</span>template &lt;int K, int L&gt; void f(A&lt;K+L&gt;);         <span class='comment'>// same as #1
</span>
template &lt;class T&gt; decltype(g(T())) h();
int g(int);
template &lt;class T&gt; decltype(g(T())) h()         <span class='comment'>// redeclaration of <span class='tcode_in_codeblock'>h()</span> uses the earlier lookup&hellip;
</span>  { return g(T()); }                            <span class='comment'>// &hellip; although the lookup here does find <span class='tcode_in_codeblock'>g(int)</span>
</span>int i = h&lt;int&gt;();                               <span class='comment'>// template argument substitution fails; <span class='tcode_in_codeblock'>g(int)</span>
</span>                                                <span class='comment'>// was not in scope at the first declaration of <span class='tcode_in_codeblock'>h()</span>
</span>
<span class='comment'>// ill-formed, no diagnostic required: the two expressions are functionally equivalent but not equivalent
</span>template &lt;int N&gt; void foo(const char (*s)[([]{}, N)]);
template &lt;int N&gt; void foo(const char (*s)[([]{}, N)]);

<span class='comment'>// two different declarations because the non-dependent portions are not considered equivalent
</span>template &lt;class T&gt; void spam(decltype([]{}) (*s)[sizeof(T)]);
template &lt;class T&gt; void spam(decltype([]{}) (*s)[sizeof(T)]);</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.over.link-5.sentence-5' class='sentence'>Two expressions involving template parameters that are not equivalent are
<a class='hidden_link' href='#def:functionally_equivalent,expressions' id='def:functionally_equivalent,expressions'><i >functionally equivalent</i></a>
if, for any given set of template arguments, the evaluation of the
expression results in the same value<a class='hidden_link' href='#temp.over.link-5.sentence-5'>.</a></div></div><div class='para' id='temp.over.link-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3572'>#</a></div><div id='temp.over.link-6.sentence-1' class='sentence'>Two <i ><a href='temp#nt:template-head'>template-head</a></i><span class='textit'>s</span> are
<a class='hidden_link' href='#def:equivalent,template-heads' id='def:equivalent,template-heads'><i >equivalent</i></a> if
their <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i><span class='textit'>s</span> have the same length,
corresponding <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><span class='textit'>s</span> are equivalent,
and if either has a <i ><a href='temp#nt:requires-clause'>requires-clause</a></i>, they both have
<i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class='textit'>s</span> and the corresponding
<i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i><span class='textit'>s</span> are equivalent<a class='hidden_link' href='#temp.over.link-6.sentence-1'>.</a></div> <div id='temp.over.link-6.sentence-2' class='sentence'>Two <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><span class='textit'>s</span> are
<a class='hidden_link' href='#def:equivalent,template-parameters' id='def:equivalent,template-parameters'><i >equivalent</i></a>
under the following conditions:
<ul class='itemize'><li id='temp.over.link-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.1'>(6.1)</a></div><div id='temp.over.link-6.1.sentence-1' class='sentence'>they declare template parameters of the same kind,</div></li><li id='temp.over.link-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.2'>(6.2)</a></div><div id='temp.over.link-6.2.sentence-1' class='sentence'>if either declares a template parameter pack, they both do,</div></li><li id='temp.over.link-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.3'>(6.3)</a></div><div id='temp.over.link-6.3.sentence-1' class='sentence'>if they declare non-type template parameters, they have
equivalent types,</div></li><li id='temp.over.link-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.4'>(6.4)</a></div><div id='temp.over.link-6.4.sentence-1' class='sentence'>if they declare template template parameters, their template
parameters are equivalent, and</div></li><li id='temp.over.link-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.5'>(6.5)</a></div><div id='temp.over.link-6.5.sentence-1' class='sentence'>if either is declared with a <i ><a href='temp.param#nt:qualified-concept-name'>qualified-concept-name</a></i>,
they both are, and the <i ><a href='temp.param#nt:qualified-concept-name'>qualified-concept-name</a></i><span class='textit'>s</span> are
equivalent<a class='hidden_link' href='#temp.over.link-6.5.sentence-1'>.</a></div></li></ul></div> <div id='temp.over.link-6.sentence-3' class='sentence'>
When determining whether types or <i ><a href='temp.param#nt:qualified-concept-name'>qualified-concept-name</a></i><span class='textit'>s</span>
are equivalent, the rules above are used to compare expressions
involving template parameters<a class='hidden_link' href='#temp.over.link-6.sentence-3'>.</a></div> <div id='temp.over.link-6.sentence-4' class='sentence'>Two <i ><a href='temp#nt:template-head'>template-head</a></i><span class='textit'>s</span> are
<a class='hidden_link' href='#def:functionally_equivalent,template-heads' id='def:functionally_equivalent,template-heads'><i >functionally equivalent</i></a>
if they accept and are satisfied by (<a href='temp.constr.constr'>[temp.constr.constr]</a>)
the same set of template argument lists<a class='hidden_link' href='#temp.over.link-6.sentence-4'>.</a></div></div><div class='para' id='temp.over.link-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3602'>#</a></div><div id='temp.over.link-7.sentence-1' class='sentence'>Two function templates are
<a class='hidden_link' href='#def:equivalent,function_templates' id='def:equivalent,function_templates'><i >equivalent</i></a>
if they
are declared in the same scope,
have the same name,
have equivalent <i ><a href='temp#nt:template-head'>template-head</a></i><span class='textit'>s</span>,
and
have return types, parameter lists,
and trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class='textit'>s</span> (if any)
that are equivalent using the rules described above to compare
expressions involving
template parameters<a class='hidden_link' href='#temp.over.link-7.sentence-1'>.</a></div> <div id='temp.over.link-7.sentence-2' class='sentence'>Two function templates are
<a class='hidden_link' href='#def:functionally_equivalent,function_templates' id='def:functionally_equivalent,function_templates'><i >functionally equivalent</i></a>
if they
are declared in the same scope,
have the same name,
accept and are satisfied by the same set of template argument lists,
and
have return types and parameter lists that
are functionally equivalent using the rules described above to
compare expressions involving
template parameters<a class='hidden_link' href='#temp.over.link-7.sentence-2'>.</a></div> <div id='temp.over.link-7.sentence-3' class='sentence'>If the validity or meaning of the program depends on
whether two constructs are equivalent, and they are
functionally equivalent but not equivalent, the program is ill-formed,
no diagnostic required<a class='hidden_link' href='#temp.over.link-7.sentence-3'>.</a></div></div><div class='para' id='temp.over.link-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3634'>#</a></div><div id='temp.over.link-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.over.link-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-8.sentence-1' class='sentence'>This rule guarantees that equivalent declarations will be linked with
one another, while not requiring implementations to use heroic efforts
to guarantee that functionally equivalent declarations will be treated
as distinct<a class='hidden_link' href='#temp.over.link-8.sentence-1'>.</a></div> <div id='temp.over.link-8.sentence-2' class='sentence'>For example, the last two declarations are functionally
equivalent and would cause a program to be ill-formed:</div><pre class='codeblock'>
<span class='comment'>// guaranteed to be the same
</span>template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);
template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);

<span class='comment'>// guaranteed to be different
</span>template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);
template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+11&gt;);

<span class='comment'>// ill-formed, no diagnostic required
</span>template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);
template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+1+2+3+4&gt;);</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='temp.func.order' class='section'><h4 ><a class='secnum' href='#temp.func.order' style='min-width:118pt'>17.6.6.2</a> Partial ordering of function templates <a class='abbr_ref' href='temp.func.order'>[temp.func.order]</a></h4><div class='para' id='temp.func.order-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3660'>#</a></div><div id='temp.func.order-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,resolution,template'></a></span>If a function template is overloaded,
the use of a function template specialization might be ambiguous because
<a href='temp.deduct'>template argument deduction</a> may associate the function
template specialization with more than one function template declaration<a class='hidden_link' href='#temp.func.order-1.sentence-1'>.</a></div> <div id='temp.func.order-1.sentence-2' class='sentence'><a class='hidden_link' href='#def:template,function,partial_ordering' id='def:template,function,partial_ordering'><i >Partial ordering</i></a>
of overloaded function template declarations is used in the following contexts
to select the function template to which a function template specialization
refers:</div><div id='temp.func.order-1.sentence-3' class='sentence'><ul class='itemize'><li id='temp.func.order-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.1'>(1.1)</a></div><div id='temp.func.order-1.1.sentence-1' class='sentence'>during overload resolution for a call to a function template specialization (<a href='over.match.best'>[over.match.best]</a>);</div></li><li id='temp.func.order-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.2'>(1.2)</a></div><div id='temp.func.order-1.2.sentence-1' class='sentence'>when the address of a function template specialization is taken;</div></li><li id='temp.func.order-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.3'>(1.3)</a></div><div id='temp.func.order-1.3.sentence-1' class='sentence'>when a placement operator delete that is a
function template
specialization
is selected to match a placement operator new (<a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>, <a href='expr.new'>[expr.new]</a>);</div></li><li id='temp.func.order-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.4'>(1.4)</a></div><div id='temp.func.order-1.4.sentence-1' class='sentence'>when a <a href='temp.friend'>friend function declaration</a>, an
<a href='temp.explicit'>explicit instantiation</a> or an <a href='temp.expl.spec'>explicit specialization</a> refers to
a function template specialization<a class='hidden_link' href='#temp.func.order-1.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='temp.func.order-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3688'>#</a></div><div id='temp.func.order-2.sentence-1' class='sentence'>Partial ordering selects which of two function templates is more
specialized than the other by transforming each template in turn
(see next paragraph) and performing template argument deduction
using the function type<a class='hidden_link' href='#temp.func.order-2.sentence-1'>.</a></div> <div id='temp.func.order-2.sentence-2' class='sentence'>The deduction process determines whether
one of the templates is more specialized than the other<a class='hidden_link' href='#temp.func.order-2.sentence-2'>.</a></div> <div id='temp.func.order-2.sentence-3' class='sentence'>If so, the
more specialized template is the one chosen by the partial ordering
process<a class='hidden_link' href='#temp.func.order-2.sentence-3'>.</a></div> <div id='temp.func.order-2.sentence-4' class='sentence'>If both deductions succeed, the partial ordering selects
the more constrained template as described by the rules in
<a href='temp.constr.order'>[temp.constr.order]</a><a class='hidden_link' href='#temp.func.order-2.sentence-4'>.</a></div></div><div class='para' id='temp.func.order-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3701'>#</a></div><div id='temp.func.order-3.sentence-1' class='sentence'>To produce the transformed template, for each type, non-type, or template
template parameter (including
<a href='temp.variadic#def:template_parameter_pack'>template parameter packs</a>
thereof) synthesize a unique type, value, or class template
respectively and substitute it for each occurrence of that parameter
in the function type of the template<a class='hidden_link' href='#temp.func.order-3.sentence-1'>.</a></div> <div id='temp.func.order-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.func.order-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.func.order-3.sentence-5' class='sentence'>The type replacing the placeholder
in the type of the value synthesized for a non-type template parameter
is also a unique synthesized type<a class='hidden_link' href='#temp.func.order-3.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.func.order-3.sentence-2' class='sentence'>
If only one of the function templates <span class='textit'>M</span> is a non-static
member of some class <span class='textit'>A</span>, <span class='textit'>M</span> is considered to have
a new first parameter inserted in its function
parameter list<a class='hidden_link' href='#temp.func.order-3.sentence-2'>.</a></div> <div id='temp.func.order-3.sentence-3' class='sentence'>Given <span class='textit'>cv</span> as the cv-qualifiers of <span class='textit'>M</span>
(if any), the new parameter is of type “rvalue reference to
<span class='textit'>cv</span> <span class='textit'>A</span>” if the optional <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> of
<span class='textit'>M</span> is <span class='texttt'>&amp;&amp;</span> or if <span class='textit'>M</span> has no
<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> and the first parameter of the other
template has rvalue reference type<a class='hidden_link' href='#temp.func.order-3.sentence-3'>.</a></div> <div id='temp.func.order-3.sentence-4' class='sentence'>Otherwise, the new parameter is
of type “lvalue reference to <span class='textit'>cv</span> <span class='textit'>A</span>”<a class='hidden_link' href='#temp.func.order-3.sentence-4'>.</a></div> <div id='temp.func.order-3.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.func.order-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.func.order-3.sentence-6' class='sentence'>This allows a non-static
member to be ordered with respect to a non-member function and for the results
to be equivalent to the ordering of two equivalent non-members<a class='hidden_link' href='#temp.func.order-3.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.func.order-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.func.order-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { };
template&lt;class T&gt; struct B {
  template&lt;class R&gt; int operator*(R&amp;);              <span class='comment'>// #1
</span>};

template&lt;class T, class R&gt; int operator*(T&amp;, R&amp;);   <span class='comment'>// #2
</span>
<span class='comment'>// The declaration of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator*</span> is transformed into the equivalent of
</span><span class='comment'>// <span class='tcode_in_codeblock'>template&lt;class R&gt; int operator*(B&lt;A&gt;&amp;, R&amp;);</span>&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;// #1a
</span>
int main() {
  A a;
  B&lt;A&gt; b;
  b * a;                                            <span class='comment'>// calls #1a
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.func.order-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3746'>#</a></div><div id='temp.func.order-4.sentence-1' class='sentence'>Using the transformed function template's function type,
perform type deduction against the other template as described in <a href='temp.deduct.partial'>[temp.deduct.partial]</a><a class='hidden_link' href='#temp.func.order-4.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='temp.func.order-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.func.order-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct A { A(); };

template&lt;class T&gt; void f(T);
template&lt;class T&gt; void f(T*);
template&lt;class T&gt; void f(const T*);

template&lt;class T&gt; void g(T);
template&lt;class T&gt; void g(T&amp;);

template&lt;class T&gt; void h(const T&amp;);
template&lt;class T&gt; void h(A&lt;T&gt;&amp;);

void m() {
  const int* p;
  f(p);             <span class='comment'>// <span class='tcode_in_codeblock'>f(const T*)</span> is more specialized than <span class='tcode_in_codeblock'>f(T)</span> or <span class='tcode_in_codeblock'>f(T*)</span>
</span>  float x;
  g(x);             <span class='comment'>// ambiguous: <span class='tcode_in_codeblock'>g(T)</span> or <span class='tcode_in_codeblock'>g(T&amp;)</span>
</span>  A&lt;int&gt; z;
  h(z);             <span class='comment'>// overload resolution selects <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span>
</span>  const A&lt;int&gt; z2;
  h(z2);            <span class='comment'>// <span class='tcode_in_codeblock'>h(const T&amp;)</span> is called because <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span> is not callable
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.func.order-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3778'>#</a></div><div id='temp.func.order-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.func.order-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.func.order-5.sentence-1' class='sentence'>Since partial ordering in a call context considers only parameters
for which there are explicit call arguments, some parameters are ignored (namely,
function parameter packs, parameters with default arguments, and ellipsis
parameters)<a class='hidden_link' href='#temp.func.order-5.sentence-1'>.</a></div> <div id='temp.func.order-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.func.order-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; void f(T);                            <span class='comment'>// #1
</span>template&lt;class T&gt; void f(T*, int=1);                    <span class='comment'>// #2
</span>template&lt;class T&gt; void g(T);                            <span class='comment'>// #3
</span>template&lt;class T&gt; void g(T*, ...);                      <span class='comment'>// #4
</span></pre> <pre class='codeblock'>
int main() {
  int* ip;
  f(ip);                                                <span class='comment'>// calls #2
</span>  g(ip);                                                <span class='comment'>// calls #4
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.func.order-5.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.func.order-5.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T, class U&gt; struct A { };

template&lt;class T, class U&gt; void f(U, A&lt;U, T&gt;* p = 0);   <span class='comment'>// #1
</span>template&lt;         class U&gt; void f(U, A&lt;U, U&gt;* p = 0);   <span class='comment'>// #2
</span>template&lt;class T         &gt; void g(T, T = T());          <span class='comment'>// #3
</span>template&lt;class T, class... U&gt; void g(T, U ...);         <span class='comment'>// #4
</span>
void h() {
  f&lt;int&gt;(42, (A&lt;int, int&gt;*)0);                          <span class='comment'>// calls #2
</span>  f&lt;int&gt;(42);                                           <span class='comment'>// error: ambiguous
</span>  g(42);                                                <span class='comment'>// error: ambiguous
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.func.order-5.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.func.order-5.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T, class... U&gt; void f(T, U...);          <span class='comment'>// #1
</span>template&lt;class T            &gt; void f(T);                <span class='comment'>// #2
</span>template&lt;class T, class... U&gt; void g(T*, U...);         <span class='comment'>// #3
</span>template&lt;class T            &gt; void g(T);                <span class='comment'>// #4
</span>
void h(int i) {
  f(&amp;i);                                                <span class='comment'>// error: ambiguous
</span>  g(&amp;i);                                                <span class='comment'>// OK: calls #3
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='temp.alias' class='section'><h3 ><a class='secnum' href='#temp.alias' style='min-width:103pt'>17.6.7</a> Alias templates <a class='abbr_ref' href='temp.alias'>[temp.alias]</a></h3><div class='para' id='temp.alias-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3830'>#</a></div><div id='temp.alias-1.sentence-1' class='sentence'>A <i ><a href='temp#nt:template-declaration'>template-declaration</a></i> in which the <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> is an
<i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i> declares the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> to be an <a class='hidden_link' href='#def:alias_template' id='def:alias_template'><i >alias template</i></a><a class='hidden_link' href='#temp.alias-1.sentence-1'>.</a></div> <div id='temp.alias-1.sentence-2' class='sentence'>An alias template is a name for a family of
types<a class='hidden_link' href='#temp.alias-1.sentence-2'>.</a></div> <div id='temp.alias-1.sentence-3' class='sentence'>The name of the alias template is a <i ><a href='temp.names#nt:template-name'>template-name</a></i><a class='hidden_link' href='#temp.alias-1.sentence-3'>.</a></div></div><div class='para' id='temp.alias-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3837'>#</a></div><div id='temp.alias-2.sentence-1' class='sentence'>When a <i ><a href='temp.names#nt:template-id'>template-id</a></i> refers to the specialization of
an alias template, it is equivalent to the associated type obtained by
substitution of its <i ><a href='temp.names#nt:template-argument'>template-argument</a></i><span class='textit'>s</span> for the
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><span class='textit'>s</span> in the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> of
the alias template<a class='hidden_link' href='#temp.alias-2.sentence-1'>.</a></div> <div id='temp.alias-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.alias-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.alias-2.sentence-2' class='sentence'>An alias template name is never deduced<a class='hidden_link' href='#temp.alias-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='temp.alias-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.alias-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct Alloc { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
template&lt;class T&gt; using Vec = vector&lt;T, Alloc&lt;T&gt;&gt;;
Vec&lt;int&gt; v;         <span class='comment'>// same as <span class='tcode_in_codeblock'>vector&lt;int, Alloc&lt;int&gt;&gt; v;</span>
</span>
template&lt;class T&gt;
  void process(Vec&lt;T&gt;&amp; v)
  { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }

template&lt;class T&gt;
  void process(vector&lt;T, Alloc&lt;T&gt;&gt;&amp; w)
  { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }     <span class='comment'>// error: redefinition
</span>
template&lt;template&lt;class&gt; class TT&gt;
  void f(TT&lt;int&gt;);

f(v);               <span class='comment'>// error: <span class='tcode_in_codeblock'>Vec</span> not deduced
</span>
template&lt;template&lt;class,class&gt; class TT&gt;
  void g(TT&lt;int, Alloc&lt;int&gt;&gt;);
g(v);               <span class='comment'>// OK: <span class='tcode_in_codeblock'>TT</span> = <span class='tcode_in_codeblock'>vector</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.alias-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3871'>#</a></div><div id='temp.alias-3.sentence-1' class='sentence'>However, if the <i ><a href='temp.names#nt:template-id'>template-id</a></i> is dependent, subsequent template
argument substitution still applies to the <i ><a href='temp.names#nt:template-id'>template-id</a></i><a class='hidden_link' href='#temp.alias-3.sentence-1'>.</a></div> <div id='temp.alias-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.alias-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename...&gt; using void_t = void;
template&lt;typename T&gt; void_t&lt;typename T::foo&gt; f();
f&lt;int&gt;();           <span class='comment'>// error, <span class='tcode_in_codeblock'>int</span> does not have a nested type <span class='tcode_in_codeblock'>foo</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.alias-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3882'>#</a></div><div id='temp.alias-4.sentence-1' class='sentence'>The <i ><a href='dcl.name#nt:type-id'>type-id</a></i> in an alias template declaration shall not refer to
the alias template being declared<a class='hidden_link' href='#temp.alias-4.sentence-1'>.</a></div> <div id='temp.alias-4.sentence-2' class='sentence'>The type produced by an alias template
specialization shall not directly or indirectly make use of that specialization<a class='hidden_link' href='#temp.alias-4.sentence-2'>.</a></div> <div id='temp.alias-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.alias-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; struct A;
template &lt;class T&gt; using B = typename A&lt;T&gt;::U;
template &lt;class T&gt; struct A {
  typedef B&lt;T&gt; U;
};
B&lt;short&gt; b;         <span class='comment'>// error: instantiation of <span class='tcode_in_codeblock'>B&lt;short&gt;</span> uses own type via <span class='tcode_in_codeblock'>A&lt;short&gt;&#x200b;::&#x200b;U</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.alias-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3898'>#</a></div><div id='temp.alias-5.sentence-1' class='sentence'>The type of a lambda expression appearing in an alias template declaration
is different between instantiations of that template, even when the lambda
expression is not dependent<a class='hidden_link' href='#temp.alias-5.sentence-1'>.</a></div> <div id='temp.alias-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.alias-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt;
  using A = decltype([] { });   <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and <span class='tcode_in_codeblock'>A&lt;char&gt;</span> refer to different closure types
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='temp.concept' class='section'><h3 ><a class='secnum' href='#temp.concept' style='min-width:103pt'>17.6.8</a> Concept definitions <a class='abbr_ref' href='temp.concept'>[temp.concept]</a></h3><div class='para' id='temp.concept-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3911'>#</a></div><div id='temp.concept-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:concept' id='def:concept'><i >concept</i></a> is a template
that defines constraints on its template arguments<a class='hidden_link' href='#temp.concept-1.sentence-1'>.</a></div></div><div class='para' id='temp.concept-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3915'>#</a></div><div id='temp.concept-2.sentence-1' class='sentence'>A <i ><a href='temp#nt:concept-definition'>concept-definition</a></i>
declares a concept<a class='hidden_link' href='#temp.concept-2.sentence-1'>.</a></div> <div id='temp.concept-2.sentence-2' class='sentence'>Its <i ><a href='lex.name#nt:identifier'>identifier</a></i> becomes a <i ><a href='temp#nt:concept-name'>concept-name</a></i>
referring to that concept
within its scope<a class='hidden_link' href='#temp.concept-2.sentence-2'>.</a></div> <div id='temp.concept-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#temp.concept-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt;
concept C = requires(T x) {
  { x == x } -&gt; bool;
};

template&lt;typename T&gt;
  requires C&lt;T&gt;     <span class='comment'>// <span class='tcode_in_codeblock'>C</span> constrains <span class='tcode_in_codeblock'>f1(T)</span> in <span class='grammarterm'>constraint-expression</span>
</span>T f1(T x) { return x; }

template&lt;C T&gt;       <span class='comment'>// <span class='tcode_in_codeblock'>C</span> constrains <span class='tcode_in_codeblock'>f2(T)</span> as a <span class='grammarterm'>constrained-parameter</span>
</span>T f2(T x) { return x; }</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.concept-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3937'>#</a></div><div id='temp.concept-3.sentence-1' class='sentence'>A <i ><a href='temp#nt:concept-definition'>concept-definition</a></i>
shall appear at namespace scope (<a href='basic.scope.namespace'>[basic.scope.namespace]</a>)<a class='hidden_link' href='#temp.concept-3.sentence-1'>.</a></div></div><div class='para' id='temp.concept-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3941'>#</a></div><div id='temp.concept-4.sentence-1' class='sentence'>A concept shall not have <a href='temp.constr.decl#def:associated_constraints'>associated constraints</a><a class='hidden_link' href='#temp.concept-4.sentence-1'>.</a></div></div><div class='para' id='temp.concept-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3944'>#</a></div><div id='temp.concept-5.sentence-1' class='sentence'>A concept is not instantiated (<a href='temp.spec'>[temp.spec]</a>)<a class='hidden_link' href='#temp.concept-5.sentence-1'>.</a></div> <div id='temp.concept-5.sentence-2' class='sentence'>A program that
<a href='temp.explicit'>explicitly instantiates</a>,
<a href='temp.expl.spec'>explicitly specializes</a>,
or partially specializes a concept is ill-formed<a class='hidden_link' href='#temp.concept-5.sentence-2'>.</a></div> <div id='temp.concept-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#temp.concept-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.concept-5.sentence-3' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> that denotes a concept specialization
is evaluated as an expression (<a href='expr.prim.id'>[expr.prim.id]</a>)<a class='hidden_link' href='#temp.concept-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='temp.concept-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/templates.tex#L3955'>#</a></div><div id='temp.concept-6.sentence-1' class='sentence'>The first declared template parameter of a concept definition is its
<a class='hidden_link' href='#def:prototype_parameter,concept' id='def:prototype_parameter,concept'><i >prototype parameter</i></a><a class='hidden_link' href='#temp.concept-6.sentence-1'>.</a></div> <div id='temp.concept-6.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:concept,variadic' id='def:concept,variadic'><i >variadic concept</i></a>
is a concept whose prototype parameter
is a template parameter pack<a class='hidden_link' href='#temp.concept-6.sentence-2'>.</a></div></div></div></div></body></html>