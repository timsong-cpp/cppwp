<!DOCTYPE html><html lang='en'><head><title>[temp.decls]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>13.7</a> Template declarations <a class='abbr_ref'>[temp.decls]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2063'>#</a></div><div id='1.sentence-1' class='sentence'>A
<a class='grammarterm' href='temp.names#nt:template-id'>template-id</a>,
that is, the
<a class='grammarterm' href='temp.names#nt:template-name'>template-name</a>
followed by a
<a class='grammarterm' href='temp.names#nt:template-argument-list'>template-argument-list</a>
shall not be specified in the declaration of a primary template declaration<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.example-1' class='example'>[&nbsp;<a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1, T2, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;     <span class='comment'>// error</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='anglebracket'>&lt;</span>T1, I<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>T1 data<span class='squarebracket'>[</span>I<span class='squarebracket'>]</span><span class='parenthesis'>)</span>;         <span class='comment'>// error</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-2' class='sentence'>However, this syntax is allowed in <a href='#temp.class.spec'>class template partial specializations</a><a class='hidden_link' href='#1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2081'>#</a></div><div id='2.sentence-1' class='sentence'>For purposes of name lookup and instantiation,
default arguments,
<a class='grammarterm' href='temp.param#nt:type-constraint'>type-constraint</a><span class='textit'>s</span>,
<a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a><span class='textit'>s</span>,
and
<a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a><span class='textit'>s</span>
of function templates
and
of member functions of class templates
are considered definitions;
each
default argument,
<a class='grammarterm' href='temp.param#nt:type-constraint'>type-constraint</a>,
<a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a>,
or
<a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a>
is a separate definition
which is unrelated
to the templated function definition or
to any other
default arguments
<a class='grammarterm' href='temp.param#nt:type-constraint'>type-constraint</a><span class='textit'>s</span>,
<a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a><span class='textit'>s</span>,
or
<a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a><span class='textit'>s</span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>For the purpose of instantiation, the substatements of a
<a href='stmt.if#def:constexpr_if'>constexpr if</a> statement are considered definitions<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2110'>#</a></div><div id='3.sentence-1' class='sentence'>Because an <a class='grammarterm' href='dcl.pre#nt:alias-declaration'>alias-declaration</a> cannot declare a
<a class='grammarterm' href='temp.names#nt:template-id'>template-id</a>, it is not possible to partially or
explicitly specialize an alias template<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div id='temp.class' class='section'><h3 ><a class='secnum' href='#temp.class' style='min-width:103pt'>13.7.1</a> Class templates <a class='abbr_ref' href='temp.class'>[temp.class]</a></h3><div class='para' id='temp.class-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2117'>#</a></div><div id='temp.class-1.sentence-1' class='sentence'>A
<a class='hidden_link' href='#def:template,class' id='def:template,class'><i >class template</i></a>
defines the layout and operations
for an unbounded set of related types<a class='hidden_link' href='#temp.class-1.sentence-1'>.</a></div></div><div class='para' id='temp.class-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2123'>#</a></div><div id='temp.class-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.class-2.sentence-1' class='sentence'>A single class template
<span class='texttt'>List</span>
might provide an unbounded set of class definitions:
one class <span class='texttt'>List<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> for every type <span class='texttt'>T</span>,
each describing a linked list of elements of type <span class='texttt'>T</span><a class='hidden_link' href='#temp.class-2.sentence-1'>.</a></div> <div id='temp.class-2.sentence-2' class='sentence'>Similarly, a class template <span class='texttt'>Array</span> describing a contiguous,
dynamic array might be defined like this:
<pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span>
  T<span class='operator'>*</span> v;
  <span class='keyword'>int</span> sz;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>explicit</span> Array<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> elem<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</pre></div> <div id='temp.class-2.sentence-3' class='sentence'>
The prefix <span class='texttt'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span></span>
specifies that a template is being declared and that a
<a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a>
<span class='texttt'>T</span>
may be used in the declaration<a class='hidden_link' href='#temp.class-2.sentence-3'>.</a></div> <div id='temp.class-2.sentence-4' class='sentence'>In other words,
<span class='texttt'>Array</span>
is a parameterized type with
<span class='texttt'>T</span>
as its parameter<a class='hidden_link' href='#temp.class-2.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2154'>#</a></div><div id='temp.class-3.sentence-1' class='sentence'>When a member function, a member class, a member enumeration, a static data member or
a member template of a class
template is defined outside of the class template definition,
the member definition is defined as a template definition in which the
<a class='grammarterm' href='temp.pre#nt:template-head'>template-head</a> is equivalent to that
of the class template (<a href='#temp.over.link'>[temp.over.link]</a>)<a class='hidden_link' href='#temp.class-3.sentence-1'>.</a></div> <div id='temp.class-3.sentence-2' class='sentence'>The names of the template parameters used in the definition of the member may
be different from the template parameter names used in the class
template definition<a class='hidden_link' href='#temp.class-3.sentence-2'>.</a></div> <div id='temp.class-3.sentence-3' class='sentence'>The template argument list following the class template name in the member
definition shall name the parameters in the same order as the one used in
the template parameter list of the member<a class='hidden_link' href='#temp.class-3.sentence-3'>.</a></div> <div id='temp.class-3.sentence-4' class='sentence'>Each template
parameter pack shall be expanded with an ellipsis in the template
argument list<a class='hidden_link' href='#temp.class-3.sentence-4'>.</a></div> <div id='temp.class-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T2,T1<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>    <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T1,T2<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>    <span class='comment'>// error</span>
</pre><pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='anglebracket'>&lt;</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>   <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>       <span class='comment'>// error</span>
</pre><pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> <span class='literal'>true</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Inner;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C A<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>        <span class='comment'>// OK: <span class='grammarterm'>template-head</span><span class='textit'>s</span> match</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> <span class='comment'>// error: no matching declaration for <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>      <span class='comment'>// ill-formed, no diagnostic required: <span class='grammarterm'>template-head</span><span class='textit'>s</span> are</span>
<span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                      <span class='comment'>// functionally equivalent but not equivalent</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C X<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D Y<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S<span class='anglebracket'>&lt;</span>X<span class='anglebracket'>&gt;</span><span class='operator'>::</span>Inner <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// OK</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.class-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2212'>#</a></div><div id='temp.class-4.sentence-1' class='sentence'>In a redeclaration, partial
specialization,
explicit specialization or explicit
instantiation of a class template, the
<a class='grammarterm' href='class.pre#nt:class-key'>class-key</a>
shall agree in kind with the original class template declaration (<a href='dcl.type.elab'>[dcl.type.elab]</a>)<a class='hidden_link' href='#temp.class-4.sentence-1'>.</a></div></div><div id='temp.mem.func' class='section'><h4 ><a class='secnum' href='#temp.mem.func' style='min-width:118pt'>13.7.1.1</a> Member functions of class templates <a class='abbr_ref' href='temp.mem.func'>[temp.mem.func]</a></h4><div class='para' id='temp.mem.func-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2222'>#</a></div><div id='temp.mem.func-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':template,member_function'></a></span>A member function
of a class template
may be defined outside of the class
template definition in which it is declared<a class='hidden_link' href='#temp.mem.func-1.sentence-1'>.</a></div> <div id='temp.mem.func-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem.func-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span>
  T<span class='operator'>*</span> v;
  <span class='keyword'>int</span> sz;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>explicit</span> Array<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> elem<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</pre><div id='temp.mem.func-1.sentence-2' class='sentence'>declares three member functions of a class template<a class='hidden_link' href='#temp.mem.func-1.sentence-2'>.</a></div> <div id='temp.mem.func-1.sentence-3' class='sentence'>The subscript function might be defined like this:</div><pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>i<span class='anglebracket'>&lt;</span><span class='literal'>0</span> <span class='operator'>|</span><span class='operator'>|</span> sz<span class='anglebracket'>&lt;</span><span class='operator'>=</span>i<span class='parenthesis'>)</span> error<span class='parenthesis'>(</span><span class='literal'>"Array: range error"</span><span class='parenthesis'>)</span>;
  <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>
</pre><div id='temp.mem.func-1.sentence-4' class='sentence'>A constrained member function can be defined out of line:
<pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>type;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>      <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                    <span class='comment'>// error: no matching function in <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.mem.func-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2268'>#</a></div><div id='temp.mem.func-2.sentence-1' class='sentence'>The
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><span class='textit'>s</span>
for a member function of a class template are determined by the
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><span class='textit'>s</span>
of the type of the object for which the member function is called<a class='hidden_link' href='#temp.mem.func-2.sentence-1'>.</a></div> <div id='temp.mem.func-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem.func-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.mem.func-2.sentence-2' class='sentence'>The
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
for
<span class='texttt'>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
will be determined by the
<span class='texttt'>Array</span>
to which the subscripting operation is applied<a class='hidden_link' href='#temp.mem.func-2.sentence-2'>.</a></div><pre class='codeblock'>
Array<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v1<span class='parenthesis'>(</span><span class='literal'>20</span><span class='parenthesis'>)</span>;
Array<span class='anglebracket'>&lt;</span>dcomplex<span class='anglebracket'>&gt;</span> v2<span class='parenthesis'>(</span><span class='literal'>30</span><span class='parenthesis'>)</span>;

v1<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>7</span>;                              <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;int&gt;&#x200b;::&#x200b;operator[]</span></span>
v2<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> dcomplex<span class='parenthesis'>(</span><span class='literal'>7</span>,<span class='literal'>8</span><span class='parenthesis'>)</span>;                  <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;dcomplex&gt;&#x200b;::&#x200b;operator[]</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='temp.deduct.guide' class='section'><h4 ><a class='secnum' href='#temp.deduct.guide' style='min-width:118pt'>13.7.1.2</a> Deduction guides <a class='abbr_ref' href='temp.deduct.guide'>[temp.deduct.guide]</a></h4><span class='indexparent'><a class='index' id=':deduction,class_template_argument'></a></span><div class='para' id='temp.deduct.guide-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2295'>#</a></div><div id='temp.deduct.guide-1.sentence-1' class='sentence'>Deduction guides are used
when a <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a> appears
as a type specifier
for a deduced class type (<a href='dcl.type.class.deduct'>[dcl.type.class.deduct]</a>)<a class='hidden_link' href='#temp.deduct.guide-1.sentence-1'>.</a></div> <div id='temp.deduct.guide-1.sentence-2' class='sentence'>Deduction guides are not found by name lookup<a class='hidden_link' href='#temp.deduct.guide-1.sentence-2'>.</a></div> <div id='temp.deduct.guide-1.sentence-3' class='sentence'>Instead, when performing class template argument deduction (<a href='over.match.class.deduct'>[over.match.class.deduct]</a>),
any deduction guides declared for the class template are considered<a class='hidden_link' href='#temp.deduct.guide-1.sentence-3'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:deduction-guide' id='nt:deduction-guide'>deduction-guide:</a>
&#9;<a class='grammarterm' href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> <span class='terminal'><span class='parenthesis'>)</span></span> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a> <span class='terminal'>;</span>
</pre></div><div class='para' id='temp.deduct.guide-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2309'>#</a></div><div id='temp.deduct.guide-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.deduct.guide-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> D <span class='operator'>=</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  T data;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
S<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> S<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> U<span class='operator'>::</span>type<span class='anglebracket'>&gt;</span>;

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> type <span class='operator'>=</span> <span class='keyword'>short</span>;
  <span class='keyword'>operator</span> type<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
S x<span class='curlybracket'>{</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='curlybracket'>}</span>;           <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is of type <span class='tcode_in_codeblock'>S&lt;short, int&gt;</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.deduct.guide-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2327'>#</a></div><div id='temp.deduct.guide-3.sentence-1' class='sentence'>The same restrictions apply
to the <a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a>
of a deduction guide
as in a function declaration (<a href='dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#temp.deduct.guide-3.sentence-1'>.</a></div> <div id='temp.deduct.guide-3.sentence-2' class='sentence'>The <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>
shall name a class template specialization<a class='hidden_link' href='#temp.deduct.guide-3.sentence-2'>.</a></div> <div id='temp.deduct.guide-3.sentence-3' class='sentence'>The <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a>
shall be the same <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
as the <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a>
of the <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a><a class='hidden_link' href='#temp.deduct.guide-3.sentence-3'>.</a></div> <div id='temp.deduct.guide-3.sentence-4' class='sentence'>A <a class='grammarterm' href='#nt:deduction-guide'>deduction-guide</a>
shall be declared
in the same scope
as the corresponding class template
and, for a member class template, with the same access<a class='hidden_link' href='#temp.deduct.guide-3.sentence-4'>.</a></div> <div id='temp.deduct.guide-3.sentence-5' class='sentence'>Two deduction guide declarations
in the same translation unit
for the same class template
shall not have equivalent <a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a><span class='textit'>s</span><a class='hidden_link' href='#temp.deduct.guide-3.sentence-5'>.</a></div></div></div><div id='temp.mem.class' class='section'><h4 ><a class='secnum' href='#temp.mem.class' style='min-width:118pt'>13.7.1.3</a> Member classes of class templates <a class='abbr_ref' href='temp.mem.class'>[temp.mem.class]</a></h4><div class='para' id='temp.mem.class-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2350'>#</a></div><div id='temp.mem.class-1.sentence-1' class='sentence'>A member class of a class template may be defined outside the class template
definition in which it is declared<a class='hidden_link' href='#temp.mem.class-1.sentence-1'>.</a></div> <div id='temp.mem.class-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.mem.class-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.mem.class-1.sentence-2' class='sentence'>The member class must be defined before its first use that requires
an instantiation (<a href='temp.inst'>[temp.inst]</a>)<a class='hidden_link' href='#temp.mem.class-1.sentence-2'>.</a></div> <div id='temp.mem.class-1.sentence-3' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B;
<span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> b1;                          <span class='comment'>// OK: requires <span class='tcode_in_codeblock'>A</span> to be defined but not <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B  b2;                          <span class='comment'>// OK: requires <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> to be defined</span>
</pre></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='temp.static' class='section'><h4 ><a class='secnum' href='#temp.static' style='min-width:118pt'>13.7.1.4</a> Static data members of class templates <a class='abbr_ref' href='temp.static'>[temp.static]</a></h4><div class='para' id='temp.static-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2369'>#</a></div><div id='temp.static-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member,template_and_static'></a></span>A definition for a static data member or static data member template may be
provided in a namespace scope enclosing the definition of the static member's
class template<a class='hidden_link' href='#temp.static-1.sentence-1'>.</a></div> <div id='temp.static-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.static-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> T s;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> T X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>s <span class='operator'>=</span> <span class='literal'>0</span>;

<span class='keyword'>struct</span> limits <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>static</span> <span class='keyword'>const</span> T min;                 <span class='comment'>// declaration</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>const</span> T limits<span class='operator'>::</span>min <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;            <span class='comment'>// definition</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.static-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2391'>#</a></div><div id='temp.static-2.sentence-1' class='sentence'>An explicit specialization of a static data member declared as an array of unknown
bound can have a different bound from its definition, if any<a class='hidden_link' href='#temp.static-2.sentence-1'>.</a></div> <div id='temp.static-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.static-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> i<span class='squarebracket'>[</span><span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span>;      <span class='comment'>// 4 elements</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK: 1 element</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='temp.mem.enum' class='section'><h4 ><a class='secnum' href='#temp.mem.enum' style='min-width:118pt'>13.7.1.5</a> Enumeration members of class templates <a class='abbr_ref' href='temp.mem.enum'>[temp.mem.enum]</a></h4><div class='para' id='temp.mem.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.enum-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2406'>#</a></div><div id='temp.mem.enum-1.sentence-1' class='sentence'>An enumeration member of a class template may be defined outside the class
template definition<a class='hidden_link' href='#temp.mem.enum-1.sentence-1'>.</a></div> <div id='temp.mem.enum-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem.enum-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> E <span class='operator'>:</span> T;
<span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> a;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>E <span class='operator'>:</span> T <span class='curlybracket'>{</span> e1, e2 <span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>E e <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>e1;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div></div><div id='temp.mem' class='section'><h3 ><a class='secnum' href='#temp.mem' style='min-width:103pt'>13.7.2</a> Member templates <a class='abbr_ref' href='temp.mem'>[temp.mem]</a></h3><div class='para' id='temp.mem-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2422'>#</a></div><div id='temp.mem-1.sentence-1' class='sentence'>A template can be declared within a class or class template; such a template
is called a member template<a class='hidden_link' href='#temp.mem-1.sentence-1'>.</a></div> <div id='temp.mem-1.sentence-2' class='sentence'>A member template can be defined within or outside its class definition or
class template definition<a class='hidden_link' href='#temp.mem-1.sentence-2'>.</a></div> <div id='temp.mem-1.sentence-3' class='sentence'>A member template of a class template that is defined outside of its class
template definition shall be specified with
a <a class='grammarterm' href='temp.pre#nt:template-head'>template-head</a> equivalent to that
of the class template followed by
a <a class='grammarterm' href='temp.pre#nt:template-head'>template-head</a> equivalent to that
of the member template (<a href='#temp.over.link'>[temp.over.link]</a>)<a class='hidden_link' href='#temp.mem-1.sentence-3'>.</a></div> <div id='temp.mem-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> string <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> compare<span class='parenthesis'>(</span><span class='keyword'>const</span> T2<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> string<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> string<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>compare<span class='parenthesis'>(</span><span class='keyword'>const</span> T2<span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.mem-1.example-2' class='example'>[&nbsp;<a class='example_link' href='#temp.mem-1.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C1 <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C2 <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='literal'>4</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C1 T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C2 U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C2 U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C1 T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C2 U<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>             <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C1 T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>             <span class='comment'>// error: no matching function in <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.mem-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2461'>#</a></div><div id='temp.mem-2.sentence-1' class='sentence'>A local class of non-closure type shall not have member templates<a class='hidden_link' href='#temp.mem-2.sentence-1'>.</a></div> <div id='temp.mem-2.sentence-2' class='sentence'><a href='class.access'>Access control rules</a>
apply to member template names<a class='hidden_link' href='#temp.mem-2.sentence-2'>.</a></div> <div id='temp.mem-2.sentence-3' class='sentence'>A destructor shall not be a member
template<a class='hidden_link' href='#temp.mem-2.sentence-3'>.</a></div> <div id='temp.mem-2.sentence-4' class='sentence'>A non-template member function (<a href='dcl.fct'>[dcl.fct]</a>) with a given name
and type and a member function template of the same name, which could be
used to generate a specialization of the same type, can both be
declared in a class<a class='hidden_link' href='#temp.mem-2.sentence-4'>.</a></div> <div id='temp.mem-2.sentence-5' class='sentence'>When both exist, a use of that name and type refers to the
non-template member unless an explicit template argument list is supplied<a class='hidden_link' href='#temp.mem-2.sentence-5'>.</a></div> <div id='temp.mem-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T2<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                 <span class='comment'>// non-template member function</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>   <span class='comment'>// member function template specialization</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span> ac;
  ac<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                                          <span class='comment'>// non-template</span>
  ac<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='literal'>'c'</span><span class='parenthesis'>)</span>;                                        <span class='comment'>// template</span>
  ac<span class='operator'>.</span>f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                                        <span class='comment'>// template</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.mem-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2492'>#</a></div><div id='temp.mem-3.sentence-1' class='sentence'>A member function template shall not be virtual<a class='hidden_link' href='#temp.mem-3.sentence-1'>.</a></div> <div id='temp.mem-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> AA <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> C<span class='anglebracket'>&gt;</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;             <span class='comment'>// error</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                 <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.mem-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2503'>#</a></div><div id='temp.mem-4.sentence-1' class='sentence'>A specialization of
a member function template does not override a virtual function from a
base class<a class='hidden_link' href='#temp.mem-4.sentence-1'>.</a></div> <div id='temp.mem-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>; <span class='comment'>// does not override <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span></span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>     <span class='comment'>// overriding function that calls the template instantiation</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.mem-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2520'>#</a></div><div id='temp.mem-5.sentence-1' class='sentence'>A specialization of a
conversion function template
is referenced in
the same way as a non-template conversion function that converts to
the same type<a class='hidden_link' href='#temp.mem-5.sentence-1'>.</a></div> <div id='temp.mem-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.mem-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> T<span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> A<span class='operator'>::</span><span class='keyword'>operator</span> T<span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> A<span class='operator'>::</span><span class='keyword'>operator</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>        <span class='comment'>// specialization</span>
<span class='keyword'>template</span> A<span class='operator'>::</span><span class='keyword'>operator</span> <span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                       <span class='comment'>// explicit instantiation</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  <span class='keyword'>int</span><span class='operator'>*</span> ip;
  ip <span class='operator'>=</span> a<span class='operator'>.</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// explicit call to template operator <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;operator int*()</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.mem-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.mem-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.mem-5.sentence-2' class='sentence'>There is no syntax to form a <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a>
by providing an explicit template argument list (<a href='temp.arg.explicit'>[temp.arg.explicit]</a>)
for a conversion function template (<a href='class.conv.fct'>[class.conv.fct]</a>)<a class='hidden_link' href='#temp.mem-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='temp.mem-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2548'>#</a></div><div id='temp.mem-6.sentence-1' class='sentence'>A specialization of a
conversion function template
is not found by name
lookup<a class='hidden_link' href='#temp.mem-6.sentence-1'>.</a></div> <div id='temp.mem-6.sentence-2' class='sentence'>Instead, any
conversion function templates
visible in the
context of the use are considered<a class='hidden_link' href='#temp.mem-6.sentence-2'>.</a></div> <div id='temp.mem-6.sentence-3' class='sentence'>For each such operator, if argument
deduction succeeds (<a href='temp.deduct.conv'>[temp.deduct.conv]</a>), the resulting specialization is
used as if found by name lookup<a class='hidden_link' href='#temp.mem-6.sentence-3'>.</a></div></div><div class='para' id='temp.mem-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2561'>#</a></div><div id='temp.mem-7.sentence-1' class='sentence'>A <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a> in a derived class cannot refer to a specialization
of a
conversion function template
in a base class<a class='hidden_link' href='#temp.mem-7.sentence-1'>.</a></div></div><div class='para' id='temp.mem-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2567'>#</a></div><div id='temp.mem-8.sentence-1' class='sentence'><a href='over.ics.rank'>Overload resolution</a> and <a href='#temp.func.order'>partial
ordering</a> are used to select the best conversion function
among multiple
specializations of conversion function templates
and/or non-template
conversion functions<a class='hidden_link' href='#temp.mem-8.sentence-1'>.</a></div></div></div><div id='temp.variadic' class='section'><h3 ><a class='secnum' href='#temp.variadic' style='min-width:103pt'>13.7.3</a> Variadic templates <a class='abbr_ref' href='temp.variadic'>[temp.variadic]</a></h3><div class='para' id='temp.variadic-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2577'>#</a></div><div id='temp.variadic-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:template_parameter_pack' id='def:template_parameter_pack'><i >template parameter pack</i></a> is a template parameter
that accepts zero or more template arguments<a class='hidden_link' href='#temp.variadic-1.sentence-1'>.</a></div> <div id='temp.variadic-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.variadic-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Tuple <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

Tuple<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> t0;                     <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains no arguments</span>
Tuple<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> t1;                  <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains one argument: <span class='tcode_in_codeblock'>int</span></span>
Tuple<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>float</span><span class='anglebracket'>&gt;</span> t2;           <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>float</span></span>
Tuple<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span> error;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>0</span> is not a type</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.variadic-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2591'>#</a></div><div id='temp.variadic-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:function_parameter_pack' id='def:function_parameter_pack'><i >function parameter pack</i></a> is a function parameter
that accepts zero or more function arguments<a class='hidden_link' href='#temp.variadic-2.sentence-1'>.</a></div> <div id='temp.variadic-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.variadic-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                            <span class='comment'>// <span class='tcode_in_codeblock'>args</span> contains no arguments</span>
f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                           <span class='comment'>// <span class='tcode_in_codeblock'>args</span> contains one argument: <span class='tcode_in_codeblock'>int</span></span>
f<span class='parenthesis'>(</span><span class='literal'>2</span>, <span class='literal'>1.0</span><span class='parenthesis'>)</span>;                      <span class='comment'>// <span class='tcode_in_codeblock'>args</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>double</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.variadic-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2604'>#</a></div><div id='temp.variadic-3.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:init-capture_pack' id='def:init-capture_pack'><i ><span class='grammarterm'>init-capture</span> pack</i></a>
is a lambda capture that introduces an <a class='grammarterm' href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a>
for each of the elements in the pack expansion of its <a class='grammarterm' href='dcl.init#nt:initializer'>initializer</a><a class='hidden_link' href='#temp.variadic-3.sentence-1'>.</a></div> <div id='temp.variadic-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.variadic-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> foo<span class='parenthesis'>(</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='squarebracket'>[</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>xs<span class='operator'>=</span>args<span class='squarebracket'>]</span><span class='curlybracket'>{</span>
        bar<span class='parenthesis'>(</span>xs<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>xs</span> is an <span class='grammarterm'>init-capture</span> pack</span>
    <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                          <span class='comment'>// <span class='tcode_in_codeblock'>xs</span> contains zero <span class='grammarterm'>init-captures</span></span>
foo<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                         <span class='comment'>// <span class='tcode_in_codeblock'>xs</span> contains one <span class='grammarterm'>init-capture</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.variadic-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2622'>#</a></div><div id='temp.variadic-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:pack' id='def:pack'><i >pack</i></a> is
a template parameter pack,
a function parameter pack,
or an <a class='grammarterm' href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a> pack<a class='hidden_link' href='#temp.variadic-4.sentence-1'>.</a></div> <div id='temp.variadic-4.sentence-2' class='sentence'>The number of elements of a template parameter pack
or a function parameter pack
is the number of arguments provided for the parameter pack<a class='hidden_link' href='#temp.variadic-4.sentence-2'>.</a></div> <div id='temp.variadic-4.sentence-3' class='sentence'>The number of elements of an <a class='grammarterm' href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a> pack
is the number of elements in the pack expansion of its <a class='grammarterm' href='dcl.init#nt:initializer'>initializer</a><a class='hidden_link' href='#temp.variadic-4.sentence-3'>.</a></div></div><div class='para' id='temp.variadic-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2633'>#</a></div><div id='temp.variadic-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:pack_expansion' id='def:pack_expansion'><i >pack expansion</i></a>
consists of a <a class='hidden_link' href='#def:pack_expansion,pattern' id='def:pack_expansion,pattern'><i >pattern</i></a> and an ellipsis, the instantiation of which
produces zero or more instantiations of the pattern in a list (described below)<a class='hidden_link' href='#temp.variadic-5.sentence-1'>.</a></div> <div id='temp.variadic-5.sentence-2' class='sentence'>The form of the pattern
depends on the context in which the expansion occurs<a class='hidden_link' href='#temp.variadic-5.sentence-2'>.</a></div> <div id='temp.variadic-5.sentence-3' class='sentence'>Pack
expansions can occur in the following contexts:</div><ul class='itemize'><li id='temp.variadic-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.1'>(5.1)</a></div><div id='temp.variadic-5.1.sentence-1' class='sentence'>In a function parameter pack (<a href='dcl.fct'>[dcl.fct]</a>); the pattern is the
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a> without the ellipsis<a class='hidden_link' href='#temp.variadic-5.1.sentence-1'>.</a></div></li><li id='temp.variadic-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.2'>(5.2)</a></div><div id='temp.variadic-5.2.sentence-1' class='sentence'>In a <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>;
the pattern is a <a class='grammarterm' href='namespace.udecl#nt:using-declarator'>using-declarator</a><a class='hidden_link' href='#temp.variadic-5.2.sentence-1'>.</a></div></li><li id='temp.variadic-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.3'>(5.3)</a></div><div id='temp.variadic-5.3.sentence-1' class='sentence'>In a template parameter pack that is a pack expansion (<a href='temp.param'>[temp.param]</a>):
<ul class='itemize'><li id='temp.variadic-5.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#temp.variadic-5.3.1'>(5.3.1)</a></div>if the template parameter pack is a <a class='grammarterm' href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a>;
the pattern is the <a class='grammarterm' href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a> without the ellipsis;</li><li id='temp.variadic-5.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#temp.variadic-5.3.2'>(5.3.2)</a></div>if the template parameter pack is a <a class='grammarterm' href='temp.param#nt:type-parameter'>type-parameter</a>;
the pattern is the corresponding <a class='grammarterm' href='temp.param#nt:type-parameter'>type-parameter</a>
without the ellipsis<a class='hidden_link' href='#temp.variadic-5.3.sentence-1'>.</a></li></ul></div></li><li id='temp.variadic-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.4'>(5.4)</a></div><div id='temp.variadic-5.4.sentence-1' class='sentence'>In an <a class='grammarterm' href='dcl.init#nt:initializer-list'>initializer-list</a>;
the pattern is an <a class='grammarterm' href='dcl.init#nt:initializer-clause'>initializer-clause</a><a class='hidden_link' href='#temp.variadic-5.4.sentence-1'>.</a></div></li><li id='temp.variadic-5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.5'>(5.5)</a></div><div id='temp.variadic-5.5.sentence-1' class='sentence'>In a <a class='grammarterm' href='class.derived#nt:base-specifier-list'>base-specifier-list</a>;
the pattern is a <a class='grammarterm' href='class.derived#nt:base-specifier'>base-specifier</a><a class='hidden_link' href='#temp.variadic-5.5.sentence-1'>.</a></div></li><li id='temp.variadic-5.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.6'>(5.6)</a></div><div id='temp.variadic-5.6.sentence-1' class='sentence'>In a <a class='grammarterm' href='class.base.init#nt:mem-initializer-list'>mem-initializer-list</a> for a
<a class='grammarterm' href='class.base.init#nt:mem-initializer'>mem-initializer</a> whose <a class='grammarterm' href='class.base.init#nt:mem-initializer-id'>mem-initializer-id</a> denotes a
base class; the pattern is the <a class='grammarterm' href='class.base.init#nt:mem-initializer'>mem-initializer</a><a class='hidden_link' href='#temp.variadic-5.6.sentence-1'>.</a></div></li><li id='temp.variadic-5.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.7'>(5.7)</a></div><div id='temp.variadic-5.7.sentence-1' class='sentence'>In a <a class='grammarterm' href='temp.names#nt:template-argument-list'>template-argument-list</a> (<a href='temp.arg'>[temp.arg]</a>);
the pattern is a <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><a class='hidden_link' href='#temp.variadic-5.7.sentence-1'>.</a></div></li><li id='temp.variadic-5.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.8'>(5.8)</a></div><div id='temp.variadic-5.8.sentence-1' class='sentence'>In an <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a>; the pattern is
an <a class='grammarterm' href='dcl.attr.grammar#nt:attribute'>attribute</a><a class='hidden_link' href='#temp.variadic-5.8.sentence-1'>.</a></div></li><li id='temp.variadic-5.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.9'>(5.9)</a></div><div id='temp.variadic-5.9.sentence-1' class='sentence'>In an <a class='grammarterm' href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a> (<a href='dcl.align'>[dcl.align]</a>); the pattern is
the <a class='grammarterm' href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a> without the ellipsis<a class='hidden_link' href='#temp.variadic-5.9.sentence-1'>.</a></div></li><li id='temp.variadic-5.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.10'>(5.10)</a></div><div id='temp.variadic-5.10.sentence-1' class='sentence'>In a <a class='grammarterm' href='expr.prim.lambda.capture#nt:capture-list'>capture-list</a> (<a href='expr.prim.lambda'>[expr.prim.lambda]</a>); the pattern is
a <a class='grammarterm' href='expr.prim.lambda.capture#nt:capture'>capture</a><a class='hidden_link' href='#temp.variadic-5.10.sentence-1'>.</a></div></li><li id='temp.variadic-5.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.11'>(5.11)</a></div><div id='temp.variadic-5.11.sentence-1' class='sentence'>In a <a href='expr.sizeof'><span class='texttt'>sizeof...</span> expression</a>; the pattern is an
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a><a class='hidden_link' href='#temp.variadic-5.11.sentence-1'>.</a></div></li><li id='temp.variadic-5.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-5.12'>(5.12)</a></div><div id='temp.variadic-5.12.sentence-1' class='sentence'>In a <a class='grammarterm' href='expr.prim.fold#nt:fold-expression'>fold-expression</a>;
the pattern is the <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
that contains an unexpanded pack<a class='hidden_link' href='#temp.variadic-5.12.sentence-1'>.</a></div></li></ul><div id='temp.variadic-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.variadic-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> rest<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> rest<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>rest <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;     <span class='comment'>// “<span class='tcode_in_codeblock'>&amp;rest ...</span>” is a pack expansion; “<span class='tcode_in_codeblock'>&amp;rest</span>” is its pattern</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.variadic-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2700'>#</a></div><div id='temp.variadic-6.sentence-1' class='sentence'>For the purpose of determining whether a pack satisfies a rule
regarding entities other than packs, the pack is
considered to be the entity that would result from an instantiation of
the pattern in which it appears<a class='hidden_link' href='#temp.variadic-6.sentence-1'>.</a></div></div><div class='para' id='temp.variadic-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2706'>#</a></div><div id='temp.variadic-7.sentence-1' class='sentence'>A pack whose name appears within the pattern of a pack
expansion is expanded by that pack expansion<a class='hidden_link' href='#temp.variadic-7.sentence-1'>.</a></div> <div id='temp.variadic-7.sentence-2' class='sentence'>An appearance of the name of
a pack is only expanded by the innermost enclosing pack expansion<a class='hidden_link' href='#temp.variadic-7.sentence-2'>.</a></div> <div id='temp.variadic-7.sentence-3' class='sentence'>The pattern of a pack expansion shall name one or more packs that
are not expanded by a nested pack expansion; such packs are called
<a class='hidden_link' href='#def:pack,unexpanded' id='def:pack,unexpanded'><i >unexpanded packs</i></a> in the pattern<a class='hidden_link' href='#temp.variadic-7.sentence-3'>.</a></div> <div id='temp.variadic-7.sentence-4' class='sentence'>All of the packs expanded
by a pack expansion shall have the same number of arguments specified<a class='hidden_link' href='#temp.variadic-7.sentence-4'>.</a></div> <div id='temp.variadic-7.sentence-5' class='sentence'>An
appearance of a name of a pack that is not expanded is
ill-formed<a class='hidden_link' href='#temp.variadic-7.sentence-5'>.</a></div> <div id='temp.variadic-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.variadic-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Tuple <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T1, <span class='keyword'>typename</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Pair <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args1<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> zip <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> with <span class='curlybracket'>{</span>
    <span class='keyword'>typedef</span> Tuple<span class='anglebracket'>&lt;</span>Pair<span class='anglebracket'>&lt;</span>Args1, Args2<span class='anglebracket'>&gt;</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='anglebracket'>&gt;</span> type;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>typedef</span> zip<span class='anglebracket'>&lt;</span><span class='keyword'>short</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>with<span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>short</span>, <span class='keyword'>unsigned</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>type T1;
    <span class='comment'>// <span class='tcode_in_codeblock'>T1</span> is <span class='tcode_in_codeblock'>Tuple&lt;Pair&lt;short, unsigned short&gt;, Pair&lt;int, unsigned&gt;&gt;</span></span>
<span class='keyword'>typedef</span> zip<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>with<span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>short</span>, <span class='keyword'>unsigned</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>type T2;
    <span class='comment'>// error: different number of arguments specified for <span class='tcode_in_codeblock'>Args1</span> and <span class='tcode_in_codeblock'>Args2</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>Args</span> is expanded by the function parameter pack <span class='tcode_in_codeblock'>args</span></span>
    f<span class='parenthesis'>(</span><span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> Args<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;   <span class='comment'>// OK: “<span class='tcode_in_codeblock'>Args</span>” and “<span class='tcode_in_codeblock'>args</span>” are expanded</span>
    f<span class='parenthesis'>(</span><span class='literal'>5</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                               <span class='comment'>// error: pattern does not contain any packs</span>
    f<span class='parenthesis'>(</span>args<span class='parenthesis'>)</span>;                                <span class='comment'>// error: pack “<span class='tcode_in_codeblock'>args</span>” is not expanded</span>
    f<span class='parenthesis'>(</span>h<span class='parenthesis'>(</span>args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='operator'>+</span> args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK: first “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>h</span>,</span>
                                            <span class='comment'>// second “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>f</span></span>
  <span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.variadic-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2743'>#</a></div><div id='temp.variadic-8.sentence-1' class='sentence'>The instantiation of a pack expansion
that is neither a <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> expression
nor a <a class='grammarterm' href='expr.prim.fold#nt:fold-expression'>fold-expression</a>
produces a
list of elements
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋯</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>,
where
<span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the pack expansion parameters<a class='hidden_link' href='#temp.variadic-8.sentence-1'>.</a></div> <div id='temp.variadic-8.sentence-2' class='sentence'>Each
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is generated by instantiating the pattern and
replacing each pack expansion parameter with its <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element<a class='hidden_link' href='#temp.variadic-8.sentence-2'>.</a></div> <div id='temp.variadic-8.sentence-3' class='sentence'>Such an element, in the context of the instantiation, is interpreted as
follows:
<ul class='itemize'><li id='temp.variadic-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-8.1'>(8.1)</a></div>if the pack is a template parameter pack, the element is a template
parameter (<a href='temp.param'>[temp.param]</a>) of the corresponding kind (type or
non-type) designating the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
corresponding type or value template argument;</li><li id='temp.variadic-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-8.2'>(8.2)</a></div>if the pack is a function parameter pack, the element is an
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>
designating the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> function parameter
that resulted from instantiation of
the function parameter pack declaration;
otherwise</li><li id='temp.variadic-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-8.3'>(8.3)</a></div>if the pack is an <a class='grammarterm' href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a> pack,
the element is an <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>
designating the variable introduced by
the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> <a class='grammarterm' href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a>
that resulted from instantiation of
the <a class='grammarterm' href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a> pack<a class='hidden_link' href='#temp.variadic-8.sentence-3'>.</a></li></ul></div><div id='temp.variadic-8.sentence-4' class='sentence'>All of the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> become items in the enclosing list<a class='hidden_link' href='#temp.variadic-8.sentence-4'>.</a></div> <div id='temp.variadic-8.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.variadic-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.variadic-8.sentence-5' class='sentence'>The variety of list varies with the context:
<a class='grammarterm' href='expr.post#nt:expression-list'>expression-list</a>,
<a class='grammarterm' href='class.derived#nt:base-specifier-list'>base-specifier-list</a>,
<a class='grammarterm' href='temp.names#nt:template-argument-list'>template-argument-list</a>, etc<a class='hidden_link' href='#temp.variadic-8.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='temp.variadic-8.sentence-6' class='sentence'>
When <span class='math'><span class='mathalpha'>N</span></span> is zero, the instantiation of the expansion produces an empty list<a class='hidden_link' href='#temp.variadic-8.sentence-6'>.</a></div> <div id='temp.variadic-8.sentence-7' class='sentence'>Such an instantiation does not alter the syntactic interpretation of the
enclosing construct, even in cases where omitting the list entirely would
otherwise be ill-formed or would result in an ambiguity in the grammar<a class='hidden_link' href='#temp.variadic-8.sentence-7'>.</a></div> <div id='temp.variadic-8.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.variadic-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='operator'>:</span> T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> values<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X<span class='anglebracket'>&lt;</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> x<span class='parenthesis'>(</span>values<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>template</span> <span class='keyword'>void</span> f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&lt;&gt;</span> has no base classes</span>
                        <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is a variable of type <span class='tcode_in_codeblock'>X&lt;&gt;</span> that is value-initialized</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.variadic-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2803'>#</a></div><div id='temp.variadic-9.sentence-1' class='sentence'>The instantiation of a <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> expression (<a href='expr.sizeof'>[expr.sizeof]</a>) produces
an integral constant containing the number of elements in the pack
it expands<a class='hidden_link' href='#temp.variadic-9.sentence-1'>.</a></div></div><div class='para' id='temp.variadic-10'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2808'>#</a></div><div id='temp.variadic-10.sentence-1' class='sentence'>The instantiation of a <a class='grammarterm' href='expr.prim.fold#nt:fold-expression'>fold-expression</a> produces:
<ul class='itemize'><li id='temp.variadic-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-10.1'>(10.1)</a></div><span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>
           <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span></span>
           <span class='textit'>op</span> <span class='math'>⋯</span><span class='texttt'><span class='parenthesis'>)</span></span>
           <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a unary left fold,</li><li id='temp.variadic-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-10.2'>(10.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <span class='textit'>op</span>
<span class='texttt'><span class='parenthesis'>(</span></span><span class='math'>⋯</span>           <span class='textit'>op</span>
<span class='texttt'><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='textit'>op</span>
         <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
for a unary right fold,</li><li id='temp.variadic-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-10.3'>(10.3)</a></div><span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span></span><span class='math'><span class='mathtt'>E</span></span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span></span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span></span>
            <span class='textit'>op</span> <span class='math'>⋯</span><span class='texttt'><span class='parenthesis'>)</span></span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a binary left fold, and</li><li id='temp.variadic-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.variadic-10.4'>(10.4)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <span class='textit'>op</span>
<span class='texttt'><span class='parenthesis'>(</span></span><span class='math'>⋯</span>           <span class='textit'>op</span>
<span class='texttt'><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='textit'>op</span>
<span class='texttt'><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span></span></span>   <span class='textit'>op</span>
         <span class='math'><span class='mathtt'>E</span></span><span class='texttt'><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
for a binary right fold.</li></ul></div><div id='temp.variadic-10.sentence-2' class='sentence'>In each case,
<span class='textit'>op</span> is the <a class='grammarterm' href='expr.prim.fold#nt:fold-operator'>fold-operator</a>,
<span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the pack expansion parameters,
and each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is generated by instantiating the pattern
and replacing each pack expansion parameter with its <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element<a class='hidden_link' href='#temp.variadic-10.sentence-2'>.</a></div> <div id='temp.variadic-10.sentence-3' class='sentence'>For a binary fold-expression,
<span class='math'><span class='mathtt'>E</span></span> is generated
by instantiating the <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
that did not contain an unexpanded pack<a class='hidden_link' href='#temp.variadic-10.sentence-3'>.</a></div> <div id='temp.variadic-10.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.variadic-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>bool</span> all<span class='parenthesis'>(</span>Args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> args<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>

<span class='keyword'>bool</span> b <span class='operator'>=</span> all<span class='parenthesis'>(</span><span class='literal'>true</span>, <span class='literal'>true</span>, <span class='literal'>true</span>, <span class='literal'>false</span><span class='parenthesis'>)</span>;
</pre> <div id='temp.variadic-10.sentence-4' class='sentence'>
Within the instantiation of <span class='texttt'>all</span>,
the returned expression expands to
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='literal'>true</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>true</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>true</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>false</span></span>,
which evaluates to <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#temp.variadic-10.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.variadic-10.sentence-5' class='sentence'>
If <span class='math'><span class='mathalpha'>N</span></span> is zero for a unary fold-expression,
the value of the expression is shown in Table <a href='#tab:temp.fold.empty'>15</a>;
if the operator is not listed in Table <a href='#tab:temp.fold.empty'>15</a>,
the instantiation is ill-formed<a class='hidden_link' href='#temp.variadic-10.sentence-5'>.</a></div><div class='numberedTable' id='tab:temp.fold.empty'>Table <a href='#tab:temp.fold.empty'>15</a>: Value of folding empty sequences &emsp;&ensp;[tab:temp.fold.empty]<br><table ><tr class='rowsep'><td class='center'><div id='temp.variadic-10.sentence-6' class='sentence'><b>Operator</b></div></td><td class='center'><div id='temp.variadic-10.sentence-7' class='sentence'><b>Value when pack is empty</b></div></td></tr><tr class='capsep'><td class='left'><div id='temp.variadic-10.sentence-8' class='sentence'><span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span></div></td><td class='left'><div id='temp.variadic-10.sentence-9' class='sentence'><span class='texttt'><span class='literal'>true</span></span></div></td></tr><tr ><td class='left'><div id='temp.variadic-10.sentence-10' class='sentence'><span class='texttt'><span class='operator'>|</span><span class='operator'>|</span></span></div></td><td class='left'><div id='temp.variadic-10.sentence-11' class='sentence'><span class='texttt'><span class='literal'>false</span></span></div></td></tr><tr ><td class='left'><div id='temp.variadic-10.sentence-12' class='sentence'><span class='texttt'>,</span></div></td><td class='left'><div id='temp.variadic-10.sentence-13' class='sentence'><span class='texttt'><span class='keyword'>void</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></td></tr></table></div></div></div><div id='temp.friend' class='section'><h3 ><a class='secnum' href='#temp.friend' style='min-width:103pt'>13.7.4</a> Friends <a class='abbr_ref' href='temp.friend'>[temp.friend]</a></h3><div class='para' id='temp.friend-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2877'>#</a></div><div id='temp.friend-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend,template_and'></a></span>A friend of a class or class template can be a function template or
class template, a specialization of a function template or class
template, or a non-template function or class<a class='hidden_link' href='#temp.friend-1.sentence-1'>.</a></div> <div id='temp.friend-1.sentence-2' class='sentence'>For a friend function declaration that is not a template declaration:
<ul class='itemize'><li id='temp.friend-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.1'>(1.1)</a></div>if the name of the friend is a qualified or unqualified <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a>,
the friend declaration refers to a specialization of a function
template, otherwise,</li><li id='temp.friend-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.2'>(1.2)</a></div>if the name of the friend is a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> and a matching non-template
function is found in the specified class or namespace, the friend
declaration refers to that function, otherwise,</li><li id='temp.friend-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.3'>(1.3)</a></div>if the name of the friend is a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> and a matching
function template
is found in the specified class
or namespace, the friend declaration refers to
the deduced specialization of that function template (<a href='temp.deduct.decl'>[temp.deduct.decl]</a>), otherwise,</li><li id='temp.friend-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.friend-1.4'>(1.4)</a></div>the name shall be an <a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a> that declares (or redeclares) a
non-template function<a class='hidden_link' href='#temp.friend-1.sentence-2'>.</a></li></ul></div><div id='temp.friend-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.friend-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> task;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> preempt<span class='parenthesis'>(</span>task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> task <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> next_time<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> <span class='keyword'>void</span> process<span class='parenthesis'>(</span>task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> preempt<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> C<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>int</span> func<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;

  <span class='keyword'>friend</span> <span class='keyword'>class</span> task<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> P<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> frd;
<span class='curlybracket'>}</span>;
</pre><div id='temp.friend-1.sentence-3' class='sentence'>Here,
each specialization of the
<span class='texttt'>task</span>
class template has the function
<span class='texttt'>next_&shy;time</span>
as a friend;
because
<span class='texttt'>process</span>
does not have explicit
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><span class='textit'>s</span>,
each specialization of the
<span class='texttt'>task</span>
class template has an appropriately typed function
<span class='texttt'>process</span>
as a friend, and this friend is not a function template specialization;
because the friend
<span class='texttt'>preempt</span>
has an explicit
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
<span class='texttt'>T</span>,
each specialization of the
<span class='texttt'>task</span>
class template has the appropriate specialization of the function
template
<span class='texttt'>preempt</span>
as a friend;
and each specialization of the
<span class='texttt'>task</span>
class template has all specializations of the function template
<span class='texttt'>func</span>
as friends<a class='hidden_link' href='#temp.friend-1.sentence-3'>.</a></div> <div id='temp.friend-1.sentence-4' class='sentence'>Similarly,
each specialization of the
<span class='texttt'>task</span>
class template has the class template specialization
<span class='texttt'>task<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span></span>
as a friend, and has all specializations of the class template
<span class='texttt'>frd</span>
as friends<a class='hidden_link' href='#temp.friend-1.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.friend-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2960'>#</a></div><div id='temp.friend-2.sentence-1' class='sentence'>A friend template may be declared within a class or class template<a class='hidden_link' href='#temp.friend-2.sentence-1'>.</a></div> <div id='temp.friend-2.sentence-2' class='sentence'>A friend function template may be defined within a class or class
template, but a friend class template may not be defined in a class
or class template<a class='hidden_link' href='#temp.friend-2.sentence-2'>.</a></div> <div id='temp.friend-2.sentence-3' class='sentence'>In these cases, all specializations of the friend class or friend function
template are friends of the class or class template granting friendship<a class='hidden_link' href='#temp.friend-2.sentence-3'>.</a></div> <div id='temp.friend-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.friend-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> B;                 <span class='comment'>// OK</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>   <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.friend-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2976'>#</a></div><div id='temp.friend-3.sentence-1' class='sentence'>A template friend declaration specifies that all specializations of that
template, whether they are <a href='temp.inst'>implicitly instantiated</a>, <a href='#temp.class.spec'>partially
specialized</a> or <a href='temp.expl.spec'>explicitly specialized</a>,
are friends of the class containing the template friend declaration<a class='hidden_link' href='#temp.friend-3.sentence-1'>.</a></div> <div id='temp.friend-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.friend-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>struct</span> A;
  <span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> X<span class='operator'>::</span>Y ab; <span class='curlybracket'>}</span>;            <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> X<span class='operator'>::</span>Y ab; <span class='curlybracket'>}</span>;        <span class='comment'>// OK</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.friend-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L2993'>#</a></div><div id='temp.friend-4.sentence-1' class='sentence'>A template friend declaration may declare
a member of a dependent type to be a friend<a class='hidden_link' href='#temp.friend-4.sentence-1'>.</a></div> <div id='temp.friend-4.sentence-2' class='sentence'>The friend declaration shall declare a function or
specify a type with an <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a>,
in either case with a <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
ending with a <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>, <span class='textit'>C</span>,
whose <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a> names a class template<a class='hidden_link' href='#temp.friend-4.sentence-2'>.</a></div> <div id='temp.friend-4.sentence-3' class='sentence'>The template parameters of the template friend declaration
shall be deducible from <span class='textit'>C</span> (<a href='temp.deduct.type'>[temp.deduct.type]</a>)<a class='hidden_link' href='#temp.friend-4.sentence-3'>.</a></div> <div id='temp.friend-4.sentence-4' class='sentence'>In this case,
a member of a specialization <span class='textit'>S</span> of the class template
is a friend of the class granting friendship
if deduction of the template parameters
of <span class='textit'>C</span> from <span class='textit'>S</span> succeeds, and
substituting the deduced template arguments into the friend declaration
produces a declaration that would be a valid redeclaration
of the member of the specialization<a class='hidden_link' href='#temp.friend-4.sentence-4'>.</a></div> <div id='temp.friend-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.friend-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
  T h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>T U<span class='anglebracket'>&gt;</span> T i<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> i<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>float</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> <span class='operator'>*</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B;      <span class='comment'>// grants friendship to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;B</span> even though</span>
                                                <span class='comment'>// it is not a specialization of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;B</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// does not grant friendship to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;f()</span></span>
                                                <span class='comment'>// because its return type does not match</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>D<span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;D</span> does not end with a <span class='grammarterm'>simple-template-id</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>int</span> <span class='operator'>*</span>A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// grants friendship to <span class='tcode_in_codeblock'>A&lt;int*&gt;&#x200b;::&#x200b;h()</span> and <span class='tcode_in_codeblock'>A&lt;float*&gt;&#x200b;::&#x200b;h()</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>T U<span class='anglebracket'>&gt;</span>               <span class='comment'>// grants friendship to instantiations of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;i()</span> and</span>
    <span class='keyword'>friend</span> T A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                         <span class='comment'>// to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;i()</span>, and thereby to all specializations</span>
<span class='curlybracket'>}</span>;                                              <span class='comment'>// of those function templates</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.friend-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3047'>#</a></div><div id='temp.friend-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.friend-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.friend-5.sentence-1' class='sentence'>A friend declaration may first declare a member of an enclosing namespace scope (<a href='temp.inject'>[temp.inject]</a>)<a class='hidden_link' href='#temp.friend-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='temp.friend-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3052'>#</a></div><div id='temp.friend-6.sentence-1' class='sentence'>A friend template shall not be declared in a local class<a class='hidden_link' href='#temp.friend-6.sentence-1'>.</a></div></div><div class='para' id='temp.friend-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3055'>#</a></div><div id='temp.friend-7.sentence-1' class='sentence'>Friend declarations shall not declare partial specializations<a class='hidden_link' href='#temp.friend-7.sentence-1'>.</a></div> <div id='temp.friend-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.friend-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span>;         <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.friend-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3066'>#</a></div><div id='temp.friend-8.sentence-1' class='sentence'>When a friend declaration refers to a specialization of a function
template, the function parameter declarations shall not include
default arguments, nor shall
the <span class='texttt'><span class='keyword'>inline</span></span>, <span class='texttt'><span class='keyword'>constexpr</span></span>, or <span class='texttt'><span class='keyword'>consteval</span></span> specifiers
be used in such a declaration<a class='hidden_link' href='#temp.friend-8.sentence-1'>.</a></div></div><div class='para' id='temp.friend-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3073'>#</a></div><div id='temp.friend-9.sentence-1' class='sentence'>A non-template friend declaration shall not have a <a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a><a class='hidden_link' href='#temp.friend-9.sentence-1'>.</a></div></div></div><div id='temp.class.spec' class='section'><h3 ><a class='secnum' href='#temp.class.spec' style='min-width:103pt'>13.7.5</a> Class template partial specializations <a class='abbr_ref' href='temp.class.spec'>[temp.class.spec]</a></h3><div class='para' id='temp.class.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3078'>#</a></div><div id='temp.class.spec-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specialization,class_template_partial'></a></span>A
<a class='hidden_link' href='#def:template,primary' id='def:template,primary'><i >primary class template</i></a>
declaration is one in which the class template name is an
identifier<a class='hidden_link' href='#temp.class.spec-1.sentence-1'>.</a></div> <div id='temp.class.spec-1.sentence-2' class='sentence'>A template declaration in which the class template name is a
<a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>
is a
<a class='hidden_link' href='#def:specialization,class_template_partial' id='def:specialization,class_template_partial'><i >partial specialization</i></a>
of the class template named in the
<a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a><a class='hidden_link' href='#temp.class.spec-1.sentence-2'>.</a></div> <div id='temp.class.spec-1.sentence-3' class='sentence'>A partial specialization of a class template provides an alternative definition
of the template that is used instead of the primary definition when the
arguments in a specialization match those given in the partial
specialization (<a href='#temp.class.spec.match'>[temp.class.spec.match]</a>)<a class='hidden_link' href='#temp.class.spec-1.sentence-3'>.</a></div> <div id='temp.class.spec-1.sentence-4' class='sentence'>The primary template shall be declared before any specializations of
that template<a class='hidden_link' href='#temp.class.spec-1.sentence-4'>.</a></div> <div id='temp.class.spec-1.sentence-5' class='sentence'>A partial specialization shall be declared before the first use of a class template
specialization that would make use of the partial specialization as the result of
an implicit or explicit instantiation in every translation unit in which such a use
occurs; no diagnostic is required<a class='hidden_link' href='#temp.class.spec-1.sentence-5'>.</a></div></div><div class='para' id='temp.class.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3102'>#</a></div><div id='temp.class.spec-2.sentence-1' class='sentence'>Each class template partial specialization is a distinct template and
definitions shall be provided for the members of a template partial
specialization (<a href='#temp.class.spec.mfunc'>[temp.class.spec.mfunc]</a>)<a class='hidden_link' href='#temp.class.spec-2.sentence-1'>.</a></div></div><div class='para' id='temp.class.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3107'>#</a></div><div id='temp.class.spec-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A             <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>            <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T, T<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span>   <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1<span class='operator'>*</span>, T2, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>                   <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, T<span class='operator'>*</span>, <span class='literal'>5</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1, T2<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</pre><div id='temp.class.spec-3.sentence-1' class='sentence'>The first declaration declares the primary (unspecialized) class template<a class='hidden_link' href='#temp.class.spec-3.sentence-1'>.</a></div> <div id='temp.class.spec-3.sentence-2' class='sentence'>The second and subsequent declarations declare partial specializations of
the primary template<a class='hidden_link' href='#temp.class.spec-3.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3122'>#</a></div><div id='temp.class.spec-4.sentence-1' class='sentence'>A class template partial specialization may be constrained (<a href='temp.pre'>[temp.pre]</a>)<a class='hidden_link' href='#temp.class.spec-4.sentence-1'>.</a></div> <div id='temp.class.spec-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;          <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                  <span class='comment'>// #2</span>
</pre> <div id='temp.class.spec-4.sentence-2' class='sentence'>
Both partial specializations are more specialized than the primary template<a class='hidden_link' href='#temp.class.spec-4.sentence-2'>.</a></div> <div id='temp.class.spec-4.sentence-3' class='sentence'>#1 is more specialized because the deduction of its template arguments
from the template argument list of the class template specialization succeeds,
while the reverse does not<a class='hidden_link' href='#temp.class.spec-4.sentence-3'>.</a></div> <div id='temp.class.spec-4.sentence-4' class='sentence'>#2 is more specialized because the template arguments are equivalent,
but the partial specialization is more constrained (<a href='temp.constr.order'>[temp.constr.order]</a>)<a class='hidden_link' href='#temp.class.spec-4.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3140'>#</a></div><div id='temp.class.spec-5.sentence-1' class='sentence'>The template parameters are specified in the angle bracket enclosed list
that immediately follows the keyword
<span class='texttt'>template</span><a class='hidden_link' href='#temp.class.spec-5.sentence-1'>.</a></div> <div id='temp.class.spec-5.sentence-2' class='sentence'>For partial specializations, the template argument list is explicitly
written immediately following the class template name<a class='hidden_link' href='#temp.class.spec-5.sentence-2'>.</a></div> <div id='temp.class.spec-5.sentence-3' class='sentence'>For primary templates, this list is implicitly described by the
template parameter list<a class='hidden_link' href='#temp.class.spec-5.sentence-3'>.</a></div> <div id='temp.class.spec-5.sentence-4' class='sentence'>Specifically, the order of the template arguments is the sequence in
which they appear in the template parameter list<a class='hidden_link' href='#temp.class.spec-5.sentence-4'>.</a></div> <div id='temp.class.spec-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.class.spec-5.sentence-5' class='sentence'>The template argument list for the primary template in the example
above is
<span class='texttt'><span class='anglebracket'>&lt;</span>T1,</span>
<span class='texttt'>T2,</span>
<span class='texttt'>I<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#temp.class.spec-5.sentence-5'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.class.spec-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.class.spec-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.class.spec-5.sentence-6' class='sentence'>The template argument list cannot be specified in the primary template
declaration<a class='hidden_link' href='#temp.class.spec-5.sentence-6'>.</a></div> <div id='temp.class.spec-5.sentence-7' class='sentence'>For example,</div><pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>
<span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1, T2, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                         <span class='comment'>// error</span>
</pre> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3168'>#</a></div><div id='temp.class.spec-6.sentence-1' class='sentence'>A class template partial specialization may be declared in any
scope in which the corresponding primary template
may be defined (<a href='namespace.memdef'>[namespace.memdef]</a>, <a href='class.mem'>[class.mem]</a>, <a href='#temp.mem'>[temp.mem]</a>)<a class='hidden_link' href='#temp.class.spec-6.sentence-1'>.</a></div> <div id='temp.class.spec-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B<span class='anglebracket'>&lt;</span>T2<span class='operator'>*</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;      <span class='comment'>// partial specialization #1</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// partial specialization of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;C&#x200b;::&#x200b;B&lt;T2&gt;</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>C<span class='operator'>::</span>B<span class='anglebracket'>&lt;</span>T2<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                   <span class='comment'>// #2</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>C<span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> absip;                     <span class='comment'>// uses partial specialization #2</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3189'>#</a></div><div id='temp.class.spec-7.sentence-1' class='sentence'>Partial specialization declarations themselves are not found by name lookup<a class='hidden_link' href='#temp.class.spec-7.sentence-1'>.</a></div> <div id='temp.class.spec-7.sentence-2' class='sentence'>Rather, when the primary template name is used, any previously-declared partial
specializations of the primary template are also considered<a class='hidden_link' href='#temp.class.spec-7.sentence-2'>.</a></div> <div id='temp.class.spec-7.sentence-3' class='sentence'>One consequence is
that a
<a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>
which refers to a class template does not restrict the set of partial specializations
which may be found through the
<a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a><a class='hidden_link' href='#temp.class.spec-7.sentence-3'>.</a></div> <div id='temp.class.spec-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;     <span class='comment'>// primary template</span>
<span class='curlybracket'>}</span>

<span class='keyword'>using</span> N<span class='operator'>::</span>A;                                     <span class='comment'>// refers to the primary template</span>

<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T, T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// partial specialization</span>
<span class='curlybracket'>}</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>,<span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> a;      <span class='comment'>// uses the partial specialization, which is found through the using-declaration</span>
                    <span class='comment'>// which refers to the primary template</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3216'>#</a></div><div id='temp.class.spec-8.sentence-1' class='sentence'>A non-type argument is non-specialized if it is the name of a non-type
parameter<a class='hidden_link' href='#temp.class.spec-8.sentence-1'>.</a></div> <div id='temp.class.spec-8.sentence-2' class='sentence'>All other non-type arguments are specialized<a class='hidden_link' href='#temp.class.spec-8.sentence-2'>.</a></div></div><div class='para' id='temp.class.spec-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3221'>#</a></div><div id='temp.class.spec-9.sentence-1' class='sentence'>Within the argument list of a class template partial specialization,
the following restrictions apply:</div><ul class='itemize'><li id='temp.class.spec-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.1'>(9.1)</a></div><div id='temp.class.spec-9.1.sentence-1' class='sentence'>The type of a template parameter corresponding to a specialized non-type argument
shall not be dependent on a parameter of the specialization<a class='hidden_link' href='#temp.class.spec-9.1.sentence-1'>.</a></div> <div id='temp.class.spec-9.1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec-9.1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, T t<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C<span class='anglebracket'>&lt;</span>T, <span class='literal'>1</span><span class='anglebracket'>&gt;</span>;              <span class='comment'>// error</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span> <span class='keyword'>int</span> X, <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>array_ptr<span class='parenthesis'>)</span><span class='squarebracket'>[</span>X<span class='squarebracket'>]</span> <span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>int</span> array<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span> <span class='keyword'>int</span> X <span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>X,<span class='operator'>&amp;</span>array<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;        <span class='comment'>// error</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </li><li id='temp.class.spec-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.2'>(9.2)</a></div><div id='temp.class.spec-9.2.sentence-1' class='sentence'>The specialization shall be <a href='#def:more_specialized'>more specialized</a>
than the primary template<a class='hidden_link' href='#temp.class.spec-9.2.sentence-1'>.</a></div></li><li id='temp.class.spec-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.3'>(9.3)</a></div><div id='temp.class.spec-9.3.sentence-1' class='sentence'>The template parameter list of a specialization shall not contain default
template argument values<a class='hidden_link' href='#temp.class.spec-9.3.sentence-1'>.</a><a class='footnotenum' href='#footnote-135' id='footnoteref-135'>135</a></div></li><li id='temp.class.spec-9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec-9.4'>(9.4)</a></div><div id='temp.class.spec-9.4.sentence-1' class='sentence'>An argument shall not contain an unexpanded pack<a class='hidden_link' href='#temp.class.spec-9.4.sentence-1'>.</a></div> <div id='temp.class.spec-9.4.sentence-2' class='sentence'>If
an argument is a pack expansion (<a href='#temp.variadic'>[temp.variadic]</a>), it shall be
the last argument in the template argument list<a class='hidden_link' href='#temp.class.spec-9.4.sentence-2'>.</a></div></li></ul></div><div class='para' id='temp.class.spec-10'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3253'>#</a></div><div id='temp.class.spec-10.sentence-1' class='sentence'>The usual access checking rules do not apply to non-dependent names
used to specify template arguments of the <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>
of the partial specialization<a class='hidden_link' href='#temp.class.spec-10.sentence-1'>.</a></div> <div id='temp.class.spec-10.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.class.spec-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.class.spec-10.sentence-2' class='sentence'>The template arguments may be private types or
objects that would normally not be accessible<a class='hidden_link' href='#temp.class.spec-10.sentence-2'>.</a></div> <div id='temp.class.spec-10.sentence-3' class='sentence'>Dependent names cannot be checked when declaring the partial specialization,
but will be checked when substituting into the partial specialization<a class='hidden_link' href='#temp.class.spec-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-135'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-135'>135)</a></div><div id='footnote-135.sentence-1' class='sentence'>There is no way in which they could be used<a class='hidden_link' href='#footnote-135.sentence-1'>.</a></div> <a href='#footnoteref-135'>⮥</a></div><div id='temp.class.spec.match' class='section'><h4 ><a class='secnum' href='#temp.class.spec.match' style='min-width:118pt'>13.7.5.1</a> Matching of class template partial specializations <a class='abbr_ref' href='temp.class.spec.match'>[temp.class.spec.match]</a></h4><div class='para' id='temp.class.spec.match-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3266'>#</a></div><div id='temp.class.spec.match-1.sentence-1' class='sentence'>When a class template is used in a context that requires an instantiation of
the class,
it is necessary to determine whether the instantiation is to be generated
using the primary template or one of the partial specializations<a class='hidden_link' href='#temp.class.spec.match-1.sentence-1'>.</a></div> <div id='temp.class.spec.match-1.sentence-2' class='sentence'>This is done by matching the template arguments of the class template
specialization with the template argument lists of the partial
specializations<a class='hidden_link' href='#temp.class.spec.match-1.sentence-2'>.</a></div><ul class='itemize'><li id='temp.class.spec.match-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec.match-1.1'>(1.1)</a></div><div id='temp.class.spec.match-1.1.sentence-1' class='sentence'>If exactly one matching specialization is found, the instantiation is
generated from that specialization<a class='hidden_link' href='#temp.class.spec.match-1.1.sentence-1'>.</a></div></li><li id='temp.class.spec.match-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec.match-1.2'>(1.2)</a></div><div id='temp.class.spec.match-1.2.sentence-1' class='sentence'>If more than one matching specialization is found,
the <a href='#temp.class.order'>partial order rules</a> are used to determine
whether one of the specializations is more specialized than the
others<a class='hidden_link' href='#temp.class.spec.match-1.2.sentence-1'>.</a></div> <div id='temp.class.spec.match-1.2.sentence-2' class='sentence'>If none of the specializations is more specialized than all of the
other matching specializations, then the use of the class template
is ambiguous and the program is ill-formed<a class='hidden_link' href='#temp.class.spec.match-1.2.sentence-2'>.</a></div></li><li id='temp.class.spec.match-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.spec.match-1.3'>(1.3)</a></div><div id='temp.class.spec.match-1.3.sentence-1' class='sentence'>If no matches are found, the instantiation is generated from the
primary template<a class='hidden_link' href='#temp.class.spec.match-1.3.sentence-1'>.</a></div></li></ul></div><div class='para' id='temp.class.spec.match-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3292'>#</a></div><div id='temp.class.spec.match-2.sentence-1' class='sentence'>A partial specialization matches a given actual template argument
list if the template arguments of the partial specialization can be
<a href='temp.deduct'>deduced</a> from the actual template argument list,
and the deduced template arguments satisfy the <a href='temp.constr.decl#def:associated_constraints'>associated constraints</a>
of the partial specialization, if any<a class='hidden_link' href='#temp.class.spec.match-2.sentence-1'>.</a></div> <div id='temp.class.spec.match-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec.match-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A             <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>            <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T, T<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span>   <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1<span class='operator'>*</span>, T2, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>                   <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, T<span class='operator'>*</span>, <span class='literal'>5</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #4</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1, T2<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #5</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span>   a1;                    <span class='comment'>// uses #1</span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='operator'>*</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span>  a2;                    <span class='comment'>// uses #2, <span class='tcode_in_codeblock'>T</span> is <span class='tcode_in_codeblock'>int</span>, <span class='tcode_in_codeblock'>I</span> is <span class='tcode_in_codeblock'>1</span></span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>char</span><span class='operator'>*</span>, <span class='literal'>5</span><span class='anglebracket'>&gt;</span> a3;                    <span class='comment'>// uses #4, <span class='tcode_in_codeblock'>T</span> is <span class='tcode_in_codeblock'>char</span></span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>char</span><span class='operator'>*</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span> a4;                    <span class='comment'>// uses #5, <span class='tcode_in_codeblock'>T1</span> is <span class='tcode_in_codeblock'>int</span>, <span class='tcode_in_codeblock'>T2</span> is <span class='tcode_in_codeblock'>char</span>, <span class='tcode_in_codeblock'>I</span> is <span class='tcode_in_codeblock'>1</span></span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span>, <span class='keyword'>int</span><span class='operator'>*</span>, <span class='literal'>2</span><span class='anglebracket'>&gt;</span> a5;                    <span class='comment'>// ambiguous: matches #3 and #5</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.class.spec.match-2.example-2' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec.match-2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;      <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;          <span class='comment'>// #2</span>

<span class='keyword'>struct</span> Arg <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

S<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> s1;                              <span class='comment'>// uses #1; the constraints of #2 are not satisfied</span>
S<span class='anglebracket'>&lt;</span>Arg<span class='anglebracket'>&gt;</span> s2;                              <span class='comment'>// uses #2; both constraints are satisfied but #2 is more specialized</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec.match-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3327'>#</a></div><div id='temp.class.spec.match-3.sentence-1' class='sentence'>If the template arguments of a partial specialization cannot be deduced
because of the structure of its <a class='grammarterm' href='temp.pre#nt:template-parameter-list'>template-parameter-list</a>
and the <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a>,
the program is ill-formed<a class='hidden_link' href='#temp.class.spec.match-3.sentence-1'>.</a></div> <div id='temp.class.spec.match-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec.match-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>5</span>, I<span class='operator'>*</span><span class='literal'>2</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;     <span class='comment'>// error</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>I, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;         <span class='comment'>// OK</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J, <span class='keyword'>int</span> K<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B<span class='anglebracket'>&lt;</span>I, I<span class='operator'>*</span><span class='literal'>2</span>, <span class='literal'>2</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;    <span class='comment'>// OK</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec.match-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.match-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3344'>#</a></div><div id='temp.class.spec.match-4.sentence-1' class='sentence'>In a type name that refers to a class template specialization, (e.g.,
<span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span></span>)
the argument list shall match the template parameter list of the primary
template<a class='hidden_link' href='#temp.class.spec.match-4.sentence-1'>.</a></div> <div id='temp.class.spec.match-4.sentence-2' class='sentence'>The template arguments of a specialization are deduced from the arguments
of the primary template<a class='hidden_link' href='#temp.class.spec.match-4.sentence-2'>.</a></div></div></div><div id='temp.class.order' class='section'><h4 ><a class='secnum' href='#temp.class.order' style='min-width:118pt'>13.7.5.2</a> Partial ordering of class template specializations <a class='abbr_ref' href='temp.class.order'>[temp.class.order]</a></h4><div class='para' id='temp.class.order-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.order-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3354'>#</a></div><div id='temp.class.order-1.sentence-1' class='sentence'>For two class template partial specializations,
the first is <a class='hidden_link' href='#def:more_specialized,class_template' id='def:more_specialized,class_template'><i >more specialized</i></a> than the second if, given the following
rewrite to two function templates, the first function template is more
specialized than the second according to the <a href='#temp.func.order'>ordering rules for function
templates</a>:</div><ul class='itemize'><li id='temp.class.order-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.order-1.1'>(1.1)</a></div><div id='temp.class.order-1.1.sentence-1' class='sentence'>Each of the two
function templates has the same template parameters
and <a href='temp.constr.decl#def:associated_constraints'>associated constraints</a>
as the corresponding partial specialization<a class='hidden_link' href='#temp.class.order-1.1.sentence-1'>.</a></div></li><li id='temp.class.order-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.class.order-1.2'>(1.2)</a></div><div id='temp.class.order-1.2.sentence-1' class='sentence'>Each function template
has a single function parameter
whose type is a class template specialization where the template arguments
are the corresponding template parameters from the function template
for each template argument
in the <a class='grammarterm' href='temp.names#nt:template-argument-list'>template-argument-list</a>
of the <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>
of the partial specialization<a class='hidden_link' href='#temp.class.order-1.2.sentence-1'>.</a></div></li></ul></div><div class='para' id='temp.class.order-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.order-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3378'>#</a></div><div id='temp.class.order-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.order-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span>          <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span>I, J, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>                 <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span>I, I, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I0, <span class='keyword'>int</span> J0<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>I0, J0, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                <span class='comment'>// A</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I0<span class='anglebracket'>&gt;</span>         <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>I0, I0, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                <span class='comment'>// B</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> v<span class='anglebracket'>&gt;</span>    <span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span> p<span class='anglebracket'>&gt;</span>   <span class='keyword'>class</span> Y<span class='anglebracket'>&lt;</span>p<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                            <span class='comment'>// #3</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span><span class='operator'>*</span> pp<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Y<span class='anglebracket'>&lt;</span>pp<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                           <span class='comment'>// #4</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span> p0<span class='anglebracket'>&gt;</span>   <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Y<span class='anglebracket'>&lt;</span>p0<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                            <span class='comment'>// C</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span><span class='operator'>*</span> pp0<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Y<span class='anglebracket'>&lt;</span>pp0<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                           <span class='comment'>// D</span>
</pre><div id='temp.class.order-2.sentence-1' class='sentence'>According to the ordering rules for function templates,
the function template
<span class='textit'>B</span>
is more specialized than the function template
<span class='textit'>A</span>
and
the function template
<span class='textit'>D</span>
is more specialized than the function template
<span class='textit'>C</span><a class='hidden_link' href='#temp.class.order-2.sentence-1'>.</a></div> <div id='temp.class.order-2.sentence-2' class='sentence'>Therefore, the partial specialization #2
is more specialized than the partial specialization #1
and the partial specialization #4
is more specialized than the partial specialization #3<a class='hidden_link' href='#temp.class.order-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.class.order-2.example-2' class='example'>[&nbsp;<a class='example_link' href='#temp.class.order-2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;   <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;     <span class='comment'>// A</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;     <span class='comment'>// B</span>
</pre> <div id='temp.class.order-2.sentence-3' class='sentence'>
The partial specialization #2 is more specialized than #1
because <span class='texttt'>B</span> is more specialized than <span class='texttt'>A</span><a class='hidden_link' href='#temp.class.order-2.sentence-3'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='temp.class.spec.mfunc' class='section'><h4 ><a class='secnum' href='#temp.class.spec.mfunc' style='min-width:118pt'>13.7.5.3</a> Members of class template specializations <a class='abbr_ref' href='temp.class.spec.mfunc'>[temp.class.spec.mfunc]</a></h4><div class='para' id='temp.class.spec.mfunc-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.mfunc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3429'>#</a></div><div id='temp.class.spec.mfunc-1.sentence-1' class='sentence'>The template parameter list of a member of a class template partial
specialization shall match the template parameter list of the class template
partial specialization<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-1'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-2' class='sentence'>The template argument list of a member of a class template partial
specialization shall match the template argument list of the class template
partial specialization<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-2'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-3' class='sentence'>A class template partial specialization is a distinct template<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-3'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-4' class='sentence'>The members of the class template partial specialization are
unrelated to the members of the primary template<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-4'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-5' class='sentence'>Class template partial specialization members that are used in a way that
requires a definition shall be defined; the definitions of members of the
primary template are never used as definitions for members of a class
template partial specialization<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-5'>.</a></div> <div id='temp.class.spec.mfunc-1.sentence-6' class='sentence'>An explicit specialization of a member of a class template partial
specialization is declared in the same way as an explicit specialization of
the primary template<a class='hidden_link' href='#temp.class.spec.mfunc-1.sentence-6'>.</a></div> <div id='temp.class.spec.mfunc-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec.mfunc-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// primary class template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// member of primary class template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T,I<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='comment'>// class template partial specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T,<span class='literal'>2</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// member of class template partial specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T,<span class='literal'>2</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='comment'>// explicit specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>,<span class='literal'>2</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>,<span class='literal'>0</span><span class='anglebracket'>&gt;</span> a0;
  A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>,<span class='literal'>2</span><span class='anglebracket'>&gt;</span> a2;
  a0<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, uses definition of primary template's member</span>
  a2<span class='operator'>.</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, uses definition of partial specialization's member</span>
  a2<span class='operator'>.</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, uses definition of explicit specialization's member</span>
  a2<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: no definition of <span class='tcode_in_codeblock'>f</span> for <span class='tcode_in_codeblock'>A&lt;T,2&gt;</span>; the primary template is not used here</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.class.spec.mfunc-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.spec.mfunc-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3480'>#</a></div><div id='temp.class.spec.mfunc-2.sentence-1' class='sentence'>If a member template of a class template is partially specialized,
the member template partial specializations are member templates of
the enclosing class template;
if the enclosing class template is instantiated (<a href='temp.inst'>[temp.inst]</a>, <a href='temp.explicit'>[temp.explicit]</a>),
a declaration for every member template partial specialization is also
instantiated as part of creating the members of the class template
specialization<a class='hidden_link' href='#temp.class.spec.mfunc-2.sentence-1'>.</a></div> <div id='temp.class.spec.mfunc-2.sentence-2' class='sentence'>If the primary member template is explicitly specialized for a given
(implicit) specialization of the enclosing class template,
the partial specializations of the member template are ignored for this
specialization of the enclosing class template<a class='hidden_link' href='#temp.class.spec.mfunc-2.sentence-2'>.</a></div> <div id='temp.class.spec.mfunc-2.sentence-3' class='sentence'>If a partial specialization of the member template is explicitly specialized
for a given (implicit) specialization of the enclosing class template,
the primary member template and its other partial specializations are
still considered for this specialization of the enclosing class template<a class='hidden_link' href='#temp.class.spec.mfunc-2.sentence-3'>.</a></div> <div id='temp.class.spec.mfunc-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.class.spec.mfunc-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                               <span class='comment'>// #1</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B<span class='anglebracket'>&lt;</span>T2<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                          <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;            <span class='comment'>// #3</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span>  abcip;                                        <span class='comment'>// uses #2</span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> absip;                                        <span class='comment'>// uses #3</span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>  abci;                                          <span class='comment'>// uses #1</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div></div><div id='temp.fct' class='section'><h3 ><a class='secnum' href='#temp.fct' style='min-width:103pt'>13.7.6</a> Function templates <a class='abbr_ref' href='temp.fct'>[temp.fct]</a></h3><div class='para' id='temp.fct-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.fct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3513'>#</a></div><div id='temp.fct-1.sentence-1' class='sentence'>A function template defines an unbounded set of related functions<a class='hidden_link' href='#temp.fct-1.sentence-1'>.</a></div> <div id='temp.fct-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.fct-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='temp.fct-1.sentence-2' class='sentence'>A family of sort functions might be declared like this:</div><pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.fct-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.fct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3524'>#</a></div><div id='temp.fct-2.sentence-1' class='sentence'>A function template can be overloaded with other function templates
and with non-template functions (<a href='dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#temp.fct-2.sentence-1'>.</a></div> <div id='temp.fct-2.sentence-2' class='sentence'>A non-template function is not
related to a function template
(i.e., it is never considered to be a specialization),
even if it has the same name and type
as a potentially generated function template specialization<a class='hidden_link' href='#temp.fct-2.sentence-2'>.</a><a class='footnotenum' href='#footnote-136' id='footnoteref-136'>136</a></div></div><div class='footnote' id='footnote-136'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-136'>136)</a></div><div id='footnote-136.sentence-1' class='sentence'>That is,
declarations of non-template functions do not merely guide
overload resolution of
function template specializations
with the same name<a class='hidden_link' href='#footnote-136.sentence-1'>.</a></div> <div id='footnote-136.sentence-2' class='sentence'>If such a non-template function is <a href='basic.def.odr'>odr-used</a> in a program, it must be defined;
it will not be implicitly instantiated using the function template definition<a class='hidden_link' href='#footnote-136.sentence-2'>.</a></div> <a href='#footnoteref-136'>⮥</a></div><div id='temp.over.link' class='section'><h4 ><a class='secnum' href='#temp.over.link' style='min-width:118pt'>13.7.6.1</a> Function template overloading <a class='abbr_ref' href='temp.over.link'>[temp.over.link]</a></h4><div class='para' id='temp.over.link-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3541'>#</a></div><div id='temp.over.link-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading'></a></span>It is possible to overload function templates so that two different
function template specializations have the same type<a class='hidden_link' href='#temp.over.link-1.sentence-1'>.</a></div> <div id='temp.over.link-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.over.link-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div class='minipage'><pre class='codeblock'>
<span class='comment'>// translation unit 1:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>; <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int&gt;(int*)</span></span>
<span class='curlybracket'>}</span>
</pre></div>
<div class='minipage'><pre class='codeblock'>
<span class='comment'>// translation unit 2:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>; <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int*&gt;(int*)</span></span>
<span class='curlybracket'>}</span>
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.over.link-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3570'>#</a></div><div id='temp.over.link-2.sentence-1' class='sentence'>Such specializations are distinct functions and do not violate the
<a href='basic.def.odr'>one-definition rule</a><a class='hidden_link' href='#temp.over.link-2.sentence-1'>.</a></div></div><div class='para' id='temp.over.link-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3574'>#</a></div><div id='temp.over.link-3.sentence-1' class='sentence'>The signature of a function template
is defined in <a href='intro.defs'>[intro.defs]</a><a class='hidden_link' href='#temp.over.link-3.sentence-1'>.</a></div> <div id='temp.over.link-3.sentence-2' class='sentence'>The names of the template parameters are significant only for establishing
the relationship between the template parameters and the rest of the
signature<a class='hidden_link' href='#temp.over.link-3.sentence-2'>.</a></div> <div id='temp.over.link-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.over.link-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-3.sentence-3' class='sentence'>Two distinct function templates may have identical function return types and
function parameter lists, even if overload resolution alone cannot distinguish
them<a class='hidden_link' href='#temp.over.link-3.sentence-3'>.</a></div><pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK: overloads the first template</span>
                                <span class='comment'>// distinguishable with an explicit template argument list</span>
</pre> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='temp.over.link-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3592'>#</a></div><div id='temp.over.link-4.sentence-1' class='sentence'>When an expression that references a template parameter is used in the
function parameter list or the return type in the declaration of a
function template, the expression that references the template
parameter is part of the signature of the function template<a class='hidden_link' href='#temp.over.link-4.sentence-1'>.</a></div> <div id='temp.over.link-4.sentence-2' class='sentence'>This is
necessary to permit a declaration of a function template in one
translation unit to be linked with another declaration of the function
template in another translation unit and, conversely, to ensure that
function templates that are intended to be distinct are not linked
with one another<a class='hidden_link' href='#temp.over.link-4.sentence-2'>.</a></div> <div id='temp.over.link-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.over.link-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span>J<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> K, <span class='keyword'>int</span> L<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>K<span class='operator'>+</span>L<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>K<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>L<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// same as #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>-</span>J<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// different from #1</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.over.link-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.over.link-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-4.sentence-3' class='sentence'>Most expressions that use template parameters use non-type template
parameters, but it is possible for an expression to reference a type
parameter<a class='hidden_link' href='#temp.over.link-4.sentence-3'>.</a></div> <div id='temp.over.link-4.sentence-4' class='sentence'>For example, a template type parameter can be used in the
<span class='texttt'><span class='keyword'>sizeof</span></span> operator<a class='hidden_link' href='#temp.over.link-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='temp.over.link-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3618'>#</a></div><div id='temp.over.link-5.sentence-1' class='sentence'>Two expressions involving template parameters are considered
<a class='hidden_link' href='#def:equivalent,expressions' id='def:equivalent,expressions'><i >equivalent</i></a>
if two function definitions containing the expressions would satisfy
the <a href='basic.def.odr'>one-definition rule</a>, except that the tokens used
to name the template parameters may differ as long as a token used to
name a template parameter in one expression is replaced by another token
that names the same template parameter in the other expression<a class='hidden_link' href='#temp.over.link-5.sentence-1'>.</a></div> <div id='temp.over.link-5.sentence-2' class='sentence'>Two unevaluated operands that do not involve template parameters
are considered equivalent
if two function definitions containing the expressions
would satisfy the one-definition rule,
except that the tokens used to name types and declarations may differ
as long as they name the same entities, and
the tokens used to form concept-ids may differ
as long as the two <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a><span class='textit'>s</span> are the same (<a href='temp.type'>[temp.type]</a>)<a class='hidden_link' href='#temp.over.link-5.sentence-2'>.</a></div> <div id='temp.over.link-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.over.link-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-5.sentence-3' class='sentence'>For instance, <span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='literal'>42</span><span class='anglebracket'>&gt;</span></span> and <span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='literal'>40</span><span class='operator'>+</span><span class='literal'>2</span><span class='anglebracket'>&gt;</span></span> name the same type<a class='hidden_link' href='#temp.over.link-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='temp.over.link-5.sentence-4' class='sentence'>
Two <a class='grammarterm' href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a><span class='textit'>s</span> are never considered equivalent<a class='hidden_link' href='#temp.over.link-5.sentence-4'>.</a></div> <div id='temp.over.link-5.note-2' class='note'>[&nbsp;<a class='note_link' href='#temp.over.link-5.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-5.sentence-5' class='sentence'>The intent is to avoid <a class='grammarterm' href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a><span class='textit'>s</span> appearing in the
signature of a function template with external linkage<a class='hidden_link' href='#temp.over.link-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='temp.over.link-5.sentence-6' class='sentence'>
For determining whether two dependent names (<a href='temp.dep'>[temp.dep]</a>) are
equivalent, only the name itself is considered, not the result of name
lookup in the context of the template<a class='hidden_link' href='#temp.over.link-5.sentence-6'>.</a></div> <div id='temp.over.link-5.sentence-7' class='sentence'>If multiple declarations of the
same function template differ in the result of this name lookup, the
result for the first declaration is used<a class='hidden_link' href='#temp.over.link-5.sentence-7'>.</a></div> <div id='temp.over.link-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.over.link-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> K, <span class='keyword'>int</span> L<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>K<span class='operator'>+</span>L<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;         <span class='comment'>// same as #1</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>         <span class='comment'>// redeclaration of <span class='tcode_in_codeblock'>h()</span> uses the earlier lookup&hellip;</span>
  <span class='curlybracket'>{</span> <span class='keyword'>return</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>                            <span class='comment'>// &hellip; although the lookup here does find <span class='tcode_in_codeblock'>g(int)</span></span>
<span class='keyword'>int</span> i <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                               <span class='comment'>// template argument substitution fails; <span class='tcode_in_codeblock'>g(int)</span></span>
                                                <span class='comment'>// was not in scope at the first declaration of <span class='tcode_in_codeblock'>h()</span></span>

<span class='comment'>// ill-formed, no diagnostic required: the two expressions are functionally equivalent but not equivalent</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> N<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, N<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> N<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, N<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;

<span class='comment'>// two different declarations because the non-dependent portions are not considered equivalent</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> spam<span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> spam<span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.over.link-5.sentence-8' class='sentence'>Two potentially-evaluated expressions involving template parameters that are not equivalent are
<a class='hidden_link' href='#def:functionally_equivalent,expressions' id='def:functionally_equivalent,expressions'><i >functionally equivalent</i></a>
if, for any given set of template arguments, the evaluation of the
expression results in the same value<a class='hidden_link' href='#temp.over.link-5.sentence-8'>.</a></div> <div id='temp.over.link-5.sentence-9' class='sentence'>Two unevaluated operands that are not equivalent
are functionally equivalent if, for any given set of template arguments,
the expressions perform
the same operations in the same order with the same entities<a class='hidden_link' href='#temp.over.link-5.sentence-9'>.</a></div> <div id='temp.over.link-5.note-3' class='note'>[&nbsp;<a class='note_link' href='#temp.over.link-5.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-5.sentence-10' class='sentence'>For instance, one could have redundant parentheses<a class='hidden_link' href='#temp.over.link-5.sentence-10'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='temp.over.link-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3682'>#</a></div><div id='temp.over.link-6.sentence-1' class='sentence'>Two <a class='grammarterm' href='temp.pre#nt:template-head'>template-head</a><span class='textit'>s</span> are
<a class='hidden_link' href='#def:equivalent,template-heads' id='def:equivalent,template-heads'><i >equivalent</i></a> if
their <a class='grammarterm' href='temp.pre#nt:template-parameter-list'>template-parameter-list</a><span class='textit'>s</span> have the same length,
corresponding <a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a><span class='textit'>s</span> are equivalent,
and if either has a <a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a>, they both have
<a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a><span class='textit'>s</span> and the corresponding
<a class='grammarterm' href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a><span class='textit'>s</span> are equivalent<a class='hidden_link' href='#temp.over.link-6.sentence-1'>.</a></div> <div id='temp.over.link-6.sentence-2' class='sentence'>Two <a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a><span class='textit'>s</span> are
<a class='hidden_link' href='#def:equivalent,template-parameters' id='def:equivalent,template-parameters'><i >equivalent</i></a>
under the following conditions:
<ul class='itemize'><li id='temp.over.link-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.1'>(6.1)</a></div>they declare template parameters of the same kind,</li><li id='temp.over.link-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.2'>(6.2)</a></div>if either declares a template parameter pack, they both do,</li><li id='temp.over.link-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.3'>(6.3)</a></div>if they declare non-type template parameters, they have
equivalent types,</li><li id='temp.over.link-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.4'>(6.4)</a></div>if they declare template template parameters, their template
parameters are equivalent, and</li><li id='temp.over.link-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.over.link-6.5'>(6.5)</a></div>if either is declared with a <a class='grammarterm' href='temp.param#nt:type-constraint'>type-constraint</a>,
they both are, and the <a class='grammarterm' href='temp.param#nt:type-constraint'>type-constraint</a><span class='textit'>s</span> are
equivalent<a class='hidden_link' href='#temp.over.link-6.sentence-2'>.</a></li></ul></div> <div id='temp.over.link-6.sentence-3' class='sentence'>
When determining whether types or <a class='grammarterm' href='temp.param#nt:type-constraint'>type-constraint</a><span class='textit'>s</span>
are equivalent, the rules above are used to compare expressions
involving template parameters<a class='hidden_link' href='#temp.over.link-6.sentence-3'>.</a></div> <div id='temp.over.link-6.sentence-4' class='sentence'>Two <a class='grammarterm' href='temp.pre#nt:template-head'>template-head</a><span class='textit'>s</span> are
<a class='hidden_link' href='#def:functionally_equivalent,template-heads' id='def:functionally_equivalent,template-heads'><i >functionally equivalent</i></a>
if they accept and are satisfied by (<a href='temp.constr.constr'>[temp.constr.constr]</a>)
the same set of template argument lists<a class='hidden_link' href='#temp.over.link-6.sentence-4'>.</a></div></div><div class='para' id='temp.over.link-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3712'>#</a></div><div id='temp.over.link-7.sentence-1' class='sentence'>Two function templates are
<a class='hidden_link' href='#def:equivalent,function_templates' id='def:equivalent,function_templates'><i >equivalent</i></a>
if they
are declared in the same scope,
have the same name,
have equivalent <a class='grammarterm' href='temp.pre#nt:template-head'>template-head</a><span class='textit'>s</span>,
and
have return types, parameter lists,
and trailing <a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a><span class='textit'>s</span> (if any)
that are equivalent using the rules described above to compare
expressions involving
template parameters<a class='hidden_link' href='#temp.over.link-7.sentence-1'>.</a></div> <div id='temp.over.link-7.sentence-2' class='sentence'>Two function templates are
<a class='hidden_link' href='#def:functionally_equivalent,function_templates' id='def:functionally_equivalent,function_templates'><i >functionally equivalent</i></a>
if they
are declared in the same scope,
have the same name,
accept and are satisfied by the same set of template argument lists,
and
have return types and parameter lists that
are functionally equivalent using the rules described above to
compare expressions involving
template parameters<a class='hidden_link' href='#temp.over.link-7.sentence-2'>.</a></div> <div id='temp.over.link-7.sentence-3' class='sentence'>If the validity or meaning of the program depends on
whether two constructs are equivalent, and they are
functionally equivalent but not equivalent, the program is ill-formed,
no diagnostic required<a class='hidden_link' href='#temp.over.link-7.sentence-3'>.</a></div></div><div class='para' id='temp.over.link-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3744'>#</a></div><div id='temp.over.link-8.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.over.link-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.over.link-8.sentence-1' class='sentence'>This rule guarantees that equivalent declarations will be linked with
one another, while not requiring implementations to use heroic efforts
to guarantee that functionally equivalent declarations will be treated
as distinct<a class='hidden_link' href='#temp.over.link-8.sentence-1'>.</a></div> <div id='temp.over.link-8.sentence-2' class='sentence'>For example, the last two declarations are functionally
equivalent and would cause a program to be ill-formed:</div><pre class='codeblock'>
<span class='comment'>// guaranteed to be the same</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='comment'>// guaranteed to be different</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>11</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='comment'>// ill-formed, no diagnostic required</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>1</span><span class='operator'>+</span><span class='literal'>2</span><span class='operator'>+</span><span class='literal'>3</span><span class='operator'>+</span><span class='literal'>4</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
</pre> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='temp.func.order' class='section'><h4 ><a class='secnum' href='#temp.func.order' style='min-width:118pt'>13.7.6.2</a> Partial ordering of function templates <a class='abbr_ref' href='temp.func.order'>[temp.func.order]</a></h4><div class='para' id='temp.func.order-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3770'>#</a></div><div id='temp.func.order-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,resolution,template'></a></span>If a function template is overloaded,
the use of a function template specialization might be ambiguous because
<a href='temp.deduct'>template argument deduction</a> may associate the function
template specialization with more than one function template declaration<a class='hidden_link' href='#temp.func.order-1.sentence-1'>.</a></div> <div id='temp.func.order-1.sentence-2' class='sentence'><a class='hidden_link' href='#def:template,function,partial_ordering' id='def:template,function,partial_ordering'><i >Partial ordering</i></a>
of overloaded function template declarations is used in the following contexts
to select the function template to which a function template specialization
refers:
<ul class='itemize'><li id='temp.func.order-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.1'>(1.1)</a></div>during overload resolution for a call to a function template specialization (<a href='over.match.best'>[over.match.best]</a>);</li><li id='temp.func.order-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.2'>(1.2)</a></div>when the address of a function template specialization is taken;</li><li id='temp.func.order-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.3'>(1.3)</a></div>when a placement operator delete that is a
function template
specialization
is selected to match a placement operator new (<a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>, <a href='expr.new'>[expr.new]</a>);</li><li id='temp.func.order-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#temp.func.order-1.4'>(1.4)</a></div>when a <a href='#temp.friend'>friend function declaration</a>, an
<a href='temp.explicit'>explicit instantiation</a> or an <a href='temp.expl.spec'>explicit specialization</a> refers to
a function template specialization<a class='hidden_link' href='#temp.func.order-1.sentence-2'>.</a></li></ul></div></div><div class='para' id='temp.func.order-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3797'>#</a></div><div id='temp.func.order-2.sentence-1' class='sentence'>Partial ordering selects which of two function templates is more
specialized than the other by transforming each template in turn
(see next paragraph) and performing template argument deduction
using the function type<a class='hidden_link' href='#temp.func.order-2.sentence-1'>.</a></div> <div id='temp.func.order-2.sentence-2' class='sentence'>The deduction process determines whether
one of the templates is more specialized than the other<a class='hidden_link' href='#temp.func.order-2.sentence-2'>.</a></div> <div id='temp.func.order-2.sentence-3' class='sentence'>If so, the
more specialized template is the one chosen by the partial ordering
process<a class='hidden_link' href='#temp.func.order-2.sentence-3'>.</a></div> <div id='temp.func.order-2.sentence-4' class='sentence'>If both deductions succeed, the partial ordering selects
the more constrained template as described by the rules in
<a href='temp.constr.order'>[temp.constr.order]</a><a class='hidden_link' href='#temp.func.order-2.sentence-4'>.</a></div></div><div class='para' id='temp.func.order-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3810'>#</a></div><div id='temp.func.order-3.sentence-1' class='sentence'>To produce the transformed template, for each type, non-type, or template
template parameter (including
<a href='#def:template_parameter_pack'>template parameter packs</a>
thereof) synthesize a unique type, value, or class template
respectively and substitute it for each occurrence of that parameter
in the function type of the template<a class='hidden_link' href='#temp.func.order-3.sentence-1'>.</a></div> <div id='temp.func.order-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.func.order-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.func.order-3.sentence-2' class='sentence'>The type replacing the placeholder
in the type of the value synthesized for a non-type template parameter
is also a unique synthesized type<a class='hidden_link' href='#temp.func.order-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='temp.func.order-3.sentence-3' class='sentence'>
If only one of the function templates <span class='textit'>M</span> is
a member function, and that function is a non-static
member of some class <span class='textit'>A</span>, <span class='textit'>M</span> is considered to have
a new first parameter inserted in its function
parameter list<a class='hidden_link' href='#temp.func.order-3.sentence-3'>.</a></div> <div id='temp.func.order-3.sentence-4' class='sentence'>Given <span class='mathit'>cv</span> as the cv-qualifiers of <span class='textit'>M</span>
(if any), the new parameter is of type “rvalue reference to
<span class='mathit'>cv</span> <span class='textit'>A</span>” if the optional <a class='grammarterm' href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a> of
<span class='textit'>M</span> is <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> or if <span class='textit'>M</span> has no
<a class='grammarterm' href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a> and the first parameter of the other
template has rvalue reference type<a class='hidden_link' href='#temp.func.order-3.sentence-4'>.</a></div> <div id='temp.func.order-3.sentence-5' class='sentence'>Otherwise, the new parameter is
of type “lvalue reference to <span class='mathit'>cv</span> <span class='textit'>A</span>”<a class='hidden_link' href='#temp.func.order-3.sentence-5'>.</a></div> <div id='temp.func.order-3.note-2' class='note'>[&nbsp;<a class='note_link' href='#temp.func.order-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.func.order-3.sentence-6' class='sentence'>This allows a non-static
member to be ordered with respect to a non-member function and for the results
to be equivalent to the ordering of two equivalent non-members<a class='hidden_link' href='#temp.func.order-3.sentence-6'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='temp.func.order-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.func.order-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span>R<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;              <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> R<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span>, R<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;   <span class='comment'>// #2</span>

<span class='comment'>// The declaration of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator*</span> is transformed into the equivalent of</span>
<span class='comment'>// <span class='tcode_in_codeblock'>template&lt;class R&gt; int operator*(B&lt;A&gt;&amp;, R&amp;);</span>&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;// #1a</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  B<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> b;
  b <span class='operator'>*</span> a;                                            <span class='comment'>// calls #1a</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.func.order-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3858'>#</a></div><div id='temp.func.order-4.sentence-1' class='sentence'>Using the transformed function template's function type,
perform type deduction against the other template as described in <a href='temp.deduct.partial'>[temp.deduct.partial]</a><a class='hidden_link' href='#temp.func.order-4.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='temp.func.order-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.func.order-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>*</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> m<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>*</span> p;
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f(const T*)</span> is more specialized than <span class='tcode_in_codeblock'>f(T)</span> or <span class='tcode_in_codeblock'>f(T*)</span></span>
  <span class='keyword'>float</span> x;
  g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;             <span class='comment'>// ambiguous: <span class='tcode_in_codeblock'>g(T)</span> or <span class='tcode_in_codeblock'>g(T&amp;)</span></span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> z;
  h<span class='parenthesis'>(</span>z<span class='parenthesis'>)</span>;             <span class='comment'>// overload resolution selects <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span></span>
  <span class='keyword'>const</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> z2;
  h<span class='parenthesis'>(</span>z2<span class='parenthesis'>)</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>h(const T&amp;)</span> is called because <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span> is not callable</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.func.order-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3889'>#</a></div><div id='temp.func.order-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.func.order-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.func.order-5.sentence-1' class='sentence'>Since partial ordering in a call context considers only parameters
for which there are explicit call arguments, some parameters are ignored (namely,
function parameter packs, parameters with default arguments, and ellipsis
parameters)<a class='hidden_link' href='#temp.func.order-5.sentence-1'>.</a></div> <div id='temp.func.order-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.func.order-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                            <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span>, <span class='keyword'>int</span><span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                    <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                            <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>*</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                      <span class='comment'>// #4</span>

</pre>
<pre class='codeblock'>
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span><span class='operator'>*</span> ip;
  f<span class='parenthesis'>(</span>ip<span class='parenthesis'>)</span>;                                                <span class='comment'>// calls #2</span>
  g<span class='parenthesis'>(</span>ip<span class='parenthesis'>)</span>;                                                <span class='comment'>// calls #4</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.func.order-5.example-2' class='example'>[&nbsp;<a class='example_link' href='#temp.func.order-5.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U, A<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>         <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U, A<span class='anglebracket'>&lt;</span>U, U<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T         <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, T <span class='operator'>=</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, U <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;         <span class='comment'>// #4</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>42</span>, <span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                          <span class='comment'>// calls #2</span>
  f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;                                           <span class='comment'>// error: ambiguous</span>
  g<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;                                                <span class='comment'>// error: ambiguous</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='temp.func.order-5.example-3' class='example'>[&nbsp;<a class='example_link' href='#temp.func.order-5.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T, U<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;          <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T            <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>*</span>, U<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T            <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                <span class='comment'>// #4</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;                                                <span class='comment'>// OK: calls #2</span>
  g<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;                                                <span class='comment'>// OK: calls #3</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div></div><div id='temp.alias' class='section'><h3 ><a class='secnum' href='#temp.alias' style='min-width:103pt'>13.7.7</a> Alias templates <a class='abbr_ref' href='temp.alias'>[temp.alias]</a></h3><div class='para' id='temp.alias-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3944'>#</a></div><div id='temp.alias-1.sentence-1' class='sentence'>A <a class='grammarterm' href='temp.pre#nt:template-declaration'>template-declaration</a> in which the <a class='grammarterm' href='dcl.pre#nt:declaration'>declaration</a> is an
<a class='grammarterm' href='dcl.pre#nt:alias-declaration'>alias-declaration</a> declares the
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> to be an <a class='hidden_link' href='#def:template,alias' id='def:template,alias'><i >alias template</i></a><a class='hidden_link' href='#temp.alias-1.sentence-1'>.</a></div> <div id='temp.alias-1.sentence-2' class='sentence'>An alias template is a name for a family of
types<a class='hidden_link' href='#temp.alias-1.sentence-2'>.</a></div> <div id='temp.alias-1.sentence-3' class='sentence'>The name of the alias template is a <a class='grammarterm' href='temp.names#nt:template-name'>template-name</a><a class='hidden_link' href='#temp.alias-1.sentence-3'>.</a></div></div><div class='para' id='temp.alias-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3951'>#</a></div><div id='temp.alias-2.sentence-1' class='sentence'>When a <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a> refers to the specialization of
an alias template, it is equivalent to the associated type obtained by
substitution of its <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a><span class='textit'>s</span> for the
<a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a><span class='textit'>s</span> in the <a class='grammarterm' href='dcl.name#nt:defining-type-id'>defining-type-id</a> of
the alias template<a class='hidden_link' href='#temp.alias-2.sentence-1'>.</a></div> <div id='temp.alias-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.alias-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.alias-2.sentence-2' class='sentence'>An alias template name is never deduced<a class='hidden_link' href='#temp.alias-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='temp.alias-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.alias-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Alloc <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> Vec <span class='operator'>=</span> vector<span class='anglebracket'>&lt;</span>T, Alloc<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
Vec<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v;         <span class='comment'>// same as <span class='tcode_in_codeblock'>vector&lt;int, Alloc&lt;int&gt;&gt; v;</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> process<span class='parenthesis'>(</span>Vec<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>
  <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> process<span class='parenthesis'>(</span>vector<span class='anglebracket'>&lt;</span>T, Alloc<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>
  <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>     <span class='comment'>// error: redefinition</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> TT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>TT<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

f<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;               <span class='comment'>// error: <span class='tcode_in_codeblock'>Vec</span> not deduced</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span>,<span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> TT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>TT<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, Alloc<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
g<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;               <span class='comment'>// OK: <span class='tcode_in_codeblock'>TT</span> = <span class='tcode_in_codeblock'>vector</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.alias-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3986'>#</a></div><div id='temp.alias-3.sentence-1' class='sentence'>However, if the <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a> is dependent, subsequent template
argument substitution still applies to the <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a><a class='hidden_link' href='#temp.alias-3.sentence-1'>.</a></div> <div id='temp.alias-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.alias-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> void_t <span class='operator'>=</span> <span class='keyword'>void</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> void_t<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='operator'>::</span>foo<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: <span class='tcode_in_codeblock'>int</span> does not have a nested type <span class='tcode_in_codeblock'>foo</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.alias-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L3997'>#</a></div><div id='temp.alias-4.sentence-1' class='sentence'>The <a class='grammarterm' href='dcl.name#nt:defining-type-id'>defining-type-id</a> in an alias template declaration shall not refer to
the alias template being declared<a class='hidden_link' href='#temp.alias-4.sentence-1'>.</a></div> <div id='temp.alias-4.sentence-2' class='sentence'>The type produced by an alias template
specialization shall not directly or indirectly make use of that specialization<a class='hidden_link' href='#temp.alias-4.sentence-2'>.</a></div> <div id='temp.alias-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.alias-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> B <span class='operator'>=</span> <span class='keyword'>typename</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>U;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> U;
<span class='curlybracket'>}</span>;
B<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span> b;         <span class='comment'>// error: instantiation of <span class='tcode_in_codeblock'>B&lt;short&gt;</span> uses own type via <span class='tcode_in_codeblock'>A&lt;short&gt;&#x200b;::&#x200b;U</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.alias-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4012'>#</a></div><div id='temp.alias-5.sentence-1' class='sentence'>The type of a <a class='grammarterm' href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a>
appearing in an alias template declaration
is different between instantiations of that template,
even when the <a class='grammarterm' href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a> is not dependent<a class='hidden_link' href='#temp.alias-5.sentence-1'>.</a></div> <div id='temp.alias-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.alias-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>using</span> A <span class='operator'>=</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;   <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and <span class='tcode_in_codeblock'>A&lt;char&gt;</span> refer to different closure types</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='temp.concept' class='section'><h3 ><a class='secnum' href='#temp.concept' style='min-width:103pt'>13.7.8</a> Concept definitions <a class='abbr_ref' href='temp.concept'>[temp.concept]</a></h3><div class='para' id='temp.concept-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4026'>#</a></div><div id='temp.concept-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:concept' id='def:concept'><i >concept</i></a> is a template
that defines constraints on its template arguments<a class='hidden_link' href='#temp.concept-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:concept-definition' id='nt:concept-definition'>concept-definition:</a>
&#9;<span class='texttt'><span class='keyword'>concept</span></span><span class='indexparent'><a class='index' id=':concept'></a></span> <a class='grammarterm' href='#nt:concept-name'>concept-name</a> <span class='terminal'><span class='operator'>=</span></span> <a class='grammarterm' href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:concept-name' id='nt:concept-name'>concept-name:</a>
&#9;<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
</pre></div><div class='para' id='temp.concept-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4040'>#</a></div><div id='temp.concept-2.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:concept-definition'>concept-definition</a>
declares a concept<a class='hidden_link' href='#temp.concept-2.sentence-1'>.</a></div> <div id='temp.concept-2.sentence-2' class='sentence'>Its <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> becomes a <a class='grammarterm' href='#nt:concept-name'>concept-name</a>
referring to that concept
within its scope<a class='hidden_link' href='#temp.concept-2.sentence-2'>.</a></div> <div id='temp.concept-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#temp.concept-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span> x <span class='operator'>=</span><span class='operator'>=</span> x <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> convertible_to<span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>     <span class='comment'>// <span class='tcode_in_codeblock'>C</span> constrains <span class='tcode_in_codeblock'>f1(T)</span> in <span class='grammarterm'>constraint-expression</span></span>
T f1<span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span>       <span class='comment'>// <span class='tcode_in_codeblock'>C</span>, as a <span class='grammarterm'>type-constraint</span>, constrains <span class='tcode_in_codeblock'>f2(T)</span></span>
T f2<span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='temp.concept-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4062'>#</a></div><div id='temp.concept-3.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:concept-definition'>concept-definition</a>
shall appear at namespace scope (<a href='basic.scope.namespace'>[basic.scope.namespace]</a>)<a class='hidden_link' href='#temp.concept-3.sentence-1'>.</a></div></div><div class='para' id='temp.concept-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4066'>#</a></div><div id='temp.concept-4.sentence-1' class='sentence'>A concept shall not have <a href='temp.constr.decl#def:associated_constraints'>associated constraints</a><a class='hidden_link' href='#temp.concept-4.sentence-1'>.</a></div></div><div class='para' id='temp.concept-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4069'>#</a></div><div id='temp.concept-5.sentence-1' class='sentence'>A concept is not instantiated (<a href='temp.spec'>[temp.spec]</a>)<a class='hidden_link' href='#temp.concept-5.sentence-1'>.</a></div> <div id='temp.concept-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#temp.concept-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='temp.concept-5.sentence-2' class='sentence'>A concept-id (<a href='temp.names'>[temp.names]</a>) is evaluated as an expression<a class='hidden_link' href='#temp.concept-5.sentence-2'>.</a></div> <div id='temp.concept-5.sentence-3' class='sentence'>A concept cannot be
explicitly instantiated (<a href='temp.explicit'>[temp.explicit]</a>),
explicitly specialized (<a href='temp.expl.spec'>[temp.expl.spec]</a>),
or partially specialized<a class='hidden_link' href='#temp.concept-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='temp.concept-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4079'>#</a></div><div id='temp.concept-6.sentence-1' class='sentence'>The <a class='grammarterm' href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a> of a <a class='grammarterm' href='#nt:concept-definition'>concept-definition</a>
is an unevaluated operand (<a href='expr.context'>[expr.context]</a>)<a class='hidden_link' href='#temp.concept-6.sentence-1'>.</a></div></div><div class='para' id='temp.concept-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/templates.tex#L4083'>#</a></div><div id='temp.concept-7.sentence-1' class='sentence'>The first declared template parameter of a concept definition is its
<a class='hidden_link' href='#def:prototype_parameter,concept' id='def:prototype_parameter,concept'><i >prototype parameter</i></a><a class='hidden_link' href='#temp.concept-7.sentence-1'>.</a></div> <div id='temp.concept-7.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:concept,type' id='def:concept,type'><i >type concept</i></a>
is a concept whose prototype parameter
is a type <a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a><a class='hidden_link' href='#temp.concept-7.sentence-2'>.</a></div></div></div></div></body></html>