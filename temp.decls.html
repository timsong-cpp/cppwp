<!DOCTYPE html><html lang='en'><head><title>[temp.decls]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>13.7</a> Template declarations <a class='abbr_ref'>[temp.decls]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>13.7.1</a> General <a class='abbr_ref' href='temp.decls.general'>[temp.decls.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2146'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>The template parameters of a template are specified in
the angle bracket enclosed list
that immediately follows the keyword <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span><a class='hidden_link' href='#general-1.sentence-1'>.</a></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2151'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:template,primary' title='13.7.1&emsp;General&emsp;[temp.decls.general]'><span id='def:template,primary'><i >primary template</i></span></a> declaration is one
in which the name of the template is not followed by
a <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list'><span class='textsf'><i >template-argument-list</i></span></span></a><a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-2.sentence-2' class='sentence'>The template argument list of a primary template is
the template argument list of its <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a> (<a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a>)<a class='hidden_link' href='#general-2.sentence-2'>.</a></div> <div id='general-2.sentence-3' class='sentence'>A template declaration in which the name of the template is followed by
a <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list_'><span class='textsf'><i >template-argument-list</i></span></span></a> is
a partial specialization (<a href='#temp.spec.partial' title='13.7.6&emsp;Partial specialization'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial]</a>) of
the template named in the declaration,
which shall be a class or variable template<a class='hidden_link' href='#general-2.sentence-3'>.</a></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2163'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'>For purposes of name lookup and instantiation,
default arguments,
<a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i>,
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a><i >s</i> (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>),
and
<a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><i >noexcept-specifier</i></span></span></a><i >s</i>
of function templates
and
of member functions of class templates
are considered definitions;
each
default argument,
<a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint_'><span class='textsf'><i >type-constraint</i></span></span></a>,
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_'><span class='textsf'><i >requires-clause</i></span></span></a>,
or
<a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_'><span class='textsf'><i >noexcept-specifier</i></span></span></a>
is a separate definition
which is unrelated
to the templated function definition or
to any other
default arguments
<a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint__'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i>,
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause__'><span class='textsf'><i >requires-clause</i></span></span></a><i >s</i>,
or
<a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier__'><span class='textsf'><i >noexcept-specifier</i></span></span></a><i >s</i><a class='hidden_link' href='#general-3.sentence-1'>.</a></div> <div id='general-3.sentence-2' class='sentence'>For the purpose of instantiation, the substatements of a
<a href='stmt.if#def:constexpr_if' title='8.5.2&emsp;The if statement&emsp;[stmt.if]'>constexpr if</a> statement are considered definitions<a class='hidden_link' href='#general-3.sentence-2'>.</a></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2192'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>Because an <a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration'><span class='textsf'><i >alias-declaration</i></span></span></a> cannot declare a
<a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a>, it is not possible to partially or
explicitly specialize an alias template<a class='hidden_link' href='#general-4.sentence-1'>.</a></div></div></div></div><div id='temp.class' class='section'><h3 ><a class='secnum' href='#temp.class' style='min-width:80pt'>13.7.2</a> Class templates <a class='abbr_ref' href='temp.class'>[temp.class]</a></h3><div id='temp.class.general' class='section'><h4 ><a class='secnum' href='#temp.class.general' style='min-width:95pt'>13.7.2.1</a> General <a class='abbr_ref' href='temp.class.general'>[temp.class.general]</a></h4><div class='para' id='temp.class.general-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2201'>#</a></div><div class='texpara'><div id='temp.class.general-1.sentence-1' class='sentence'>A
<a class='hidden_link' href='#def:template,class' title='13.7.2.1&emsp;General&emsp;[temp.class.general]'><span id='def:template,class'><i >class template</i></span></a>
defines the layout and operations
for an unbounded set of related types<a class='hidden_link' href='#temp.class.general-1.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='temp.class.general-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2207'>#</a></div><div class='texpara'><div id='temp.class.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.class.general-example-1'>1</a></i>: <div id='temp.class.general-2.sentence-1' class='sentence'>It is possible for a single class template
<span class='texttt'>List</span>
to provide an unbounded set of class definitions:
one class <span class='texttt'>List<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> for every type <span class='texttt'>T</span>,
each describing a linked list of elements of type <span class='texttt'>T</span><a class='hidden_link' href='#temp.class.general-2.sentence-1'>.</a></div> <div id='temp.class.general-2.sentence-2' class='sentence'>Similarly, a class template <span class='texttt'>Array</span> describing a contiguous,
dynamic array can be defined like this:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span>
  T<span class='operator'>*</span> v;
  <span class='keyword'>int</span> sz;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>explicit</span> Array<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> elem<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div> <div id='temp.class.general-2.sentence-3' class='sentence'>
The prefix <span class='texttt'><span id=':template_'><span class='texttt'><span class='keyword'>template</span></span></span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span></span>
specifies that a template is being declared and that a
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> <span class='texttt'>T</span>
can be used in the declaration<a class='hidden_link' href='#temp.class.general-2.sentence-3'>.</a></div> <div id='temp.class.general-2.sentence-4' class='sentence'>In other words,
<span class='texttt'>Array</span>
is a parameterized type with
<span class='texttt'>T</span>
as its parameter<a class='hidden_link' href='#temp.class.general-2.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.class.general-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2237'>#</a></div><div class='texpara'><div id='temp.class.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.class.general-note-1'>1</a></i>: <div id='temp.class.general-3.sentence-1' class='sentence'>When a member of a class
template is defined outside of the class template definition,
the member definition is defined as a template definition with the
<a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><i >template-head</i></span></span></a> equivalent to that
of the class template<a class='hidden_link' href='#temp.class.general-3.sentence-1'>.</a></div> <div id='temp.class.general-3.sentence-2' class='sentence'>The names of the template parameters used in the definition of the member
can differ from the template parameter names used in the class
template definition<a class='hidden_link' href='#temp.class.general-3.sentence-2'>.</a></div> <div id='temp.class.general-3.sentence-3' class='sentence'>The class template name in the member definition is followed by
the template argument list of the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head__'><span class='textsf'><i >template-head</i></span></span></a> (<a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a>)<a class='hidden_link' href='#temp.class.general-3.sentence-3'>.</a></div> <div id='temp.class.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.class.general-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T2,T1<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>    <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T1,T2<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>    <span class='comment'>// error</span>
</span></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='anglebracket'>&lt;</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>   <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>       <span class='comment'>// error</span>
</span></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> <span class='literal'>true</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Inner;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C A<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>        <span class='comment'>// OK: <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head___'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> match</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> <span class='comment'>// error: no matching declaration for <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>      <span class='comment'>// ill-formed, no diagnostic required: <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head____'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> are</span>
<span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                      <span class='comment'>// functionally equivalent but not equivalent</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C X<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D Y<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S<span class='anglebracket'>&lt;</span>X<span class='anglebracket'>&gt;</span><span class='operator'>::</span>Inner <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.class.general-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.class.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2293'>#</a></div><div class='texpara'><div id='temp.class.general-4.sentence-1' class='sentence'>In a partial specialization,
explicit specialization or
explicit instantiation of a class template,
the <a href='class.pre#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key'><span class='textsf'><i >class-key</i></span></span></a>
shall agree in kind with the original class template declaration (<a href='dcl.type.elab' title='9.2.9.4&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)<a class='hidden_link' href='#temp.class.general-4.sentence-1'>.</a></div></div></div></div><div id='temp.mem.func' class='section'><h4 ><a class='secnum' href='#temp.mem.func' style='min-width:95pt'>13.7.2.2</a> Member functions of class templates <a class='abbr_ref' href='temp.mem.func'>[temp.mem.func]</a></h4><div class='para' id='temp.mem.func-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2302'>#</a></div><div class='texpara'><div id='temp.mem.func-1.sentence-1' class='sentence'><a class='index' id=':template,member_function'></a>A member function
of a class template
may be defined outside of the class
template definition in which it is declared<a class='hidden_link' href='#temp.mem.func-1.sentence-1'>.</a></div> <div id='temp.mem.func-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem.func-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span>
  T<span class='operator'>*</span> v;
  <span class='keyword'>int</span> sz;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>explicit</span> Array<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> elem<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='temp.mem.func-1.sentence-2' class='sentence'>declares three member functions of a class template<a class='hidden_link' href='#temp.mem.func-1.sentence-2'>.</a></div> <div id='temp.mem.func-1.sentence-3' class='sentence'>The subscript function can be defined like this:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>i<span class='anglebracket'>&lt;</span><span class='literal'>0</span> <span class='operator'>|</span><span class='operator'>|</span> sz<span class='anglebracket'>&lt;</span><span class='operator'>=</span>i<span class='parenthesis'>)</span> error<span class='parenthesis'>(</span><span class='literal'>"Array: range error"</span><span class='parenthesis'>)</span>;
  <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>
</span></div></div><div class='texpara'><div id='temp.mem.func-1.sentence-4' class='sentence'>A constrained member function can be defined out of line:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>type;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>      <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                    <span class='comment'>// error: no matching function in <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.mem.func-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2347'>#</a></div><div class='texpara'><div id='temp.mem.func-2.sentence-1' class='sentence'>The
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i>
for a member function of a class template are determined by the
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i>
of the type of the object for which the member function is called<a class='hidden_link' href='#temp.mem.func-2.sentence-1'>.</a></div> <div id='temp.mem.func-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem.func-example-2'>2</a></i>: <div id='temp.mem.func-2.sentence-2' class='sentence'>The
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument__'><span class='textsf'><i >template-argument</i></span></span></a>
for
<span class='texttt'>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
will be determined by the
<span class='texttt'>Array</span>
to which the subscripting operation is applied<a class='hidden_link' href='#temp.mem.func-2.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'>Array<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v1<span class='parenthesis'>(</span><span class='literal'>20</span><span class='parenthesis'>)</span>;
Array<span class='anglebracket'>&lt;</span>dcomplex<span class='anglebracket'>&gt;</span> v2<span class='parenthesis'>(</span><span class='literal'>30</span><span class='parenthesis'>)</span>;

v1<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>7</span>;                              <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;int&gt;&#x200b;::&#x200b;operator[]</span></span>
v2<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> dcomplex<span class='parenthesis'>(</span><span class='literal'>7</span>,<span class='literal'>8</span><span class='parenthesis'>)</span>;                  <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;dcomplex&gt;&#x200b;::&#x200b;operator[]</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.deduct.guide' class='section'><h4 ><a class='secnum' href='#temp.deduct.guide' style='min-width:95pt'>13.7.2.3</a> Deduction guides <a class='abbr_ref' href='temp.deduct.guide'>[temp.deduct.guide]</a></h4><div class='texpara'><a class='index' id=':deduction,class_template_argument'></a></div><div class='para' id='temp.deduct.guide-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2374'>#</a></div><div class='texpara'><div id='temp.deduct.guide-1.sentence-1' class='sentence'>Deduction guides are used
when a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a> appears
as a type specifier
for a deduced class type (<a href='dcl.type.class.deduct' title='9.2.9.7&emsp;Deduced class template specialization types'>[dcl.<span class='shy'></span>type.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#temp.deduct.guide-1.sentence-1'>.</a></div> <div id='temp.deduct.guide-1.sentence-2' class='sentence'>Deduction guides are not found by name lookup<a class='hidden_link' href='#temp.deduct.guide-1.sentence-2'>.</a></div> <div id='temp.deduct.guide-1.sentence-3' class='sentence'>Instead, when performing class template argument deduction (<a href='over.match.class.deduct' title='12.2.2.9&emsp;Class template argument deduction'>[over.<span class='shy'></span>match.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>),
all reachable deduction guides declared for the class template are considered<a class='hidden_link' href='#temp.deduct.guide-1.sentence-3'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:deduction-guide'>
<a class='hidden_link' href='#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='nt:deduction-guide'><span id=':deduction-guide'>deduction-guide<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a> <span class='terminal'>;</span>
</div></div></div><div class='para nonNormativeOnly' id='temp.deduct.guide-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2388'>#</a></div><div class='texpara'><div id='temp.deduct.guide-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.deduct.guide-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> D <span class='operator'>=</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  T data;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
S<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> S<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> U<span class='operator'>::</span>type<span class='anglebracket'>&gt;</span>;

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> type <span class='operator'>=</span> <span class='keyword'>short</span>;
  <span class='keyword'>operator</span> type<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
S x<span class='curlybracket'>{</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='curlybracket'>}</span>;           <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is of type <span class='tcode_in_codeblock'>S&lt;short, int&gt;</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.deduct.guide-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2406'>#</a></div><div class='texpara'><div id='temp.deduct.guide-3.sentence-1' class='sentence'>The same restrictions apply
to the <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
of a deduction guide
as in a function declaration (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#temp.deduct.guide-3.sentence-1'>.</a></div> <div id='temp.deduct.guide-3.sentence-2' class='sentence'>The <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a>
shall name a class template specialization<a class='hidden_link' href='#temp.deduct.guide-3.sentence-2'>.</a></div> <div id='temp.deduct.guide-3.sentence-3' class='sentence'>The <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name__'><span class='textsf'><i >template-name</i></span></span></a>
shall be the same <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a>
as the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name___'><span class='textsf'><i >template-name</i></span></span></a>
of the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><i >simple-template-id</i></span></span></a><a class='hidden_link' href='#temp.deduct.guide-3.sentence-3'>.</a></div> <div id='temp.deduct.guide-3.sentence-4' class='sentence'>A <a href='#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><i >deduction-guide</i></span></span></a>
shall inhabit the scope
to which the corresponding class template belongs
and, for a member class template, have the same access<a class='hidden_link' href='#temp.deduct.guide-3.sentence-4'>.</a></div> <div id='temp.deduct.guide-3.sentence-5' class='sentence'>Two deduction guide declarations
for the same class template
shall not have equivalent <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a><i >s</i>
if either is reachable from the other<a class='hidden_link' href='#temp.deduct.guide-3.sentence-5'>.</a></div></div></div></div><div id='temp.mem.class' class='section'><h4 ><a class='secnum' href='#temp.mem.class' style='min-width:95pt'>13.7.2.4</a> Member classes of class templates <a class='abbr_ref' href='temp.mem.class'>[temp.mem.class]</a></h4><div class='para' id='temp.mem.class-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2428'>#</a></div><div class='texpara'><div id='temp.mem.class-1.sentence-1' class='sentence'>A member class of a class template may be defined outside the class template
definition in which it is declared<a class='hidden_link' href='#temp.mem.class-1.sentence-1'>.</a></div> <div id='temp.mem.class-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.mem.class-note-1'>1</a></i>: <div id='temp.mem.class-1.sentence-2' class='sentence'>The member class must be defined before its first use that requires
an instantiation (<a href='temp.inst' title='13.9.2&emsp;Implicit instantiation'>[temp.<span class='shy'></span>inst]</a>)<a class='hidden_link' href='#temp.mem.class-1.sentence-2'>.</a></div> <div id='temp.mem.class-1.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B;
<span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> b1;                          <span class='comment'>// OK: requires <span class='tcode_in_codeblock'>A</span> to be defined but not <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B  b2;                          <span class='comment'>// OK: requires <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> to be defined</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='temp.static' class='section'><h4 ><a class='secnum' href='#temp.static' style='min-width:95pt'>13.7.2.5</a> Static data members of class templates <a class='abbr_ref' href='temp.static'>[temp.static]</a></h4><div class='para' id='temp.static-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2447'>#</a></div><div class='texpara'><div id='temp.static-1.sentence-1' class='sentence'><a class='index' id=':member,template_and_static'></a>A definition for a static data member or static data member template may be
provided in a namespace scope enclosing the definition of the static member's
class template<a class='hidden_link' href='#temp.static-1.sentence-1'>.</a></div> <div id='temp.static-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.static-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> T s;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> T X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>s <span class='operator'>=</span> <span class='literal'>0</span>;

<span class='keyword'>struct</span> limits <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>static</span> <span class='keyword'>const</span> T min;                 <span class='comment'>// declaration</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>const</span> T limits<span class='operator'>::</span>min <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;            <span class='comment'>// definition</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.static-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2469'>#</a></div><div class='texpara'><div id='temp.static-2.sentence-1' class='sentence'>An explicit specialization of a static data member declared as an array of unknown
bound can have a different bound from its definition, if any<a class='hidden_link' href='#temp.static-2.sentence-1'>.</a></div> <div id='temp.static-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.static-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> i<span class='squarebracket'>[</span><span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span>;      <span class='comment'>// 4 elements</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK: 1 element</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.mem.enum' class='section'><h4 ><a class='secnum' href='#temp.mem.enum' style='min-width:95pt'>13.7.2.6</a> Enumeration members of class templates <a class='abbr_ref' href='temp.mem.enum'>[temp.mem.enum]</a></h4><div class='para' id='temp.mem.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.enum-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2484'>#</a></div><div class='texpara'><div id='temp.mem.enum-1.sentence-1' class='sentence'>An enumeration member of a class template may be defined outside the class
template definition<a class='hidden_link' href='#temp.mem.enum-1.sentence-1'>.</a></div> <div id='temp.mem.enum-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem.enum-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> E <span class='operator'>:</span> T;
<span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> a;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>E <span class='operator'>:</span> T <span class='curlybracket'>{</span> e1, e2 <span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>E e <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>e1;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div><div id='temp.mem' class='section'><h3 ><a class='secnum' href='#temp.mem' style='min-width:80pt'>13.7.3</a> Member templates <a class='abbr_ref' href='temp.mem'>[temp.mem]</a></h3><div class='para' id='temp.mem-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2500'>#</a></div><div class='texpara'><div id='temp.mem-1.sentence-1' class='sentence'>A template can be declared within a class or class template; such a template
is called a member template<a class='hidden_link' href='#temp.mem-1.sentence-1'>.</a></div> <div id='temp.mem-1.sentence-2' class='sentence'>A member template can be defined within or outside its class definition or
class template definition<a class='hidden_link' href='#temp.mem-1.sentence-2'>.</a></div> <div id='temp.mem-1.sentence-3' class='sentence'>A member template of a class template that is defined outside of its class
template definition shall be specified with
a <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_____'><span class='textsf'><i >template-head</i></span></span></a> equivalent to that
of the class template followed by
a <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head______'><span class='textsf'><i >template-head</i></span></span></a> equivalent to that
of the member template (<a href='#temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#temp.mem-1.sentence-3'>.</a></div> <div id='temp.mem-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> string <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> compare<span class='parenthesis'>(</span><span class='keyword'>const</span> T2<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> string<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> string<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>compare<span class='parenthesis'>(</span><span class='keyword'>const</span> T2<span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.mem-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C1 <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C2 <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='literal'>4</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C1 T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C2 U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C2 U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C1 T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C2 U<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>             <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C1 T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>             <span class='comment'>// error: no matching function in <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.mem-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2539'>#</a></div><div class='texpara'><div id='temp.mem-2.sentence-1' class='sentence'>A local class of non-closure type shall not have member templates<a class='hidden_link' href='#temp.mem-2.sentence-1'>.</a></div> <div id='temp.mem-2.sentence-2' class='sentence'><a href='class.access' title='11.8&emsp;Member access control&emsp;[class.access]'>Access control rules</a>
apply to member template names<a class='hidden_link' href='#temp.mem-2.sentence-2'>.</a></div> <div id='temp.mem-2.sentence-3' class='sentence'>A destructor shall not be a member
template<a class='hidden_link' href='#temp.mem-2.sentence-3'>.</a></div> <div id='temp.mem-2.sentence-4' class='sentence'>A non-template member function (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) with a given name
and type and a member function template of the same name, which could be
used to generate a specialization of the same type, can both be
declared in a class<a class='hidden_link' href='#temp.mem-2.sentence-4'>.</a></div> <div id='temp.mem-2.sentence-5' class='sentence'>When both exist, a use of that name and type refers to the
non-template member unless an explicit template argument list is supplied<a class='hidden_link' href='#temp.mem-2.sentence-5'>.</a></div> <div id='temp.mem-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T2<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                 <span class='comment'>// non-template member function</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>   <span class='comment'>// member function template specialization</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span> ac;
  ac<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                                          <span class='comment'>// non-template</span>
  ac<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='literal'>'c'</span><span class='parenthesis'>)</span>;                                        <span class='comment'>// template</span>
  ac<span class='operator'>.</span>f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                                        <span class='comment'>// template</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.mem-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2570'>#</a></div><div class='texpara'><div id='temp.mem-3.sentence-1' class='sentence'>A member function template shall not be declared <span id=':virtual'><span class='texttt'><span class='keyword'>virtual</span></span></span><a class='hidden_link' href='#temp.mem-3.sentence-1'>.</a></div> <div id='temp.mem-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> AA <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> C<span class='anglebracket'>&gt;</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;             <span class='comment'>// error</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                 <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.mem-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2581'>#</a></div><div class='texpara'><div id='temp.mem-4.sentence-1' class='sentence'>A specialization of
a member function template does not override a virtual function from a
base class<a class='hidden_link' href='#temp.mem-4.sentence-1'>.</a></div> <div id='temp.mem-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>; <span class='comment'>// does not override <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span></span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>     <span class='comment'>// overriding function that calls the function template specialization</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.mem-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2598'>#</a></div><div class='texpara'><div id='temp.mem-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.mem-note-1'>1</a></i>: <div id='temp.mem-5.sentence-1' class='sentence'>A specialization of a
conversion function template
is referenced in
the same way as a non-template conversion function that converts to
the same type (<a href='class.conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#temp.mem-5.sentence-1'>.</a></div> <div id='temp.mem-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> T<span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> A<span class='operator'>::</span><span class='keyword'>operator</span> T<span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> A<span class='operator'>::</span><span class='keyword'>operator</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>       <span class='comment'>// specialization</span>
<span class='keyword'>template</span> A<span class='operator'>::</span><span class='keyword'>operator</span> <span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                       <span class='comment'>// explicit instantiation</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  <span class='keyword'>int</span><span class='operator'>*</span> ip;
  ip <span class='operator'>=</span> a<span class='operator'>.</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// explicit call to template operator <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;operator int*()</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.mem-5.sentence-2' class='sentence'>
There is no syntax to form a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><i >template-id</i></span></span></a> (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>)
by providing an explicit template argument list (<a href='temp.arg.explicit' title='13.10.2&emsp;Explicit template argument specification'>[temp.<span class='shy'></span>arg.<span class='shy'></span>explicit]</a>)
for a conversion function template<a class='hidden_link' href='#temp.mem-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='temp.variadic' class='section'><h3 ><a class='secnum' href='#temp.variadic' style='min-width:80pt'>13.7.4</a> Variadic templates <a class='abbr_ref' href='temp.variadic'>[temp.variadic]</a></h3><div class='para' id='temp.variadic-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2628'>#</a></div><div class='texpara'><div id='temp.variadic-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:template_parameter_pack' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'><span id='def:template_parameter_pack'><i >template parameter pack</i></span></a> is a template parameter
that accepts zero or more template arguments<a class='hidden_link' href='#temp.variadic-1.sentence-1'>.</a></div> <div id='temp.variadic-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.variadic-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Tuple <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

Tuple<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> t0;                     <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains no arguments</span>
Tuple<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> t1;                  <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains one argument: <span class='tcode_in_codeblock'>int</span></span>
Tuple<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>float</span><span class='anglebracket'>&gt;</span> t2;           <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>float</span></span>
Tuple<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span> error;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>0</span> is not a type</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.variadic-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2642'>#</a></div><div class='texpara'><div id='temp.variadic-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:function_parameter_pack' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'><span id='def:function_parameter_pack'><i >function parameter pack</i></span></a> is a function parameter
that accepts zero or more function arguments<a class='hidden_link' href='#temp.variadic-2.sentence-1'>.</a></div> <div id='temp.variadic-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.variadic-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                            <span class='comment'>// <span class='tcode_in_codeblock'>args</span> contains no arguments</span>
f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                           <span class='comment'>// <span class='tcode_in_codeblock'>args</span> contains one argument: <span class='tcode_in_codeblock'>int</span></span>
f<span class='parenthesis'>(</span><span class='literal'>2</span>, <span class='literal'>1.0</span><span class='parenthesis'>)</span>;                      <span class='comment'>// <span class='tcode_in_codeblock'>args</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>double</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.variadic-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2655'>#</a></div><div class='texpara'><div id='temp.variadic-3.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:init-capture_pack' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'><span id='def:init-capture_pack'><i ><a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture'><span class='textsf'><i >init-capture</i></span></span></a> pack</i></span></a>
is a lambda capture that introduces an <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_'><span class='textsf'><i >init-capture</i></span></span></a>
for each of the elements in the pack expansion of its <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer'><span class='textsf'><i >initializer</i></span></span></a><a class='hidden_link' href='#temp.variadic-3.sentence-1'>.</a></div> <div id='temp.variadic-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.variadic-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> foo<span class='parenthesis'>(</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='squarebracket'>[</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>xs<span class='operator'>=</span>args<span class='squarebracket'>]</span><span class='curlybracket'>{</span>
        bar<span class='parenthesis'>(</span>xs<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>xs</span> is an <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture__'><span class='textsf'><i >init-capture</i></span></span></a> pack</span>
    <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                          <span class='comment'>// <span class='tcode_in_codeblock'>xs</span> contains zero <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture___'><span class='textsf'><i >init-capture</i></span></span></a><i >s</i></span>
foo<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                         <span class='comment'>// <span class='tcode_in_codeblock'>xs</span> contains one <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture____'><span class='textsf'><i >init-capture</i></span></span></a></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.variadic-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2673'>#</a></div><div class='texpara'><div id='temp.variadic-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:pack' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'><span id='def:pack'><i >pack</i></span></a> is
a template parameter pack,
a function parameter pack,
or an <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_____'><span class='textsf'><i >init-capture</i></span></span></a> pack<a class='hidden_link' href='#temp.variadic-4.sentence-1'>.</a></div> <div id='temp.variadic-4.sentence-2' class='sentence'>The number of elements of a template parameter pack
or a function parameter pack
is the number of arguments provided for the parameter pack<a class='hidden_link' href='#temp.variadic-4.sentence-2'>.</a></div> <div id='temp.variadic-4.sentence-3' class='sentence'>The number of elements of an <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture______'><span class='textsf'><i >init-capture</i></span></span></a> pack
is the number of elements in the pack expansion of its <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_'><span class='textsf'><i >initializer</i></span></span></a><a class='hidden_link' href='#temp.variadic-4.sentence-3'>.</a></div></div></div><div class='para' id='temp.variadic-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2684'>#</a></div><div class='texpara'><div id='temp.variadic-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:pack_expansion' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'><span id='def:pack_expansion'><i >pack expansion</i></span></a>
consists of a <a class='hidden_link' href='#def:pack_expansion,pattern' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'><span id='def:pack_expansion,pattern'><i >pattern</i></span></a> and an ellipsis, the instantiation of which
produces zero or more instantiations of the pattern in a list (described below)<a class='hidden_link' href='#temp.variadic-5.sentence-1'>.</a></div> <div id='temp.variadic-5.sentence-2' class='sentence'>The form of the pattern
depends on the context in which the expansion occurs<a class='hidden_link' href='#temp.variadic-5.sentence-2'>.</a></div> <div id='temp.variadic-5.sentence-3' class='sentence'>Pack
expansions can occur in the following contexts:
<ul class='itemize'><li id='temp.variadic-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.1'>(5.1)</a></div><div class='texpara'><div id='temp.variadic-5.1.sentence-1' class='sentence'>In a function parameter pack (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>); the pattern is the
<a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration'><span class='textsf'><i >parameter-declaration</i></span></span></a> without the ellipsis<a class='hidden_link' href='#temp.variadic-5.1.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.2'>(5.2)</a></div><div class='texpara'><div id='temp.variadic-5.2.sentence-1' class='sentence'>In a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>);
the pattern is a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator'><span class='textsf'><i >using-declarator</i></span></span></a><a class='hidden_link' href='#temp.variadic-5.2.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.3'>(5.3)</a></div><div class='texpara'><div id='temp.variadic-5.3.sentence-1' class='sentence'>In a template parameter pack that is a pack expansion (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>):
<ul class='itemize'><li id='temp.variadic-5.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#temp.variadic-5.3.1'>(5.3.1)</a></div>if the template parameter pack is a <a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration_'><span class='textsf'><i >parameter-declaration</i></span></span></a>;
the pattern is the <a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration__'><span class='textsf'><i >parameter-declaration</i></span></span></a> without the ellipsis;</li><li id='temp.variadic-5.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#temp.variadic-5.3.2'>(5.3.2)</a></div>if the template parameter pack is a <a href='temp.param#nt:type-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-parameter'><span class='textsf'><i >type-parameter</i></span></span></a>;
the pattern is the corresponding <a href='temp.param#nt:type-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-parameter_'><span class='textsf'><i >type-parameter</i></span></span></a>
without the ellipsis<a class='hidden_link' href='#temp.variadic-5.3.sentence-1'>.</a></li></ul></div></div></li><li id='temp.variadic-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.4'>(5.4)</a></div><div class='texpara'><div id='temp.variadic-5.4.sentence-1' class='sentence'>In an <a href='dcl.init.general#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list'><span class='textsf'><i >initializer-list</i></span></span></a> (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>);
the pattern is an <a href='dcl.init.general#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause'><span class='textsf'><i >initializer-clause</i></span></span></a><a class='hidden_link' href='#temp.variadic-5.4.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.5'>(5.5)</a></div><div class='texpara'><div id='temp.variadic-5.5.sentence-1' class='sentence'>In a <a href='class.derived.general#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list'><span class='textsf'><i >base-specifier-list</i></span></span></a> (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>);
the pattern is a <a href='class.derived.general#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier'><span class='textsf'><i >base-specifier</i></span></span></a><a class='hidden_link' href='#temp.variadic-5.5.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.6'>(5.6)</a></div><div class='texpara'><div id='temp.variadic-5.6.sentence-1' class='sentence'>In a <a href='class.base.init#nt:mem-initializer-list' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-list'><span class='textsf'><i >mem-initializer-list</i></span></span></a> (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>) for a
<a href='class.base.init#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer'><span class='textsf'><i >mem-initializer</i></span></span></a> whose <a href='class.base.init#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id'><span class='textsf'><i >mem-initializer-id</i></span></span></a> denotes a
base class; the pattern is the <a href='class.base.init#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_'><span class='textsf'><i >mem-initializer</i></span></span></a><a class='hidden_link' href='#temp.variadic-5.6.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.7'>(5.7)</a></div><div class='texpara'><div id='temp.variadic-5.7.sentence-1' class='sentence'>In a <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list__'><span class='textsf'><i >template-argument-list</i></span></span></a> (<a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a>);
the pattern is a <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument___'><span class='textsf'><i >template-argument</i></span></span></a><a class='hidden_link' href='#temp.variadic-5.7.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.8'>(5.8)</a></div><div class='texpara'><div id='temp.variadic-5.8.sentence-1' class='sentence'>In an <a href='dcl.attr.grammar#nt:attribute-list' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-list'><span class='textsf'><i >attribute-list</i></span></span></a> (<a href='dcl.attr.grammar' title='9.12.1&emsp;Attribute syntax and semantics'>[dcl.<span class='shy'></span>attr.<span class='shy'></span>grammar]</a>); the pattern is
an <a href='dcl.attr.grammar#nt:attribute' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute'><span class='textsf'><i >attribute</i></span></span></a><a class='hidden_link' href='#temp.variadic-5.8.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.9'>(5.9)</a></div><div class='texpara'><div id='temp.variadic-5.9.sentence-1' class='sentence'>In an <a href='dcl.attr.grammar#nt:alignment-specifier' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:alignment-specifier'><span class='textsf'><i >alignment-specifier</i></span></span></a> (<a href='dcl.align' title='9.12.2&emsp;Alignment specifier'>[dcl.<span class='shy'></span>align]</a>); the pattern is
the <a href='dcl.attr.grammar#nt:alignment-specifier' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:alignment-specifier_'><span class='textsf'><i >alignment-specifier</i></span></span></a> without the ellipsis<a class='hidden_link' href='#temp.variadic-5.9.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.10'>(5.10)</a></div><div class='texpara'><div id='temp.variadic-5.10.sentence-1' class='sentence'>In a <a href='expr.prim.lambda.capture#nt:capture-list' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-list'><span class='textsf'><i >capture-list</i></span></span></a> (<a href='expr.prim.lambda.capture' title='7.5.5.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>); the pattern is
the <a href='expr.prim.lambda.capture#nt:capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture'><span class='textsf'><i >capture</i></span></span></a> without the ellipsis<a class='hidden_link' href='#temp.variadic-5.10.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.11'>(5.11)</a></div><div class='texpara'><div id='temp.variadic-5.11.sentence-1' class='sentence'>In a <a href='expr.sizeof' title='7.6.2.5&emsp;Sizeof&emsp;[expr.sizeof]'><span class='texttt'>sizeof...</span> expression</a>; the pattern is an
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a><a class='hidden_link' href='#temp.variadic-5.11.sentence-1'>.</a></div></div></li><li id='temp.variadic-5.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-5.12'>(5.12)</a></div><div class='texpara'><div id='temp.variadic-5.12.sentence-1' class='sentence'>In a <a href='expr.prim.fold#nt:fold-expression' title='7.5.6&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-expression'><span class='textsf'><i >fold-expression</i></span></span></a> (<a href='expr.prim.fold' title='7.5.6&emsp;Fold expressions'>[expr.<span class='shy'></span>prim.<span class='shy'></span>fold]</a>);
the pattern is the <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><i >cast-expression</i></span></span></a>
that contains an unexpanded pack<a class='hidden_link' href='#temp.variadic-5.12.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='temp.variadic-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.variadic-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> rest<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> rest<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>rest <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;     <span class='comment'>// “<span class='tcode_in_codeblock'>&amp;rest ...</span>” is a pack expansion; “<span class='tcode_in_codeblock'>&amp;rest</span>” is its pattern</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.variadic-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2750'>#</a></div><div class='texpara'><div id='temp.variadic-6.sentence-1' class='sentence'>For the purpose of determining whether a pack satisfies a rule
regarding entities other than packs, the pack is
considered to be the entity that would result from an instantiation of
the pattern in which it appears<a class='hidden_link' href='#temp.variadic-6.sentence-1'>.</a></div></div></div><div class='para' id='temp.variadic-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2756'>#</a></div><div class='texpara'><div id='temp.variadic-7.sentence-1' class='sentence'>A pack whose name appears within the pattern of a pack
expansion is expanded by that pack expansion<a class='hidden_link' href='#temp.variadic-7.sentence-1'>.</a></div> <div id='temp.variadic-7.sentence-2' class='sentence'>An appearance of the name of
a pack is only expanded by the innermost enclosing pack expansion<a class='hidden_link' href='#temp.variadic-7.sentence-2'>.</a></div> <div id='temp.variadic-7.sentence-3' class='sentence'>The pattern of a pack expansion shall name one or more packs that
are not expanded by a nested pack expansion; such packs are called
<a class='hidden_link' href='#def:pack,unexpanded' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'><span id='def:pack,unexpanded'><i >unexpanded packs</i></span></a> in the pattern<a class='hidden_link' href='#temp.variadic-7.sentence-3'>.</a></div> <div id='temp.variadic-7.sentence-4' class='sentence'>All of the packs expanded
by a pack expansion shall have the same number of arguments specified<a class='hidden_link' href='#temp.variadic-7.sentence-4'>.</a></div> <div id='temp.variadic-7.sentence-5' class='sentence'>An
appearance of a name of a pack that is not expanded is
ill-formed<a class='hidden_link' href='#temp.variadic-7.sentence-5'>.</a></div> <div id='temp.variadic-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.variadic-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Tuple <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T1, <span class='keyword'>typename</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Pair <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args1<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> zip <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> with <span class='curlybracket'>{</span>
    <span class='keyword'>typedef</span> Tuple<span class='anglebracket'>&lt;</span>Pair<span class='anglebracket'>&lt;</span>Args1, Args2<span class='anglebracket'>&gt;</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='anglebracket'>&gt;</span> type;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>typedef</span> zip<span class='anglebracket'>&lt;</span><span class='keyword'>short</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>with<span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>short</span>, <span class='keyword'>unsigned</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>type T1;
    <span class='comment'>// <span class='tcode_in_codeblock'>T1</span> is <span class='tcode_in_codeblock'>Tuple&lt;Pair&lt;short, unsigned short&gt;, Pair&lt;int, unsigned&gt;&gt;</span></span>
<span class='keyword'>typedef</span> zip<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>with<span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>short</span>, <span class='keyword'>unsigned</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>type T2;
    <span class='comment'>// error: different number of arguments specified for <span class='tcode_in_codeblock'>Args1</span> and <span class='tcode_in_codeblock'>Args2</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>Args</span> is expanded by the function parameter pack <span class='tcode_in_codeblock'>args</span></span>
    f<span class='parenthesis'>(</span><span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> Args<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;   <span class='comment'>// OK: “<span class='tcode_in_codeblock'>Args</span>” and “<span class='tcode_in_codeblock'>args</span>” are expanded</span>
    f<span class='parenthesis'>(</span><span class='literal'>5</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                               <span class='comment'>// error: pattern does not contain any packs</span>
    f<span class='parenthesis'>(</span>args<span class='parenthesis'>)</span>;                                <span class='comment'>// error: pack “<span class='tcode_in_codeblock'>args</span>” is not expanded</span>
    f<span class='parenthesis'>(</span>h<span class='parenthesis'>(</span>args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='operator'>+</span> args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK: first “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>h</span>,</span>
                                            <span class='comment'>// second “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>f</span></span>
  <span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.variadic-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2793'>#</a></div><div class='texpara'><div id='temp.variadic-8.sentence-1' class='sentence'>The instantiation of a pack expansion considers
items <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>,
where
<span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the pack expansion parameters<a class='hidden_link' href='#temp.variadic-8.sentence-1'>.</a></div> <div id='temp.variadic-8.sentence-2' class='sentence'>Each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is generated by instantiating the pattern and
replacing each pack expansion parameter with its <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element<a class='hidden_link' href='#temp.variadic-8.sentence-2'>.</a></div> <div id='temp.variadic-8.sentence-3' class='sentence'>Such an element, in the context of the instantiation, is interpreted as
follows:
<ul class='itemize'><li id='temp.variadic-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-8.1'>(8.1)</a></div>if the pack is a template parameter pack, the element is
an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a>
(for a non-type template parameter pack),
a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a>
(for a type template parameter pack declared without <span class='texttt'><span class='keyword'>template</span></span>), or
a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name____'><span class='textsf'><i >template-name</i></span></span></a>
(for a type template parameter pack declared with <span class='texttt'><span class='keyword'>template</span></span>),
designating the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> corresponding type or value template argument;</li><li id='temp.variadic-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-8.2'>(8.2)</a></div>if the pack is a function parameter pack, the element is an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a>
designating the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> function parameter
that resulted from instantiation of
the function parameter pack declaration;
otherwise</li><li id='temp.variadic-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-8.3'>(8.3)</a></div>if the pack is an <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_______'><span class='textsf'><i >init-capture</i></span></span></a> pack,
the element is an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a>
designating the variable introduced by
the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture________'><span class='textsf'><i >init-capture</i></span></span></a>
that resulted from instantiation of
the <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_________'><span class='textsf'><i >init-capture</i></span></span></a> pack<a class='hidden_link' href='#temp.variadic-8.sentence-3'>.</a></li></ul></div> <div id='temp.variadic-8.sentence-4' class='sentence'>
When <span class='math'><span class='mathalpha'>N</span></span> is zero, the instantiation of a pack expansion
does not alter the syntactic interpretation of the enclosing construct,
even in cases where omitting the pack expansion entirely would
otherwise be ill-formed or would result in an ambiguity in the grammar<a class='hidden_link' href='#temp.variadic-8.sentence-4'>.</a></div></div></div><div class='para' id='temp.variadic-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2834'>#</a></div><div class='texpara'><div id='temp.variadic-9.sentence-1' class='sentence'>The instantiation of a <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> expression (<a href='expr.sizeof' title='7.6.2.5&emsp;Sizeof'>[expr.<span class='shy'></span>sizeof]</a>) produces
an integral constant with value <span class='math'><span class='mathalpha'>N</span></span><a class='hidden_link' href='#temp.variadic-9.sentence-1'>.</a></div></div></div><div class='para' id='temp.variadic-10'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2838'>#</a></div><div class='texpara'><div id='temp.variadic-10.sentence-1' class='sentence'>The instantiation of a <a href='expr.prim.fold#nt:fold-expression' title='7.5.6&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-expression_'><span class='textsf'><i >fold-expression</i></span></span></a> (<a href='expr.prim.fold' title='7.5.6&emsp;Fold expressions'>[expr.<span class='shy'></span>prim.<span class='shy'></span>fold]</a>) produces:
<ul class='itemize'><li id='temp.variadic-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-10.1'>(10.1)</a></div><span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>
           <i >op</i> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span></span>
           <i >op</i> <span class='math'>⋯</span><span class='texttt'><span class='parenthesis'>)</span></span>
           <i >op</i> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a unary left fold,</li><li id='temp.variadic-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-10.2'>(10.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <i >op</i>
<span class='texttt'><span class='parenthesis'>(</span></span><span class='math'>⋯</span>           <i >op</i>
<span class='texttt'><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <i >op</i>
         <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
for a unary right fold,</li><li id='temp.variadic-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-10.3'>(10.3)</a></div><span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span></span><span class='math'><span class='mathtt'>E</span></span>
            <i >op</i> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span></span>
            <i >op</i> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'><span class='parenthesis'>)</span></span>
            <i >op</i> <span class='math'>⋯</span><span class='texttt'><span class='parenthesis'>)</span></span>
            <i >op</i> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a binary left fold, and</li><li id='temp.variadic-10.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.variadic-10.4'>(10.4)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <i >op</i>
<span class='texttt'><span class='parenthesis'>(</span></span><span class='math'>⋯</span>           <i >op</i>
<span class='texttt'><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <i >op</i>
<span class='texttt'><span class='parenthesis'>(</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span></span></span>   <i >op</i>
         <span class='math'><span class='mathtt'>E</span></span><span class='texttt'><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
for a binary right fold<a class='hidden_link' href='#temp.variadic-10.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='temp.variadic-10.sentence-2' class='sentence'>In each case,
<i >op</i> is the <a href='expr.prim.fold#nt:fold-operator' title='7.5.6&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator'><span class='textsf'><i >fold-operator</i></span></span></a><a class='hidden_link' href='#temp.variadic-10.sentence-2'>.</a></div> <div id='temp.variadic-10.sentence-3' class='sentence'>For a binary fold,
<span class='math'><span class='mathtt'>E</span></span> is generated
by instantiating the <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_'><span class='textsf'><i >cast-expression</i></span></span></a>
that did not contain an unexpanded pack<a class='hidden_link' href='#temp.variadic-10.sentence-3'>.</a></div> <div id='temp.variadic-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.variadic-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>bool</span> all<span class='parenthesis'>(</span>Args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> args<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>

<span class='keyword'>bool</span> b <span class='operator'>=</span> all<span class='parenthesis'>(</span><span class='literal'>true</span>, <span class='literal'>true</span>, <span class='literal'>true</span>, <span class='literal'>false</span><span class='parenthesis'>)</span>;
</span> <div id='temp.variadic-10.sentence-4' class='sentence'>
Within the instantiation of <span class='texttt'>all</span>,
the returned expression expands to
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='literal'>true</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>true</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>true</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>false</span></span>,
which evaluates to <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#temp.variadic-10.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='temp.variadic-10.sentence-5' class='sentence'>
If <span class='math'><span class='mathalpha'>N</span></span> is zero for a unary fold,
the value of the expression is shown in Table <a href='#tab:temp.fold.empty' title='Table 19: Value of folding empty sequences'>19</a>;
if the operator is not listed in Table <a href='#tab:temp.fold.empty' title='Table 19: Value of folding empty sequences'>19</a>,
the instantiation is ill-formed<a class='hidden_link' href='#temp.variadic-10.sentence-5'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:temp.fold.empty'>Table <a href='#tab:temp.fold.empty'>19</a>: Value of folding empty sequences&emsp;<a href='./tab:temp.fold.empty'>[tab:temp.fold.empty]</a><br><table ><tr id='tab:temp.fold.empty-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:temp.fold.empty-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:temp.fold.empty-row-1-column-1-sentence-1' class='sentence'><b>Operator</b></div></div></td><td class='center'><div class='texpara'><div id='tab:temp.fold.empty-row-1-column-2-sentence-1' class='sentence'><b>Value when pack is empty</b></div></div></td></tr><tr id='tab:temp.fold.empty-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:temp.fold.empty-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:temp.fold.empty-row-2-column-1-sentence-1' class='sentence'><span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:temp.fold.empty-row-2-column-2-sentence-1' class='sentence'><span class='texttt'><span class='literal'>true</span></span></div></div></td></tr><tr id='tab:temp.fold.empty-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:temp.fold.empty-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:temp.fold.empty-row-3-column-1-sentence-1' class='sentence'><span class='texttt'><span class='operator'>|</span><span class='operator'>|</span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:temp.fold.empty-row-3-column-2-sentence-1' class='sentence'><span class='texttt'><span class='literal'>false</span></span></div></div></td></tr><tr id='tab:temp.fold.empty-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:temp.fold.empty-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:temp.fold.empty-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>,</span></div></div></td><td class='left'><div class='texpara'><div id='tab:temp.fold.empty-row-4-column-2-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>void</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></div></td></tr></table></div></div></div><div class='para' id='temp.variadic-11'><div class='marginalizedparent'><a class='marginalized' href='#temp.variadic-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2902'>#</a></div><div class='texpara'><div id='temp.variadic-11.sentence-1' class='sentence'>The instantiation of any other pack expansion
produces a list of elements <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span><a class='hidden_link' href='#temp.variadic-11.sentence-1'>.</a></div> <div id='temp.variadic-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.variadic-note-1'>1</a></i>: <div id='temp.variadic-11.sentence-2' class='sentence'>The variety of list varies with the context:
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a>,
<a href='class.derived.general#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list_'><span class='textsf'><i >base-specifier-list</i></span></span></a>,
<a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list___'><span class='textsf'><i >template-argument-list</i></span></span></a>, etc<a class='hidden_link' href='#temp.variadic-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.variadic-11.sentence-3' class='sentence'>
When <span class='math'><span class='mathalpha'>N</span></span> is zero, the instantiation of the expansion produces an empty list<a class='hidden_link' href='#temp.variadic-11.sentence-3'>.</a></div> <div id='temp.variadic-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.variadic-example-7'>7</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='operator'>:</span> T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> values<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X<span class='anglebracket'>&lt;</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> x<span class='parenthesis'>(</span>values<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>template</span> <span class='keyword'>void</span> f<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&lt;&gt;</span> has no base classes</span>
                        <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is a variable of type <span class='tcode_in_codeblock'>X&lt;&gt;</span> that is value-initialized</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.friend' class='section'><h3 ><a class='secnum' href='#temp.friend' style='min-width:80pt'>13.7.5</a> Friends <a class='abbr_ref' href='temp.friend'>[temp.friend]</a></h3><div class='para' id='temp.friend-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2926'>#</a></div><div class='texpara'><div id='temp.friend-1.sentence-1' class='sentence'><a class='index' id=':friend,template_and'></a>A friend of a class or class template can be a function template or
class template, a specialization of a function template or class
template, or a non-template function or class<a class='hidden_link' href='#temp.friend-1.sentence-1'>.</a></div> <div id='temp.friend-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.friend-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> task;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> preempt<span class='parenthesis'>(</span>task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> task <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> next_time<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> <span class='keyword'>void</span> process<span class='parenthesis'>(</span>task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> preempt<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>task<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> C<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>int</span> func<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;

  <span class='keyword'>friend</span> <span class='keyword'>class</span> task<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> P<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> frd;
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='temp.friend-1.sentence-2' class='sentence'>Here,
each specialization of the
<span class='texttt'>task</span>
class template has the function
<span class='texttt'>next_&shy;time</span>
as a friend;
because
<span class='texttt'>process</span>
does not have explicit
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument____'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i>,
each specialization of the
<span class='texttt'>task</span>
class template has an appropriately typed function
<span class='texttt'>process</span>
as a friend, and this friend is not a function template specialization;
because the friend
<span class='texttt'>preempt</span>
has an explicit
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_____'><span class='textsf'><i >template-argument</i></span></span></a>
<span class='texttt'>T</span>,
each specialization of the
<span class='texttt'>task</span>
class template has the appropriate specialization of the function
template
<span class='texttt'>preempt</span>
as a friend;
and each specialization of the
<span class='texttt'>task</span>
class template has all specializations of the function template
<span class='texttt'>func</span>
as friends<a class='hidden_link' href='#temp.friend-1.sentence-2'>.</a></div> <div id='temp.friend-1.sentence-3' class='sentence'>Similarly,
each specialization of the
<span class='texttt'>task</span>
class template has the class template specialization
<span class='texttt'>task<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span></span>
as a friend, and has all specializations of the class template
<span class='texttt'>frd</span>
as friends<a class='hidden_link' href='#temp.friend-1.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.friend-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L2988'>#</a></div><div class='texpara'><div id='temp.friend-2.sentence-1' class='sentence'>Friend classes, class templates, functions, or function templates
can be declared within a class template<a class='hidden_link' href='#temp.friend-2.sentence-1'>.</a></div> <div id='temp.friend-2.sentence-2' class='sentence'>When a template is instantiated,
its friend declarations are found by name lookup
as if the specialization had been explicitly declared at
its point of instantiation<a class='hidden_link' href='#temp.friend-2.sentence-2'>.</a></div> <div id='temp.friend-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.friend-note-1'>1</a></i>: <div id='temp.friend-2.sentence-3' class='sentence'>They can introduce entities
that belong to an enclosing namespace scope (<a href='dcl.meaning' title='9.3.4&emsp;Meaning of declarators'>[dcl.<span class='shy'></span>meaning]</a>),
in which case they are attached to
the same module as the class template (<a href='module.unit' title='10.1&emsp;Module units and purviews'>[module.<span class='shy'></span>unit]</a>)<a class='hidden_link' href='#temp.friend-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.friend-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3002'>#</a></div><div class='texpara'><div id='temp.friend-3.sentence-1' class='sentence'>A friend template may be declared within a class or class template<a class='hidden_link' href='#temp.friend-3.sentence-1'>.</a></div> <div id='temp.friend-3.sentence-2' class='sentence'>A friend function template may be defined within a class or class
template, but a friend class template may not be defined in a class
or class template<a class='hidden_link' href='#temp.friend-3.sentence-2'>.</a></div> <div id='temp.friend-3.sentence-3' class='sentence'>In these cases, all specializations of the friend class or friend function
template are friends of the class or class template granting friendship<a class='hidden_link' href='#temp.friend-3.sentence-3'>.</a></div> <div id='temp.friend-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.friend-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> B;                 <span class='comment'>// OK</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>  <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.friend-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3018'>#</a></div><div class='texpara'><div id='temp.friend-4.sentence-1' class='sentence'>A template friend declaration specifies that all specializations of that
template, whether they are implicitly instantiated (<a href='temp.inst' title='13.9.2&emsp;Implicit instantiation'>[temp.<span class='shy'></span>inst]</a>), partially
specialized (<a href='#temp.spec.partial' title='13.7.6&emsp;Partial specialization'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial]</a>) or explicitly specialized (<a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization'>[temp.<span class='shy'></span>expl.<span class='shy'></span>spec]</a>),
are friends of the class containing the template friend declaration<a class='hidden_link' href='#temp.friend-4.sentence-1'>.</a></div> <div id='temp.friend-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.friend-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>struct</span> A;
  <span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> X<span class='operator'>::</span>Y ab; <span class='curlybracket'>}</span>;            <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> X<span class='operator'>::</span>Y ab; <span class='curlybracket'>}</span>;        <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.friend-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3035'>#</a></div><div class='texpara'><div id='temp.friend-5.sentence-1' class='sentence'>A template friend declaration may declare
a member of a dependent type to be a friend<a class='hidden_link' href='#temp.friend-5.sentence-1'>.</a></div> <div id='temp.friend-5.sentence-2' class='sentence'>The friend declaration shall declare a function or
specify a type with an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>,
in either case with a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
ending with a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id___'><span class='textsf'><i >simple-template-id</i></span></span></a>, <i >C</i>,
whose <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_____'><span class='textsf'><i >template-name</i></span></span></a> names a class template<a class='hidden_link' href='#temp.friend-5.sentence-2'>.</a></div> <div id='temp.friend-5.sentence-3' class='sentence'>The template parameters of the template friend declaration
shall be deducible from <i >C</i> (<a href='temp.deduct.type' title='13.10.3.6&emsp;Deducing template arguments from a type'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#temp.friend-5.sentence-3'>.</a></div> <div id='temp.friend-5.sentence-4' class='sentence'>In this case,
a member of a specialization <i >S</i> of the class template
is a friend of the class granting friendship
if deduction of the template parameters
of <i >C</i> from <i >S</i> succeeds, and
substituting the deduced template arguments into the friend declaration
produces a declaration that corresponds to
the member of the specialization<a class='hidden_link' href='#temp.friend-5.sentence-4'>.</a></div> <div id='temp.friend-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.friend-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
  T h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>T U<span class='anglebracket'>&gt;</span> T i<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> i<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>float</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> <span class='operator'>*</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B;      <span class='comment'>// grants friendship to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;B</span> even though</span>
                                                <span class='comment'>// it is not a specialization of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;B</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// does not grant friendship to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;f()</span></span>
                                                <span class='comment'>// because its return type does not match</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>D<span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;D</span> does not end with a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id____'><span class='textsf'><i >simple-template-id</i></span></span></a></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>int</span> <span class='operator'>*</span>A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// grants friendship to <span class='tcode_in_codeblock'>A&lt;int*&gt;&#x200b;::&#x200b;h()</span> and <span class='tcode_in_codeblock'>A&lt;float*&gt;&#x200b;::&#x200b;h()</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>T U<span class='anglebracket'>&gt;</span>               <span class='comment'>// grants friendship to instantiations of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;i()</span> and</span>
    <span class='keyword'>friend</span> T A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                         <span class='comment'>// to <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;i()</span>, and thereby to all specializations</span>
<span class='curlybracket'>}</span>;                                              <span class='comment'>// of those function templates</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.friend-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3089'>#</a></div><div class='texpara'><div id='temp.friend-6.sentence-1' class='sentence'>A friend template shall not be declared in a local class<a class='hidden_link' href='#temp.friend-6.sentence-1'>.</a></div></div></div><div class='para' id='temp.friend-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3092'>#</a></div><div class='texpara'><div id='temp.friend-7.sentence-1' class='sentence'>Friend declarations shall not declare partial specializations<a class='hidden_link' href='#temp.friend-7.sentence-1'>.</a></div> <div id='temp.friend-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.friend-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span>;         <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.friend-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3103'>#</a></div><div class='texpara'><div id='temp.friend-8.sentence-1' class='sentence'>When a friend declaration refers to a specialization of a function
template, the function parameter declarations shall not include
default arguments, nor shall
the <span id=':inline'><span class='texttt'><span class='keyword'>inline</span></span></span>, <span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span>, or <span id=':consteval'><span class='texttt'><span class='keyword'>consteval</span></span></span> specifiers
be used in such a declaration<a class='hidden_link' href='#temp.friend-8.sentence-1'>.</a></div></div></div><div class='para' id='temp.friend-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.friend-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3110'>#</a></div><div class='texpara'><div id='temp.friend-9.sentence-1' class='sentence'>A non-template friend declaration
with a <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause___'><span class='textsf'><i >requires-clause</i></span></span></a>
shall be a definition<a class='hidden_link' href='#temp.friend-9.sentence-1'>.</a></div> <div id='temp.friend-9.sentence-2' class='sentence'>A friend function template
with a constraint that depends on a template parameter from an enclosing template
shall be a definition<a class='hidden_link' href='#temp.friend-9.sentence-2'>.</a></div> <div id='temp.friend-9.sentence-3' class='sentence'>Such a constrained friend function or function template declaration
does not declare the same function or function template as a declaration in any other scope<a class='hidden_link' href='#temp.friend-9.sentence-3'>.</a></div></div></div></div><div id='temp.spec.partial' class='section'><h3 ><a class='secnum' href='#temp.spec.partial' style='min-width:80pt'>13.7.6</a> Partial specialization <a class='abbr_ref' href='temp.spec.partial'>[temp.spec.partial]</a></h3><div id='temp.spec.partial.general' class='section'><h4 ><a class='secnum' href='#temp.spec.partial.general' style='min-width:95pt'>13.7.6.1</a> General <a class='abbr_ref' href='temp.spec.partial.general'>[temp.spec.partial.general]</a></h4><div class='para' id='temp.spec.partial.general-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3124'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-1.sentence-1' class='sentence'><a class='index' id=':specialization,class_template_partial'></a>A partial specialization of a template provides an alternative definition
of the template that is used instead of the primary definition when the
arguments in a specialization match those given in the partial
specialization (<a href='#temp.spec.partial.match' title='13.7.6.2&emsp;Matching of partial specializations'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial.<span class='shy'></span>match]</a>)<a class='hidden_link' href='#temp.spec.partial.general-1.sentence-1'>.</a></div> <div id='temp.spec.partial.general-1.sentence-2' class='sentence'>A declaration of the primary template shall precede
any partial specialization of
that template<a class='hidden_link' href='#temp.spec.partial.general-1.sentence-2'>.</a></div> <div id='temp.spec.partial.general-1.sentence-3' class='sentence'>A partial specialization shall be reachable from any use of a template
specialization that would make use of the partial specialization as the result of
an implicit or explicit instantiation; no diagnostic is required<a class='hidden_link' href='#temp.spec.partial.general-1.sentence-3'>.</a></div></div></div><div class='para' id='temp.spec.partial.general-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3137'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-2.sentence-1' class='sentence'>Two partial specialization declarations declare the same entity
if they are partial specializations of the same template and have equivalent
<a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_______'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> and template argument lists (<a href='#temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#temp.spec.partial.general-2.sentence-1'>.</a></div> <div id='temp.spec.partial.general-2.sentence-2' class='sentence'>Each partial specialization is a distinct template<a class='hidden_link' href='#temp.spec.partial.general-2.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='temp.spec.partial.general-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3143'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A             <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>            <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T, T<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span>   <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1<span class='operator'>*</span>, T2, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>                   <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, T<span class='operator'>*</span>, <span class='literal'>5</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1, T2<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='temp.spec.partial.general-3.sentence-1' class='sentence'>The first declaration declares the primary (unspecialized) class template<a class='hidden_link' href='#temp.spec.partial.general-3.sentence-1'>.</a></div> <div id='temp.spec.partial.general-3.sentence-2' class='sentence'>The second and subsequent declarations declare partial specializations of
the primary template<a class='hidden_link' href='#temp.spec.partial.general-3.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.spec.partial.general-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3158'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-4.sentence-1' class='sentence'>A partial specialization may be constrained (<a href='temp.constr' title='13.5&emsp;Template constraints'>[temp.<span class='shy'></span>constr]</a>)<a class='hidden_link' href='#temp.spec.partial.general-4.sentence-1'>.</a></div> <div id='temp.spec.partial.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.general-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;          <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                  <span class='comment'>// #2</span>
</span> <div id='temp.spec.partial.general-4.sentence-2' class='sentence'>
Both partial specializations are more specialized than the primary template<a class='hidden_link' href='#temp.spec.partial.general-4.sentence-2'>.</a></div> <div id='temp.spec.partial.general-4.sentence-3' class='sentence'>#1 is more specialized because the deduction of its template arguments
from the template argument list of the class template specialization succeeds,
while the reverse does not<a class='hidden_link' href='#temp.spec.partial.general-4.sentence-3'>.</a></div> <div id='temp.spec.partial.general-4.sentence-4' class='sentence'>#2 is more specialized because the template arguments are equivalent,
but the partial specialization is more constrained (<a href='temp.constr.order' title='13.5.5&emsp;Partial ordering by constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>order]</a>)<a class='hidden_link' href='#temp.spec.partial.general-4.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.spec.partial.general-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3176'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-5.sentence-1' class='sentence'>The template argument list of a partial specialization is
the <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list____'><span class='textsf'><i >template-argument-list</i></span></span></a> following the name of the template<a class='hidden_link' href='#temp.spec.partial.general-5.sentence-1'>.</a></div></div></div><div class='para' id='temp.spec.partial.general-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3180'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-6.sentence-1' class='sentence'>A partial specialization may be declared in any
scope in which the corresponding primary template
may be defined (<a href='dcl.meaning' title='9.3.4&emsp;Meaning of declarators'>[dcl.<span class='shy'></span>meaning]</a>, <a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>, <a href='#temp.mem' title='13.7.3&emsp;Member templates'>[temp.<span class='shy'></span>mem]</a>)<a class='hidden_link' href='#temp.spec.partial.general-6.sentence-1'>.</a></div> <div id='temp.spec.partial.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.general-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B<span class='anglebracket'>&lt;</span>T2<span class='operator'>*</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;      <span class='comment'>// partial specialization #1</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// partial specialization of <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;C&#x200b;::&#x200b;B&lt;T2&gt;</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>C<span class='operator'>::</span>B<span class='anglebracket'>&lt;</span>T2<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                   <span class='comment'>// #2</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>C<span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> absip;                     <span class='comment'>// uses partial specialization #2</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.spec.partial.general-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3201'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-7.sentence-1' class='sentence'>Partial specialization declarations do not introduce a name<a class='hidden_link' href='#temp.spec.partial.general-7.sentence-1'>.</a></div> <div id='temp.spec.partial.general-7.sentence-2' class='sentence'>Instead, when the primary template name is used, any reachable partial
specializations of the primary template are also considered<a class='hidden_link' href='#temp.spec.partial.general-7.sentence-2'>.</a></div> <div id='temp.spec.partial.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.spec.partial.general-note-1'>1</a></i>: <div id='temp.spec.partial.general-7.sentence-3' class='sentence'>One consequence is
that a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration_'><span class='textsf'><i >using-declaration</i></span></span></a>
which refers to a class template does not restrict the set of partial specializations
that are found through the <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration__'><span class='textsf'><i >using-declaration</i></span></span></a><a class='hidden_link' href='#temp.spec.partial.general-7.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.spec.partial.general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.general-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;     <span class='comment'>// primary template</span>
<span class='curlybracket'>}</span>

<span class='keyword'>using</span> N<span class='operator'>::</span>A;                                     <span class='comment'>// refers to the primary template</span>

<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T, T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// partial specialization</span>
<span class='curlybracket'>}</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>,<span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> a;      <span class='comment'>// uses the partial specialization, which is found through the using-declaration</span>
                    <span class='comment'>// which refers to the primary template</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.spec.partial.general-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3228'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-8.sentence-1' class='sentence'>A non-type argument is non-specialized if it is the name of a non-type
parameter<a class='hidden_link' href='#temp.spec.partial.general-8.sentence-1'>.</a></div> <div id='temp.spec.partial.general-8.sentence-2' class='sentence'>All other non-type arguments are specialized<a class='hidden_link' href='#temp.spec.partial.general-8.sentence-2'>.</a></div></div></div><div class='para' id='temp.spec.partial.general-9'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3233'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-9.sentence-1' class='sentence'>Within the argument list of a partial specialization,
the following restrictions apply:
<ul class='itemize'><li id='temp.spec.partial.general-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.general-9.1'>(9.1)</a></div><div class='texpara'><div id='temp.spec.partial.general-9.1.sentence-1' class='sentence'>The type of a template parameter corresponding to a specialized non-type argument
shall not be dependent on a parameter of the partial specialization<a class='hidden_link' href='#temp.spec.partial.general-9.1.sentence-1'>.</a></div> <div id='temp.spec.partial.general-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.general-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, T t<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C<span class='anglebracket'>&lt;</span>T, <span class='literal'>1</span><span class='anglebracket'>&gt;</span>;              <span class='comment'>// error</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span> <span class='keyword'>int</span> X, <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>array_ptr<span class='parenthesis'>)</span><span class='squarebracket'>[</span>X<span class='squarebracket'>]</span> <span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>int</span> array<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span> <span class='keyword'>int</span> X <span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>X,<span class='operator'>&amp;</span>array<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;        <span class='comment'>// error</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='temp.spec.partial.general-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.general-9.2'>(9.2)</a></div><div class='texpara'><div id='temp.spec.partial.general-9.2.sentence-1' class='sentence'>The partial specialization shall be more specialized than the primary
template (<a href='#temp.spec.partial.order' title='13.7.6.3&emsp;Partial ordering of partial specializations'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial.<span class='shy'></span>order]</a>)<a class='hidden_link' href='#temp.spec.partial.general-9.2.sentence-1'>.</a></div></div></li><li id='temp.spec.partial.general-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.general-9.3'>(9.3)</a></div><div class='texpara'><div id='temp.spec.partial.general-9.3.sentence-1' class='sentence'>The template parameter list of a partial specialization shall not contain default
template argument values<a class='hidden_link' href='#temp.spec.partial.general-9.3.sentence-1'>.</a><a class='footnoteref' href='#footnote-125' id='footnoteref-125' title='There is no context in which they would be used.'>125</a></div></div></li><li id='temp.spec.partial.general-9.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.general-9.4'>(9.4)</a></div><div class='texpara'><div id='temp.spec.partial.general-9.4.sentence-1' class='sentence'>An argument shall not contain an unexpanded pack<a class='hidden_link' href='#temp.spec.partial.general-9.4.sentence-1'>.</a></div> <div id='temp.spec.partial.general-9.4.sentence-2' class='sentence'>If
an argument is a pack expansion (<a href='#temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>), it shall be
the last argument in the template argument list<a class='hidden_link' href='#temp.spec.partial.general-9.4.sentence-2'>.</a></div></div></li></ul></div></div></div><div class='para' id='temp.spec.partial.general-10'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.general-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3266'>#</a></div><div class='texpara'><div id='temp.spec.partial.general-10.sentence-1' class='sentence'>The usual access checking rules do not apply to non-dependent names
used to specify template arguments of the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_____'><span class='textsf'><i >simple-template-id</i></span></span></a>
of the partial specialization<a class='hidden_link' href='#temp.spec.partial.general-10.sentence-1'>.</a></div> <div id='temp.spec.partial.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.spec.partial.general-note-2'>2</a></i>: <div id='temp.spec.partial.general-10.sentence-2' class='sentence'>The template arguments can be private types or
objects that would normally not be accessible<a class='hidden_link' href='#temp.spec.partial.general-10.sentence-2'>.</a></div> <div id='temp.spec.partial.general-10.sentence-3' class='sentence'>Dependent names cannot be checked when declaring the partial specialization,
but will be checked when substituting into the partial specialization<a class='hidden_link' href='#temp.spec.partial.general-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-125'><div class='texpara'><a class='footnotenum' href='#footnote-125'>125)</a><a class='footnoteBacklink' href='#footnoteref-125'>125)</a> <div id='footnote-125.sentence-1' class='sentence'>There is no context in which they would be used<a class='hidden_link' href='#footnote-125.sentence-1'>.</a></div></div></div></div><div id='temp.spec.partial.match' class='section'><h4 ><a class='secnum' href='#temp.spec.partial.match' style='min-width:95pt'>13.7.6.2</a> Matching of partial specializations <a class='abbr_ref' href='temp.spec.partial.match'>[temp.spec.partial.match]</a></h4><div class='para' id='temp.spec.partial.match-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.match-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3279'>#</a></div><div class='texpara'><div id='temp.spec.partial.match-1.sentence-1' class='sentence'>When a template is used in a context that requires an instantiation of
the template,
it is necessary to determine whether the instantiation is to be generated
using the primary template or one of the partial specializations<a class='hidden_link' href='#temp.spec.partial.match-1.sentence-1'>.</a></div> <div id='temp.spec.partial.match-1.sentence-2' class='sentence'>This is done by matching the template arguments of the template
specialization with the template argument lists of the partial
specializations<a class='hidden_link' href='#temp.spec.partial.match-1.sentence-2'>.</a></div></div><div class='texpara'><ul class='itemize'><li id='temp.spec.partial.match-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.match-1.1'>(1.1)</a></div><div class='texpara'><div id='temp.spec.partial.match-1.1.sentence-1' class='sentence'>If exactly one matching partial specialization is found, the instantiation is
generated from that partial specialization<a class='hidden_link' href='#temp.spec.partial.match-1.1.sentence-1'>.</a></div></div></li><li id='temp.spec.partial.match-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.match-1.2'>(1.2)</a></div><div class='texpara'><div id='temp.spec.partial.match-1.2.sentence-1' class='sentence'>If more than one matching partial specialization is found,
the partial order rules (<a href='#temp.spec.partial.order' title='13.7.6.3&emsp;Partial ordering of partial specializations'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial.<span class='shy'></span>order]</a>) are used to determine
whether one of the partial specializations is more specialized than the
others<a class='hidden_link' href='#temp.spec.partial.match-1.2.sentence-1'>.</a></div> <div id='temp.spec.partial.match-1.2.sentence-2' class='sentence'>If such a partial specialization exists,
the instantiation is generated from that partial specialization;
otherwise, the use of the template is ambiguous and the program is ill-formed<a class='hidden_link' href='#temp.spec.partial.match-1.2.sentence-2'>.</a></div></div></li><li id='temp.spec.partial.match-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.match-1.3'>(1.3)</a></div><div class='texpara'><div id='temp.spec.partial.match-1.3.sentence-1' class='sentence'>If no matches are found, the instantiation is generated from the
primary template<a class='hidden_link' href='#temp.spec.partial.match-1.3.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='temp.spec.partial.match-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.match-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3305'>#</a></div><div class='texpara'><div id='temp.spec.partial.match-2.sentence-1' class='sentence'>A partial specialization matches a given actual template argument
list if the template arguments of the partial specialization can be
<a href='temp.deduct' title='13.10.3&emsp;Template argument deduction&emsp;[temp.deduct]'>deduced</a> from the actual template argument list,
and the deduced template arguments satisfy the <a href='temp.constr.decl#def:associated_constraints' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'>associated constraints</a>
of the partial specialization, if any<a class='hidden_link' href='#temp.spec.partial.match-2.sentence-1'>.</a></div> <div id='temp.spec.partial.match-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.match-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A             <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>            <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T, T<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span>   <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1<span class='operator'>*</span>, T2, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>                   <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, T<span class='operator'>*</span>, <span class='literal'>5</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #4</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T1, T2<span class='operator'>*</span>, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// #5</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span>   a1;                    <span class='comment'>// uses #1</span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='operator'>*</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span>  a2;                    <span class='comment'>// uses #2, <span class='tcode_in_codeblock'>T</span> is <span class='tcode_in_codeblock'>int</span>, <span class='tcode_in_codeblock'>I</span> is <span class='tcode_in_codeblock'>1</span></span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>char</span><span class='operator'>*</span>, <span class='literal'>5</span><span class='anglebracket'>&gt;</span> a3;                    <span class='comment'>// uses #4, <span class='tcode_in_codeblock'>T</span> is <span class='tcode_in_codeblock'>char</span></span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>char</span><span class='operator'>*</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span> a4;                    <span class='comment'>// uses #5, <span class='tcode_in_codeblock'>T1</span> is <span class='tcode_in_codeblock'>int</span>, <span class='tcode_in_codeblock'>T2</span> is <span class='tcode_in_codeblock'>char</span>, <span class='tcode_in_codeblock'>I</span> is <span class='tcode_in_codeblock'>1</span></span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span>, <span class='keyword'>int</span><span class='operator'>*</span>, <span class='literal'>2</span><span class='anglebracket'>&gt;</span> a5;                    <span class='comment'>// ambiguous: matches #3 and #5</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.spec.partial.match-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.match-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;      <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;          <span class='comment'>// #2</span>

<span class='keyword'>struct</span> Arg <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

S<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> s1;                              <span class='comment'>// uses #1; the constraints of #2 are not satisfied</span>
S<span class='anglebracket'>&lt;</span>Arg<span class='anglebracket'>&gt;</span> s2;                              <span class='comment'>// uses #2; both constraints are satisfied but #2 is more specialized</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.spec.partial.match-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.match-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3340'>#</a></div><div class='texpara'><div id='temp.spec.partial.match-3.sentence-1' class='sentence'>If the template arguments of a partial specialization cannot be deduced
because of the structure of its <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><i >template-parameter-list</i></span></span></a>
and the <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id__'><span class='textsf'><i >template-id</i></span></span></a>,
the program is ill-formed<a class='hidden_link' href='#temp.spec.partial.match-3.sentence-1'>.</a></div> <div id='temp.spec.partial.match-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.match-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>5</span>, I<span class='operator'>*</span><span class='literal'>2</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;     <span class='comment'>// error</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>I, I<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;         <span class='comment'>// OK</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J, <span class='keyword'>int</span> K<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B<span class='anglebracket'>&lt;</span>I, I<span class='operator'>*</span><span class='literal'>2</span>, <span class='literal'>2</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;    <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.spec.partial.match-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.match-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3357'>#</a></div><div class='texpara'><div id='temp.spec.partial.match-4.sentence-1' class='sentence'>In a name that refers to a specialization of a class or variable template
(e.g., <span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span>, <span class='literal'>1</span><span class='anglebracket'>&gt;</span></span>),
the argument list shall match the template parameter list of the primary
template<a class='hidden_link' href='#temp.spec.partial.match-4.sentence-1'>.</a></div> <div id='temp.spec.partial.match-4.sentence-2' class='sentence'>The template arguments of a partial specialization are deduced from the arguments
of the primary template<a class='hidden_link' href='#temp.spec.partial.match-4.sentence-2'>.</a></div></div></div></div><div id='temp.spec.partial.order' class='section'><h4 ><a class='secnum' href='#temp.spec.partial.order' style='min-width:95pt'>13.7.6.3</a> Partial ordering of partial specializations <a class='abbr_ref' href='temp.spec.partial.order'>[temp.spec.partial.order]</a></h4><div class='para' id='temp.spec.partial.order-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.order-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3367'>#</a></div><div class='texpara'><div id='temp.spec.partial.order-1.sentence-1' class='sentence'><a class='index' id=':more_specialized,class_template'></a>For two partial specializations,
the first is <a class='hidden_link' href='temp.deduct.partial#def:more_specialized' title='13.10.3.5&emsp;Deducing template arguments during partial ordering&emsp;[temp.deduct.partial]'><span id='def:more_specialized'><i >more specialized</i></span></a> than the second if, given the following
rewrite to two function templates, the first function template is more
specialized than the second according to the <a href='#temp.func.order' title='13.7.7.3&emsp;Partial ordering of function templates&emsp;[temp.func.order]'>ordering rules for function
templates</a>:
<ul class='itemize'><li id='temp.spec.partial.order-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.order-1.1'>(1.1)</a></div><div class='texpara'><div id='temp.spec.partial.order-1.1.sentence-1' class='sentence'>Each of the two
function templates has the same template parameters
and <a href='temp.constr.decl#def:associated_constraints' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'>associated constraints</a>
as the corresponding partial specialization<a class='hidden_link' href='#temp.spec.partial.order-1.1.sentence-1'>.</a></div></div></li><li id='temp.spec.partial.order-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.spec.partial.order-1.2'>(1.2)</a></div><div class='texpara'><div id='temp.spec.partial.order-1.2.sentence-1' class='sentence'>Each function template
has a single function parameter
whose type is a class template specialization where the template arguments
are the corresponding template parameters from the function template
for each template argument
in the <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list_____'><span class='textsf'><i >template-argument-list</i></span></span></a>
of the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id______'><span class='textsf'><i >simple-template-id</i></span></span></a>
of the partial specialization<a class='hidden_link' href='#temp.spec.partial.order-1.2.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para nonNormativeOnly' id='temp.spec.partial.order-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.order-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3391'>#</a></div><div class='texpara'><div id='temp.spec.partial.order-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.order-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span>          <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span>I, J, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>                 <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span>I, I, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I0, <span class='keyword'>int</span> J0<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>I0, J0, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                <span class='comment'>// A</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I0<span class='anglebracket'>&gt;</span>         <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>I0, I0, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                <span class='comment'>// B</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> v<span class='anglebracket'>&gt;</span>    <span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span> p<span class='anglebracket'>&gt;</span>   <span class='keyword'>class</span> Y<span class='anglebracket'>&lt;</span>p<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                            <span class='comment'>// #3</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span><span class='operator'>*</span> pp<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Y<span class='anglebracket'>&lt;</span>pp<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                           <span class='comment'>// #4</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span> p0<span class='anglebracket'>&gt;</span>   <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Y<span class='anglebracket'>&lt;</span>p0<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                            <span class='comment'>// C</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span><span class='operator'>*</span> pp0<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Y<span class='anglebracket'>&lt;</span>pp0<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                           <span class='comment'>// D</span>
</span></div><div class='texpara'><div id='temp.spec.partial.order-2.sentence-1' class='sentence'>According to the ordering rules for function templates,
the function template
<i >B</i>
is more specialized than the function template
<i >A</i>
and
the function template
<i >D</i>
is more specialized than the function template
<i >C</i><a class='hidden_link' href='#temp.spec.partial.order-2.sentence-1'>.</a></div> <div id='temp.spec.partial.order-2.sentence-2' class='sentence'>Therefore, the partial specialization #2
is more specialized than the partial specialization #1
and the partial specialization #4
is more specialized than the partial specialization #3<a class='hidden_link' href='#temp.spec.partial.order-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='temp.spec.partial.order-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.order-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;   <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;     <span class='comment'>// A</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;     <span class='comment'>// B</span>
</span> <div id='temp.spec.partial.order-2.sentence-3' class='sentence'>
The partial specialization #2 is more specialized than #1
because <span class='texttt'>B</span> is more specialized than <span class='texttt'>A</span><a class='hidden_link' href='#temp.spec.partial.order-2.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.spec.partial.member' class='section'><h4 ><a class='secnum' href='#temp.spec.partial.member' style='min-width:95pt'>13.7.6.4</a> Members of class template partial specializations <a class='abbr_ref' href='temp.spec.partial.member'>[temp.spec.partial.member]</a></h4><div class='para' id='temp.spec.partial.member-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.member-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3442'>#</a></div><div class='texpara'><div id='temp.spec.partial.member-1.sentence-1' class='sentence'>The members of the class template partial specialization are
unrelated to the members of the primary template<a class='hidden_link' href='#temp.spec.partial.member-1.sentence-1'>.</a></div> <div id='temp.spec.partial.member-1.sentence-2' class='sentence'>Class template partial specialization members that are used in a way that
requires a definition shall be defined; the definitions of members of the
primary template are never used as definitions for members of a class
template partial specialization<a class='hidden_link' href='#temp.spec.partial.member-1.sentence-2'>.</a></div> <div id='temp.spec.partial.member-1.sentence-3' class='sentence'>An explicit specialization of a member of a class template partial
specialization is declared in the same way as an explicit specialization of
a member of the primary template<a class='hidden_link' href='#temp.spec.partial.member-1.sentence-3'>.</a></div> <div id='temp.spec.partial.member-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.member-example-1'>1</a></i>: <span class='codeblock'><span class='comment'>// primary class template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// member of primary class template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T,I<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='comment'>// class template partial specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T,<span class='literal'>2</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// member of class template partial specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T,<span class='literal'>2</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='comment'>// explicit specialization</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>,<span class='literal'>2</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>,<span class='literal'>0</span><span class='anglebracket'>&gt;</span> a0;
  A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>,<span class='literal'>2</span><span class='anglebracket'>&gt;</span> a2;
  a0<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, uses definition of primary template's member</span>
  a2<span class='operator'>.</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, uses definition of partial specialization's member</span>
  a2<span class='operator'>.</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, uses definition of explicit specialization's member</span>
  a2<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: no definition of <span class='tcode_in_codeblock'>f</span> for <span class='tcode_in_codeblock'>A&lt;T,2&gt;</span>; the primary template is not used here</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.spec.partial.member-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.spec.partial.member-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3486'>#</a></div><div class='texpara'><div id='temp.spec.partial.member-2.sentence-1' class='sentence'>If a member template of a class template is partially specialized,
the member template partial specializations are member templates of
the enclosing class template;
if the enclosing class template is instantiated (<a href='temp.inst' title='13.9.2&emsp;Implicit instantiation'>[temp.<span class='shy'></span>inst]</a>, <a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation'>[temp.<span class='shy'></span>explicit]</a>),
a declaration for every member template partial specialization is also
instantiated as part of creating the members of the class template
specialization<a class='hidden_link' href='#temp.spec.partial.member-2.sentence-1'>.</a></div> <div id='temp.spec.partial.member-2.sentence-2' class='sentence'>If the primary member template is explicitly specialized for a given
(implicit) specialization of the enclosing class template,
the partial specializations of the member template are ignored for this
specialization of the enclosing class template<a class='hidden_link' href='#temp.spec.partial.member-2.sentence-2'>.</a></div> <div id='temp.spec.partial.member-2.sentence-3' class='sentence'>If a partial specialization of the member template is explicitly specialized
for a given (implicit) specialization of the enclosing class template,
the primary member template and its other partial specializations are
still considered for this specialization of the enclosing class template<a class='hidden_link' href='#temp.spec.partial.member-2.sentence-3'>.</a></div> <div id='temp.spec.partial.member-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.spec.partial.member-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                               <span class='comment'>// #1</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B<span class='anglebracket'>&lt;</span>T2<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                          <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;            <span class='comment'>// #3</span>

A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span>  abcip;                                        <span class='comment'>// uses #2</span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> absip;                                        <span class='comment'>// uses #3</span>
A<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>  abci;                                          <span class='comment'>// uses #1</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div><div id='temp.fct' class='section'><h3 ><a class='secnum' href='#temp.fct' style='min-width:80pt'>13.7.7</a> Function templates <a class='abbr_ref' href='temp.fct'>[temp.fct]</a></h3><div id='temp.fct.general' class='section'><h4 ><a class='secnum' href='#temp.fct.general' style='min-width:95pt'>13.7.7.1</a> General <a class='abbr_ref' href='temp.fct.general'>[temp.fct.general]</a></h4><div class='para' id='temp.fct.general-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.fct.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3521'>#</a></div><div class='texpara'><div id='temp.fct.general-1.sentence-1' class='sentence'>A function template defines an unbounded set of related functions<a class='hidden_link' href='#temp.fct.general-1.sentence-1'>.</a></div> <div id='temp.fct.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.fct.general-example-1'>1</a></i>: <div id='temp.fct.general-1.sentence-2' class='sentence'>A family of sort functions can be declared like this:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.fct.general-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.fct.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3531'>#</a></div><div class='texpara'><div id='temp.fct.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.fct.general-note-1'>1</a></i>: <div id='temp.fct.general-2.sentence-1' class='sentence'>A function template can have the same name as other function templates
and non-template functions (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) in the same scope<a class='hidden_link' href='#temp.fct.general-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.fct.general-2.sentence-2' class='sentence'>
A non-template function is not
related to a function template
(i.e., it is never considered to be a specialization),
even if it has the same name and type
as a potentially generated function template specialization<a class='hidden_link' href='#temp.fct.general-2.sentence-2'>.</a><a class='footnoteref' href='#footnote-126' id='footnoteref-126' title='That is, declarations of non-template functions do not merely guide overload resolution of function template specializations with the same name. If such a non-template function is odr-used ([term.odr.use]) in a program, it must be defined; it will not be implicitly instantiated using the function template definition.'>126</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-126'><div class='texpara'><a class='footnotenum' href='#footnote-126'>126)</a><a class='footnoteBacklink' href='#footnoteref-126'>126)</a> <div id='footnote-126.sentence-1' class='sentence'>That is,
declarations of non-template functions do not merely guide
overload resolution of
function template specializations
with the same name<a class='hidden_link' href='#footnote-126.sentence-1'>.</a></div> <div id='footnote-126.sentence-2' class='sentence'>If such a non-template function is odr-used (<a href='term.odr.use'>[term.<span class='shy'></span>odr.<span class='shy'></span>use]</a>) in a program, it must be defined;
it will not be implicitly instantiated using the function template definition<a class='hidden_link' href='#footnote-126.sentence-2'>.</a></div></div></div></div><div id='temp.over.link' class='section'><h4 ><a class='secnum' href='#temp.over.link' style='min-width:95pt'>13.7.7.2</a> Function template overloading <a class='abbr_ref' href='temp.over.link'>[temp.over.link]</a></h4><div class='para' id='temp.over.link-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3553'>#</a></div><div class='texpara'><div id='temp.over.link-1.sentence-1' class='sentence'><a class='index' id=':overloading'></a>It is possible to overload function templates so that two different
function template specializations have the same type<a class='hidden_link' href='#temp.over.link-1.sentence-1'>.</a></div> <div id='temp.over.link-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-1'>1</a></i>: <div class='minipage'><span class='codeblock'><span class='comment'>// translation unit 1:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>; <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int&gt;(int*)</span></span>
<span class='curlybracket'>}</span>
</span></div>
<div class='minipage'><span class='codeblock'><span class='comment'>// translation unit 2:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>; <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int*&gt;(int*)</span></span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.over.link-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3581'>#</a></div><div class='texpara'><div id='temp.over.link-2.sentence-1' class='sentence'>Such specializations are distinct functions and do not violate the
<a href='basic.def.odr' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>one-definition rule</a><a class='hidden_link' href='#temp.over.link-2.sentence-1'>.</a></div></div></div><div class='para' id='temp.over.link-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3585'>#</a></div><div class='texpara'><div id='temp.over.link-3.sentence-1' class='sentence'>The signature of a function template
is defined in <a href='intro.defs' title='3&emsp;Terms and definitions'>[intro.<span class='shy'></span>defs]</a><a class='hidden_link' href='#temp.over.link-3.sentence-1'>.</a></div> <div id='temp.over.link-3.sentence-2' class='sentence'>The names of the template parameters are significant only for establishing
the relationship between the template parameters and the rest of the
signature<a class='hidden_link' href='#temp.over.link-3.sentence-2'>.</a></div> <div id='temp.over.link-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-1'>1</a></i>: <div id='temp.over.link-3.sentence-3' class='sentence'>Two distinct function templates can have identical function return types and
function parameter lists, even if overload resolution alone cannot distinguish
them<a class='hidden_link' href='#temp.over.link-3.sentence-3'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK: overloads the first template</span>
                                <span class='comment'>// distinguishable with an explicit template argument list</span>
</span> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.over.link-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3603'>#</a></div><div class='texpara'><div id='temp.over.link-4.sentence-1' class='sentence'>When an expression that references a template parameter is used in the
function parameter list or the return type in the declaration of a
function template, the expression that references the template
parameter is part of the signature of the function template<a class='hidden_link' href='#temp.over.link-4.sentence-1'>.</a></div> <div id='temp.over.link-4.sentence-2' class='sentence'>This is
necessary to permit a declaration of a function template in one
translation unit to be linked with another declaration of the function
template in another translation unit and, conversely, to ensure that
function templates that are intended to be distinct are not linked
with one another<a class='hidden_link' href='#temp.over.link-4.sentence-2'>.</a></div> <div id='temp.over.link-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span>J<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> K, <span class='keyword'>int</span> L<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>K<span class='operator'>+</span>L<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>K<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>L<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// same as #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>-</span>J<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// different from #1</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.over.link-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-2'>2</a></i>: <div id='temp.over.link-4.sentence-3' class='sentence'>Most expressions that use template parameters use non-type template
parameters, but it is possible for an expression to reference a type
parameter<a class='hidden_link' href='#temp.over.link-4.sentence-3'>.</a></div> <div id='temp.over.link-4.sentence-4' class='sentence'>For example, a template type parameter can be used in the
<span class='texttt'><span class='keyword'>sizeof</span></span> operator<a class='hidden_link' href='#temp.over.link-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.over.link-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3629'>#</a></div><div class='texpara'><div id='temp.over.link-5.sentence-1' class='sentence'>Two expressions involving template parameters are considered
<a class='hidden_link' href='#def:equivalent,expressions' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:equivalent,expressions'><i >equivalent</i></span></a>
if two function definitions containing the expressions would satisfy
the <a href='basic.def.odr' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>one-definition rule</a>, except that the tokens used
to name the template parameters may differ as long as a token used to
name a template parameter in one expression is replaced by another token
that names the same template parameter in the other expression<a class='hidden_link' href='#temp.over.link-5.sentence-1'>.</a></div> <div id='temp.over.link-5.sentence-2' class='sentence'>Two unevaluated operands that do not involve template parameters
are considered equivalent
if two function definitions containing the expressions
would satisfy the one-definition rule,
except that the tokens used to name types and declarations may differ
as long as they name the same entities, and
the tokens used to form <span id='ntref:concept-id'><span class='textsf'><i >concept-id</i></span></span><i >s</i> may differ
as long as the two <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id___'><span class='textsf'><i >template-id</i></span></span></a><i >s</i> are the same (<a href='temp.type' title='13.6&emsp;Type equivalence'>[temp.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#temp.over.link-5.sentence-2'>.</a></div> <div id='temp.over.link-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-3'>3</a></i>: <div id='temp.over.link-5.sentence-3' class='sentence'>For instance, <span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='literal'>42</span><span class='anglebracket'>&gt;</span></span> and <span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='literal'>40</span><span class='operator'>+</span><span class='literal'>2</span><span class='anglebracket'>&gt;</span></span> name the same type<a class='hidden_link' href='#temp.over.link-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-5.sentence-4' class='sentence'>
Two <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> are never considered equivalent<a class='hidden_link' href='#temp.over.link-5.sentence-4'>.</a></div> <div id='temp.over.link-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-4'>4</a></i>: <div id='temp.over.link-5.sentence-5' class='sentence'>The intent is to avoid <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> appearing in the
signature of a function template with external linkage<a class='hidden_link' href='#temp.over.link-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-5.sentence-6' class='sentence'>
For determining whether two dependent names (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>) are equivalent,
only the name itself is considered, not the result of name lookup<a class='hidden_link' href='#temp.over.link-5.sentence-6'>.</a></div> <div id='temp.over.link-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-5'>5</a></i>: <div id='temp.over.link-5.sentence-7' class='sentence'>If such a dependent name is unqualified,
it is looked up from
the first declaration of the function template (<a href='temp.dep.candidate' title='13.8.4.2&emsp;Candidate functions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>candidate]</a>)<a class='hidden_link' href='#temp.over.link-5.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> K, <span class='keyword'>int</span> L<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>K<span class='operator'>+</span>L<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;         <span class='comment'>// same as #1</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>         <span class='comment'>// redeclaration of <span class='tcode_in_codeblock'>h()</span> uses the earlier lookup&hellip;</span>
  <span class='curlybracket'>{</span> <span class='keyword'>return</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>                            <span class='comment'>// &hellip; although the lookup here does find <span class='tcode_in_codeblock'>g(int)</span></span>
<span class='keyword'>int</span> i <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                               <span class='comment'>// template argument substitution fails; <span class='tcode_in_codeblock'>g(int)</span></span>
                                                <span class='comment'>// not considered at the first declaration of <span class='tcode_in_codeblock'>h()</span></span>

<span class='comment'>// ill-formed, no diagnostic required: the two expressions are functionally equivalent but not equivalent</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> N<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, N<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> N<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, N<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;

<span class='comment'>// two different declarations because the non-dependent portions are not considered equivalent</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> spam<span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> spam<span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.over.link-5.sentence-8' class='sentence'>Two potentially-evaluated expressions involving template parameters that are not equivalent are
<a class='hidden_link' href='#def:functionally_equivalent,expressions' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:functionally_equivalent,expressions'><i >functionally equivalent</i></span></a>
if, for any given set of template arguments, the evaluation of the
expression results in the same value<a class='hidden_link' href='#temp.over.link-5.sentence-8'>.</a></div> <div id='temp.over.link-5.sentence-9' class='sentence'>Two unevaluated operands that are not equivalent
are functionally equivalent if, for any given set of template arguments,
the expressions perform
the same operations in the same order with the same entities<a class='hidden_link' href='#temp.over.link-5.sentence-9'>.</a></div> <div id='temp.over.link-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-6'>6</a></i>: <div id='temp.over.link-5.sentence-10' class='sentence'>For instance, one could have redundant parentheses<a class='hidden_link' href='#temp.over.link-5.sentence-10'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span><span class='literal'>42</span><span class='anglebracket'>&gt;</span>;      <span class='comment'>// #1</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='literal'>true</span>;       <span class='comment'>// OK, different functions</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.over.link-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3704'>#</a></div><div class='texpara'><div id='temp.over.link-6.sentence-1' class='sentence'>Two <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head________'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> are
<a class='hidden_link' href='#def:equivalent,template-heads' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:equivalent,template-heads'><i >equivalent</i></span></a> if
their <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i> have the same length,
corresponding <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i> are equivalent
and are both declared with <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint___'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i> that are equivalent
if either <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_'><span class='textsf'><i >template-parameter</i></span></span></a>
is declared with a <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint____'><span class='textsf'><i >type-constraint</i></span></span></a>,
and if either <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_________'><span class='textsf'><i >template-head</i></span></span></a> has a <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause____'><span class='textsf'><i >requires-clause</i></span></span></a>,
they both have
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_____'><span class='textsf'><i >requires-clause</i></span></span></a><i >s</i> and the corresponding
<a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a><i >s</i> are equivalent<a class='hidden_link' href='#temp.over.link-6.sentence-1'>.</a></div> <div id='temp.over.link-6.sentence-2' class='sentence'>Two <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter__'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i> are
<a class='hidden_link' href='#def:equivalent,template-parameters' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:equivalent,template-parameters'><i >equivalent</i></span></a>
under the following conditions:
<ul class='itemize'><li id='temp.over.link-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.1'>(6.1)</a></div>they declare template parameters of the same kind,</li><li id='temp.over.link-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.2'>(6.2)</a></div>if either declares a template parameter pack, they both do,</li><li id='temp.over.link-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.3'>(6.3)</a></div>if they declare non-type template parameters,
they have equivalent types
ignoring the use of <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint_____'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i> for placeholder types, and</li><li id='temp.over.link-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.4'>(6.4)</a></div>if they declare template template parameters, their template
parameters are equivalent<a class='hidden_link' href='#temp.over.link-6.sentence-2'>.</a></li></ul></div> <div id='temp.over.link-6.sentence-3' class='sentence'>
When determining whether types or <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint______'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i>
are equivalent, the rules above are used to compare expressions
involving template parameters<a class='hidden_link' href='#temp.over.link-6.sentence-3'>.</a></div> <div id='temp.over.link-6.sentence-4' class='sentence'>Two <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head__________'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> are
<a class='hidden_link' href='#def:functionally_equivalent,template-heads' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:functionally_equivalent,template-heads'><i >functionally equivalent</i></span></a>
if they accept and are satisfied by (<a href='temp.constr.constr' title='13.5.2&emsp;Constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>constr]</a>)
the same set of template argument lists<a class='hidden_link' href='#temp.over.link-6.sentence-4'>.</a></div></div></div><div class='para' id='temp.over.link-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3736'>#</a></div><div class='texpara'><div id='temp.over.link-7.sentence-1' class='sentence'>If the validity or meaning of the program depends on
whether two constructs are equivalent, and they are
functionally equivalent but not equivalent, the program is ill-formed,
no diagnostic required<a class='hidden_link' href='#temp.over.link-7.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='temp.over.link-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3742'>#</a></div><div class='texpara'><div id='temp.over.link-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-7'>7</a></i>: <div id='temp.over.link-8.sentence-1' class='sentence'>This rule guarantees that equivalent declarations will be linked with
one another, while not requiring implementations to use heroic efforts
to guarantee that functionally equivalent declarations will be treated
as distinct<a class='hidden_link' href='#temp.over.link-8.sentence-1'>.</a></div> <div id='temp.over.link-8.sentence-2' class='sentence'>For example, the last two declarations are functionally
equivalent and would cause a program to be ill-formed:
<span class='codeblock'><span class='comment'>// guaranteed to be the same</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='comment'>// guaranteed to be different</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>11</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='comment'>// ill-formed, no diagnostic required</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>1</span><span class='operator'>+</span><span class='literal'>2</span><span class='operator'>+</span><span class='literal'>3</span><span class='operator'>+</span><span class='literal'>4</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='temp.func.order' class='section'><h4 ><a class='secnum' href='#temp.func.order' style='min-width:95pt'>13.7.7.3</a> Partial ordering of function templates <a class='abbr_ref' href='temp.func.order'>[temp.func.order]</a></h4><div class='para' id='temp.func.order-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3767'>#</a></div><div class='texpara'><div id='temp.func.order-1.sentence-1' class='sentence'><a class='index' id=':overloading,resolution,template'></a>If multiple function templates share a name,
the use of that name can be ambiguous because
template argument deduction (<a href='temp.deduct' title='13.10.3&emsp;Template argument deduction'>[temp.<span class='shy'></span>deduct]</a>) may identify
a specialization for more than one function template<a class='hidden_link' href='#temp.func.order-1.sentence-1'>.</a></div> <div id='temp.func.order-1.sentence-2' class='sentence'><a class='hidden_link' href='#def:template,function,partial_ordering' title='13.7.7.3&emsp;Partial ordering of function templates&emsp;[temp.func.order]'><span id='def:template,function,partial_ordering'><i >Partial ordering</i></span></a>
of overloaded function template declarations is used in the following contexts
to select the function template to which a function template specialization
refers:
<ul class='itemize'><li id='temp.func.order-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.1'>(1.1)</a></div>during overload resolution for a call to a function template specialization (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>);</li><li id='temp.func.order-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.2'>(1.2)</a></div>when the address of a function template specialization is taken;</li><li id='temp.func.order-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.3'>(1.3)</a></div>when a placement operator delete that is a
function template
specialization
is selected to match a placement operator new (<a href='basic.stc.dynamic.deallocation' title='6.7.5.5.3&emsp;Deallocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>deallocation]</a>, <a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>);</li><li id='temp.func.order-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.4'>(1.4)</a></div>when a <a href='#temp.friend' title='13.7.5&emsp;Friends&emsp;[temp.friend]'>friend function declaration</a>, an
<a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation&emsp;[temp.explicit]'>explicit instantiation</a> or an <a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'>explicit specialization</a> refers to
a function template specialization<a class='hidden_link' href='#temp.func.order-1.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='temp.func.order-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3794'>#</a></div><div class='texpara'><div id='temp.func.order-2.sentence-1' class='sentence'>Partial ordering selects which of two function templates is more
specialized than the other by transforming each template in turn
(see next paragraph) and performing template argument deduction
using the function type<a class='hidden_link' href='#temp.func.order-2.sentence-1'>.</a></div> <div id='temp.func.order-2.sentence-2' class='sentence'>The deduction process determines whether
one of the templates is more specialized than the other<a class='hidden_link' href='#temp.func.order-2.sentence-2'>.</a></div> <div id='temp.func.order-2.sentence-3' class='sentence'>If so, the
more specialized template is the one chosen by the partial ordering
process<a class='hidden_link' href='#temp.func.order-2.sentence-3'>.</a></div> <div id='temp.func.order-2.sentence-4' class='sentence'>If both deductions succeed, the partial ordering selects
the more constrained template (if one exists) as determined below<a class='hidden_link' href='#temp.func.order-2.sentence-4'>.</a></div></div></div><div class='para' id='temp.func.order-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3806'>#</a></div><div class='texpara'><div id='temp.func.order-3.sentence-1' class='sentence'>To produce the transformed template, for each type, non-type, or template
template parameter (including
<a href='#def:template_parameter_pack' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'>template parameter packs</a>
thereof) synthesize a unique type, value, or class template
respectively and substitute it for each occurrence of that parameter
in the function type of the template<a class='hidden_link' href='#temp.func.order-3.sentence-1'>.</a></div> <div id='temp.func.order-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.func.order-note-1'>1</a></i>: <div id='temp.func.order-3.sentence-2' class='sentence'>The type replacing the placeholder
in the type of the value synthesized for a non-type template parameter
is also a unique synthesized type<a class='hidden_link' href='#temp.func.order-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.func.order-3.sentence-3' class='sentence'>
Each function template <span class='math'><span class='mathalpha'>M</span></span> that is a member function
is considered to have
a new first parameter of type <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span>, described below,
inserted in its function parameter list<a class='hidden_link' href='#temp.func.order-3.sentence-3'>.</a></div> <div id='temp.func.order-3.sentence-4' class='sentence'>If exactly one of the function templates was considered by overload resolution
via a rewritten candidate (<a href='over.match.oper' title='12.2.2.3&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>)
with a reversed order of parameters,
then the order of the function parameters in its transformed template
is reversed<a class='hidden_link' href='#temp.func.order-3.sentence-4'>.</a></div> <div id='temp.func.order-3.sentence-5' class='sentence'>For a function template <span class='math'><span class='mathalpha'>M</span></span> with cv-qualifiers <span class='mathit'>cv</span>
that is a member of a class <span class='math'><span class='mathalpha'>A</span></span>:
<ul class='itemize'><li id='temp.func.order-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-3.1'>(3.1)</a></div><div class='texpara'><div id='temp.func.order-3.1.sentence-1' class='sentence'>The type <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span> is “rvalue reference to <span class='mathit'>cv</span> <span class='math'><span class='mathalpha'>A</span></span>”
if the optional <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> of
<span class='math'><span class='mathalpha'>M</span></span> is <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> or
if <span class='math'><span class='mathalpha'>M</span></span> has no <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a> and
the positionally-corresponding parameter of the other transformed template
has rvalue reference type;
if this determination depends recursively upon
whether <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span> is an rvalue reference type,
it is not considered to have rvalue reference type<a class='hidden_link' href='#temp.func.order-3.1.sentence-1'>.</a></div></div></li><li id='temp.func.order-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-3.2'>(3.2)</a></div><div class='texpara'><div id='temp.func.order-3.2.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span> is “lvalue reference to <span class='mathit'>cv</span> <span class='math'><span class='mathalpha'>A</span></span>”<a class='hidden_link' href='#temp.func.order-3.2.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='temp.func.order-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.func.order-note-2'>2</a></i>: <div id='temp.func.order-3.sentence-6' class='sentence'>This allows a non-static
member to be ordered with respect to a non-member function and for the results
to be equivalent to the ordering of two equivalent non-members<a class='hidden_link' href='#temp.func.order-3.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.func.order-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span>R<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;              <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> R<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span>, R<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;   <span class='comment'>// #2</span>

<span class='comment'>// The declaration of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator*</span> is transformed into the equivalent of</span>
<span class='comment'>// <span class='tcode_in_codeblock'>template&lt;class R&gt; int operator*(B&lt;A&gt;&amp;, R&amp;);</span>&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;// #1a</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  B<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> b;
  b <span class='operator'>*</span> a;                                            <span class='comment'>// calls #1</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.func.order-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3870'>#</a></div><div class='texpara'><div id='temp.func.order-4.sentence-1' class='sentence'>Using the transformed function template's function type,
perform type deduction against the other template as described in <a href='temp.deduct.partial' title='13.10.3.5&emsp;Deducing template arguments during partial ordering'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>partial]</a><a class='hidden_link' href='#temp.func.order-4.sentence-1'>.</a></div></div><div class='texpara'><div id='temp.func.order-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>*</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> m<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>*</span> p;
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f(const T*)</span> is more specialized than <span class='tcode_in_codeblock'>f(T)</span> or <span class='tcode_in_codeblock'>f(T*)</span></span>
  <span class='keyword'>float</span> x;
  g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;             <span class='comment'>// ambiguous: <span class='tcode_in_codeblock'>g(T)</span> or <span class='tcode_in_codeblock'>g(T&amp;)</span></span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> z;
  h<span class='parenthesis'>(</span>z<span class='parenthesis'>)</span>;             <span class='comment'>// overload resolution selects <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span></span>
  <span class='keyword'>const</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> z2;
  h<span class='parenthesis'>(</span>z2<span class='parenthesis'>)</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>h(const T&amp;)</span> is called because <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span> is not callable</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.func.order-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3901'>#</a></div><div class='texpara'><div id='temp.func.order-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.func.order-note-3'>3</a></i>: <div id='temp.func.order-5.sentence-1' class='sentence'>Since, in a call context, such type deduction considers only parameters
for which there are explicit call arguments, some parameters are ignored (namely,
function parameter packs, parameters with default arguments, and ellipsis
parameters)<a class='hidden_link' href='#temp.func.order-5.sentence-1'>.</a></div> <div id='temp.func.order-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                            <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span>, <span class='keyword'>int</span><span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                    <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                            <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>*</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                      <span class='comment'>// #4</span>

</span>
<span class='codeblock'><span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span><span class='operator'>*</span> ip;
  f<span class='parenthesis'>(</span>ip<span class='parenthesis'>)</span>;                                                <span class='comment'>// calls #2</span>
  g<span class='parenthesis'>(</span>ip<span class='parenthesis'>)</span>;                                                <span class='comment'>// calls #4</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.func.order-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U, A<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>         <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U, A<span class='anglebracket'>&lt;</span>U, U<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T         <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, T <span class='operator'>=</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, U <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;         <span class='comment'>// #4</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>42</span>, <span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                          <span class='comment'>// calls #2</span>
  f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;                                           <span class='comment'>// error: ambiguous</span>
  g<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;                                                <span class='comment'>// error: ambiguous</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.func.order-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T, U<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;          <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T            <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>*</span>, U<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T            <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                <span class='comment'>// #4</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;                                                <span class='comment'>// OK: calls #2</span>
  g<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;                                                <span class='comment'>// OK: calls #3</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.func.order-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L3954'>#</a></div><div class='texpara'><div id='temp.func.order-6.sentence-1' class='sentence'>If deduction against the other template succeeds for both transformed templates,
constraints can be considered as follows:
<ul class='itemize'><li id='temp.func.order-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.1'>(6.1)</a></div><div class='texpara'><div id='temp.func.order-6.1.sentence-1' class='sentence'>If their <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list__'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i>
(possibly including <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter___'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i>
invented for an abbreviated function template (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)) or
function parameter lists differ in length,
neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.1.sentence-1'>.</a></div></div></li><li id='temp.func.order-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.2'>(6.2)</a></div><div class='texpara'><div id='temp.func.order-6.2.sentence-1' class='sentence'>Otherwise:
<ul class='itemize'><li id='temp.func.order-6.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#temp.func.order-6.2.1'>(6.2.1)</a></div>If exactly one of the templates was considered by overload resolution
via a rewritten candidate with reversed order of parameters:
<ul class='itemize'><li id='temp.func.order-6.2.1.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#temp.func.order-6.2.1.1'>(6.2.1.1)</a></div>If, for either template, some of the template parameters
are not deducible from their function parameters,
neither template is more specialized than the other.</li><li id='temp.func.order-6.2.1.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#temp.func.order-6.2.1.2'>(6.2.1.2)</a></div>If there is either no reordering or more than one reordering
of the associated <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list___'><span class='textsf'><i >template-parameter-list</i></span></span></a>
such that
<ul class='itemize'><li id='temp.func.order-6.2.1.2.1'><div class='marginalizedparent' style='left:-54mm'><a class='marginalized' href='#temp.func.order-6.2.1.2.1'>(6.2.1.2.1)</a></div>the corresponding <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter____'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i>
of the <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list____'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i> are equivalent and</li><li id='temp.func.order-6.2.1.2.2'><div class='marginalizedparent' style='left:-54mm'><a class='marginalized' href='#temp.func.order-6.2.1.2.2'>(6.2.1.2.2)</a></div>the function parameters that positionally correspond
between the two templates are of the same type,</li></ul>
neither template is more specialized than the other.</li></ul></li><li id='temp.func.order-6.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#temp.func.order-6.2.2'>(6.2.2)</a></div>Otherwise, if the corresponding <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_____'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i>
of the <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_____'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i>
are not equivalent (<a href='#temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>) or
if the function parameters that positionally correspond
between the two templates are not of the same type,
neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.2.sentence-1'>.</a></li></ul></div></div></li><li id='temp.func.order-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.3'>(6.3)</a></div><div class='texpara'><div id='temp.func.order-6.3.sentence-1' class='sentence'>Otherwise, if the context in which the partial ordering is done
is that of a call to a conversion function and
the return types of the templates are not the same,
then neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.3.sentence-1'>.</a></div></div></li><li id='temp.func.order-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.4'>(6.4)</a></div><div class='texpara'><div id='temp.func.order-6.4.sentence-1' class='sentence'>Otherwise,
if one template is more constrained than the other (<a href='temp.constr.order' title='13.5.5&emsp;Partial ordering by constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>order]</a>),
the more constrained template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.4.sentence-1'>.</a></div></div></li><li id='temp.func.order-6.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.5'>(6.5)</a></div><div class='texpara'><div id='temp.func.order-6.5.sentence-1' class='sentence'>Otherwise, neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.5.sentence-1'>.</a></div></div></li></ul></div> <div id='temp.func.order-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> True <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> True<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>C <span class='keyword'>auto</span> <span class='operator'>&amp;</span>, <span class='keyword'>auto</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span>C Q<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>Q <span class='operator'>&amp;</span>, C <span class='keyword'>auto</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>struct</span> A <span class='operator'>*</span>ap, <span class='keyword'>struct</span> B <span class='operator'>*</span>bp<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='operator'>*</span>ap, <span class='operator'>*</span>bp<span class='parenthesis'>)</span>;                  <span class='comment'>// OK: Can use different methods to produce template parameters</span>
<span class='curlybracket'>}</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, C U, <span class='keyword'>typename</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span>, V<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span>C T, C U, C V<span class='anglebracket'>&gt;</span>               <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>T, X<span class='anglebracket'>&lt;</span>U, V<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X<span class='anglebracket'>&lt;</span><span class='keyword'>void</span> <span class='operator'>*</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span>;        <span class='comment'>// OK: Correspondence of [<span class='tcode_in_codeblock'>T</span>, <span class='tcode_in_codeblock'>U</span>, <span class='tcode_in_codeblock'>V</span>] and [<span class='tcode_in_codeblock'>U</span>, <span class='tcode_in_codeblock'>V</span>, <span class='tcode_in_codeblock'>T</span>]</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div><div id='temp.alias' class='section'><h3 ><a class='secnum' href='#temp.alias' style='min-width:80pt'>13.7.8</a> Alias templates <a class='abbr_ref' href='temp.alias'>[temp.alias]</a></h3><div class='para' id='temp.alias-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4034'>#</a></div><div class='texpara'><div id='temp.alias-1.sentence-1' class='sentence'>A <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration'><span class='textsf'><i >template-declaration</i></span></span></a> in which the <a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration'><span class='textsf'><i >declaration</i></span></span></a> is an
<a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration_'><span class='textsf'><i >alias-declaration</i></span></span></a> (<a href='dcl.pre' title='9.1&emsp;Preamble'>[dcl.<span class='shy'></span>pre]</a>) declares the
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a> to be an <a class='hidden_link' href='#def:template,alias' title='13.7.8&emsp;Alias templates&emsp;[temp.alias]'><span id='def:template,alias'><i >alias template</i></span></a><a class='hidden_link' href='#temp.alias-1.sentence-1'>.</a></div> <div id='temp.alias-1.sentence-2' class='sentence'>An alias template is a name for a family of
types<a class='hidden_link' href='#temp.alias-1.sentence-2'>.</a></div> <div id='temp.alias-1.sentence-3' class='sentence'>The name of the alias template is a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name______'><span class='textsf'><i >template-name</i></span></span></a><a class='hidden_link' href='#temp.alias-1.sentence-3'>.</a></div></div></div><div class='para' id='temp.alias-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4041'>#</a></div><div class='texpara'><div id='temp.alias-2.sentence-1' class='sentence'>When a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id____'><span class='textsf'><i >template-id</i></span></span></a> refers to the specialization of
an alias template, it is equivalent to the associated type obtained by
substitution of its <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument______'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i> for the
<a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter______'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i> in the <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id'><span class='textsf'><i >defining-type-id</i></span></span></a> of
the alias template<a class='hidden_link' href='#temp.alias-2.sentence-1'>.</a></div> <div id='temp.alias-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.alias-note-1'>1</a></i>: <div id='temp.alias-2.sentence-2' class='sentence'>An alias template name is never deduced<a class='hidden_link' href='#temp.alias-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.alias-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.alias-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Alloc <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> Vec <span class='operator'>=</span> vector<span class='anglebracket'>&lt;</span>T, Alloc<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
Vec<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v;         <span class='comment'>// same as <span class='tcode_in_codeblock'>vector&lt;int, Alloc&lt;int&gt;&gt; v;</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> process<span class='parenthesis'>(</span>Vec<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>
  <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> process<span class='parenthesis'>(</span>vector<span class='anglebracket'>&lt;</span>T, Alloc<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>
  <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>     <span class='comment'>// error: redefinition</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> TT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>TT<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

f<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;               <span class='comment'>// error: <span class='tcode_in_codeblock'>Vec</span> not deduced</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span>,<span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> TT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>TT<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, Alloc<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
g<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;               <span class='comment'>// OK: <span class='tcode_in_codeblock'>TT</span> = <span class='tcode_in_codeblock'>vector</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.alias-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4075'>#</a></div><div class='texpara'><div id='temp.alias-3.sentence-1' class='sentence'>However, if the <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_____'><span class='textsf'><i >template-id</i></span></span></a> is dependent, subsequent template
argument substitution still applies to the <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id______'><span class='textsf'><i >template-id</i></span></span></a><a class='hidden_link' href='#temp.alias-3.sentence-1'>.</a></div> <div id='temp.alias-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.alias-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> void_t <span class='operator'>=</span> <span class='keyword'>void</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> void_t<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='operator'>::</span>foo<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: <span class='tcode_in_codeblock'>int</span> does not have a nested type <span class='tcode_in_codeblock'>foo</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.alias-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4086'>#</a></div><div class='texpara'><div id='temp.alias-4.sentence-1' class='sentence'>The <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id_'><span class='textsf'><i >defining-type-id</i></span></span></a> in an alias template declaration shall not refer to
the alias template being declared<a class='hidden_link' href='#temp.alias-4.sentence-1'>.</a></div> <div id='temp.alias-4.sentence-2' class='sentence'>The type produced by an alias template
specialization shall not directly or indirectly make use of that specialization<a class='hidden_link' href='#temp.alias-4.sentence-2'>.</a></div> <div id='temp.alias-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.alias-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> B <span class='operator'>=</span> <span class='keyword'>typename</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>U;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> U;
<span class='curlybracket'>}</span>;
B<span class='anglebracket'>&lt;</span><span class='keyword'>short</span><span class='anglebracket'>&gt;</span> b;         <span class='comment'>// error: instantiation of <span class='tcode_in_codeblock'>B&lt;short&gt;</span> uses own type via <span class='tcode_in_codeblock'>A&lt;short&gt;&#x200b;::&#x200b;U</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.alias-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.alias-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4101'>#</a></div><div class='texpara'><div id='temp.alias-5.sentence-1' class='sentence'>The type of a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__'><span class='textsf'><i >lambda-expression</i></span></span></a>
appearing in an alias template declaration
is different between instantiations of that template,
even when the <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___'><span class='textsf'><i >lambda-expression</i></span></span></a> is not dependent<a class='hidden_link' href='#temp.alias-5.sentence-1'>.</a></div> <div id='temp.alias-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.alias-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>using</span> A <span class='operator'>=</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;   <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and <span class='tcode_in_codeblock'>A&lt;char&gt;</span> refer to different closure types</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.concept' class='section'><h3 ><a class='secnum' href='#temp.concept' style='min-width:80pt'>13.7.9</a> Concept definitions <a class='abbr_ref' href='temp.concept'>[temp.concept]</a></h3><div class='para' id='temp.concept-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4115'>#</a></div><div class='texpara'><div id='temp.concept-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:concept' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='def:concept'><i >concept</i></span></a> is a template
that defines constraints on its template arguments<a class='hidden_link' href='#temp.concept-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:concept-definition'>
<a class='hidden_link' href='#nt:concept-definition' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='nt:concept-definition'><span id=':concept-definition'>concept-definition<span class='textnormal'>:</span></span></span></a><br/><span id=':concept'><span class='texttt'><span class='keyword'>concept</span></span></span> <a href='#nt:concept-name' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-name'><span class='textsf'><i >concept-name</i></span></span></a> <span class='terminal'><span class='operator'>=</span></span> <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression_'><span class='textsf'><i >constraint-expression</i></span></span></a> <span class='terminal'>;</span>
</div></div><div class='texpara'><div class='bnf' id='nt:concept-name'>
<a class='hidden_link' href='#nt:concept-name' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='nt:concept-name'><span id=':concept-name'>concept-name<span class='textnormal'>:</span></span></span></a><br/><a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a>
</div></div></div><div class='para' id='temp.concept-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4129'>#</a></div><div class='texpara'><div id='temp.concept-2.sentence-1' class='sentence'>A <a href='#nt:concept-definition' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-definition'><span class='textsf'><i >concept-definition</i></span></span></a>
declares a concept<a class='hidden_link' href='#temp.concept-2.sentence-1'>.</a></div> <div id='temp.concept-2.sentence-2' class='sentence'>Its <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a> becomes a <a href='#nt:concept-name' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-name_'><span class='textsf'><i >concept-name</i></span></span></a>
referring to that concept
within its scope<a class='hidden_link' href='#temp.concept-2.sentence-2'>.</a></div> <div id='temp.concept-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.concept-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span> x <span class='operator'>=</span><span class='operator'>=</span> x <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> std<span class='operator'>::</span><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='tcode_in_codeblock'>convertible_&shy;to</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>     <span class='comment'>// <span class='tcode_in_codeblock'>C</span> constrains <span class='tcode_in_codeblock'>f1(T)</span> in <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression__'><span class='textsf'><i >constraint-expression</i></span></span></a></span>
T f1<span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span>       <span class='comment'>// <span class='tcode_in_codeblock'>C</span>, as a <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint_______'><span class='textsf'><i >type-constraint</i></span></span></a>, constrains <span class='tcode_in_codeblock'>f2(T)</span></span>
T f2<span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.concept-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4151'>#</a></div><div class='texpara'><div id='temp.concept-3.sentence-1' class='sentence'>A <a href='#nt:concept-definition' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-definition_'><span class='textsf'><i >concept-definition</i></span></span></a>
shall inhabit a namespace scope (<a href='basic.scope.namespace' title='6.4.5&emsp;Namespace scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>namespace]</a>)<a class='hidden_link' href='#temp.concept-3.sentence-1'>.</a></div></div></div><div class='para' id='temp.concept-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4155'>#</a></div><div class='texpara'><div id='temp.concept-4.sentence-1' class='sentence'>A concept shall not have <a href='temp.constr.decl#def:associated_constraints' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'>associated constraints</a><a class='hidden_link' href='#temp.concept-4.sentence-1'>.</a></div></div></div><div class='para' id='temp.concept-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4158'>#</a></div><div class='texpara'><div id='temp.concept-5.sentence-1' class='sentence'>A concept is not instantiated (<a href='temp.spec' title='13.9&emsp;Template instantiation and specialization'>[temp.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#temp.concept-5.sentence-1'>.</a></div> <div id='temp.concept-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.concept-note-1'>1</a></i>: <div id='temp.concept-5.sentence-2' class='sentence'>A concept-id (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>) is evaluated as an expression<a class='hidden_link' href='#temp.concept-5.sentence-2'>.</a></div> <div id='temp.concept-5.sentence-3' class='sentence'>A concept cannot be
explicitly instantiated (<a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation'>[temp.<span class='shy'></span>explicit]</a>),
explicitly specialized (<a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization'>[temp.<span class='shy'></span>expl.<span class='shy'></span>spec]</a>),
or partially specialized (<a href='#temp.spec.partial' title='13.7.6&emsp;Partial specialization'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial]</a>)<a class='hidden_link' href='#temp.concept-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.concept-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4168'>#</a></div><div class='texpara'><div id='temp.concept-6.sentence-1' class='sentence'>The <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression___'><span class='textsf'><i >constraint-expression</i></span></span></a> of a <a href='#nt:concept-definition' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-definition__'><span class='textsf'><i >concept-definition</i></span></span></a>
is an unevaluated operand (<a href='expr.context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)<a class='hidden_link' href='#temp.concept-6.sentence-1'>.</a></div></div></div><div class='para' id='temp.concept-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.concept-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/templates.tex#L4172'>#</a></div><div class='texpara'><div id='temp.concept-7.sentence-1' class='sentence'>The first declared template parameter of a concept definition is its
<a class='hidden_link' href='#def:prototype_parameter,concept' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='def:prototype_parameter,concept'><i >prototype parameter</i></span></a><a class='hidden_link' href='#temp.concept-7.sentence-1'>.</a></div> <div id='temp.concept-7.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:concept,type' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='def:concept,type'><i >type concept</i></span></a>
is a concept whose prototype parameter
is a type <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_______'><span class='textsf'><i >template-parameter</i></span></span></a><a class='hidden_link' href='#temp.concept-7.sentence-2'>.</a></div></div></div></div></div></body></html>