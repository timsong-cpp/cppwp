<!DOCTYPE html><html lang='en'><head><title>[diff.cpp17.temp]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='annexnum' style='min-width:50pt'>Annex C&emsp;(informative)</a> Compatibility <a class='abbr_ref' href='./#diff'>[diff]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>C.2</a> C++ and ISO C++ 2017 <a class='abbr_ref' href='diff.cpp17#temp'>[diff.cpp17]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>C.2.8</a> <a href='temp' title='13&emsp;Templates'>[temp]</a>: templates <a class='abbr_ref'>[diff.cpp17.temp]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b4e36f7c5b7498a01b1d068afed0b90b0d46ab32/source/compatibility.tex#L461'>#</a></div><div class='texpara'><b>Affected subclause:</b> <a href='temp.names'>[temp.<span class='shy'></span>names]</a>
<br/> <div id='1.sentence-1' class='sentence'><b>Change:</b> An <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a>
that is followed by a <span class='texttt'><span class='anglebracket'>&lt;</span></span>
and for which name lookup
finds nothing or finds a function
will be treated as a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a>
in order to potentially cause argument dependent lookup to be performed<a class='hidden_link' href='#1.sentence-1'>.</a></div> <br/> <div id='1.sentence-2' class='sentence'><b>Rationale:</b> It was problematic to call a function template
with an explicit template argument list
via argument dependent lookup
because of the need to have a template with the same name
visible via normal lookup<a class='hidden_link' href='#1.sentence-2'>.</a></div> <br/> <div id='1.sentence-3' class='sentence'><b>Effect on original feature:</b> Previously valid code that uses a function name
as the left operand of a <span class='texttt'><span class='anglebracket'>&lt;</span></span> operator
would become ill-formed<a class='hidden_link' href='#1.sentence-3'>.</a></div> <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fp<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>, A<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  f <span class='anglebracket'>&lt;</span> a;    <span class='comment'>// ill-formed; previously well-formed</span>
  <span class='parenthesis'>(</span>f<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> a;  <span class='comment'>// still well formed</span>
<span class='curlybracket'>}</span>
</span></div></div></div></body></html>