<!DOCTYPE html><html lang='en'><head><title>[util.smartptr.shared.assign]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.11</a> Smart pointers <a class='abbr_ref' href='smartptr#util.smartptr.shared.assign'>[smartptr]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>23.11.2</a> Shared-ownership pointers <a class='abbr_ref' href='util.smartptr#shared.assign'>[util.smartptr]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>23.11.2.2</a> Class template <span class='texttt'>shared_&shy;ptr</span> <a class='abbr_ref' href='util.smartptr.shared#assign'>[util.smartptr.shared]</a></h4><h4 ><a class='secnum' style='min-width:133pt'>23.11.2.2.3</a> <span class='texttt'>shared_&shy;ptr</span> assignment <a class='abbr_ref'>[util.smartptr.shared.assign]</a></h4><p ><span class='indexparent'><a class='index' id='lib:operator=,shared_ptr'></a></span><span class='indexparent'><a class='index' id='lib:shared_ptr,operator='></a></span></p><p ><code class='itemdecl'>shared_ptr&amp; operator=(const shared_ptr&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr&amp; operator=(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ad1c6bb8e53bd32bd475d8b199e5ce01b8556f1/source/utilities.tex#L9922'>#</a></div><p ><span class='textit'>Effects:</span> Equivalent to <span class='texttt'>shared_&shy;ptr(r).swap(*this)</span>.</p></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ad1c6bb8e53bd32bd475d8b199e5ce01b8556f1/source/utilities.tex#L9924'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ad1c6bb8e53bd32bd475d8b199e5ce01b8556f1/source/utilities.tex#L9926'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
The use count updates caused by the temporary object
construction and destruction are not observable side
effects, so the implementation may meet the effects (and the
implied guarantees) via different means, without creating a
temporary. In particular, in the example:
</p><pre class='codeblock'>
shared_ptr&lt;int&gt; p(new int);
shared_ptr&lt;void&gt; q(p);
p = p;
q = p;</pre><p >both assignments may be no-ops. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:operator=,shared_ptr_'></a></span><span class='indexparent'><a class='index' id='lib:shared_ptr,operator=_'></a></span></p><p ><code class='itemdecl'>shared_ptr&amp; operator=(shared_ptr&amp;&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr&amp; operator=(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ad1c6bb8e53bd32bd475d8b199e5ce01b8556f1/source/utilities.tex#L9948'>#</a></div><p ><span class='textit'>Effects:</span> Equivalent to <span class='texttt'>shared_&shy;ptr(std&#x200b;::&#x200b;move(r)).swap(*this)</span>.</p></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ad1c6bb8e53bd32bd475d8b199e5ce01b8556f1/source/utilities.tex#L9951'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:operator=,shared_ptr__'></a></span><span class='indexparent'><a class='index' id='lib:shared_ptr,operator=__'></a></span></p><p ><code class='itemdecl'>template &lt;class Y, class D&gt; shared_ptr&amp; operator=(unique_ptr&lt;Y, D&gt;&amp;&amp; r);
</code></p><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ad1c6bb8e53bd32bd475d8b199e5ce01b8556f1/source/utilities.tex#L9961'>#</a></div><p ><span class='textit'>Effects:</span> Equivalent to <span class='texttt'>shared_&shy;ptr(std&#x200b;::&#x200b;move(r)).swap(*this)</span>.</p></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ad1c6bb8e53bd32bd475d8b199e5ce01b8556f1/source/utilities.tex#L9964'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>*this</span>.
</p></div></div></div></body></html>