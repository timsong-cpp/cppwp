<!DOCTYPE html><html lang='en'><head><title>[utilities]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><div id='utilities'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><div id='general'><h2 ><a class='secnum' href='#general' style='min-width:88pt'>20.1</a> General <a class='abbr_ref' href='utilities.general'>[utilities.general]</a></h2><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6'>#</a></div><p >This Clause describes utilities that are generally useful in C++ programs; some
of these utilities are used by other elements of the C++ standard library.
These utilities are summarized in Table <a href='#tab:util.lib.summary'>[tab:util.lib.summary]</a>.</p><div class='numberedTable' id='tab:util.lib.summary'>Table <a href='#tab:util.lib.summary'>34</a> — General utilities library summary<br><table ><tr class='rowsep'><td colspan='2' class='center'><b>Subclause</b></td><td class='left'>	<b>Header(s)</b>	</td></tr><tr class='capsep'><td class='left'> 


<a href='utility'>[utility]</a>               </td><td class='left'> Utility components                </td><td class='left'> <span class='texttt'>&lt;utility&gt;</span>     </td></tr><tr class='rowsep'><td class='left'> 
<a href='intseq'>[intseq]</a>                </td><td class='left'> Compile-time integer sequences    </td><td class='left'> <span class='texttt'>&lt;utility&gt;</span>     </td></tr><tr class='rowsep'><td class='left'> 
<a href='pairs'>[pairs]</a>                 </td><td class='left'> Pairs                             </td><td class='left'> <span class='texttt'>&lt;utility&gt;</span>     </td></tr><tr class='rowsep'><td class='left'> 
<a href='tuple'>[tuple]</a>                 </td><td class='left'> Tuples                            </td><td class='left'> <span class='texttt'>&lt;tuple&gt;</span>       </td></tr><tr class='rowsep'><td class='left'> 
<a href='optional'>[optional]</a>              </td><td class='left'> Optional objects                  </td><td class='left'> <span class='texttt'>&lt;optional&gt;</span>    </td></tr><tr class='rowsep'><td class='left'> 
<a href='variant'>[variant]</a>               </td><td class='left'> Variants                          </td><td class='left'> <span class='texttt'>&lt;variant&gt;</span>     </td></tr><tr class='rowsep'><td class='left'> 
<a href='any'>[any]</a>                   </td><td class='left'> Storage for any type              </td><td class='left'> <span class='texttt'>&lt;any&gt;</span>         </td></tr><tr class='rowsep'><td class='left'> 
<a href='template.bitset'>[template.bitset]</a>       </td><td class='left'> Fixed-size sequences of bits      </td><td class='left'> <span class='texttt'>&lt;bitset&gt;</span>      </td></tr><tr class='rowsep'><td class='left'> 
<a href='memory'>[memory]</a>                </td><td class='left'> Memory                            </td><td class='left'> <span class='texttt'>&lt;memory&gt;</span>      </td></tr><tr ><td class='left'>
                            </td><td class='left'>                                   </td><td class='left'> <span class='texttt'>&lt;cstdlib&gt;</span>     </td></tr><tr ><td class='left'>
<a href='smartptr'>[smartptr]</a>              </td><td class='left'> Smart pointers                    </td><td class='left'> <span class='texttt'>&lt;memory&gt;</span>      </td></tr><tr class='rowsep'><td class='left'> 
<a href='mem.res'>[mem.res]</a>               </td><td class='left'> Memory resources                  </td><td class='left'> <span class='texttt'>&lt;memory_resource&gt;</span> </td></tr><tr class='rowsep'><td class='left'> 
<a href='allocator.adaptor'>[allocator.adaptor]</a>     </td><td class='left'> Scoped allocators                 </td><td class='left'> <span class='texttt'>&lt;scoped_allocator&gt;</span> </td></tr><tr class='rowsep'><td class='left'> 
<a href='function.objects'>[function.objects]</a>      </td><td class='left'> Function objects                  </td><td class='left'> <span class='texttt'>&lt;functional&gt;</span>  </td></tr><tr class='rowsep'><td class='left'> 
<a href='meta'>[meta]</a>                  </td><td class='left'> Type traits                       </td><td class='left'> <span class='texttt'>&lt;type_traits&gt;</span> </td></tr><tr class='rowsep'><td class='left'> 
<a href='ratio'>[ratio]</a>                 </td><td class='left'> Compile-time rational arithmetic  </td><td class='left'> <span class='texttt'>&lt;ratio&gt;</span>       </td></tr><tr class='rowsep'><td class='left'> 
<a href='time'>[time]</a>                  </td><td class='left'> Time utilities                    </td><td class='left'> <span class='texttt'>&lt;chrono&gt;</span>      </td></tr><tr ><td class='left'>
                            </td><td class='left'>                                   </td><td class='left'> <span class='texttt'>&lt;ctime&gt;</span>       </td></tr><tr class='rowsep'><td class='left'> 
<a href='type.index'>[type.index]</a>            </td><td class='left'> Type indexes                      </td><td class='left'> <span class='texttt'>&lt;typeindex&gt;</span>   </td></tr><tr class='rowsep'><td class='left'> 
<a href='execpol'>[execpol]</a>               </td><td class='left'> Execution policies                </td><td class='left'> <span class='texttt'>&lt;execution&gt;</span>   </td></tr></table></div></div></div><div id='utility'><h2 ><a class='secnum' href='#utility' style='min-width:88pt'>20.2</a> Utility components <a class='abbr_ref' href='utility'>[utility]</a></h2><div class='para' id='utility-1'><div class='marginalizedparent'><a class='marginalized' href='#utility-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L36'>#</a></div><p >This subclause contains some basic function and class templates that are used
throughout the rest of the library.</p><p ><span class='indexparent'><a class='index' id='utility'></a></span><span class='indexparent'><a class='index' id='utility'></a></span><span class='indexparent'><a class='index' id='rel_ops'></a></span></p></div><div id='utility.syn'><h3 ><a class='secnum' href='#utility.syn' style='min-width:103pt'>20.2.1</a> Header <span class='texttt'>&lt;utility&gt;</span> synopsis <a class='abbr_ref' href='utility.syn'>[utility.syn]</a></h3><pre class='codeblock'>
#include &lt;initializer_list&gt;     <span class='comment'>// see <a href='initializer_list.syn'>[initializer_list.syn]</a>
</span>
namespace std {
  <span class='comment'>// <a href='operators'>[operators]</a>, operators
</span>  namespace rel_ops {
    template&lt;class T&gt; bool operator!=(const T&amp;, const T&amp;);
    template&lt;class T&gt; bool operator&gt; (const T&amp;, const T&amp;);
    template&lt;class T&gt; bool operator&lt;=(const T&amp;, const T&amp;);
    template&lt;class T&gt; bool operator&gt;=(const T&amp;, const T&amp;);
  }

  <span class='comment'>// <a href='utility.swap'>[utility.swap]</a>, swap
</span>  template &lt;class T&gt;
    void swap(T&amp; a, T&amp; b) noexcept(<i><span class='texttt'>see below</span></i>);
  template &lt;class T, size_t N&gt;
    void swap(T (&amp;a)[N], T (&amp;b)[N]) noexcept(is_nothrow_swappable_v&lt;T&gt;);

  <span class='comment'>// <a href='utility.exchange'>[utility.exchange]</a>, exchange
</span>  template &lt;class T, class U = T&gt;
    T exchange(T&amp; obj, U&amp;&amp; new_val);

  <span class='comment'>// <a href='forward'>[forward]</a>, forward/move
</span>  template &lt;class T&gt;
    constexpr T&amp;&amp; forward(remove_reference_t&lt;T&gt;&amp; t) noexcept;
  template &lt;class T&gt;
    constexpr T&amp;&amp; forward(remove_reference_t&lt;T&gt;&amp;&amp; t) noexcept;
  template &lt;class T&gt;
    constexpr remove_reference_t&lt;T&gt;&amp;&amp; move(T&amp;&amp;) noexcept;
  template &lt;class T&gt;
    constexpr conditional_t&lt;
        !is_nothrow_move_constructible_v&lt;T&gt; &amp;&amp; is_copy_constructible_v&lt;T&gt;, const T&amp;, T&amp;&amp;&gt;
      move_if_noexcept(T&amp; x) noexcept;

  <span class='comment'>// <a href='utility.as_const'>[utility.as_const]</a>, as_const
</span>  template &lt;class T&gt;
    constexpr add_const_t&lt;T&gt;&amp; as_const(T&amp; t) noexcept;
  template &lt;class T&gt;
    void as_const(const T&amp;&amp;) = delete;

  <span class='comment'>// <a href='declval'>[declval]</a>, declval
</span>  template &lt;class T&gt;
    add_rvalue_reference_t&lt;T&gt; declval() noexcept;  <span class='comment'>// as unevaluated operand
</span><span class='indexparent'><a class='index' id='index_sequence'></a></span><span class='indexparent'><a class='index' id='make_index_sequence'></a></span><span class='indexparent'><a class='index' id='index_sequence_for'></a></span>
  <span class='comment'>// <a href='intseq'>[intseq]</a>, Compile-time integer sequences
</span>  template&lt;class T, T...&gt;
    struct integer_sequence;
  template&lt;size_t... I&gt;
    using index_sequence = integer_sequence&lt;size_t, I...&gt;;

  template&lt;class T, T N&gt;
    using make_integer_sequence = integer_sequence&lt;T, <i><span class='texttt'>see below</span></i>&gt;;
  template&lt;size_t N&gt;
    using make_index_sequence = make_integer_sequence&lt;size_t, N&gt;;

  template&lt;class... T&gt;
    using index_sequence_for = make_index_sequence&lt;sizeof...(T)&gt;;

  <span class='comment'>// <a href='pairs'>[pairs]</a>, class template <span class='texttt'>pair</span>
</span>  template &lt;class T1, class T2&gt;
    struct pair;

  <span class='comment'>// <a href='pairs.spec'>[pairs.spec]</a>, pair specialized algorithms
</span>  template &lt;class T1, class T2&gt;
    constexpr bool operator==(const pair&lt;T1, T2&gt;&amp;, const pair&lt;T1, T2&gt;&amp;);
  template &lt;class T1, class T2&gt;
    constexpr bool operator&lt; (const pair&lt;T1, T2&gt;&amp;, const pair&lt;T1, T2&gt;&amp;);
  template &lt;class T1, class T2&gt;
    constexpr bool operator!=(const pair&lt;T1, T2&gt;&amp;, const pair&lt;T1, T2&gt;&amp;);
  template &lt;class T1, class T2&gt;
    constexpr bool operator&gt; (const pair&lt;T1, T2&gt;&amp;, const pair&lt;T1, T2&gt;&amp;);
  template &lt;class T1, class T2&gt;
    constexpr bool operator&gt;=(const pair&lt;T1, T2&gt;&amp;, const pair&lt;T1, T2&gt;&amp;);
  template &lt;class T1, class T2&gt;
    constexpr bool operator&lt;=(const pair&lt;T1, T2&gt;&amp;, const pair&lt;T1, T2&gt;&amp;);

  template &lt;class T1, class T2&gt;
    void swap(pair&lt;T1, T2&gt;&amp; x, pair&lt;T1, T2&gt;&amp; y) noexcept(noexcept(x.swap(y)));

  template &lt;class T1, class T2&gt;
    constexpr <i><span class='texttt'>see below</span></i> make_pair(T1&amp;&amp;, T2&amp;&amp;);

  <span class='comment'>// <a href='pair.astuple'>[pair.astuple]</a>, tuple-like access to pair
</span>  template &lt;class T&gt; class tuple_size;
  template &lt;size_t I, class T&gt; class tuple_element;

  template &lt;class T1, class T2&gt; struct tuple_size&lt;pair&lt;T1, T2&gt;&gt;;
  template &lt;class T1, class T2&gt; struct tuple_element&lt;0, pair&lt;T1, T2&gt;&gt;;
  template &lt;class T1, class T2&gt; struct tuple_element&lt;1, pair&lt;T1, T2&gt;&gt;;

  template&lt;size_t I, class T1, class T2&gt;
    constexpr tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp; get(pair&lt;T1, T2&gt;&amp;) noexcept;
  template&lt;size_t I, class T1, class T2&gt;
    constexpr tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp;&amp; get(pair&lt;T1, T2&gt;&amp;&amp;) noexcept;
  template&lt;size_t I, class T1, class T2&gt;
    constexpr const tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp; get(const pair&lt;T1, T2&gt;&amp;) noexcept;
  template&lt;size_t I, class T1, class T2&gt;
    constexpr const tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp;&amp; get(const pair&lt;T1, T2&gt;&amp;&amp;) noexcept;
  template &lt;class T1, class T2&gt;
    constexpr T1&amp; get(pair&lt;T1, T2&gt;&amp; p) noexcept;
  template &lt;class T1, class T2&gt;
    constexpr const T1&amp; get(const pair&lt;T1, T2&gt;&amp; p) noexcept;
  template &lt;class T1, class T2&gt;
    constexpr T1&amp;&amp; get(pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
  template &lt;class T1, class T2&gt;
    constexpr const T1&amp;&amp; get(const pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
  template &lt;class T2, class T1&gt;
    constexpr T2&amp; get(pair&lt;T1, T2&gt;&amp; p) noexcept;
  template &lt;class T2, class T1&gt;
    constexpr const T2&amp; get(const pair&lt;T1, T2&gt;&amp; p) noexcept;
  template &lt;class T2, class T1&gt;
    constexpr T2&amp;&amp; get(pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
  template &lt;class T2, class T1&gt;
    constexpr const T2&amp;&amp; get(const pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;

  <span class='comment'>// <a href='pair.piecewise'>[pair.piecewise]</a>, pair piecewise construction
</span>  struct piecewise_construct_t {
    explicit piecewise_construct_t() = default;
  };
  constexpr piecewise_construct_t piecewise_construct{};
  template &lt;class... Types&gt; class tuple;        <span class='comment'>// defined in <span class='texttt'>&lt;tuple&gt;</span> (<a href='tuple.syn'>[tuple.syn]</a>)
</span>
  <span class='comment'>// in-place construction
</span>  struct in_place_t {
    explicit in_place_t() = default;
  };
  inline constexpr in_place_t in_place{};
  template &lt;class T&gt;
    struct in_place_type_t {
      explicit in_place_type_t() = default;
    };
  template &lt;class T&gt; inline constexpr in_place_type_t&lt;T&gt; in_place_type{};
  template &lt;size_t I&gt;
    struct in_place_index_t {
      explicit in_place_index_t() = default;
    };
  template &lt;size_t I&gt; inline constexpr in_place_index_t&lt;I&gt; in_place_index{};

<span class='indexparent'><a class='index' id='chars_format'></a></span><span class='indexparent'><a class='index' id='scientific,chars_format'></a></span><span class='indexparent'><a class='index' id='chars_format,scientific'></a></span><span class='indexparent'><a class='index' id='fixed,chars_format'></a></span><span class='indexparent'><a class='index' id='chars_format,fixed'></a></span><span class='indexparent'><a class='index' id='hex,chars_format'></a></span><span class='indexparent'><a class='index' id='chars_format,hex'></a></span><span class='indexparent'><a class='index' id='general,chars_format'></a></span><span class='indexparent'><a class='index' id='chars_format,general'></a></span>
  <span class='comment'>// floating-point format for primitive numerical conversion
</span>  enum class chars_format {
    scientific = <i><span class='texttt'>unspecified</span></i>,
    fixed = <i><span class='texttt'>unspecified</span></i>,
    hex = <i><span class='texttt'>unspecified</span></i>,
    general = fixed | scientific
  };

<span class='indexparent'><a class='index' id='to_chars_result'></a></span><span class='indexparent'><a class='index' id='ptr,to_chars_result'></a></span><span class='indexparent'><a class='index' id='to_chars_result,ptr'></a></span><span class='indexparent'><a class='index' id='ec,to_chars_result'></a></span><span class='indexparent'><a class='index' id='to_chars_result,ec'></a></span>

  <span class='comment'>// <a href='utility.to.chars'>[utility.to.chars]</a>, primitive numerical output conversion
</span>  struct to_chars_result {
    char* ptr;
    error_code ec;
  };

  to_chars_result to_chars(char* first, char* last, <i><span class='texttt'>see below</span></i> value, int base = 10);

  to_chars_result to_chars(char* first, char* last, float value);
  to_chars_result to_chars(char* first, char* last, double value);
  to_chars_result to_chars(char* first, char* last, long double value);

  to_chars_result to_chars(char* first, char* last, float value,
                           chars_format fmt);
  to_chars_result to_chars(char* first, char* last, double value,
                           chars_format fmt);
  to_chars_result to_chars(char* first, char* last, long double value,
                           chars_format fmt);

  to_chars_result to_chars(char* first, char* last, float value,
                           chars_format fmt, int precision);
  to_chars_result to_chars(char* first, char* last, double value,
                           chars_format fmt, int precision);
  to_chars_result to_chars(char* first, char* last, long double value,
                           chars_format fmt, int precision);

<span class='indexparent'><a class='index' id='from_chars_result'></a></span><span class='indexparent'><a class='index' id='ptr,from_chars_result'></a></span><span class='indexparent'><a class='index' id='from_chars_result,ptr'></a></span><span class='indexparent'><a class='index' id='ec,from_chars_result'></a></span><span class='indexparent'><a class='index' id='from_chars_result,ec'></a></span>

  <span class='comment'>// <a href='utility.from.chars'>[utility.from.chars]</a>, primitive numerical input conversion
</span>  struct from_chars_result {
    const char* ptr;
    error_code ec;
  };

  from_chars_result from_chars(const char* first, const char* last,
                               <i><span class='texttt'>see below</span></i>&amp; value, int base = 10);

  from_chars_result from_chars(const char* first, const char* last, float&amp; value,
                               chars_format fmt = chars_format::general);
  from_chars_result from_chars(const char* first, const char* last, double&amp; value,
                               chars_format fmt = chars_format::general);
  from_chars_result from_chars(const char* first, const char* last, long double&amp; value,
                               chars_format fmt = chars_format::general);
}</pre><div class='para' id='utility.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#utility.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L253'>#</a></div><p >The header <span class='texttt'>&lt;utility&gt;</span> defines several types and function templates
that are described in this Clause. It also defines the template <span class='texttt'>pair</span>
and various function templates that operate on <span class='texttt'>pair</span> objects.</p></div><div class='para' id='utility.syn-2'><div class='marginalizedparent'><a class='marginalized' href='#utility.syn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L258'>#</a></div><p >The type <span class='texttt'>chars_format</span>
is a bitmask type (<a href='bitmask.types'>[bitmask.types]</a>)
with elements
<span class='texttt'>scientific</span>,
<span class='texttt'>fixed</span>,
and <span class='texttt'>hex</span>.</p></div></div><div id='operators'><h3 ><a class='secnum' href='#operators' style='min-width:103pt'>20.2.2</a> Operators <a class='abbr_ref' href='operators'>[operators]</a></h3><div class='para' id='operators-1'><div class='marginalizedparent'><a class='marginalized' href='#operators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L268'>#</a></div><p >To avoid redundant definitions of <span class='texttt'>operator!=</span> out of <span class='texttt'>operator==</span>
and operators <span class='texttt'>&gt;</span>, <span class='texttt'>&lt;=</span>, and <span class='texttt'>&gt;=</span> out of <span class='texttt'>operator&lt;</span>,
the library provides the following:</p><p ><span class='indexparent'><a class='index' id='operator!='></a></span><code class='itemdecl'>
template &lt;class T&gt; bool operator!=(const T&amp; x, const T&amp; y);
</code></p></div><div class='itemdescr'></div><div class='para' id='operators-2'><div class='marginalizedparent'><a class='marginalized' href='#operators-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L279'>#</a></div><p ><i>Requires:</i>
Type <span class='texttt'>T</span> is <span class='texttt'>EqualityComparable</span> (Table <a href='utility.arg.requirements#tab:equalitycomparable'>[tab:equalitycomparable]</a>).</p></div></div><div class='para' id='operators-3'><div class='marginalizedparent'><a class='marginalized' href='#operators-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L283'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!(x == y)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>'></a></span><code class='itemdecl'>
template &lt;class T&gt; bool operator&gt;(const T&amp; x, const T&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='operators-4'><div class='marginalizedparent'><a class='marginalized' href='#operators-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L294'>#</a></div><p ><i>Requires:</i>
Type <span class='texttt'>T</span> is <span class='texttt'>LessThanComparable</span> (Table <a href='utility.arg.requirements#tab:lessthancomparable'>[tab:lessthancomparable]</a>).</p></div></div><div class='para' id='operators-5'><div class='marginalizedparent'><a class='marginalized' href='#operators-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L298'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>y &lt; x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<='></a></span><code class='itemdecl'>
template &lt;class T&gt; bool operator&lt;=(const T&amp; x, const T&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='operators-6'><div class='marginalizedparent'><a class='marginalized' href='#operators-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L309'>#</a></div><p ><i>Requires:</i>
Type <span class='texttt'>T</span> is <span class='texttt'>LessThanComparable</span> (Table <a href='utility.arg.requirements#tab:lessthancomparable'>[tab:lessthancomparable]</a>).</p></div></div><div class='para' id='operators-7'><div class='marginalizedparent'><a class='marginalized' href='#operators-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L313'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!(y &lt; x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>='></a></span><code class='itemdecl'>
template &lt;class T&gt; bool operator&gt;=(const T&amp; x, const T&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='operators-8'><div class='marginalizedparent'><a class='marginalized' href='#operators-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L324'>#</a></div><p ><i>Requires:</i>
Type <span class='texttt'>T</span> is <span class='texttt'>LessThanComparable</span> (Table <a href='utility.arg.requirements#tab:lessthancomparable'>[tab:lessthancomparable]</a>).</p></div></div><div class='para' id='operators-9'><div class='marginalizedparent'><a class='marginalized' href='#operators-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L328'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!(x &lt; y)</span>.
</p></div></div><div class='para' id='operators-10'><div class='marginalizedparent'><a class='marginalized' href='#operators-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L333'>#</a></div><p >In this library, whenever a declaration is provided for an <span class='texttt'>operator!=</span>,
<span class='texttt'>operator&gt;</span>, <span class='texttt'>operator&gt;=</span>, or <span class='texttt'>operator&lt;=</span>,
and requirements and semantics are not explicitly provided,
the requirements and semantics are as specified in this Clause.</p></div></div><div id='utility.swap'><h3 ><a class='secnum' href='#utility.swap' style='min-width:103pt'>20.2.3</a> <span class='texttt'>swap</span> <a class='abbr_ref' href='utility.swap'>[utility.swap]</a></h3><p ><span class='indexparent'><a class='index' id='swap'></a></span><code class='itemdecl'>
template &lt;class T&gt;
  void swap(T&amp; a, T&amp; b) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='utility.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#utility.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L348'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>is_move_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_move_assignable_v&lt;T&gt;</span> is <span class='texttt'>true</span>.
The expression inside <span class='texttt'>noexcept</span> is equivalent to:</p><pre class='codeblock'>
is_nothrow_move_constructible_v&lt;T&gt; &amp;&amp; is_nothrow_move_assignable_v&lt;T&gt;</pre></div></div><div class='para' id='utility.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#utility.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L358'>#</a></div><p ><i>Requires:</i>
Type
<span class='texttt'>T</span>
shall be
<span class='texttt'>MoveConstructible</span> (Table <a href='utility.arg.requirements#tab:moveconstructible'>[tab:moveconstructible]</a>)
and
<span class='texttt'>MoveAssignable</span> (Table <a href='utility.arg.requirements#tab:moveassignable'>[tab:moveassignable]</a>).</p></div></div><div class='para' id='utility.swap-3'><div class='marginalizedparent'><a class='marginalized' href='#utility.swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L367'>#</a></div><p ><i>Effects:</i>
Exchanges values stored in two locations.
</p></div></div><p ><span class='indexparent'><a class='index' id='swap'></a></span><code class='itemdecl'>
template &lt;class T, size_t N&gt;
  void swap(T (&amp;a)[N], T (&amp;b)[N]) noexcept(is_nothrow_swappable_v&lt;T&gt;);
</code></p><div class='itemdescr'></div><div class='para' id='utility.swap-4'><div class='marginalizedparent'><a class='marginalized' href='#utility.swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L379'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution
unless <span class='texttt'>is_swappable_v&lt;T&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='utility.swap-5'><div class='marginalizedparent'><a class='marginalized' href='#utility.swap-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L384'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>a[i]</span> shall be swappable with (<a href='swappable.requirements'>[swappable.requirements]</a>) <span class='texttt'>b[i]</span>
for all <span class='texttt'>i</span> in the range <span class='texttt'>[0, N)</span>.</p></div></div><div class='para' id='utility.swap-6'><div class='marginalizedparent'><a class='marginalized' href='#utility.swap-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L389'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>swap_ranges(a, a + N, b)</span>.
</p></div></div></div><div id='utility.exchange'><h3 ><a class='secnum' href='#utility.exchange' style='min-width:103pt'>20.2.4</a> <span class='texttt'>exchange</span> <a class='abbr_ref' href='utility.exchange'>[utility.exchange]</a></h3><p ><span class='indexparent'><a class='index' id='exchange'></a></span><code class='itemdecl'>
template &lt;class T, class U = T&gt; T exchange(T&amp; obj, U&amp;&amp; new_val);
</code></p><div class='itemdescr'></div><div class='para' id='utility.exchange-1'><div class='marginalizedparent'><a class='marginalized' href='#utility.exchange-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L401'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
T old_val = std::move(obj);
obj = std::forward&lt;U&gt;(new_val);
return old_val;</pre></div></div></div><div id='forward'><h3 ><a class='secnum' href='#forward' style='min-width:103pt'>20.2.5</a> Forward/move helpers <a class='abbr_ref' href='forward'>[forward]</a></h3><div class='para' id='forward-1'><div class='marginalizedparent'><a class='marginalized' href='#forward-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L414'>#</a></div><p >The library provides templated helper functions to simplify
applying move semantics to an lvalue and to simplify the implementation
of forwarding functions.</p><p ><span class='indexparent'><a class='index' id='forward'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr T&amp;&amp; forward(remove_reference_t&lt;T&gt;&amp; t) noexcept;
template &lt;class T&gt; constexpr T&amp;&amp; forward(remove_reference_t&lt;T&gt;&amp;&amp; t) noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='forward-2'><div class='marginalizedparent'><a class='marginalized' href='#forward-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L426'>#</a></div><p ><i>Returns:</i> <span class='texttt'>static_cast&lt;T&amp;&amp;&gt;(t)</span>.</p></div></div><div class='para' id='forward-3'><div class='marginalizedparent'><a class='marginalized' href='#forward-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L429'>#</a></div><p ><i>Remarks:</i> If the second form is instantiated with an lvalue reference type, the program is ill-formed.</p></div></div><div class='para' id='forward-4'><div class='marginalizedparent'><a class='marginalized' href='#forward-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L432'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
template &lt;class T, class A1, class A2&gt;
shared_ptr&lt;T&gt; factory(A1&amp;&amp; a1, A2&amp;&amp; a2) {
  return shared_ptr&lt;T&gt;(new T(std::forward&lt;A1&gt;(a1), std::forward&lt;A2&gt;(a2)));
}

struct A {
  A(int&amp;, const double&amp;);
};

void g() {
  shared_ptr&lt;A&gt; sp1 = factory&lt;A&gt;(2, 1.414); <span class='comment'>// error: 2 will not bind to <span class='texttt'>int&amp;</span>
</span>  int i = 2;
  shared_ptr&lt;A&gt; sp2 = factory&lt;A&gt;(i, 1.414); <span class='comment'>// OK
</span>}</pre><p >In the first call to <span class='texttt'>factory</span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'>int</span>, so 2 is forwarded
to <span class='texttt'>A</span>'s constructor as an rvalue.
In the second call to <span class='texttt'>factory</span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'>int&amp;</span>, so <span class='texttt'>i</span> is forwarded
to <span class='texttt'>A</span>'s constructor as an lvalue. In
both cases, <span class='texttt'>A2</span> is deduced as <span class='texttt'>double</span>, so
1.414 is forwarded to <span class='texttt'>A</span>'s constructor as an rvalue.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='move,function'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr remove_reference_t&lt;T&gt;&amp;&amp; move(T&amp;&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='forward-5'><div class='marginalizedparent'><a class='marginalized' href='#forward-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L467'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>static_cast&lt;remove_reference_t&lt;T&gt;&amp;&amp;&gt;(t)</span>.</p></div></div><div class='para' id='forward-6'><div class='marginalizedparent'><a class='marginalized' href='#forward-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L471'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
template &lt;class T, class A1&gt;
shared_ptr&lt;T&gt; factory(A1&amp;&amp; a1) {
  return shared_ptr&lt;T&gt;(new T(std::forward&lt;A1&gt;(a1)));
}

struct A {
  A();
  A(const A&amp;);      <span class='comment'>// copies from lvalues
</span>  A(A&amp;&amp;);           <span class='comment'>// moves from rvalues
</span>};

void g() {
  A a;
  shared_ptr&lt;A&gt; sp1 = factory&lt;A&gt;(a);                <span class='comment'>// “<span class='texttt'>a</span>” binds to <span class='texttt'>A(const A&amp;)</span>
</span>  shared_ptr&lt;A&gt; sp1 = factory&lt;A&gt;(std::move(a));     <span class='comment'>// “<span class='texttt'>a</span>” binds to <span class='texttt'>A(A&amp;&amp;)</span>
</span>}</pre><p >In the first call to <span class='texttt'>factory</span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'>A&amp;</span>, so <span class='texttt'>a</span> is forwarded
as a non-const lvalue. This binds to the constructor <span class='texttt'>A(const A&amp;)</span>,
which copies the value from <span class='texttt'>a</span>.
In the second call to <span class='texttt'>factory</span>, because of the call
<span class='texttt'>std::move(a)</span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'>A</span>, so <span class='texttt'>a</span> is forwarded
as an rvalue. This binds to the constructor <span class='texttt'>A(A&amp;&amp;)</span>,
which moves the value from <span class='texttt'>a</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='move_if_noexcept'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr conditional_t&lt;
    !is_nothrow_move_constructible_v&lt;T&gt; &amp;&amp; is_copy_constructible_v&lt;T&gt;, const T&amp;, T&amp;&amp;&gt;
  move_if_noexcept(T&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='forward-7'><div class='marginalizedparent'><a class='marginalized' href='#forward-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L511'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::move(x)</span>.
</p></div></div></div><div id='utility.as_const'><h3 ><a class='secnum' href='#utility.as_const' style='min-width:103pt'>20.2.6</a> Function template <span class='texttt'>as_const</span> <a class='abbr_ref' href='utility.as_const'>[utility.as_const]</a></h3><p ><span class='indexparent'><a class='index' id='as_const'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr add_const_t&lt;T&gt;&amp; as_const(T&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='utility.as_const-1'><div class='marginalizedparent'><a class='marginalized' href='#utility.as_const-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L523'>#</a></div><p ><i>Returns:</i> <span class='texttt'>t</span>.
</p></div></div></div><div id='declval'><h3 ><a class='secnum' href='#declval' style='min-width:103pt'>20.2.7</a> Function template <span class='texttt'>declval</span> <a class='abbr_ref' href='declval'>[declval]</a></h3><div class='para' id='declval-1'><div class='marginalizedparent'><a class='marginalized' href='#declval-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L529'>#</a></div><p >The library provides the function template <span class='texttt'>declval</span> to simplify the definition of
expressions which occur as unevaluated operands (Clause <a href='expr'>[expr]</a>).</p><p ><span class='indexparent'><a class='index' id='declval'></a></span><code class='itemdecl'>
template &lt;class T&gt; add_rvalue_reference_t&lt;T&gt; declval() noexcept;    <span class='comment'>// as unevaluated operand
</span></code></p></div><div class='itemdescr'></div><div class='para' id='declval-2'><div class='marginalizedparent'><a class='marginalized' href='#declval-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L539'>#</a></div><p ><i>Remarks:</i> If this function is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>), the program is ill-formed.</p></div></div><div class='para' id='declval-3'><div class='marginalizedparent'><a class='marginalized' href='#declval-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L542'>#</a></div><p ><i>Remarks:</i> The template parameter <span class='texttt'>T</span> of <span class='texttt'>declval</span> may be an incomplete type.
</p></div></div><div class='para' id='declval-4'><div class='marginalizedparent'><a class='marginalized' href='#declval-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L546'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
template &lt;class To, class From&gt; decltype(static_cast&lt;To&gt;(declval&lt;From&gt;())) convert(From&amp;&amp;);</pre><p >declares a function template <span class='texttt'>convert</span> which only participates in overloading if the
type <span class='texttt'>From</span> can be explicitly converted to type <span class='texttt'>To</span>. For another example see class
template <span class='texttt'>common_type</span> (<a href='meta.trans.other'>[meta.trans.other]</a>).
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='utility.to.chars'><h3 ><a class='secnum' href='#utility.to.chars' style='min-width:103pt'>20.2.8</a> Primitive numeric output conversion <a class='abbr_ref' href='utility.to.chars'>[utility.to.chars]</a></h3><div class='para' id='utility.to.chars-1'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L558'>#</a></div><p >All functions named <span class='texttt'>to_chars</span>
convert <span class='texttt'>value</span> into a character string
by successively filling the range
<span class='texttt'>[first, last)</span>,
where <span class='texttt'>[first, last)</span> is required to be a valid range.
If the member <span class='texttt'>ec</span>
of the return value
is such that the value,
when converted to <span class='texttt'>bool</span>,
is <span class='texttt'>false</span>,
the conversion was successful
and the member <span class='texttt'>ptr</span>
is the one-past-the-end pointer of the characters written.
Otherwise,
the member <span class='texttt'>ec</span> has the value <span class='texttt'>errc::value_too_large</span>,
the member <span class='texttt'>ptr</span> has the value <span class='texttt'>last</span>,
and the contents of the range <span class='texttt'>[first, last)</span> are unspecified.</p></div><div class='para' id='utility.to.chars-2'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L577'>#</a></div><p >The functions that take a floating-point <span class='texttt'>value</span>
but not a <span class='texttt'>precision</span> parameter
ensure that the string representation
consists of the smallest number of characters
such that
there is at least one digit before the radix point (if present) and
parsing the representation using the corresponding <span class='texttt'>from_chars</span> function
recovers <span class='texttt'>value</span> exactly.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
This guarantee applies only if
<span class='texttt'>to_chars</span> and <span class='texttt'>from_chars</span>
are executed on the same implementation.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='utility.to.chars-3'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L592'>#</a></div><p >The functions taking a <span class='texttt'>chars_format</span> parameter
determine the conversion specifier for <span class='texttt'>printf</span> as follows:
The conversion specifier is
<span class='texttt'>f</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_format::fixed</span>,
<span class='texttt'>e</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_format::scientific</span>,
<span class='texttt'>a</span> (without leading <span class='texttt'>"0x"</span> in the result)
if <span class='texttt'>fmt</span> is <span class='texttt'>chars_format::hex</span>,
and
<span class='texttt'>g</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_format::general</span>.</p><p ><span class='indexparent'><a class='index' id='to_chars'></a></span><code class='itemdecl'>
to_chars_result to_chars(char* first, char* last, <i><span class='texttt'>see below</span></i> value, int base = 10);
</code></p></div><div class='itemdescr'></div><div class='para' id='utility.to.chars-4'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L609'>#</a></div><p ><i>Requires:</i> <span class='texttt'>base</span> has a value between 2 and 36 (inclusive).</p></div></div><div class='para' id='utility.to.chars-5'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L612'>#</a></div><p ><i>Effects:</i> The value of <span class='texttt'>value</span> is converted
to a string of digits in the given base
(with no redundant leading zeroes).
Digits in the range 10..35 (inclusive)
are represented as lowercase characters <span class='texttt'>a</span>..<span class='texttt'>z</span>.
If <span class='texttt'>value</span> is less than zero,
the representation starts with a minus sign.</p></div></div><div class='para' id='utility.to.chars-6'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L621'>#</a></div><p ><i>Throws:</i> Nothing.</p></div></div><div class='para' id='utility.to.chars-7'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L624'>#</a></div><p ><i>Remarks:</i>
The implementation shall provide overloads
for all signed and unsigned integer types
and <span class='texttt'>char</span>
as the type of the parameter <span class='texttt'>value</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='to_chars'></a></span><code class='itemdecl'>
to_chars_result to_chars(char* first, char* last, float value);
to_chars_result to_chars(char* first, char* last, double value);
to_chars_result to_chars(char* first, char* last, long double value);
</code></p><div class='itemdescr'></div><div class='para' id='utility.to.chars-8'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L640'>#</a></div><p ><i>Effects:</i> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale.
The conversion specifier is <span class='texttt'>f</span> or <span class='texttt'>e</span>,
chosen according to the requirement for a shortest representation
(see above);
a tie is resolved in favor of <span class='texttt'>f</span>.</p></div></div><div class='para' id='utility.to.chars-9'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L649'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='to_chars'></a></span><code class='itemdecl'>
to_chars_result to_chars(char* first, char* last, float value, chars_format fmt);
to_chars_result to_chars(char* first, char* last, double value, chars_format fmt);
to_chars_result to_chars(char* first, char* last, long double value, chars_format fmt);
</code></p><div class='itemdescr'></div><div class='para' id='utility.to.chars-10'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L661'>#</a></div><p ><i>Requires:</i> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_format</span>.</p></div></div><div class='para' id='utility.to.chars-11'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L665'>#</a></div><p ><i>Effects:</i> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale.</p></div></div><div class='para' id='utility.to.chars-12'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L670'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='to_chars'></a></span><code class='itemdecl'>
to_chars_result to_chars(char* first, char* last, float value,
                         chars_format fmt, int precision);
to_chars_result to_chars(char* first, char* last, double value,
                         chars_format fmt, int precision);
to_chars_result to_chars(char* first, char* last, long double value,
                         chars_format fmt, int precision);
</code></p><div class='itemdescr'></div><div class='para' id='utility.to.chars-13'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L685'>#</a></div><p ><i>Requires:</i> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_format</span>.</p></div></div><div class='para' id='utility.to.chars-14'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L689'>#</a></div><p ><i>Effects:</i> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale
with the given precision.</p></div></div><div class='para' id='utility.to.chars-15'><div class='marginalizedparent'><a class='marginalized' href='#utility.to.chars-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L695'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='textsc'>See also:</span> ISO C 7.21.6.1.</p></div><div id='utility.from.chars'><h3 ><a class='secnum' href='#utility.from.chars' style='min-width:103pt'>20.2.9</a> Primitive numeric input conversion <a class='abbr_ref' href='utility.from.chars'>[utility.from.chars]</a></h3><div class='para' id='utility.from.chars-1'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L703'>#</a></div><p >All functions named <span class='texttt'>from_chars</span>
analyze the string <span class='texttt'>[first, last)</span>
for a pattern,
where <span class='texttt'>[first, last)</span> is required to be a valid range.
If no characters match the pattern,
<span class='texttt'>value</span> is unmodified,
the member <span class='texttt'>ptr</span> of the return value is <span class='texttt'>first</span> and
the member <span class='texttt'>ec</span> is equal to <span class='texttt'>errc::invalid_argument</span>.
Otherwise,
the characters matching the pattern
are interpreted as a representation
of a value of the type of <span class='texttt'>value</span>.
The member <span class='texttt'>ptr</span>
of the return value
points to the first character
not matching the pattern,
or has the value <span class='texttt'>last</span>
if all characters match.
If the parsed value
is not in the range
representable by the type of <span class='texttt'>value</span>,
<span class='texttt'>value</span> is unmodified and
the member <span class='texttt'>ec</span> of the return value
is equal to <span class='texttt'>errc::result_out_of_range</span>.
Otherwise,
<span class='texttt'>value</span> is set to the parsed value and
the member <span class='texttt'>ec</span> is set
such that the conversion to <span class='texttt'>bool</span> yields <span class='texttt'>false</span>.</p><p ><span class='indexparent'><a class='index' id='from_chars'></a></span><code class='itemdecl'>
from_chars_result from_chars(const char* first, const char* last,
                             <i><span class='texttt'>see below</span></i>&amp; value, int base = 10);
</code></p></div><div class='itemdescr'></div><div class='para' id='utility.from.chars-2'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L740'>#</a></div><p ><i>Requires:</i> <span class='texttt'>base</span> has a value between 2 and 36 (inclusive).</p></div></div><div class='para' id='utility.from.chars-3'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L743'>#</a></div><p ><i>Effects:</i> The pattern is the expected form of the subject sequence
in the <span class='texttt'>"C"</span> locale
for the given nonzero base,
as described for <span class='texttt'>strtol</span>,
except that no <span class='texttt'>"0x"</span> or <span class='texttt'>"0X"</span> prefix shall appear
if the value of <span class='texttt'>base</span> is 16,
and except that a minus sign
is the only sign that may appear,
and only if <span class='texttt'>value</span> has a signed type.</p></div></div><div class='para' id='utility.from.chars-4'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L754'>#</a></div><p ><i>Throws:</i> Nothing.</p></div></div><div class='para' id='utility.from.chars-5'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L757'>#</a></div><p ><i>Remarks:</i>
The implementation shall provide overloads
for all signed and unsigned integer types
and <span class='texttt'>char</span>
as the referenced type of the parameter <span class='texttt'>value</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='from_chars'></a></span><code class='itemdecl'>
from_chars_result from_chars(const char* first, const char* last, float&amp; value,
                             chars_format fmt = chars_format::general);
from_chars_result from_chars(const char* first, const char* last, double&amp; value,
                             chars_format fmt = chars_format::general);
from_chars_result from_chars(const char* first, const char* last, long double&amp; value,
                             chars_format fmt = chars_format::general);
</code></p><div class='itemdescr'></div><div class='para' id='utility.from.chars-6'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L776'>#</a></div><p ><i>Requires:</i> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_format</span>.</p></div></div><div class='para' id='utility.from.chars-7'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L780'>#</a></div><p ><i>Effects:</i> The pattern is the expected form of the subject sequence
in the <span class='texttt'>"C"</span> locale,
as described for <span class='texttt'>strtod</span>,
except that
</p><ul class='itemize'><li id='utility.from.chars-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#utility.from.chars-7.1'>(7.1)</a></div><p >the only sign that may appear is a minus sign;
</p></li><li id='utility.from.chars-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#utility.from.chars-7.2'>(7.2)</a></div><p >if <span class='texttt'>fmt</span> has <span class='texttt'>chars_format::scientific</span> set
but not <span class='texttt'>chars_format::fixed</span>,
the otherwise optional exponent part shall appear;
</p></li><li id='utility.from.chars-7.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#utility.from.chars-7.3'>(7.3)</a></div><p >if <span class='texttt'>fmt</span> has <span class='texttt'>chars_format::fixed</span> set
but not <span class='texttt'>chars_format::scientific</span>,
the optional exponent part shall not appear; and
</p></li><li id='utility.from.chars-7.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#utility.from.chars-7.4'>(7.4)</a></div><p >if <span class='texttt'>fmt</span> is <span class='texttt'>chars_format::hex</span>,
the prefix <span class='texttt'>"0x"</span> or <span class='texttt'>"0X"</span> is assumed.
[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
The string <span class='texttt'>0x123</span>
is parsed to have the value
<span class='texttt'>0</span>
with remaining characters <span class='texttt'>x123</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></li></ul><p >In any case, the resulting <span class='texttt'>value</span> is one of
at most two floating-point values
closest to the value of the string matching the pattern.</p></div></div><div class='para' id='utility.from.chars-8'><div class='marginalizedparent'><a class='marginalized' href='#utility.from.chars-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L810'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='textsc'>See also:</span> ISO C 7.22.1.3, ISO C 7.22.1.4.</p></div></div><div id='intseq'><h2 ><a class='secnum' href='#intseq' style='min-width:88pt'>20.3</a> Compile-time integer sequences <a class='abbr_ref' href='intseq'>[intseq]</a></h2><div id='intseq.general'><h3 ><a class='secnum' href='#intseq.general' style='min-width:103pt'>20.3.1</a> In general <a class='abbr_ref' href='intseq.general'>[intseq.general]</a></h3><div class='para' id='intseq.general-1'><div class='marginalizedparent'><a class='marginalized' href='#intseq.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L820'>#</a></div><p >The library provides a class template that can represent an integer sequence.
When used as an argument to a function template the parameter pack defining the
sequence can be deduced and used in a pack expansion.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The <span class='texttt'>index_sequence</span> alias template is provided for the common case of
an integer sequence of type <span class='texttt'>size_t</span>; see also <a href='tuple.apply'>[tuple.apply]</a>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='intseq.intseq'><h3 ><a class='secnum' href='#intseq.intseq' style='min-width:103pt'>20.3.2</a> Class template <span class='texttt'>integer_sequence</span> <a class='abbr_ref' href='intseq.intseq'>[intseq.intseq]</a></h3><p ><span class='indexparent'><a class='index' id='integer_sequence'></a></span></p><pre class='codeblock'>
namespace std {
  template&lt;class T, T... I&gt;
    struct integer_sequence {
      using value_type = T;
      static constexpr size_t size() noexcept { return sizeof...(I); }
    };
}</pre><div class='para' id='intseq.intseq-1'><div class='marginalizedparent'><a class='marginalized' href='#intseq.intseq-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L842'>#</a></div><p ><span class='texttt'>T</span> shall be an integer type.</p></div></div><div id='intseq.make'><h3 ><a class='secnum' href='#intseq.make' style='min-width:103pt'>20.3.3</a> Alias template <span class='texttt'>make_integer_sequence</span> <a class='abbr_ref' href='intseq.make'>[intseq.make]</a></h3><p ><span class='indexparent'><a class='index' id='make_integer_sequence'></a></span><code class='itemdecl'>
template&lt;class T, T N&gt;
  using make_integer_sequence = integer_sequence&lt;T, <i><span class='texttt'>see below</span></i>&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='intseq.make-1'><div class='marginalizedparent'><a class='marginalized' href='#intseq.make-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L854'>#</a></div><p >If <span class='texttt'>N</span> is negative the program is ill-formed. The alias template
<span class='texttt'>make_integer_sequence</span> denotes a specialization of
<span class='texttt'>integer_sequence</span> with <span class='texttt'>N</span> template non-type arguments.
The type <span class='texttt'>make_integer_sequence&lt;T, N&gt;</span> denotes the type
<span class='texttt'>integer_sequence&lt;T, 0, 1, ..., N-1&gt;</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>make_integer_sequence&lt;int, 0&gt;</span> denotes the type
<span class='texttt'>integer_sequence&lt;int&gt;</span> <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div></div><div id='pairs'><h2 ><a class='secnum' href='#pairs' style='min-width:88pt'>20.4</a> Pairs <a class='abbr_ref' href='pairs'>[pairs]</a></h2><div id='pairs.general'><h3 ><a class='secnum' href='#pairs.general' style='min-width:103pt'>20.4.1</a> In general <a class='abbr_ref' href='pairs.general'>[pairs.general]</a></h3><div class='para' id='pairs.general-1'><div class='marginalizedparent'><a class='marginalized' href='#pairs.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L868'>#</a></div><p >The library provides a template for heterogeneous pairs of values.
The library also provides a matching function template to simplify
their construction and several templates that provide access to <span class='texttt'>pair</span>
objects as if they were <span class='texttt'>tuple</span> objects (see <a href='tuple.helper'>[tuple.helper]</a>
and <a href='tuple.elem'>[tuple.elem]</a>).<span class='indexparent'><a class='index' id='pair'></a></span><span class='indexparent'><a class='index' id='pair,tuple_interface_to'></a></span><span class='indexparent'><a class='index' id='tuple,and_pair'></a></span>
</p></div></div><div id='pairs.pair'><h3 ><a class='secnum' href='#pairs.pair' style='min-width:103pt'>20.4.2</a> Class template <span class='texttt'>pair</span> <a class='abbr_ref' href='pairs.pair'>[pairs.pair]</a></h3><p ><span class='indexparent'><a class='index' id='pair'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class T1, class T2&gt;
    struct pair {
      using first_type  = T1;
      using second_type = T2;

      T1 first;
      T2 second;

      pair(const pair&amp;) = default;
      pair(pair&amp;&amp;) = default;
      <i><span class='texttt'>EXPLICIT</span></i> constexpr pair();
      <i><span class='texttt'>EXPLICIT</span></i> constexpr pair(const T1&amp; x, const T2&amp; y);
      template&lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr pair(U1&amp;&amp; x, U2&amp;&amp; y);
      template&lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr pair(const pair&lt;U1, U2&gt;&amp; p);
      template&lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr pair(pair&lt;U1, U2&gt;&amp;&amp; p);
      template &lt;class... Args1, class... Args2&gt;
        pair(piecewise_construct_t, tuple&lt;Args1...&gt; first_args, tuple&lt;Args2...&gt; second_args);

      pair&amp; operator=(const pair&amp; p);
      template&lt;class U1, class U2&gt; pair&amp; operator=(const pair&lt;U1, U2&gt;&amp; p);
      pair&amp; operator=(pair&amp;&amp; p) noexcept(<i><span class='texttt'>see below</span></i>);
      template&lt;class U1, class U2&gt; pair&amp; operator=(pair&lt;U1, U2&gt;&amp;&amp; p);

      void swap(pair&amp; p) noexcept(<i><span class='texttt'>see below</span></i>);
    };
}</pre><div class='para' id='pairs.pair-1'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L911'>#</a></div><p >Constructors and member functions of <span class='texttt'>pair</span> shall not throw exceptions unless one of
the element-wise operations specified to be called for that operation
throws an exception.</p></div><div class='para' id='pairs.pair-2'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L916'>#</a></div><p >The defaulted move and copy constructor, respectively, of pair shall
be a constexpr function if and only if all required element-wise
initializations for copy and move, respectively, would satisfy the
requirements for a constexpr function.</p><p ><span class='indexparent'><a class='index' id='pair,constructor'></a></span><code class='itemdecl'>
<i><span class='texttt'>EXPLICIT</span></i> constexpr pair();
</code></p></div><div class='itemdescr'></div><div class='para' id='pairs.pair-3'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L928'>#</a></div><p ><i>Effects:</i>
Value-initializes <span class='texttt'>first</span> and <span class='texttt'>second</span>.</p></div></div><div class='para' id='pairs.pair-4'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L932'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_default_constructible_v&lt;first_type&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_default_constructible_v&lt;second_type&gt;</span> is <span class='texttt'>true</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This behavior can be implemented by a constructor template
with default template arguments. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
The constructor is explicit if and only if either <span class='texttt'>first_type</span> or
<span class='texttt'>second_type</span> is not implicitly default-constructible.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This behavior can be implemented with a trait that checks
whether a <span class='texttt'>const first_type&amp;</span> or a <span class='texttt'>const second_type&amp;</span>
can be initialized with <span class='texttt'>{}</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='pair,constructor'></a></span><code class='itemdecl'>
<i><span class='texttt'>EXPLICIT</span></i> constexpr pair(const T1&amp; x, const T2&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-5'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L952'>#</a></div><p ><i>Effects:</i>
Initializes <span class='texttt'>first</span> with <span class='texttt'>x</span> and <span class='texttt'>second</span> with <span class='texttt'>y</span>.</p></div></div><div class='para' id='pairs.pair-6'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L956'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution
unless <span class='texttt'>is_copy_constructible_v&lt;first_type&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_copy_constructible_v&lt;second_type&gt;</span> is <span class='texttt'>true</span>.
The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;const first_type&amp;, first_type&gt;</span> is <span class='texttt'>false</span> or
<span class='texttt'>is_convertible_v&lt;const second_type&amp;, second_type&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='pair,constructor'></a></span><code class='itemdecl'>
template&lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr pair(U1&amp;&amp; x, U2&amp;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-7'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L971'>#</a></div><p ><i>Effects:</i>
Initializes <span class='texttt'>first</span> with
<span class='texttt'>std::forward&lt;U1&gt;(x)</span> and <span class='texttt'>second</span>
with <span class='texttt'>std::forward&lt;U2&gt;(y)</span>.</p></div></div><div class='para' id='pairs.pair-8'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L977'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;first_type, U1&amp;&amp;&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;second_type, U2&amp;&amp;&gt;</span> is <span class='texttt'>true</span>.
The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;U1&amp;&amp;, first_type&gt;</span> is <span class='texttt'>false</span> or
<span class='texttt'>is_convertible_v&lt;U2&amp;&amp;, second_type&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='pair,constructor'></a></span><code class='itemdecl'>
template&lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr pair(const pair&lt;U1, U2&gt;&amp; p);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-9'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L993'>#</a></div><p ><i>Effects:</i>
Initializes members from the corresponding members of the argument.</p></div></div><div class='para' id='pairs.pair-10'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L997'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;first_type, const U1&amp;&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;second_type, const U2&amp;&gt;</span> is <span class='texttt'>true</span>.
The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;const U1&amp;, first_type&gt;</span> is <span class='texttt'>false</span> or
<span class='texttt'>is_convertible_v&lt;const U2&amp;, second_type&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='pair,constructor'></a></span><code class='itemdecl'>
template&lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr pair(pair&lt;U1, U2&gt;&amp;&amp; p);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-11'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1012'>#</a></div><p ><i>Effects:</i>
Initializes <span class='texttt'>first</span> with
<span class='texttt'>std::forward&lt;U1&gt;(p.first)</span>
and <span class='texttt'>second</span> with
<span class='texttt'>std::forward&lt;U2&gt;(p.second)</span>.</p></div></div><div class='para' id='pairs.pair-12'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1019'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;first_type, U1&amp;&amp;&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;second_type, U2&amp;&amp;&gt;</span> is <span class='texttt'>true</span>.
The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;U1&amp;&amp;, first_type&gt;</span> is <span class='texttt'>false</span> or
<span class='texttt'>is_convertible_v&lt;U2&amp;&amp;, second_type&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='pair,constructor'></a></span><code class='itemdecl'>
template&lt;class... Args1, class... Args2&gt;
  pair(piecewise_construct_t, tuple&lt;Args1...&gt; first_args, tuple&lt;Args2...&gt; second_args);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-13'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1035'>#</a></div><p ><i>Requires:</i> <span class='texttt'>is_constructible_v&lt;first_type, Args1&amp;&amp;...&gt;</span> is <span class='texttt'>true</span>
and <span class='texttt'>is_constructible_v&lt;second_type, Args2&amp;&amp;...&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='pairs.pair-14'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1039'>#</a></div><p ><i>Effects:</i> Initializes <span class='texttt'>first</span> with arguments of types
<span class='texttt'>Args1...</span> obtained by forwarding the elements of <span class='texttt'>first_args</span>
and initializes <span class='texttt'>second</span> with arguments of types <span class='texttt'>Args2...</span>
obtained by forwarding the elements of <span class='texttt'>second_args</span>. (Here, forwarding
an element <span class='texttt'>x</span> of type <span class='texttt'>U</span> within a <span class='texttt'>tuple</span> object means calling
<span class='texttt'>std::forward&lt;U&gt;(x)</span>.) This form of construction, whereby constructor
arguments for <span class='texttt'>first</span> and <span class='texttt'>second</span> are each provided in a separate
<span class='texttt'>tuple</span> object, is called <a class='hidden_link' href='#def:piecewise_construction' id='def:piecewise_construction'><i>piecewise construction</i></a>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator='></a></span><code class='itemdecl'>
pair&amp; operator=(const pair&amp; p);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-15'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1056'>#</a></div><p ><i>Effects:</i> Assigns <span class='texttt'>p.first</span> to <span class='texttt'>first</span> and <span class='texttt'>p.second</span> to <span class='texttt'>second</span>.</p></div></div><div class='para' id='pairs.pair-16'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1059'>#</a></div><p ><i>Remarks:</i> This operator shall be defined as deleted unless
<span class='texttt'>is_copy_assignable_v&lt;first_type&gt;</span> is <span class='texttt'>true</span>
and <span class='texttt'>is_copy_assignable_v&lt;second_type&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='pairs.pair-17'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1064'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator='></a></span><code class='itemdecl'>
template&lt;class U1, class U2&gt; pair&amp; operator=(const pair&lt;U1, U2&gt;&amp; p);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-18'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1074'>#</a></div><p ><i>Effects:</i> Assigns <span class='texttt'>p.first</span> to <span class='texttt'>first</span> and <span class='texttt'>p.second</span> to <span class='texttt'>second</span>.</p></div></div><div class='para' id='pairs.pair-19'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1077'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload resolution unless
<span class='texttt'>is_assignable_v&lt;first_type&amp;, const U1&amp;&gt;</span> is <span class='texttt'>true</span>
and <span class='texttt'>is_assignable_v&lt;second_type&amp;, const U2&amp;&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='pairs.pair-20'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1082'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator='></a></span><code class='itemdecl'>
pair&amp; operator=(pair&amp;&amp; p) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-21'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1092'>#</a></div><p ><i>Effects:</i>
Assigns to <span class='texttt'>first</span> with <span class='texttt'>std::forward&lt;first_type&gt;(p.first)</span>
and to <span class='texttt'>second</span> with<br/> <span class='texttt'>std::forward&lt;second_type&gt;(p.second)</span>.</p></div></div><div class='para' id='pairs.pair-22'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1097'>#</a></div><p ><i>Remarks:</i> This operator shall be defined as deleted unless
<span class='texttt'>is_move_assignable_v&lt;first_type&gt;</span> is <span class='texttt'>true</span>
and <span class='texttt'>is_move_assignable_v&lt;second_type&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='pairs.pair-23'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1102'>#</a></div><p ><i>Remarks:</i> The expression inside <span class='texttt'>noexcept</span> is equivalent to:
</p><pre class='codeblock'>
is_nothrow_move_assignable_v&lt;T1&gt; &amp;&amp; is_nothrow_move_assignable_v&lt;T2&gt;</pre></div></div><div class='para' id='pairs.pair-24'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1108'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator='></a></span><code class='itemdecl'>
template&lt;class U1, class U2&gt; pair&amp; operator=(pair&lt;U1, U2&gt;&amp;&amp; p);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-25'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1118'>#</a></div><p ><i>Effects:</i>
Assigns to <span class='texttt'>first</span> with <span class='texttt'>std::forward&lt;U&gt;(p.first)</span>
and to <span class='texttt'>second</span> with<br/> <span class='texttt'>std::forward&lt;V&gt;(p.second)</span>.</p></div></div><div class='para' id='pairs.pair-26'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1123'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload resolution unless
<span class='texttt'>is_assignable_v&lt;first_type&amp;, U1&amp;&amp;&gt;</span> is <span class='texttt'>true</span>
and <span class='texttt'>is_assignable_v&lt;second_type&amp;, U2&amp;&amp;&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='pairs.pair-27'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1128'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='swap,pair'></a></span><span class='indexparent'><a class='index' id='pair,swap'></a></span><code class='itemdecl'>
void swap(pair&amp; p) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.pair-28'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1138'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>first</span> shall be swappable with (<a href='swappable.requirements'>[swappable.requirements]</a>)
<span class='texttt'>p.first</span> and <span class='texttt'>second</span> shall be swappable with <span class='texttt'>p.second</span>.</p></div></div><div class='para' id='pairs.pair-29'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1143'>#</a></div><p ><i>Effects:</i> Swaps
<span class='texttt'>first</span> with <span class='texttt'>p.first</span> and
<span class='texttt'>second</span> with <span class='texttt'>p.second</span>.</p></div></div><div class='para' id='pairs.pair-30'><div class='marginalizedparent'><a class='marginalized' href='#pairs.pair-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1148'>#</a></div><p ><i>Remarks:</i> The expression inside <span class='texttt'>noexcept</span> is equivalent to:
</p><pre class='codeblock'>
is_nothrow_swappable_v&lt;first_type&gt; &amp;&amp; is_nothrow_swappable_v&lt;second_type&gt;</pre></div></div></div><div id='pairs.spec'><h3 ><a class='secnum' href='#pairs.spec' style='min-width:103pt'>20.4.3</a> Specialized algorithms <a class='abbr_ref' href='pairs.spec'>[pairs.spec]</a></h3><p ><span class='indexparent'><a class='index' id='operator==,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator=='></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr bool operator==(const pair&lt;T1, T2&gt;&amp; x, const pair&lt;T1, T2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1164'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>x.first == y.first &amp;&amp; x.second == y.second</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator<'></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr bool operator&lt;(const pair&lt;T1, T2&gt;&amp; x, const pair&lt;T1, T2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1176'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>x.first &lt; y.first || (!(y.first &lt; x.first) &amp;&amp; x.second &lt; y.second)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator!='></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr bool operator!=(const pair&lt;T1, T2&gt;&amp; x, const pair&lt;T1, T2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1188'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(x == y)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator>'></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr bool operator&gt;(const pair&lt;T1, T2&gt;&amp; x, const pair&lt;T1, T2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1199'>#</a></div><p ><i>Returns:</i> <span class='texttt'>y &lt; x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator>='></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr bool operator&gt;=(const pair&lt;T1, T2&gt;&amp; x, const pair&lt;T1, T2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-5'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1210'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(x &lt; y)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,pair'></a></span><span class='indexparent'><a class='index' id='pair,operator<='></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr bool operator&lt;=(const pair&lt;T1, T2&gt;&amp; x, const pair&lt;T1, T2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-6'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1221'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(y &lt; x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='swap,pair'></a></span><code class='itemdecl'>
template&lt;class T1, class T2&gt; void swap(pair&lt;T1, T2&gt;&amp; x, pair&lt;T1, T2&gt;&amp; y)
  noexcept(noexcept(x.swap(y)));
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-7'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1233'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>x.swap(y)</span>.</p></div></div><div class='para' id='pairs.spec-8'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1236'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_swappable_v&lt;T1&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_swappable_v&lt;T2&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='make_pair'></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr pair&lt;V1, V2&gt; make_pair(T1&amp;&amp; x, T2&amp;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='pairs.spec-9'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1250'>#</a></div><p ><i>Returns:</i> <span class='texttt'>pair&lt;V1, V2&gt;(std::forward&lt;T1&gt;(x), std::forward&lt;T2&gt;(y))</span>,
where <span class='texttt'>V1</span> and <span class='texttt'>V2</span> are determined as follows: Let <span class='texttt'>Ui</span> be
<span class='texttt'>decay_t&lt;Ti&gt;</span> for each <span class='texttt'>Ti</span>. If <span class='texttt'>Ui</span> is a specialization
of <span class='texttt'>reference_wrapper</span>, then <span class='texttt'>Vi</span> is <span class='texttt'>Ui::type&amp;</span>,
otherwise <span class='texttt'>Vi</span> is <span class='texttt'>Ui</span>.
</p></div></div><div class='para' id='pairs.spec-10'><div class='marginalizedparent'><a class='marginalized' href='#pairs.spec-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1258'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
In place of:
</p><pre class='codeblock'>
  return pair&lt;int, double&gt;(5, 3.1415926);   <span class='comment'>// explicit types
</span></pre><p >a C++ program may contain:
</p><pre class='codeblock'>
  return make_pair(5, 3.1415926);           <span class='comment'>// types are deduced
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='pair.astuple'><h3 ><a class='secnum' href='#pair.astuple' style='min-width:103pt'>20.4.4</a> Tuple-like access to pair <a class='abbr_ref' href='pair.astuple'>[pair.astuple]</a></h3><p ><span class='indexparent'><a class='index' id='tuple_size'></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  struct tuple_size&lt;pair&lt;T1, T2&gt;&gt; : integral_constant&lt;size_t, 2&gt; { };
</code></p><p ><span class='indexparent'><a class='index' id='tuple_element'></a></span><code class='itemdecl'>
tuple_element&lt;0, pair&lt;T1, T2&gt;&gt;::type
</code>
</p><div class='itemdescr'></div><div class='para' id='pair.astuple-1'><div class='marginalizedparent'><a class='marginalized' href='#pair.astuple-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1283'>#</a></div><p ><i>Value:</i> The type <span class='texttt'>T1</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple_element'></a></span><code class='itemdecl'>
tuple_element&lt;1, pair&lt;T1, T2&gt;&gt;::type
</code>
</p><div class='itemdescr'></div><div class='para' id='pair.astuple-2'><div class='marginalizedparent'><a class='marginalized' href='#pair.astuple-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1291'>#</a></div><p ><i>Value:</i> The type T2.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,pair'></a></span><span class='indexparent'><a class='index' id='pair,get'></a></span><code class='itemdecl'>
template&lt;size_t I, class T1, class T2&gt;
  constexpr tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp; get(pair&lt;T1, T2&gt;&amp; p) noexcept;
template&lt;size_t I, class T1, class T2&gt;
  constexpr const tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp; get(const pair&lt;T1, T2&gt;&amp; p) noexcept;
template&lt;size_t I, class T1, class T2&gt;
  constexpr tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp;&amp; get(pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
template&lt;size_t I, class T1, class T2&gt;
  constexpr const tuple_element_t&lt;I, pair&lt;T1, T2&gt;&gt;&amp;&amp; get(const pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
</code>
</p><div class='itemdescr'></div><div class='para' id='pair.astuple-3'><div class='marginalizedparent'><a class='marginalized' href='#pair.astuple-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1307'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>I == 0</span> returns a reference to <span class='texttt'>p.first</span>;
if <span class='texttt'>I == 1</span> returns a reference to <span class='texttt'>p.second</span>;
otherwise the program is ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,pair'></a></span><span class='indexparent'><a class='index' id='pair,get'></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  constexpr T1&amp; get(pair&lt;T1, T2&gt;&amp; p) noexcept;
template &lt;class T1, class T2&gt;
  constexpr const T1&amp; get(const pair&lt;T1, T2&gt;&amp; p) noexcept;
template &lt;class T1, class T2&gt;
  constexpr T1&amp;&amp; get(pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
template &lt;class T1, class T2&gt;
  constexpr const T1&amp;&amp; get(const pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
</code>
</p><div class='itemdescr'></div><div class='para' id='pair.astuple-4'><div class='marginalizedparent'><a class='marginalized' href='#pair.astuple-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1325'>#</a></div><p ><i>Requires:</i> <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are distinct types. Otherwise, the program is ill-formed.</p></div></div><div class='para' id='pair.astuple-5'><div class='marginalizedparent'><a class='marginalized' href='#pair.astuple-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1328'>#</a></div><p ><i>Returns:</i> A reference to <span class='texttt'>p.first</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,pair'></a></span><span class='indexparent'><a class='index' id='pair,get'></a></span><code class='itemdecl'>
template &lt;class T2, class T1&gt;
  constexpr T2&amp; get(pair&lt;T1, T2&gt;&amp; p) noexcept;
template &lt;class T2, class T1&gt;
  constexpr const T2&amp; get(const pair&lt;T1, T2&gt;&amp; p) noexcept;
template &lt;class T2, class T1&gt;
  constexpr T2&amp;&amp; get(pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
template &lt;class T2, class T1&gt;
  constexpr const T2&amp;&amp; get(const pair&lt;T1, T2&gt;&amp;&amp; p) noexcept;
</code>
</p><div class='itemdescr'></div><div class='para' id='pair.astuple-6'><div class='marginalizedparent'><a class='marginalized' href='#pair.astuple-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1345'>#</a></div><p ><i>Requires:</i> <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are distinct types. Otherwise, the program is ill-formed.</p></div></div><div class='para' id='pair.astuple-7'><div class='marginalizedparent'><a class='marginalized' href='#pair.astuple-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1348'>#</a></div><p ><i>Returns:</i> A reference to <span class='texttt'>p.second</span>.
</p></div></div></div><div id='pair.piecewise'><h3 ><a class='secnum' href='#pair.piecewise' style='min-width:103pt'>20.4.5</a> Piecewise construction <a class='abbr_ref' href='pair.piecewise'>[pair.piecewise]</a></h3><p ><span class='indexparent'><a class='index' id='piecewise_construct_t'></a></span><span class='indexparent'><a class='index' id='piecewise_construct'></a></span><code class='itemdecl'>
struct piecewise_construct_t {
  explicit piecewise_construct_t() = default;
};
constexpr piecewise_construct_t piecewise_construct{};
</code></p><div class='para' id='pair.piecewise-1'><div class='marginalizedparent'><a class='marginalized' href='#pair.piecewise-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1363'>#</a></div><p >The <span class='texttt'>struct</span> <span class='texttt'>piecewise_construct_t</span> is an empty structure type
used as a unique type to disambiguate constructor and function overloading. Specifically,
<span class='texttt'>pair</span> has a constructor with <span class='texttt'>piecewise_construct_t</span> as the
first argument, immediately followed by two <span class='texttt'>tuple</span> (<a href='tuple'>[tuple]</a>) arguments used
for piecewise construction of the elements of the <span class='texttt'>pair</span> object.</p></div></div></div><div id='tuple'><h2 ><a class='secnum' href='#tuple' style='min-width:88pt'>20.5</a> Tuples <a class='abbr_ref' href='tuple'>[tuple]</a></h2><div id='tuple.general'><h3 ><a class='secnum' href='#tuple.general' style='min-width:103pt'>20.5.1</a> In general <a class='abbr_ref' href='tuple.general'>[tuple.general]</a></h3><div class='para' id='tuple.general-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1374'>#</a></div><p ><span class='indexparent'><a class='index' id='tuple'></a></span>This subclause describes the tuple library that provides a tuple type as
the class template <span class='texttt'>tuple</span> that can be instantiated with any number
of arguments. Each template argument specifies
the type of an element in the <span class='texttt'>tuple</span>.  Consequently, tuples are
heterogeneous, fixed-size collections of values. An instantiation of <span class='texttt'>tuple</span> with
two arguments is similar to an instantiation of <span class='texttt'>pair</span> with the same two arguments.
See <a href='pairs'>[pairs]</a>.</p></div></div><div id='tuple.syn'><h3 ><a class='secnum' href='#tuple.syn' style='min-width:103pt'>20.5.2</a> Header <span class='texttt'>&lt;tuple&gt;</span> synopsis <a class='abbr_ref' href='tuple.syn'>[tuple.syn]</a></h3><p ><span class='indexparent'><a class='index' id='tuple'></a></span><span class='indexparent'><a class='index' id='tuple'></a></span></p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='tuple.tuple'>[tuple.tuple]</a>, class template <span class='texttt'>tuple</span>
</span>  template &lt;class... Types&gt;
    class tuple;

  <span class='comment'>// <a href='tuple.creation'>[tuple.creation]</a>, tuple creation functions
</span>  constexpr <i><span class='texttt'>unspecified</span></i> ignore;

  template &lt;class... Types&gt;
    constexpr tuple&lt;<i>VTypes</i>...&gt; make_tuple(Types&amp;&amp;...);
  template &lt;class... Types&gt;
    constexpr tuple&lt;Types&amp;&amp;...&gt; forward_as_tuple(Types&amp;&amp;...) noexcept;

  template&lt;class... Types&gt;
    constexpr tuple&lt;Types&amp;...&gt; tie(Types&amp;...) noexcept;

  template &lt;class... Tuples&gt;
    constexpr tuple&lt;<i>Ctypes</i>...&gt; tuple_cat(Tuples&amp;&amp;...);

  <span class='comment'>// <a href='tuple.apply'>[tuple.apply]</a>, calling a function with a tuple of arguments
</span>  template &lt;class F, class Tuple&gt;
    constexpr decltype(auto) apply(F&amp;&amp; f, Tuple&amp;&amp; t);

  template &lt;class T, class Tuple&gt;
    constexpr T make_from_tuple(Tuple&amp;&amp; t);

  <span class='comment'>// <a href='tuple.helper'>[tuple.helper]</a>, tuple helper classes
</span>  template &lt;class T&gt; class tuple_size;                  <span class='comment'>// not defined
</span>  template &lt;class T&gt; class tuple_size&lt;const T&gt;;
  template &lt;class T&gt; class tuple_size&lt;volatile T&gt;;
  template &lt;class T&gt; class tuple_size&lt;const volatile T&gt;;

  template &lt;class... Types&gt; class tuple_size&lt;tuple&lt;Types...&gt;&gt;;

  template &lt;size_t I, class T&gt; class tuple_element;     <span class='comment'>// not defined
</span>  template &lt;size_t I, class T&gt; class tuple_element&lt;I, const T&gt;;
  template &lt;size_t I, class T&gt; class tuple_element&lt;I, volatile T&gt;;
  template &lt;size_t I, class T&gt; class tuple_element&lt;I, const volatile T&gt;;

  template &lt;size_t I, class... Types&gt;
    class tuple_element&lt;I, tuple&lt;Types...&gt;&gt;;

  template &lt;size_t I, class T&gt;
    using tuple_element_t = typename tuple_element&lt;I, T&gt;::type;

  <span class='comment'>// <a href='tuple.elem'>[tuple.elem]</a>, element access
</span>  template &lt;size_t I, class... Types&gt;
    constexpr tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp; get(tuple&lt;Types...&gt;&amp;) noexcept;
  template &lt;size_t I, class... Types&gt;
    constexpr tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp;&amp; get(tuple&lt;Types...&gt;&amp;&amp;) noexcept;
  template &lt;size_t I, class... Types&gt;
    constexpr const tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp; get(const tuple&lt;Types...&gt;&amp;) noexcept;
  template &lt;size_t I, class... Types&gt;
    constexpr const tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp;&amp; get(const tuple&lt;Types...&gt;&amp;&amp;) noexcept;
  template &lt;class T, class... Types&gt;
    constexpr T&amp; get(tuple&lt;Types...&gt;&amp; t) noexcept;
  template &lt;class T, class... Types&gt;
    constexpr T&amp;&amp; get(tuple&lt;Types...&gt;&amp;&amp; t) noexcept;
  template &lt;class T, class... Types&gt;
    constexpr const T&amp; get(const tuple&lt;Types...&gt;&amp; t) noexcept;
  template &lt;class T, class... Types&gt;
    constexpr const T&amp;&amp; get(const tuple&lt;Types...&gt;&amp;&amp; t) noexcept;

  <span class='comment'>// <a href='tuple.rel'>[tuple.rel]</a>, relational operators
</span>  template&lt;class... TTypes, class... UTypes&gt;
    constexpr bool operator==(const tuple&lt;TTypes...&gt;&amp;, const tuple&lt;UTypes...&gt;&amp;);
  template&lt;class... TTypes, class... UTypes&gt;
    constexpr bool operator&lt;(const tuple&lt;TTypes...&gt;&amp;, const tuple&lt;UTypes...&gt;&amp;);
  template&lt;class... TTypes, class... UTypes&gt;
    constexpr bool operator!=(const tuple&lt;TTypes...&gt;&amp;, const tuple&lt;UTypes...&gt;&amp;);
  template&lt;class... TTypes, class... UTypes&gt;
    constexpr bool operator&gt;(const tuple&lt;TTypes...&gt;&amp;, const tuple&lt;UTypes...&gt;&amp;);
  template&lt;class... TTypes, class... UTypes&gt;
    constexpr bool operator&lt;=(const tuple&lt;TTypes...&gt;&amp;, const tuple&lt;UTypes...&gt;&amp;);
  template&lt;class... TTypes, class... UTypes&gt;
    constexpr bool operator&gt;=(const tuple&lt;TTypes...&gt;&amp;, const tuple&lt;UTypes...&gt;&amp;);

  <span class='comment'>// <a href='tuple.traits'>[tuple.traits]</a>, allocator-related traits
</span>  template &lt;class... Types, class Alloc&gt;
    struct uses_allocator&lt;tuple&lt;Types...&gt;, Alloc&gt;;

  <span class='comment'>// <a href='tuple.special'>[tuple.special]</a>, specialized algorithms
</span>  template &lt;class... Types&gt;
    void swap(tuple&lt;Types...&gt;&amp; x, tuple&lt;Types...&gt;&amp; y) noexcept(<i><span class='texttt'>see below</span></i>);

  <span class='comment'>// <a href='tuple.helper'>[tuple.helper]</a>, tuple helper classes
</span>  template &lt;class T&gt;
    constexpr size_t tuple_size_v = tuple_size&lt;T&gt;::value;
}</pre></div><div id='tuple.tuple'><h3 ><a class='secnum' href='#tuple.tuple' style='min-width:103pt'>20.5.3</a> Class template <span class='texttt'>tuple</span> <a class='abbr_ref' href='tuple.tuple'>[tuple.tuple]</a></h3><p ><span class='indexparent'><a class='index' id='tuple'></a></span>
</p><pre class='codeblock'>
namespace std {
  template &lt;class... Types&gt;
    class tuple  {
    public:
      <span class='comment'>// <a href='tuple.cnstr'>[tuple.cnstr]</a>, <span class='texttt'>tuple</span> construction
</span>      <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple();
      <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(const Types&amp;...);         <span class='comment'>// only if <span class='texttt'>sizeof...(Types) &gt;= 1</span>
</span>      template &lt;class... UTypes&gt;
        <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(UTypes&amp;&amp;...);           <span class='comment'>// only if <span class='texttt'>sizeof...(Types) &gt;= 1</span>
</span>
      tuple(const tuple&amp;) = default;
      tuple(tuple&amp;&amp;) = default;

      template &lt;class... UTypes&gt;
        <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(const tuple&lt;UTypes...&gt;&amp;);
      template &lt;class... UTypes&gt;
        <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(tuple&lt;UTypes...&gt;&amp;&amp;);

      template &lt;class U1, class U2&gt;
        <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(const pair&lt;U1, U2&gt;&amp;);   <span class='comment'>// only if <span class='texttt'>sizeof...(Types) == 2</span>
</span>      template &lt;class U1, class U2&gt;
        <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(pair&lt;U1, U2&gt;&amp;&amp;);        <span class='comment'>// only if <span class='texttt'>sizeof...(Types) == 2</span>
</span>
      <span class='comment'>// allocator-extended constructors
</span>      template &lt;class Alloc&gt;
        tuple(allocator_arg_t, const Alloc&amp; a);
      template &lt;class Alloc&gt;
        <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, const Types&amp;...);
      template &lt;class Alloc, class... UTypes&gt;
        <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, UTypes&amp;&amp;...);
      template &lt;class Alloc&gt;
        tuple(allocator_arg_t, const Alloc&amp; a, const tuple&amp;);
      template &lt;class Alloc&gt;
        tuple(allocator_arg_t, const Alloc&amp; a, tuple&amp;&amp;);
      template &lt;class Alloc, class... UTypes&gt;
        <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, const tuple&lt;UTypes...&gt;&amp;);
      template &lt;class Alloc, class... UTypes&gt;
        <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, tuple&lt;UTypes...&gt;&amp;&amp;);
      template &lt;class Alloc, class U1, class U2&gt;
        <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, const pair&lt;U1, U2&gt;&amp;);
      template &lt;class Alloc, class U1, class U2&gt;
        <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, pair&lt;U1, U2&gt;&amp;&amp;);

      <span class='comment'>// <a href='tuple.assign'>[tuple.assign]</a>, <span class='texttt'>tuple</span> assignment
</span>      tuple&amp; operator=(const tuple&amp;);
      tuple&amp; operator=(tuple&amp;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

      template &lt;class... UTypes&gt;
        tuple&amp; operator=(const tuple&lt;UTypes...&gt;&amp;);
      template &lt;class... UTypes&gt;
        tuple&amp; operator=(tuple&lt;UTypes...&gt;&amp;&amp;);

      template &lt;class U1, class U2&gt;
        tuple&amp; operator=(const pair&lt;U1, U2&gt;&amp;);              <span class='comment'>// only if <span class='texttt'>sizeof...(Types) == 2</span>
</span>      template &lt;class U1, class U2&gt;
        tuple&amp; operator=(pair&lt;U1, U2&gt;&amp;&amp;);                   <span class='comment'>// only if <span class='texttt'>sizeof...(Types) == 2</span>
</span>
      <span class='comment'>// <a href='tuple.swap'>[tuple.swap]</a>, <span class='texttt'>tuple</span> swap
</span>      void swap(tuple&amp;) noexcept(<i><span class='texttt'>see below</span></i>);
    };
}</pre><div id='tuple.cnstr'><h4 ><a class='secnum' href='#tuple.cnstr' style='min-width:118pt'>20.5.3.1</a> Construction <a class='abbr_ref' href='tuple.cnstr'>[tuple.cnstr]</a></h4><div class='para' id='tuple.cnstr-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1549'>#</a></div><p >For each <span class='texttt'>tuple</span> constructor, an exception is thrown only if the construction of
one of the types in <span class='texttt'>Types</span> throws an exception.</p></div><div class='para' id='tuple.cnstr-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1553'>#</a></div><p >The defaulted move and copy constructor, respectively, of
<span class='texttt'>tuple</span> shall be a constexpr function if and only if all
required element-wise initializations for copy and move, respectively,
would satisfy the requirements for a constexpr function. The
defaulted move and copy constructor of <span class='texttt'>tuple&lt;&gt;</span> shall be
constexpr functions.</p></div><div class='para' id='tuple.cnstr-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1561'>#</a></div><p >In the constructor descriptions that follow, let <span class='math'><span class='mathalpha'>i</span></span> be in the range
<span class='texttt'>[0, sizeof...(Types))</span> in order, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in <span class='texttt'>Types</span>, and
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in a template parameter pack named <span class='texttt'>UTypes</span>, where indexing
is zero-based.</p><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
<i><span class='texttt'>EXPLICIT</span></i> constexpr tuple();
</code></p></div><div class='itemdescr'></div><div class='para' id='tuple.cnstr-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1574'>#</a></div><p ><i>Effects:</i> Value-initializes each element.</p></div></div><div class='para' id='tuple.cnstr-5'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1577'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_default_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This behavior can be implemented by a constructor template
with default template arguments. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
The constructor is explicit if and only if <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is not implicitly
default-constructible for at least one <span class='math'><span class='mathalpha'>i</span></span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This behavior can be implemented with a trait that checks whether
a <span class='texttt'>const <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;</span> can be initialized with <span class='texttt'>{}</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
<i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(const Types&amp;...);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-6'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1595'>#</a></div><p ><i>Effects:</i> Initializes each element with the value of the
corresponding parameter.</p></div></div><div class='para' id='tuple.cnstr-7'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1599'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
<span class='texttt'>sizeof...(Types) &gt;= 1</span> and <span class='texttt'>is_copy_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span>
is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>. The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;const <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span>
for at least one <span class='math'><span class='mathalpha'>i</span></span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
template &lt;class... UTypes&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(UTypes&amp;&amp;... u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-8'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1613'>#</a></div><p ><i>Effects:</i> Initializes the elements in the tuple with the
corresponding value in <span class='texttt'>std::forward&lt;UTypes&gt;(u)</span>.</p></div></div><div class='para' id='tuple.cnstr-9'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1617'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
<span class='texttt'>sizeof...(Types)</span> <span class='texttt'>==</span> <span class='texttt'>sizeof...(UTypes)</span> and
<span class='texttt'>sizeof...(Types) &gt;= 1</span> and <span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;&amp;&gt;</span>
is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>. The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span>
for at least one <span class='math'><span class='mathalpha'>i</span></span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
tuple(const tuple&amp; u) = default;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-10'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1632'>#</a></div><p ><i>Requires:</i> <span class='texttt'>is_copy_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='tuple.cnstr-11'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1635'>#</a></div><p ><i>Effects:</i> Initializes each element of <span class='texttt'>*this</span> with the
corresponding element of <span class='texttt'>u</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
tuple(tuple&amp;&amp; u) = default;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-12'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1646'>#</a></div><p ><i>Requires:</i> <span class='texttt'>is_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='tuple.cnstr-13'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1649'>#</a></div><p ><i>Effects:</i> For all <span class='math'><span class='mathalpha'>i</span></span>, initializes the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element of <span class='texttt'>*this</span> with
<span class='texttt'>std::forward&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(u))</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
template &lt;class... UTypes&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(const tuple&lt;UTypes...&gt;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-14'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1660'>#</a></div><p ><i>Effects:</i> Initializes each element of <span class='texttt'>*this</span>
with the corresponding element of <span class='texttt'>u</span>.</p></div></div><div class='para' id='tuple.cnstr-15'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1664'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
</p><ul class='itemize'><li id='tuple.cnstr-15.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.cnstr-15.1'>(15.1)</a></div><p ><span class='texttt'>sizeof...(Types)</span> <span class='texttt'>==</span> <span class='texttt'>sizeof...(UTypes)</span> and
</p></li><li id='tuple.cnstr-15.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.cnstr-15.2'>(15.2)</a></div><p ><span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, const <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>, and
</p></li><li id='tuple.cnstr-15.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.cnstr-15.3'>(15.3)</a></div><p ><span class='texttt'>sizeof...(Types) != 1</span>, or
(when <span class='texttt'>Types...</span> expands to <span class='texttt'>T</span> and <span class='texttt'>UTypes...</span> expands to <span class='texttt'>U</span>)
<span class='texttt'>!is_convertible_v&lt;const tuple&lt;U&gt;&amp;, T&gt; &amp;&amp; !is_constructible_v&lt;T, const tuple&lt;U&gt;&amp;&gt;&amp;&amp; !is_same_v&lt;T, U&gt;</span>
is <span class='texttt'>true</span>.
</p></li></ul><p >The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;const <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span>
for at least one <span class='math'><span class='mathalpha'>i</span></span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
template &lt;class... UTypes&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(tuple&lt;UTypes...&gt;&amp;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-16'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1688'>#</a></div><p ><i>Effects:</i> For all <span class='math'><span class='mathalpha'>i</span></span>,
initializes the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element of <span class='texttt'>*this</span> with
<span class='texttt'>std::forward&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(u))</span>.</p></div></div><div class='para' id='tuple.cnstr-17'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1693'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless</p><ul class='itemize'><li id='tuple.cnstr-17.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.cnstr-17.1'>(17.1)</a></div><p ><span class='texttt'>sizeof...(Types)</span> <span class='texttt'>==</span> <span class='texttt'>sizeof...(UTypes)</span>, and
</p></li><li id='tuple.cnstr-17.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.cnstr-17.2'>(17.2)</a></div><p ><span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;&amp;&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>, and
</p></li><li id='tuple.cnstr-17.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.cnstr-17.3'>(17.3)</a></div><p ><span class='texttt'>sizeof...(Types) != 1</span>, or
(when <span class='texttt'>Types...</span> expands to <span class='texttt'>T</span> and <span class='texttt'>UTypes...</span> expands to <span class='texttt'>U</span>)
<span class='texttt'>!is_convertible_v&lt;tuple&lt;U&gt;, T&gt; &amp;&amp; !is_constructible_v&lt;T, tuple&lt;U&gt;&gt; &amp;&amp;!is_same_v&lt;T, U&gt;</span>
is <span class='texttt'>true</span>.
</p></li></ul><p >The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span>
for at least one <span class='math'><span class='mathalpha'>i</span></span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><span class='indexparent'><a class='index' id='pair'></a></span><code class='itemdecl'>
template &lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(const pair&lt;U1, U2&gt;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-18'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1719'>#</a></div><p ><i>Effects:</i> Initializes the first element with <span class='texttt'>u.first</span> and the
second element with <span class='texttt'>u.second</span>.</p></div></div><div class='para' id='tuple.cnstr-19'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1723'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
<span class='texttt'>sizeof...(Types) == 2</span>,
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, const U1&amp;&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, const U2&amp;&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='tuple.cnstr-20'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1729'>#</a></div><p >The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;const U1&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span> or
<span class='texttt'>is_convertible_v&lt;const U2&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><span class='indexparent'><a class='index' id='pair'></a></span><code class='itemdecl'>
template &lt;class U1, class U2&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr tuple(pair&lt;U1, U2&gt;&amp;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-21'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1742'>#</a></div><p ><i>Effects:</i> Initializes the first element with
<span class='texttt'>std::forward&lt;U1&gt;(u.first)</span> and the
second element with <span class='texttt'>std::forward&lt;U2&gt;(u.second)</span>.</p></div></div><div class='para' id='tuple.cnstr-22'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1747'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
<span class='texttt'>sizeof...(Types) == 2</span>,
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, U1&amp;&amp;&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, U2&amp;&amp;&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='tuple.cnstr-23'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1753'>#</a></div><p >The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;U1&amp;&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span> or
<span class='texttt'>is_convertible_v&lt;U2&amp;&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple,constructor'></a></span><code class='itemdecl'>
template &lt;class Alloc&gt;
  tuple(allocator_arg_t, const Alloc&amp; a);
template &lt;class Alloc&gt;
  <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, const Types&amp;...);
template &lt;class Alloc, class... UTypes&gt;
  <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, UTypes&amp;&amp;...);
template &lt;class Alloc&gt;
  tuple(allocator_arg_t, const Alloc&amp; a, const tuple&amp;);
template &lt;class Alloc&gt;
  tuple(allocator_arg_t, const Alloc&amp; a, tuple&amp;&amp;);
template &lt;class Alloc, class... UTypes&gt;
  <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, const tuple&lt;UTypes...&gt;&amp;);
template &lt;class Alloc, class... UTypes&gt;
  <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, tuple&lt;UTypes...&gt;&amp;&amp;);
template &lt;class Alloc, class U1, class U2&gt;
  <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, const pair&lt;U1, U2&gt;&amp;);
template &lt;class Alloc, class U1, class U2&gt;
  <i><span class='texttt'>EXPLICIT</span></i> tuple(allocator_arg_t, const Alloc&amp; a, pair&lt;U1, U2&gt;&amp;&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.cnstr-24'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1782'>#</a></div><p ><i>Requires:</i> <span class='texttt'>Alloc</span> shall meet the requirements for an
<span class='texttt'>Allocator</span> (<a href='allocator.requirements'>[allocator.requirements]</a>).</p></div></div><div class='para' id='tuple.cnstr-25'><div class='marginalizedparent'><a class='marginalized' href='#tuple.cnstr-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1786'>#</a></div><p ><i>Effects:</i> Equivalent to the preceding constructors except that each element is constructed with
uses-allocator construction (<a href='allocator.uses.construction'>[allocator.uses.construction]</a>).
</p></div></div></div><div id='tuple.assign'><h4 ><a class='secnum' href='#tuple.assign' style='min-width:118pt'>20.5.3.2</a> Assignment <a class='abbr_ref' href='tuple.assign'>[tuple.assign]</a></h4><div class='para' id='tuple.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1793'>#</a></div><p >For each <span class='texttt'>tuple</span> assignment operator, an exception is thrown only if the
assignment of one of the types in <span class='texttt'>Types</span> throws an exception.
In the function descriptions that follow, let <span class='math'><span class='mathalpha'>i</span></span> be in the range <span class='texttt'>[0, sizeof...(Types))</span>
in order, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in <span class='texttt'>Types</span>,
and <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in a
template parameter pack named <span class='texttt'>UTypes</span>, where indexing is zero-based.</p><p ><span class='indexparent'><a class='index' id='operator=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator='></a></span><code class='itemdecl'>
tuple&amp; operator=(const tuple&amp; u);
</code></p></div><div class='itemdescr'></div><div class='para' id='tuple.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1807'>#</a></div><p ><i>Effects:</i> Assigns each element of <span class='texttt'>u</span> to the corresponding
element of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='tuple.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1811'>#</a></div><p ><i>Remarks:</i> This operator shall be defined as deleted unless
<span class='texttt'>is_copy_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='tuple.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1815'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator='></a></span><code class='itemdecl'>
tuple&amp; operator=(tuple&amp;&amp; u) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1825'>#</a></div><p ><i>Effects:</i> For all <span class='math'><span class='mathalpha'>i</span></span>, assigns <span class='texttt'>std::forward&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(u))</span> to
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this)</span>.</p></div></div><div class='para' id='tuple.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1829'>#</a></div><p ><i>Remarks:</i> This operator shall be defined as deleted unless
<span class='texttt'>is_move_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='tuple.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1833'>#</a></div><p ><i>Remarks:</i> The expression inside <span class='texttt'>noexcept</span> is equivalent to the logical <span class='textsc'>and</span> of the
following expressions:</p><pre class='codeblock'>
is_nothrow_move_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</pre><p >where <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in <span class='texttt'>Types</span>.</p></div></div><div class='para' id='tuple.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1842'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator='></a></span><code class='itemdecl'>
template &lt;class... UTypes&gt; tuple&amp; operator=(const tuple&lt;UTypes...&gt;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1852'>#</a></div><p ><i>Effects:</i> Assigns each element of <span class='texttt'>u</span> to the corresponding element
of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='tuple.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1856'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload resolution unless
<span class='texttt'>sizeof...(Types) == sizeof...(UTypes)</span> and
<span class='texttt'>is_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;, const <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='tuple.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1861'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator='></a></span><code class='itemdecl'>
template &lt;class... UTypes&gt; tuple&amp; operator=(tuple&lt;UTypes...&gt;&amp;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1871'>#</a></div><p ><i>Effects:</i> For all <span class='math'><span class='mathalpha'>i</span></span>, assigns <span class='texttt'>std::forward&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(u))</span> to
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this)</span>.</p></div></div><div class='para' id='tuple.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1875'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload resolution unless
<span class='texttt'>is_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&amp;&amp;&gt; == true</span> for all <span class='math'><span class='mathalpha'>i</span></span> and
<span class='texttt'>sizeof...(Types) == sizeof...(UTypes)</span>.</p></div></div><div class='para' id='tuple.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1880'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator='></a></span><span class='indexparent'><a class='index' id='pair'></a></span><code class='itemdecl'>
template &lt;class U1, class U2&gt; tuple&amp; operator=(const pair&lt;U1, U2&gt;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.assign-15'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1891'>#</a></div><p ><i>Effects:</i> Assigns <span class='texttt'>u.first</span> to the first element of <span class='texttt'>*this</span>
and <span class='texttt'>u.second</span> to the second element of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='tuple.assign-16'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1895'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload resolution unless
<span class='texttt'>sizeof...(Types) == 2</span> and
<span class='texttt'>is_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&amp;, const U1&amp;&gt;</span> is <span class='texttt'>true</span> for the first type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> in
<span class='texttt'>Types</span> and <span class='texttt'>is_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>&amp;, const U2&amp;&gt;</span> is <span class='texttt'>true</span> for the
second type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> in <span class='texttt'>Types</span>.</p></div></div><div class='para' id='tuple.assign-17'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1902'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator='></a></span><span class='indexparent'><a class='index' id='pair'></a></span><code class='itemdecl'>
template &lt;class U1, class U2&gt; tuple&amp; operator=(pair&lt;U1, U2&gt;&amp;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.assign-18'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1913'>#</a></div><p ><i>Effects:</i> Assigns <span class='texttt'>std::forward&lt;U1&gt;(u.first)</span> to the first
element of <span class='texttt'>*this</span> and<br/> <span class='texttt'>std::forward&lt;U2&gt;(u.second)</span> to the
second element of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='tuple.assign-19'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1918'>#</a></div><p ><i>Remarks:</i>
This operator shall not participate in overload resolution unless
<span class='texttt'>sizeof...(Types) == 2</span> and
<span class='texttt'>is_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&amp;, U1&amp;&amp;&gt;</span> is <span class='texttt'>true</span> for the first type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> in
<span class='texttt'>Types</span> and <span class='texttt'>is_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>&amp;, U2&amp;&amp;&gt;</span> is <span class='texttt'>true</span> for the second
type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> in <span class='texttt'>Types</span>.</p></div></div><div class='para' id='tuple.assign-20'><div class='marginalizedparent'><a class='marginalized' href='#tuple.assign-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1926'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='tuple.swap'><h4 ><a class='secnum' href='#tuple.swap' style='min-width:118pt'>20.5.3.3</a> <span class='texttt'>swap</span> <a class='abbr_ref' href='tuple.swap'>[tuple.swap]</a></h4><p ><span class='indexparent'><a class='index' id='swap,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,swap'></a></span><code class='itemdecl'>
void swap(tuple&amp; rhs) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1938'>#</a></div><p ><i>Requires:</i>
Each element in <span class='texttt'>*this</span> shall be swappable with (<a href='swappable.requirements'>[swappable.requirements]</a>)
the corresponding element in <span class='texttt'>rhs</span>.</p></div></div><div class='para' id='tuple.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1943'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>swap</span> for each element in <span class='texttt'>*this</span> and its
corresponding element in <span class='texttt'>rhs</span>.</p></div></div><div class='para' id='tuple.swap-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple.swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1947'>#</a></div><p ><i>Remarks:</i> The expression inside <span class='texttt'>noexcept</span> is equivalent to the logical
<span class='textsc'>and</span> of the following expressions:</p><pre class='codeblock'>
is_nothrow_swappable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</pre><p >where <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mtext" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in <span class='texttt'>Types</span>.</p></div></div><div class='para' id='tuple.swap-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple.swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1956'>#</a></div><p ><i>Throws:</i> Nothing unless one of the element-wise <span class='texttt'>swap</span> calls throws an exception.
</p></div></div></div><div id='tuple.creation'><h4 ><a class='secnum' href='#tuple.creation' style='min-width:118pt'>20.5.3.4</a> Tuple creation functions <a class='abbr_ref' href='tuple.creation'>[tuple.creation]</a></h4><div class='para' id='tuple.creation-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1962'>#</a></div><p >In the function descriptions that follow, let <span class='math'><span class='mathalpha'>i</span></span> be in the range <span class='texttt'>[0, sizeof...(TTypes))</span>
in order and let <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> type in a template parameter pack named <span class='texttt'>TTypes</span>;
let <span class='math'><span class='mathalpha'>j</span></span> be in the range <span class='texttt'>[0, sizeof...(UTypes))</span> in order and <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> type
in a template parameter pack named <span class='texttt'>UTypes</span>, where indexing is zero-based.</p><p ><span class='indexparent'><a class='index' id='make_tuple'></a></span><span class='indexparent'><a class='index' id='tuple,make_tuple'></a></span><code class='itemdecl'>
template&lt;class... Types&gt;
  constexpr tuple&lt;<i>VTypes</i>...&gt; make_tuple(Types&amp;&amp;... t);
</code></p></div><div class='itemdescr'></div><div class='para' id='tuple.creation-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1975'>#</a></div><p >Let <span class='texttt'><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> be <span class='texttt'>decay_t&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> for each
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>Types</span>. If <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is a specialization of
<span class='texttt'>reference_wrapper</span>, then <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">V</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>VTypes</span> is <span class='texttt'><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>::type&amp;</span>,
otherwise <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">V</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>.</p></div></div><div class='para' id='tuple.creation-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1980'>#</a></div><p ><i>Returns:</i> <span class='texttt'>tuple&lt;VTypes...&gt;(std::forward&lt;Types&gt;(t)...)</span>.</p></div></div><div class='para' id='tuple.creation-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L1983'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i></p><pre class='codeblock'>
int i; float j;
make_tuple(1, ref(i), cref(j))</pre><p >creates a tuple of type</p><pre class='codeblock'>
tuple&lt;int, int&amp;, const float&amp;&gt;</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><p ><span class='indexparent'><a class='index' id='forward_as_tuple'></a></span><span class='indexparent'><a class='index' id='tuple,forward_as_tuple'></a></span><code class='itemdecl'>
template&lt;class... Types&gt;
  constexpr tuple&lt;Types&amp;&amp;...&gt; forward_as_tuple(Types&amp;&amp;... t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.creation-5'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2009'>#</a></div><p ><i>Effects:</i> Constructs a tuple of references to the arguments in <span class='texttt'>t</span> suitable
for forwarding as arguments to a function. Because the result may contain references
to temporary variables, a program shall ensure that the return value of this
function does not outlive any of its arguments. (e.g., the program should typically
not store the result in a named variable).</p></div></div><div class='para' id='tuple.creation-6'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2016'>#</a></div><p ><i>Returns:</i> <span class='texttt'>tuple&lt;Types&amp;&amp;...&gt;(std::forward&lt;Types&gt;(t)...)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tie'></a></span><span class='indexparent'><a class='index' id='ignore'></a></span><span class='indexparent'><a class='index' id='tuple,tie'></a></span><code class='itemdecl'>
template&lt;class... Types&gt;
  constexpr tuple&lt;Types&amp;...&gt; tie(Types&amp;... t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.creation-7'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2029'>#</a></div><p ><i>Returns:</i> <span class='texttt'>tuple&lt;Types&amp;...&gt;(t...)</span>.  When an
argument in <span class='texttt'>t</span> is <span class='texttt'>ignore</span>, assigning
any value to the corresponding tuple element has no effect.</p></div></div><div class='para' id='tuple.creation-8'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2034'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
<span class='texttt'>tie</span> functions allow one to create tuples that unpack
tuples into variables. <span class='texttt'>ignore</span> can be used for elements that
are not needed:
</p><pre class='codeblock'>
int i; std::string s;
tie(i, ignore, s) = make_tuple(42, 3.14, "C++");
<span class='comment'>// <span class='texttt'>i == 42</span>, <span class='texttt'>s == "C++"</span>
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple_cat'></a></span>
<code class='itemdecl'>
template &lt;class... Tuples&gt;
  constexpr tuple&lt;<i>CTypes</i>...&gt; tuple_cat(Tuples&amp;&amp;... tpls);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.creation-9'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2054'>#</a></div><p >In the following paragraphs, let <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> type in <span class='texttt'>Tuples</span>,
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be <span class='texttt'>remove_reference_t&lt;Ti&gt;</span>, and <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-4" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-6" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span>
parameter in the function parameter pack <span class='texttt'>tpls</span>, where all indexing is
zero-based.</p></div></div><div class='para' id='tuple.creation-10'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2060'>#</a></div><p ><i>Requires:</i> For all <span class='math'><span class='mathalpha'>i</span></span>, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> shall be the type
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">cv</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> <span class='texttt'>tuple&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span id="MJXc-Node-9" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span id="MJXc-Node-10" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span id="MJXc-Node-11" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span></span></span></span>&gt;</span>, where <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">cv</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the (possibly empty) <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span>
cv-qualifier-seq and <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the parameter pack representing the element
types in <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>. Let <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-texatom"><span id="MJXc-Node-4" class="mjx-mrow"><span id="MJXc-Node-5" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-6" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-texatom" style=""><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.631em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-9" class="mjx-texatom" style=""><span id="MJXc-Node-10" class="mjx-mrow"><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> type in <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>. For all
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span> the following requirements shall be satisfied: If <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is
deduced as an lvalue reference type, then
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span>, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span id="MJXc-Node-4" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-6" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span>&amp;&gt; == true</span>, otherwise
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span>, <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span id="MJXc-Node-4" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-6" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span id="MJXc-Node-7" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-9" class="mjx-texatom" style=""><span id="MJXc-Node-10" class="mjx-mrow"><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span>&amp;&amp;&gt; == true</span>.</p></div></div><div class='para' id='tuple.creation-11'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2070'>#</a></div><p ><i>Remarks:</i> The types in <span class='texttt'><i>Ctypes</i></span> shall be equal to the ordered
sequence of the extended types
<span class='texttt'><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>..., <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>...,</span> ... <span class='texttt'><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-texatom" style=""><span id="MJXc-Node-9" class="mjx-mrow"><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span id="MJXc-Node-11" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span id="MJXc-Node-12" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>...</span>, where <span class='math'><span class='mathalpha'>n</span></span> is
equal to <span class='texttt'>sizeof...(Tuples)</span>. Let <span class='texttt'><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>...</span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span>
ordered sequence of tuple elements of the resulting <span class='texttt'>tuple</span> object
corresponding to the type sequence <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>.</p></div></div><div class='para' id='tuple.creation-12'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2078'>#</a></div><p ><i>Returns:</i> A <span class='texttt'>tuple</span> object constructed by initializing the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-8" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.631em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-9" class="mjx-texatom" style=""><span id="MJXc-Node-10" class="mjx-mrow"><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span>
type element <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span> in <span class='texttt'><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>...</span> with<br/>
<span class='texttt'>get&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;(std::forward&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;(<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-4" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-5" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-6" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>))</span> for each valid <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and
each group <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in order.</p></div></div><div class='para' id='tuple.creation-13'><div class='marginalizedparent'><a class='marginalized' href='#tuple.creation-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2084'>#</a></div><p ><i>Note:</i> An implementation may support additional types in the parameter
pack <span class='texttt'>Tuples</span> that support the <span class='texttt'>tuple</span>-like protocol, such as
<span class='texttt'>pair</span> and <span class='texttt'>array</span>.
</p></div></div></div><div id='tuple.apply'><h4 ><a class='secnum' href='#tuple.apply' style='min-width:118pt'>20.5.3.5</a> Calling a function with a <span class='texttt'>tuple</span> of arguments <a class='abbr_ref' href='tuple.apply'>[tuple.apply]</a></h4><p ><span class='indexparent'><a class='index' id='apply'></a></span><code class='itemdecl'>
template &lt;class F, class Tuple&gt;
  constexpr decltype(auto) apply(F&amp;&amp; f, Tuple&amp;&amp; t);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.apply-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.apply-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2099'>#</a></div><p ><i>Effects:</i>
Given the exposition-only function:
</p><pre class='codeblock'>
template &lt;class F, class Tuple, size_t... I&gt;
constexpr decltype(auto)
    apply_impl(F&amp;&amp; f, Tuple&amp;&amp; t, index_sequence&lt;I...&gt;) {                <span class='comment'>// exposition only
</span>  return <i>INVOKE</i>(std::forward&lt;F&gt;(f), std::get&lt;I&gt;(std::forward&lt;Tuple&gt;(t))...);
}</pre><p >Equivalent to:
</p><pre class='codeblock'>
return apply_impl(std::forward&lt;F&gt;(f), std::forward&lt;Tuple&gt;(t),
                  make_index_sequence&lt;tuple_size_v&lt;decay_t&lt;Tuple&gt;&gt;&gt;{});</pre></div></div><p ><span class='indexparent'><a class='index' id='make_from_tuple'></a></span><code class='itemdecl'>
template &lt;class T, class Tuple&gt;
  constexpr T make_from_tuple(Tuple&amp;&amp; t);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.apply-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.apply-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2123'>#</a></div><p ><i>Effects:</i>
Given the exposition-only function:
</p><pre class='codeblock'>
template &lt;class T, class Tuple, size_t... I&gt;
constexpr T make_from_tuple_impl(Tuple&amp;&amp; t, index_sequence&lt;I...&gt;) {     <span class='comment'>// exposition only
</span>  return T(get&lt;I&gt;(std::forward&lt;Tuple&gt;(t))...);
}</pre><p >Equivalent to:
</p><pre class='codeblock'>
return make_from_tuple_impl&lt;T&gt;(forward&lt;Tuple&gt;(t),
                               make_index_sequence&lt;tuple_size_v&lt;decay_t&lt;Tuple&gt;&gt;&gt;{});</pre><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The type of <span class='texttt'>T</span> must be supplied
as an explicit template parameter,
as it cannot be deduced from the argument list. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='tuple.helper'><h4 ><a class='secnum' href='#tuple.helper' style='min-width:118pt'>20.5.3.6</a> Tuple helper classes <a class='abbr_ref' href='tuple.helper'>[tuple.helper]</a></h4><p ><span class='indexparent'><a class='index' id='tuple_size,in_general'></a></span><code class='itemdecl'>
template &lt;class T&gt; struct tuple_size;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.helper-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2150'>#</a></div><p ><i>Remarks:</i> All specializations of <span class='texttt'>tuple_size</span> shall meet the
<span class='texttt'>UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>) with a
base characteristic of <span class='texttt'>integral_constant&lt;size_t, N&gt;</span>
for some <span class='texttt'>N</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple_size'></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  class tuple_size&lt;tuple&lt;Types...&gt;&gt; : public integral_constant&lt;size_t, sizeof...(Types)&gt; { };
</code></p><p ><span class='indexparent'><a class='index' id='tuple_element'></a></span><code class='itemdecl'>
template &lt;size_t I, class... Types&gt;
  class tuple_element&lt;I, tuple&lt;Types...&gt;&gt; {
  public:
    using type = TI;
  };
</code></p><div class='itemdescr'></div><div class='para' id='tuple.helper-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2173'>#</a></div><p ><i>Requires:</i> <span class='texttt'>I &lt; sizeof...(Types)</span>.
The program is ill-formed if <span class='texttt'>I</span> is out of bounds.</p></div></div><div class='para' id='tuple.helper-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2177'>#</a></div><p ><i>Type:</i> <span class='texttt'>TI</span> is the
type of the <span class='texttt'>I</span>th element of <span class='texttt'>Types</span>,
where indexing is zero-based.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple_size'></a></span><code class='itemdecl'>
template &lt;class T&gt; class tuple_size&lt;const T&gt;;
template &lt;class T&gt; class tuple_size&lt;volatile T&gt;;
template &lt;class T&gt; class tuple_size&lt;const volatile T&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.helper-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2191'>#</a></div><p >Let <span class='texttt'><i>TS</i></span> denote <span class='texttt'>tuple_size&lt;T&gt;</span> of the <i>cv</i>-unqualified type <span class='texttt'>T</span>.
If the expression <span class='texttt'><i>TS</i>::value</span> is well-formed
when treated as an unevaluated operand, then each
of the three templates shall meet the <span class='texttt'>UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>)
with a base characteristic of
</p><pre class='codeblock'>
integral_constant&lt;size_t, <i>TS</i>::value&gt;</pre><p >Otherwise, they shall have no member <span class='texttt'>value</span>.</p></div></div><div class='para' id='tuple.helper-5'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2202'>#</a></div><p >Access checking is performed as if in a context
unrelated to <span class='texttt'><i>TS</i></span> and <span class='texttt'>T</span>.
Only the validity of the immediate context of the expression is considered.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The compilation of the expression can result in side effects
such as the instantiation of class template specializations and
function template specializations, the generation of implicitly-defined functions, and so on.
Such side effects are not in the “immediate context” and
can result in the program being ill-formed.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='tuple.helper-6'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2214'>#</a></div><p >In addition to being available via inclusion of the <span class='texttt'>&lt;tuple&gt;</span> header,
the three templates are available when either of the headers <span class='texttt'>&lt;array&gt;</span> or
<span class='texttt'>&lt;utility&gt;</span> are included.
</p></div></div><p ><span class='indexparent'><a class='index' id='tuple_element'></a></span><code class='itemdecl'>
template &lt;size_t I, class T&gt; class tuple_element&lt;I, const T&gt;;
template &lt;size_t I, class T&gt; class tuple_element&lt;I, volatile T&gt;;
template &lt;size_t I, class T&gt; class tuple_element&lt;I, const volatile T&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.helper-7'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2228'>#</a></div><p >Let <span class='texttt'><i>TE</i></span> denote <span class='texttt'>tuple_element_t&lt;I, T&gt;</span> of the <i>cv</i>-unqualified type <span class='texttt'>T</span>. Then
each of the three templates shall meet the <span class='texttt'>TransformationTrait</span>
requirements (<a href='meta.rqmts'>[meta.rqmts]</a>) with a member typedef <span class='texttt'>type</span> that names the following
type:</p><ul class='itemize'><li id='tuple.helper-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.helper-7.1'>(7.1)</a></div><p >for the first specialization, <span class='texttt'>add_const_t&lt;<i>TE</i>&gt;</span>,
</p></li><li id='tuple.helper-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.helper-7.2'>(7.2)</a></div><p >for the second specialization, <span class='texttt'>add_volatile_t&lt;<i>TE</i>&gt;</span>, and
</p></li><li id='tuple.helper-7.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#tuple.helper-7.3'>(7.3)</a></div><p >for the third specialization, <span class='texttt'>add_cv_t&lt;<i>TE</i>&gt;</span>.
</p></li></ul></div></div><div class='para' id='tuple.helper-8'><div class='marginalizedparent'><a class='marginalized' href='#tuple.helper-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2243'>#</a></div><p >In addition to being available via inclusion of the <span class='texttt'>&lt;tuple&gt;</span> header,
the three templates are available when either of the headers <span class='texttt'>&lt;array&gt;</span> or
<span class='texttt'>&lt;utility&gt;</span> are included.
</p></div></div></div><div id='tuple.elem'><h4 ><a class='secnum' href='#tuple.elem' style='min-width:118pt'>20.5.3.7</a> Element access <a class='abbr_ref' href='tuple.elem'>[tuple.elem]</a></h4><p ><span class='indexparent'><a class='index' id='get,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,get'></a></span><code class='itemdecl'>
template &lt;size_t I, class... Types&gt;
  constexpr tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp;
    get(tuple&lt;Types...&gt;&amp; t) noexcept;
template &lt;size_t I, class... Types&gt;
  constexpr tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp;&amp;
    get(tuple&lt;Types...&gt;&amp;&amp; t) noexcept;        <span class='comment'>// Note A
</span>template &lt;size_t I, class... Types&gt;
  constexpr const tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp;
    get(const tuple&lt;Types...&gt;&amp; t) noexcept;   <span class='comment'>// Note B
</span>template &lt;size_t I, class... Types&gt;
  constexpr const tuple_element_t&lt;I, tuple&lt;Types...&gt;&gt;&amp;&amp; get(const tuple&lt;Types...&gt;&amp;&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.elem-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2267'>#</a></div><p ><i>Requires:</i> <span class='texttt'>I &lt; sizeof...(Types)</span>.
The program is ill-formed if <span class='texttt'>I</span> is out of bounds.</p></div></div><div class='para' id='tuple.elem-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2271'>#</a></div><p ><i>Returns:</i> A reference to the <span class='texttt'>I</span>th element of <span class='texttt'>t</span>, where
indexing is zero-based.</p></div></div><div class='para' id='tuple.elem-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2275'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note A:</i>
If a <span class='texttt'>T</span> in <span class='texttt'>Types</span> is some reference type <span class='texttt'>X&amp;</span>,
the return type is <span class='texttt'>X&amp;</span>, not <span class='texttt'>X&amp;&amp;</span>.
However, if the element type is a non-reference type <span class='texttt'>T</span>,
the return type is <span class='texttt'>T&amp;&amp;</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='tuple.elem-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2283'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note B:</i>
Constness is shallow. If a <span class='texttt'>T</span>
in <span class='texttt'>Types</span> is some
reference type <span class='texttt'>X&amp;</span>, the return type is <span class='texttt'>X&amp;</span>, not <span class='texttt'>const X&amp;</span>.
However, if the element type is a non-reference type <span class='texttt'>T</span>,
the return type is <span class='texttt'>const T&amp;</span>.
This is consistent with how constness is defined to work
for member variables of reference type.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='get,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,get'></a></span><code class='itemdecl'>
template &lt;class T, class... Types&gt;
  constexpr T&amp; get(tuple&lt;Types...&gt;&amp; t) noexcept;
template &lt;class T, class... Types&gt;
  constexpr T&amp;&amp; get(tuple&lt;Types...&gt;&amp;&amp; t) noexcept;
template &lt;class T, class... Types&gt;
  constexpr const T&amp; get(const tuple&lt;Types...&gt;&amp; t) noexcept;
template &lt;class T, class... Types&gt;
  constexpr const T&amp;&amp; get(const tuple&lt;Types...&gt;&amp;&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='tuple.elem-5'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2308'>#</a></div><p ><i>Requires:</i> The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types...</span>.
Otherwise, the program is ill-formed.</p></div></div><div class='para' id='tuple.elem-6'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2312'>#</a></div><p ><i>Returns:</i> A reference to the element of <span class='texttt'>t</span> corresponding to the type
<span class='texttt'>T</span> in <span class='texttt'>Types...</span>.</p></div></div><div class='para' id='tuple.elem-7'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2316'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
  const tuple&lt;int, const int, double, double&gt; t(1, 2, 3.4, 5.6);
  const int&amp; i1 = get&lt;int&gt;(t);        <span class='comment'>// OK. Not ambiguous. i1 == 1
</span>  const int&amp; i2 = get&lt;const int&gt;(t);  <span class='comment'>// OK. Not ambiguous. i2 == 2
</span>  const double&amp; d = get&lt;double&gt;(t);   <span class='comment'>// ERROR. ill-formed
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><div class='para' id='tuple.elem-8'><div class='marginalizedparent'><a class='marginalized' href='#tuple.elem-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2327'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The reason <span class='texttt'>get</span> is a
non-member function is that if this functionality had been
provided as a member function, code where the type
depended on a template parameter would have required using
the <span class='texttt'>template</span> keyword. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='tuple.rel'><h4 ><a class='secnum' href='#tuple.rel' style='min-width:118pt'>20.5.3.8</a> Relational operators <a class='abbr_ref' href='tuple.rel'>[tuple.rel]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator=='></a></span><code class='itemdecl'>
template&lt;class... TTypes, class... UTypes&gt;
  constexpr bool operator==(const tuple&lt;TTypes...&gt;&amp; t, const tuple&lt;UTypes...&gt;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.rel-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2343'>#</a></div><p ><i>Requires:</i> For all <span class='texttt'>i</span>,
where <span class='texttt'>0 &lt;= i</span> and
<span class='texttt'>i &lt; sizeof...(TTypes)</span>, <span class='texttt'>get&lt;i&gt;(t) == get&lt;i&gt;(u)</span> is a valid expression
returning a type that is convertible to <span class='texttt'>bool</span>.
<span class='texttt'>sizeof...(TTypes)</span> <span class='texttt'>==</span>
<span class='texttt'>sizeof...(UTypes)</span>.</p></div></div><div class='para' id='tuple.rel-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2351'>#</a></div><p ><i>Returns:</i> <span class='texttt'>true</span> if <span class='texttt'>get&lt;i&gt;(t) == get&lt;i&gt;(u)</span> for all
<span class='texttt'>i</span>, otherwise <span class='texttt'>false</span>.
For any two zero-length tuples <span class='texttt'>e</span> and <span class='texttt'>f</span>, <span class='texttt'>e == f</span> returns <span class='texttt'>true</span>.</p></div></div><div class='para' id='tuple.rel-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2356'>#</a></div><p ><i>Effects:</i> The elementary comparisons are performed in order from the
zeroth index upwards.  No comparisons or element accesses are
performed after the first equality comparison that evaluates to
<span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator<'></a></span><code class='itemdecl'>
template&lt;class... TTypes, class... UTypes&gt;
  constexpr bool operator&lt;(const tuple&lt;TTypes...&gt;&amp; t, const tuple&lt;UTypes...&gt;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.rel-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2370'>#</a></div><p ><i>Requires:</i> For all <span class='texttt'>i</span>,
where <span class='texttt'>0 &lt;= i</span> and
<span class='texttt'>i &lt; sizeof...(TTypes)</span>, both <span class='texttt'>get&lt;i&gt;(t) &lt; get&lt;i&gt;(u)</span>
and <span class='texttt'>get&lt;i&gt;(u) &lt; get&lt;i&gt;(t)</span>
are valid expressions returning types that are
convertible to <span class='texttt'>bool</span>.
<span class='texttt'>sizeof...(TTypes)</span> <span class='texttt'>==</span>
<span class='texttt'>sizeof...(UTypes)</span>.</p></div></div><div class='para' id='tuple.rel-5'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2380'>#</a></div><p ><i>Returns:</i> The result of a lexicographical comparison
between <span class='texttt'>t</span> and <span class='texttt'>u</span>. The result is defined
as: <span class='texttt'>(bool)(get&lt;0&gt;(t) &lt; get&lt;0&gt;(u)) ||
(!(bool)(get&lt;0&gt;(u) &lt; get&lt;0&gt;(t)) &amp;&amp; t<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-texatom"><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">t</span></span><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">a</span></span><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">l</span></span></span></span></span></span></span></span></span></span></span> &lt;
u<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-texatom"><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">t</span></span><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">a</span></span><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">l</span></span></span></span></span></span></span></span></span></span></span>)</span>, where <span class='texttt'>r<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-texatom"><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">t</span></span><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">a</span></span><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">l</span></span></span></span></span></span></span></span></span></span></span></span> for some
tuple <span class='texttt'>r</span> is a tuple containing all but the first element
of <span class='texttt'>r</span>.  For any two zero-length tuples <span class='texttt'>e</span>
and <span class='texttt'>f</span>, <span class='texttt'>e &lt; f</span> returns <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator!='></a></span><code class='itemdecl'>
template&lt;class... TTypes, class... UTypes&gt;
  constexpr bool operator!=(const tuple&lt;TTypes...&gt;&amp; t, const tuple&lt;UTypes...&gt;&amp; u);
</code>
</p><div class='itemdescr'></div><div class='para' id='tuple.rel-6'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2396'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(t == u)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator>'></a></span><code class='itemdecl'>
template&lt;class... TTypes, class... UTypes&gt;
  constexpr bool operator&gt;(const tuple&lt;TTypes...&gt;&amp; t, const tuple&lt;UTypes...&gt;&amp; u);
</code>
</p><div class='itemdescr'></div><div class='para' id='tuple.rel-7'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2405'>#</a></div><p ><i>Returns:</i> <span class='texttt'>u &lt; t</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator<='></a></span><code class='itemdecl'>
template&lt;class... TTypes, class... UTypes&gt;
  constexpr bool operator&lt;=(const tuple&lt;TTypes...&gt;&amp; t, const tuple&lt;UTypes...&gt;&amp; u);
</code>
</p><div class='itemdescr'></div><div class='para' id='tuple.rel-8'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2414'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(u &lt; t)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,tuple'></a></span><span class='indexparent'><a class='index' id='tuple,operator>='></a></span><code class='itemdecl'>
template&lt;class... TTypes, class... UTypes&gt;
  constexpr bool operator&gt;=(const tuple&lt;TTypes...&gt;&amp; t, const tuple&lt;UTypes...&gt;&amp; u);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.rel-9'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2424'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(t &lt; u)</span>.
</p></div></div><div class='para' id='tuple.rel-10'><div class='marginalizedparent'><a class='marginalized' href='#tuple.rel-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2427'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The above definitions for comparison functions
do not require <span class='texttt'>t<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-texatom"><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">t</span></span><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">a</span></span><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">l</span></span></span></span></span></span></span></span></span></span></span></span>
(or <span class='texttt'>u<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-texatom"><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">t</span></span><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">a</span></span><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">l</span></span></span></span></span></span></span></span></span></span></span></span>) to be constructed. It may not
even be possible, as <span class='texttt'>t</span> and <span class='texttt'>u</span> are not required to be copy
constructible. Also, all comparison functions are short circuited;
they do not perform element accesses beyond what is required to determine the
result of the comparison. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='tuple.traits'><h4 ><a class='secnum' href='#tuple.traits' style='min-width:118pt'>20.5.3.9</a> Tuple traits <a class='abbr_ref' href='tuple.traits'>[tuple.traits]</a></h4><p ><span class='indexparent'><a class='index' id='uses_allocator<tuple>'></a></span><code class='itemdecl'>
template &lt;class... Types, class Alloc&gt;
  struct uses_allocator&lt;tuple&lt;Types...&gt;, Alloc&gt; : true_type { };
</code></p><div class='itemdescr'></div><div class='para' id='tuple.traits-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.traits-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2444'>#</a></div><p ><i>Requires:</i> <span class='texttt'>Alloc</span> shall be an <span class='texttt'>Allocator</span> (<a href='allocator.requirements'>[allocator.requirements]</a>).</p></div></div><div class='para' id='tuple.traits-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.traits-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2447'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Specialization of this trait informs other library components that
<span class='texttt'>tuple</span> can be constructed with an allocator, even though it does not have
a nested <span class='texttt'>allocator_type</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='tuple.special'><h4 ><a class='secnum' href='#tuple.special' style='min-width:118pt'>20.5.3.10</a> Tuple specialized algorithms <a class='abbr_ref' href='tuple.special'>[tuple.special]</a></h4><p ><span class='indexparent'><a class='index' id='swap'></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  void swap(tuple&lt;Types...&gt;&amp; x, tuple&lt;Types...&gt;&amp; y) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='tuple.special-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple.special-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2462'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>is_swappable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span>
for all <span class='math'><span class='mathalpha'>i</span></span>, where <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span id="MJXc-Node-4" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span id="MJXc-Node-5" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-6" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span id="MJXc-Node-7" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.519em;">sizeof...(Types)</span></span></span></span></span></span></span>.
The expression inside <span class='texttt'>noexcept</span> is equivalent to:</p><pre class='codeblock'>
noexcept(x.swap(y))</pre></div></div><div class='para' id='tuple.special-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple.special-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2472'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>x.swap(y)</span>.
</p></div></div></div></div></div><div id='optional'><h2 ><a class='secnum' href='#optional' style='min-width:88pt'>20.6</a> Optional objects <a class='abbr_ref' href='optional'>[optional]</a></h2><div id='optional.general'><h3 ><a class='secnum' href='#optional.general' style='min-width:103pt'>20.6.1</a> In general <a class='abbr_ref' href='optional.general'>[optional.general]</a></h3><div class='para' id='optional.general-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2480'>#</a></div><p >This subclause describes class template <span class='texttt'>optional</span> that represents
optional objects.
An <a class='hidden_link' href='#def:optional_object' id='def:optional_object'><i>optional object</i></a> is an
object that contains the storage for another object and manages the lifetime of
this contained object, if any. The contained object may be initialized after
the optional object has been initialized, and may be destroyed before the
optional object has been destroyed. The initialization state of the contained
object is tracked by the optional object.</p></div></div><div id='optional.syn'><h3 ><a class='secnum' href='#optional.syn' style='min-width:103pt'>20.6.2</a> Header <span class='texttt'>&lt;optional&gt;</span> synopsis <a class='abbr_ref' href='optional.syn'>[optional.syn]</a></h3><p ><span class='indexparent'><a class='index' id='optional'></a></span><span class='indexparent'><a class='index' id='optional'></a></span></p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='optional.optional'>[optional.optional]</a>, class template <span class='texttt'>optional</span>
</span>  template &lt;class T&gt;
    class optional;

  <span class='comment'>// <a href='optional.nullopt'>[optional.nullopt]</a>, no-value state indicator
</span>  struct nullopt_t{<i><span class='texttt'>see below</span></i>};
  constexpr nullopt_t nullopt(<i><span class='texttt'>unspecified</span></i>);

  <span class='comment'>// <a href='optional.bad.access'>[optional.bad.access]</a>, class <span class='texttt'>bad_optional_access</span>
</span>  class bad_optional_access;

  <span class='comment'>// <a href='optional.relops'>[optional.relops]</a>, relational operators
</span>  template &lt;class T&gt;
  constexpr bool operator==(const optional&lt;T&gt;&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt;
  constexpr bool operator!=(const optional&lt;T&gt;&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt;
  constexpr bool operator&lt;(const optional&lt;T&gt;&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt;
  constexpr bool operator&gt;(const optional&lt;T&gt;&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt;
  constexpr bool operator&lt;=(const optional&lt;T&gt;&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt;
  constexpr bool operator&gt;=(const optional&lt;T&gt;&amp;, const optional&lt;T&gt;&amp;);

  <span class='comment'>// <a href='optional.nullops'>[optional.nullops]</a>, comparison with <span class='texttt'>nullopt</span>
</span>  template &lt;class T&gt; constexpr bool operator==(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template &lt;class T&gt; constexpr bool operator==(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template &lt;class T&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template &lt;class T&gt; constexpr bool operator!=(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template &lt;class T&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template &lt;class T&gt; constexpr bool operator&lt;(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template &lt;class T&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template &lt;class T&gt; constexpr bool operator&lt;=(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template &lt;class T&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template &lt;class T&gt; constexpr bool operator&gt;(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template &lt;class T&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template &lt;class T&gt; constexpr bool operator&gt;=(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;

  <span class='comment'>// <a href='optional.comp_with_t'>[optional.comp_with_t]</a>, comparison with <span class='texttt'>T</span>
</span>  template &lt;class T&gt; constexpr bool operator==(const optional&lt;T&gt;&amp;, const T&amp;);
  template &lt;class T&gt; constexpr bool operator==(const T&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp;, const T&amp;);
  template &lt;class T&gt; constexpr bool operator!=(const T&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp;, const T&amp;);
  template &lt;class T&gt; constexpr bool operator&lt;(const T&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp;, const T&amp;);
  template &lt;class T&gt; constexpr bool operator&lt;=(const T&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp;, const T&amp;);
  template &lt;class T&gt; constexpr bool operator&gt;(const T&amp;, const optional&lt;T&gt;&amp;);
  template &lt;class T&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp;, const T&amp;);
  template &lt;class T&gt; constexpr bool operator&gt;=(const T&amp;, const optional&lt;T&gt;&amp;);

  <span class='comment'>// <a href='optional.specalg'>[optional.specalg]</a>, specialized algorithms
</span>  template &lt;class T&gt;
    void swap(optional&lt;T&gt;&amp;, optional&lt;T&gt;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

  template &lt;class T&gt;
    constexpr optional&lt;<i><span class='texttt'>see below</span></i>&gt; make_optional(T&amp;&amp;);
  template &lt;class T, class... Args&gt;
    constexpr optional&lt;T&gt; make_optional(Args&amp;&amp;... args);
  template &lt;class T, class U, class... Args&gt;
    constexpr optional&lt;T&gt; make_optional(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);

  <span class='comment'>// <a href='optional.hash'>[optional.hash]</a>, hash support
</span>  template &lt;class T&gt; struct hash;
  template &lt;class T&gt; struct hash&lt;optional&lt;T&gt;&gt;;
}</pre><div class='para' id='optional.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2566'>#</a></div><p >A program that necessitates the instantiation of template <span class='texttt'>optional</span> for
a reference type, or for possibly cv-qualified types <span class='texttt'>in_place_t</span> or
<span class='texttt'>nullopt_t</span> is ill-formed.</p></div></div><div id='optional.optional'><h3 ><a class='secnum' href='#optional.optional' style='min-width:103pt'>20.6.3</a> Class template <span class='texttt'>optional</span> <a class='abbr_ref' href='optional.optional'>[optional.optional]</a></h3><p ><span class='indexparent'><a class='index' id='optional'></a></span></p><pre class='codeblock'>
template &lt;class T&gt;
  class optional {
  public:
    using value_type = T;

    <span class='comment'>// <a href='optional.ctor'>[optional.ctor]</a>, constructors
</span>    constexpr optional() noexcept;
    constexpr optional(nullopt_t) noexcept;
    optional(const optional&amp;);
    optional(optional&amp;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);
    template &lt;class... Args&gt;
      constexpr explicit optional(in_place_t, Args&amp;&amp;...);
    template &lt;class U, class... Args&gt;
      constexpr explicit optional(in_place_t, initializer_list&lt;U&gt;, Args&amp;&amp;...);
    template &lt;class U = T&gt;
      <i><span class='texttt'>EXPLICIT</span></i> constexpr optional(U&amp;&amp;);
    template &lt;class U&gt;
      <i><span class='texttt'>EXPLICIT</span></i> optional(const optional&lt;U&gt;&amp;);
    template &lt;class U&gt;
      <i><span class='texttt'>EXPLICIT</span></i> optional(optional&lt;U&gt;&amp;&amp;);

    <span class='comment'>// <a href='optional.dtor'>[optional.dtor]</a>, destructor
</span>    ~optional();

    <span class='comment'>// <a href='optional.assign'>[optional.assign]</a>, assignment
</span>    optional&amp; operator=(nullopt_t) noexcept;
    optional&amp; operator=(const optional&amp;);
    optional&amp; operator=(optional&amp;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);
    template &lt;class U = T&gt; optional&amp; operator=(U&amp;&amp;);
    template &lt;class U&gt; optional&amp; operator=(const optional&lt;U&gt;&amp;);
    template &lt;class U&gt; optional&amp; operator=(optional&lt;U&gt;&amp;&amp;);
    template &lt;class... Args&gt; void emplace(Args&amp;&amp;...);
    template &lt;class U, class... Args&gt; void emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);

    <span class='comment'>// <a href='optional.swap'>[optional.swap]</a>, swap
</span>    void swap(optional&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

    <span class='comment'>// <a href='optional.observe'>[optional.observe]</a>, observers
</span>    constexpr const T* operator-&gt;() const;
    constexpr T* operator-&gt;();
    constexpr const T&amp; operator*() const&amp;;
    constexpr T&amp; operator*() &amp;;
    constexpr T&amp;&amp; operator*() &amp;&amp;;
    constexpr const T&amp;&amp; operator*() const&amp;&amp;;
    constexpr explicit operator bool() const noexcept;
    constexpr bool has_value() const noexcept;
    constexpr const T&amp; value() const&amp;;
    constexpr T&amp; value() &amp;;
    constexpr T&amp;&amp; value() &amp;&amp;;
    constexpr const T&amp;&amp; value() const&amp;&amp;;
    template &lt;class U&gt; constexpr T value_or(U&amp;&amp;) const&amp;;
    template &lt;class U&gt; constexpr T value_or(U&amp;&amp;) &amp;&amp;;

    <span class='comment'>// <a href='optional.mod'>[optional.mod]</a>, modifiers
</span>    void reset() noexcept;

  private:
    T *val; <span class='comment'>// <i>exposition only</i>
</span>  };</pre><div class='para' id='optional.optional-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.optional-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2636'>#</a></div><p >Any instance of <span class='texttt'>optional&lt;T&gt;</span> at any given time either contains a value or does not contain a value.
When an instance of <span class='texttt'>optional&lt;T&gt;</span> <a class='hidden_link' href='#def:contains_a_value,optional' id='def:contains_a_value,optional'><i>contains a value</i></a>,
it means that an object of type <span class='texttt'>T</span>, referred to as the optional object's <a class='hidden_link' href='#def:contained_value,optional' id='def:contained_value,optional'><i>contained value</i></a>,
is allocated within the storage of the optional object.
Implementations are not permitted to use additional storage, such as dynamic memory, to allocate its contained value.
The contained value shall be allocated in a region of the <span class='texttt'>optional&lt;T&gt;</span> storage suitably aligned for the type <span class='texttt'>T</span>.
When an object of type <span class='texttt'>optional&lt;T&gt;</span> is contextually converted to <span class='texttt'>bool</span>,
the conversion returns <span class='texttt'>true</span> if the object contains a value;
otherwise the conversion returns <span class='texttt'>false</span>.</p></div><div class='para' id='optional.optional-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.optional-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2647'>#</a></div><p >Member <span class='texttt'>val</span> is provided for exposition only. When an <span class='texttt'>optional&lt;T&gt;</span> object contains a value, <span class='texttt'>val</span> points to the contained value.</p></div><div class='para' id='optional.optional-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.optional-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2650'>#</a></div><p ><span class='texttt'>T</span> shall be an object type and shall satisfy the requirements of <span class='texttt'>Destructible</span> (Table <a href='utility.arg.requirements#tab:destructible'>[tab:destructible]</a>).</p></div><div id='optional.ctor'><h4 ><a class='secnum' href='#optional.ctor' style='min-width:118pt'>20.6.3.1</a> Constructors <a class='abbr_ref' href='optional.ctor'>[optional.ctor]</a></h4><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
constexpr optional() noexcept;
constexpr optional(nullopt_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2662'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> does not contain a value.</p></div></div><div class='para' id='optional.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2666'>#</a></div><p ><i>Remarks:</i>
No contained value is initialized.
For every object type <span class='texttt'>T</span> these constructors shall be constexpr constructors (<a href='dcl.constexpr'>[dcl.constexpr]</a>).
</p></div></div><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
optional(const optional&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='optional.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2678'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>rhs</span> contains a value, initializes the contained value as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>*rhs</span>.</p></div></div><div class='para' id='optional.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2683'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs) == bool(*this)</span>.</p></div></div><div class='para' id='optional.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2687'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p><p ><i>Remarks:</i>
This constructor shall be defined as deleted unless
<span class='texttt'>is_copy_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
optional(optional&amp;&amp; rhs) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='optional.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2702'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>rhs</span> contains a value, initializes the contained value as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std::move(*rhs)</span>.
<span class='texttt'>bool(rhs)</span> is unchanged.</p></div></div><div class='para' id='optional.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2708'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs) == bool(*this)</span>.</p></div></div><div class='para' id='optional.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2712'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2716'>#</a></div><p ><i>Remarks:</i>
The expression inside <span class='texttt'>noexcept</span> is equivalent to
<span class='texttt'>is_nothrow_move_constructible_v&lt;T&gt;</span>.
This constructor shall not participate in overload resolution
unless <span class='texttt'>is_move_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
template &lt;class... Args&gt; constexpr explicit optional(in_place_t, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='optional.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2730'>#</a></div><p ><i>Effects:</i>
Initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='optional.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2734'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2738'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2742'>#</a></div><p ><i>Remarks:</i>
If <span class='texttt'>T</span>'s constructor selected for the initialization is a constexpr constructor, this constructor shall be a <span class='texttt'>constexpr</span> constructor.
This constructor shall not participate in overload resolution
unless <span class='texttt'>is_constructible_v&lt;T, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
template &lt;class U, class... Args&gt;
  constexpr explicit optional(in_place_t, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='optional.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2756'>#</a></div><p ><i>Effects:</i>
Initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>il, std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='optional.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2760'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2764'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2768'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless <span class='texttt'>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args&amp;&amp;...&gt;</span> is <span class='texttt'>true</span>.
If <span class='texttt'>T</span>'s constructor selected for the initialization is a constexpr constructor, this constructor shall be a <span class='texttt'>constexpr</span> constructor.
</p></div></div><div class='para' id='optional.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2774'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The following constructors are conditionally specified as explicit.
This is typically implemented by declaring two such constructors,
of which at most one participates in overload resolution.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
template &lt;class U = T&gt; <i><span class='texttt'>EXPLICIT</span></i> constexpr optional(U&amp;&amp; v);
</code></p></div><div class='itemdescr'></div><div class='para' id='optional.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2787'>#</a></div><p ><i>Effects:</i>
Initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std::forward&lt;U&gt;(v)</span>.</p></div></div><div class='para' id='optional.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2792'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2796'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2800'>#</a></div><p ><i>Remarks:</i>
If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor,
this constructor shall be a constexpr constructor.
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;T, U&amp;&amp;&gt;</span> is <span class='texttt'>true</span>,
<span class='texttt'>is_same_v&lt;U, in_place_t&gt;</span> is <span class='texttt'>false</span>, and
<span class='texttt'>is_same_v&lt;optional&lt;T&gt;, decay_t&lt;U&gt;&gt;</span> is <span class='texttt'>false</span>.
The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;U&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
template &lt;class U&gt; <i><span class='texttt'>EXPLICIT</span></i> optional(const optional&lt;U&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='optional.ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2818'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>rhs</span> contains a value,
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>*rhs</span>.</p></div></div><div class='para' id='optional.ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2824'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs)</span> == <span class='texttt'>bool(*this)</span>.</p></div></div><div class='para' id='optional.ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2828'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2832'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
</p><ul class='itemize'><li id='optional.ctor-26.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.1'>(26.1)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const U&amp;&gt;</span> is <span class='texttt'>true</span>,
</p></li><li id='optional.ctor-26.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.2'>(26.2)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-26.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.3'>(26.3)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-26.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.4'>(26.4)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-26.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.5'>(26.5)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-26.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.6'>(26.6)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-26.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.7'>(26.7)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-26.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.8'>(26.8)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>, and
</p></li><li id='optional.ctor-26.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-26.9'>(26.9)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>.
</p></li></ul><p >The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;const U&amp;, T&gt;</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='optional,constructor'></a></span><code class='itemdecl'>
template &lt;class U&gt; <i><span class='texttt'>EXPLICIT</span></i> optional(optional&lt;U&gt;&amp;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='optional.ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2856'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>rhs</span> contains a value,
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std::move(*rhs)</span>.
<span class='texttt'>bool(rhs)</span> is unchanged.</p></div></div><div class='para' id='optional.ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2863'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs)</span> == <span class='texttt'>bool(*this)</span>.</p></div></div><div class='para' id='optional.ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2867'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#optional.ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2871'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
</p><ul class='itemize'><li id='optional.ctor-30.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.1'>(30.1)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, U&amp;&amp;&gt;</span> is true,
</p></li><li id='optional.ctor-30.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.2'>(30.2)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-30.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.3'>(30.3)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-30.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.4'>(30.4)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-30.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.5'>(30.5)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-30.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.6'>(30.6)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-30.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.7'>(30.7)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.ctor-30.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.8'>(30.8)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>, and
</p></li><li id='optional.ctor-30.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.ctor-30.9'>(30.9)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>.
</p></li></ul><p >The constructor is explicit if and only if
<span class='texttt'>is_convertible_v&lt;U&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>.
</p></div></div></div><div id='optional.dtor'><h4 ><a class='secnum' href='#optional.dtor' style='min-width:118pt'>20.6.3.2</a> Destructor <a class='abbr_ref' href='optional.dtor'>[optional.dtor]</a></h4><p ><span class='indexparent'><a class='index' id='optional,destructor'></a></span><code class='itemdecl'>
~optional();
</code></p><div class='itemdescr'></div><div class='para' id='optional.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2897'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>is_trivially_destructible_v&lt;T&gt; != true</span> and <span class='texttt'>*this</span> contains a value, calls <span class='texttt'>val-&gt;T::~T()</span>.</p></div></div><div class='para' id='optional.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2901'>#</a></div><p ><i>Remarks:</i>
If <span class='texttt'>is_trivially_destructible_v&lt;T&gt; == true</span> then this destructor shall be a trivial destructor.
</p></div></div></div><div id='optional.assign'><h4 ><a class='secnum' href='#optional.assign' style='min-width:118pt'>20.6.3.3</a> Assignment <a class='abbr_ref' href='optional.assign'>[optional.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator='></a></span><code class='itemdecl'>
optional&lt;T&gt;&amp; operator=(nullopt_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2914'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>*this</span> contains a value, calls <span class='texttt'>val-&gt;T::~T()</span> to destroy the contained value; otherwise no effect.</p></div></div><div class='para' id='optional.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2918'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='optional.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2922'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> does not contain a value.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator='></a></span><code class='itemdecl'>
optional&lt;T&gt;&amp; operator=(const optional&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2933'>#</a></div><p ><i>Effects:</i>
See Table <a href='#tab:optional.assign.copy'>[tab:optional.assign.copy]</a>.

 
 
 
 
 </p><div class='numberedTable' id='tab:optional.assign.copy'>Table <a href='#tab:optional.assign.copy'>35</a> — <span class='texttt'>optional::operator=(const optional&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'>


 
  </td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> contains a value</b></td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> does not contain a value</b></td></tr><tr class='rowsep'><td class='justify'> 

<b><span class='texttt'>rhs</span> contains a value</b> </td><td class='border justify'>
assigns <span class='texttt'>*rhs</span> to the contained value </td><td class='border justify'>
initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with <span class='texttt'>*rhs</span> </td></tr><tr class='rowsep'><td class='justify'>
<b><span class='texttt'>rhs</span> does not contain a value</b> </td><td class='border justify'>
destroys the contained value by calling <span class='texttt'>val-&gt;T::~T()</span> </td><td class='border justify'>
no effect </td></tr></table></div></div></div><div class='para' id='optional.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2950'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='optional.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2954'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs) == bool(*this)</span>.</p></div></div><div class='para' id='optional.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2958'>#</a></div><p ><i>Remarks:</i>
If any exception is thrown, the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged.
If an exception is thrown during the call to <span class='texttt'>T</span>'s copy constructor, no effect.
If an exception is thrown during the call to <span class='texttt'>T</span>'s copy assignment,
the state of its contained value is as defined by the exception safety guarantee of <span class='texttt'>T</span>'s copy assignment.
This operator shall be defined as deleted unless
<span class='texttt'>is_copy_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_copy_assignable_v&lt;T&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator='></a></span><code class='itemdecl'>
optional&lt;T&gt;&amp; operator=(optional&amp;&amp; rhs) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2975'>#</a></div><p ><i>Effects:</i>
See Table <a href='#tab:optional.assign.move'>[tab:optional.assign.move]</a>.
The result of the expression <span class='texttt'>bool(rhs)</span> remains unchanged.

 
 
 
 
 </p><div class='numberedTable' id='tab:optional.assign.move'>Table <a href='#tab:optional.assign.move'>36</a> — <span class='texttt'>optional::operator=(optional&amp;&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'>


 
  </td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> contains a value</b></td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> does not contain a value</b></td></tr><tr class='rowsep'><td class='justify'> 

<b><span class='texttt'>rhs</span> contains a value</b> </td><td class='border justify'>
assigns <span class='texttt'>std::move(*rhs)</span> to the contained value </td><td class='border justify'>
initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with <span class='texttt'>std::move(*rhs)</span> </td></tr><tr class='rowsep'><td class='justify'>
<b><span class='texttt'>rhs</span> does not contain a value</b> </td><td class='border justify'>
destroys the contained value by calling <span class='texttt'>val-&gt;T::~T()</span> </td><td class='border justify'>
no effect </td></tr></table></div></div></div><div class='para' id='optional.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2993'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='optional.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L2997'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs) == bool(*this)</span>.</p></div></div><div class='para' id='optional.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3001'>#</a></div><p ><i>Remarks:</i>
The expression inside <span class='texttt'>noexcept</span> is equivalent to:
</p><pre class='codeblock'>
is_nothrow_move_assignable_v&lt;T&gt; &amp;&amp; is_nothrow_move_constructible_v&lt;T&gt;</pre></div></div><div class='para' id='optional.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3008'>#</a></div><p >If any exception is thrown, the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged.
If an exception is thrown during the call to <span class='texttt'>T</span>'s move constructor,
the state of <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move constructor.
If an exception is thrown during the call to <span class='texttt'>T</span>'s move assignment,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move assignment.
This operator shall not participate in overload resolution unless
<span class='texttt'>is_move_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_move_assignable_v&lt;T&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator='></a></span><code class='itemdecl'>
template &lt;class U = T&gt; optional&lt;T&gt;&amp; operator=(U&amp;&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3025'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>*this</span> contains a value, assigns <span class='texttt'>std::forward&lt;U&gt;(v)</span> to the contained value; otherwise initializes the contained value as if direct-non-list-initializing object of type <span class='texttt'>T</span> with <span class='texttt'>std::forward&lt;U&gt;(v)</span>.</p></div></div><div class='para' id='optional.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3029'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='optional.assign-15'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3033'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.assign-16'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3037'>#</a></div><p ><i>Remarks:</i>
If any exception is thrown, the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged. If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, the state of <span class='texttt'>v</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s constructor. If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment, the state of <span class='texttt'>*val</span> and <span class='texttt'>v</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s assignment.
This function shall not participate in overload resolution unless
<span class='texttt'>is_same_v&lt;optional&lt;T&gt;, decay_t&lt;U&gt;&gt;</span> is <span class='texttt'>false</span>,
<span class='texttt'>conjunction_v&lt;is_scalar&lt;T&gt;, is_same&lt;T, decay_t&lt;U&gt;&gt;&gt;</span> is <span class='texttt'>false</span>,
<span class='texttt'>is_constructible_v&lt;T, U&gt;</span> is <span class='texttt'>true</span>, and
<span class='texttt'>is_assignable_v&lt;T&amp;, U&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator='></a></span><code class='itemdecl'>
template &lt;class U&gt; optional&lt;T&gt;&amp; operator=(const optional&lt;U&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-17'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3053'>#</a></div><p ><i>Effects:</i>
See Table <a href='#tab:optional.assign.copy.templ'>[tab:optional.assign.copy.templ]</a>.

 
 
 
 
 </p><div class='numberedTable' id='tab:optional.assign.copy.templ'>Table <a href='#tab:optional.assign.copy.templ'>37</a> — <span class='texttt'>optional::operator=(const optional&lt;U&gt;&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'>


 
  </td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> contains a value</b></td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> does not contain a value</b></td></tr><tr class='rowsep'><td class='justify'> 

<b><span class='texttt'>rhs</span> contains a value</b> </td><td class='border justify'>
assigns <span class='texttt'>*rhs</span> to the contained value </td><td class='border justify'>
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with <span class='texttt'>*rhs</span> </td></tr><tr class='rowsep'><td class='justify'>
<b><span class='texttt'>rhs</span> does not contain a value</b> </td><td class='border justify'>
destroys the contained value by calling <span class='texttt'>val-&gt;T::~T()</span> </td><td class='border justify'>
no effect </td></tr></table></div></div></div><div class='para' id='optional.assign-18'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3071'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='optional.assign-19'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3075'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs) == bool(*this)</span>.</p></div></div><div class='para' id='optional.assign-20'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3079'>#</a></div><p ><i>Remarks:</i>
If any exception is thrown,
the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged.
If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor,
the state of <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s constructor.
If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s assignment.
This function shall not participate in overload resolution unless
</p><ul class='itemize'><li id='optional.assign-20.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.1'>(20.1)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const U&amp;&gt;</span> is <span class='texttt'>true</span>,
</p></li><li id='optional.assign-20.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.2'>(20.2)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, const U&amp;&gt;</span> is <span class='texttt'>true</span>,
</p></li><li id='optional.assign-20.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.3'>(20.3)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.4'>(20.4)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.5'>(20.5)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.6'>(20.6)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.7'>(20.7)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.8'>(20.8)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.9'>(20.9)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.10'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.10'>(20.10)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.11'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.11'>(20.11)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.12'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.12'>(20.12)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-20.13'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.13'>(20.13)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>, and
</p></li><li id='optional.assign-20.14'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-20.14'>(20.14)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='operator=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator='></a></span><code class='itemdecl'>
template &lt;class U&gt; optional&lt;T&gt;&amp; operator=(optional&lt;U&gt;&amp;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-21'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3114'>#</a></div><p ><i>Effects:</i>
See Table <a href='#tab:optional.assign.move.templ'>[tab:optional.assign.move.templ]</a>.
The result of the expression <span class='texttt'>bool(rhs)</span> remains unchanged.

 
 
 
 
 </p><div class='numberedTable' id='tab:optional.assign.move.templ'>Table <a href='#tab:optional.assign.move.templ'>38</a> — <span class='texttt'>optional::operator=(optional&lt;U&gt;&amp;&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'>


 
  </td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> contains a value</b></td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> does not contain a value</b></td></tr><tr class='rowsep'><td class='justify'> 

<b><span class='texttt'>rhs</span> contains a value</b> </td><td class='border justify'>
assigns <span class='texttt'>std::move(*rhs)</span> to the contained value </td><td class='border justify'>
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with <span class='texttt'>std::move(*rhs)</span> </td></tr><tr class='rowsep'><td class='justify'>
<b><span class='texttt'>rhs</span> does not contain a value</b> </td><td class='border justify'>
destroys the contained value by calling <span class='texttt'>val-&gt;T::~T()</span> </td><td class='border justify'>
no effect </td></tr></table></div></div></div><div class='para' id='optional.assign-22'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3133'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='optional.assign-23'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3137'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>bool(rhs) == bool(*this)</span>.</p></div></div><div class='para' id='optional.assign-24'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3141'>#</a></div><p ><i>Remarks:</i>
If any exception is thrown,
the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged.
If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor,
the state of <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s constructor.
If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s assignment.
This function shall not participate in overload resolution unless
</p><ul class='itemize'><li id='optional.assign-24.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.1'>(24.1)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, U&gt;</span> is <span class='texttt'>true</span>,
</p></li><li id='optional.assign-24.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.2'>(24.2)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, U&gt;</span> is <span class='texttt'>true</span>,
</p></li><li id='optional.assign-24.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.3'>(24.3)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.4'>(24.4)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.5'>(24.5)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.6'>(24.6)</a></div><p ><span class='texttt'>is_constructible_v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.7'>(24.7)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.8'>(24.8)</a></div><p ><span class='texttt'>is_convertible_v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.9'>(24.9)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.10'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.10'>(24.10)</a></div><p ><span class='texttt'>is_convertible_v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.11'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.11'>(24.11)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.12'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.12'>(24.12)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,
</p></li><li id='optional.assign-24.13'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.13'>(24.13)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>, and
</p></li><li id='optional.assign-24.14'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#optional.assign-24.14'>(24.14)</a></div><p ><span class='texttt'>is_assignable_v&lt;T&amp;, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='emplace,optional'></a></span><span class='indexparent'><a class='index' id='optional,emplace'></a></span><code class='itemdecl'>
template &lt;class... Args&gt; void emplace(Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-25'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3176'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>is_constructible_v&lt;T, Args&amp;&amp;...&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='optional.assign-26'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3180'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>*this = nullopt</span>. Then initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='optional.assign-27'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3184'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.assign-28'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3188'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.assign-29'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3192'>#</a></div><p ><i>Remarks:</i>
If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, <span class='texttt'>*this</span> does not contain a value, and the previous <span class='texttt'>*val</span> (if any) has been destroyed.
</p></div></div><p ><span class='indexparent'><a class='index' id='emplace,optional'></a></span><span class='indexparent'><a class='index' id='optional,emplace'></a></span><code class='itemdecl'>
template &lt;class U, class... Args&gt; void emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='optional.assign-30'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3203'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>*this = nullopt</span>. Then initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>il, std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='optional.assign-31'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3207'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.assign-32'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3211'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='optional.assign-33'><div class='marginalizedparent'><a class='marginalized' href='#optional.assign-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3215'>#</a></div><p ><i>Remarks:</i>
If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, <span class='texttt'>*this</span> does not contain a value, and the previous <span class='texttt'>*val</span> (if any) has been destroyed.
This function shall not participate in overload resolution unless <span class='texttt'>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args&amp;&amp;...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div></div><div id='optional.swap'><h4 ><a class='secnum' href='#optional.swap' style='min-width:118pt'>20.6.3.4</a> Swap <a class='abbr_ref' href='optional.swap'>[optional.swap]</a></h4><p ><span class='indexparent'><a class='index' id='swap,optional'></a></span><span class='indexparent'><a class='index' id='optional,swap'></a></span><code class='itemdecl'>
void swap(optional&amp; rhs) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='optional.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3229'>#</a></div><p ><i>Requires:</i>
Lvalues of type <span class='texttt'>T</span> shall be swappable and <span class='texttt'>is_move_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='optional.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3233'>#</a></div><p ><i>Effects:</i>
See Table <a href='#tab:optional.swap'>[tab:optional.swap]</a>.

 
 
 
 
 </p><div class='numberedTable' id='tab:optional.swap'>Table <a href='#tab:optional.swap'>39</a> — <span class='texttt'>optional::swap(optional&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'>


 
  </td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> contains a value</b></td><td colspan='1' class='border center'><b><span class='texttt'>*this</span> does not contain a value</b></td></tr><tr class='rowsep'><td class='justify'> 

<b><span class='texttt'>rhs</span> contains a value</b> </td><td class='border justify'>
calls <span class='texttt'>swap(*(*this), *rhs)</span> </td><td class='border justify'>
initializes the contained value of <span class='texttt'>*this</span> as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std::move(*rhs)</span>,
followed by <span class='texttt'>rhs.val-&gt;T::~T()</span>;
postcondition is that <span class='texttt'>*this</span> contains a value and <span class='texttt'>rhs</span> does not contain a value </td></tr><tr class='rowsep'><td class='justify'>
<b><span class='texttt'>rhs</span> does not contain a value</b> </td><td class='border justify'>
initializes the contained value of <span class='texttt'>rhs</span> as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std::move(*(*this))</span>,
followed by <span class='texttt'>val-&gt;T::~T()</span>;
postcondition is that <span class='texttt'>*this</span> does not contain a value and <span class='texttt'>rhs</span> contains a value </td><td class='border justify'>
no effect </td></tr></table></div></div></div><div class='para' id='optional.swap-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3256'>#</a></div><p ><i>Throws:</i>
Any exceptions thrown by the operations in the relevant part of Table <a href='#tab:optional.swap'>[tab:optional.swap]</a>.</p></div></div><div class='para' id='optional.swap-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3260'>#</a></div><p ><i>Remarks:</i>
The expression inside <span class='texttt'>noexcept</span> is equivalent to:
</p><pre class='codeblock'>
is_nothrow_move_constructible_v&lt;T&gt; &amp;&amp; is_nothrow_swappable_v&lt;T&gt;</pre><p >If any exception is thrown, the results of the expressions <span class='texttt'>bool(*this)</span> and <span class='texttt'>bool(rhs)</span> remain unchanged.
If an exception is thrown during the call to function <span class='texttt'>swap</span>,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>swap</span> for lvalues of <span class='texttt'>T</span>.
If an exception is thrown during the call to <span class='texttt'>T</span>'s move constructor,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move constructor.
</p></div></div></div><div id='optional.observe'><h4 ><a class='secnum' href='#optional.observe' style='min-width:118pt'>20.6.3.5</a> Observers <a class='abbr_ref' href='optional.observe'>[optional.observe]</a></h4><p ><span class='indexparent'><a class='index' id='operator->,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator->'></a></span><code class='itemdecl'>
constexpr const T* operator-&gt;() const;
constexpr T* operator-&gt;();
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3282'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.observe-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3286'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>val</span>.</p></div></div><div class='para' id='optional.observe-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3290'>#</a></div><p ><i>Throws:</i>
Nothing.</p></div></div><div class='para' id='optional.observe-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3294'>#</a></div><p ><i>Remarks:</i>
These functions shall be constexpr functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator*'></a></span><code class='itemdecl'>
constexpr const T&amp; operator*() const&amp;;
constexpr T&amp; operator*() &amp;;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-5'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3306'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.observe-6'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3310'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*val</span>.</p></div></div><div class='para' id='optional.observe-7'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3314'>#</a></div><p ><i>Throws:</i>
Nothing.</p></div></div><div class='para' id='optional.observe-8'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3318'>#</a></div><p ><i>Remarks:</i>
These functions shall be constexpr functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator*'></a></span><code class='itemdecl'>
constexpr T&amp;&amp; operator*() &amp;&amp;;
constexpr const T&amp;&amp; operator*() const&amp;&amp;;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-9'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3330'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.observe-10'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3334'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return std::move(*val);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_bool,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator_bool'></a></span><code class='itemdecl'>
constexpr explicit operator bool() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-11'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3345'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span> if and only if <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.observe-12'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3349'>#</a></div><p ><i>Remarks:</i>
This function shall be a constexpr function.
</p></div></div><p ><span class='indexparent'><a class='index' id='has_value,optional'></a></span><span class='indexparent'><a class='index' id='optional,has_value'></a></span><code class='itemdecl'>
constexpr bool has_value() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-13'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3360'>#</a></div><p ><i>Returns:</i> <span class='texttt'>true</span> if and only if <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='optional.observe-14'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3363'>#</a></div><p ><i>Remarks:</i> This function shall be a constexpr function.
</p></div></div><p ><span class='indexparent'><a class='index' id='value,optional'></a></span><span class='indexparent'><a class='index' id='optional,value'></a></span><code class='itemdecl'>
constexpr const T&amp; value() const&amp;;
constexpr T&amp; value() &amp;;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-15'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3374'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return bool(*this) ? *val : throw bad_optional_access();</pre></div></div><p ><span class='indexparent'><a class='index' id='value,optional'></a></span><span class='indexparent'><a class='index' id='optional,value'></a></span><code class='itemdecl'>
constexpr T&amp;&amp; value() &amp;&amp;;
constexpr const T&amp;&amp; value() const&amp;&amp;;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-16'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3390'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return bool(*this) ? std::move(*val) : throw bad_optional_access();</pre></div></div><p ><span class='indexparent'><a class='index' id='value_or,optional'></a></span><span class='indexparent'><a class='index' id='optional,value_or'></a></span><code class='itemdecl'>
template &lt;class U&gt; constexpr T value_or(U&amp;&amp; v) const&amp;;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-17'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3404'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return bool(*this) ? **this : static_cast&lt;T&gt;(std::forward&lt;U&gt;(v));</pre></div></div><div class='para' id='optional.observe-18'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3411'>#</a></div><p ><i>Remarks:</i>
If <span class='texttt'>is_copy_constructible_v&lt;T&gt; &amp;&amp; is_convertible_v&lt;U&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
the program is ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='value_or,optional'></a></span><span class='indexparent'><a class='index' id='optional,value_or'></a></span><code class='itemdecl'>
template &lt;class U&gt; constexpr T value_or(U&amp;&amp; v) &amp;&amp;;
</code></p><div class='itemdescr'></div><div class='para' id='optional.observe-19'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3423'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return bool(*this) ? std::move(**this) : static_cast&lt;T&gt;(std::forward&lt;U&gt;(v));</pre></div></div><div class='para' id='optional.observe-20'><div class='marginalizedparent'><a class='marginalized' href='#optional.observe-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3430'>#</a></div><p ><i>Remarks:</i>
If <span class='texttt'>is_move_constructible_v&lt;T&gt; &amp;&amp; is_convertible_v&lt;U&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
the program is ill-formed.
</p></div></div></div><div id='optional.mod'><h4 ><a class='secnum' href='#optional.mod' style='min-width:118pt'>20.6.3.6</a> Modifiers <a class='abbr_ref' href='optional.mod'>[optional.mod]</a></h4><p ><span class='indexparent'><a class='index' id='reset,optional'></a></span><span class='indexparent'><a class='index' id='optional,reset'></a></span><code class='itemdecl'>
void reset() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3444'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>*this</span> contains a value, calls <span class='texttt'>val-&gt;T::~T()</span> to destroy the contained value;
otherwise no effect.</p></div></div><div class='para' id='optional.mod-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3449'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>*this</span> does not contain a value.
</p></div></div></div></div><div id='optional.nullopt'><h3 ><a class='secnum' href='#optional.nullopt' style='min-width:103pt'>20.6.4</a> No-value state indicator <a class='abbr_ref' href='optional.nullopt'>[optional.nullopt]</a></h3><p ><span class='indexparent'><a class='index' id='nullopt_t'></a></span><span class='indexparent'><a class='index' id='nullopt'></a></span><code class='itemdecl'>
struct nullopt_t{<i><span class='texttt'>see below</span></i>};
constexpr nullopt_t nullopt(<i><span class='texttt'>unspecified</span></i>);
</code></p><div class='para' id='optional.nullopt-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullopt-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3463'>#</a></div><p >The struct <span class='texttt'>nullopt_t</span> is an empty structure type used as a unique type to indicate the state of not containing a value for <span class='texttt'>optional</span> objects.
In particular, <span class='texttt'>optional&lt;T&gt;</span> has a constructor with <span class='texttt'>nullopt_t</span> as a single argument;
this indicates that an optional object not containing a value shall be constructed.</p></div><div class='para' id='optional.nullopt-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullopt-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3468'>#</a></div><p >Type <span class='texttt'>nullopt_t</span> shall not have a default constructor or an initializer-list constructor, and shall not be an aggregate.</p></div></div><div id='optional.bad.access'><h3 ><a class='secnum' href='#optional.bad.access' style='min-width:103pt'>20.6.5</a> Class <span class='texttt'>bad_optional_access</span> <a class='abbr_ref' href='optional.bad.access'>[optional.bad.access]</a></h3><pre class='codeblock'>
class bad_optional_access : public logic_error {
public:
  bad_optional_access();
};</pre><div class='para' id='optional.bad.access-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.bad.access-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3480'>#</a></div><p >The class <span class='texttt'>bad_optional_access</span> defines the type of objects thrown as exceptions to report the situation where an attempt is made to access the value of an optional object that does not contain a value.</p><p ><span class='indexparent'><a class='index' id='bad_optional_access,constructor'></a></span><span class='indexparent'><a class='index' id='what,bad_optional_access'></a></span><span class='indexparent'><a class='index' id='bad_optional_access,what'></a></span><code class='itemdecl'>
bad_optional_access();
</code></p></div><div class='itemdescr'></div><div class='para' id='optional.bad.access-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.bad.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3490'>#</a></div><p ><i>Effects:</i>
Constructs an object of class <span class='texttt'>bad_optional_access</span>.</p></div></div><div class='para' id='optional.bad.access-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.bad.access-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3494'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>what()</span> returns an
<span class='indexparent'><a class='index' id='return_value_of_bad_optional_access::what'></a></span>implementation-defined
<span class='textsc'>ntbs</span>.
</p></div></div></div><div id='optional.relops'><h3 ><a class='secnum' href='#optional.relops' style='min-width:103pt'>20.6.6</a> Relational operators <a class='abbr_ref' href='optional.relops'>[optional.relops]</a></h3><p ><span class='indexparent'><a class='index' id='operator==,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator=='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator==(const optional&lt;T&gt;&amp; x, const optional&lt;T&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='optional.relops-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3509'>#</a></div><p ><i>Requires:</i>
The expression <span class='texttt'>*x == *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>T</span> need not be <span class='texttt'>EqualityComparable</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='optional.relops-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3515'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>bool(x) != bool(y)</span>, <span class='texttt'>false</span>; otherwise if <span class='texttt'>bool(x) == false</span>, <span class='texttt'>true</span>; otherwise <span class='texttt'>*x == *y</span>.</p></div></div><div class='para' id='optional.relops-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3519'>#</a></div><p ><i>Remarks:</i>
Specializations of this function template
for which <span class='texttt'>*x == *y</span> is a core constant expression
shall be constexpr functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator!='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp; x, const optional&lt;T&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='optional.relops-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3532'>#</a></div><p ><i>Requires:</i>
The expression <span class='texttt'>*x != *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span>.</p></div></div><div class='para' id='optional.relops-5'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3537'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>bool(x) != bool(y)</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>bool(x) == false</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>*x != *y</span>.</p></div></div><div class='para' id='optional.relops-6'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3543'>#</a></div><p ><i>Remarks:</i>
Specializations of this function template
for which <span class='texttt'>*x != *y</span> is a core constant expression
shall be constexpr functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp; x, const optional&lt;T&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='optional.relops-7'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3556'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>*x &lt; *y</span> shall be well-formed
and its result shall be convertible to <span class='texttt'>bool</span>.</p></div></div><div class='para' id='optional.relops-8'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3561'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>!y</span>, <span class='texttt'>false</span>;
otherwise, if <span class='texttt'>!x</span>, <span class='texttt'>true</span>;
otherwise <span class='texttt'>*x &lt; *y</span>.</p></div></div><div class='para' id='optional.relops-9'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3567'>#</a></div><p ><i>Remarks:</i>
Specializations of this function template
for which <span class='texttt'>*x &lt; *y</span> is a core constant expression
shall be constexpr functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp; x, const optional&lt;T&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='optional.relops-10'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3580'>#</a></div><p ><i>Requires:</i>
The expression <span class='texttt'>*x &gt; *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span>.</p></div></div><div class='para' id='optional.relops-11'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3585'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>!x</span>, <span class='texttt'>false</span>;
otherwise, if <span class='texttt'>!y</span>, <span class='texttt'>true</span>;
otherwise <span class='texttt'>*x &gt; *y</span>.</p></div></div><div class='para' id='optional.relops-12'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3591'>#</a></div><p ><i>Remarks:</i>
Specializations of this function template
for which <span class='texttt'>*x &gt; *y</span> is a core constant expression
shall be constexpr functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp; x, const optional&lt;T&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='optional.relops-13'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3604'>#</a></div><p ><i>Requires:</i>
The expression <span class='texttt'>*x &lt;= *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span>.</p></div></div><div class='para' id='optional.relops-14'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3609'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>!x</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>!y</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>*x &lt;= *y</span>.</p></div></div><div class='para' id='optional.relops-15'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3615'>#</a></div><p ><i>Remarks:</i>
Specializations of this function template
for which <span class='texttt'>*x &lt;= *y</span> is a core constant expression
shall be constexpr functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp; x, const optional&lt;T&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='optional.relops-16'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3628'>#</a></div><p ><i>Requires:</i>
The expression <span class='texttt'>*x &gt;= *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span>.</p></div></div><div class='para' id='optional.relops-17'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3633'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>!y</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>!x</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>*x &gt;= *y</span>.</p></div></div><div class='para' id='optional.relops-18'><div class='marginalizedparent'><a class='marginalized' href='#optional.relops-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3639'>#</a></div><p ><i>Remarks:</i>
Specializations of this function template
for which <span class='texttt'>*x &gt;= *y</span> is a core constant expression
shall be constexpr functions.
</p></div></div></div><div id='optional.nullops'><h3 ><a class='secnum' href='#optional.nullops' style='min-width:103pt'>20.6.7</a> Comparison with <span class='texttt'>nullopt</span> <a class='abbr_ref' href='optional.nullops'>[optional.nullops]</a></h3><p ><span class='indexparent'><a class='index' id='operator==,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator=='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator==(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
template &lt;class T&gt; constexpr bool operator==(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3655'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator!='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
template &lt;class T&gt; constexpr bool operator!=(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3667'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bool(x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3678'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3689'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bool(x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-5'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3700'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;=(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-6'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3711'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-7'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3722'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bool(x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-8'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3733'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-9'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3744'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;=(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='optional.nullops-10'><div class='marginalizedparent'><a class='marginalized' href='#optional.nullops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3755'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!x</span>.
</p></div></div></div><div id='optional.comp_with_t'><h3 ><a class='secnum' href='#optional.comp_with_t' style='min-width:103pt'>20.6.8</a> Comparison with <span class='texttt'>T</span> <a class='abbr_ref' href='optional.comp_with_t'>[optional.comp_with_t]</a></h3><p ><span class='indexparent'><a class='index' id='operator==,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator=='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator==(const optional&lt;T&gt;&amp; x, const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3768'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? *x == v : false;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator==,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator=='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator==(const T&amp; v, const optional&lt;T&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3779'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? v == *x : false;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator!='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp; x, const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3790'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? *x != v : true;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator!='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator!=(const T&amp; v, const optional&lt;T&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3801'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? v != *x : true;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp; x, const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-5'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3812'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? *x &lt; v : true;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;(const T&amp; v, const optional&lt;T&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-6'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3823'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? v &lt; *x : false;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp; x, const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-7'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3834'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? *x &lt;= v : true;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator<='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&lt;=(const T&amp; v, const optional&lt;T&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-8'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3845'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? v &lt;= *x : false;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp; x, const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-9'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3856'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? *x &gt; v : false;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;(const T&amp; v, const optional&lt;T&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-10'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3867'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? v &gt; *x : true;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp; x, const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-11'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3878'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? *x &gt;= v : false;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,optional'></a></span><span class='indexparent'><a class='index' id='optional,operator>='></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr bool operator&gt;=(const T&amp; v, const optional&lt;T&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='optional.comp_with_t-12'><div class='marginalizedparent'><a class='marginalized' href='#optional.comp_with_t-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3889'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return bool(x) ? v &gt;= *x : true;</span>
</p></div></div></div><div id='optional.specalg'><h3 ><a class='secnum' href='#optional.specalg' style='min-width:103pt'>20.6.9</a> Specialized algorithms <a class='abbr_ref' href='optional.specalg'>[optional.specalg]</a></h3><p ><span class='indexparent'><a class='index' id='swap,optional'></a></span><code class='itemdecl'>
template &lt;class T&gt; void swap(optional&lt;T&gt;&amp; x, optional&lt;T&gt;&amp; y) noexcept(noexcept(x.swap(y)));
</code></p><div class='itemdescr'></div><div class='para' id='optional.specalg-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.specalg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3903'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>x.swap(y)</span>.</p></div></div><div class='para' id='optional.specalg-2'><div class='marginalizedparent'><a class='marginalized' href='#optional.specalg-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3907'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>is_move_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_swappable_v&lt;T&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='make_optional'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr optional&lt;decay_t&lt;T&gt;&gt; make_optional(T&amp;&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='optional.specalg-3'><div class='marginalizedparent'><a class='marginalized' href='#optional.specalg-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3919'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>optional&lt;decay_t&lt;T&gt;&gt;(std::forward&lt;T&gt;(v))</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='make_optional'></a></span><code class='itemdecl'>
template &lt;class T, class...Args&gt;
  constexpr optional&lt;T&gt; make_optional(Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='optional.specalg-4'><div class='marginalizedparent'><a class='marginalized' href='#optional.specalg-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3931'>#</a></div><p ><i>Effects:</i> Equivalent to: <span class='texttt'>return optional&lt;T&gt;(in_place, std::forward&lt;Args&gt;(args)...);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='make_optional'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt;
  constexpr optional&lt;T&gt; make_optional(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='optional.specalg-5'><div class='marginalizedparent'><a class='marginalized' href='#optional.specalg-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3942'>#</a></div><p ><i>Effects:</i> Equivalent to: <span class='texttt'>return optional&lt;T&gt;(in_place, il, std::forward&lt;Args&gt;(args)...);</span>
</p></div></div></div><div id='optional.hash'><h3 ><a class='secnum' href='#optional.hash' style='min-width:103pt'>20.6.10</a> Hash support <a class='abbr_ref' href='optional.hash'>[optional.hash]</a></h3><p ><span class='indexparent'><a class='index' id='hash,optional'></a></span><code class='itemdecl'>
template &lt;class T&gt; struct hash&lt;optional&lt;T&gt;&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='optional.hash-1'><div class='marginalizedparent'><a class='marginalized' href='#optional.hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3954'>#</a></div><p >The specialization <span class='texttt'>hash&lt;optional&lt;T&gt;&gt;</span> is enabled (<a href='unord.hash'>[unord.hash]</a>)
if and only if <span class='texttt'>hash&lt;remove_const_t&lt;T&gt;&gt;</span> is enabled.
When enabled, for an object <span class='texttt'>o</span> of type <span class='texttt'>optional&lt;T&gt;</span>,
if <span class='texttt'>bool(o) == true</span>, then <span class='texttt'>hash&lt;optional&lt;T&gt;&gt;()(o)</span>
shall evaluate to the same value as <span class='texttt'>hash&lt;remove_const_t&lt;T&gt;&gt;()(*o)</span>;
otherwise it evaluates to an unspecified value.
</p></div></div></div></div><div id='variant'><h2 ><a class='secnum' href='#variant' style='min-width:88pt'>20.7</a> Variants <a class='abbr_ref' href='variant'>[variant]</a></h2><div id='variant.general'><h3 ><a class='secnum' href='#variant.general' style='min-width:103pt'>20.7.1</a> In general <a class='abbr_ref' href='variant.general'>[variant.general]</a></h3><div class='para' id='variant.general-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L3968'>#</a></div><p >A variant object holds and manages the lifetime of a value.
If the <span class='texttt'>variant</span> holds a value, that value's type has to be one
of the template argument types given to variant.
These template arguments are called alternatives.</p></div></div><div id='variant.syn'><h3 ><a class='secnum' href='#variant.syn' style='min-width:103pt'>20.7.2</a> Header <span class='texttt'>&lt;variant&gt;</span> synopsis <a class='abbr_ref' href='variant.syn'>[variant.syn]</a></h3><p ><span class='indexparent'><a class='index' id='variant'></a></span><span class='indexparent'><a class='index' id='variant'></a></span>
</p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='variant.variant'>[variant.variant]</a>, class template <span class='texttt'>variant</span>
</span>  template &lt;class... Types&gt;
    class variant;

  <span class='comment'>// <a href='variant.helper'>[variant.helper]</a>, variant helper classes
</span>  template &lt;class T&gt; struct variant_size;                   <span class='comment'>// not defined
</span>  template &lt;class T&gt; struct variant_size&lt;const T&gt;;
  template &lt;class T&gt; struct variant_size&lt;volatile T&gt;;
  template &lt;class T&gt; struct variant_size&lt;const volatile T&gt;;
  template &lt;class T&gt;
    constexpr size_t variant_size_v = variant_size&lt;T&gt;::value;

  template &lt;class... Types&gt;
    struct variant_size&lt;variant&lt;Types...&gt;&gt;;

  template &lt;size_t I, class T&gt; struct variant_alternative;  <span class='comment'>// not defined
</span>  template &lt;size_t I, class T&gt; struct variant_alternative&lt;I, const T&gt;;
  template &lt;size_t I, class T&gt; struct variant_alternative&lt;I, volatile T&gt;;
  template &lt;size_t I, class T&gt; struct variant_alternative&lt;I, const volatile T&gt;;
  template &lt;size_t I, class T&gt;
    using variant_alternative_t = typename variant_alternative&lt;I, T&gt;::type;

  template &lt;size_t I, class... Types&gt;
    struct variant_alternative&lt;I, variant&lt;Types...&gt;&gt;;

  constexpr size_t variant_npos = -1;

  <span class='comment'>// <a href='variant.get'>[variant.get]</a>, value access
</span>  template &lt;class T, class... Types&gt;
    constexpr bool holds_alternative(const variant&lt;Types...&gt;&amp;) noexcept;

  template &lt;size_t I, class... Types&gt;
    constexpr variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; get(variant&lt;Types...&gt;&amp;);
  template &lt;size_t I, class... Types&gt;
    constexpr variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp;&amp; get(variant&lt;Types...&gt;&amp;&amp;);
  template &lt;size_t I, class... Types&gt;
    constexpr const variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; get(const variant&lt;Types...&gt;&amp;);
  template &lt;size_t I, class... Types&gt;
    constexpr const variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp;&amp; get(const variant&lt;Types...&gt;&amp;&amp;);

  template &lt;class T, class... Types&gt;
    constexpr T&amp; get(variant&lt;Types...&gt;&amp;);
  template &lt;class T, class... Types&gt;
    constexpr T&amp;&amp; get(variant&lt;Types...&gt;&amp;&amp;);
  template &lt;class T, class... Types&gt;
    constexpr const T&amp; get(const variant&lt;Types...&gt;&amp;);
  template &lt;class T, class... Types&gt;
    constexpr const T&amp;&amp; get(const variant&lt;Types...&gt;&amp;&amp;);

  template &lt;size_t I, class... Types&gt;
    constexpr add_pointer_t&lt;variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&gt;
      get_if(variant&lt;Types...&gt;*) noexcept;
  template &lt;size_t I, class... Types&gt;
    constexpr add_pointer_t&lt;const variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&gt;
      get_if(const variant&lt;Types...&gt;*) noexcept;

  template &lt;class T, class... Types&gt;
    constexpr add_pointer_t&lt;T&gt;
      get_if(variant&lt;Types...&gt;*) noexcept;
  template &lt;class T, class... Types&gt;
    constexpr add_pointer_t&lt;const T&gt;
      get_if(const variant&lt;Types...&gt;*) noexcept;

  <span class='comment'>// <a href='variant.relops'>[variant.relops]</a>, relational operators
</span>  template &lt;class... Types&gt;
    constexpr bool operator==(const variant&lt;Types...&gt;&amp;, const variant&lt;Types...&gt;&amp;);
  template &lt;class... Types&gt;
    constexpr bool operator!=(const variant&lt;Types...&gt;&amp;, const variant&lt;Types...&gt;&amp;);
  template &lt;class... Types&gt;
    constexpr bool operator&lt;(const variant&lt;Types...&gt;&amp;, const variant&lt;Types...&gt;&amp;);
  template &lt;class... Types&gt;
    constexpr bool operator&gt;(const variant&lt;Types...&gt;&amp;, const variant&lt;Types...&gt;&amp;);
  template &lt;class... Types&gt;
    constexpr bool operator&lt;=(const variant&lt;Types...&gt;&amp;, const variant&lt;Types...&gt;&amp;);
  template &lt;class... Types&gt;
    constexpr bool operator&gt;=(const variant&lt;Types...&gt;&amp;, const variant&lt;Types...&gt;&amp;);

  <span class='comment'>// <a href='variant.visit'>[variant.visit]</a>, visitation
</span>  template &lt;class Visitor, class... Variants&gt;
    constexpr <i><span class='texttt'>see below</span></i> visit(Visitor&amp;&amp;, Variants&amp;&amp;...);

  <span class='comment'>// <a href='variant.monostate'>[variant.monostate]</a>, class <span class='texttt'>monostate</span>
</span>  struct monostate;

  <span class='comment'>// <a href='variant.monostate.relops'>[variant.monostate.relops]</a>, <span class='texttt'>monostate</span> relational operators
</span>  constexpr bool operator&lt;(monostate, monostate) noexcept;
  constexpr bool operator&gt;(monostate, monostate) noexcept;
  constexpr bool operator&lt;=(monostate, monostate) noexcept;
  constexpr bool operator&gt;=(monostate, monostate) noexcept;
  constexpr bool operator==(monostate, monostate) noexcept;
  constexpr bool operator!=(monostate, monostate) noexcept;

  <span class='comment'>// <a href='variant.specalg'>[variant.specalg]</a>, specialized algorithms
</span>  template &lt;class... Types&gt;
    void swap(variant&lt;Types...&gt;&amp;, variant&lt;Types...&gt;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

  <span class='comment'>// <a href='variant.bad.access'>[variant.bad.access]</a>, class <span class='texttt'>bad_variant_access</span>
</span>  class bad_variant_access;

  <span class='comment'>// <a href='variant.hash'>[variant.hash]</a>, hash support
</span>  template &lt;class T&gt; struct hash;
  template &lt;class... Types&gt; struct hash&lt;variant&lt;Types...&gt;&gt;;
  template &lt;&gt; struct hash&lt;monostate&gt;;

  <span class='comment'>// <a href='variant.traits'>[variant.traits]</a>, allocator-related traits
</span>  template &lt;class T, class Alloc&gt; struct uses_allocator;
  template &lt;class... Types, class Alloc&gt; struct uses_allocator&lt;variant&lt;Types...&gt;, Alloc&gt;;
}</pre><p ><span class='indexparent'><a class='index' id='variant'></a></span></p></div><div id='variant.variant'><h3 ><a class='secnum' href='#variant.variant' style='min-width:103pt'>20.7.3</a> Class template <span class='texttt'>variant</span> <a class='abbr_ref' href='variant.variant'>[variant.variant]</a></h3><pre class='codeblock'>
namespace std {
  template &lt;class... Types&gt;
    class variant {
    public:
      <span class='comment'>// <a href='variant.ctor'>[variant.ctor]</a>, constructors
</span>      constexpr variant() noexcept(<i><span class='texttt'>see below</span></i>);
      variant(const variant&amp;);
      variant(variant&amp;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

      template &lt;class T&gt;
        constexpr variant(T&amp;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

      template &lt;class T, class... Args&gt;
        constexpr explicit variant(in_place_type_t&lt;T&gt;, Args&amp;&amp;...);
      template &lt;class T, class U, class... Args&gt;
        constexpr explicit variant(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt;, Args&amp;&amp;...);

      template &lt;size_t I, class... Args&gt;
        constexpr explicit variant(in_place_index_t&lt;I&gt;, Args&amp;&amp;...);
      template &lt;size_t I, class U, class... Args&gt;
        constexpr explicit variant(in_place_index_t&lt;I&gt;, initializer_list&lt;U&gt;, Args&amp;&amp;...);

      <span class='comment'>// allocator-extended constructors
</span>      template &lt;class Alloc&gt;
        variant(allocator_arg_t, const Alloc&amp;);
      template &lt;class Alloc&gt;
        variant(allocator_arg_t, const Alloc&amp;, const variant&amp;);
      template &lt;class Alloc&gt;
        variant(allocator_arg_t, const Alloc&amp;, variant&amp;&amp;);
      template &lt;class Alloc, class T&gt;
        variant(allocator_arg_t, const Alloc&amp;, T&amp;&amp;);
      template &lt;class Alloc, class T, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_type_t&lt;T&gt;, Args&amp;&amp;...);
      template &lt;class Alloc, class T, class U, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_type_t&lt;T&gt;,
                initializer_list&lt;U&gt;, Args&amp;&amp;...);
      template &lt;class Alloc, size_t I, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_index_t&lt;I&gt;, Args&amp;&amp;...);
      template &lt;class Alloc, size_t I, class U, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_index_t&lt;I&gt;,
                initializer_list&lt;U&gt;, Args&amp;&amp;...);

      <span class='comment'>// <a href='variant.dtor'>[variant.dtor]</a>, destructor
</span>      ~variant();

      <span class='comment'>// <a href='variant.assign'>[variant.assign]</a>, assignment
</span>      variant&amp; operator=(const variant&amp;);
      variant&amp; operator=(variant&amp;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

      template &lt;class T&gt; variant&amp; operator=(T&amp;&amp;) noexcept(<i><span class='texttt'>see below</span></i>);

      <span class='comment'>// <a href='variant.mod'>[variant.mod]</a>, modifiers
</span>      template &lt;class T, class... Args&gt;
        void emplace(Args&amp;&amp;...);
      template &lt;class T, class U, class... Args&gt;
        void emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);
      template &lt;size_t I, class... Args&gt;
        void emplace(Args&amp;&amp;...);
      template &lt;size_t I, class U, class... Args&gt;
        void emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);

      <span class='comment'>// <a href='variant.status'>[variant.status]</a>, value status
</span>      constexpr bool valueless_by_exception() const noexcept;
      constexpr size_t index() const noexcept;

      <span class='comment'>// <a href='variant.swap'>[variant.swap]</a>, swap
</span>      void swap(variant&amp;) noexcept(<i><span class='texttt'>see below</span></i>);
    };
}</pre><div class='para' id='variant.variant-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.variant-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4165'>#</a></div><p >Any instance of <span class='texttt'>variant</span> at any given time either holds a value
of one of its alternative types, or it holds no value.
When an instance of <span class='texttt'>variant</span> holds a value of alternative type <span class='texttt'>T</span>,
it means that a value of type <span class='texttt'>T</span>, referred to as the <span class='texttt'>variant</span>
object's contained value, is allocated within the storage of the
<span class='texttt'>variant</span> object.
Implementations are not permitted to use additional storage, such as dynamic
memory, to allocate the contained value.
The contained value shall be allocated in a region of the <span class='texttt'>variant</span>
storage suitably aligned for all types in <span class='texttt'>Types...</span>.
It is <span class='indexparent'><a class='index' id='whether_variant_supports_over-aligned_types'></a></span>implementation-defined
whether over-aligned types are supported.</p></div><div class='para' id='variant.variant-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.variant-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4179'>#</a></div><p >All types in <span class='texttt'>Types...</span> shall be (possibly cv-qualified)
object types that are not arrays.</p></div><div class='para' id='variant.variant-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.variant-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4183'>#</a></div><p >A program that instantiates the definition of <span class='texttt'>variant</span> with
no template arguments is ill-formed.</p></div><div id='variant.ctor'><h4 ><a class='secnum' href='#variant.ctor' style='min-width:118pt'>20.7.3.1</a> Constructors <a class='abbr_ref' href='variant.ctor'>[variant.ctor]</a></h4><div class='para' id='variant.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4189'>#</a></div><p >In the descriptions that follow, let <span class='math'><span class='mathalpha'>i</span></span> be in the range <span class='texttt'>[0, sizeof...(Types))</span>,
and <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> type in <span class='texttt'>Types...</span>.</p><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
constexpr variant() noexcept(<i><span class='texttt'>see below</span></i>);
</code></p></div><div class='itemdescr'></div><div class='para' id='variant.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4199'>#</a></div><p ><i>Effects:</i>
Constructs a <span class='texttt'>variant</span> holding a value-initialized value of type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>.</p></div></div><div class='para' id='variant.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4203'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>valueless_by_exception()</span> is <span class='texttt'>false</span> and <span class='texttt'>index()</span> is <span class='texttt'>0</span>.</p></div></div><div class='para' id='variant.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4207'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the value-initialization of <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>.</p></div></div><div class='para' id='variant.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4211'>#</a></div><p ><i>Remarks:</i>
This function shall be <span class='texttt'>constexpr</span> if and only if the
value-initialization of the alternative type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> would satisfy the
requirements for a constexpr function.
The expression inside <span class='texttt'>noexcept</span> is equivalent to
<span class='texttt'>is_nothrow_default_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&gt;</span>.
This function shall not participate in overload resolution unless
<span class='texttt'>is_default_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> See also class <span class='texttt'>monostate</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
variant(const variant&amp; w);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4229'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value
with <span class='texttt'>get&lt;j&gt;(w)</span>, where <span class='texttt'>j</span> is <span class='texttt'>w.index()</span>.
Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value.</p></div></div><div class='para' id='variant.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4236'>#</a></div><p ><i>Throws:</i>
Any exception thrown by direct-initializing any <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4240'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
variant(variant&amp;&amp; w) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4252'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value with
<span class='texttt'>get&lt;j&gt;(std::move(w))</span>, where <span class='texttt'>j</span> is <span class='texttt'>w.index()</span>.
Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value.</p></div></div><div class='para' id='variant.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4259'>#</a></div><p ><i>Throws:</i>
Any exception thrown by move-constructing any <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4263'>#</a></div><p ><i>Remarks:</i>
The expression inside <span class='texttt'>noexcept</span> is equivalent to the logical AND of
<span class='texttt'>is_nothrow_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
This function shall not participate in overload resolution unless
<span class='texttt'>is_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr variant(T&amp;&amp; t) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4277'>#</a></div><p >Let <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><i>FUN</i>(<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>)</span> for each alternative type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>. The overload <span class='texttt'><i>FUN</i>(<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>)</span> selected by overload
resolution for the expression <span class='texttt'><i>FUN</i>(std::forward&lt;T&gt;(t))</span> defines
the alternative <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> which is the type of the contained value after
construction.</p></div></div><div class='para' id='variant.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4284'>#</a></div><p ><i>Effects:</i>
Initializes <span class='texttt'>*this</span> to hold the alternative type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> and
direct-initializes the contained value as if direct-non-list-initializing it
with <span class='texttt'>std::forward&lt;T&gt;(t)</span>.</p></div></div><div class='para' id='variant.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4290'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>holds_alternative&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;(*this)</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='variant.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4294'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the initialization of the selected alternative <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>.</p></div></div><div class='para' id='variant.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4298'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_same_v&lt;decay_t&lt;T&gt;, variant&gt;</span> is <span class='texttt'>false</span>,
unless <span class='texttt'>decay_t&lt;T&gt;</span> is neither
a specialization of <span class='texttt'>in_place_type_t</span>
nor a specialization of <span class='texttt'>in_place_index_t</span>,
unless <span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</span> is <span class='texttt'>true</span>,
and unless the expression
<span class='texttt'><i>FUN</i>(</span><span class='texttt'>std::forward&lt;T&gt;(t))</span> (with <span class='texttt'><i>FUN</i></span>
being the above-mentioned set of imaginary functions) is well formed.</p></div></div><div class='para' id='variant.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4310'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
</p><pre class='codeblock'>
variant&lt;string, string&gt; v("abc");</pre><p >is ill-formed, as both alternative types have an equally viable constructor
for the argument. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='variant.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4318'>#</a></div><p >The expression inside <span class='texttt'>noexcept</span> is equivalent to
<span class='texttt'>is_nothrow_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</span>.
If <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor,
this constructor shall be a constexpr constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt; constexpr explicit variant(in_place_type_t&lt;T&gt;, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4331'>#</a></div><p ><i>Effects:</i>
Initializes the contained value of type <span class='texttt'>T</span> with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='variant.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4335'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>holds_alternative&lt;T&gt;(*this)</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='variant.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4339'>#</a></div><p ><i>Throws:</i>
Any exception thrown by calling the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='variant.ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4343'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless there is
exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types...</span> and
<span class='texttt'>is_constructible_v&lt;T, Args...&gt;</span> is <span class='texttt'>true</span>.
If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt;
  constexpr explicit variant(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4359'>#</a></div><p ><i>Effects:</i>
Initializes the contained value as if constructing an object of type <span class='texttt'>T</span>
with the arguments <span class='texttt'>il, std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='variant.ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4364'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>holds_alternative&lt;T&gt;(*this)</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='variant.ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4368'>#</a></div><p ><i>Throws:</i>
Any exception thrown by calling the selected constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='variant.ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4372'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless there is
exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types...</span> and
<span class='texttt'>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>.
If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
template &lt;size_t I, class... Args&gt; constexpr explicit variant(in_place_index_t&lt;I&gt;, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4387'>#</a></div><p ><i>Effects:</i>
Initializes the contained value as if constructing an object of type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='variant.ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4392'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>index()</span> is <span class='texttt'>I</span>.</p></div></div><div class='para' id='variant.ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4396'>#</a></div><p ><i>Throws:</i>
Any exception thrown by calling the selected constructor of <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>.</p></div></div><div class='para' id='variant.ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4400'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless <span class='texttt'>I</span> is
less than <span class='texttt'>sizeof...(Types)</span> and <span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, Args...&gt;</span> is <span class='texttt'>true</span>.
If <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
template &lt;size_t I, class U, class... Args&gt;
  constexpr explicit variant(in_place_index_t&lt;I&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-31'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4415'>#</a></div><p ><i>Effects:</i>
Initializes the contained value as if constructing an object of type
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span> with the arguments <span class='texttt'>il, std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='variant.ctor-32'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4420'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>index()</span> is <span class='texttt'>I</span>.</p></div></div><div class='para' id='variant.ctor-33'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4424'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless <span class='texttt'>I</span> is
less than <span class='texttt'>sizeof...(Types)</span> and
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>.
If <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant,constructor'></a></span><code class='itemdecl'>
<span class='comment'>// allocator-extended constructors
</span>template &lt;class Alloc&gt;
  variant(allocator_arg_t, const Alloc&amp; a);
template &lt;class Alloc&gt;
  variant(allocator_arg_t, const Alloc&amp; a, const variant&amp; v);
template &lt;class Alloc&gt;
  variant(allocator_arg_t, const Alloc&amp; a, variant&amp;&amp; v);
template &lt;class Alloc, class T&gt;
  variant(allocator_arg_t, const Alloc&amp; a, T&amp;&amp; t);
template &lt;class Alloc, class T, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_type_t&lt;T&gt;, Args&amp;&amp;... args);
template &lt;class Alloc, class T, class U, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_type_t&lt;T&gt;,
          initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
template &lt;class Alloc, size_t I, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_index_t&lt;I&gt;, Args&amp;&amp;... args);
template &lt;class Alloc, size_t I, class U, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_index_t&lt;I&gt;,
          initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.ctor-34'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4457'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>Alloc</span> shall meet the requirements for an Allocator (<a href='allocator.requirements'>[allocator.requirements]</a>).</p></div></div><div class='para' id='variant.ctor-35'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4461'>#</a></div><p ><i>Effects:</i>
Equivalent to the preceding constructors except that the contained value is
constructed with uses-allocator construction (<a href='allocator.uses.construction'>[allocator.uses.construction]</a>).
</p></div></div></div><div id='variant.dtor'><h4 ><a class='secnum' href='#variant.dtor' style='min-width:118pt'>20.7.3.2</a> Destructor <a class='abbr_ref' href='variant.dtor'>[variant.dtor]</a></h4><p ><span class='indexparent'><a class='index' id='variant,destructor'></a></span><code class='itemdecl'>
~variant();
</code></p><div class='itemdescr'></div><div class='para' id='variant.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4475'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>valueless_by_exception()</span> is <span class='texttt'>false</span>,
destroys the currently contained value.</p></div></div><div class='para' id='variant.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4480'>#</a></div><p ><i>Remarks:</i>
If <span class='texttt'>is_trivially_destructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; == true</span> for all <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
then this destructor shall be a trivial destructor.
</p></div></div></div><div id='variant.assign'><h4 ><a class='secnum' href='#variant.assign' style='min-width:118pt'>20.7.3.3</a> Assignment <a class='abbr_ref' href='variant.assign'>[variant.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator='></a></span><code class='itemdecl'>
variant&amp; operator=(const variant&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='variant.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4494'>#</a></div><p ><i>Effects:</i>
</p><ul class='itemize'><li id='variant.assign-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-1.1'>(1.1)</a></div><p >If neither <span class='texttt'>*this</span> nor <span class='texttt'>rhs</span> holds a value, there is no effect.  Otherwise,
</p></li><li id='variant.assign-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-1.2'>(1.2)</a></div><p >if <span class='texttt'>*this</span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'>*this</span> and sets <span class='texttt'>*this</span> to not hold a value.  Otherwise,
</p></li><li id='variant.assign-1.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-1.3'>(1.3)</a></div><p >if <span class='texttt'>index() == rhs.index()</span>, assigns the value contained in <span class='texttt'>rhs</span>
to the value contained in <span class='texttt'>*this</span>. Otherwise,
</p></li><li id='variant.assign-1.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-1.4'>(1.4)</a></div><p >copies the value contained in <span class='texttt'>rhs</span> to a temporary, then destroys any
value contained in <span class='texttt'>*this</span>. Sets <span class='texttt'>*this</span> to hold the same
alternative index as <span class='texttt'>rhs</span> and initializes the value contained in
<span class='texttt'>*this</span> as if direct-non-list-initializing an object of type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
with <span class='texttt'>std::forward&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;(TMP)</span>, with <span class='texttt'>TMP</span> being the temporary and
<span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs.index()</span>.
</p></li></ul></div></div><div class='para' id='variant.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4514'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='variant.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4517'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>index() == rhs.index()</span>.</p></div></div><div class='para' id='variant.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4520'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_copy_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span>
is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
</p><ul class='itemize'><li id='variant.assign-4.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-4.1'>(4.1)</a></div><p >If an exception is thrown during the call to <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s copy assignment,
the state of the contained value is as defined by the exception safety
guarantee of <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s copy assignment; <span class='texttt'>index()</span> will be <span class='math'><span class='mathalpha'>j</span></span>.
</p></li><li id='variant.assign-4.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-4.2'>(4.2)</a></div><p >If an exception is thrown during the call to <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s copy construction
(with <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs.index()</span>), <span class='texttt'>*this</span> will remain unchanged.
</p></li><li id='variant.assign-4.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-4.3'>(4.3)</a></div><p >If an exception is thrown during the call to <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move construction,
the <span class='texttt'>variant</span> will hold no value.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='operator=,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator='></a></span><code class='itemdecl'>
variant&amp; operator=(variant&amp;&amp; rhs) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='variant.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4542'>#</a></div><p ><i>Effects:</i>
</p><ul class='itemize'><li id='variant.assign-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-5.1'>(5.1)</a></div><p >If neither <span class='texttt'>*this</span> nor <span class='texttt'>rhs</span> holds a value, there is no effect. Otherwise,
</p></li><li id='variant.assign-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-5.2'>(5.2)</a></div><p >if <span class='texttt'>*this</span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'>*this</span> and sets <span class='texttt'>*this</span> to not hold a value. Otherwise,
</p></li><li id='variant.assign-5.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-5.3'>(5.3)</a></div><p >if <span class='texttt'>index() == rhs.index()</span>, assigns <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(std::move(rhs))</span> to
the value contained in <span class='texttt'>*this</span>, with <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>index()</span>. Otherwise,
</p></li><li id='variant.assign-5.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-5.4'>(5.4)</a></div><p >destroys any value contained in <span class='texttt'>*this</span>. Sets <span class='texttt'>*this</span> to hold the
same alternative index as <span class='texttt'>rhs</span> and initializes the value contained in
<span class='texttt'>*this</span> as if direct-non-list-initializing an object of type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
with <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(std::move(rhs))</span> with <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs.index()</span>.
</p></li></ul></div></div><div class='para' id='variant.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4560'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='variant.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4563'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_move_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is
<span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
The expression inside <span class='texttt'>noexcept</span> is equivalent to:
<span class='texttt'>is_nothrow_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_nothrow_move_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
</p><ul class='itemize'><li id='variant.assign-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-7.1'>(7.1)</a></div><p >If an exception is thrown during the call to <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move construction
(with <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs.index())</span>, the <span class='texttt'>variant</span> will hold no value.
</p></li><li id='variant.assign-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-7.2'>(7.2)</a></div><p >If an exception is thrown during the call to <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move assignment,
the state of the contained value is as defined by the exception safety
guarantee of <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move assignment; <span class='texttt'>index()</span> will be <span class='math'><span class='mathalpha'>j</span></span>.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='operator=,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator='></a></span><code class='itemdecl'>
template &lt;class T&gt; variant&amp; operator=(T&amp;&amp; t) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='variant.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4585'>#</a></div><p >Let <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><i>FUN</i>(<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>)</span> for each alternative type
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>. The overload <span class='texttt'><i>FUN</i>(<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>)</span> selected by overload
resolution for the expression <span class='texttt'><i>FUN</i>(std::forward&lt;T&gt;(t))</span> defines
the alternative <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> which is the type of the contained value after
assignment.</p></div></div><div class='para' id='variant.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4593'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>*this</span> holds a <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, assigns <span class='texttt'>std::forward&lt;T&gt;(t)</span> to
the value contained in <span class='texttt'>*this</span>. Otherwise, destroys any value contained
in <span class='texttt'>*this</span>, sets <span class='texttt'>*this</span> to hold the alternative type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
as selected by the imaginary function overload resolution described above,
and direct-initializes the contained value as if direct-non-list-initializing
it with <span class='texttt'>std::forward&lt;T&gt;(t)</span>.</p></div></div><div class='para' id='variant.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4602'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>holds_alternative&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;(*this)</span> is <span class='texttt'>true</span>, with <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
selected by the imaginary function overload resolution described above.</p></div></div><div class='para' id='variant.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4607'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='variant.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4610'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_same_v&lt;decay_t&lt;T&gt;, variant&gt;</span> is <span class='texttt'>false</span>, unless
<span class='texttt'>is_assignable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&amp;, T&gt; &amp;&amp; is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</span> is <span class='texttt'>true</span>,
and unless the expression <span class='texttt'><i>FUN</i>(std::forward&lt;T&gt;(t))</span> (with
<span class='texttt'><i>FUN</i></span> being the above-mentioned set of imaginary functions)
is well formed.</p></div></div><div class='para' id='variant.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4619'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
</p><pre class='codeblock'>
variant&lt;string, string&gt; v;
v = "abc";</pre><p >is ill-formed, as both alternative types have an equally viable constructor
for the argument. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='variant.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4628'>#</a></div><p >The expression inside <span class='texttt'>noexcept</span> is equivalent to:
</p><pre class='codeblock'>
is_nothrow_assignable_v&lt;T<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&amp;, T&gt; &amp;&amp; is_nothrow_constructible_v&lt;T<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</pre><ul class='itemize'><li id='variant.assign-14.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-14.1'>(14.1)</a></div><p >If an exception is thrown during the assignment of <span class='texttt'>std::forward&lt;T&gt;(t)</span>
to the value contained in <span class='texttt'>*this</span>, the state of the contained value and
<span class='texttt'>t</span> are as defined by the exception safety guarantee of the assignment
expression; <span class='texttt'>valueless_by_exception()</span> will be <span class='texttt'>false</span>.
</p></li><li id='variant.assign-14.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-14.2'>(14.2)</a></div><p >If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> object might not hold a value.
</p></li></ul></div></div></div><div id='variant.mod'><h4 ><a class='secnum' href='#variant.mod' style='min-width:118pt'>20.7.3.4</a> Modifiers <a class='abbr_ref' href='variant.mod'>[variant.mod]</a></h4><p ><span class='indexparent'><a class='index' id='emplace,variant'></a></span><span class='indexparent'><a class='index' id='variant,emplace'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt; void emplace(Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4651'>#</a></div><p ><i>Effects:</i>
Equivalent to <span class='texttt'>emplace&lt;<span class='math'><span class='mathalpha'>I</span></span>&gt;(std::forward&lt;Args&gt;(args)...)</span> where <span class='math'><span class='mathalpha'>I</span></span>
is the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types...</span>.</p></div></div><div class='para' id='variant.mod-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4656'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;T, Args...&gt;</span> is <span class='texttt'>true</span>, and <span class='texttt'>T</span> occurs
exactly once in <span class='texttt'>Types...</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='emplace,variant'></a></span><span class='indexparent'><a class='index' id='variant,emplace'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt; void emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.mod-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4669'>#</a></div><p ><i>Effects:</i>
Equivalent to <span class='texttt'>emplace&lt;<span class='math'><span class='mathalpha'>I</span></span>&gt;(il, std::forward&lt;Args&gt;(args)...)</span> where
<span class='math'><span class='mathalpha'>I</span></span> is the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types...</span>.</p></div></div><div class='para' id='variant.mod-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4674'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>,
and <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types...</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='emplace,variant'></a></span><span class='indexparent'><a class='index' id='variant,emplace'></a></span><code class='itemdecl'>
template &lt;size_t I, class... Args&gt; void emplace(Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.mod-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4687'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>I &lt; sizeof...(Types)</span>.</p></div></div><div class='para' id='variant.mod-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4691'>#</a></div><p ><i>Effects:</i>
Destroys the currently contained value if <span class='texttt'>valueless_by_exception()</span>
is <span class='texttt'>false</span>. Then direct-initializes the contained value as if
constructing a value of type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span> with the arguments
<span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='variant.mod-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4698'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>index()</span> is <span class='texttt'>I</span>.</p></div></div><div class='para' id='variant.mod-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4702'>#</a></div><p ><i>Throws:</i>
Any exception thrown during the initialization of the contained value.</p></div></div><div class='para' id='variant.mod-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4706'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, Args...&gt;</span> is <span class='texttt'>true</span>.
If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> might not hold a value.
</p></div></div><p ><span class='indexparent'><a class='index' id='emplace,variant'></a></span><span class='indexparent'><a class='index' id='variant,emplace'></a></span><code class='itemdecl'>
template &lt;size_t I, class U, class... Args&gt; void emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='variant.mod-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4720'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>I &lt; sizeof...(Types)</span>.</p></div></div><div class='para' id='variant.mod-11'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4724'>#</a></div><p ><i>Effects:</i>
Destroys the currently contained value if <span class='texttt'>valueless_by_exception()</span>
is <span class='texttt'>false</span>. Then direct-initializes the contained value as if
constructing a value of type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span> with the arguments
<span class='texttt'>il, std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='variant.mod-12'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4731'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>index()</span> is <span class='texttt'>I</span>.</p></div></div><div class='para' id='variant.mod-13'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4735'>#</a></div><p ><i>Throws:</i>
Any exception thrown during the initialization of the contained value.</p></div></div><div class='para' id='variant.mod-14'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4739'>#</a></div><p ><i>Remarks:</i>
This function shall not participate in overload resolution unless
<span class='texttt'>is_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>.
If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> might not hold a value.
</p></div></div></div><div id='variant.status'><h4 ><a class='secnum' href='#variant.status' style='min-width:118pt'>20.7.3.5</a> Value status <a class='abbr_ref' href='variant.status'>[variant.status]</a></h4><p ><span class='indexparent'><a class='index' id='valueless_by_exception,variant'></a></span><span class='indexparent'><a class='index' id='variant,valueless_by_exception'></a></span><code class='itemdecl'>
constexpr bool valueless_by_exception() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='variant.status-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.status-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4755'>#</a></div><p ><i>Effects:</i>
Returns <span class='texttt'>false</span> if and only if the <span class='texttt'>variant</span> holds a value.</p></div></div><div class='para' id='variant.status-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.status-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4759'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
A <span class='texttt'>variant</span> might not hold a value if an exception is thrown during a
type-changing assignment or emplacement. The latter means that even a
<span class='texttt'>variant&lt;float, int&gt;</span> can become <span class='texttt'>valueless_by_exception()</span>, for
instance by
</p><pre class='codeblock'>
struct S { operator int() { throw 42; }};
variant&lt;float, int&gt; v{12.f};
v.emplace&lt;1&gt;(S());</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='index,variant'></a></span><span class='indexparent'><a class='index' id='variant,index'></a></span><code class='itemdecl'>
constexpr size_t index() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='variant.status-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.status-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4779'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>valueless_by_exception()</span> is <span class='texttt'>true</span>, returns <span class='texttt'>variant_npos</span>.
Otherwise, returns the zero-based index of the alternative of the contained value.
</p></div></div></div><div id='variant.swap'><h4 ><a class='secnum' href='#variant.swap' style='min-width:118pt'>20.7.3.6</a> Swap <a class='abbr_ref' href='variant.swap'>[variant.swap]</a></h4><p ><span class='indexparent'><a class='index' id='swap,variant'></a></span><span class='indexparent'><a class='index' id='variant,swap'></a></span><code class='itemdecl'>
void swap(variant&amp; rhs) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='variant.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4793'>#</a></div><p ><i>Requires:</i> Lvalues of type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> shall be swappable (<a href='swappable.requirements'>[swappable.requirements]</a>) and
<span class='texttt'>is_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> shall be <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4797'>#</a></div><p ><i>Effects:</i>
</p><ul class='itemize'><li id='variant.swap-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.swap-2.1'>(2.1)</a></div><p >if <span class='texttt'>valueless_by_exception() &amp;&amp; rhs.valueless_by_exception()</span> no effect. Otherwise,
</p></li><li id='variant.swap-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.swap-2.2'>(2.2)</a></div><p >if <span class='texttt'>index() == rhs.index()</span>, calls <span class='texttt'>swap(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this), get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(rhs))</span> where <span class='math'><span class='mathalpha'>i</span></span> is <span class='texttt'>index()</span>. Otherwise,
</p></li><li id='variant.swap-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.swap-2.3'>(2.3)</a></div><p >exchanges values of <span class='texttt'>rhs</span> and <span class='texttt'>*this</span>.
</p></li></ul></div></div><div class='para' id='variant.swap-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4808'>#</a></div><p ><i>Throws:</i>
If <span class='texttt'>index() == rhs.index()</span>,
any exception thrown by <span class='texttt'>swap(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this), get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(rhs))</span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index()</span>.
Otherwise, any exception thrown by the move constructor
of <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> or <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index()</span> and <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs.index()</span>.</p></div></div><div class='para' id='variant.swap-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4817'>#</a></div><p ><i>Remarks:</i>
If an exception is thrown during the call to function <span class='texttt'>swap(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this), get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(rhs))</span>,
the states of the contained values of <span class='texttt'>*this</span> and of <span class='texttt'>rhs</span> are
determined by the exception safety guarantee of <span class='texttt'>swap</span> for lvalues of
<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index()</span>.
If an exception is thrown during the exchange of the values of <span class='texttt'>*this</span>
and <span class='texttt'>rhs</span>, the states of the values of <span class='texttt'>*this</span> and of <span class='texttt'>rhs</span>
are determined by the exception safety guarantee of <span class='texttt'>variant</span>'s move constructor.
The expression inside <span class='texttt'>noexcept</span> is equivalent to the logical AND of
<span class='texttt'>is_nothrow_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_nothrow_swappable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
</p></div></div></div></div><div id='variant.helper'><h3 ><a class='secnum' href='#variant.helper' style='min-width:103pt'>20.7.4</a> <span class='texttt'>variant</span> helper classes <a class='abbr_ref' href='variant.helper'>[variant.helper]</a></h3><p ><span class='indexparent'><a class='index' id='variant_size'></a></span><code class='itemdecl'>
template &lt;class T&gt; struct variant_size;
</code></p><div class='itemdescr'></div><div class='para' id='variant.helper-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.helper-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4838'>#</a></div><p ><i>Remarks:</i>
All specializations of <span class='texttt'>variant_size</span> shall meet the
<span class='texttt'>UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>)
with a base characteristic of <span class='texttt'>integral_constant&lt;size_t, N&gt;</span> for some <span class='texttt'>N</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant_size'></a></span><code class='itemdecl'>
template &lt;class T&gt; class variant_size&lt;const T&gt;;
template &lt;class T&gt; class variant_size&lt;volatile T&gt;;
template &lt;class T&gt; class variant_size&lt;const volatile T&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='variant.helper-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.helper-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4853'>#</a></div><p >Let <span class='texttt'>VS</span> denote <span class='texttt'>variant_size&lt;T&gt;</span> of the cv-unqualified
type <span class='texttt'>T</span>. Then each of the three templates shall meet the
<span class='texttt'>UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>) with a
base characteristic of <span class='texttt'>integral_constant&lt;size_t, VS::value&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='variant_size'></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  struct variant_size&lt;variant&lt;Types...&gt;&gt; : integral_constant&lt;size_t, sizeof...(Types)&gt; { };
</code>

<span class='indexparent'><a class='index' id='variant_alternative'></a></span><code class='itemdecl'>
template &lt;size_t I, class T&gt; class variant_alternative&lt;I, const T&gt;;
template &lt;size_t I, class T&gt; class variant_alternative&lt;I, volatile T&gt;;
template &lt;size_t I, class T&gt; class variant_alternative&lt;I, const volatile T&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='variant.helper-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.helper-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4875'>#</a></div><p >Let <span class='texttt'>VA</span> denote <span class='texttt'>variant_alternative&lt;I, T&gt;</span> of the
cv-unqualified type <span class='texttt'>T</span>. Then each of the three templates shall
meet the <span class='texttt'>TransformationTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>) with a
member typedef <span class='texttt'>type</span> that names the following type:
</p><ul class='itemize'><li id='variant.helper-3.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.helper-3.1'>(3.1)</a></div><p >for the first specialization, <span class='texttt'>add_const_t&lt;VA::type&gt;</span>,
</p></li><li id='variant.helper-3.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.helper-3.2'>(3.2)</a></div><p >for the second specialization, <span class='texttt'>add_volatile_t&lt;VA::type&gt;</span>, and
</p></li><li id='variant.helper-3.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.helper-3.3'>(3.3)</a></div><p >for the third specialization, <span class='texttt'>add_cv_t&lt;VA::type&gt;</span>.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='variant_alternative'></a></span><code class='itemdecl'>
variant_alternative&lt;I, variant&lt;Types...&gt;&gt;::type
</code></p><div class='itemdescr'></div><div class='para' id='variant.helper-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.helper-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4893'>#</a></div><p ><i>Requires:</i> <span class='texttt'>I &lt; sizeof...(Types)</span>.</p></div></div><div class='para' id='variant.helper-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.helper-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4896'>#</a></div><p ><i>Value:</i> The type <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>.
</p></div></div></div><div id='variant.get'><h3 ><a class='secnum' href='#variant.get' style='min-width:103pt'>20.7.5</a> Value access <a class='abbr_ref' href='variant.get'>[variant.get]</a></h3><p ><span class='indexparent'><a class='index' id='holds_alternative'></a></span>
<span class='indexparent'><a class='index' id='variant,holds_alternative'></a></span>
<code class='itemdecl'>
template &lt;class T, class... Types&gt;
  constexpr bool holds_alternative(const variant&lt;Types...&gt;&amp; v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='variant.get-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4910'>#</a></div><p ><i>Requires:</i>
The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types...</span>.
Otherwise, the program is ill-formed.</p></div></div><div class='para' id='variant.get-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4915'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span> if <span class='texttt'>index()</span> is equal to the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types...</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,variant'></a></span><span class='indexparent'><a class='index' id='variant,get'></a></span><code class='itemdecl'>
template &lt;size_t I, class... Types&gt;
  constexpr variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; get(variant&lt;Types...&gt;&amp; v);
template &lt;size_t I, class... Types&gt;
  constexpr variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp;&amp; get(variant&lt;Types...&gt;&amp;&amp; v);
template &lt;size_t I, class... Types&gt;
  constexpr const variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; get(const variant&lt;Types...&gt;&amp; v);
template &lt;size_t I, class... Types&gt;
  constexpr const variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp;&amp; get(const variant&lt;Types...&gt;&amp;&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='variant.get-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4933'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>I &lt; sizeof...(Types)</span>.
Otherwise the program is ill-formed.</p></div></div><div class='para' id='variant.get-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4938'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>v.index()</span> is <span class='texttt'>I</span>, returns a reference to the object stored in
the <span class='texttt'>variant</span>. Otherwise, throws an exception of type <span class='texttt'>bad_variant_access</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,variant'></a></span><span class='indexparent'><a class='index' id='variant,get'></a></span><code class='itemdecl'>
template &lt;class T, class... Types&gt; constexpr T&amp; get(variant&lt;Types...&gt;&amp; v);
template &lt;class T, class... Types&gt; constexpr T&amp;&amp; get(variant&lt;Types...&gt;&amp;&amp; v);
template &lt;class T, class... Types&gt; constexpr const T&amp; get(const variant&lt;Types...&gt;&amp; v);
template &lt;class T, class... Types&gt; constexpr const T&amp;&amp; get(const variant&lt;Types...&gt;&amp;&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='variant.get-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4953'>#</a></div><p ><i>Requires:</i>
The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types...</span>.
Otherwise, the program is ill-formed.</p></div></div><div class='para' id='variant.get-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4958'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>v</span> holds a value of type <span class='texttt'>T</span>, returns a reference to that value.
Otherwise, throws an exception of type <span class='texttt'>bad_variant_access</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get_if'></a></span><span class='indexparent'><a class='index' id='variant,get_if'></a></span><code class='itemdecl'>
template &lt;size_t I, class... Types&gt;
  constexpr add_pointer_t&lt;variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&gt;
    get_if(variant&lt;Types...&gt;* v) noexcept;
template &lt;size_t I, class... Types&gt;
  constexpr add_pointer_t&lt;const variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&gt;
    get_if(const variant&lt;Types...&gt;* v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='variant.get-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4976'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>I &lt; sizeof...(Types)</span>.
Otherwise the program is ill-formed.</p></div></div><div class='para' id='variant.get-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4981'>#</a></div><p ><i>Returns:</i>
A pointer to the value stored in the <span class='texttt'>variant</span>, if <span class='texttt'>v != nullptr</span>
and <span class='texttt'>v-&gt;index() == I</span>. Otherwise, returns <span class='texttt'>nullptr</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get_if'></a></span><span class='indexparent'><a class='index' id='variant,get_if'></a></span><code class='itemdecl'>
template &lt;class T, class... Types&gt;
  constexpr add_pointer_t&lt;T&gt;
    get_if(variant&lt;Types...&gt;* v) noexcept;
template &lt;class T, class... Types&gt;
  constexpr add_pointer_t&lt;const T&gt;
    get_if(const variant&lt;Types...&gt;* v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='variant.get-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L4999'>#</a></div><p ><i>Requires:</i>
The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types...</span>.
Otherwise, the program is ill-formed.</p></div></div><div class='para' id='variant.get-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.get-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5004'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return get_if&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v);</span> with <span class='math'><span class='mathalpha'>i</span></span> being the zero-based
index of <span class='texttt'>T</span> in <span class='texttt'>Types...</span>.
</p></div></div></div><div id='variant.relops'><h3 ><a class='secnum' href='#variant.relops' style='min-width:103pt'>20.7.6</a> Relational operators <a class='abbr_ref' href='variant.relops'>[variant.relops]</a></h3><p ><span class='indexparent'><a class='index' id='operator==,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator=='></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  constexpr bool operator==(const variant&lt;Types...&gt;&amp; v, const variant&lt;Types...&gt;&amp; w);
</code></p><div class='itemdescr'></div><div class='para' id='variant.relops-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5019'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) == get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> is a valid expression returning a type that is
convertible to <span class='texttt'>bool</span>, for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.relops-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5024'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>v.index() != w.index()</span>, <span class='texttt'>false</span>;
otherwise if <span class='texttt'>v.valueless_by_exception()</span>, <span class='texttt'>true</span>;
otherwise <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) == get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v.index()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator!='></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  constexpr bool operator!=(const variant&lt;Types...&gt;&amp; v, const variant&lt;Types...&gt;&amp; w);
</code></p><div class='itemdescr'></div><div class='para' id='variant.relops-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5038'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) != get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> is a valid expression returning a type that is
convertible to <span class='texttt'>bool</span>, for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.relops-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5043'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>v.index() != w.index()</span>, <span class='texttt'>true</span>;
otherwise if <span class='texttt'>v.valueless_by_exception()</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) != get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v.index()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator<'></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  constexpr bool operator&lt;(const variant&lt;Types...&gt;&amp; v, const variant&lt;Types...&gt;&amp; w);
</code></p><div class='itemdescr'></div><div class='para' id='variant.relops-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5057'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &lt; get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> is a valid expression returning a type that is
convertible to <span class='texttt'>bool</span>, for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.relops-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5062'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>w.valueless_by_exception()</span>, <span class='texttt'>false</span>;
otherwise if <span class='texttt'>v.valueless_by_exception()</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>v.index() &lt; w.index()</span>, <span class='texttt'>true</span>;
otherwise if <span class='texttt'>v.index() &gt; w.index()</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &lt; get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v.index()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator>'></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  constexpr bool operator&gt;(const variant&lt;Types...&gt;&amp; v, const variant&lt;Types...&gt;&amp; w);
</code></p><div class='itemdescr'></div><div class='para' id='variant.relops-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5078'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &gt; get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> is a valid expression returning a type that is
convertible to <span class='texttt'>bool</span>, for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.relops-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5083'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>v.valueless_by_exception()</span>, <span class='texttt'>false</span>;
otherwise if <span class='texttt'>w.valueless_by_exception()</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>v.index() &gt; w.index()</span>, <span class='texttt'>true</span>;
otherwise if <span class='texttt'>v.index() &lt; w.index()</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &gt; get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v.index()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator<='></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  constexpr bool operator&lt;=(const variant&lt;Types...&gt;&amp; v, const variant&lt;Types...&gt;&amp; w);
</code></p><div class='itemdescr'></div><div class='para' id='variant.relops-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5099'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &lt;= get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> is a valid expression returning a type that is
convertible to <span class='texttt'>bool</span>, for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.relops-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5104'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>v.valueless_by_exception()</span>, <span class='texttt'>true</span>;
otherwise if <span class='texttt'>w.valueless_by_exception()</span>, <span class='texttt'>false</span>;
otherwise, if <span class='texttt'>v.index() &lt; w.index()</span>, <span class='texttt'>true</span>;
otherwise if <span class='texttt'>v.index() &gt; w.index()</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &lt;= get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v.index()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,variant'></a></span><span class='indexparent'><a class='index' id='variant,operator>='></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  constexpr bool operator&gt;=(const variant&lt;Types...&gt;&amp; v, const variant&lt;Types...&gt;&amp; w);
</code></p><div class='itemdescr'></div><div class='para' id='variant.relops-11'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5120'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &gt;= get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> is a valid expression returning a type that is
convertible to <span class='texttt'>bool</span>, for all <span class='math'><span class='mathalpha'>i</span></span>.</p></div></div><div class='para' id='variant.relops-12'><div class='marginalizedparent'><a class='marginalized' href='#variant.relops-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5125'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>w.valueless_by_exception()</span>, <span class='texttt'>true</span>;
otherwise if <span class='texttt'>v.valueless_by_exception()</span>, <span class='texttt'>false</span>;
otherwise, if <span class='texttt'>v.index() &gt; w.index()</span>, <span class='texttt'>true</span>;
otherwise if <span class='texttt'>v.index() &lt; w.index()</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(v) &gt;= get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(w)</span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v.index()</span>.
</p></div></div></div><div id='variant.visit'><h3 ><a class='secnum' href='#variant.visit' style='min-width:103pt'>20.7.7</a> Visitation <a class='abbr_ref' href='variant.visit'>[variant.visit]</a></h3><p ><span class='indexparent'><a class='index' id='visit'></a></span><span class='indexparent'><a class='index' id='variant,visit'></a></span><code class='itemdecl'>
template &lt;class Visitor, class... Variants&gt;
  constexpr <i><span class='texttt'>see below</span></i> visit(Visitor&amp;&amp; vis, Variants&amp;&amp;... vars);
</code></p><div class='itemdescr'></div><div class='para' id='variant.visit-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.visit-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5144'>#</a></div><p ><i>Requires:</i>
The expression in the <i>Effects:</i> element shall be a valid expression of the same
 type and value category, for all combinations of alternative types of all
 variants. Otherwise, the program is ill-formed.</p><p ><i>Effects:</i>
Let <span class='texttt'>is...</span> be <span class='texttt'>vars.index()...</span>. Returns <span class='texttt'><i>INVOKE</i>(forward&lt;Visitor&gt;(vis), get&lt;is&gt;(</span>
<span class='texttt'>forward&lt;Variants&gt;(vars))...);</span>.</p></div></div><div class='para' id='variant.visit-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.visit-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5154'>#</a></div><p ><i>Remarks:</i>
The return type is the common type of all possible <span class='texttt'><i>INVOKE</i></span>
expressions of the <i>Effects:</i> element.</p></div></div><div class='para' id='variant.visit-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.visit-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5159'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>bad_variant_access</span> if any <span class='texttt'>variant</span> in <span class='texttt'>vars</span> is <span class='texttt'>valueless_by_exception()</span>.</p><p ><i>Complexity:</i>
For <span class='texttt'>sizeof...(Variants) &lt;= 1</span>, the invocation of the callable object is
implemented in constant time, i.e. it does not depend on <span class='texttt'>sizeof...(Types).</span>
For <span class='texttt'>sizeof...(Variants) &gt; 1</span>, the invocation of the callable object has
no complexity requirements.
</p></div></div><p ><span class='indexparent'><a class='index' id='monostate'></a></span></p></div><div id='variant.monostate'><h3 ><a class='secnum' href='#variant.monostate' style='min-width:103pt'>20.7.8</a> Class <span class='texttt'>monostate</span> <a class='abbr_ref' href='variant.monostate'>[variant.monostate]</a></h3><p ><code class='itemdecl'>
struct monostate{};
</code></p><div class='itemdescr'><p >The class <span class='texttt'>monostate</span> can serve as a first alternative type for
a <span class='texttt'>variant</span> to make the <span class='texttt'>variant</span> type default constructible.
</p></div></div><div id='variant.monostate.relops'><h3 ><a class='secnum' href='#variant.monostate.relops' style='min-width:103pt'>20.7.9</a> <span class='texttt'>monostate</span> relational operators <a class='abbr_ref' href='variant.monostate.relops'>[variant.monostate.relops]</a></h3><p ><span class='indexparent'><a class='index' id='operator<,monostate'></a></span><span class='indexparent'><a class='index' id='operator>,monostate'></a></span><span class='indexparent'><a class='index' id='operator<=,monostate'></a></span><span class='indexparent'><a class='index' id='operator>=,monostate'></a></span><span class='indexparent'><a class='index' id='operator==,monostate'></a></span><span class='indexparent'><a class='index' id='operator!=,monostate'></a></span><code class='itemdecl'>
constexpr bool operator&lt;(monostate, monostate) noexcept { return false; }
constexpr bool operator&gt;(monostate, monostate) noexcept { return false; }
constexpr bool operator&lt;=(monostate, monostate) noexcept { return true; }
constexpr bool operator&gt;=(monostate, monostate) noexcept { return true; }
constexpr bool operator==(monostate, monostate) noexcept { return true; }
constexpr bool operator!=(monostate, monostate) noexcept { return false; }
</code></p><div class='itemdescr'></div><div class='para' id='variant.monostate.relops-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.monostate.relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5201'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>monostate</span> objects have only a single state; they thus always compare equal.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='variant.specalg'><h3 ><a class='secnum' href='#variant.specalg' style='min-width:103pt'>20.7.10</a> Specialized algorithms <a class='abbr_ref' href='variant.specalg'>[variant.specalg]</a></h3><p ><span class='indexparent'><a class='index' id='swap,variant'></a></span><code class='itemdecl'>
template &lt;class... Types&gt;
  void swap(variant&lt;Types...&gt;&amp; v, variant&lt;Types...&gt;&amp; w) noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='variant.specalg-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.specalg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5215'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>v.swap(w)</span>.</p></div></div><div class='para' id='variant.specalg-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.specalg-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5218'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>is_move_constructible_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_swappable_v&lt;<span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-texatom"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-7" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span>
is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span>.
The expression inside <span class='texttt'>noexcept</span> is equivalent to <span class='texttt'>noexcept(v.swap(w))</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='bad_variant_access'></a></span></p></div><div id='variant.bad.access'><h3 ><a class='secnum' href='#variant.bad.access' style='min-width:103pt'>20.7.11</a> Class <span class='texttt'>bad_variant_access</span> <a class='abbr_ref' href='variant.bad.access'>[variant.bad.access]</a></h3><pre class='codeblock'>
class bad_variant_access : public exception {
public:
  bad_variant_access() noexcept;
  const char* what() const noexcept override;
};</pre><div class='para' id='variant.bad.access-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.bad.access-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5236'>#</a></div><p >Objects of type <span class='texttt'>bad_variant_access</span> are thrown to report invalid
accesses to the value of a <span class='texttt'>variant</span> object.</p><p ><span class='indexparent'><a class='index' id='bad_variant_access,constructor'></a></span><code class='itemdecl'>
bad_variant_access() noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='variant.bad.access-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.bad.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5246'>#</a></div><p >Constructs a <span class='texttt'>bad_variant_access</span> object.
</p></div></div><p ><span class='indexparent'><a class='index' id='what,bad_variant_access'></a></span><span class='indexparent'><a class='index' id='bad_variant_access,what'></a></span><code class='itemdecl'>
const char* what() const noexcept override;
</code></p><div class='itemdescr'></div><div class='para' id='variant.bad.access-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.bad.access-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5256'>#</a></div><p ><i>Returns:</i> An <span class='indexparent'><a class='index' id='return_value_of_bad_variant_access::what'></a></span>implementation-defined <span class='textsc'>ntbs</span>.
</p></div></div></div><div id='variant.hash'><h3 ><a class='secnum' href='#variant.hash' style='min-width:103pt'>20.7.12</a> Hash support <a class='abbr_ref' href='variant.hash'>[variant.hash]</a></h3><p ><span class='indexparent'><a class='index' id='hash,variant'></a></span><code class='itemdecl'>
template &lt;class... Types&gt; struct hash&lt;variant&lt;Types...&gt;&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='variant.hash-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5268'>#</a></div><p >The specialization <span class='texttt'>hash&lt;variant&lt;Types...&gt;&gt;</span> is enabled (<a href='unord.hash'>[unord.hash]</a>)
if and only if every specialization in <span class='texttt'>hash&lt;remove_const_t&lt;Types&gt;&gt;...</span> is enabled.
</p></div></div><p ><span class='indexparent'><a class='index' id='hash,monostate'></a></span><code class='itemdecl'>
template &lt;&gt; struct hash&lt;monostate&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='variant.hash-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.hash-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5279'>#</a></div><p >The specialization is enabled (<a href='unord.hash'>[unord.hash]</a>).
</p></div></div></div><div id='variant.traits'><h3 ><a class='secnum' href='#variant.traits' style='min-width:103pt'>20.7.13</a> Allocator-related traits <a class='abbr_ref' href='variant.traits'>[variant.traits]</a></h3><p ><span class='indexparent'><a class='index' id='uses_allocator,variant'></a></span><code class='itemdecl'>
template &lt;class... Types, class Alloc&gt;
  struct uses_allocator&lt;variant&lt;Types...&gt;, Alloc&gt; : true_type { };
</code></p><div class='itemdescr'></div><div class='para' id='variant.traits-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.traits-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5293'>#</a></div><p ><i>Requires:</i> <span class='texttt'>Alloc</span> shall be an Allocator (<a href='allocator.requirements'>[allocator.requirements]</a>).</p></div></div><div class='para' id='variant.traits-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.traits-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5296'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Specialization of this trait informs other library components
that variant can be constructed with an allocator,
even though it does not have a nested <span class='texttt'>allocator_type</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div></div><div id='any'><h2 ><a class='secnum' href='#any' style='min-width:88pt'>20.8</a> Storage for any type <a class='abbr_ref' href='any'>[any]</a></h2><div class='para' id='any-1'><div class='marginalizedparent'><a class='marginalized' href='#any-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5307'>#</a></div><p >This section describes components that C++ programs may use to perform operations on objects of a discriminated type.</p></div><div class='para' id='any-2'><div class='marginalizedparent'><a class='marginalized' href='#any-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5310'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The discriminated type may contain values of different types but does not attempt conversion between them,
i.e. <span class='texttt'>5</span> is held strictly as an <span class='texttt'>int</span> and is not implicitly convertible either to <span class='texttt'>"5"</span> or to <span class='texttt'>5.0</span>.
This indifference to interpretation but awareness of type effectively allows safe, generic containers of single values, with no scope for surprises from ambiguous conversions.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div id='any.synop'><h3 ><a class='secnum' href='#any.synop' style='min-width:103pt'>20.8.1</a> Header <span class='texttt'>&lt;any&gt;</span> synopsis <a class='abbr_ref' href='any.synop'>[any.synop]</a></h3><p ><span class='indexparent'><a class='index' id='any'></a></span><span class='indexparent'><a class='index' id='any'></a></span>
</p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='any.bad_any_cast'>[any.bad_any_cast]</a>, class <span class='texttt'>bad_any_cast</span>
</span>  class bad_any_cast;

  <span class='comment'>// <a href='any.class'>[any.class]</a>, class <span class='texttt'>any</span>
</span>  class any;

  <span class='comment'>// <a href='any.nonmembers'>[any.nonmembers]</a>, non-member functions
</span>  void swap(any&amp; x, any&amp; y) noexcept;

  template &lt;class T, class... Args&gt;
    any make_any(Args&amp;&amp; ...args);
  template &lt;class T, class U, class... Args&gt;
    any make_any(initializer_list&lt;U&gt; il, Args&amp;&amp; ...args);

  template&lt;class T&gt;
    T any_cast(const any&amp; operand);
  template&lt;class T&gt;
    T any_cast(any&amp; operand);
  template&lt;class T&gt;
    T any_cast(any&amp;&amp; operand);

  template&lt;class T&gt;
    const T* any_cast(const any* operand) noexcept;
  template&lt;class T&gt;
    T* any_cast(any* operand) noexcept;
}</pre></div><div id='any.bad_any_cast'><h3 ><a class='secnum' href='#any.bad_any_cast' style='min-width:103pt'>20.8.2</a> Class <span class='texttt'>bad_any_cast</span> <a class='abbr_ref' href='any.bad_any_cast'>[any.bad_any_cast]</a></h3><p ><span class='indexparent'><a class='index' id='bad_any_cast'></a></span></p><pre class='codeblock'>
class bad_any_cast : public bad_cast {
public:
  const char* what() const noexcept override;
};</pre><div class='para' id='any.bad_any_cast-1'><div class='marginalizedparent'><a class='marginalized' href='#any.bad_any_cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5362'>#</a></div><p >Objects of type <span class='texttt'>bad_any_cast</span> are thrown by a failed <span class='texttt'>any_cast</span> (<a href='any.nonmembers'>[any.nonmembers]</a>).</p></div></div><div id='any.class'><h3 ><a class='secnum' href='#any.class' style='min-width:103pt'>20.8.3</a> Class <span class='texttt'>any</span> <a class='abbr_ref' href='any.class'>[any.class]</a></h3><pre class='codeblock'>
class any {
public:
  <span class='comment'>// <a href='any.cons'>[any.cons]</a>, construction and destruction
</span>  constexpr any() noexcept;

  any(const any&amp; other);
  any(any&amp;&amp; other) noexcept;

  template &lt;class T&gt; any(T&amp;&amp; value);

  template &lt;class T, class... Args&gt;
    explicit any(in_place_type_t&lt;T&gt;, Args&amp;&amp;...);
  template &lt;class T, class U, class... Args&gt;
    explicit any(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt;, Args&amp;&amp;...);

  ~any();

  <span class='comment'>// <a href='any.assign'>[any.assign]</a>, assignments
</span>  any&amp; operator=(const any&amp; rhs);
  any&amp; operator=(any&amp;&amp; rhs) noexcept;

  template &lt;class T&gt; any&amp; operator=(T&amp;&amp; rhs);

  <span class='comment'>// <a href='any.modifiers'>[any.modifiers]</a>, modifiers
</span>  template &lt;class T, class... Args&gt;
    void emplace(Args&amp;&amp; ...);
  template &lt;class T, class U, class... Args&gt;
    void emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);
  void reset() noexcept;
  void swap(any&amp; rhs) noexcept;

  <span class='comment'>// <a href='any.observers'>[any.observers]</a>, observers
</span>  bool has_value() const noexcept;
  const type_info&amp; type() const noexcept;
};</pre><div class='para' id='any.class-1'><div class='marginalizedparent'><a class='marginalized' href='#any.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5405'>#</a></div><p >An object of class <span class='texttt'>any</span> stores an instance of any type that satisfies the constructor requirements or it has no value,
and this is referred to as the <a class='hidden_link' href='#def:state' id='def:state'><i>state</i></a> of the class <span class='texttt'>any</span> object.
The stored instance is called the <a class='hidden_link' href='#def:contained_object' id='def:contained_object'><i>contained object</i></a>.
Two states are equivalent if either they both have no value, or both have a value and the contained objects are equivalent.</p></div><div class='para' id='any.class-2'><div class='marginalizedparent'><a class='marginalized' href='#any.class-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5411'>#</a></div><p >The non-member <span class='texttt'>any_cast</span> functions provide type-safe access to the contained object.</p></div><div class='para' id='any.class-3'><div class='marginalizedparent'><a class='marginalized' href='#any.class-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5414'>#</a></div><p >Implementations should avoid the use of dynamically allocated memory for a small contained object.
[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
where the object constructed is holding only an <span class='texttt'>int</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
Such small-object optimization shall only be applied to types <span class='texttt'>T</span> for which
<span class='texttt'>is_nothrow_move_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.</p></div><div id='any.cons'><h4 ><a class='secnum' href='#any.cons' style='min-width:118pt'>20.8.3.1</a> Construction and destruction <a class='abbr_ref' href='any.cons'>[any.cons]</a></h4><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
constexpr any() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5430'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>has_value()</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
any(const any&amp; other);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5441'>#</a></div><p ><i>Effects:</i>
Constructs an object of type <span class='texttt'>any</span> with an equivalent state as <span class='texttt'>other</span>.</p></div></div><div class='para' id='any.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5445'>#</a></div><p ><i>Throws:</i>
Any exceptions arising from calling the selected constructor of the contained object.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
any(any&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5456'>#</a></div><p ><i>Effects:</i>
Constructs an object of type <span class='texttt'>any</span> with a state equivalent to the original state of <span class='texttt'>other</span>.</p></div></div><div class='para' id='any.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5460'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>other</span> is left in a valid but otherwise unspecified state.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  any(T&amp;&amp; value);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5472'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.cons-7'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5475'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.cons-8'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5479'>#</a></div><p ><i>Effects:</i>
Constructs an object of type <span class='texttt'>any</span> that contains an object of type <span class='texttt'>VT</span> direct-initialized with <span class='texttt'>std::forward&lt;T&gt;(value)</span>.</p></div></div><div class='para' id='any.cons-9'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5483'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>VT</span> is not the same type as <span class='texttt'>any</span>,
<span class='texttt'>VT</span> is not a specialization of <span class='texttt'>in_place_type_t</span>,
and <span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='any.cons-10'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5490'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  explicit any(in_place_type_t&lt;T&gt;, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-11'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5502'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.cons-12'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5505'>#</a></div><p ><i>Requires:</i> <span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.cons-13'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5508'>#</a></div><p ><i>Effects:</i> Initializes the contained value as if direct-non-list-initializing an object of
type <span class='texttt'>VT</span> with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='any.cons-14'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5512'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value of type <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.cons-15'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5515'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.cons-16'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5518'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt;
  explicit any(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-17'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5532'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.cons-18'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5535'>#</a></div><p ><i>Requires:</i> <span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.cons-19'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5538'>#</a></div><p ><i>Effects:</i> Initializes the contained value as if direct-non-list-initializing an object of
type <span class='texttt'>VT</span> with the arguments <span class='texttt'>il, std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='any.cons-20'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5542'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='any.cons-21'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5545'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.cons-22'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5548'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,destructor'></a></span>
<code class='itemdecl'>
~any();
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-23'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5561'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>reset()</span>.
</p></div></div></div><div id='any.assign'><h4 ><a class='secnum' href='#any.assign' style='min-width:118pt'>20.8.3.2</a> Assignment <a class='abbr_ref' href='any.assign'>[any.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,any'></a></span><span class='indexparent'><a class='index' id='any,operator='></a></span><code class='itemdecl'>
any&amp; operator=(const any&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='any.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5574'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>any(rhs).swap(*this)</span>.
No effects if an exception is thrown.</p></div></div><div class='para' id='any.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5579'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='any.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5583'>#</a></div><p ><i>Throws:</i>
Any exceptions arising from the copy constructor of the contained object.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,any'></a></span><span class='indexparent'><a class='index' id='any,operator='></a></span><code class='itemdecl'>
any&amp; operator=(any&amp;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5594'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>any(std::move(rhs)).swap(*this)</span>.</p></div></div><div class='para' id='any.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5598'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='any.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5602'>#</a></div><p ><i>Postconditions:</i>
The state of <span class='texttt'>*this</span> is equivalent to the original state of <span class='texttt'>rhs</span>
and <span class='texttt'>rhs</span> is left in a valid but otherwise unspecified state.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,any'></a></span><span class='indexparent'><a class='index' id='any,operator='></a></span><code class='itemdecl'>
template&lt;class T&gt;
  any&amp; operator=(T&amp;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='any.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5615'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5618'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5622'>#</a></div><p ><i>Effects:</i>
Constructs an object <span class='texttt'>tmp</span> of type <span class='texttt'>any</span> that contains an object of type <span class='texttt'>VT</span> direct-initialized with <span class='texttt'>std::forward&lt;T&gt;(rhs)</span>, and <span class='texttt'>tmp.swap(*this)</span>.
No effects if an exception is thrown.</p></div></div><div class='para' id='any.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5627'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='any.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5631'>#</a></div><p ><i>Remarks:</i>
This operator shall not participate in overload resolution unless
<span class='texttt'>T</span> is not the same type as <span class='texttt'>any</span> and
<span class='texttt'>is_copy_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='any.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5637'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.
</p></div></div></div><div id='any.modifiers'><h4 ><a class='secnum' href='#any.modifiers' style='min-width:118pt'>20.8.3.3</a> Modifiers <a class='abbr_ref' href='any.modifiers'>[any.modifiers]</a></h4><p ><span class='indexparent'><a class='index' id='emplace,any'></a></span><span class='indexparent'><a class='index' id='any,emplace'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  void emplace(Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-1'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5651'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.modifiers-2'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5654'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.modifiers-3'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5658'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>reset()</span>.
Then initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>VT</span> with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='any.modifiers-4'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5663'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='any.modifiers-5'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5666'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.modifiers-6'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5669'>#</a></div><p ><i>Remarks:</i> If an exception is thrown during the call to <span class='texttt'>VT</span>'s constructor,
<span class='texttt'>*this</span> does not contain a value, and any previously contained object
has been destroyed.
This function shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='emplace,any'></a></span><span class='indexparent'><a class='index' id='any,emplace'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt;
  void emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-7'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5685'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.modifiers-8'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5688'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.modifiers-9'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5692'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>reset()</span>. Then initializes the contained value
as if direct-non-list-initializing an object of type <span class='texttt'>VT</span> with the arguments
<span class='texttt'>il, std::forward&lt;Args&gt; (args)...</span>.</p></div></div><div class='para' id='any.modifiers-10'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5697'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='any.modifiers-11'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5700'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.modifiers-12'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5703'>#</a></div><p ><i>Remarks:</i> If an exception is thrown during the call to <span class='texttt'>VT</span>'s constructor,
<span class='texttt'>*this</span> does not contain a value, and any previously contained object
has been destroyed.
The function shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,any'></a></span><span class='indexparent'><a class='index' id='any,reset'></a></span><code class='itemdecl'>
void reset() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-13'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5718'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>has_value()</span> is <span class='texttt'>true</span>, destroys the contained object.</p></div></div><div class='para' id='any.modifiers-14'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5722'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>has_value()</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='swap,any'></a></span><span class='indexparent'><a class='index' id='any,swap'></a></span><code class='itemdecl'>
void swap(any&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-15'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5734'>#</a></div><p ><i>Effects:</i>
Exchanges the states of <span class='texttt'>*this</span> and <span class='texttt'>rhs</span>.
</p></div></div></div><div id='any.observers'><h4 ><a class='secnum' href='#any.observers' style='min-width:118pt'>20.8.3.4</a> Observers <a class='abbr_ref' href='any.observers'>[any.observers]</a></h4><p ><span class='indexparent'><a class='index' id='has_value,any'></a></span><span class='indexparent'><a class='index' id='any,has_value'></a></span><code class='itemdecl'>
bool has_value() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.observers-1'><div class='marginalizedparent'><a class='marginalized' href='#any.observers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5747'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span> if <span class='texttt'>*this</span> contains an object, otherwise <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='type,any'></a></span><span class='indexparent'><a class='index' id='any,type'></a></span><code class='itemdecl'>
const type_info&amp; type() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.observers-2'><div class='marginalizedparent'><a class='marginalized' href='#any.observers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5758'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>typeid(T)</span> if <span class='texttt'>*this</span> has a contained object of type <span class='texttt'>T</span>,
otherwise <span class='texttt'>typeid(void)</span>.</p></div></div><div class='para' id='any.observers-3'><div class='marginalizedparent'><a class='marginalized' href='#any.observers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5763'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Useful for querying against types known either at compile time or only at runtime.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div></div><div id='any.nonmembers'><h3 ><a class='secnum' href='#any.nonmembers' style='min-width:103pt'>20.8.4</a> Non-member functions <a class='abbr_ref' href='any.nonmembers'>[any.nonmembers]</a></h3><p ><span class='indexparent'><a class='index' id='swap,any'></a></span><code class='itemdecl'>
void swap(any&amp; x, any&amp; y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.nonmembers-1'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5777'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>x.swap(y)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='make_any'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  any make_any(Args&amp;&amp; ...args);
</code></p><div class='itemdescr'></div><div class='para' id='any.nonmembers-2'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5789'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return any(in_place_type&lt;T&gt;, std::forward&lt;Args&gt;(args)...);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='make_any'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt;
  any make_any(initializer_list&lt;U&gt; il, Args&amp;&amp; ...args);
</code></p><div class='itemdescr'></div><div class='para' id='any.nonmembers-3'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5801'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return any(in_place_type&lt;T&gt;, il, std::forward&lt;Args&gt;(args)...);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='any_cast'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  T any_cast(const any&amp; operand);
template&lt;class T&gt;
  T any_cast(any&amp; operand);
template&lt;class T&gt;
  T any_cast(any&amp;&amp; operand);
</code></p><div class='itemdescr'></div><div class='para' id='any.nonmembers-4'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5817'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>is_reference_v&lt;T&gt;</span> is <span class='texttt'>true</span> or <span class='texttt'>is_copy_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.
Otherwise the program is ill-formed.</p></div></div><div class='para' id='any.nonmembers-5'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5822'>#</a></div><p ><i>Returns:</i>
For the first form, <span class='texttt'>*any_cast&lt;add_const_t&lt;remove_reference_t&lt;T&gt;&gt;&gt;(&amp;operand)</span>.
For the second and third forms, <span class='texttt'>*any_cast&lt;remove_reference_t&lt;T&gt;&gt;(&amp;operand)</span>.</p></div></div><div class='para' id='any.nonmembers-6'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5827'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>bad_any_cast</span> if <span class='texttt'>operand.type() != typeid(remove_reference_t&lt;T&gt;)</span>.</p></div></div><div class='para' id='any.nonmembers-7'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5831'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
any x(5);                                   <span class='comment'>// <span class='texttt'>x</span> holds <span class='texttt'>int</span>
</span>assert(any_cast&lt;int&gt;(x) == 5);              <span class='comment'>// cast to value
</span>any_cast&lt;int&amp;&gt;(x) = 10;                     <span class='comment'>// cast to reference
</span>assert(any_cast&lt;int&gt;(x) == 10);

x = "Meow";                                 <span class='comment'>// <span class='texttt'>x</span> holds <span class='texttt'>const char*</span>
</span>assert(strcmp(any_cast&lt;const char*&gt;(x), "Meow") == 0);
any_cast&lt;const char*&amp;&gt;(x) = "Harry";
assert(strcmp(any_cast&lt;const char*&gt;(x), "Harry") == 0);

x = string("Meow");                         <span class='comment'>// <span class='texttt'>x</span> holds <span class='texttt'>string</span>
</span>string s, s2("Jane");
s = move(any_cast&lt;string&amp;&gt;(x));             <span class='comment'>// move from <span class='texttt'>any</span>
</span>assert(s == "Meow");
any_cast&lt;string&amp;&gt;(x) = move(s2);            <span class='comment'>// move to <span class='texttt'>any</span>
</span>assert(any_cast&lt;const string&amp;&gt;(x) == "Jane");

string cat("Meow");
const any y(cat);                           <span class='comment'>// <span class='texttt'>const y</span> holds <span class='texttt'>string</span>
</span>assert(any_cast&lt;const string&amp;&gt;(y) == cat);

any_cast&lt;string&amp;&gt;(y);                       <span class='comment'>// error; cannot
</span>                                            <span class='comment'>// <span class='texttt'>any_cast</span> away const
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='any_cast'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  const T* any_cast(const any* operand) noexcept;
template&lt;class T&gt;
  T* any_cast(any* operand) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.nonmembers-8'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5870'>#</a></div><p ><i>Returns:</i>
If <span class='texttt'>operand != nullptr &amp;&amp; operand-&gt;type() == typeid(T)</span>,
a pointer to the object contained by <span class='texttt'>operand</span>;
otherwise, <span class='texttt'>nullptr</span>.</p></div></div><div class='para' id='any.nonmembers-9'><div class='marginalizedparent'><a class='marginalized' href='#any.nonmembers-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5876'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
bool is_string(const any&amp; operand) {
  return any_cast&lt;string&gt;(&amp;operand) != nullptr;
}</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div></div><div id='bitset'><h2 ><a class='secnum' href='#bitset' style='min-width:88pt'>20.9</a> Bitsets <a class='abbr_ref' href='bitset'>[bitset]</a></h2><p ><span class='indexparent'><a class='index' id='bitset'></a></span>
</p><div id='bitset.syn'><h3 ><a class='secnum' href='#bitset.syn' style='min-width:103pt'>20.9.1</a> Header <span class='texttt'>&lt;bitset&gt;</span> synopsis <a class='abbr_ref' href='bitset.syn'>[bitset.syn]</a></h3><p ><span class='indexparent'><a class='index' id='bitset'></a></span><span class='indexparent'><a class='index' id='bitset'></a></span>
</p><pre class='codeblock'>
#include &lt;string&gt;
#include &lt;iosfwd&gt;   <span class='comment'>// for <span class='texttt'>istream</span> (<a href='istream.syn'>[istream.syn]</a>), <span class='texttt'>ostream</span> (<a href='ostream.syn'>[ostream.syn]</a>), see <a href='iosfwd.syn'>[iosfwd.syn]</a>
</span>namespace std {
  template &lt;size_t N&gt; class bitset;

  <span class='comment'>// <a href='bitset.operators'>[bitset.operators]</a>, bitset operators
</span>  template &lt;size_t N&gt;
    bitset&lt;N&gt; operator&amp;(const bitset&lt;N&gt;&amp;, const bitset&lt;N&gt;&amp;) noexcept;
  template &lt;size_t N&gt;
    bitset&lt;N&gt; operator|(const bitset&lt;N&gt;&amp;, const bitset&lt;N&gt;&amp;) noexcept;
  template &lt;size_t N&gt;
    bitset&lt;N&gt; operator^(const bitset&lt;N&gt;&amp;, const bitset&lt;N&gt;&amp;) noexcept;
  template &lt;class charT, class traits, size_t N&gt;
    basic_istream&lt;charT, traits&gt;&amp; operator&gt;&gt;(basic_istream&lt;charT, traits&gt;&amp; is, bitset&lt;N&gt;&amp; x);
  template &lt;class charT, class traits, size_t N&gt;
    basic_ostream&lt;charT, traits&gt;&amp; operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const bitset&lt;N&gt;&amp; x);
}</pre><div class='para' id='bitset.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#bitset.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L5914'>#</a></div><p >The header
<span class='texttt'>&lt;bitset&gt;</span>
defines a
class template
and several related functions for representing
and manipulating fixed-size sequences of bits.</p></div></div><div id='template.bitset'><h3 ><a class='secnum' href='#template.bitset' style='min-width:103pt'>20.9.2</a> Class template <span class='texttt'>bitset</span> <a class='abbr_ref' href='template.bitset'>[template.bitset]</a></h3><p ><span class='indexparent'><a class='index' id='bitset'></a></span></p><pre class='codeblock'>
namespace std {
  template&lt;size_t N&gt; class bitset {
  public:
    <span class='comment'>// bit reference:
</span>    class reference {
      friend class bitset;
      reference() noexcept;
    public:
     ~reference() noexcept;
      reference&amp; operator=(bool x) noexcept;             <span class='comment'>// for <span class='texttt'>b[i] = x;</span>
</span>      reference&amp; operator=(const reference&amp;) noexcept;   <span class='comment'>// for <span class='texttt'>b[i] = b[j];</span>
</span>      bool operator~() const noexcept;                   <span class='comment'>// flips the bit
</span>      operator bool() const noexcept;                    <span class='comment'>// for <span class='texttt'>x = b[i];</span>
</span>      reference&amp; flip() noexcept;                        <span class='comment'>// for <span class='texttt'>b[i].flip();</span>
</span>    };

    <span class='comment'>// <a href='bitset.cons'>[bitset.cons]</a>, constructors
</span>    constexpr bitset() noexcept;
    constexpr bitset(unsigned long long val) noexcept;
    template&lt;class charT, class traits, class Allocator&gt;
      explicit bitset(
        const basic_string&lt;charT, traits, Allocator&gt;&amp; str,
        typename basic_string&lt;charT, traits, Allocator&gt;::size_type pos = 0,
        typename basic_string&lt;charT, traits, Allocator&gt;::size_type n =
          basic_string&lt;charT, traits, Allocator&gt;::npos,
          charT zero = charT('0'), charT one = charT('1'));
    template &lt;class charT&gt;
      explicit bitset(
        const charT* str,
        typename basic_string&lt;charT&gt;::size_type n = basic_string&lt;charT&gt;::npos,
        charT zero = charT('0'), charT one = charT('1'));

    <span class='comment'>// <a href='bitset.members'>[bitset.members]</a>, bitset operations
</span>    bitset&lt;N&gt;&amp; operator&amp;=(const bitset&lt;N&gt;&amp; rhs) noexcept;
    bitset&lt;N&gt;&amp; operator|=(const bitset&lt;N&gt;&amp; rhs) noexcept;
    bitset&lt;N&gt;&amp; operator^=(const bitset&lt;N&gt;&amp; rhs) noexcept;
    bitset&lt;N&gt;&amp; operator&lt;&lt;=(size_t pos) noexcept;
    bitset&lt;N&gt;&amp; operator&gt;&gt;=(size_t pos) noexcept;
    bitset&lt;N&gt;&amp; set() noexcept;
    bitset&lt;N&gt;&amp; set(size_t pos, bool val = true);
    bitset&lt;N&gt;&amp; reset() noexcept;
    bitset&lt;N&gt;&amp; reset(size_t pos);
    bitset&lt;N&gt;  operator~() const noexcept;
    bitset&lt;N&gt;&amp; flip() noexcept;
    bitset&lt;N&gt;&amp; flip(size_t pos);

    <span class='comment'>// element access:
</span>    constexpr bool operator[](size_t pos) const;       <span class='comment'>// for <span class='texttt'>b[i];</span>
</span>    reference operator[](size_t pos);                  <span class='comment'>// for <span class='texttt'>b[i];</span>
</span>
    unsigned long to_ulong() const;
    unsigned long long to_ullong() const;
    template &lt;class charT = char,
        class traits = char_traits&lt;charT&gt;,
        class Allocator = allocator&lt;charT&gt;&gt;
      basic_string&lt;charT, traits, Allocator&gt;
      to_string(charT zero = charT('0'), charT one = charT('1')) const;
    size_t count() const noexcept;
    constexpr size_t size() const noexcept;
    bool operator==(const bitset&lt;N&gt;&amp; rhs) const noexcept;
    bool operator!=(const bitset&lt;N&gt;&amp; rhs) const noexcept;
    bool test(size_t pos) const;
    bool all() const noexcept;
    bool any() const noexcept;
    bool none() const noexcept;
    bitset&lt;N&gt; operator&lt;&lt;(size_t pos) const noexcept;
    bitset&lt;N&gt; operator&gt;&gt;(size_t pos) const noexcept;
  };

  <span class='comment'>// <a href='bitset.hash'>[bitset.hash]</a>, hash support
</span>  template &lt;class T&gt; struct hash;
  template &lt;size_t N&gt; struct hash&lt;bitset&lt;N&gt;&gt;;
}</pre><div class='para' id='template.bitset-1'><div class='marginalizedparent'><a class='marginalized' href='#template.bitset-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6000'>#</a></div><p >The class template
<span class='texttt'>bitset&lt;N&gt;</span>describes an object that can store a sequence consisting of a fixed number of
bits, <span class='texttt'>N</span>.</p></div><div class='para' id='template.bitset-2'><div class='marginalizedparent'><a class='marginalized' href='#template.bitset-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6006'>#</a></div><p >Each bit represents either the value zero (reset) or one (set).
To
<a class='hidden_link' href='#def:toggle' id='def:toggle'><i>toggle</i></a>
a bit is to change the value zero to one, or the value one to
zero.
Each bit has a non-negative position <span class='texttt'>pos</span>.
When converting
between an object of class
<span class='texttt'>bitset&lt;N&gt;</span>
and a value of some
integral type, bit position <span class='texttt'>pos</span> corresponds to the
<a class='hidden_link' href='#def:bit_value' id='def:bit_value'><i>bit value</i></a>
<span class='texttt'>1 &lt;&lt; pos</span>.
The integral value corresponding to two
or more bits is the sum of their bit values.</p></div><div class='para' id='template.bitset-3'><div class='marginalizedparent'><a class='marginalized' href='#template.bitset-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6023'>#</a></div><p >The functions described in this subclause can report three kinds of
errors, each associated with a distinct exception:</p><ul class='itemize'><li id='template.bitset-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#template.bitset-3.1'>(3.1)</a></div><p >an
<a class='hidden_link' href='#def:invalid-argument' id='def:invalid-argument'><i>invalid-argument</i></a>
error is associated with exceptions of type
<span class='texttt'>invalid_argument</span> (<a href='invalid.argument'>[invalid.argument]</a>);
<span class='indexparent'><a class='index' id='invalid_argument'></a></span></p></li><li id='template.bitset-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#template.bitset-3.2'>(3.2)</a></div><p >an
<a class='hidden_link' href='#def:out-of-range' id='def:out-of-range'><i>out-of-range</i></a>
error is associated with exceptions of type
<span class='texttt'>out_of_range</span> (<a href='out.of.range'>[out.of.range]</a>);
<span class='indexparent'><a class='index' id='out_of_range'></a></span></p></li><li id='template.bitset-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#template.bitset-3.3'>(3.3)</a></div><p >an
<a class='hidden_link' href='#def:overflow' id='def:overflow'><i>overflow</i></a>
error is associated with exceptions of type
<span class='texttt'>overflow_error</span> (<a href='overflow.error'>[overflow.error]</a>).
<span class='indexparent'><a class='index' id='overflow_error'></a></span></p></li></ul></div><div id='bitset.cons'><h4 ><a class='secnum' href='#bitset.cons' style='min-width:118pt'>20.9.2.1</a> <span class='texttt'>bitset</span> constructors <a class='abbr_ref' href='bitset.cons'>[bitset.cons]</a></h4><p ><span class='indexparent'><a class='index' id='bitset,constructor'></a></span><code class='itemdecl'>
constexpr bitset() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#bitset.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6056'>#</a></div><p ><i>Effects:</i>
Constructs an object of class
<span class='texttt'>bitset&lt;N&gt;</span>,
initializing all bits to zero.
</p></div></div><p ><span class='indexparent'><a class='index' id='bitset,constructor'></a></span><code class='itemdecl'>
constexpr bitset(unsigned long long val) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#bitset.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6069'>#</a></div><p ><i>Effects:</i>
Constructs an object of class
<span class='texttt'>bitset&lt;N&gt;</span>,
initializing the first <span class='texttt'>M</span> bit positions to the corresponding bit
values in <span class='texttt'>val</span>.
<span class='texttt'>M</span> is the smaller of <span class='texttt'>N</span> and the number of bits in the value
representation (<a href='basic.types'>[basic.types]</a>) of <span class='texttt'>unsigned long long</span>.
If <span class='texttt'>M &lt; N</span>, the remaining bit positions are initialized to zero.
</p></div></div><p ><span class='indexparent'><a class='index' id='bitset,constructor'></a></span><code class='itemdecl'>
template &lt;class charT, class traits, class Allocator&gt;
explicit
bitset(const basic_string&lt;charT, traits, Allocator&gt;&amp; str,
       typename basic_string&lt;charT, traits, Allocator&gt;::size_type pos = 0,
       typename basic_string&lt;charT, traits, Allocator&gt;::size_type n =
         basic_string&lt;charT, traits, Allocator&gt;::npos,
         charT zero = charT('0'), charT one = charT('1'));
</code></p><div class='itemdescr'></div><div class='para' id='bitset.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#bitset.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6092'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>out_of_range</span>
if
<span class='texttt'>pos &gt; str.size()</span>
or <span class='texttt'>invalid_argument</span> if an invalid character is found (see below).<span class='indexparent'><a class='index' id='out_of_range'></a></span></p></div></div><div class='para' id='bitset.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#bitset.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6100'>#</a></div><p ><i>Effects:</i>
Determines the effective length
<span class='texttt'>rlen</span> of the initializing string as the smaller of
<span class='texttt'>n</span> and
<span class='texttt'>str.size() - pos</span>.</p><p >The function then throws<span class='indexparent'><a class='index' id='invalid_argument'></a></span>
<span class='texttt'>invalid_argument</span>
if any of the <span class='texttt'>rlen</span>
characters in <span class='texttt'>str</span> beginning at position <span class='texttt'>pos</span> is
other than <span class='texttt'>zero</span> or <span class='texttt'>one</span>. The function uses <span class='texttt'>traits::eq()</span>
to compare the character values.</p><p >Otherwise, the function constructs an object of class
<span class='texttt'>bitset&lt;N&gt;</span>,
initializing the first <span class='texttt'>M</span> bit
positions to values determined from the corresponding characters in the string
<span class='texttt'>str</span>.
<span class='texttt'>M</span> is the smaller of <span class='texttt'>N</span> and <span class='texttt'>rlen</span>.</p></div></div><div class='para' id='bitset.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#bitset.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6122'>#</a></div><p >An element of the constructed object has value zero if the
corresponding character in <span class='texttt'>str</span>, beginning at position
<span class='texttt'>pos</span>, is
<span class='texttt'>zero</span>.
Otherwise, the element has the value one.
Character position <span class='texttt'>pos + M - 1</span> corresponds to bit position zero.
Subsequent decreasing character positions correspond to increasing bit positions.</p></div></div><div class='para' id='bitset.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#bitset.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6131'>#</a></div><p >If <span class='texttt'>M &lt; N</span>, remaining bit positions are initialized to zero.
</p></div></div><p ><span class='indexparent'><a class='index' id='bitset,constructor'></a></span><code class='itemdecl'>
template &lt;class charT&gt;
  explicit bitset(
    const charT* str,
    typename basic_string&lt;charT&gt;::size_type n = basic_string&lt;charT&gt;::npos,
    charT zero = charT('0'), charT one = charT('1'));
</code></p><div class='itemdescr'></div><div class='para' id='bitset.cons-7'><div class='marginalizedparent'><a class='marginalized' href='#bitset.cons-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6145'>#</a></div><p ><i>Effects:</i> Constructs an object of class <span class='texttt'>bitset&lt;N&gt;</span> as if by:
</p><pre class='codeblock'>
bitset(
  n == basic_string&lt;charT&gt;::npos
    ? basic_string&lt;charT&gt;(str)
    : basic_string&lt;charT&gt;(str, n),
  0, n, zero, one)</pre></div></div></div><div id='bitset.members'><h4 ><a class='secnum' href='#bitset.members' style='min-width:118pt'>20.9.2.2</a> <span class='texttt'>bitset</span> members <a class='abbr_ref' href='bitset.members'>[bitset.members]</a></h4><p ><span class='indexparent'><a class='index' id='operator&=,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator&='></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; operator&amp;=(const bitset&lt;N&gt;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-1'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6166'>#</a></div><p ><i>Effects:</i>
Clears each bit in
<span class='texttt'>*this</span>
for which the corresponding bit in <span class='texttt'>rhs</span> is clear, and leaves all other bits unchanged.</p></div></div><div class='para' id='bitset.members-2'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6172'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator|=,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator|='></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; operator|=(const bitset&lt;N&gt;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-3'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6183'>#</a></div><p ><i>Effects:</i>
Sets each bit in
<span class='texttt'>*this</span>
for which the corresponding bit in <span class='texttt'>rhs</span> is set, and leaves all other bits unchanged.</p></div></div><div class='para' id='bitset.members-4'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6189'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator^=,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator^='></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; operator^=(const bitset&lt;N&gt;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-5'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6200'>#</a></div><p ><i>Effects:</i>
Toggles each bit in
<span class='texttt'>*this</span>
for which the corresponding bit in <span class='texttt'>rhs</span> is set, and leaves all other bits unchanged.</p></div></div><div class='para' id='bitset.members-6'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6206'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<<=,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator<<='></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; operator&lt;&lt;=(size_t pos) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-7'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6217'>#</a></div><p ><i>Effects:</i>
Replaces each bit at position <span class='texttt'>I</span> in
<span class='texttt'>*this</span>
with a value determined as follows:</p><ul class='itemize'><li id='bitset.members-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#bitset.members-7.1'>(7.1)</a></div><p >If <span class='texttt'>I &lt; pos</span>, the new value is zero;
</p></li><li id='bitset.members-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#bitset.members-7.2'>(7.2)</a></div><p >If <span class='texttt'>I &gt;= pos</span>, the new value is the previous
value of the bit at position <span class='texttt'>I - pos</span>.
</p></li></ul></div></div><div class='para' id='bitset.members-8'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6231'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>>=,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator>>='></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; operator&gt;&gt;=(size_t pos) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-9'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6242'>#</a></div><p ><i>Effects:</i>
Replaces each bit at position <span class='texttt'>I</span> in
<span class='texttt'>*this</span>
with a value determined as follows:</p><ul class='itemize'><li id='bitset.members-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#bitset.members-9.1'>(9.1)</a></div><p >If <span class='texttt'>pos &gt;= N - I</span>, the new value is zero;
</p></li><li id='bitset.members-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#bitset.members-9.2'>(9.2)</a></div><p >If <span class='texttt'>pos &lt; N - I</span>, the new value is the previous value of the bit at position <span class='texttt'>I + pos</span>.
</p></li></ul></div></div><div class='para' id='bitset.members-10'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6255'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='set,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,set'></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; set() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-11'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6268'>#</a></div><p ><i>Effects:</i>
Sets all bits in
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='bitset.members-12'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6273'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='set,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,set'></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; set(size_t pos, bool val = true);
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-13'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6285'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>out_of_range</span>
if <span class='texttt'>pos</span> does not correspond to a valid bit position.<span class='indexparent'><a class='index' id='out_of_range'></a></span></p></div></div><div class='para' id='bitset.members-14'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6291'>#</a></div><p ><i>Effects:</i>
Stores a new value in the bit at position <span class='texttt'>pos</span> in
<span class='texttt'>*this</span>.
If <span class='texttt'>val</span> is nonzero, the stored value is one, otherwise it is zero.</p></div></div><div class='para' id='bitset.members-15'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6297'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,reset'></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; reset() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-16'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6308'>#</a></div><p ><i>Effects:</i>
Resets all bits in
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='bitset.members-17'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6313'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,reset'></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; reset(size_t pos);
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-18'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6324'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>out_of_range</span>
if <span class='texttt'>pos</span> does not correspond to a valid bit position.
<span class='indexparent'><a class='index' id='out_of_range'></a></span>
</p></div></div><div class='para' id='bitset.members-19'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6330'>#</a></div><p ><i>Effects:</i>
Resets the bit at position <span class='texttt'>pos</span> in
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='bitset.members-20'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6335'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator_'></a></span><code class='itemdecl'>
bitset&lt;N&gt; operator~() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-21'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6346'>#</a></div><p ><i>Effects:</i>
Constructs an object <span class='texttt'>x</span> of class
<span class='texttt'>bitset&lt;N&gt;</span>
and initializes it with
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='bitset.members-22'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6353'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>x.flip()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='flip,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,flip'></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; flip() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-23'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6364'>#</a></div><p ><i>Effects:</i>
Toggles all bits in
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='bitset.members-24'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6369'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='flip,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,flip'></a></span><code class='itemdecl'>
bitset&lt;N&gt;&amp; flip(size_t pos);
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-25'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6380'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>out_of_range</span>
if <span class='texttt'>pos</span> does not correspond to a valid bit position.<span class='indexparent'><a class='index' id='out_of_range'></a></span></p></div></div><div class='para' id='bitset.members-26'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6386'>#</a></div><p ><i>Effects:</i>
Toggles the bit at position <span class='texttt'>pos</span> in
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='bitset.members-27'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6391'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='to_ulong,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,to_ulong'></a></span><code class='itemdecl'>
unsigned long to_ulong() const;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-28'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6402'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>overflow_error</span><span class='indexparent'><a class='index' id='overflow_error'></a></span>
if the integral value <span class='texttt'>x</span> corresponding to the bits in
<span class='texttt'>*this</span>
cannot be represented as type
<span class='texttt'>unsigned long</span>.</p></div></div><div class='para' id='bitset.members-29'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6411'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='to_ullong,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,to_ullong'></a></span><code class='itemdecl'>
unsigned long long to_ullong() const;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-30'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6422'>#</a></div><p ><span class='indexparent'><a class='index' id='overflow_error'></a></span><i>Throws:</i>
<span class='texttt'>overflow_error</span>
if the integral value <span class='texttt'>x</span> corresponding to the bits in
<span class='texttt'>*this</span>
cannot be represented as type
<span class='texttt'>unsigned long long</span>.</p></div></div><div class='para' id='bitset.members-31'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6431'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='to_string,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,to_string'></a></span><code class='itemdecl'>
template &lt;class charT = char,
    class traits = char_traits&lt;charT&gt;,
    class Allocator = allocator&lt;charT&gt;&gt;
  basic_string&lt;charT, traits, Allocator&gt;
  to_string(charT zero = charT('0'), charT one = charT('1')) const;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-32'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6446'>#</a></div><p ><i>Effects:</i>
Constructs a string object of the appropriate type
and initializes it to a string of length <span class='texttt'>N</span> characters.
Each character is determined by the value of its corresponding bit position in
<span class='texttt'>*this</span>.
Character position <span class='texttt'>N - 1</span> corresponds to bit position zero.
Subsequent decreasing character positions correspond to increasing bit
positions.
Bit value zero becomes the character <span class='texttt'>zero</span>,
bit value one becomes the character
<span class='texttt'>one</span>.</p></div></div><div class='para' id='bitset.members-33'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6459'>#</a></div><p ><i>Returns:</i>
The created object.
</p></div></div><p ><span class='indexparent'><a class='index' id='count,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,count'></a></span><code class='itemdecl'>
size_t count() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-34'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6470'>#</a></div><p ><i>Returns:</i>
A count of the number of bits set in
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='size,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,size'></a></span><code class='itemdecl'>
constexpr size_t size() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-35'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6482'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>N</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator==,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator=='></a></span><code class='itemdecl'>
bool operator==(const bitset&lt;N&gt;&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-36'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6493'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span> if the value of each bit in
<span class='texttt'>*this</span>
equals the value of the corresponding bit in <span class='texttt'>rhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator!='></a></span><code class='itemdecl'>
bool operator!=(const bitset&lt;N&gt;&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-37'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-37'>37</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6506'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span> if
<span class='texttt'>!(*this == rhs)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='test,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,test'></a></span><code class='itemdecl'>
bool test(size_t pos) const;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-38'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-38'>38</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6518'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>out_of_range</span>
if <span class='texttt'>pos</span> does not correspond to a valid bit position.<span class='indexparent'><a class='index' id='out_of_range'></a></span></p></div></div><div class='para' id='bitset.members-39'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-39'>39</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6524'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span>
if the bit at position <span class='texttt'>pos</span>
in
<span class='texttt'>*this</span>
has the value one.
</p></div></div><p ><span class='indexparent'><a class='index' id='all,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,all'></a></span><code class='itemdecl'>
bool all() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-40'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-40'>40</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6539'>#</a></div><p ><i>Returns:</i> <span class='texttt'>count() == size()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,any'></a></span><code class='itemdecl'>
bool any() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-41'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-41'>41</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6550'>#</a></div><p ><i>Returns:</i> <span class='texttt'>count() != 0</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='none,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,none'></a></span><code class='itemdecl'>
bool none() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-42'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-42'>42</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6560'>#</a></div><p ><i>Returns:</i> <span class='texttt'>count() == 0</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<<,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator<<'></a></span><code class='itemdecl'>
bitset&lt;N&gt; operator&lt;&lt;(size_t pos) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-43'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-43'>43</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6570'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bitset&lt;N&gt;(*this) &lt;&lt;= pos</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>>,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator>>'></a></span><code class='itemdecl'>
bitset&lt;N&gt; operator&gt;&gt;(size_t pos) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-44'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-44'>44</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6581'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bitset&lt;N&gt;(*this) &gt;&gt;= pos</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator[]'></a></span><code class='itemdecl'>
constexpr bool operator[](size_t pos) const;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-45'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-45'>45</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6592'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>pos</span> shall be valid.</p></div></div><div class='para' id='bitset.members-46'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-46'>46</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6596'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span> if the bit at position <span class='texttt'>pos</span> in <span class='texttt'>*this</span> has the value
one, otherwise <span class='texttt'>false</span>.</p></div></div><div class='para' id='bitset.members-47'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-47'>47</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6601'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator[]'></a></span><code class='itemdecl'>
bitset&lt;N&gt;::reference operator[](size_t pos);
</code></p><div class='itemdescr'></div><div class='para' id='bitset.members-48'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-48'>48</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6611'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>pos</span> shall be valid.</p></div></div><div class='para' id='bitset.members-49'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-49'>49</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6615'>#</a></div><p ><i>Returns:</i>
An object of type
<span class='texttt'>bitset&lt;N&gt;::reference</span>
such that
<span class='texttt'>(*this)[pos] == this-&gt;test(pos)</span>,
and such that
<span class='texttt'>(*this)[pos] = val</span>
is equivalent to
<span class='texttt'>this-&gt;set(pos, val)</span>.</p></div></div><div class='para' id='bitset.members-50'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-50'>50</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6626'>#</a></div><p ><i>Throws:</i> Nothing.</p></div></div><div class='para' id='bitset.members-51'><div class='marginalizedparent'><a class='marginalized' href='#bitset.members-51'>51</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6629'>#</a></div><p ><i>Remarks:</i> For the purpose of determining the presence of a data
race (<a href='intro.multithread'>[intro.multithread]</a>), any access or update through the resulting
reference potentially accesses or modifies, respectively, the entire
underlying bitset.
</p></div></div></div></div><div id='bitset.hash'><h3 ><a class='secnum' href='#bitset.hash' style='min-width:103pt'>20.9.3</a> <span class='texttt'>bitset</span> hash support <a class='abbr_ref' href='bitset.hash'>[bitset.hash]</a></h3><p ><span class='indexparent'><a class='index' id='hash_code'></a></span><code class='itemdecl'>
template &lt;size_t N&gt; struct hash&lt;bitset&lt;N&gt;&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.hash-1'><div class='marginalizedparent'><a class='marginalized' href='#bitset.hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6644'>#</a></div><p >The specialization is enabled (<a href='unord.hash'>[unord.hash]</a>).
</p></div></div></div><div id='bitset.operators'><h3 ><a class='secnum' href='#bitset.operators' style='min-width:103pt'>20.9.4</a> <span class='texttt'>bitset</span> operators <a class='abbr_ref' href='bitset.operators'>[bitset.operators]</a></h3><p ><span class='indexparent'><a class='index' id='operator&,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator&'></a></span><code class='itemdecl'>
bitset&lt;N&gt; operator&amp;(const bitset&lt;N&gt;&amp; lhs, const bitset&lt;N&gt;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.operators-1'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6656'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bitset&lt;N&gt;(lhs) &amp;= rhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator|,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator|'></a></span><code class='itemdecl'>
bitset&lt;N&gt; operator|(const bitset&lt;N&gt;&amp; lhs, const bitset&lt;N&gt;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.operators-2'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6667'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bitset&lt;N&gt;(lhs) |= rhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator^,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator^'></a></span><code class='itemdecl'>
bitset&lt;N&gt; operator^(const bitset&lt;N&gt;&amp; lhs, const bitset&lt;N&gt;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='bitset.operators-3'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6678'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>bitset&lt;N&gt;(lhs) ^= rhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>>,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator>>'></a></span><code class='itemdecl'>
template &lt;class charT, class traits, size_t N&gt;
  basic_istream&lt;charT, traits&gt;&amp;
  operator&gt;&gt;(basic_istream&lt;charT, traits&gt;&amp; is, bitset&lt;N&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='bitset.operators-4'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6691'>#</a></div><p >A formatted input function (<a href='istream.formatted'>[istream.formatted]</a>).</p></div></div><div class='para' id='bitset.operators-5'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6694'>#</a></div><p ><i>Effects:</i>
Extracts up to <span class='texttt'>N</span> characters from <span class='texttt'>is</span>.
Stores these characters in a temporary object <span class='texttt'>str</span> of type
<span class='texttt'>basic_string&lt;charT, traits&gt;</span>,
then evaluates the expression
<span class='texttt'>x = bitset&lt;N&gt;(str)</span>.
Characters are extracted and stored until any of the following occurs:</p><ul class='itemize'><li id='bitset.operators-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#bitset.operators-5.1'>(5.1)</a></div><p ><span class='texttt'>N</span> characters have been extracted and stored;
</p></li><li id='bitset.operators-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#bitset.operators-5.2'>(5.2)</a></div><p >end-of-file occurs on the input sequence;<span class='indexparent'><a class='index' id='end-of-file'></a></span>
</p></li><li id='bitset.operators-5.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#bitset.operators-5.3'>(5.3)</a></div><p >the next input character is neither
<span class='texttt'>is.widen('0')</span>
nor
<span class='texttt'>is.widen('1')</span>
(in which case the input character is not extracted).
</p></li></ul></div></div><div class='para' id='bitset.operators-6'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6717'>#</a></div><p >If no characters are stored in <span class='texttt'>str</span>, calls
<span class='texttt'>is.setstate(ios_base::failbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)).</p></div></div><div class='para' id='bitset.operators-7'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6723'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>is</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<<,bitset'></a></span><span class='indexparent'><a class='index' id='bitset,operator<<'></a></span><code class='itemdecl'>
template &lt;class charT, class traits, size_t N&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
  operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const bitset&lt;N&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='bitset.operators-8'><div class='marginalizedparent'><a class='marginalized' href='#bitset.operators-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6736'>#</a></div><p ><i>Returns:</i>
</p><pre class='codeblock'>
os &lt;&lt; x.template to_string&lt;charT, traits, allocator&lt;charT&gt;&gt;(
  use_facet&lt;ctype&lt;charT&gt;&gt;(os.getloc()).widen('0'),
  use_facet&lt;ctype&lt;charT&gt;&gt;(os.getloc()).widen('1'))</pre><p >(see <a href='ostream.formatted'>[ostream.formatted]</a>).
</p></div></div></div></div><div id='memory'><h2 ><a class='secnum' href='#memory' style='min-width:88pt'>20.10</a> Memory <a class='abbr_ref' href='memory'>[memory]</a></h2><div id='memory.general'><h3 ><a class='secnum' href='#memory.general' style='min-width:103pt'>20.10.1</a> In general <a class='abbr_ref' href='memory.general'>[memory.general]</a></h3><div class='para' id='memory.general-1'><div class='marginalizedparent'><a class='marginalized' href='#memory.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6750'>#</a></div><p >This subclause describes the contents of the header
<span class='texttt'>&lt;memory&gt;</span> (<a href='memory.syn'>[memory.syn]</a>) and some
of the contents of the header <span class='texttt'>&lt;cstdlib&gt;</span> (<a href='cstdlib.syn'>[cstdlib.syn]</a>).</p></div></div><div id='memory.syn'><h3 ><a class='secnum' href='#memory.syn' style='min-width:103pt'>20.10.2</a> Header <span class='texttt'>&lt;memory&gt;</span> synopsis <a class='abbr_ref' href='memory.syn'>[memory.syn]</a></h3><div class='para' id='memory.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#memory.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L6757'>#</a></div><p >The header <span class='texttt'>&lt;memory&gt;</span> defines several types and function templates that
describe properties of pointers and pointer-like types, manage memory
for containers and other template types, destroy objects, and
construct multiple objects in
uninitialized memory
buffers (<a href='pointer.traits'>[pointer.traits]</a>–<a href='specialized.algorithms'>[specialized.algorithms]</a>).
The header also defines the templates
<span class='texttt'>unique_ptr</span>, <span class='texttt'>shared_ptr</span>, <span class='texttt'>weak_ptr</span>, and various function
templates that operate on objects of these types (<a href='smartptr'>[smartptr]</a>).</p><p ><span class='indexparent'><a class='index' id='memory'></a></span><span class='indexparent'><a class='index' id='memory'></a></span></p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='pointer.traits'>[pointer.traits]</a>, pointer traits
</span>  template &lt;class Ptr&gt; struct pointer_traits;
  template &lt;class T&gt; struct pointer_traits&lt;T*&gt;;

  <span class='comment'>// <a href='util.dynamic.safety'>[util.dynamic.safety]</a>, pointer safety
</span>  enum class pointer_safety { relaxed, preferred, strict };
  void declare_reachable(void* p);
  template &lt;class T&gt; T* undeclare_reachable(T* p);
  void declare_no_pointers(char* p, size_t n);
  void undeclare_no_pointers(char* p, size_t n);
  pointer_safety get_pointer_safety() noexcept;

  <span class='comment'>// <a href='ptr.align'>[ptr.align]</a>, pointer alignment function
</span>  void* align(size_t alignment, size_t size, void*&amp; ptr, size_t&amp; space);

  <span class='comment'>// <a href='allocator.tag'>[allocator.tag]</a>, allocator argument tag
</span>  struct allocator_arg_t { explicit allocator_arg_t() = default; };
  constexpr allocator_arg_t allocator_arg{};

  <span class='comment'>// <a href='allocator.uses'>[allocator.uses]</a>, <span class='texttt'>uses_allocator</span>
</span>  template &lt;class T, class Alloc&gt; struct uses_allocator;

  <span class='comment'>// <a href='allocator.traits'>[allocator.traits]</a>, allocator traits
</span>  template &lt;class Alloc&gt; struct allocator_traits;

  <span class='comment'>// <a href='default.allocator'>[default.allocator]</a>, the default allocator
</span>  template &lt;class T&gt; class allocator;
  template &lt;class T, class U&gt;
    bool operator==(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;
  template &lt;class T, class U&gt;
    bool operator!=(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;

  <span class='comment'>// <a href='specialized.algorithms'>[specialized.algorithms]</a>, specialized algorithms
</span>  template &lt;class T&gt; constexpr T* addressof(T&amp; r) noexcept;
  template &lt;class T&gt; const T* addressof(const T&amp;&amp;) = delete;
  template &lt;class ForwardIterator&gt;
    void uninitialized_default_construct(ForwardIterator first, ForwardIterator last);
  template &lt;class ExecutionPolicy, class ForwardIterator&gt;
    void uninitialized_default_construct(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                         ForwardIterator first, ForwardIterator last);
  template &lt;class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_default_construct_n(ForwardIterator first, Size n);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_default_construct_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                                      ForwardIterator first, Size n);
  template &lt;class ForwardIterator&gt;
    void uninitialized_value_construct(ForwardIterator first, ForwardIterator last);
  template &lt;class ExecutionPolicy, class ForwardIterator&gt;
    void uninitialized_value_construct(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                       ForwardIterator first, ForwardIterator last);
  template &lt;class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_value_construct_n(ForwardIterator first, Size n);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_value_construct_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                                    ForwardIterator first, Size n);
  template &lt;class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy(InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                       InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class InputIterator, class Size, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy_n(InputIterator first, Size n,
                                         ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class Size, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                         InputIterator first, Size n,
                                         ForwardIterator result);
  template &lt;class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_move(InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_move(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                       InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class InputIterator, class Size, class ForwardIterator&gt;
    pair&lt;InputIterator, ForwardIterator&gt;
      uninitialized_move_n(InputIterator first, Size n, ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class Size, class ForwardIterator&gt;
    pair&lt;InputIterator, ForwardIterator&gt;
      uninitialized_move_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                           InputIterator first, Size n, ForwardIterator result);
  template &lt;class ForwardIterator, class T&gt;
    void uninitialized_fill(ForwardIterator first, ForwardIterator last,
                            const T&amp; x);
  template &lt;class ExecutionPolicy, class ForwardIterator, class T&gt;
    void uninitialized_fill(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                            ForwardIterator first, ForwardIterator last,
                            const T&amp; x);
  template &lt;class ForwardIterator, class Size, class T&gt;
    ForwardIterator uninitialized_fill_n(ForwardIterator first, Size n, const T&amp; x);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size, class T&gt;
    ForwardIterator uninitialized_fill_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                         ForwardIterator first, Size n, const T&amp; x);
  template &lt;class T&gt;
    void destroy_at(T* location);
  template &lt;class ForwardIterator&gt;
    void destroy(ForwardIterator first, ForwardIterator last);
  template &lt;class ExecutionPolicy, class ForwardIterator&gt;
    void destroy(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                 ForwardIterator first, ForwardIterator last);
  template &lt;class ForwardIterator, class Size&gt;
    ForwardIterator destroy_n(ForwardIterator first, Size n);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size&gt;
    ForwardIterator destroy_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                              ForwardIterator first, Size n);

  <span class='comment'>// <a href='unique.ptr'>[unique.ptr]</a>, class template unique_ptr
</span>  template &lt;class T&gt; struct default_delete;
  template &lt;class T&gt; struct default_delete&lt;T[]&gt;;
  template &lt;class T, class D = default_delete&lt;T&gt;&gt; class unique_ptr;
  template &lt;class T, class D&gt; class unique_ptr&lt;T[], D&gt;;

  template &lt;class T, class... Args&gt; unique_ptr&lt;T&gt; make_unique(Args&amp;&amp;... args);
  template &lt;class T&gt; unique_ptr&lt;T&gt; make_unique(size_t n);
  template &lt;class T, class... Args&gt; <i><span class='texttt'>unspecified</span></i> make_unique(Args&amp;&amp;...) = delete;

  template &lt;class T, class D&gt; void swap(unique_ptr&lt;T, D&gt;&amp; x, unique_ptr&lt;T, D&gt;&amp; y) noexcept;

  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator==(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator!=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&lt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&lt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&gt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&gt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);

  template &lt;class T, class D&gt;
    bool operator==(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T, class D&gt;
    bool operator==(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y) noexcept;
  template &lt;class T, class D&gt;
    bool operator!=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T, class D&gt;
    bool operator!=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y) noexcept;
  template &lt;class T, class D&gt;
    bool operator&lt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&lt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&lt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&lt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&gt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&gt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&gt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&gt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);

  <span class='comment'>// <a href='util.smartptr.weak.bad'>[util.smartptr.weak.bad]</a>, class bad_weak_ptr
</span>  class bad_weak_ptr;

  <span class='comment'>// <a href='util.smartptr.shared'>[util.smartptr.shared]</a>, class template shared_ptr
</span>  template&lt;class T&gt; class shared_ptr;

  <span class='comment'>// <a href='util.smartptr.shared.create'>[util.smartptr.shared.create]</a>, shared_ptr creation
</span>  template&lt;class T, class... Args&gt; shared_ptr&lt;T&gt; make_shared(Args&amp;&amp;... args);
  template&lt;class T, class A, class... Args&gt;
    shared_ptr&lt;T&gt; allocate_shared(const A&amp; a, Args&amp;&amp;... args);

  <span class='comment'>// <a href='util.smartptr.shared.cmp'>[util.smartptr.shared.cmp]</a>, shared_ptr comparisons
</span>  template&lt;class T, class U&gt;
    bool operator==(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator!=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&lt;(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&gt;(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&lt;=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&gt;=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;

  template &lt;class T&gt;
    bool operator==(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator==(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator!=(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator!=(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&lt;(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&lt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&lt;=(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&lt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&gt;(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&gt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&gt;=(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&gt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.spec'>[util.smartptr.shared.spec]</a>, shared_ptr specialized algorithms
</span>  template&lt;class T&gt; void swap(shared_ptr&lt;T&gt;&amp; a, shared_ptr&lt;T&gt;&amp; b) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.cast'>[util.smartptr.shared.cast]</a>, shared_ptr casts
</span>  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; static_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; dynamic_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; const_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;

  <span class='comment'>// <a href='util.smartptr.getdeleter'>[util.smartptr.getdeleter]</a>, shared_ptr get_deleter
</span>  template&lt;class D, class T&gt; D* get_deleter(const shared_ptr&lt;T&gt;&amp; p) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.io'>[util.smartptr.shared.io]</a>, shared_ptr I/O
</span>  template&lt;class E, class T, class Y&gt;
    basic_ostream&lt;E, T&gt;&amp; operator&lt;&lt; (basic_ostream&lt;E, T&gt;&amp; os, const shared_ptr&lt;Y&gt;&amp; p);

  <span class='comment'>// <a href='util.smartptr.weak'>[util.smartptr.weak]</a>, class template weak_ptr
</span>  template&lt;class T&gt; class weak_ptr;

  <span class='comment'>// <a href='util.smartptr.weak.spec'>[util.smartptr.weak.spec]</a>, weak_ptr specialized algorithms
</span>  template&lt;class T&gt; void swap(weak_ptr&lt;T&gt;&amp; a, weak_ptr&lt;T&gt;&amp; b) noexcept;

  <span class='comment'>// <a href='util.smartptr.ownerless'>[util.smartptr.ownerless]</a>, class template owner_less
</span>  template&lt;class T = void&gt; struct owner_less;

  <span class='comment'>// <a href='util.smartptr.enab'>[util.smartptr.enab]</a>, class template enable_shared_from_this
</span>  template&lt;class T&gt; class enable_shared_from_this;

  <span class='comment'>// <a href='util.smartptr.shared.atomic'>[util.smartptr.shared.atomic]</a>, shared_ptr atomic access
</span>  template&lt;class T&gt;
    bool atomic_is_lock_free(const shared_ptr&lt;T&gt;* p);

  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_load(const shared_ptr&lt;T&gt;* p);
  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_load_explicit(const shared_ptr&lt;T&gt;* p, memory_order mo);

  template&lt;class T&gt;
    void atomic_store(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r);
  template&lt;class T&gt;
    void atomic_store_explicit(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r, memory_order mo);

  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_exchange(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r);
  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_exchange_explicit(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r, memory_order mo);

  template&lt;class T&gt;
    bool atomic_compare_exchange_weak(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w);
  template&lt;class T&gt;
    bool atomic_compare_exchange_strong(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w);
  template&lt;class T&gt;
    bool atomic_compare_exchange_weak_explicit(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w,
      memory_order success, memory_order failure);
  template&lt;class T&gt;
    bool atomic_compare_exchange_strong_explicit(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w,
      memory_order success, memory_order failure);

  <span class='comment'>// <a href='util.smartptr.hash'>[util.smartptr.hash]</a>, hash support
</span>  template &lt;class T&gt; struct hash;
  template &lt;class T, class D&gt; struct hash&lt;unique_ptr&lt;T, D&gt;&gt;;
  template &lt;class T&gt; struct hash&lt;shared_ptr&lt;T&gt;&gt;;

  <span class='comment'>// <a href='allocator.uses.trait'>[allocator.uses.trait]</a>, uses_allocator
</span>  template &lt;class T, class Alloc&gt;
    constexpr bool uses_allocator_v = uses_allocator&lt;T, Alloc&gt;::value;
}</pre></div></div><div id='pointer.traits'><h3 ><a class='secnum' href='#pointer.traits' style='min-width:103pt'>20.10.3</a> Pointer traits <a class='abbr_ref' href='pointer.traits'>[pointer.traits]</a></h3><div class='para' id='pointer.traits-1'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7057'>#</a></div><p >The class template <span class='texttt'>pointer_traits</span> supplies a uniform interface to certain
attributes of pointer-like types.</p><p ><span class='indexparent'><a class='index' id='pointer_traits'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class Ptr&gt; struct pointer_traits {
    using pointer         = Ptr;
    using element_type    = <i><span class='texttt'>see below</span></i>;
    using difference_type = <i><span class='texttt'>see below</span></i>;

    template &lt;class U&gt; using rebind = <i><span class='texttt'>see below</span></i>;

    static pointer pointer_to(<i><span class='texttt'>see below</span></i> r);
  };

  template &lt;class T&gt; struct pointer_traits&lt;T*&gt; {
    using pointer         = T*;
    using element_type    = T;
    using difference_type = ptrdiff_t;

    template &lt;class U&gt; using rebind = U*;

    static pointer pointer_to(<i><span class='texttt'>see below</span></i> r) noexcept;
  };
}</pre></div><div id='pointer.traits.types'><h4 ><a class='secnum' href='#pointer.traits.types' style='min-width:118pt'>20.10.3.1</a> Pointer traits member types <a class='abbr_ref' href='pointer.traits.types'>[pointer.traits.types]</a></h4><p ><span class='indexparent'><a class='index' id='element_type,pointer_traits'></a></span><span class='indexparent'><a class='index' id='pointer_traits,element_type'></a></span><code class='itemdecl'>
using element_type = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.types-1'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.types-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7094'>#</a></div><p ><i>Type:</i> <span class='texttt'>Ptr::element_type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Ptr::element_type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise, <span class='texttt'>T</span> if
<span class='texttt'>Ptr</span> is a class template instantiation of the form <span class='texttt'>SomePointer&lt;T, Args&gt;</span>,
where <span class='texttt'>Args</span> is zero or more type arguments; otherwise, the specialization is
ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='difference_type,pointer_traits'></a></span><span class='indexparent'><a class='index' id='pointer_traits,difference_type'></a></span><code class='itemdecl'>
using difference_type = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.types-2'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.types-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7109'>#</a></div><p ><i>Type:</i> <span class='texttt'>Ptr::difference_type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Ptr::difference_type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>ptrdiff_t</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='rebind,pointer_traits'></a></span><span class='indexparent'><a class='index' id='pointer_traits,rebind'></a></span><code class='itemdecl'>
template &lt;class U&gt; using rebind = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.types-3'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.types-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7122'>#</a></div><p ><i>Alias template:</i> <span class='texttt'>Ptr::rebind&lt;U&gt;</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Ptr::rebind&lt;U&gt;</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>SomePointer&lt;U, Args&gt;</span> if
<span class='texttt'>Ptr</span> is a class template instantiation of the form <span class='texttt'>SomePointer&lt;T, Args&gt;</span>,
where <span class='texttt'>Args</span> is zero or more type arguments; otherwise, the instantiation of
<span class='texttt'>rebind</span> is ill-formed.
</p></div></div></div><div id='pointer.traits.functions'><h4 ><a class='secnum' href='#pointer.traits.functions' style='min-width:118pt'>20.10.3.2</a> Pointer traits member functions <a class='abbr_ref' href='pointer.traits.functions'>[pointer.traits.functions]</a></h4><p ><span class='indexparent'><a class='index' id='pointer_to,pointer_traits'></a></span><span class='indexparent'><a class='index' id='pointer_traits,pointer_to'></a></span><code class='itemdecl'>
static pointer pointer_traits::pointer_to(<i><span class='texttt'>see below</span></i> r);
static pointer pointer_traits&lt;T*&gt;::pointer_to(<i><span class='texttt'>see below</span></i> r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.functions-1'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.functions-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7141'>#</a></div><p ><i>Remarks:</i> If <span class='texttt'>element_type</span> is <i>cv</i> <span class='texttt'>void</span>, the type of
<span class='texttt'>r</span> is unspecified; otherwise, it is <span class='texttt'>element_type&amp;</span>.</p></div></div><div class='para' id='pointer.traits.functions-2'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.functions-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7145'>#</a></div><p ><i>Returns:</i> The first member function returns a pointer to <span class='texttt'>r</span>
obtained by calling <span class='texttt'>Ptr::pointer_to(r)</span> through which
indirection is valid; an instantiation of this function is
ill-formed if <span class='texttt'>Ptr</span> does not have a matching <span class='texttt'>pointer_to</span> static member
function. The second member function returns <span class='texttt'>addressof(r)</span>.
</p></div></div></div></div><div id='util.dynamic.safety'><h3 ><a class='secnum' href='#util.dynamic.safety' style='min-width:103pt'>20.10.4</a> Pointer safety <a class='abbr_ref' href='util.dynamic.safety'>[util.dynamic.safety]</a></h3><div class='para' id='util.dynamic.safety-1'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7155'>#</a></div><p >A complete object is <i>declared reachable</i> while the number of calls to
<span class='texttt'>declare_reachable</span> with an argument referencing the object exceeds the
number of calls to <span class='texttt'>undeclare_reachable</span> with an argument referencing the
object.</p><p ><span class='indexparent'><a class='index' id='declare_reachable'></a></span><code class='itemdecl'>
void declare_reachable(void* p);
</code></p></div><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-2'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7167'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall be a safely-derived
pointer (<a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>) or a null pointer value.</p></div></div><div class='para' id='util.dynamic.safety-3'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7171'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>p</span> is not null, the complete object referenced by <span class='texttt'>p</span>
is subsequently declared reachable (<a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>).</p></div></div><div class='para' id='util.dynamic.safety-4'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7175'>#</a></div><p ><i>Throws:</i> May throw <span class='texttt'>bad_alloc</span> if the system cannot allocate
additional memory that may be required to track objects declared reachable.
</p></div></div><p ><span class='indexparent'><a class='index' id='undeclare_reachable'></a></span><code class='itemdecl'>
template &lt;class T&gt; T* undeclare_reachable(T* p);
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-5'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7186'>#</a></div><p ><i>Requires:</i> If <span class='texttt'>p</span> is not null, the complete object referenced by <span class='texttt'>p</span>
shall have been previously declared reachable, and shall be
live (<a href='basic.life'>[basic.life]</a>) from the time of the call until the last
<span class='texttt'>undeclare_reachable(p)</span> call on the object.</p></div></div><div class='para' id='util.dynamic.safety-6'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7192'>#</a></div><p ><i>Returns:</i> A safely derived copy of <span class='texttt'>p</span> which shall compare equal to <span class='texttt'>p</span>.</p></div></div><div class='para' id='util.dynamic.safety-7'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7195'>#</a></div><p ><i>Throws:</i> Nothing.</p></div></div><div class='para' id='util.dynamic.safety-8'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7198'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> It is expected that calls to <span class='texttt'>declare_reachable(p)</span> will consume
a small amount of memory in addition to that occupied by the referenced object until the
matching call to <span class='texttt'>undeclare_reachable(p)</span> is encountered. Long running programs
should arrange that calls are matched. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div><p ><span class='indexparent'><a class='index' id='declare_no_pointers'></a></span><code class='itemdecl'>
void declare_no_pointers(char* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-9'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7209'>#</a></div><p ><i>Requires:</i> No bytes in the specified range
are currently registered with
<span class='texttt'>declare_no_pointers()</span>. If the specified range is in an allocated object,
then it must be entirely within a single allocated object. The object must be
live until the corresponding <span class='texttt'>undeclare_no_pointers()</span> call. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> In
a garbage-collecting implementation, the fact that a region in an object is
registered with <span class='texttt'>declare_no_pointers()</span> should not prevent the object from
being collected. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='util.dynamic.safety-10'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7219'>#</a></div><p ><i>Effects:</i> The <span class='texttt'>n</span> bytes starting at <span class='texttt'>p</span> no longer contain
traceable pointer locations, independent of their type. Hence
indirection through a pointer located there is undefined if the object
it points to was created by global <span class='texttt'>operator new</span> and not
previously declared reachable. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This may be used to inform a
garbage collector or leak detector that this region of memory need not
be traced. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='util.dynamic.safety-11'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7228'>#</a></div><p ><i>Throws:</i> Nothing.</p></div></div><div class='para' id='util.dynamic.safety-12'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7231'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Under some conditions implementations may need to allocate memory.
However, the request can be ignored if memory allocation fails. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='undeclare_no_pointers'></a></span><code class='itemdecl'>
void undeclare_no_pointers(char* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-13'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7242'>#</a></div><p ><i>Requires:</i> The same range must previously have been passed to
<span class='texttt'>declare_no_pointers()</span>.</p></div></div><div class='para' id='util.dynamic.safety-14'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7246'>#</a></div><p ><i>Effects:</i> Unregisters a range registered with <span class='texttt'>declare_no_pointers()</span> for
destruction. It must be called before the lifetime of the object ends.</p></div></div><div class='para' id='util.dynamic.safety-15'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7250'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='get_pointer_safety'></a></span><code class='itemdecl'>
pointer_safety get_pointer_safety() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-16'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7260'>#</a></div><p ><i>Returns:</i> <span class='texttt'>pointer_safety::strict</span> if the implementation has strict pointer
safety (<a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>). It is
<span class='indexparent'><a class='index' id='whether_get_pointer_safety_returns_pointer_safety::relaxed_or_pointer_safety::preferred_if_the_implementation_has_relaxed_pointer_safety'></a></span>implementation-defined
whether
<span class='texttt'>get_pointer_safety</span> returns <span class='texttt'>pointer_safety::relaxed</span> or
<span class='texttt'>pointer_safety::preferred</span> if the implementation has relaxed pointer
safety.<a class='footnotenum' href='#footnote-221'>221</a>
</p></div></div><div class='footnote' id='footnote-221'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-221'>221)</a></div><p ><span class='texttt'>pointer_safety::preferred</span> might be returned to indicate
that a leak detector is running so that the program can avoid spurious leak
reports.</p></div></div><div id='ptr.align'><h3 ><a class='secnum' href='#ptr.align' style='min-width:103pt'>20.10.5</a> Align <a class='abbr_ref' href='ptr.align'>[ptr.align]</a></h3><p ><span class='indexparent'><a class='index' id='align'></a></span><code class='itemdecl'>
void* align(size_t alignment, size_t size, void*&amp; ptr, size_t&amp; space);
</code></p><div class='itemdescr'></div><div class='para' id='ptr.align-1'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7283'>#</a></div><p ><i>Effects:</i> If it is possible to fit <span class='texttt'>size</span> bytes
of storage aligned by <span class='texttt'>alignment</span> into the buffer pointed to by
<span class='texttt'>ptr</span> with length <span class='texttt'>space</span>, the function updates
<span class='texttt'>ptr</span> to represent the first possible address of such storage
and decreases <span class='texttt'>space</span> by the number of bytes used for alignment.
Otherwise, the function does nothing.</p></div></div><div class='para' id='ptr.align-2'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7291'>#</a></div><p ><i>Requires:</i></p><ul class='itemize'><li id='ptr.align-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ptr.align-2.1'>(2.1)</a></div><p ><span class='texttt'>alignment</span> shall be a power of two</p></li><li id='ptr.align-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ptr.align-2.2'>(2.2)</a></div><p ><span class='texttt'>ptr</span> shall represent the address of contiguous storage of at least
<span class='texttt'>space</span> bytes
</p></li></ul></div></div><div class='para' id='ptr.align-3'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7301'>#</a></div><p ><i>Returns:</i> A null pointer if the requested aligned buffer
would not fit into the available space, otherwise the adjusted value
of <span class='texttt'>ptr</span>.</p></div></div><div class='para' id='ptr.align-4'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7306'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The function updates its <span class='texttt'>ptr</span>
and <span class='texttt'>space</span> arguments so that it can be called repeatedly
with possibly different <span class='texttt'>alignment</span> and <span class='texttt'>size</span>
arguments for the same buffer.  <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='allocator.tag'><h3 ><a class='secnum' href='#allocator.tag' style='min-width:103pt'>20.10.6</a> Allocator argument tag <a class='abbr_ref' href='allocator.tag'>[allocator.tag]</a></h3><p ><span class='indexparent'><a class='index' id='allocator_arg_t'></a></span><span class='indexparent'><a class='index' id='allocator_arg'></a></span><code class='itemdecl'>
namespace std {
  struct allocator_arg_t { explicit allocator_arg_t() = default; };
  constexpr allocator_arg_t allocator_arg{};
}
</code></p><div class='para' id='allocator.tag-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.tag-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7324'>#</a></div><p >The <span class='texttt'>allocator_arg_t</span> struct is an empty structure type used as a unique type to
disambiguate constructor and function overloading. Specifically, several types (see
<span class='texttt'>tuple</span> <a href='tuple'>[tuple]</a>) have constructors with <span class='texttt'>allocator_arg_t</span> as the first
argument, immediately followed by an argument of a type that satisfies the
<span class='texttt'>Allocator</span> requirements (<a href='allocator.requirements'>[allocator.requirements]</a>).</p></div></div><div id='allocator.uses'><h3 ><a class='secnum' href='#allocator.uses' style='min-width:103pt'>20.10.7</a> <span class='texttt'>uses_allocator</span> <a class='abbr_ref' href='allocator.uses'>[allocator.uses]</a></h3><div id='allocator.uses.trait'><h4 ><a class='secnum' href='#allocator.uses.trait' style='min-width:118pt'>20.10.7.1</a> <span class='texttt'>uses_allocator</span> trait <a class='abbr_ref' href='allocator.uses.trait'>[allocator.uses.trait]</a></h4><p ><span class='indexparent'><a class='index' id='uses_allocator'></a></span><code class='itemdecl'>
template &lt;class T, class Alloc&gt; struct uses_allocator;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.uses.trait-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.uses.trait-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7341'>#</a></div><p ><i>Remarks:</i> Automatically detects whether <span class='texttt'>T</span> has a nested <span class='texttt'>allocator_type</span> that
is convertible from <span class='texttt'>Alloc</span>. Meets the <span class='texttt'>BinaryTypeTrait</span>
requirements (<a href='meta.rqmts'>[meta.rqmts]</a>). The implementation shall provide a definition that is
derived from <span class='texttt'>true_type</span> if the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>T::allocator_type</span>
is valid and denotes a type (<a href='temp.deduct'>[temp.deduct]</a>) and
<span class='texttt'>is_convertible_v&lt;Alloc, T::allocator_type&gt; != false</span>, otherwise it shall be
derived from <span class='texttt'>false_type</span>. A program may specialize this template to derive from
<span class='texttt'>true_type</span> for a user-defined type <span class='texttt'>T</span> that does not have a nested
<span class='texttt'>allocator_type</span> but nonetheless can be constructed with an allocator where
either:</p><ul class='itemize'><li id='allocator.uses.trait-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.uses.trait-1.1'>(1.1)</a></div><p >the first argument of a constructor has type <span class='texttt'>allocator_arg_t</span> and the
second argument has type <span class='texttt'>Alloc</span> or</p></li><li id='allocator.uses.trait-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.uses.trait-1.2'>(1.2)</a></div><p >the last argument of a constructor has type <span class='texttt'>Alloc</span>.
</p></li></ul></div></div></div><div id='allocator.uses.construction'><h4 ><a class='secnum' href='#allocator.uses.construction' style='min-width:118pt'>20.10.7.2</a> Uses-allocator construction <a class='abbr_ref' href='allocator.uses.construction'>[allocator.uses.construction]</a></h4><div class='para' id='allocator.uses.construction-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.uses.construction-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7363'>#</a></div><p ><a class='hidden_link' href='#def:Uses-allocator_construction' id='def:Uses-allocator_construction'><i>Uses-allocator construction</i></a> with allocator <span class='texttt'>Alloc</span> refers to the
construction of an object <span class='texttt'>obj</span> of type <span class='texttt'>T</span>, using constructor arguments
<span class='texttt'>v1, v2, ..., vN</span> of types <span class='texttt'>V1, V2, ..., VN</span>, respectively, and an allocator
<span class='texttt'>alloc</span> of type <span class='texttt'>Alloc</span>, according to the following rules:</p><ul class='itemize'><li id='allocator.uses.construction-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.1'>(1.1)</a></div><p >if <span class='texttt'>uses_allocator_v&lt;T, Alloc&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_constructible_v&lt;T, V1, V2, ..., VN&gt;</span> is <span class='texttt'>true</span>, then <span class='texttt'>obj</span> is
initialized as <span class='texttt'>obj(v1, v2, ..., vN)</span>;</p></li><li id='allocator.uses.construction-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.2'>(1.2)</a></div><p >otherwise, if <span class='texttt'>uses_allocator_v&lt;T, Alloc&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;T, allocator_arg_t, Alloc,</span> <span class='texttt'>V1, V2, ..., VN&gt;</span> is
<span class='texttt'>true</span>, then <span class='texttt'>obj</span> is initialized as <span class='texttt'>obj(allocator_arg, alloc, v1,
v2, ..., vN)</span>;</p></li><li id='allocator.uses.construction-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.3'>(1.3)</a></div><p >otherwise, if <span class='texttt'>uses_allocator_v&lt;T, Alloc&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;T, V1, V2, ..., VN, Alloc&gt;</span> is <span class='texttt'>true</span>, then
<span class='texttt'>obj</span> is initialized as <span class='texttt'>obj(v1, v2, ..., vN, alloc)</span>;</p></li><li id='allocator.uses.construction-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.4'>(1.4)</a></div><p >otherwise, the request for uses-allocator construction is ill-formed. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
An error will result if <span class='texttt'>uses_allocator_v&lt;T, Alloc&gt;</span> is <span class='texttt'>true</span> but the
specific constructor does not take an allocator. This definition prevents a silent
failure to pass the allocator to an element. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></li></ul></div></div></div><div id='allocator.traits'><h3 ><a class='secnum' href='#allocator.traits' style='min-width:103pt'>20.10.8</a> Allocator traits <a class='abbr_ref' href='allocator.traits'>[allocator.traits]</a></h3><div class='para' id='allocator.traits-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7391'>#</a></div><p >The class template <span class='texttt'>allocator_traits</span> supplies a uniform interface to all
allocator types.
An allocator cannot be a non-class type, however, even if <span class='texttt'>allocator_traits</span>
supplies the entire required interface. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Thus, it is always possible to create
a derived class from an allocator. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='allocator_traits'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class Alloc&gt; struct allocator_traits {
    using allocator_type     = Alloc;

    using value_type         = typename Alloc::value_type;

    using pointer            = <i><span class='texttt'>see below</span></i>;
    using const_pointer      = <i><span class='texttt'>see below</span></i>;
    using void_pointer       = <i><span class='texttt'>see below</span></i>;
    using const_void_pointer = <i><span class='texttt'>see below</span></i>;

    using difference_type    = <i><span class='texttt'>see below</span></i>;
    using size_type          = <i><span class='texttt'>see below</span></i>;

    using propagate_on_container_copy_assignment = <i><span class='texttt'>see below</span></i>;
    using propagate_on_container_move_assignment = <i><span class='texttt'>see below</span></i>;
    using propagate_on_container_swap            = <i><span class='texttt'>see below</span></i>;
    using is_always_equal                        = <i><span class='texttt'>see below</span></i>;

    template &lt;class T&gt; using rebind_alloc = <i><span class='texttt'>see below</span></i>;
    template &lt;class T&gt; using rebind_traits = allocator_traits&lt;rebind_alloc&lt;T&gt;&gt;;

    static pointer allocate(Alloc&amp; a, size_type n);
    static pointer allocate(Alloc&amp; a, size_type n, const_void_pointer hint);

    static void deallocate(Alloc&amp; a, pointer p, size_type n);

    template &lt;class T, class... Args&gt;
      static void construct(Alloc&amp; a, T* p, Args&amp;&amp;... args);

    template &lt;class T&gt;
      static void destroy(Alloc&amp; a, T* p);

    static size_type max_size(const Alloc&amp; a) noexcept;

    static Alloc select_on_container_copy_construction(const Alloc&amp; rhs);
  };
}</pre></div><div id='allocator.traits.types'><h4 ><a class='secnum' href='#allocator.traits.types' style='min-width:118pt'>20.10.8.1</a> Allocator traits member types <a class='abbr_ref' href='allocator.traits.types'>[allocator.traits.types]</a></h4><p ><span class='indexparent'><a class='index' id='pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,pointer'></a></span><code class='itemdecl'>
using pointer = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7448'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise, <span class='texttt'>value_type*</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='const_pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,const_pointer'></a></span><code class='itemdecl'>
using const_pointer = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7460'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::const_pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::const_pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_traits&lt;pointer&gt;::rebind&lt;const value_type&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='void_pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,void_pointer'></a></span><code class='itemdecl'>
using void_pointer = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7473'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::void_pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::void_pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_traits&lt;pointer&gt;::rebind&lt;void&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='const_void_pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,const_void_pointer'></a></span><code class='itemdecl'>
using const_void_pointer = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7486'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::const_void_pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::const_void_pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_traits&lt;pointer&gt;::rebind&lt;const void&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='difference_type,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,difference_type'></a></span><code class='itemdecl'>
using difference_type = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7499'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::difference_type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::difference_type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_traits&lt;pointer&gt;::difference_type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='size_type,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,size_type'></a></span><code class='itemdecl'>
using size_type = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7512'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::size_type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::size_type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>make_unsigned_t&lt;difference_type&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='propagate_on_container_copy_assignment,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,propagate_on_container_copy_assignment'></a></span><code class='itemdecl'>
using propagate_on_container_copy_assignment = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7525'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::propagate_on_container_copy_assignment</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::propagate_on_container_copy_assignment</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise
<span class='texttt'>false_type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='propagate_on_container_move_assignment,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,propagate_on_container_move_assignment'></a></span><code class='itemdecl'>
using propagate_on_container_move_assignment = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-8'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7538'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::propagate_on_container_move_assignment</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::propagate_on_container_move_assignment</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise
<span class='texttt'>false_type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='propagate_on_container_swap,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,propagate_on_container_swap'></a></span><code class='itemdecl'>
using propagate_on_container_swap = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-9'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7551'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::propagate_on_container_swap</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::propagate_on_container_swap</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise
<span class='texttt'>false_type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='is_always_equal,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,is_always_equal'></a></span><code class='itemdecl'>
using is_always_equal = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-10'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7564'>#</a></div><p ><i>Type:</i> <span class='texttt'>Alloc::is_always_equal</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::is_always_equal</span>
is valid and denotes a type (<a href='temp.deduct'>[temp.deduct]</a>);
otherwise <span class='texttt'>is_empty&lt;Alloc&gt;::type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='rebind_alloc,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,rebind_alloc'></a></span><code class='itemdecl'>
template &lt;class T&gt; using rebind_alloc = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-11'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7577'>#</a></div><p ><i>Alias template:</i> <span class='texttt'>Alloc::rebind&lt;T&gt;::other</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc::rebind&lt;T&gt;::other</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>Alloc&lt;T, Args&gt;</span> if <span class='texttt'>Alloc</span> is a class template instantiation
of the form <span class='texttt'>Alloc&lt;U, Args&gt;</span>, where <span class='texttt'>Args</span> is zero or more type arguments;
otherwise, the instantiation of <span class='texttt'>rebind_alloc</span> is ill-formed.
</p></div></div></div><div id='allocator.traits.members'><h4 ><a class='secnum' href='#allocator.traits.members' style='min-width:118pt'>20.10.8.2</a> Allocator traits static member functions <a class='abbr_ref' href='allocator.traits.members'>[allocator.traits.members]</a></h4><p ><span class='indexparent'><a class='index' id='allocate,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,allocate'></a></span><code class='itemdecl'>
static pointer allocate(Alloc&amp; a, size_type n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7594'>#</a></div><p ><i>Returns:</i> <span class='texttt'>a.allocate(n)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='allocate,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,allocate'></a></span><code class='itemdecl'>
static pointer allocate(Alloc&amp; a, size_type n, const_void_pointer hint);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7604'>#</a></div><p ><i>Returns:</i> <span class='texttt'>a.allocate(n, hint)</span> if that expression is well-formed; otherwise, <span class='texttt'>a.allocate(n)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='deallocate,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,deallocate'></a></span><code class='itemdecl'>
static void deallocate(Alloc&amp; a, pointer p, size_type n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7614'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>a.deallocate(p, n)</span>.</p></div></div><div class='para' id='allocator.traits.members-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7617'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='construct,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,construct'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  static void construct(Alloc&amp; a, T* p, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7628'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>a.construct(p, std::forward&lt;Args&gt;(args)...)</span>
if that call is well-formed;
otherwise, invokes <span class='texttt'>::new (static_cast&lt;void*&gt;(p)) T(std::forward&lt;Args&gt;(args)...)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='destroy,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,destroy'></a></span><code class='itemdecl'>
template &lt;class T&gt;
  static void destroy(Alloc&amp; a, T* p);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7641'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>a.destroy(p)</span> if that call is well-formed; otherwise, invokes
<span class='texttt'>p-&gt;~T()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='max_size,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,max_size'></a></span><code class='itemdecl'>
static size_type max_size(const Alloc&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7652'>#</a></div><p ><i>Returns:</i> <span class='texttt'>a.max_size()</span> if that expression is well-formed; otherwise,
<span class='texttt'>numeric_limits&lt;size_type&gt;::max()/sizeof(value_type)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='select_on_container_copy_construction,allocator_traits'></a></span><span class='indexparent'><a class='index' id='allocator_traits,select_on_container_copy_construction'></a></span><code class='itemdecl'>
static Alloc select_on_container_copy_construction(const Alloc&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-8'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7663'>#</a></div><p ><i>Returns:</i> <span class='texttt'>rhs.select_on_container_copy_construction()</span> if that expression is
well-formed; otherwise, <span class='texttt'>rhs</span>.
</p></div></div></div></div><div id='default.allocator'><h3 ><a class='secnum' href='#default.allocator' style='min-width:103pt'>20.10.9</a> The default allocator <a class='abbr_ref' href='default.allocator'>[default.allocator]</a></h3><div class='para' id='default.allocator-1'><div class='marginalizedparent'><a class='marginalized' href='#default.allocator-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7670'>#</a></div><p >All specializations of the default allocator satisfy the
allocator completeness requirements <a href='allocator.requirements.completeness'>[allocator.requirements.completeness]</a>.</p><p ><span class='indexparent'><a class='index' id='allocator'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class T&gt; class allocator {
   public:
    using value_type      = T;
    using propagate_on_container_move_assignment = true_type;
    using is_always_equal = true_type;

    allocator() noexcept;
    allocator(const allocator&amp;) noexcept;
    template &lt;class U&gt; allocator(const allocator&lt;U&gt;&amp;) noexcept;
   ~allocator();

    T* allocate(size_t n);
    void deallocate(T* p, size_t n);
  };
}</pre></div><div id='allocator.members'><h4 ><a class='secnum' href='#allocator.members' style='min-width:118pt'>20.10.9.1</a> <span class='texttt'>allocator</span> members <a class='abbr_ref' href='allocator.members'>[allocator.members]</a></h4><div class='para' id='allocator.members-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7696'>#</a></div><p >Except for the destructor, member functions of the default allocator shall not introduce
data races (<a href='intro.multithread'>[intro.multithread]</a>) as a result of concurrent calls to those member
functions from different threads. Calls to these functions that allocate or deallocate a
particular unit of storage shall occur in a single total order, and each such
deallocation call shall happen before the next allocation (if any) in this order.</p><p ><span class='indexparent'><a class='index' id='allocate,allocator'></a></span><span class='indexparent'><a class='index' id='allocator,allocate'></a></span><code class='itemdecl'>
T* allocate(size_t n);
</code></p></div><div class='itemdescr'></div><div class='para' id='allocator.members-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7709'>#</a></div><p ><i>Returns:</i>
A pointer to the initial element of an array of storage of size <span class='texttt'>n</span>
<span class='texttt'>* sizeof(T)</span>, aligned appropriately for objects of type <span class='texttt'>T</span>.</p></div></div><div class='para' id='allocator.members-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7714'>#</a></div><p ><i>Remarks:</i>
the storage is obtained by calling <span class='texttt'>::operator new</span> (<a href='new.delete'>[new.delete]</a>),
but it is unspecified when or how often this
function is called.</p></div></div><div class='para' id='allocator.members-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7720'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>bad_alloc</span> if the storage cannot be obtained.
</p></div></div><p ><span class='indexparent'><a class='index' id='deallocate,allocator'></a></span><span class='indexparent'><a class='index' id='allocator,deallocate'></a></span><code class='itemdecl'>
void deallocate(T* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.members-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7731'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>p</span> shall be a pointer value obtained from <span class='texttt'>allocate()</span>.
<span class='texttt'>n</span> shall equal the value passed as the first argument
to the invocation of allocate which returned <span class='texttt'>p</span>.</p></div></div><div class='para' id='allocator.members-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7737'>#</a></div><p ><i>Effects:</i>
Deallocates the storage referenced by <span class='texttt'>p</span> .</p></div></div><div class='para' id='allocator.members-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7741'>#</a></div><p ><i>Remarks:</i>
Uses
<span class='texttt'>::operator delete</span> (<a href='new.delete'>[new.delete]</a>),
but it is unspecified
when this function is called.
</p></div></div></div><div id='allocator.globals'><h4 ><a class='secnum' href='#allocator.globals' style='min-width:118pt'>20.10.9.2</a> <span class='texttt'>allocator</span> globals <a class='abbr_ref' href='allocator.globals'>[allocator.globals]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,allocator'></a></span><span class='indexparent'><a class='index' id='allocator,operator=='></a></span><code class='itemdecl'>
template &lt;class T, class U&gt;
  bool operator==(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.globals-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.globals-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7758'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,allocator'></a></span><span class='indexparent'><a class='index' id='allocator,operator!='></a></span><code class='itemdecl'>
template &lt;class T, class U&gt;
  bool operator!=(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.globals-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.globals-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7770'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>false</span>.
</p></div></div></div></div><div id='specialized.algorithms'><h3 ><a class='secnum' href='#specialized.algorithms' style='min-width:103pt'>20.10.10</a> Specialized algorithms <a class='abbr_ref' href='specialized.algorithms'>[specialized.algorithms]</a></h3><div class='para' id='specialized.algorithms-1'><div class='marginalizedparent'><a class='marginalized' href='#specialized.algorithms-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7777'>#</a></div><p >Throughout this subclause,
the names of template parameters are used to express type requirements.
</p><ul class='itemize'><li id='specialized.algorithms-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#specialized.algorithms-1.1'>(1.1)</a></div><p >If an algorithm's template parameter is named <span class='texttt'>InputIterator</span>,
the template argument shall satisfy the requirements
of an input iterator (<a href='input.iterators'>[input.iterators]</a>).
</p></li><li id='specialized.algorithms-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#specialized.algorithms-1.2'>(1.2)</a></div><p >If an algorithm's template parameter is named <span class='texttt'>ForwardIterator</span>,
the template argument shall satisfy the requirements
of a forward iterator (<a href='forward.iterators'>[forward.iterators]</a>), and
is required to have the property that no exceptions are thrown
from increment, assignment, comparison, or indirection through valid iterators.
</p></li></ul><p >Unless otherwise specified,
if an exception is thrown in the following algorithms there are no effects.</p></div><div id='specialized.addressof'><h4 ><a class='secnum' href='#specialized.addressof' style='min-width:118pt'>20.10.10.1</a> <span class='texttt'>addressof</span> <a class='abbr_ref' href='specialized.addressof'>[specialized.addressof]</a></h4><p ><span class='indexparent'><a class='index' id='addressof'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr T* addressof(T&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='specialized.addressof-1'><div class='marginalizedparent'><a class='marginalized' href='#specialized.addressof-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7803'>#</a></div><p ><i>Returns:</i> The actual address of the object or function referenced by <span class='texttt'>r</span>, even in the
presence of an overloaded <span class='texttt'>operator&amp;</span>.</p></div></div><div class='para' id='specialized.addressof-2'><div class='marginalizedparent'><a class='marginalized' href='#specialized.addressof-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7807'>#</a></div><p ><i>Remarks:</i> An expression <span class='texttt'>addressof(E)</span>
is a constant subexpression (<a href='defns.const.subexpr'>[defns.const.subexpr]</a>)
if <span class='texttt'>E</span> is an lvalue constant subexpression.
</p></div></div></div><div id='uninitialized.construct.default'><h4 ><a class='secnum' href='#uninitialized.construct.default' style='min-width:118pt'>20.10.10.2</a> <span class='texttt'>uninitialized_default_construct</span> <a class='abbr_ref' href='uninitialized.construct.default'>[uninitialized.construct.default]</a></h4><p ><span class='indexparent'><a class='index' id='uninitialized_default_construct'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator&gt;
  void uninitialized_default_construct(ForwardIterator first, ForwardIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.default-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.default-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7822'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; first != last; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type;</pre></div></div><p ><span class='indexparent'><a class='index' id='uninitialized_default_construct_n'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator, class Size&gt;
  ForwardIterator uninitialized_default_construct_n(ForwardIterator first, Size n);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.default-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.default-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7839'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; n&gt;0; (void)++first, --n)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type;
return first;</pre></div></div></div><div id='uninitialized.construct.value'><h4 ><a class='secnum' href='#uninitialized.construct.value' style='min-width:118pt'>20.10.10.3</a> <span class='texttt'>uninitialized_value_construct</span> <a class='abbr_ref' href='uninitialized.construct.value'>[uninitialized.construct.value]</a></h4><p ><span class='indexparent'><a class='index' id='uninitialized_value_construct'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator&gt;
  void uninitialized_value_construct(ForwardIterator first, ForwardIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.value-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.value-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7859'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; first != last; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type();</pre></div></div><p ><span class='indexparent'><a class='index' id='uninitialized_value_construct_n'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator, class Size&gt;
  ForwardIterator uninitialized_value_construct_n(ForwardIterator first, Size n);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.value-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.value-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7876'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; n&gt;0; (void)++first, --n)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type();
return first;</pre></div></div></div><div id='uninitialized.copy'><h4 ><a class='secnum' href='#uninitialized.copy' style='min-width:118pt'>20.10.10.4</a> <span class='texttt'>uninitialized_copy</span> <a class='abbr_ref' href='uninitialized.copy'>[uninitialized.copy]</a></h4><p ><span class='indexparent'><a class='index' id='uninitialized_copy'></a></span><code class='itemdecl'>
template &lt;class InputIterator, class ForwardIterator&gt;
  ForwardIterator uninitialized_copy(InputIterator first, InputIterator last,
                                     ForwardIterator result);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.copy-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7897'>#</a></div><p ><i>Effects:</i>
As if by:
</p><pre class='codeblock'>
for (; first != last; ++result, (void) ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(*first);</pre></div></div><div class='para' id='uninitialized.copy-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7906'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>result</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='uninitialized_copy_n'></a></span><code class='itemdecl'>
template &lt;class InputIterator, class Size, class ForwardIterator&gt;
  ForwardIterator uninitialized_copy_n(InputIterator first, Size n,
                                       ForwardIterator result);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.copy-3'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7919'>#</a></div><p ><i>Effects:</i>
As if by:
</p><pre class='codeblock'>
for ( ; n &gt; 0; ++result, (void) ++first, --n) {
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(*first);
}</pre></div></div><div class='para' id='uninitialized.copy-4'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7929'>#</a></div><p ><i>Returns:</i> <span class='texttt'>result</span>.
</p></div></div></div><div id='uninitialized.move'><h4 ><a class='secnum' href='#uninitialized.move' style='min-width:118pt'>20.10.10.5</a> <span class='texttt'>uninitialized_move</span> <a class='abbr_ref' href='uninitialized.move'>[uninitialized.move]</a></h4><p ><span class='indexparent'><a class='index' id='uninitialized_move'></a></span><code class='itemdecl'>
template &lt;class InputIterator, class ForwardIterator&gt;
  ForwardIterator uninitialized_move(InputIterator first, InputIterator last,
                                     ForwardIterator result);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.move-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7943'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; first != last; (void)++result, ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(std::move(*first));
return result;</pre></div></div><div class='para' id='uninitialized.move-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7953'>#</a></div><p ><i>Remarks:</i>
If an exception is thrown, some objects in the range <span class='texttt'>[first, last)</span>
are left in a valid but unspecified state.
</p></div></div><p ><span class='indexparent'><a class='index' id='uninitialized_move_n'></a></span><code class='itemdecl'>
template &lt;class InputIterator, class Size, class ForwardIterator&gt;
  pair&lt;InputIterator, ForwardIterator&gt;
    uninitialized_move_n(InputIterator first, Size n, ForwardIterator result);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.move-3'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7967'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; n &gt; 0; ++result, (void) ++first, --n)
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(std::move(*first));
return {first,result};</pre></div></div><div class='para' id='uninitialized.move-4'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7977'>#</a></div><p ><i>Remarks:</i>
If an exception is thrown, some objects in the range <span class='texttt'>[first, std::next(first,n))</span>
are left in a valid but unspecified state.
</p></div></div></div><div id='uninitialized.fill'><h4 ><a class='secnum' href='#uninitialized.fill' style='min-width:118pt'>20.10.10.6</a> <span class='texttt'>uninitialized_fill</span> <a class='abbr_ref' href='uninitialized.fill'>[uninitialized.fill]</a></h4><p ><span class='indexparent'><a class='index' id='uninitialized_fill'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator, class T&gt;
  void uninitialized_fill(ForwardIterator first, ForwardIterator last,
                          const T&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.fill-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.fill-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L7993'>#</a></div><p ><i>Effects:</i>
As if by:
</p><pre class='codeblock'>
for (; first != last; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(x);</pre></div></div><p ><span class='indexparent'><a class='index' id='uninitialized_fill_n'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator, class Size, class T&gt;
  ForwardIterator uninitialized_fill_n(ForwardIterator first, Size n, const T&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.fill-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.fill-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8010'>#</a></div><p ><i>Effects:</i>
As if by:
</p><pre class='codeblock'>
for (; n--; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(x);
return first;</pre></div></div></div><div id='specialized.destroy'><h4 ><a class='secnum' href='#specialized.destroy' style='min-width:118pt'>20.10.10.7</a> <span class='texttt'>destroy</span> <a class='abbr_ref' href='specialized.destroy'>[specialized.destroy]</a></h4><p ><span class='indexparent'><a class='index' id='destroy_at'></a></span><code class='itemdecl'>
template &lt;class T&gt;
  void destroy_at(T* location);
</code></p><div class='itemdescr'></div><div class='para' id='specialized.destroy-1'><div class='marginalizedparent'><a class='marginalized' href='#specialized.destroy-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8030'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
location-&gt;~T();</pre></div></div><p ><span class='indexparent'><a class='index' id='destroy'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator&gt;
  void destroy(ForwardIterator first, ForwardIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='specialized.destroy-2'><div class='marginalizedparent'><a class='marginalized' href='#specialized.destroy-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8045'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; first!=last; ++first)
  destroy_at(addressof(*first));</pre></div></div><p ><span class='indexparent'><a class='index' id='destroy_n'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator, class Size&gt;
  ForwardIterator destroy_n(ForwardIterator first, Size n);
</code></p><div class='itemdescr'></div><div class='para' id='specialized.destroy-3'><div class='marginalizedparent'><a class='marginalized' href='#specialized.destroy-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8061'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
for (; n &gt; 0; (void)++first, --n)
  destroy_at(addressof(*first));
return first;</pre></div></div></div></div><div id='c.malloc'><h3 ><a class='secnum' href='#c.malloc' style='min-width:103pt'>20.10.11</a> C library memory allocation <a class='abbr_ref' href='c.malloc'>[c.malloc]</a></h3><div class='para' id='c.malloc-1'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8073'>#</a></div><p ><span class='indexparent'><a class='index' id='cstdlib'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The header <span class='texttt'>&lt;cstdlib&gt;</span> (<a href='cstdlib.syn'>[cstdlib.syn]</a>)
declares the functions described in this subclause.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='aligned_alloc'></a></span><span class='indexparent'><a class='index' id='calloc'></a></span><span class='indexparent'><a class='index' id='malloc'></a></span><span class='indexparent'><a class='index' id='realloc'></a></span><code class='itemdecl'>
void* aligned_alloc(size_t alignment, size_t size);
void* calloc(size_t nmemb, size_t size);
void* malloc(size_t size);
void* realloc(void* ptr, size_t size);
</code></p></div><div class='itemdescr'></div><div class='para' id='c.malloc-2'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8092'>#</a></div><p ><i>Effects:</i>
These functions have the semantics specified in the C standard library.</p></div></div><div class='para' id='c.malloc-3'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8096'>#</a></div><p ><i>Remarks:</i>
These functions do not attempt to allocate
storage by calling <span class='texttt'>::operator new()</span> (<a href='support.dynamic'>[support.dynamic]</a>).
<span class='indexparent'><a class='index' id='new,operator'></a></span>
</p></div></div><div class='para' id='c.malloc-4'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8102'>#</a></div><p >Storage allocated directly with these functions
is implicitly declared reachable
(see <a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>) on allocation, ceases to be declared
reachable on deallocation, and need not cease to be declared reachable as the
result of an <span class='texttt'>undeclare_reachable()</span> call. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This allows existing
C libraries to remain unaffected by restrictions on pointers that are not safely
derived, at the expense of providing far fewer garbage collection and leak
detection options for <span class='texttt'>malloc()</span>-allocated objects. It also allows
<span class='texttt'>malloc()</span> to be implemented with a separate allocation arena, bypassing
the normal <span class='texttt'>declare_reachable()</span> implementation. The above functions
should never intentionally be used as a replacement for
<span class='texttt'>declare_reachable()</span>, and newly written code is strongly encouraged to
treat memory allocated with these functions as though it were allocated with
<span class='texttt'>operator new</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='free'></a></span><code class='itemdecl'>
void free(void* ptr);
</code></p><div class='itemdescr'></div><div class='para' id='c.malloc-5'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8125'>#</a></div><p ><i>Effects:</i>
This function has the semantics specified in the C standard library.</p></div></div><div class='para' id='c.malloc-6'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8129'>#</a></div><p ><i>Remarks:</i>
This function does not attempt to
deallocate storage by calling
<span class='texttt'>::operator delete()</span><span class='indexparent'><a class='index' id='delete,operator'></a></span>.
</p></div></div><p ><span class='textsc'>See also:</span> ISO C 7.22.3.</p></div></div><div id='smartptr'><h2 ><a class='secnum' href='#smartptr' style='min-width:88pt'>20.11</a> Smart pointers <a class='abbr_ref' href='smartptr'>[smartptr]</a></h2><div id='unique.ptr'><h3 ><a class='secnum' href='#unique.ptr' style='min-width:103pt'>20.11.1</a> Class template <span class='texttt'>unique_ptr</span> <a class='abbr_ref' href='unique.ptr'>[unique.ptr]</a></h3><div class='para' id='unique.ptr-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8142'>#</a></div><p >A <a class='hidden_link' href='#def:unique_pointer' id='def:unique_pointer'><i>unique pointer</i></a> is an object that owns another object and
manages that other object through a pointer. More precisely, a unique pointer
is an object <i>u</i> that stores a pointer to a second object <i>p</i> and
will dispose of <i>p</i> when <i>u</i> is itself destroyed (e.g., when
leaving block scope (<a href='stmt.dcl'>[stmt.dcl]</a>)). In this context, <i>u</i> is said
to <a class='hidden_link' href='#def:own' id='def:own'><i>own</i></a> <span class='texttt'>p</span>.</p></div><div class='para' id='unique.ptr-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8150'>#</a></div><p >The mechanism by which <i>u</i> disposes of <i>p</i> is known as
<i>p</i>'s associated <a class='hidden_link' href='#def:deleter' id='def:deleter'><i>deleter</i></a>, a function object whose correct
invocation results in <i>p</i>'s appropriate disposition (typically its deletion).</p></div><div class='para' id='unique.ptr-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8155'>#</a></div><p >Let the notation <i>u.p</i> denote the pointer stored by <i>u</i>, and
let <i>u.d</i> denote the associated deleter. Upon request, <i>u</i> can
<a class='hidden_link' href='#def:reset' id='def:reset'><i>reset</i></a> (replace) <i>u.p</i> and <i>u.d</i> with another pointer and
deleter, but must properly dispose of its owned object via the associated
deleter before such replacement is considered completed.</p></div><div class='para' id='unique.ptr-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8162'>#</a></div><p >Additionally, <i>u</i> can, upon request, <a class='hidden_link' href='#def:transfer_ownership' id='def:transfer_ownership'><i>transfer ownership</i></a> to another
unique pointer <i>u2</i>. Upon completion of such a transfer, the following
postconditions hold:</p><ul class='itemize'><li id='unique.ptr-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr-4.1'>(4.1)</a></div><p ><i>u2.p</i> is equal to the pre-transfer <i>u.p</i>,
</p></li><li id='unique.ptr-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr-4.2'>(4.2)</a></div><p ><i>u.p</i> is equal to <span class='texttt'>nullptr</span>, and
</p></li><li id='unique.ptr-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr-4.3'>(4.3)</a></div><p >if the pre-transfer <i>u.d</i> maintained state, such state has been
transferred to <i>u2.d</i>.
</p></li></ul><p >As in the case of a reset, <i>u2</i> must properly dispose of its pre-transfer
owned object via the pre-transfer associated deleter before the ownership
transfer is considered complete. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> A deleter's state need never be
copied, only moved or swapped as ownership is transferred. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='unique.ptr-5'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8179'>#</a></div><p >Each object of a type <span class='texttt'>U</span> instantiated from the <span class='texttt'>unique_ptr</span> template
specified in this subclause has the strict ownership semantics, specified above,
of a unique pointer. In partial satisfaction of these semantics, each such <span class='texttt'>U</span>
is <span class='texttt'>MoveConstructible</span> and <span class='texttt'>MoveAssignable</span>, but is not
<span class='texttt'>CopyConstructible</span> nor <span class='texttt'>CopyAssignable</span>.
The template parameter <span class='texttt'>T</span> of <span class='texttt'>unique_ptr</span> may be an incomplete type.</p></div><div class='para' id='unique.ptr-6'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8187'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The uses
of <span class='texttt'>unique_ptr</span> include providing exception safety for
dynamically allocated memory, passing ownership of dynamically allocated
memory to a function, and returning dynamically allocated memory from a
function. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; struct default_delete;
  template&lt;class T&gt; struct default_delete&lt;T[]&gt;;

  template&lt;class T, class D = default_delete&lt;T&gt;&gt; class unique_ptr;
  template&lt;class T, class D&gt; class unique_ptr&lt;T[], D&gt;;

  template&lt;class T, class... Args&gt; unique_ptr&lt;T&gt; make_unique(Args&amp;&amp;... args);
  template&lt;class T&gt; unique_ptr&lt;T&gt; make_unique(size_t n);
  template&lt;class T, class... Args&gt; <i><span class='texttt'>unspecified</span></i> make_unique(Args&amp;&amp;...) = delete;

  template&lt;class T, class D&gt; void swap(unique_ptr&lt;T, D&gt;&amp; x, unique_ptr&lt;T, D&gt;&amp; y) noexcept;

  template&lt;class T1, class D1, class T2, class D2&gt;
    bool operator==(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template&lt;class T1, class D1, class T2, class D2&gt;
    bool operator!=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template&lt;class T1, class D1, class T2, class D2&gt;
    bool operator&lt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template&lt;class T1, class D1, class T2, class D2&gt;
    bool operator&lt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template&lt;class T1, class D1, class T2, class D2&gt;
    bool operator&gt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template&lt;class T1, class D1, class T2, class D2&gt;
    bool operator&gt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);

  template &lt;class T, class D&gt;
    bool operator==(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T, class D&gt;
    bool operator==(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y) noexcept;
  template &lt;class T, class D&gt;
    bool operator!=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T, class D&gt;
    bool operator!=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y) noexcept;
  template &lt;class T, class D&gt;
    bool operator&lt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&lt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&lt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&lt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&gt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&gt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&gt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&gt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);

}</pre></div><div id='unique.ptr.dltr'><h4 ><a class='secnum' href='#unique.ptr.dltr' style='min-width:118pt'>20.11.1.1</a> Default deleters <a class='abbr_ref' href='unique.ptr.dltr'>[unique.ptr.dltr]</a></h4><div id='unique.ptr.dltr.general'><h4 ><a class='secnum' href='#unique.ptr.dltr.general' style='min-width:133pt'>20.11.1.1.1</a> In general <a class='abbr_ref' href='unique.ptr.dltr.general'>[unique.ptr.dltr.general]</a></h4><div class='para' id='unique.ptr.dltr.general-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8253'>#</a></div><p >The class template <span class='texttt'>default_delete</span> serves as the default deleter (destruction policy)
for the class template <span class='texttt'>unique_ptr</span>.</p></div><div class='para' id='unique.ptr.dltr.general-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8257'>#</a></div><p >The template parameter <span class='texttt'>T</span> of <span class='texttt'>default_delete</span> may be
an incomplete type.</p></div></div><div id='unique.ptr.dltr.dflt'><h4 ><a class='secnum' href='#unique.ptr.dltr.dflt' style='min-width:133pt'>20.11.1.1.2</a> <span class='texttt'>default_delete</span> <a class='abbr_ref' href='unique.ptr.dltr.dflt'>[unique.ptr.dltr.dflt]</a></h4><pre class='codeblock'>
namespace std {
  template &lt;class T&gt; struct default_delete {
    constexpr default_delete() noexcept = default;
    template &lt;class U&gt; default_delete(const default_delete&lt;U&gt;&amp;) noexcept;
    void operator()(T*) const;
  };
}</pre><p ><span class='indexparent'><a class='index' id='default_delete,constructor'></a></span><code class='itemdecl'>
template &lt;class U&gt; default_delete(const default_delete&lt;U&gt;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.dltr.dflt-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8279'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>default_delete</span> object
from another <span class='texttt'>default_delete&lt;U&gt;</span> object.</p></div></div><div class='para' id='unique.ptr.dltr.dflt-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8283'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
<span class='texttt'>U*</span> is implicitly convertible to <span class='texttt'>T*</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator(),default_delete'></a></span><span class='indexparent'><a class='index' id='default_delete,operator()'></a></span><code class='itemdecl'>
void operator()(T* ptr) const;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.dltr.dflt-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8294'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>delete</span> on <span class='texttt'>ptr</span>.</p></div></div><div class='para' id='unique.ptr.dltr.dflt-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8297'>#</a></div><p ><i>Remarks:</i> If <span class='texttt'>T</span> is an incomplete type, the program is ill-formed.
</p></div></div></div><div id='unique.ptr.dltr.dflt1'><h4 ><a class='secnum' href='#unique.ptr.dltr.dflt1' style='min-width:133pt'>20.11.1.1.3</a> <span class='texttt'>default_delete&lt;T[]&gt;</span> <a class='abbr_ref' href='unique.ptr.dltr.dflt1'>[unique.ptr.dltr.dflt1]</a></h4><pre class='codeblock'>
namespace std {
  template &lt;class T&gt; struct default_delete&lt;T[]&gt; {
    constexpr default_delete() noexcept = default;
    template &lt;class U&gt; default_delete(const default_delete&lt;U[]&gt;&amp;) noexcept;
    template &lt;class U&gt; void operator()(U* ptr) const;
  };
}</pre><p ><span class='indexparent'><a class='index' id='default_delete,constructor'></a></span>
<code class='itemdecl'>
template &lt;class U&gt; default_delete(const default_delete&lt;U[]&gt;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.dltr.dflt1-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt1-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8319'>#</a></div><p ><i>Effects:</i>
constructs a <span class='texttt'>default_delete</span> object from another <span class='texttt'>default_delete&lt;U[]&gt;</span> object.</p></div></div><div class='para' id='unique.ptr.dltr.dflt1-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt1-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8323'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless <span class='texttt'>U(*)[]</span> is
convertible to <span class='texttt'>T(*)[]</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator(),default_delete'></a></span><span class='indexparent'><a class='index' id='default_delete,operator()'></a></span><code class='itemdecl'>
template &lt;class U&gt; void operator()(U* ptr) const;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.dltr.dflt1-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt1-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8335'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>delete[]</span> on <span class='texttt'>ptr</span>.</p></div></div><div class='para' id='unique.ptr.dltr.dflt1-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.dltr.dflt1-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8339'>#</a></div><p ><i>Remarks:</i> If U is an incomplete type, the program is ill-formed.
This function shall not participate in overload resolution
unless <span class='texttt'>U(*)[]</span> is convertible to <span class='texttt'>T(*)[]</span>.
</p></div></div></div></div><div id='unique.ptr.single'><h4 ><a class='secnum' href='#unique.ptr.single' style='min-width:118pt'>20.11.1.2</a> <span class='texttt'>unique_ptr</span> for single objects <a class='abbr_ref' href='unique.ptr.single'>[unique.ptr.single]</a></h4><p ><span class='indexparent'><a class='index' id='unique_ptr'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class T, class D = default_delete&lt;T&gt;&gt; class unique_ptr {
  public:
    using pointer      = <i><span class='texttt'>see below</span></i>;
    using element_type = T;
    using deleter_type = D;

    <span class='comment'>// <a href='unique.ptr.single.ctor'>[unique.ptr.single.ctor]</a>, constructors
</span>    constexpr unique_ptr() noexcept;
    explicit unique_ptr(pointer p) noexcept;
    unique_ptr(pointer p, <i><span class='texttt'>see below</span></i> d1) noexcept;
    unique_ptr(pointer p, <i><span class='texttt'>see below</span></i> d2) noexcept;
    unique_ptr(unique_ptr&amp;&amp; u) noexcept;
    constexpr unique_ptr(nullptr_t) noexcept
      : unique_ptr() { }
    template &lt;class U, class E&gt;
      unique_ptr(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;

    <span class='comment'>// <a href='unique.ptr.single.dtor'>[unique.ptr.single.dtor]</a>, destructor
</span>    ~unique_ptr();

    <span class='comment'>// <a href='unique.ptr.single.asgn'>[unique.ptr.single.asgn]</a>, assignment
</span>    unique_ptr&amp; operator=(unique_ptr&amp;&amp; u) noexcept;
    template &lt;class U, class E&gt; unique_ptr&amp; operator=(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
    unique_ptr&amp; operator=(nullptr_t) noexcept;

    <span class='comment'>// <a href='unique.ptr.single.observers'>[unique.ptr.single.observers]</a>, observers
</span>    add_lvalue_reference_t&lt;T&gt; operator*() const;
    pointer operator-&gt;() const noexcept;
    pointer get() const noexcept;
    deleter_type&amp; get_deleter() noexcept;
    const deleter_type&amp; get_deleter() const noexcept;
    explicit operator bool() const noexcept;

    <span class='comment'>// <a href='unique.ptr.single.modifiers'>[unique.ptr.single.modifiers]</a>, modifiers
</span>    pointer release() noexcept;
    void reset(pointer p = pointer()) noexcept;
    void swap(unique_ptr&amp; u) noexcept;

    <span class='comment'>// disable copy from lvalue
</span>    unique_ptr(const unique_ptr&amp;) = delete;
    unique_ptr&amp; operator=(const unique_ptr&amp;) = delete;
  };
}</pre><div class='para' id='unique.ptr.single-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8395'>#</a></div><p >The default type for the template parameter <span class='texttt'>D</span> is
<span class='texttt'>default_delete</span>. A client-supplied template argument
<span class='texttt'>D</span> shall be a function
object type (<a href='function.objects'>[function.objects]</a>), lvalue reference to function, or
lvalue reference to function object type
for which, given
a value <span class='texttt'>d</span> of type <span class='texttt'>D</span> and a value
<span class='texttt'>ptr</span> of type <span class='texttt'>unique_ptr&lt;T, D&gt;::pointer</span>, the expression
<span class='texttt'>d(ptr)</span> is valid and has the effect of disposing of the
pointer as appropriate for that deleter.</p></div><div class='para' id='unique.ptr.single-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8407'>#</a></div><p >If the deleter's type <span class='texttt'>D</span> is not a reference type, <span class='texttt'>D</span> shall satisfy
the requirements of <span class='texttt'>Destructible</span> (Table <a href='utility.arg.requirements#tab:destructible'>[tab:destructible]</a>).</p></div><div class='para' id='unique.ptr.single-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8411'>#</a></div><p >If the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>remove_reference_t&lt;D&gt;::pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>), then <span class='texttt'>unique_ptr&lt;T,
D&gt;::pointer</span> shall be a synonym for <span class='texttt'>remove_reference_t&lt;D&gt;::pointer</span>. Otherwise
<span class='texttt'>unique_ptr&lt;T, D&gt;::pointer</span> shall be a synonym for <span class='texttt'>element_type*</span>. The type <span class='texttt'>unique_ptr&lt;T,
D&gt;::pointer</span> shall
satisfy the requirements of <span class='texttt'>NullablePointer</span> (<a href='nullablepointer.requirements'>[nullablepointer.requirements]</a>).</p></div><div class='para' id='unique.ptr.single-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8419'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i> Given an allocator type <span class='texttt'>X</span> (<a href='allocator.requirements'>[allocator.requirements]</a>) and
letting <span class='texttt'>A</span> be a synonym for <span class='texttt'>allocator_traits&lt;X&gt;</span>, the types <span class='texttt'>A::pointer</span>,
<span class='texttt'>A::const_pointer</span>, <span class='texttt'>A::void_pointer</span>, and <span class='texttt'>A::const_void_pointer</span>
may be used as <span class='texttt'>unique_ptr&lt;T, D&gt;::pointer</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div id='unique.ptr.single.ctor'><h4 ><a class='secnum' href='#unique.ptr.single.ctor' style='min-width:133pt'>20.11.1.2.1</a> <span class='texttt'>unique_ptr</span> constructors <a class='abbr_ref' href='unique.ptr.single.ctor'>[unique.ptr.single.ctor]</a></h4><p ><span class='indexparent'><a class='index' id='unique_ptr,constructor'></a></span><code class='itemdecl'>
constexpr unique_ptr() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8433'>#</a></div><p ><i>Requires:</i> <span class='texttt'>D</span> shall
satisfy the requirements of <span class='texttt'>DefaultConstructible</span> (Table <a href='utility.arg.requirements#tab:defaultconstructible'>[tab:defaultconstructible]</a>),
and that construction shall not throw an exception.</p></div></div><div class='para' id='unique.ptr.single.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8438'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>unique_ptr</span> object that owns
nothing, value-initializing the stored pointer and the stored deleter.</p></div></div><div class='para' id='unique.ptr.single.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8442'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == nullptr</span>. <span class='texttt'>get_deleter()</span>
returns a reference to the stored deleter.</p></div></div><div class='para' id='unique.ptr.single.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8446'>#</a></div><p ><i>Remarks:</i> If this constructor is instantiated with a pointer type or reference type
for the template argument <span class='texttt'>D</span>, the program is ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='unique_ptr,constructor'></a></span><code class='itemdecl'>
explicit unique_ptr(pointer p) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8457'>#</a></div><p ><i>Requires:</i> <span class='texttt'>D</span> shall
satisfy the requirements of <span class='texttt'>DefaultConstructible</span> (Table <a href='utility.arg.requirements#tab:defaultconstructible'>[tab:defaultconstructible]</a>),
and that construction shall not throw an exception.</p></div></div><div class='para' id='unique.ptr.single.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8462'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>unique_ptr</span> which owns
<span class='texttt'>p</span>, initializing the stored pointer with <span class='texttt'>p</span> and
value-initializing the stored deleter.</p></div></div><div class='para' id='unique.ptr.single.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8467'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == p</span>. <span class='texttt'>get_deleter()</span>
returns a reference to the stored deleter.</p></div></div><div class='para' id='unique.ptr.single.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8471'>#</a></div><p ><i>Remarks:</i> If this constructor is instantiated with a pointer type or reference type
for the template argument <span class='texttt'>D</span>, the program is ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='unique_ptr,constructor'></a></span><code class='itemdecl'>
unique_ptr(pointer p, <i><span class='texttt'>see below</span></i> d1) noexcept;
unique_ptr(pointer p, <i><span class='texttt'>see below</span></i> d2) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8483'>#</a></div><p >The signature of these constructors depends upon whether <span class='texttt'>D</span>
is a reference type. If <span class='texttt'>D</span> is a non-reference type
<span class='texttt'>A</span>, then the signatures are:</p><pre class='codeblock'>
unique_ptr(pointer p, const A&amp; d);
unique_ptr(pointer p, A&amp;&amp; d);</pre></div></div><div class='para' id='unique.ptr.single.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8493'>#</a></div><p >If <span class='texttt'>D</span> is an lvalue reference type <span class='texttt'>A&amp;</span>,
then the signatures are:</p><pre class='codeblock'>
unique_ptr(pointer p, A&amp; d);
unique_ptr(pointer p, A&amp;&amp; d);</pre></div></div><div class='para' id='unique.ptr.single.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8502'>#</a></div><p >If <span class='texttt'>D</span> is an lvalue reference type <span class='texttt'>const A&amp;</span>,
then the signatures are:</p><pre class='codeblock'>
unique_ptr(pointer p, const A&amp; d);
unique_ptr(pointer p, const A&amp;&amp; d);</pre></div></div><div class='para' id='unique.ptr.single.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8511'>#</a></div><p ><i>Requires:</i>
</p><ul class='itemize'><li id='unique.ptr.single.ctor-12.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.ctor-12.1'>(12.1)</a></div><p >If <span class='texttt'>D</span> is not an lvalue reference type then</p><ul class='itemize'><li id='unique.ptr.single.ctor-12.1.1'><div class='marginalizedparent' style='left:-12em'><a class='marginalized' href='#unique.ptr.single.ctor-12.1.1'>(12.1.1)</a></div><p >If <span class='texttt'>d</span> is an lvalue or <span class='texttt'>const</span> rvalue then
the first constructor of this pair will be selected. <span class='texttt'>D</span>
shall satisfy the requirements of
<span class='texttt'>CopyConstructible</span> (Table <a href='utility.arg.requirements#tab:copyconstructible'>[tab:copyconstructible]</a>), and
the copy constructor of <span class='texttt'>D</span> shall
not throw an exception.
This <span class='texttt'>unique_ptr</span> will hold
a copy of <span class='texttt'>d</span>.</p></li><li id='unique.ptr.single.ctor-12.1.2'><div class='marginalizedparent' style='left:-12em'><a class='marginalized' href='#unique.ptr.single.ctor-12.1.2'>(12.1.2)</a></div><p >Otherwise, <span class='texttt'>d</span> is a non-const rvalue and the second
constructor of this pair will be selected. <span class='texttt'>D</span>
shall satisfy the requirements of
<span class='texttt'>MoveConstructible</span> (Table <a href='utility.arg.requirements#tab:moveconstructible'>[tab:moveconstructible]</a>), and the
move constructor of <span class='texttt'>D</span> shall not throw an exception.
This <span class='texttt'>unique_ptr</span> will
hold a value move constructed from <span class='texttt'>d</span>.
</p></li></ul></li><li id='unique.ptr.single.ctor-12.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.ctor-12.2'>(12.2)</a></div><p >Otherwise <span class='texttt'>D</span> is an lvalue reference type. <span class='texttt'>d</span>
shall be reference-compatible with one of the constructors. If <span class='texttt'>d</span> is
an rvalue, it will bind to the second constructor of this pair and the program is
ill-formed. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The diagnostic could
be implemented using a <span class='texttt'>static_assert</span> which assures that
<span class='texttt'>D</span> is not a reference type. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] Else <span class='texttt'>d</span>
is an lvalue and will bind to the first constructor of this pair. The type
which <span class='texttt'>D</span> references need not be <span class='texttt'>CopyConstructible</span>
nor <span class='texttt'>MoveConstructible</span>. This <span class='texttt'>unique_ptr</span> will
hold a <span class='texttt'>D</span> which refers to the lvalue <span class='texttt'>d</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>D</span> may not be an rvalue reference type.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></li></ul></div></div><div class='para' id='unique.ptr.single.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8549'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>unique_ptr</span> object which owns <span class='texttt'>p</span>, initializing
the stored pointer with <span class='texttt'>p</span> and initializing the deleter as described above.</p></div></div><div class='para' id='unique.ptr.single.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8553'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == p</span>.
<span class='texttt'>get_deleter()</span> returns a reference to the stored
deleter. If <span class='texttt'>D</span> is a reference type then <span class='texttt'>get_deleter()</span>
returns a reference to the lvalue <span class='texttt'>d</span>.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i></p><pre class='codeblock'>
D d;
unique_ptr&lt;int, D&gt; p1(new int, D());        <span class='comment'>// <span class='texttt'>D</span> must be <span class='texttt'>MoveConstructible</span>
</span>unique_ptr&lt;int, D&gt; p2(new int, d);          <span class='comment'>// <span class='texttt'>D</span> must be <span class='texttt'>CopyConstructible</span>
</span>unique_ptr&lt;int, D&amp;&gt; p3(new int, d);         <span class='comment'>// <span class='texttt'>p3</span> holds a reference to <span class='texttt'>d</span>
</span>unique_ptr&lt;int, const D&amp;&gt; p4(new int, D()); <span class='comment'>// error: rvalue deleter object combined
</span>                                            <span class='comment'>// with reference deleter type
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><p ><span class='indexparent'><a class='index' id='unique_ptr,constructor'></a></span><code class='itemdecl'>
unique_ptr(unique_ptr&amp;&amp; u) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8580'>#</a></div><p ><i>Requires:</i> If <span class='texttt'>D</span> is not a reference type,
<span class='texttt'>D</span> shall satisfy the requirements of <span class='texttt'>MoveConstructible</span>
(Table <a href='utility.arg.requirements#tab:moveconstructible'>[tab:moveconstructible]</a>).
Construction
of the deleter from an rvalue of type <span class='texttt'>D</span> shall not
throw an exception.</p></div></div><div class='para' id='unique.ptr.single.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8588'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>unique_ptr</span> by transferring ownership from
<span class='texttt'>u</span> to <span class='texttt'>*this</span>. If <span class='texttt'>D</span> is a reference type, this
deleter is copy constructed from <span class='texttt'>u</span>'s deleter; otherwise, this
deleter is move constructed from <span class='texttt'>u</span>'s deleter. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The
deleter constructor can be implemented with <span class='texttt'>std::forward&lt;D&gt;</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='unique.ptr.single.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8595'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get()</span> yields the value <span class='texttt'>u.get()</span>
yielded before the construction. <span class='texttt'>get_deleter()</span> returns a reference
to the stored deleter that was constructed from
<span class='texttt'>u.get_deleter()</span>. If <span class='texttt'>D</span> is a reference type then
<span class='texttt'>get_deleter()</span> and <span class='texttt'>u.get_deleter()</span> both reference
the same lvalue deleter.
</p></div></div><p ><span class='indexparent'><a class='index' id='unique_ptr,constructor'></a></span><code class='itemdecl'>
template &lt;class U, class E&gt; unique_ptr(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8610'>#</a></div><p ><i>Requires:</i> If <span class='texttt'>E</span> is not a reference type,
construction of the deleter from an rvalue of type
<span class='texttt'>E</span> shall be well formed and shall not throw an exception.
Otherwise, <span class='texttt'>E</span> is a reference type and construction of the deleter from an
lvalue of type <span class='texttt'>E</span> shall be well formed and shall not throw an exception.</p></div></div><div class='para' id='unique.ptr.single.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8617'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless:</p><ul class='itemize'><li id='unique.ptr.single.ctor-19.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.ctor-19.1'>(19.1)</a></div><p ><span class='texttt'>unique_ptr&lt;U, E&gt;::pointer</span> is implicitly convertible to <span class='texttt'>pointer</span>,
</p></li><li id='unique.ptr.single.ctor-19.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.ctor-19.2'>(19.2)</a></div><p ><span class='texttt'>U</span> is not an array type, and
</p></li><li id='unique.ptr.single.ctor-19.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.ctor-19.3'>(19.3)</a></div><p >either <span class='texttt'>D</span> is a reference type and <span class='texttt'>E</span> is the same type as <span class='texttt'>D</span>, or
<span class='texttt'>D</span> is not a reference type and <span class='texttt'>E</span> is implicitly convertible to <span class='texttt'>D</span>.
</p></li></ul></div></div><div class='para' id='unique.ptr.single.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8627'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>unique_ptr</span> by transferring ownership from <span class='texttt'>u</span>
to <span class='texttt'>*this</span>. If <span class='texttt'>E</span> is a reference type, this deleter is copy constructed from
<span class='texttt'>u</span>'s deleter; otherwise, this deleter is move constructed from <span class='texttt'>u</span>'s
deleter. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The deleter constructor can be implemented with
<span class='texttt'>std::forward&lt;E&gt;</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='unique.ptr.single.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8634'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get()</span> yields the value <span class='texttt'>u.get()</span>
yielded before the construction.
<span class='texttt'>get_deleter()</span> returns a reference
to the stored deleter that was constructed from
<span class='texttt'>u.get_deleter()</span>.
</p></div></div></div><div id='unique.ptr.single.dtor'><h4 ><a class='secnum' href='#unique.ptr.single.dtor' style='min-width:133pt'>20.11.1.2.2</a> <span class='texttt'>unique_ptr</span> destructor <a class='abbr_ref' href='unique.ptr.single.dtor'>[unique.ptr.single.dtor]</a></h4><p ><span class='indexparent'><a class='index' id='unique_ptr,destructor'></a></span><code class='itemdecl'>
~unique_ptr();
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8650'>#</a></div><p ><i>Requires:</i> The expression <span class='texttt'>get_deleter()(get())</span> shall be well formed,
shall have well-defined behavior, and shall not throw exceptions. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The
use of <span class='texttt'>default_delete</span> requires <span class='texttt'>T</span> to be a complete type.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='unique.ptr.single.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8656'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>get() == nullptr</span> there are no effects.
Otherwise <span class='texttt'>get_deleter()(get())</span>.
</p></div></div></div><div id='unique.ptr.single.asgn'><h4 ><a class='secnum' href='#unique.ptr.single.asgn' style='min-width:133pt'>20.11.1.2.3</a> <span class='texttt'>unique_ptr</span> assignment <a class='abbr_ref' href='unique.ptr.single.asgn'>[unique.ptr.single.asgn]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator='></a></span><code class='itemdecl'>
unique_ptr&amp; operator=(unique_ptr&amp;&amp; u) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.asgn-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8669'>#</a></div><p ><i>Requires:</i> If <span class='texttt'>D</span> is not a reference type, <span class='texttt'>D</span> shall satisfy the
requirements of <span class='texttt'>MoveAssignable</span> (Table <a href='utility.arg.requirements#tab:moveassignable'>[tab:moveassignable]</a>) and assignment
of the deleter from an rvalue of type <span class='texttt'>D</span> shall not throw an exception.
Otherwise, <span class='texttt'>D</span> is a reference type;
<span class='texttt'>remove_reference_t&lt;D&gt;</span> shall satisfy the <span class='texttt'>CopyAssignable</span>
requirements and assignment of the deleter from an
lvalue of type <span class='texttt'>D</span> shall not throw an exception.</p></div></div><div class='para' id='unique.ptr.single.asgn-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8678'>#</a></div><p ><i>Effects:</i>
Transfers ownership from <span class='texttt'>u</span> to <span class='texttt'>*this</span> as if by calling
<span class='texttt'>reset(u.release())</span> followed by
<span class='texttt'>get_deleter() = std::forward&lt;D&gt;(u.get_deleter())</span>.</p></div></div><div class='para' id='unique.ptr.single.asgn-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8684'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator='></a></span><code class='itemdecl'>
template &lt;class U, class E&gt; unique_ptr&amp; operator=(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.asgn-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8694'>#</a></div><p ><i>Requires:</i> If <span class='texttt'>E</span> is not a reference type, assignment of the deleter from
an rvalue of type <span class='texttt'>E</span> shall be well-formed and shall not throw an exception.
Otherwise, <span class='texttt'>E</span> is a reference type and assignment of the deleter from an lvalue
of type <span class='texttt'>E</span> shall be well-formed and shall not throw an exception.</p></div></div><div class='para' id='unique.ptr.single.asgn-5'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8700'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload resolution unless:</p><ul class='itemize'><li id='unique.ptr.single.asgn-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.asgn-5.1'>(5.1)</a></div><p ><span class='texttt'>unique_ptr&lt;U, E&gt;::pointer</span> is implicitly convertible to <span class='texttt'>pointer</span>, and
</p></li><li id='unique.ptr.single.asgn-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.asgn-5.2'>(5.2)</a></div><p ><span class='texttt'>U</span> is not an array type, and
</p></li><li id='unique.ptr.single.asgn-5.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.single.asgn-5.3'>(5.3)</a></div><p ><span class='texttt'>is_assignable_v&lt;D&amp;, E&amp;&amp;&gt;</span> is <span class='texttt'>true</span>.
</p></li></ul></div></div><div class='para' id='unique.ptr.single.asgn-6'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8709'>#</a></div><p ><i>Effects:</i> Transfers ownership from <span class='texttt'>u</span> to <span class='texttt'>*this</span> as if by calling
<span class='texttt'>reset(u.release())</span> followed by
<span class='texttt'>get_deleter() = std::forward&lt;E&gt;(u.get_deleter())</span>.</p></div></div><div class='para' id='unique.ptr.single.asgn-7'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8714'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator='></a></span><code class='itemdecl'>
unique_ptr&amp; operator=(nullptr_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.asgn-8'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8724'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>reset()</span>.</p></div></div><div class='para' id='unique.ptr.single.asgn-9'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8727'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == nullptr</span>.</p></div></div><div class='para' id='unique.ptr.single.asgn-10'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.asgn-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8730'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='unique.ptr.single.observers'><h4 ><a class='secnum' href='#unique.ptr.single.observers' style='min-width:133pt'>20.11.1.2.4</a> <span class='texttt'>unique_ptr</span> observers <a class='abbr_ref' href='unique.ptr.single.observers'>[unique.ptr.single.observers]</a></h4><p ><span class='indexparent'><a class='index' id='operator*,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator*'></a></span><code class='itemdecl'>
add_lvalue_reference_t&lt;T&gt; operator*() const;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.observers-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8742'>#</a></div><p ><i>Requires:</i> <span class='texttt'>get() != nullptr</span>.</p></div></div><div class='para' id='unique.ptr.single.observers-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8745'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*get()</span>.</p></div></div><p ><span class='indexparent'><a class='index' id='operator->,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator->'></a></span><code class='itemdecl'>
pointer operator-&gt;() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.observers-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8756'>#</a></div><p ><i>Requires:</i> <span class='texttt'>get() != nullptr</span>.</p></div></div><div class='para' id='unique.ptr.single.observers-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8759'>#</a></div><p ><i>Returns:</i> <span class='texttt'>get()</span>.</p></div></div><div class='para' id='unique.ptr.single.observers-5'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8762'>#</a></div><p ><i>Note:</i> use typically requires that <span class='texttt'>T</span> be a complete type.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,get'></a></span><code class='itemdecl'>
pointer get() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.observers-6'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8772'>#</a></div><p ><i>Returns:</i> The stored pointer.
</p></div></div><p ><span class='indexparent'><a class='index' id='get_deleter,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,get_deleter'></a></span><code class='itemdecl'>
deleter_type&amp; get_deleter() noexcept;
const deleter_type&amp; get_deleter() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.observers-7'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8783'>#</a></div><p ><i>Returns:</i> A reference to the stored deleter.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_bool,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator_bool'></a></span><code class='itemdecl'>
explicit operator bool() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.observers-8'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.observers-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8793'>#</a></div><p ><i>Returns:</i> <span class='texttt'>get() != nullptr</span>.
</p></div></div></div><div id='unique.ptr.single.modifiers'><h4 ><a class='secnum' href='#unique.ptr.single.modifiers' style='min-width:133pt'>20.11.1.2.5</a> <span class='texttt'>unique_ptr</span> modifiers <a class='abbr_ref' href='unique.ptr.single.modifiers'>[unique.ptr.single.modifiers]</a></h4><p ><span class='indexparent'><a class='index' id='release,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,release'></a></span><code class='itemdecl'>
pointer release() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.modifiers-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.modifiers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8805'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == nullptr</span>.</p></div></div><div class='para' id='unique.ptr.single.modifiers-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.modifiers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8808'>#</a></div><p ><i>Returns:</i> The value <span class='texttt'>get()</span> had at the start of
the call to <span class='texttt'>release</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,reset'></a></span><code class='itemdecl'>
void reset(pointer p = pointer()) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.modifiers-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.modifiers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8819'>#</a></div><p ><i>Requires:</i> The expression <span class='texttt'>get_deleter()(get())</span> shall be well formed, shall have
well-defined behavior, and shall not throw exceptions.</p></div></div><div class='para' id='unique.ptr.single.modifiers-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.modifiers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8823'>#</a></div><p ><i>Effects:</i> Assigns <span class='texttt'>p</span> to the stored pointer, and then if and only if the old value of the
stored pointer, <span class='texttt'>old_p</span>, was not equal to <span class='texttt'>nullptr</span>, calls
<span class='texttt'>get_deleter()(old_p)</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The order of these operations is significant
because the call to <span class='texttt'>get_deleter()</span> may destroy <span class='texttt'>*this</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='unique.ptr.single.modifiers-5'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.modifiers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8829'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == p</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The postcondition does not hold if the call to <span class='texttt'>get_deleter()</span>
destroys <span class='texttt'>*this</span> since <span class='texttt'>this-&gt;get()</span> is no longer a valid expression.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='swap,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,swap'></a></span><code class='itemdecl'>
void swap(unique_ptr&amp; u) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.single.modifiers-6'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.modifiers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8842'>#</a></div><p ><i>Requires:</i> <span class='texttt'>get_deleter()</span> shall be
swappable (<a href='swappable.requirements'>[swappable.requirements]</a>) and shall
not throw an exception
under <span class='texttt'>swap</span>.</p></div></div><div class='para' id='unique.ptr.single.modifiers-7'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.single.modifiers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8848'>#</a></div><p ><i>Effects:</i> Invokes <span class='texttt'>swap</span> on the stored pointers and on the stored
deleters of <span class='texttt'>*this</span> and <span class='texttt'>u</span>.
</p></div></div></div></div><div id='unique.ptr.runtime'><h4 ><a class='secnum' href='#unique.ptr.runtime' style='min-width:118pt'>20.11.1.3</a> <span class='texttt'>unique_ptr</span> for array objects with a runtime length <a class='abbr_ref' href='unique.ptr.runtime'>[unique.ptr.runtime]</a></h4><p ><span class='indexparent'><a class='index' id='unique_ptr'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class T, class D&gt; class unique_ptr&lt;T[], D&gt; {
  public:
    using pointer      = <i><span class='texttt'>see below</span></i>;
    using element_type = T;
    using deleter_type = D;

    <span class='comment'>// <a href='unique.ptr.runtime.ctor'>[unique.ptr.runtime.ctor]</a>, constructors
</span>    constexpr unique_ptr() noexcept;
    template &lt;class U&gt; explicit unique_ptr(U p) noexcept;
    template &lt;class U&gt; unique_ptr(U p, <i><span class='texttt'>see below</span></i> d) noexcept;
    template &lt;class U&gt; unique_ptr(U p, <i><span class='texttt'>see below</span></i> d) noexcept;
    unique_ptr(unique_ptr&amp;&amp; u) noexcept;
    template &lt;class U, class E&gt;
      unique_ptr(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
    constexpr unique_ptr(nullptr_t) noexcept : unique_ptr() { }

    <span class='comment'>// destructor
</span>    ~unique_ptr();

    <span class='comment'>// assignment
</span>    unique_ptr&amp; operator=(unique_ptr&amp;&amp; u) noexcept;
    template &lt;class U, class E&gt;
      unique_ptr&amp; operator=(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
    unique_ptr&amp; operator=(nullptr_t) noexcept;

    <span class='comment'>// <a href='unique.ptr.runtime.observers'>[unique.ptr.runtime.observers]</a>, observers
</span>    T&amp; operator[](size_t i) const;
    pointer get() const noexcept;
    deleter_type&amp; get_deleter() noexcept;
    const deleter_type&amp; get_deleter() const noexcept;
    explicit operator bool() const noexcept;

    <span class='comment'>// <a href='unique.ptr.runtime.modifiers'>[unique.ptr.runtime.modifiers]</a>, modifiers
</span>    pointer release() noexcept;
    template &lt;class U&gt; void reset(U p) noexcept;
    void reset(nullptr_t = nullptr) noexcept;
    void swap(unique_ptr&amp; u) noexcept;

    <span class='comment'>// disable copy from lvalue
</span>    unique_ptr(const unique_ptr&amp;) = delete;
    unique_ptr&amp; operator=(const unique_ptr&amp;) = delete;
  };
}</pre><div class='para' id='unique.ptr.runtime-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8903'>#</a></div><p >A specialization for array types is provided with a slightly altered
interface.</p><ul class='itemize'><li id='unique.ptr.runtime-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr.runtime-1.1'>(1.1)</a></div><p >Conversions between different types of
<span class='texttt'>unique_ptr&lt;T[], D&gt;</span>
that would be disallowed for the corresponding pointer-to-array types,
and conversions to or from the non-array forms of
<span class='texttt'>unique_ptr</span>, produce an ill-formed program.</p></li><li id='unique.ptr.runtime-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr.runtime-1.2'>(1.2)</a></div><p >Pointers to types derived from <span class='texttt'>T</span> are
rejected by the constructors, and by <span class='texttt'>reset</span>.</p></li><li id='unique.ptr.runtime-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr.runtime-1.3'>(1.3)</a></div><p >The observers <span class='texttt'>operator*</span> and
<span class='texttt'>operator-&gt;</span> are not provided.</p></li><li id='unique.ptr.runtime-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr.runtime-1.4'>(1.4)</a></div><p >The indexing observer <span class='texttt'>operator[]</span> is provided.</p></li><li id='unique.ptr.runtime-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unique.ptr.runtime-1.5'>(1.5)</a></div><p >The default deleter will call <span class='texttt'>delete[]</span>.
</p></li></ul></div><div class='para' id='unique.ptr.runtime-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8925'>#</a></div><p >Descriptions are provided below only for members that
differ from the primary template.</p></div><div class='para' id='unique.ptr.runtime-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8929'>#</a></div><p >The template argument <span class='texttt'>T</span> shall be a complete type.</p></div><div id='unique.ptr.runtime.ctor'><h4 ><a class='secnum' href='#unique.ptr.runtime.ctor' style='min-width:133pt'>20.11.1.3.1</a> <span class='texttt'>unique_ptr</span> constructors <a class='abbr_ref' href='unique.ptr.runtime.ctor'>[unique.ptr.runtime.ctor]</a></h4><p ><span class='indexparent'><a class='index' id='unique_ptr,constructor'></a></span><code class='itemdecl'>
template &lt;class U&gt; explicit unique_ptr(U p) noexcept;
template &lt;class U&gt; unique_ptr(U p, <i><span class='texttt'>see below</span></i> d) noexcept;
template &lt;class U&gt; unique_ptr(U p, <i><span class='texttt'>see below</span></i> d) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.runtime.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8942'>#</a></div><p >These constructors behave the same as
the constructors that take a <span class='texttt'>pointer</span> parameter
in the primary template
except that they
shall not participate in overload resolution unless either</p><ul class='itemize'><li id='unique.ptr.runtime.ctor-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-1.1'>(1.1)</a></div><p ><span class='texttt'>U</span> is the same type as <span class='texttt'>pointer</span>,
</p></li><li id='unique.ptr.runtime.ctor-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-1.2'>(1.2)</a></div><p ><span class='texttt'>U</span> is <span class='texttt'>nullptr_t</span>, or
</p></li><li id='unique.ptr.runtime.ctor-1.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-1.3'>(1.3)</a></div><p ><span class='texttt'>pointer</span> is the same type as <span class='texttt'>element_type*</span>,
      <span class='texttt'>U</span> is a pointer type <span class='texttt'>V*</span>, and
      <span class='texttt'>V(*)[]</span> is convertible to <span class='texttt'>element_type(*)[]</span>.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='unique_ptr,constructor'></a></span><code class='itemdecl'>
template &lt;class U, class E&gt;
  unique_ptr(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.runtime.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8965'>#</a></div><p >This constructor behaves the same as in the primary template,
except that it shall not participate in overload resolution
unless all of the following conditions hold,
where <span class='texttt'>UP</span> is <span class='texttt'>unique_ptr&lt;U, E&gt;</span>:</p><ul class='itemize'><li id='unique.ptr.runtime.ctor-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-2.1'>(2.1)</a></div><p ><span class='texttt'>U</span> is an array type, and
</p></li><li id='unique.ptr.runtime.ctor-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-2.2'>(2.2)</a></div><p ><span class='texttt'>pointer</span> is the same type as <span class='texttt'>element_type*</span>, and
</p></li><li id='unique.ptr.runtime.ctor-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-2.3'>(2.3)</a></div><p ><span class='texttt'>UP::pointer</span> is the same type as <span class='texttt'>UP::element_type*</span>, and
</p></li><li id='unique.ptr.runtime.ctor-2.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-2.4'>(2.4)</a></div><p ><span class='texttt'>UP::element_type(*)[]</span> is convertible to <span class='texttt'>element_type(*)[]</span>, and
</p></li><li id='unique.ptr.runtime.ctor-2.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.ctor-2.5'>(2.5)</a></div><p >either <span class='texttt'>D</span> is a reference type and <span class='texttt'>E</span> is the same type as <span class='texttt'>D</span>,
      or <span class='texttt'>D</span> is not a reference type and <span class='texttt'>E</span> is implicitly convertible to <span class='texttt'>D</span>.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
This replaces the overload-resolution specification of the primary template
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='unique.ptr.runtime.asgn'><h4 ><a class='secnum' href='#unique.ptr.runtime.asgn' style='min-width:133pt'>20.11.1.3.2</a> <span class='texttt'>unique_ptr</span> assignment <a class='abbr_ref' href='unique.ptr.runtime.asgn'>[unique.ptr.runtime.asgn]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator='></a></span><code class='itemdecl'>
template &lt;class U, class E&gt;
  unique_ptr&amp; operator=(unique_ptr&lt;U, E&gt;&amp;&amp; u)noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.runtime.asgn-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime.asgn-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L8994'>#</a></div><p >This operator behaves the same as in the primary template,
except that it shall not participate in overload resolution
unless all of the following conditions hold,
where <span class='texttt'>UP</span> is <span class='texttt'>unique_ptr&lt;U, E&gt;</span>:</p><ul class='itemize'><li id='unique.ptr.runtime.asgn-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.asgn-1.1'>(1.1)</a></div><p ><span class='texttt'>U</span> is an array type, and
</p></li><li id='unique.ptr.runtime.asgn-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.asgn-1.2'>(1.2)</a></div><p ><span class='texttt'>pointer</span> is the same type as <span class='texttt'>element_type*</span>, and
</p></li><li id='unique.ptr.runtime.asgn-1.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.asgn-1.3'>(1.3)</a></div><p ><span class='texttt'>UP::pointer</span> is the same type as <span class='texttt'>UP::element_type*</span>, and
</p></li><li id='unique.ptr.runtime.asgn-1.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.asgn-1.4'>(1.4)</a></div><p ><span class='texttt'>UP::element_type(*)[]</span> is convertible to <span class='texttt'>element_type(*)[]</span>, and
</p></li><li id='unique.ptr.runtime.asgn-1.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.asgn-1.5'>(1.5)</a></div><p ><span class='texttt'>is_assignable_v&lt;D&amp;, E&amp;&amp;&gt;</span> is <span class='texttt'>true</span>.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
This replaces the overload-resolution specification of the primary template
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='unique.ptr.runtime.observers'><h4 ><a class='secnum' href='#unique.ptr.runtime.observers' style='min-width:133pt'>20.11.1.3.3</a> <span class='texttt'>unique_ptr</span> observers <a class='abbr_ref' href='unique.ptr.runtime.observers'>[unique.ptr.runtime.observers]</a></h4><p ><span class='indexparent'><a class='index' id='operator[],unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator[]'></a></span><code class='itemdecl'>
T&amp; operator[](size_t i) const;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.runtime.observers-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime.observers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9021'>#</a></div><p ><i>Requires:</i> <span class='texttt'>i &lt;</span> the
number of elements in the array to which
the stored pointer points.</p></div></div><div class='para' id='unique.ptr.runtime.observers-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime.observers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9026'>#</a></div><p ><i>Returns:</i> <span class='texttt'>get()[i]</span>.
</p></div></div></div><div id='unique.ptr.runtime.modifiers'><h4 ><a class='secnum' href='#unique.ptr.runtime.modifiers' style='min-width:133pt'>20.11.1.3.4</a> <span class='texttt'>unique_ptr</span> modifiers <a class='abbr_ref' href='unique.ptr.runtime.modifiers'>[unique.ptr.runtime.modifiers]</a></h4><p ><span class='indexparent'><a class='index' id='reset,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,reset'></a></span><code class='itemdecl'>
void reset(nullptr_t p = nullptr) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.runtime.modifiers-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime.modifiers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9038'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>reset(pointer())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,reset'></a></span><code class='itemdecl'>
template &lt;class U&gt; void reset(U p) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.runtime.modifiers-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.runtime.modifiers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9048'>#</a></div><p >This function behaves the same as
the <span class='texttt'>reset</span> member of the primary template,
except that it shall not participate in overload resolution
unless either</p><ul class='itemize'><li id='unique.ptr.runtime.modifiers-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.modifiers-2.1'>(2.1)</a></div><p ><span class='texttt'>U</span> is the same type as <span class='texttt'>pointer</span>, or
</p></li><li id='unique.ptr.runtime.modifiers-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#unique.ptr.runtime.modifiers-2.2'>(2.2)</a></div><p ><span class='texttt'>pointer</span> is the same type as <span class='texttt'>element_type*</span>,
      <span class='texttt'>U</span> is a pointer type <span class='texttt'>V*</span>, and
      <span class='texttt'>V(*)[]</span> is convertible to <span class='texttt'>element_type(*)[]</span>.
</p></li></ul></div></div></div></div><div id='unique.ptr.create'><h4 ><a class='secnum' href='#unique.ptr.create' style='min-width:118pt'>20.11.1.4</a> <span class='texttt'>unique_ptr</span> creation <a class='abbr_ref' href='unique.ptr.create'>[unique.ptr.create]</a></h4><p ><span class='indexparent'><a class='index' id='make_unique'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt; unique_ptr&lt;T&gt; make_unique(Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.create-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.create-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9070'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution unless <span class='texttt'>T</span> is not an array.</p></div></div><div class='para' id='unique.ptr.create-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.create-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9073'>#</a></div><p ><i>Returns:</i> <span class='texttt'>unique_ptr&lt;T&gt;(new T(std::forward&lt;Args&gt;(args)...))</span>.</p></div></div><p ><span class='indexparent'><a class='index' id='make_unique'></a></span><code class='itemdecl'>
template &lt;class T&gt; unique_ptr&lt;T&gt; make_unique(size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.create-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.create-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9084'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution unless <span class='texttt'>T</span> is an array of unknown bound.</p></div></div><div class='para' id='unique.ptr.create-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.create-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9087'>#</a></div><p ><i>Returns:</i> <span class='texttt'>unique_ptr&lt;T&gt;(new remove_extent_t&lt;T&gt;[n]())</span>.</p></div></div><p ><span class='indexparent'><a class='index' id='make_unique'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt; <i><span class='texttt'>unspecified</span></i> make_unique(Args&amp;&amp;...) = delete;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.create-5'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.create-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9098'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution unless <span class='texttt'>T</span> is an array of known bound.</p></div></div></div><div id='unique.ptr.special'><h4 ><a class='secnum' href='#unique.ptr.special' style='min-width:118pt'>20.11.1.5</a> <span class='texttt'>unique_ptr</span> specialized algorithms <a class='abbr_ref' href='unique.ptr.special'>[unique.ptr.special]</a></h4><p ><span class='indexparent'><a class='index' id='swap(unique_ptr&,_unique_ptr&)'></a></span><code class='itemdecl'>
template &lt;class T, class D&gt; void swap(unique_ptr&lt;T, D&gt;&amp; x, unique_ptr&lt;T, D&gt;&amp; y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-1'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9111'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>is_swappable_v&lt;D&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='unique.ptr.special-2'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9115'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>x.swap(y)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator==,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator=='></a></span><code class='itemdecl'>
template &lt;class T1, class D1, class T2, class D2&gt;
  bool operator==(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-3'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9126'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x.get() == y.get()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator!='></a></span><code class='itemdecl'>
template &lt;class T1, class D1, class T2, class D2&gt;
  bool operator!=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-4'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9137'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x.get() != y.get()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator<'></a></span><code class='itemdecl'>
template &lt;class T1, class D1, class T2, class D2&gt;
  bool operator&lt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-5'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9148'>#</a></div><p ><i>Requires:</i> Let <span class='texttt'><i>CT</i></span> denote
</p><pre class='codeblock'>
common_type_t&lt;typename unique_ptr&lt;T1, D1&gt;::pointer,
              typename unique_ptr&lt;T2, D2&gt;::pointer&gt;</pre><p >Then the specialization
<span class='texttt'>less&lt;<i>CT</i>&gt;</span> shall be a function object type (<a href='function.objects'>[function.objects]</a>) that
induces a strict weak ordering (<a href='alg.sorting'>[alg.sorting]</a>) on the pointer values.</p></div></div><div class='para' id='unique.ptr.special-6'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9158'>#</a></div><p ><i>Returns:</i> <span class='texttt'>less&lt;<i>CT</i>&gt;()(x.get(), y.get())</span>.</p></div></div><div class='para' id='unique.ptr.special-7'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9161'>#</a></div><p ><i>Remarks:</i> If <span class='texttt'>unique_ptr&lt;T1, D1&gt;::pointer</span> is not implicitly convertible
to <span class='texttt'><i>CT</i></span> or <span class='texttt'>unique_ptr&lt;T2, D2&gt;::pointer</span> is not implicitly
convertible to <span class='texttt'><i>CT</i></span>, the program is ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator<='></a></span><code class='itemdecl'>
template &lt;class T1, class D1, class T2, class D2&gt;
  bool operator&lt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-8'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9174'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(y &lt; x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator>'></a></span><code class='itemdecl'>
template &lt;class T1, class D1, class T2, class D2&gt;
  bool operator&gt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-9'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9185'>#</a></div><p ><i>Returns:</i> <span class='texttt'>y &lt; x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator>='></a></span><code class='itemdecl'>
template &lt;class T1, class D1, class T2, class D2&gt;
  bool operator&gt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-10'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9196'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(x &lt; y)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator==,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator=='></a></span><code class='itemdecl'>
template &lt;class T, class D&gt;
  bool operator==(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
template &lt;class T, class D&gt;
  bool operator==(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-11'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9209'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator!='></a></span><code class='itemdecl'>
template &lt;class T, class D&gt;
  bool operator!=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
template &lt;class T, class D&gt;
  bool operator!=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-12'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9222'>#</a></div><p ><i>Returns:</i> <span class='texttt'>(bool)x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator<'></a></span><code class='itemdecl'>
template &lt;class T, class D&gt;
  bool operator&lt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
template &lt;class T, class D&gt;
  bool operator&lt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-13'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9235'>#</a></div><p ><i>Requires:</i> The specialization <span class='texttt'>less&lt;unique_ptr&lt;T, D&gt;::pointer&gt;</span> shall be
a function object type (<a href='function.objects'>[function.objects]</a>) that induces a strict weak
ordering (<a href='alg.sorting'>[alg.sorting]</a>) on the pointer values.</p></div></div><div class='para' id='unique.ptr.special-14'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9240'>#</a></div><p ><i>Returns:</i>
The first function template returns
<span class='texttt'>less&lt;unique_ptr&lt;T, D&gt;::pointer&gt;()(x.get(),<br/>nullptr)</span>.
The second function template returns
<span class='texttt'>less&lt;unique_ptr&lt;T, D&gt;::pointer&gt;()(nullptr, x.get())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator>'></a></span><code class='itemdecl'>
template &lt;class T, class D&gt;
  bool operator&gt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
template &lt;class T, class D&gt;
  bool operator&gt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-15'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9257'>#</a></div><p ><i>Returns:</i>
The first function template returns <span class='texttt'>nullptr &lt; x</span>.
The second function template returns <span class='texttt'>x &lt; nullptr</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator<='></a></span><code class='itemdecl'>
template &lt;class T, class D&gt;
  bool operator&lt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
template &lt;class T, class D&gt;
  bool operator&lt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-16'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9272'>#</a></div><p ><i>Returns:</i>
The first function template returns <span class='texttt'>!(nullptr &lt; x)</span>.
The second function template returns <span class='texttt'>!(x &lt; nullptr)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='unique_ptr,operator>='></a></span><code class='itemdecl'>
template &lt;class T, class D&gt;
  bool operator&gt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
template &lt;class T, class D&gt;
  bool operator&gt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='unique.ptr.special-17'><div class='marginalizedparent'><a class='marginalized' href='#unique.ptr.special-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9287'>#</a></div><p ><i>Returns:</i>
The first function template returns <span class='texttt'>!(x &lt; nullptr)</span>.
The second function template returns <span class='texttt'>!(nullptr &lt; x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='smart_pointers'></a></span></p></div></div><div id='util.smartptr'><h3 ><a class='secnum' href='#util.smartptr' style='min-width:103pt'>20.11.2</a> Shared-ownership pointers <a class='abbr_ref' href='util.smartptr'>[util.smartptr]</a></h3><div id='util.smartptr.weak.bad'><h4 ><a class='secnum' href='#util.smartptr.weak.bad' style='min-width:118pt'>20.11.2.1</a> Class <span class='texttt'>bad_weak_ptr</span> <a class='abbr_ref' href='util.smartptr.weak.bad'>[util.smartptr.weak.bad]</a></h4><p ><span class='indexparent'><a class='index' id='bad_weak_ptr'></a></span></p><pre class='codeblock'>
namespace std {
  class bad_weak_ptr : public exception {
  public:
    bad_weak_ptr() noexcept;
  };
}</pre><div class='para' id='util.smartptr.weak.bad-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.bad-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9307'>#</a></div><p >An exception of type <span class='texttt'>bad_weak_ptr</span> is thrown by the <span class='texttt'>shared_ptr</span>
constructor taking a <span class='texttt'>weak_ptr</span>.</p><p ><span class='indexparent'><a class='index' id='bad_weak_ptr,constructor'></a></span><span class='indexparent'><a class='index' id='what,bad_weak_ptr'></a></span><span class='indexparent'><a class='index' id='bad_weak_ptr,what'></a></span><code class='itemdecl'>
bad_weak_ptr() noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.bad-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.bad-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9318'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>what()</span> returns an
<span class='indexparent'><a class='index' id='return_value_of_bad_weak_ptr::what'></a></span>implementation-defined <span class='textsc'>ntbs</span>.</p></div></div></div><div id='util.smartptr.shared'><h4 ><a class='secnum' href='#util.smartptr.shared' style='min-width:118pt'>20.11.2.2</a> Class template <span class='texttt'>shared_ptr</span> <a class='abbr_ref' href='util.smartptr.shared'>[util.smartptr.shared]</a></h4><div class='para' id='util.smartptr.shared-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9325'>#</a></div><p ><span class='indexparent'><a class='index' id='shared_ptr'></a></span>The <span class='texttt'>shared_ptr</span> class template stores a pointer, usually obtained
via <span class='texttt'>new</span>. <span class='texttt'>shared_ptr</span> implements semantics of shared ownership;
the last remaining owner of the pointer is responsible for destroying
the object, or otherwise releasing the resources associated with the stored pointer. A
<span class='texttt'>shared_ptr</span> is said to be empty if it does not own a pointer.</p><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; class shared_ptr {
  public:
    using element_type = remove_extent_t&lt;T&gt;;
    using weak_type    = weak_ptr&lt;T&gt;;

    <span class='comment'>// <a href='util.smartptr.shared.const'>[util.smartptr.shared.const]</a>, constructors
</span>    constexpr shared_ptr() noexcept;
    template&lt;class Y&gt; explicit shared_ptr(Y* p);
    template&lt;class Y, class D&gt; shared_ptr(Y* p, D d);
    template&lt;class Y, class D, class A&gt; shared_ptr(Y* p, D d, A a);
    template &lt;class D&gt; shared_ptr(nullptr_t p, D d);
    template &lt;class D, class A&gt; shared_ptr(nullptr_t p, D d, A a);
    template&lt;class Y&gt; shared_ptr(const shared_ptr&lt;Y&gt;&amp; r, element_type* p) noexcept;
    shared_ptr(const shared_ptr&amp; r) noexcept;
    template&lt;class Y&gt; shared_ptr(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
    shared_ptr(shared_ptr&amp;&amp; r) noexcept;
    template&lt;class Y&gt; shared_ptr(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;
    template&lt;class Y&gt; explicit shared_ptr(const weak_ptr&lt;Y&gt;&amp; r);
    template &lt;class Y, class D&gt; shared_ptr(unique_ptr&lt;Y, D&gt;&amp;&amp; r);
    constexpr shared_ptr(nullptr_t) noexcept : shared_ptr() { }

    <span class='comment'>// <a href='util.smartptr.shared.dest'>[util.smartptr.shared.dest]</a>, destructor
</span>    ~shared_ptr();

    <span class='comment'>// <a href='util.smartptr.shared.assign'>[util.smartptr.shared.assign]</a>, assignment
</span>    shared_ptr&amp; operator=(const shared_ptr&amp; r) noexcept;
    template&lt;class Y&gt; shared_ptr&amp; operator=(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
    shared_ptr&amp; operator=(shared_ptr&amp;&amp; r) noexcept;
    template&lt;class Y&gt; shared_ptr&amp; operator=(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;
    template &lt;class Y, class D&gt; shared_ptr&amp; operator=(unique_ptr&lt;Y, D&gt;&amp;&amp; r);

    <span class='comment'>// <a href='util.smartptr.shared.mod'>[util.smartptr.shared.mod]</a>, modifiers
</span>    void swap(shared_ptr&amp; r) noexcept;
    void reset() noexcept;
    template&lt;class Y&gt; void reset(Y* p);
    template&lt;class Y, class D&gt; void reset(Y* p, D d);
    template&lt;class Y, class D, class A&gt; void reset(Y* p, D d, A a);

    <span class='comment'>// <a href='util.smartptr.shared.obs'>[util.smartptr.shared.obs]</a>, observers
</span>    element_type* get() const noexcept;
    T&amp; operator*() const noexcept;
    T* operator-&gt;() const noexcept;
    element_type&amp; operator[](ptrdiff_t i) const;
    long use_count() const noexcept;
    explicit operator bool() const noexcept;
    template&lt;class U&gt; bool owner_before(const shared_ptr&lt;U&gt;&amp; b) const;
    template&lt;class U&gt; bool owner_before(const weak_ptr&lt;U&gt;&amp; b) const;
  };

  <span class='comment'>// <a href='util.smartptr.shared.create'>[util.smartptr.shared.create]</a>, shared_ptr creation
</span>  template&lt;class T, class... Args&gt; shared_ptr&lt;T&gt; make_shared(Args&amp;&amp;... args);
  template&lt;class T, class A, class... Args&gt;
    shared_ptr&lt;T&gt; allocate_shared(const A&amp; a, Args&amp;&amp;... args);

  <span class='comment'>// <a href='util.smartptr.shared.cmp'>[util.smartptr.shared.cmp]</a>, shared_ptr comparisons
</span>  template&lt;class T, class U&gt;
    bool operator==(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator!=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&lt;(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&gt;(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&lt;=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&gt;=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;

  template &lt;class T&gt;
    bool operator==(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator==(nullptr_t, const shared_ptr&lt;T&gt;&amp; b) noexcept;
  template &lt;class T&gt;
    bool operator!=(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator!=(nullptr_t, const shared_ptr&lt;T&gt;&amp; b) noexcept;
  template &lt;class T&gt;
    bool operator&lt;(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&lt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; b) noexcept;
  template &lt;class T&gt;
    bool operator&lt;=(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&lt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; b) noexcept;
  template &lt;class T&gt;
    bool operator&gt;(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&gt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; b) noexcept;
  template &lt;class T&gt;
    bool operator&gt;=(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&gt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; b) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.spec'>[util.smartptr.shared.spec]</a>, shared_ptr specialized algorithms
</span>  template&lt;class T&gt; void swap(shared_ptr&lt;T&gt;&amp; a, shared_ptr&lt;T&gt;&amp; b) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.cast'>[util.smartptr.shared.cast]</a>, shared_ptr casts
</span>  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; static_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; dynamic_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; const_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; reinterpret_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;

  <span class='comment'>// <a href='util.smartptr.getdeleter'>[util.smartptr.getdeleter]</a>, shared_ptr get_deleter
</span>  template&lt;class D, class T&gt; D* get_deleter(const shared_ptr&lt;T&gt;&amp; p) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.io'>[util.smartptr.shared.io]</a>, shared_ptr I/O
</span>  template&lt;class E, class T, class Y&gt;
    basic_ostream&lt;E, T&gt;&amp; operator&lt;&lt; (basic_ostream&lt;E, T&gt;&amp; os, const shared_ptr&lt;Y&gt;&amp; p);
}</pre></div><div class='para' id='util.smartptr.shared-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9450'>#</a></div><p >Specializations of <span class='texttt'>shared_ptr</span> shall be <span class='texttt'>CopyConstructible</span>,
<span class='texttt'>CopyAssignable</span>, and <span class='texttt'>LessThanComparable</span>, allowing their use in standard
containers. Specializations of <span class='texttt'>shared_ptr</span> shall be
contextually convertible to <span class='texttt'>bool</span>,
allowing their use in boolean expressions and declarations in conditions. The template
parameter <span class='texttt'>T</span> of <span class='texttt'>shared_ptr</span> may be an incomplete type.</p></div><div class='para' id='util.smartptr.shared-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9458'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
if (shared_ptr&lt;X&gt; px = dynamic_pointer_cast&lt;X&gt;(py)) {
  <span class='comment'>// do something with px
</span>}</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='util.smartptr.shared-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9467'>#</a></div><p >For purposes of determining the presence of a data race, member functions shall
access and modify only the <span class='texttt'>shared_ptr</span> and <span class='texttt'>weak_ptr</span> objects
themselves and not objects they refer to. Changes in <span class='texttt'>use_count()</span> do not
reflect modifications that can introduce data races.</p></div><div class='para' id='util.smartptr.shared-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9473'>#</a></div><p >For the purposes of subclause <a href='util.smartptr'>[util.smartptr]</a>,
a pointer type <span class='texttt'>Y*</span> is said to be
<a class='hidden_link' href='#def:compatible_with,shared_ptr' id='def:compatible_with,shared_ptr'><i>compatible with</i></a>
a pointer type <span class='texttt'>T*</span> when either
<span class='texttt'>Y*</span> is convertible to <span class='texttt'>T*</span> or
<span class='texttt'>Y</span> is <span class='texttt'>U[N]</span> and <span class='texttt'>T</span> is <i>cv</i> <span class='texttt'>U[]</span>.</p></div><div id='util.smartptr.shared.const'><h4 ><a class='secnum' href='#util.smartptr.shared.const' style='min-width:133pt'>20.11.2.2.1</a> <span class='texttt'>shared_ptr</span> constructors <a class='abbr_ref' href='util.smartptr.shared.const'>[util.smartptr.shared.const]</a></h4><div class='para' id='util.smartptr.shared.const-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9483'>#</a></div><p >In the constructor definitions below,
enables <span class='texttt'>shared_from_this</span> with <span class='texttt'>p</span>,
for a pointer <span class='texttt'>p</span> of type <span class='texttt'>Y*</span>,
means that if <span class='texttt'>Y</span> has an unambiguous and accessible base class
that is a specialization of <span class='texttt'>enable_shared_from_this</span> (<a href='util.smartptr.enab'>[util.smartptr.enab]</a>),
then <span class='texttt'>remove_cv_t&lt;Y&gt;*</span> shall be implicitly convertible to <span class='texttt'>T*</span> and
the constructor evaluates the statement:
</p><pre class='codeblock'>
if (p != nullptr &amp;&amp; p-&gt;weak_this.expired())
  p-&gt;weak_this = shared_ptr&lt;remove_cv_t&lt;Y&gt;&gt;(*this, const_cast&lt;remove_cv_t&lt;Y&gt;*&gt;(p));</pre><p >The assignment to the <span class='texttt'>weak_this</span> member is not atomic and
conflicts with any potentially concurrent access to the same object (<a href='intro.multithread'>[intro.multithread]</a>).</p><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><code class='itemdecl'>
constexpr shared_ptr() noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9504'>#</a></div><p ><i>Effects:</i> Constructs an empty <span class='texttt'>shared_ptr</span> object.</p></div></div><div class='para' id='util.smartptr.shared.const-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9506'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>use_count() == 0 &amp;&amp; get() == nullptr</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><code class='itemdecl'>
template&lt;class Y&gt; explicit shared_ptr(Y* p);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9515'>#</a></div><p ><i>Requires:</i> <span class='texttt'>Y</span> shall be a complete type. The expression
<span class='texttt'>delete[] p</span>, when <span class='texttt'>T</span> is an array type, or
<span class='texttt'>delete p</span>, when <span class='texttt'>T</span> is not an array type,
shall be well formed, shall have well defined behavior, and
shall not throw exceptions.
When <span class='texttt'>T</span> is <span class='texttt'>U[N]</span>, <span class='texttt'>Y(*)[N]</span> shall be convertible to <span class='texttt'>T*</span>;
when <span class='texttt'>T</span> is <span class='texttt'>U[]</span>, <span class='texttt'>Y(*)[]</span> shall be convertible to <span class='texttt'>T*</span>;
otherwise, <span class='texttt'>Y*</span> shall be convertible to <span class='texttt'>T*</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9524'>#</a></div><p ><i>Effects:</i> When <span class='texttt'>T</span> is not an array type,
constructs a <span class='texttt'>shared_ptr</span> object
that owns the pointer <span class='texttt'>p</span>.
Otherwise, constructs a <span class='texttt'>shared_ptr</span>
that owns <span class='texttt'>p</span> and a deleter of an
unspecified type that calls <span class='texttt'>delete[] p</span>.
When <span class='texttt'>T</span> is not an array type,
enables <span class='texttt'>shared_from_this</span> with <span class='texttt'>p</span>.
If an exception is thrown, <span class='texttt'>delete p</span> is called
when <span class='texttt'>T</span> is not an array type, <span class='texttt'>delete[] p</span> otherwise.</p></div></div><div class='para' id='util.smartptr.shared.const-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9535'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>use_count() == 1 &amp;&amp; get() == p</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9537'>#</a></div><p ><i>Throws:</i> <span class='texttt'>bad_alloc</span>, or an <span class='indexparent'><a class='index' id='exception_type_when_shared_ptr_constructor_fails'></a></span>implementation-defined exception when a resource other than memory could not be obtained.
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><code class='itemdecl'>
template&lt;class Y, class D&gt; shared_ptr(Y* p, D d);
template&lt;class Y, class D, class A&gt; shared_ptr(Y* p, D d, A a);
template &lt;class D&gt; shared_ptr(nullptr_t p, D d);
template &lt;class D, class A&gt; shared_ptr(nullptr_t p, D d, A a);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-8'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9550'>#</a></div><p ><i>Requires:</i> <span class='texttt'>D</span> shall be
<span class='texttt'>CopyConstructible</span> and such construction shall not throw exceptions.
The destructor of <span class='texttt'>D</span>
shall not throw exceptions. The expression <span class='texttt'>d(p)</span> shall be
well formed, shall have well defined behavior, and shall not throw exceptions.
<span class='texttt'>A</span> shall be an allocator (<a href='allocator.requirements'>[allocator.requirements]</a>).
The copy constructor and destructor of <span class='texttt'>A</span> shall not throw exceptions.
When <span class='texttt'>T</span> is <span class='texttt'>U[N]</span>, <span class='texttt'>Y(*)[N]</span> shall be convertible to <span class='texttt'>T*</span>;
when <span class='texttt'>T</span> is <span class='texttt'>U[]</span>, <span class='texttt'>Y(*)[]</span> shall be convertible to <span class='texttt'>T*</span>;
otherwise, <span class='texttt'>Y*</span> shall be convertible to <span class='texttt'>T*</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-9'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9561'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>shared_ptr</span> object that owns the
object <span class='texttt'>p</span> and the deleter <span class='texttt'>d</span>.
When <span class='texttt'>T</span> is not an array type,
the first and second constructors enable <span class='texttt'>shared_from_this</span> with <span class='texttt'>p</span>.
The second and fourth constructors shall use a copy of <span class='texttt'>a</span> to
allocate memory for internal use.
If an exception is thrown, <span class='texttt'>d(p)</span> is called.</p></div></div><div class='para' id='util.smartptr.shared.const-10'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9569'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>use_count() == 1 &amp;&amp; get() == p</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-11'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9571'>#</a></div><p ><i>Throws:</i> <span class='texttt'>bad_alloc</span>, or an <span class='indexparent'><a class='index' id='exception_type_when_shared_ptr_constructor_fails'></a></span>implementation-defined exception
when a resource other than memory could not be obtained.
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><code class='itemdecl'>
template&lt;class Y&gt; shared_ptr(const shared_ptr&lt;Y&gt;&amp; r, element_type* p) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-12'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9582'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>shared_ptr</span> instance that
stores <span class='texttt'>p</span> and shares ownership with <span class='texttt'>r</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-13'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9586'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == p &amp;&amp; use_count() == r.use_count()</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-14'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9589'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> To avoid the possibility of a dangling pointer, the
user of this constructor must ensure that <span class='texttt'>p</span> remains valid at
least until the ownership group of <span class='texttt'>r</span> is destroyed. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='util.smartptr.shared.const-15'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9594'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This constructor allows creation of an empty
<span class='texttt'>shared_ptr</span> instance with a non-null stored pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><code class='itemdecl'>
shared_ptr(const shared_ptr&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-16'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9606'>#</a></div><p ><i>Remarks:</i>
The second constructor shall not participate in overload resolution unless
<span class='texttt'>Y*</span> is compatible with <span class='texttt'>T*</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-17'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9610'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>r</span> is empty, constructs
an empty <span class='texttt'>shared_ptr</span> object; otherwise, constructs
a <span class='texttt'>shared_ptr</span> object that shares ownership with <span class='texttt'>r</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-18'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9614'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() == r.get() &amp;&amp; use_count() == r.use_count()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><code class='itemdecl'>
shared_ptr(shared_ptr&amp;&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-19'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9624'>#</a></div><p ><i>Remarks:</i> The second constructor shall not participate in overload resolution unless
<span class='texttt'>Y*</span> is compatible with <span class='texttt'>T*</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-20'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9628'>#</a></div><p ><i>Effects:</i> Move constructs a <span class='texttt'>shared_ptr</span> instance from <span class='texttt'>r</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-21'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9631'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> shall contain the old value of
<span class='texttt'>r</span>. <span class='texttt'>r</span> shall be empty. <span class='texttt'>r.get() == nullptr</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><span class='indexparent'><a class='index' id='weak_ptr'></a></span><code class='itemdecl'>
template&lt;class Y&gt; explicit shared_ptr(const weak_ptr&lt;Y&gt;&amp; r);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-22'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9643'>#</a></div><p ><i>Requires:</i> <span class='texttt'>Y*</span> shall be compatible with <span class='texttt'>T*</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-23'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9645'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>shared_ptr</span> object that shares ownership with
<span class='texttt'>r</span> and stores a copy of the pointer stored in <span class='texttt'>r</span>.
If an exception is thrown, the constructor has no effect.</p></div></div><div class='para' id='util.smartptr.shared.const-24'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9649'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>use_count() == r.use_count()</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-25'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9651'>#</a></div><p ><i>Throws:</i> <span class='texttt'>bad_weak_ptr</span> when <span class='texttt'>r.expired()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr,constructor'></a></span><span class='indexparent'><a class='index' id='unique_ptr'></a></span><code class='itemdecl'>
template &lt;class Y, class D&gt; shared_ptr(unique_ptr&lt;Y, D&gt;&amp;&amp; r);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.const-26'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9661'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution
unless <span class='texttt'>Y*</span> is compatible with <span class='texttt'>T*</span> and
<span class='texttt'>unique_ptr&lt;Y, D&gt;::pointer</span> is convertible to <span class='texttt'>element_type*</span>.</p></div></div><div class='para' id='util.smartptr.shared.const-27'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.const-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9665'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>r.get() == nullptr</span>, equivalent to <span class='texttt'>shared_ptr()</span>.
Otherwise, if <span class='texttt'>D</span> is not a reference type,
equivalent to <span class='texttt'>shared_ptr(r.release(), r.get_deleter())</span>.
Otherwise, equivalent to <span class='texttt'>shared_ptr(r.release(), ref(r.get_deleter()))</span>.
If an exception is thrown, the constructor has no effect.
</p></div></div></div><div id='util.smartptr.shared.dest'><h4 ><a class='secnum' href='#util.smartptr.shared.dest' style='min-width:133pt'>20.11.2.2.2</a> <span class='texttt'>shared_ptr</span> destructor <a class='abbr_ref' href='util.smartptr.shared.dest'>[util.smartptr.shared.dest]</a></h4><p ><span class='indexparent'><a class='index' id='shared_ptr,destructor'></a></span><code class='itemdecl'>
~shared_ptr();
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.dest-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.dest-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9681'>#</a></div><p ><i>Effects:</i>
</p><ul class='itemize'><li id='util.smartptr.shared.dest-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.shared.dest-1.1'>(1.1)</a></div><p >If <span class='texttt'>*this</span> is empty or shares ownership with another
<span class='texttt'>shared_ptr</span> instance (<span class='texttt'>use_count() &gt; 1</span>), there are no side effects.</p></li><li id='util.smartptr.shared.dest-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.shared.dest-1.2'>(1.2)</a></div><p >Otherwise, if <span class='texttt'>*this</span> owns an object
<span class='texttt'>p</span> and a deleter <span class='texttt'>d</span>, <span class='texttt'>d(p)</span> is called.</p></li><li id='util.smartptr.shared.dest-1.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.shared.dest-1.3'>(1.3)</a></div><p >Otherwise, <span class='texttt'>*this</span> owns a pointer <span class='texttt'>p</span>,
and <span class='texttt'>delete p</span> is called.
</p></li></ul></div></div><div class='para' id='util.smartptr.shared.dest-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.dest-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9695'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Since the destruction of <span class='texttt'>*this</span>
decreases the number of instances that share ownership with <span class='texttt'>*this</span>
by one,
after <span class='texttt'>*this</span> has been destroyed
all <span class='texttt'>shared_ptr</span> instances that shared ownership with
<span class='texttt'>*this</span> will report a <span class='texttt'>use_count()</span> that is one less
than its previous value. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='util.smartptr.shared.assign'><h4 ><a class='secnum' href='#util.smartptr.shared.assign' style='min-width:133pt'>20.11.2.2.3</a> <span class='texttt'>shared_ptr</span> assignment <a class='abbr_ref' href='util.smartptr.shared.assign'>[util.smartptr.shared.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator='></a></span><code class='itemdecl'>
shared_ptr&amp; operator=(const shared_ptr&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr&amp; operator=(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9713'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>shared_ptr(r).swap(*this)</span>.</p></div></div><div class='para' id='util.smartptr.shared.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9715'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='util.smartptr.shared.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9717'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The use count updates caused by the temporary object
construction and destruction are not observable side
effects, so the implementation may meet the effects (and the
implied guarantees) via different means, without creating a
temporary. In particular, in the example:
</p><pre class='codeblock'>
shared_ptr&lt;int&gt; p(new int);
shared_ptr&lt;void&gt; q(p);
p = p;
q = p;</pre><p >both assignments may be no-ops. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator='></a></span><code class='itemdecl'>
shared_ptr&amp; operator=(shared_ptr&amp;&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr&amp; operator=(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9739'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>shared_ptr(std::move(r)).swap(*this)</span>.</p></div></div><div class='para' id='util.smartptr.shared.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9742'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator='></a></span><code class='itemdecl'>
template &lt;class Y, class D&gt; shared_ptr&amp; operator=(unique_ptr&lt;Y, D&gt;&amp;&amp; r);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9752'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>shared_ptr(std::move(r)).swap(*this)</span>.</p></div></div><div class='para' id='util.smartptr.shared.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9755'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='util.smartptr.shared.mod'><h4 ><a class='secnum' href='#util.smartptr.shared.mod' style='min-width:133pt'>20.11.2.2.4</a> <span class='texttt'>shared_ptr</span> modifiers <a class='abbr_ref' href='util.smartptr.shared.mod'>[util.smartptr.shared.mod]</a></h4><p ><span class='indexparent'><a class='index' id='swap,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,swap'></a></span><code class='itemdecl'>
void swap(shared_ptr&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9770'>#</a></div><p ><i>Effects:</i> Exchanges the contents of <span class='texttt'>*this</span> and <span class='texttt'>r</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,reset'></a></span><code class='itemdecl'>
void reset() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.mod-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9779'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>shared_ptr().swap(*this)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,reset'></a></span><code class='itemdecl'>
template&lt;class Y&gt; void reset(Y* p);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.mod-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.mod-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9788'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>shared_ptr(p).swap(*this)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,reset'></a></span><code class='itemdecl'>
template&lt;class Y, class D&gt; void reset(Y* p, D d);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.mod-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.mod-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9797'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>shared_ptr(p, d).swap(*this)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,reset'></a></span><code class='itemdecl'>
template&lt;class Y, class D, class A&gt; void reset(Y* p, D d, A a);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.mod-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.mod-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9806'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>shared_ptr(p, d, a).swap(*this)</span>.
</p></div></div></div><div id='util.smartptr.shared.obs'><h4 ><a class='secnum' href='#util.smartptr.shared.obs' style='min-width:133pt'>20.11.2.2.5</a> <span class='texttt'>shared_ptr</span> observers <a class='abbr_ref' href='util.smartptr.shared.obs'>[util.smartptr.shared.obs]</a></h4><p ><span class='indexparent'><a class='index' id='get,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,get'></a></span><code class='itemdecl'>
element_type* get() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.obs-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9817'>#</a></div><p ><i>Returns:</i> The stored pointer.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator*'></a></span><code class='itemdecl'>
T&amp; operator*() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.obs-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9826'>#</a></div><p ><i>Requires:</i> <span class='texttt'>get() != 0</span>.</p></div></div><div class='para' id='util.smartptr.shared.obs-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9828'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*get()</span>.</p></div></div><div class='para' id='util.smartptr.shared.obs-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9830'>#</a></div><p ><i>Remarks:</i> When <span class='texttt'>T</span> is an array type or <i>cv</i> <span class='texttt'>void</span>,
it is unspecified whether this
member function is declared. If it is declared, it is unspecified what its
return type is, except that the declaration (although not necessarily the
definition) of the function shall be well formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator->,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator->'></a></span><code class='itemdecl'>
T* operator-&gt;() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.obs-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9843'>#</a></div><p ><i>Requires:</i> <span class='texttt'>get() != 0</span>.</p></div></div><div class='para' id='util.smartptr.shared.obs-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9845'>#</a></div><p ><i>Returns:</i> <span class='texttt'>get()</span>.</p></div></div><div class='para' id='util.smartptr.shared.obs-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9847'>#</a></div><p ><i>Remarks:</i> When <span class='texttt'>T</span> is an array type,
it is unspecified whether this member function is declared.
If it is declared, it is unspecified what its return type is,
except that the declaration (although not necessarily the definition)
of the function shall be well formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator[]'></a></span><code class='itemdecl'>
element_type&amp; operator[](ptrdiff_t i) const;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.obs-8'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9860'>#</a></div><p ><i>Requires:</i> <span class='texttt'>get() != 0 &amp;&amp; i &gt;= 0</span>.
If <span class='texttt'>T</span> is <span class='texttt'>U[N]</span>, <span class='texttt'>i &lt; N</span>.</p></div></div><div class='para' id='util.smartptr.shared.obs-9'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9863'>#</a></div><p ><i>Returns:</i> <span class='texttt'>get()[i]</span>.</p></div></div><div class='para' id='util.smartptr.shared.obs-10'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9865'>#</a></div><p ><i>Remarks:</i> When <span class='texttt'>T</span> is not an array type,
it is unspecified whether this member function is declared.
If it is declared, it is unspecified what its return type is,
except that the declaration (although not necessarily the definition)
of the function shall be well formed.</p></div></div><div class='para' id='util.smartptr.shared.obs-11'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9871'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='use_count,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,use_count'></a></span><code class='itemdecl'>
long use_count() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.obs-12'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9880'>#</a></div><p ><i>Returns:</i> The number of <span class='texttt'>shared_ptr</span> objects, <span class='texttt'>*this</span> included,
that share ownership with <span class='texttt'>*this</span>, or <span class='texttt'>0</span> when <span class='texttt'>*this</span> is
empty.</p></div></div><div class='para' id='util.smartptr.shared.obs-13'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9884'>#</a></div><p ><i>Synchronization:</i> None.</p></div></div><div class='para' id='util.smartptr.shared.obs-14'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9886'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>get() == nullptr</span>
does not imply a specific return value of <span class='texttt'>use_count()</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='util.smartptr.shared.obs-15'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9889'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>weak_ptr&lt;T&gt;::lock()</span>
can affect the return value of <span class='texttt'>use_count()</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='util.smartptr.shared.obs-16'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9892'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> When multiple threads
can affect the return value of <span class='texttt'>use_count()</span>,
the result should be treated as approximate.
In particular, <span class='texttt'>use_count() == 1</span> does not imply that accesses through
a previously destroyed <span class='texttt'>shared_ptr</span> have in any sense completed. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_bool,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator_bool'></a></span><code class='itemdecl'>
explicit operator bool() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.obs-17'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9905'>#</a></div><p ><i>Returns:</i> <span class='texttt'>get() != 0</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='owner_before,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,owner_before'></a></span><code class='itemdecl'>
template&lt;class U&gt; bool owner_before(const shared_ptr&lt;U&gt;&amp; b) const;
template&lt;class U&gt; bool owner_before(const weak_ptr&lt;U&gt;&amp; b) const;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.obs-18'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.obs-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9915'>#</a></div><p ><i>Returns:</i> An unspecified value such that</p><ul class='itemize'><li id='util.smartptr.shared.obs-18.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.shared.obs-18.1'>(18.1)</a></div><p ><span class='texttt'>x.owner_before(y)</span> defines a strict weak ordering as defined in <a href='alg.sorting'>[alg.sorting]</a>;</p></li><li id='util.smartptr.shared.obs-18.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.shared.obs-18.2'>(18.2)</a></div><p >under the equivalence relation defined by <span class='texttt'>owner_before</span>,
<span class='texttt'>!a.owner_before(b) &amp;&amp; !b.owner_before(a)</span>, two <span class='texttt'>shared_ptr</span> or
<span class='texttt'>weak_ptr</span> instances are equivalent if and only if they share ownership or
are both empty.
</p></li></ul></div></div></div><div id='util.smartptr.shared.create'><h4 ><a class='secnum' href='#util.smartptr.shared.create' style='min-width:133pt'>20.11.2.2.6</a> <span class='texttt'>shared_ptr</span> creation <a class='abbr_ref' href='util.smartptr.shared.create'>[util.smartptr.shared.create]</a></h4><p ><span class='indexparent'><a class='index' id='make_shared'></a></span><span class='indexparent'><a class='index' id='allocate_shared'></a></span><code class='itemdecl'>
template&lt;class T, class... Args&gt; shared_ptr&lt;T&gt; make_shared(Args&amp;&amp;... args);
template&lt;class T, class A, class... Args&gt;
  shared_ptr&lt;T&gt; allocate_shared(const A&amp; a, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.create-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.create-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9941'>#</a></div><p ><i>Requires:</i> The expression <span class='texttt'>::new (pv) T(std::forward&lt;Args&gt;(args)...)</span>,
where <span class='texttt'>pv</span> has type <span class='texttt'>void*</span> and points to storage suitable
to hold an object of type <span class='texttt'>T</span>, shall be well formed. <span class='texttt'>A</span> shall
be an allocator (<a href='allocator.requirements'>[allocator.requirements]</a>). The copy constructor
and destructor of <span class='texttt'>A</span> shall not throw exceptions.</p></div></div><div class='para' id='util.smartptr.shared.create-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.create-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9948'>#</a></div><p ><i>Effects:</i> Allocates memory suitable for an object of type <span class='texttt'>T</span>
and constructs an object in that memory via the placement
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
<span class='texttt'>::new (pv) T(std::forward&lt;Args&gt;(args)...)</span>.
The template <span class='texttt'>allocate_shared</span> uses a copy of <span class='texttt'>a</span> to
allocate memory. If an exception is thrown, the functions have no effect.</p></div></div><div class='para' id='util.smartptr.shared.create-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.create-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9956'>#</a></div><p ><i>Returns:</i> A <span class='texttt'>shared_ptr</span> instance that stores and owns
the address of the newly constructed object of type <span class='texttt'>T</span>.</p></div></div><div class='para' id='util.smartptr.shared.create-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.create-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9960'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>get() != 0 &amp;&amp; use_count() == 1</span>.</p></div></div><div class='para' id='util.smartptr.shared.create-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.create-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9963'>#</a></div><p ><i>Throws:</i> <span class='texttt'>bad_alloc</span>, or an exception thrown from
<span class='texttt'>A::allocate</span> or from the constructor of <span class='texttt'>T</span>.</p></div></div><div class='para' id='util.smartptr.shared.create-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.create-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9967'>#</a></div><p ><i>Remarks:</i> The <span class='texttt'>shared_ptr</span> constructor called by this function
enables <span class='texttt'>shared_from_this</span> with the address
of the newly constructed object of type <span class='texttt'>T</span>.
Implementations should
perform no more than one memory allocation. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This provides
efficiency equivalent to an intrusive smart pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='util.smartptr.shared.create-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.create-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9975'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> These functions will typically allocate more memory
than <span class='texttt'>sizeof(T)</span> to allow for internal bookkeeping structures such
as the reference counts. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='util.smartptr.shared.cmp'><h4 ><a class='secnum' href='#util.smartptr.shared.cmp' style='min-width:133pt'>20.11.2.2.7</a> <span class='texttt'>shared_ptr</span> comparison <a class='abbr_ref' href='util.smartptr.shared.cmp'>[util.smartptr.shared.cmp]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator=='></a></span><code class='itemdecl'>
template&lt;class T, class U&gt; bool operator==(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9989'>#</a></div><p ><i>Returns:</i> <span class='texttt'>a.get() == b.get()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator<'></a></span><code class='itemdecl'>
template&lt;class T, class U&gt; bool operator&lt;(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L9998'>#</a></div><p ><i>Returns:</i> <span class='texttt'>less&lt;V&gt;()(a.get(), b.get())</span>,
where <span class='texttt'>V</span> is the composite pointer type (Clause <a href='expr'>[expr]</a>)
of <span class='texttt'>shared_ptr&lt;T&gt;::element_type*</span> and <span class='texttt'>shared_ptr&lt;U&gt;::element_type*</span>.</p></div></div><div class='para' id='util.smartptr.shared.cmp-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10002'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Defining a comparison function allows <span class='texttt'>shared_ptr</span> objects to be
used as keys in associative containers.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><p ><span class='indexparent'><a class='index' id='operator==,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator=='></a></span><code class='itemdecl'>
template &lt;class T&gt;
  bool operator==(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
template &lt;class T&gt;
  bool operator==(nullptr_t, const shared_ptr&lt;T&gt;&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10018'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!a</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator!='></a></span><code class='itemdecl'>
template &lt;class T&gt;
  bool operator!=(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
template &lt;class T&gt;
  bool operator!=(nullptr_t, const shared_ptr&lt;T&gt;&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10031'>#</a></div><p ><i>Returns:</i> <span class='texttt'>(bool)a</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator<'></a></span><code class='itemdecl'>
template &lt;class T&gt;
  bool operator&lt;(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
template &lt;class T&gt;
  bool operator&lt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10044'>#</a></div><p ><i>Returns:</i>
The first function template returns
<span class='texttt'>less&lt;shared_ptr&lt;T&gt;::element_type*&gt;()(a.get(), nullptr)</span>.
The second function template returns
<span class='texttt'>less&lt;shared_ptr&lt;T&gt;::element_type*&gt;()(nullptr, a.get())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator>'></a></span><code class='itemdecl'>
template &lt;class T&gt;
  bool operator&gt;(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
template &lt;class T&gt;
  bool operator&gt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10061'>#</a></div><p ><i>Returns:</i>
The first function template returns <span class='texttt'>nullptr &lt; a</span>.
The second function template returns <span class='texttt'>a &lt; nullptr</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator<='></a></span><code class='itemdecl'>
template &lt;class T&gt;
  bool operator&lt;=(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
template &lt;class T&gt;
  bool operator&lt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-8'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10076'>#</a></div><p ><i>Returns:</i>
The first function template returns <span class='texttt'>!(nullptr &lt; a)</span>.
The second function template returns <span class='texttt'>!(a &lt; nullptr)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator>='></a></span><code class='itemdecl'>
template &lt;class T&gt;
  bool operator&gt;=(const shared_ptr&lt;T&gt;&amp; a, nullptr_t) noexcept;
template &lt;class T&gt;
  bool operator&gt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cmp-9'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cmp-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10091'>#</a></div><p ><i>Returns:</i>
The first function template returns <span class='texttt'>!(a &lt; nullptr)</span>.
The second function template returns <span class='texttt'>!(nullptr &lt; a)</span>.
</p></div></div></div><div id='util.smartptr.shared.spec'><h4 ><a class='secnum' href='#util.smartptr.shared.spec' style='min-width:133pt'>20.11.2.2.8</a> <span class='texttt'>shared_ptr</span> specialized algorithms <a class='abbr_ref' href='util.smartptr.shared.spec'>[util.smartptr.shared.spec]</a></h4><p ><span class='indexparent'><a class='index' id='swap,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,swap'></a></span><code class='itemdecl'>
template&lt;class T&gt; void swap(shared_ptr&lt;T&gt;&amp; a, shared_ptr&lt;T&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.spec-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10105'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>a.swap(b)</span>.
</p></div></div></div><div id='util.smartptr.shared.cast'><h4 ><a class='secnum' href='#util.smartptr.shared.cast' style='min-width:133pt'>20.11.2.2.9</a> <span class='texttt'>shared_ptr</span> casts <a class='abbr_ref' href='util.smartptr.shared.cast'>[util.smartptr.shared.cast]</a></h4><p ><span class='indexparent'><a class='index' id='static_pointer_cast,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,static_pointer_cast'></a></span><code class='itemdecl'>
template&lt;class T, class U&gt; shared_ptr&lt;T&gt; static_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10116'>#</a></div><p ><i>Requires:</i> The expression <span class='texttt'>static_cast&lt;T*&gt;((U*)0)</span> shall
be well formed.</p></div></div><div class='para' id='util.smartptr.shared.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10119'>#</a></div><p ><i>Returns:</i> <span class='texttt'>shared_ptr&lt;T&gt;(r, static_cast&lt;typename shared_ptr&lt;T&gt;::element_type*&gt;(r.get()))</span>.</p></div></div><div class='para' id='util.smartptr.shared.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10121'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The seemingly equivalent expression
<span class='texttt'>shared_ptr&lt;T&gt;(static_cast&lt;T*&gt;(r.get()))</span>
will eventually result in undefined behavior, attempting to delete the
same object twice. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='dynamic_pointer_cast,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,dynamic_pointer_cast'></a></span><code class='itemdecl'>
template&lt;class T, class U&gt; shared_ptr&lt;T&gt; dynamic_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10134'>#</a></div><p ><i>Requires:</i> The expression <span class='texttt'>dynamic_cast&lt;T*&gt;((U*)0)</span>
shall be well formed and shall have well defined behavior.</p></div></div><div class='para' id='util.smartptr.shared.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10137'>#</a></div><p ><i>Returns:</i>
</p><ul class='itemize'><li id='util.smartptr.shared.cast-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.shared.cast-5.1'>(5.1)</a></div><p >When <span class='texttt'>dynamic_cast&lt;typename shared_ptr&lt;T&gt;::element_type*&gt;(r.get())</span>
returns a nonzero value <span class='texttt'>p</span>, <span class='texttt'>shared_ptr&lt;T&gt;(r, p)</span>.</p></li><li id='util.smartptr.shared.cast-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.shared.cast-5.2'>(5.2)</a></div><p >Otherwise, <span class='texttt'>shared_ptr&lt;T&gt;()</span>.
</p></li></ul></div></div><div class='para' id='util.smartptr.shared.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10145'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>  The seemingly equivalent expression
<span class='texttt'>shared_ptr&lt;T&gt;(dynamic_cast&lt;T*&gt;(r.get()))</span> will eventually result in
undefined behavior, attempting to delete the same object twice. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='const_pointer_cast,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,const_pointer_cast'></a></span><code class='itemdecl'>
template&lt;class T, class U&gt; shared_ptr&lt;T&gt; const_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10156'>#</a></div><p ><i>Requires:</i> The expression <span class='texttt'>const_cast&lt;T*&gt;((U*)0)</span> shall
be well formed.</p></div></div><div class='para' id='util.smartptr.shared.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10159'>#</a></div><p ><i>Returns:</i> <span class='texttt'>shared_ptr&lt;T&gt;(r, const_cast&lt;typename shared_ptr&lt;T&gt;::element_type*&gt;(r.get()))</span>.</p></div></div><div class='para' id='util.smartptr.shared.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10161'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The seemingly equivalent expression
<span class='texttt'>shared_ptr&lt;T&gt;(const_cast&lt;T*&gt;(r.get()))</span> will eventually result in
undefined behavior, attempting to delete the same object twice. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='reinterpret_pointer_cast,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,reinterpret_pointer_cast'></a></span><code class='itemdecl'>
template&lt;class T, class U&gt;
  shared_ptr&lt;T&gt; reinterpret_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.cast-10'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10173'>#</a></div><p ><i>Requires:</i> The expression <span class='texttt'>reinterpret_cast&lt;T*&gt;((U*)0)</span>
shall be well formed.</p></div></div><div class='para' id='util.smartptr.shared.cast-11'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10176'>#</a></div><p ><i>Returns:</i>
</p><pre class='codeblock'>
shared_ptr&lt;T&gt;(r, reinterpret_cast&lt;typename shared_ptr&lt;T&gt;::element_type*&gt;(r.get()))</pre></div></div><div class='para' id='util.smartptr.shared.cast-12'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.cast-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10181'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The seemingly equivalent expression
<span class='texttt'>shared_ptr&lt;T&gt;(reinterpret_cast&lt;T*&gt;(r.get()))</span> will eventually result in
undefined behavior, attempting to delete the same object twice. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='util.smartptr.getdeleter'><h4 ><a class='secnum' href='#util.smartptr.getdeleter' style='min-width:133pt'>20.11.2.2.10</a> <span class='texttt'>get_deleter</span> <a class='abbr_ref' href='util.smartptr.getdeleter'>[util.smartptr.getdeleter]</a></h4><p ><span class='indexparent'><a class='index' id='get_deleter,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,get_deleter'></a></span><code class='itemdecl'>
template&lt;class D, class T&gt; D* get_deleter(const shared_ptr&lt;T&gt;&amp; p) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.getdeleter-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.getdeleter-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10194'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>p</span> owns a deleter <span class='texttt'>d</span> of type cv-unqualified
<span class='texttt'>D</span>, returns <span class='texttt'>addressof(d)</span>; otherwise returns <span class='texttt'>nullptr</span>.
The returned
pointer remains valid as long as there exists a <span class='texttt'>shared_ptr</span> instance
that owns <span class='texttt'>d</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> It is unspecified whether the pointer
remains valid longer than that. This can happen if the implementation doesn't destroy
the deleter until all <span class='texttt'>weak_ptr</span> instances that share ownership with
<span class='texttt'>p</span> have been destroyed. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='util.smartptr.shared.io'><h4 ><a class='secnum' href='#util.smartptr.shared.io' style='min-width:133pt'>20.11.2.2.11</a> <span class='texttt'>shared_ptr</span> I/O <a class='abbr_ref' href='util.smartptr.shared.io'>[util.smartptr.shared.io]</a></h4><p ><span class='indexparent'><a class='index' id='operator<<,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,operator<<'></a></span><code class='itemdecl'>
template&lt;class E, class T, class Y&gt;
  basic_ostream&lt;E, T&gt;&amp; operator&lt;&lt; (basic_ostream&lt;E, T&gt;&amp; os, const shared_ptr&lt;Y&gt;&amp; p);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.io-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.io-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10213'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>os &lt;&lt; p.get();</span></p></div></div><div class='para' id='util.smartptr.shared.io-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.io-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10215'>#</a></div><p ><i>Returns:</i> <span class='texttt'>os</span>.
</p></div></div></div></div><div id='util.smartptr.weak'><h4 ><a class='secnum' href='#util.smartptr.weak' style='min-width:118pt'>20.11.2.3</a> Class template <span class='texttt'>weak_ptr</span> <a class='abbr_ref' href='util.smartptr.weak'>[util.smartptr.weak]</a></h4><div class='para' id='util.smartptr.weak-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10220'>#</a></div><p ><span class='indexparent'><a class='index' id='weak_ptr'></a></span>The <span class='texttt'>weak_ptr</span> class template stores a weak reference to an object
that is already managed by a <span class='texttt'>shared_ptr</span>. To access the object, a
<span class='texttt'>weak_ptr</span> can be converted to a <span class='texttt'>shared_ptr</span> using the member
function <span class='texttt'>lock</span>.</p><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; class weak_ptr {
  public:
    using element_type = T;

    <span class='comment'>// <a href='util.smartptr.weak.const'>[util.smartptr.weak.const]</a>, constructors
</span>    constexpr weak_ptr() noexcept;
    template&lt;class Y&gt; weak_ptr(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
    weak_ptr(const weak_ptr&amp; r) noexcept;
    template&lt;class Y&gt; weak_ptr(const weak_ptr&lt;Y&gt;&amp; r) noexcept;
    weak_ptr(weak_ptr&amp;&amp; r) noexcept;
    template&lt;class Y&gt; weak_ptr(weak_ptr&lt;Y&gt;&amp;&amp; r) noexcept;

    <span class='comment'>// <a href='util.smartptr.weak.dest'>[util.smartptr.weak.dest]</a>, destructor
</span>    ~weak_ptr();

    <span class='comment'>// <a href='util.smartptr.weak.assign'>[util.smartptr.weak.assign]</a>, assignment
</span>    weak_ptr&amp; operator=(const weak_ptr&amp; r) noexcept;
    template&lt;class Y&gt; weak_ptr&amp; operator=(const weak_ptr&lt;Y&gt;&amp; r) noexcept;
    template&lt;class Y&gt; weak_ptr&amp; operator=(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
    weak_ptr&amp; operator=(weak_ptr&amp;&amp; r) noexcept;
    template&lt;class Y&gt; weak_ptr&amp; operator=(weak_ptr&lt;Y&gt;&amp;&amp; r) noexcept;

    <span class='comment'>// <a href='util.smartptr.weak.mod'>[util.smartptr.weak.mod]</a>, modifiers
</span>    void swap(weak_ptr&amp; r) noexcept;
    void reset() noexcept;

    <span class='comment'>// <a href='util.smartptr.weak.obs'>[util.smartptr.weak.obs]</a>, observers
</span>    long use_count() const noexcept;
    bool expired() const noexcept;
    shared_ptr&lt;T&gt; lock() const noexcept;
    template&lt;class U&gt; bool owner_before(const shared_ptr&lt;U&gt;&amp; b) const;
    template&lt;class U&gt; bool owner_before(const weak_ptr&lt;U&gt;&amp; b) const;
  };

  <span class='comment'>// <a href='util.smartptr.weak.spec'>[util.smartptr.weak.spec]</a>, specialized algorithms
</span>  template&lt;class T&gt; void swap(weak_ptr&lt;T&gt;&amp; a, weak_ptr&lt;T&gt;&amp; b) noexcept;
}</pre></div><div class='para' id='util.smartptr.weak-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10268'>#</a></div><p >Specializations of <span class='texttt'>weak_ptr</span> shall be <span class='texttt'>CopyConstructible</span> and
<span class='texttt'>CopyAssignable</span>, allowing their use in standard
containers.  The template parameter <span class='texttt'>T</span> of <span class='texttt'>weak_ptr</span> may be an
incomplete type.</p></div><div id='util.smartptr.weak.const'><h4 ><a class='secnum' href='#util.smartptr.weak.const' style='min-width:133pt'>20.11.2.3.1</a> <span class='texttt'>weak_ptr</span> constructors <a class='abbr_ref' href='util.smartptr.weak.const'>[util.smartptr.weak.const]</a></h4><p ><span class='indexparent'><a class='index' id='weak_ptr,constructor'></a></span><code class='itemdecl'>
constexpr weak_ptr() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.const-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10282'>#</a></div><p ><i>Effects:</i> Constructs an empty <span class='texttt'>weak_ptr</span> object.</p></div></div><div class='para' id='util.smartptr.weak.const-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10284'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>use_count() == 0</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='weak_ptr,constructor'></a></span><code class='itemdecl'>
weak_ptr(const weak_ptr&amp; r) noexcept;
template&lt;class Y&gt; weak_ptr(const weak_ptr&lt;Y&gt;&amp; r) noexcept;
template&lt;class Y&gt; weak_ptr(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.const-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10295'>#</a></div><p ><i>Remarks:</i> The second and third constructors shall not participate in
overload resolution unless <span class='texttt'>Y*</span> is compatible with <span class='texttt'>T*</span>.</p></div></div><div class='para' id='util.smartptr.weak.const-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10298'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>r</span> is empty, constructs
an empty <span class='texttt'>weak_ptr</span> object; otherwise, constructs
a <span class='texttt'>weak_ptr</span> object that shares ownership
with <span class='texttt'>r</span> and stores a copy of the pointer stored in <span class='texttt'>r</span>.</p></div></div><div class='para' id='util.smartptr.weak.const-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10303'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>use_count() == r.use_count()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='weak_ptr,constructor'></a></span><code class='itemdecl'>
weak_ptr(weak_ptr&amp;&amp; r) noexcept;
template&lt;class Y&gt; weak_ptr(weak_ptr&lt;Y&gt;&amp;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.const-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10313'>#</a></div><p ><i>Remarks:</i> The second constructor shall not participate in overload resolution unless
<span class='texttt'>Y*</span> is compatible with <span class='texttt'>T*</span>.</p></div></div><div class='para' id='util.smartptr.weak.const-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10316'>#</a></div><p ><i>Effects:</i> Move constructs a <span class='texttt'>weak_ptr</span> instance from <span class='texttt'>r</span>.</p></div></div><div class='para' id='util.smartptr.weak.const-8'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.const-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10318'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> shall contain the old value of <span class='texttt'>r</span>.
<span class='texttt'>r</span> shall be empty. <span class='texttt'>r.use_count() == 0</span>.
</p></div></div></div><div id='util.smartptr.weak.dest'><h4 ><a class='secnum' href='#util.smartptr.weak.dest' style='min-width:133pt'>20.11.2.3.2</a> <span class='texttt'>weak_ptr</span> destructor <a class='abbr_ref' href='util.smartptr.weak.dest'>[util.smartptr.weak.dest]</a></h4><p ><span class='indexparent'><a class='index' id='weak_ptr,destructor'></a></span><code class='itemdecl'>
~weak_ptr();
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.dest-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.dest-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10330'>#</a></div><p ><i>Effects:</i> Destroys this <span class='texttt'>weak_ptr</span> object but has no
effect on the object its stored pointer points to.
</p></div></div></div><div id='util.smartptr.weak.assign'><h4 ><a class='secnum' href='#util.smartptr.weak.assign' style='min-width:133pt'>20.11.2.3.3</a> <span class='texttt'>weak_ptr</span> assignment <a class='abbr_ref' href='util.smartptr.weak.assign'>[util.smartptr.weak.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,operator='></a></span><code class='itemdecl'>
weak_ptr&amp; operator=(const weak_ptr&amp; r) noexcept;
template&lt;class Y&gt; weak_ptr&amp; operator=(const weak_ptr&lt;Y&gt;&amp; r) noexcept;
template&lt;class Y&gt; weak_ptr&amp; operator=(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10344'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>weak_ptr(r).swap(*this)</span>.</p></div></div><div class='para' id='util.smartptr.weak.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10346'>#</a></div><p ><i>Remarks:</i> The implementation may meet the effects (and the
implied guarantees) via different means, without creating a temporary.</p></div></div><div class='para' id='util.smartptr.weak.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10349'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,operator='></a></span><code class='itemdecl'>
weak_ptr&amp; operator=(weak_ptr&amp;&amp; r) noexcept;
template&lt;class Y&gt; weak_ptr&amp; operator=(weak_ptr&lt;Y&gt;&amp;&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10359'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>weak_ptr(std::move(r)).swap(*this)</span>.</p></div></div><div class='para' id='util.smartptr.weak.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10361'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='util.smartptr.weak.mod'><h4 ><a class='secnum' href='#util.smartptr.weak.mod' style='min-width:133pt'>20.11.2.3.4</a> <span class='texttt'>weak_ptr</span> modifiers <a class='abbr_ref' href='util.smartptr.weak.mod'>[util.smartptr.weak.mod]</a></h4><p ><span class='indexparent'><a class='index' id='swap,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,swap'></a></span><code class='itemdecl'>
void swap(weak_ptr&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10371'>#</a></div><p ><i>Effects:</i> Exchanges the contents of <span class='texttt'>*this</span> and <span class='texttt'>r</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,reset'></a></span><code class='itemdecl'>
void reset() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.mod-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10380'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>weak_ptr().swap(*this)</span>.
</p></div></div></div><div id='util.smartptr.weak.obs'><h4 ><a class='secnum' href='#util.smartptr.weak.obs' style='min-width:133pt'>20.11.2.3.5</a> <span class='texttt'>weak_ptr</span> observers <a class='abbr_ref' href='util.smartptr.weak.obs'>[util.smartptr.weak.obs]</a></h4><p ><span class='indexparent'><a class='index' id='use_count,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,use_count'></a></span><code class='itemdecl'>
long use_count() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.obs-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.obs-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10390'>#</a></div><p ><i>Returns:</i> <span class='texttt'>0</span> if <span class='texttt'>*this</span> is empty;
otherwise, the number of <span class='texttt'>shared_ptr</span> instances
that share ownership with <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='expired,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,expired'></a></span><code class='itemdecl'>
bool expired() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.obs-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.obs-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10401'>#</a></div><p ><i>Returns:</i> <span class='texttt'>use_count() == 0</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lock,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,lock'></a></span><code class='itemdecl'>
shared_ptr&lt;T&gt; lock() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.obs-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.obs-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10410'>#</a></div><p ><i>Returns:</i> <span class='texttt'>expired() ? shared_ptr&lt;T&gt;() : shared_ptr&lt;T&gt;(*this)</span>, executed atomically.
</p></div></div><p ><span class='indexparent'><a class='index' id='owner_before,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,owner_before'></a></span><code class='itemdecl'>
template&lt;class U&gt; bool owner_before(const shared_ptr&lt;U&gt;&amp; b) const;
template&lt;class U&gt; bool owner_before(const weak_ptr&lt;U&gt;&amp; b) const;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.obs-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.obs-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10420'>#</a></div><p ><i>Returns:</i> An unspecified value such that</p><ul class='itemize'><li id='util.smartptr.weak.obs-4.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.weak.obs-4.1'>(4.1)</a></div><p ><span class='texttt'>x.owner_before(y)</span> defines a strict weak ordering as defined in <a href='alg.sorting'>[alg.sorting]</a>;</p></li><li id='util.smartptr.weak.obs-4.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#util.smartptr.weak.obs-4.2'>(4.2)</a></div><p >under the equivalence relation defined by <span class='texttt'>owner_before</span>,
<span class='texttt'>!a.owner_before(b) &amp;&amp; !b.owner_before(a)</span>, two <span class='texttt'>shared_ptr</span> or
<span class='texttt'>weak_ptr</span> instances are equivalent if and only if they share ownership or are
both empty.
</p></li></ul></div></div></div><div id='util.smartptr.weak.spec'><h4 ><a class='secnum' href='#util.smartptr.weak.spec' style='min-width:133pt'>20.11.2.3.6</a> <span class='texttt'>weak_ptr</span> specialized algorithms <a class='abbr_ref' href='util.smartptr.weak.spec'>[util.smartptr.weak.spec]</a></h4><p ><span class='indexparent'><a class='index' id='swap,weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_ptr,swap'></a></span><code class='itemdecl'>
template&lt;class T&gt; void swap(weak_ptr&lt;T&gt;&amp; a, weak_ptr&lt;T&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.weak.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.weak.spec-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10442'>#</a></div><p ><i>Effects:</i> Equivalent to <span class='texttt'>a.swap(b)</span>.
</p></div></div></div></div><div id='util.smartptr.ownerless'><h4 ><a class='secnum' href='#util.smartptr.ownerless' style='min-width:118pt'>20.11.2.4</a> Class template <span class='texttt'>owner_less</span> <a class='abbr_ref' href='util.smartptr.ownerless'>[util.smartptr.ownerless]</a></h4><div class='para' id='util.smartptr.ownerless-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.ownerless-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10447'>#</a></div><p >The class template <span class='texttt'>owner_less</span> allows ownership-based mixed comparisons of shared
and weak pointers.</p><p ><span class='indexparent'><a class='index' id='struct_owner_less'></a></span></p><pre class='codeblock'>
namespace std {
  template&lt;class T = void&gt; struct owner_less;

  template&lt;class T&gt; struct owner_less&lt;shared_ptr&lt;T&gt;&gt; {
    bool operator()(const shared_ptr&lt;T&gt;&amp;, const shared_ptr&lt;T&gt;&amp;) const;
    bool operator()(const shared_ptr&lt;T&gt;&amp;, const weak_ptr&lt;T&gt;&amp;) const;
    bool operator()(const weak_ptr&lt;T&gt;&amp;, const shared_ptr&lt;T&gt;&amp;) const;
  };

  template&lt;class T&gt; struct owner_less&lt;weak_ptr&lt;T&gt;&gt; {
    bool operator()(const weak_ptr&lt;T&gt;&amp;, const weak_ptr&lt;T&gt;&amp;) const;
    bool operator()(const shared_ptr&lt;T&gt;&amp;, const weak_ptr&lt;T&gt;&amp;) const;
    bool operator()(const weak_ptr&lt;T&gt;&amp;, const shared_ptr&lt;T&gt;&amp;) const;
  };

  template&lt;&gt; struct owner_less&lt;void&gt; {
    template&lt;class T, class U&gt;
      bool operator()(const shared_ptr&lt;T&gt;&amp;, const shared_ptr&lt;U&gt;&amp;) const;
    template&lt;class T, class U&gt;
      bool operator()(const shared_ptr&lt;T&gt;&amp;, const weak_ptr&lt;U&gt;&amp;) const;
    template&lt;class T, class U&gt;
      bool operator()(const weak_ptr&lt;T&gt;&amp;, const shared_ptr&lt;U&gt;&amp;) const;
    template&lt;class T, class U&gt;
      bool operator()(const weak_ptr&lt;T&gt;&amp;, const weak_ptr&lt;U&gt;&amp;) const;

    using is_transparent = <i><span class='texttt'>unspecified</span></i>;
  };
}</pre><p ><span class='indexparent'><a class='index' id='operator(),owner_less'></a></span><span class='indexparent'><a class='index' id='owner_less,operator()'></a></span></p></div><div class='para' id='util.smartptr.ownerless-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.ownerless-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10484'>#</a></div><p ><span class='texttt'>operator()(x, y)</span> shall return <span class='texttt'>x.owner_before(y)</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Note that</p><ul class='itemize'><li id='util.smartptr.ownerless-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#util.smartptr.ownerless-2.1'>(2.1)</a></div><p ><span class='texttt'>operator()</span> defines a strict weak ordering as defined in <a href='alg.sorting'>[alg.sorting]</a>;</p></li><li id='util.smartptr.ownerless-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#util.smartptr.ownerless-2.2'>(2.2)</a></div><p >under the equivalence relation defined by <span class='texttt'>operator()</span>,
<span class='texttt'>!operator()(a, b) &amp;&amp; !operator()(b, a)</span>, two <span class='texttt'>shared_ptr</span> or
<span class='texttt'>weak_ptr</span> instances are equivalent if and only if they share ownership or are
both empty.
</p></li></ul><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='util.smartptr.enab'><h4 ><a class='secnum' href='#util.smartptr.enab' style='min-width:118pt'>20.11.2.5</a> Class template <span class='texttt'>enable_shared_from_this</span> <a class='abbr_ref' href='util.smartptr.enab'>[util.smartptr.enab]</a></h4><div class='para' id='util.smartptr.enab-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10498'>#</a></div><p ><span class='indexparent'><a class='index' id='enable_shared_from_this'></a></span>A class <span class='texttt'>T</span> can inherit from <span class='texttt'>enable_shared_from_this&lt;T&gt;</span>
to inherit the <span class='texttt'>shared_from_this</span> member functions that obtain
a <span class='texttt'>shared_ptr</span> instance pointing to <span class='texttt'>*this</span>.</p></div><div class='para' id='util.smartptr.enab-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10504'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
struct X: public enable_shared_from_this&lt;X&gt; { };

int main() {
  shared_ptr&lt;X&gt; p(new X);
  shared_ptr&lt;X&gt; q = p-&gt;shared_from_this();
  assert(p == q);
  assert(!p.owner_before(q) &amp;&amp; !q.owner_before(p)); <span class='comment'>// p and q share ownership
</span>}</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; class enable_shared_from_this {
  protected:
    constexpr enable_shared_from_this() noexcept;
    enable_shared_from_this(const enable_shared_from_this&amp;) noexcept;
    enable_shared_from_this&amp; operator=(const enable_shared_from_this&amp;) noexcept;
    ~enable_shared_from_this();
  public:
    shared_ptr&lt;T&gt; shared_from_this();
    shared_ptr&lt;T const&gt; shared_from_this() const;
    weak_ptr&lt;T&gt; weak_from_this() noexcept;
    weak_ptr&lt;T const&gt; weak_from_this() const noexcept;
  private:
    mutable weak_ptr&lt;T&gt; weak_this; <span class='comment'>// <i>exposition only</i>
</span>  };
}</pre></div><div class='para' id='util.smartptr.enab-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10537'>#</a></div><p >The template parameter <span class='texttt'>T</span> of <span class='texttt'>enable_shared_from_this</span>
may be an incomplete type.</p><p ><span class='indexparent'><a class='index' id='enable_shared_from_this,constructor'></a></span><code class='itemdecl'>
constexpr enable_shared_from_this() noexcept;
enable_shared_from_this(const enable_shared_from_this&lt;T&gt;&amp;) noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='util.smartptr.enab-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10548'>#</a></div><p ><i>Effects:</i> Value-initializes <span class='texttt'>weak_this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,enable_shared_from_this'></a></span><span class='indexparent'><a class='index' id='enable_shared_from_this,operator='></a></span><code class='itemdecl'>
enable_shared_from_this&lt;T&gt;&amp; operator=(const enable_shared_from_this&lt;T&gt;&amp;) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.enab-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10557'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='util.smartptr.enab-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10559'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>weak_this</span> is not changed. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_from_this,enable_shared_from_this'></a></span><span class='indexparent'><a class='index' id='enable_shared_from_this,shared_from_this'></a></span><code class='itemdecl'>
shared_ptr&lt;T&gt;       shared_from_this();
shared_ptr&lt;T const&gt; shared_from_this() const;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.enab-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10570'>#</a></div><p ><i>Returns:</i> <span class='texttt'>shared_ptr&lt;T&gt;(weak_this)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='weak_ptr'></a></span><span class='indexparent'><a class='index' id='weak_from_this,enable_shared_from_this'></a></span><span class='indexparent'><a class='index' id='enable_shared_from_this,weak_from_this'></a></span><code class='itemdecl'>
weak_ptr&lt;T&gt;       weak_from_this() noexcept;
weak_ptr&lt;T const&gt; weak_from_this() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.enab-8'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.enab-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10581'>#</a></div><p ><i>Returns:</i> <span class='texttt'>weak_this</span>.
</p></div></div></div><div id='util.smartptr.shared.atomic'><h4 ><a class='secnum' href='#util.smartptr.shared.atomic' style='min-width:118pt'>20.11.2.6</a> <span class='texttt'>shared_ptr</span> atomic access <a class='abbr_ref' href='util.smartptr.shared.atomic'>[util.smartptr.shared.atomic]</a></h4><div class='para' id='util.smartptr.shared.atomic-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10586'>#</a></div><p >Concurrent access to a <span class='texttt'>shared_ptr</span> object from multiple threads does not
introduce a data race if the access is done exclusively via the functions in
this section and the instance is passed as their first argument.</p></div><div class='para' id='util.smartptr.shared.atomic-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10591'>#</a></div><p >The meaning of the arguments of type <span class='texttt'>memory_order</span> is explained in <a href='atomics.order'>[atomics.order]</a>.</p><p ><span class='indexparent'><a class='index' id='atomic_is_lock_free,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_is_lock_free'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  bool atomic_is_lock_free(const shared_ptr&lt;T&gt;* p);
</code></p></div><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-3'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10601'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-4'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10604'>#</a></div><p ><i>Returns:</i> <span class='texttt'>true</span> if atomic access to <span class='texttt'>*p</span> is lock-free, <span class='texttt'>false</span> otherwise.</p></div></div><div class='para' id='util.smartptr.shared.atomic-5'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10607'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_load,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_load'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  shared_ptr&lt;T&gt; atomic_load(const shared_ptr&lt;T&gt;* p);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-6'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10618'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-7'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10621'>#</a></div><p ><i>Returns:</i> <span class='texttt'>atomic_load_explicit(p, memory_order_seq_cst)</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-8'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10624'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_load_explicit,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_load_explicit'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  shared_ptr&lt;T&gt; atomic_load_explicit(const shared_ptr&lt;T&gt;* p, memory_order mo);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-9'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10635'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-10'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10638'>#</a></div><p ><i>Requires:</i> <span class='texttt'>mo</span> shall not be <span class='texttt'>memory_order_release</span> or <span class='texttt'>memory_order_acq_rel</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-11'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10641'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*p</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-12'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10644'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_store,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_store'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  void atomic_store(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-13'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10655'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-14'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10658'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>atomic_store_explicit(p, r, memory_order_seq_cst)</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-15'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10661'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_store_explicit,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_store_explicit'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  void atomic_store_explicit(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r, memory_order mo);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-16'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10672'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-17'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10675'>#</a></div><p ><i>Requires:</i> <span class='texttt'>mo</span> shall not be <span class='texttt'>memory_order_acquire</span> or <span class='texttt'>memory_order_acq_rel</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-18'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10678'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>p-&gt;swap(r)</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-19'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10681'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_exchange,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_exchange'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  shared_ptr&lt;T&gt; atomic_exchange(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-20'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10692'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-21'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10695'>#</a></div><p ><i>Returns:</i> <span class='texttt'>atomic_exchange_explicit(p, r, memory_order_seq_cst)</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-22'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10698'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_exchange_explicit,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_exchange_explicit'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  shared_ptr&lt;T&gt; atomic_exchange_explicit(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r, memory_order mo);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-23'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10709'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-24'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10712'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>p-&gt;swap(r)</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-25'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10715'>#</a></div><p ><i>Returns:</i> The previous value of <span class='texttt'>*p</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-26'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10718'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_compare_exchange_weak,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_compare_exchange_weak'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  bool atomic_compare_exchange_weak(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-27'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10729'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null and <span class='texttt'>v</span> shall not be null.</p></div></div><div class='para' id='util.smartptr.shared.atomic-28'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10732'>#</a></div><p ><i>Returns:</i>
</p><pre class='codeblock'>
atomic_compare_exchange_weak_explicit(p, v, w, memory_order_seq_cst, memory_order_seq_cst)</pre></div></div><div class='para' id='util.smartptr.shared.atomic-29'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10738'>#</a></div><p ><i>Throws:</i> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='atomic_compare_exchange_strong,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_compare_exchange_strong'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  bool atomic_compare_exchange_strong(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-30'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10749'>#</a></div><p ><i>Returns:</i>
</p><pre class='codeblock'>
atomic_compare_exchange_strong_explicit(p, v, w, memory_order_seq_cst, memory_order_seq_cst)</pre></div></div><p ><span class='indexparent'><a class='index' id='atomic_compare_exchange_weak_explicit,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_compare_exchange_weak_explicit'></a></span><span class='indexparent'><a class='index' id='atomic_compare_exchange_strong_explicit,shared_ptr'></a></span><span class='indexparent'><a class='index' id='shared_ptr,atomic_compare_exchange_strong_explicit'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  bool atomic_compare_exchange_weak_explicit(
    shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w,
    memory_order success, memory_order failure);
template&lt;class T&gt;
  bool atomic_compare_exchange_strong_explicit(
    shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w,
    memory_order success, memory_order failure);
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.shared.atomic-31'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10770'>#</a></div><p ><i>Requires:</i> <span class='texttt'>p</span> shall not be null and <span class='texttt'>v</span> shall not be null.
The <span class='texttt'>failure</span> argument shall not be <span class='texttt'>memory_order_release</span> nor
<span class='texttt'>memory_order_acq_rel</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-32'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10775'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>*p</span> is equivalent to <span class='texttt'>*v</span>, assigns <span class='texttt'>w</span> to
<span class='texttt'>*p</span> and has synchronization semantics corresponding to the value of
<span class='texttt'>success</span>, otherwise assigns <span class='texttt'>*p</span> to <span class='texttt'>*v</span> and has
synchronization semantics corresponding to the value of <span class='texttt'>failure</span>.</p></div></div><div class='para' id='util.smartptr.shared.atomic-33'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10781'>#</a></div><p ><i>Returns:</i> <span class='texttt'>true</span> if <span class='texttt'>*p</span> was equivalent to <span class='texttt'>*v</span>, <span class='texttt'>false</span> otherwise.</p></div></div><div class='para' id='util.smartptr.shared.atomic-34'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10784'>#</a></div><p ><i>Throws:</i> Nothing.</p></div></div><div class='para' id='util.smartptr.shared.atomic-35'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.shared.atomic-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10787'>#</a></div><p ><i>Remarks:</i> Two <span class='texttt'>shared_ptr</span> objects are equivalent if they store the same
pointer value and share ownership.
The weak form may fail spuriously. See <a href='atomics.types.operations'>[atomics.types.operations]</a>.
</p></div></div></div><div id='util.smartptr.hash'><h4 ><a class='secnum' href='#util.smartptr.hash' style='min-width:118pt'>20.11.2.7</a> Smart pointer hash support <a class='abbr_ref' href='util.smartptr.hash'>[util.smartptr.hash]</a></h4><p ><span class='indexparent'><a class='index' id='hash,unique_ptr'></a></span><code class='itemdecl'>
template &lt;class T, class D&gt; struct hash&lt;unique_ptr&lt;T, D&gt;&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.hash-1'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10801'>#</a></div><p >Letting <span class='texttt'>UP</span> be <span class='texttt'>unique_ptr&lt;T,D&gt;</span>,
the specialization <span class='texttt'>hash&lt;UP&gt;</span> is enabled (<a href='unord.hash'>[unord.hash]</a>)
if and only if <span class='texttt'>hash&lt;typename UP::pointer&gt;</span> is enabled.
When enabled, for an object <span class='texttt'>p</span> of type <span class='texttt'>UP</span>,
<span class='texttt'>hash&lt;UP&gt;()(p)</span> shall evaluate to
the same value as <span class='texttt'>hash&lt;typename UP::pointer&gt;()(p.get())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='hash,shared_ptr'></a></span><code class='itemdecl'>
template &lt;class T&gt; struct hash&lt;shared_ptr&lt;T&gt;&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='util.smartptr.hash-2'><div class='marginalizedparent'><a class='marginalized' href='#util.smartptr.hash-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10816'>#</a></div><p >For an object <span class='texttt'>p</span> of type <span class='texttt'>shared_ptr&lt;T&gt;</span>,
<span class='texttt'>hash&lt;shared_ptr&lt;T&gt;&gt;()(p)</span> shall evaluate to
the same value as <span class='texttt'>hash&lt;typename shared_ptr&lt;T&gt;::element_type*&gt;()(p.get())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='smart_pointers'></a></span></p></div></div></div><div id='mem.res'><h2 ><a class='secnum' href='#mem.res' style='min-width:88pt'>20.12</a> Memory resources <a class='abbr_ref' href='mem.res'>[mem.res]</a></h2><div id='mem.res.syn'><h3 ><a class='secnum' href='#mem.res.syn' style='min-width:103pt'>20.12.1</a> Header <span class='texttt'>&lt;memory_resource&gt;</span> synopsis <a class='abbr_ref' href='mem.res.syn'>[mem.res.syn]</a></h3><p ><span class='indexparent'><a class='index' id='memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource'></a></span></p><pre class='codeblock'>
namespace std::pmr {
  <span class='comment'>// <a href='mem.res.class'>[mem.res.class]</a>, class <span class='texttt'>memory_resource</span>
</span>  class memory_resource;

  bool operator==(const memory_resource&amp; a, const memory_resource&amp; b) noexcept;
  bool operator!=(const memory_resource&amp; a, const memory_resource&amp; b) noexcept;

  <span class='comment'>// <a href='mem.poly.allocator.class'>[mem.poly.allocator.class]</a>, class template <span class='texttt'>polymorphic_allocator</span>
</span>  template &lt;class Tp&gt; class polymorphic_allocator;

  template &lt;class T1, class T2&gt;
    bool operator==(const polymorphic_allocator&lt;T1&gt;&amp; a,
                    const polymorphic_allocator&lt;T2&gt;&amp; b) noexcept;
  template &lt;class T1, class T2&gt;
    bool operator!=(const polymorphic_allocator&lt;T1&gt;&amp; a,
                    const polymorphic_allocator&lt;T2&gt;&amp; b) noexcept;

  <span class='comment'>// <a href='mem.res.global'>[mem.res.global]</a>, global memory resources
</span>  memory_resource* new_delete_resource() noexcept;
  memory_resource* null_memory_resource() noexcept;
  memory_resource* set_default_resource(memory_resource* r) noexcept;
  memory_resource* get_default_resource() noexcept;

  <span class='comment'>// <a href='mem.res.pool'>[mem.res.pool]</a>, pool resource classes
</span>  struct pool_options;
  class synchronized_pool_resource;
  class unsynchronized_pool_resource;
  class monotonic_buffer_resource;
}</pre></div><div id='mem.res.class'><h3 ><a class='secnum' href='#mem.res.class' style='min-width:103pt'>20.12.2</a> Class <span class='texttt'>memory_resource</span> <a class='abbr_ref' href='mem.res.class'>[mem.res.class]</a></h3><div class='para' id='mem.res.class-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10863'>#</a></div><p >The <span class='texttt'>memory_resource</span> class is an abstract interface to an unbounded set of classes encapsulating memory resources.</p><p ><span class='indexparent'><a class='index' id='memory_resource'></a></span></p><pre class='codeblock'>
class memory_resource {
  static constexpr size_t max_align = alignof(max_align_t); <span class='comment'>// <i>exposition only</i>
</span>
public:
  virtual ~memory_resource();

  void* allocate(size_t bytes, size_t alignment = max_align);
  void deallocate(void* p, size_t bytes, size_t alignment = max_align);

  bool is_equal(const memory_resource&amp; other) const noexcept;

private:
  virtual void* do_allocate(size_t bytes, size_t alignment) = 0;
  virtual void do_deallocate(void* p, size_t bytes, size_t alignment) = 0;

  virtual bool do_is_equal(const memory_resource&amp; other) const noexcept = 0;
};</pre></div><div id='mem.res.public'><h4 ><a class='secnum' href='#mem.res.public' style='min-width:118pt'>20.12.2.1</a> <span class='texttt'>memory_resource</span> public member functions <a class='abbr_ref' href='mem.res.public'>[mem.res.public]</a></h4><p ><span class='indexparent'><a class='index' id='memory_resource,destructor'></a></span><code class='itemdecl'>
~memory_resource();
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.public-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.public-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10896'>#</a></div><p ><i>Effects:</i>
Destroys this <span class='texttt'>memory_resource</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='allocate,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,allocate'></a></span><code class='itemdecl'>
void* allocate(size_t bytes, size_t alignment = max_align);
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.public-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.public-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10907'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return do_allocate(bytes, alignment);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='deallocate,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,deallocate'></a></span><code class='itemdecl'>
void deallocate(void* p, size_t bytes, size_t alignment = max_align);
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.public-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.public-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10918'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>do_deallocate(p, bytes, alignment);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='is_equal,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,is_equal'></a></span><code class='itemdecl'>
bool is_equal(const memory_resource&amp; other) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.public-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.public-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10929'>#</a></div><p ><i>Effects:</i>
Equivalent to: <span class='texttt'>return do_is_equal(other);</span>
</p></div></div></div><div id='mem.res.private'><h4 ><a class='secnum' href='#mem.res.private' style='min-width:118pt'>20.12.2.2</a> <span class='texttt'>memory_resource</span> private virtual member functions <a class='abbr_ref' href='mem.res.private'>[mem.res.private]</a></h4><p ><span class='indexparent'><a class='index' id='do_allocate,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,do_allocate'></a></span><code class='itemdecl'>
virtual void* do_allocate(size_t bytes, size_t alignment) = 0;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.private-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.private-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10943'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>alignment</span> shall be a power of two.</p></div></div><div class='para' id='mem.res.private-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.private-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10947'>#</a></div><p ><i>Returns:</i>
A derived class shall implement this function to return a pointer to allocated storage (<a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>) with a size of at least <span class='texttt'>bytes</span>.
The returned storage is aligned to the specified alignment, if such alignment is supported (<a href='basic.align'>[basic.align]</a>);
otherwise it is aligned to <span class='texttt'>max_align</span>.</p></div></div><div class='para' id='mem.res.private-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.private-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10953'>#</a></div><p ><i>Throws:</i>
A derived class implementation shall throw an appropriate exception if it is unable to allocate memory with the requested size and alignment.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_deallocate,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,do_deallocate'></a></span><code class='itemdecl'>
virtual void do_deallocate(void* p, size_t bytes, size_t alignment) = 0;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.private-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.private-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10964'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>p</span> shall have been returned from a prior call to <span class='texttt'>allocate(bytes, alignment)</span> on a memory resource equal to <span class='texttt'>*this</span>,
and the storage at <span class='texttt'>p</span> shall not yet have been deallocated.</p></div></div><div class='para' id='mem.res.private-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.private-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10969'>#</a></div><p ><i>Effects:</i>
A derived class shall implement this function to dispose of allocated storage.</p></div></div><div class='para' id='mem.res.private-6'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.private-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10973'>#</a></div><p ><i>Throws:</i>
Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_is_equal,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,do_is_equal'></a></span><code class='itemdecl'>
virtual bool do_is_equal(const memory_resource&amp; other) const noexcept = 0;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.private-7'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.private-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L10984'>#</a></div><p ><i>Returns:</i>
A derived class shall implement this function to return <span class='texttt'>true</span> if memory allocated from <span class='texttt'>this</span> can be deallocated from <span class='texttt'>other</span> and vice-versa,
otherwise <span class='texttt'>false</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The most-derived type of <span class='texttt'>other</span> might not match the type of <span class='texttt'>this</span>.
For a derived class <span class='texttt'>D</span>, a typical implementation of this function
will immediately return <span class='texttt'>false</span>
if <span class='texttt'>dynamic_cast&lt;const D*&gt;(&amp;other) == nullptr</span>.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='mem.res.eq'><h4 ><a class='secnum' href='#mem.res.eq' style='min-width:118pt'>20.12.2.3</a> <span class='texttt'>memory_resource</span> equality <a class='abbr_ref' href='mem.res.eq'>[mem.res.eq]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,operator=='></a></span><code class='itemdecl'>
bool operator==(const memory_resource&amp; a, const memory_resource&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.eq-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.eq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11003'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>&amp;a == &amp;b || a.is_equal(b)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,memory_resource'></a></span><span class='indexparent'><a class='index' id='memory_resource,operator!='></a></span><code class='itemdecl'>
bool operator!=(const memory_resource&amp; a, const memory_resource&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.eq-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.eq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11014'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!(a == b)</span>.
</p></div></div></div></div><div id='mem.poly.allocator.class'><h3 ><a class='secnum' href='#mem.poly.allocator.class' style='min-width:103pt'>20.12.3</a> Class template <span class='texttt'>polymorphic_allocator</span> <a class='abbr_ref' href='mem.poly.allocator.class'>[mem.poly.allocator.class]</a></h3><div class='para' id='mem.poly.allocator.class-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11021'>#</a></div><p >A specialization of class template <span class='texttt'>pmr::polymorphic_allocator</span>
conforms to the <span class='texttt'>Allocator</span> requirements (<a href='allocator.requirements'>[allocator.requirements]</a>).
Constructed with different memory resources,
different instances of the same specialization of <span class='texttt'>pmr::polymorphic_allocator</span>
can exhibit entirely different allocation behavior.
This runtime polymorphism allows objects that use <span class='texttt'>polymorphic_allocator</span>
to behave as if they used different allocator types at run time
even though they use the same static allocator type.</p><p ><span class='indexparent'><a class='index' id='polymorphic_allocator'></a></span></p><pre class='codeblock'>
template &lt;class Tp&gt;
class polymorphic_allocator {
  memory_resource* memory_rsrc; <span class='comment'>// <i>exposition only</i>
</span>
public:
  using value_type = Tp;

  <span class='comment'>// <a href='mem.poly.allocator.ctor'>[mem.poly.allocator.ctor]</a>, constructors
</span>  polymorphic_allocator() noexcept;
  polymorphic_allocator(memory_resource* r);

  polymorphic_allocator(const polymorphic_allocator&amp; other) = default;

  template &lt;class U&gt;
    polymorphic_allocator(const polymorphic_allocator&lt;U&gt;&amp; other) noexcept;

  polymorphic_allocator&amp;
    operator=(const polymorphic_allocator&amp; rhs) = delete;

  <span class='comment'>// <a href='mem.poly.allocator.mem'>[mem.poly.allocator.mem]</a>, member functions
</span>  Tp* allocate(size_t n);
  void deallocate(Tp* p, size_t n);

  template &lt;class T, class... Args&gt;
  void construct(T* p, Args&amp;&amp;... args);

  template &lt;class T1, class T2, class... Args1, class... Args2&gt;
    void construct(pair&lt;T1,T2&gt;* p, piecewise_construct_t,
                   tuple&lt;Args1...&gt; x, tuple&lt;Args2...&gt; y);
  template &lt;class T1, class T2&gt;
    void construct(pair&lt;T1,T2&gt;* p);
  template &lt;class T1, class T2, class U, class V&gt;
    void construct(pair&lt;T1,T2&gt;* p, U&amp;&amp; x, V&amp;&amp; y);
  template &lt;class T1, class T2, class U, class V&gt;
    void construct(pair&lt;T1,T2&gt;* p, const pair&lt;U, V&gt;&amp; pr);
  template &lt;class T1, class T2, class U, class V&gt;
    void construct(pair&lt;T1,T2&gt;* p, pair&lt;U, V&gt;&amp;&amp; pr);

  template &lt;class T&gt;
    void destroy(T* p);

  polymorphic_allocator select_on_container_copy_construction() const;

  memory_resource* resource() const;
};</pre></div><div id='mem.poly.allocator.ctor'><h4 ><a class='secnum' href='#mem.poly.allocator.ctor' style='min-width:118pt'>20.12.3.1</a> <span class='texttt'>polymorphic_allocator</span> constructors <a class='abbr_ref' href='mem.poly.allocator.ctor'>[mem.poly.allocator.ctor]</a></h4><p ><span class='indexparent'><a class='index' id='polymorphic_allocator,constructor'></a></span><code class='itemdecl'>
polymorphic_allocator() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11089'>#</a></div><p ><i>Effects:</i>
Sets <span class='texttt'>memory_rsrc</span> to <span class='texttt'>get_default_resource()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='polymorphic_allocator,constructor'></a></span><code class='itemdecl'>
polymorphic_allocator(memory_resource* r);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11100'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>r</span> is non-null.</p></div></div><div class='para' id='mem.poly.allocator.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11104'>#</a></div><p ><i>Effects:</i>
Sets <span class='texttt'>memory_rsrc</span> to <span class='texttt'>r</span>.</p></div></div><div class='para' id='mem.poly.allocator.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11108'>#</a></div><p ><i>Throws:</i>
Nothing.</p></div></div><div class='para' id='mem.poly.allocator.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11112'>#</a></div><p ><i>Notes:</i>
This constructor provides an implicit conversion from <span class='texttt'>memory_resource*</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='polymorphic_allocator,constructor'></a></span><code class='itemdecl'>
template &lt;class U&gt;
  polymorphic_allocator(const polymorphic_allocator&lt;U&gt;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11124'>#</a></div><p ><i>Effects:</i>
Sets <span class='texttt'>memory_rsrc</span> to <span class='texttt'>other.resource()</span>.
</p></div></div></div><div id='mem.poly.allocator.mem'><h4 ><a class='secnum' href='#mem.poly.allocator.mem' style='min-width:118pt'>20.12.3.2</a> <span class='texttt'>polymorphic_allocator</span> member functions <a class='abbr_ref' href='mem.poly.allocator.mem'>[mem.poly.allocator.mem]</a></h4><p ><span class='indexparent'><a class='index' id='allocate,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,allocate'></a></span><code class='itemdecl'>
Tp* allocate(size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11138'>#</a></div><p ><i>Returns:</i>
Equivalent to
</p><pre class='codeblock'>
return static_cast&lt;Tp*&gt;(memory_rsrc-&gt;allocate(n * sizeof(Tp), alignof(Tp)));</pre></div></div><p ><span class='indexparent'><a class='index' id='deallocate,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,deallocate'></a></span><code class='itemdecl'>
void deallocate(Tp* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11152'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>p</span> was allocated from a memory resource <span class='texttt'>x</span>,
equal to <span class='texttt'>*memory_rsrc</span>,
using <span class='texttt'>x.allocate(n * sizeof(Tp), alignof(Tp))</span>.</p></div></div><div class='para' id='mem.poly.allocator.mem-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11158'>#</a></div><p ><i>Effects:</i>
Equivalent to <span class='texttt'>memory_rsrc-&gt;deallocate(p, n * sizeof(Tp), alignof(Tp))</span>.</p></div></div><div class='para' id='mem.poly.allocator.mem-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11162'>#</a></div><p ><i>Throws:</i>
Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='construct,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,construct'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  void construct(T* p, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11174'>#</a></div><p ><i>Requires:</i>
Uses-allocator construction of <span class='texttt'>T</span>
with allocator <span class='texttt'>resource()</span> (see <a href='allocator.uses.construction'>[allocator.uses.construction]</a>)
and constructor arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span> is well-formed.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Uses-allocator construction is always well formed
for types that do not use allocators.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='mem.poly.allocator.mem-6'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11183'>#</a></div><p ><i>Effects:</i>
Construct a <span class='texttt'>T</span> object in the storage
whose address is represented by <span class='texttt'>p</span>
by uses-allocator construction with allocator <span class='texttt'>resource()</span>
and constructor arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='mem.poly.allocator.mem-7'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11190'>#</a></div><p ><i>Throws:</i>
Nothing unless the constructor for <span class='texttt'>T</span> throws.
</p></div></div><p ><span class='indexparent'><a class='index' id='construct,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class... Args1, class... Args2&gt;
  void construct(pair&lt;T1,T2&gt;* p, piecewise_construct_t,
                 tuple&lt;Args1...&gt; x, tuple&lt;Args2...&gt; y);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-8'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11203'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
This method and the <span class='texttt'>construct</span> methods that follow
are overloads for piecewise construction of pairs (<a href='pairs.pair'>[pairs.pair]</a>).
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='mem.poly.allocator.mem-9'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11209'>#</a></div><p ><i>Effects:</i>
Let <span class='texttt'>xprime</span> be a <span class='texttt'>tuple</span> constructed from <span class='texttt'>x</span>
according to the appropriate rule from the following list.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The following description can be summarized as
constructing a <span class='texttt'>pair&lt;T1, T2&gt;</span> object
in the storage whose address is represented by <span class='texttt'>p</span>,
as if by separate uses-allocator construction
with allocator <span class='texttt'>resource()</span> (<a href='allocator.uses.construction'>[allocator.uses.construction]</a>)
of <span class='texttt'>p-&gt;first</span> using the elements of <span class='texttt'>x</span>
and <span class='texttt'>p-&gt;second</span> using the elements of <span class='texttt'>y</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p><ul class='itemize'><li id='mem.poly.allocator.mem-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.1'>(9.1)</a></div><p >If <span class='texttt'>uses_allocator_v&lt;T1,memory_resource*&gt;</span> is <span class='texttt'>false</span>
<br/>
and
<span class='texttt'>is_constructible_v&lt;T1,Args1...&gt;</span> is <span class='texttt'>true</span>,
<br/>
then <span class='texttt'>xprime</span> is <span class='texttt'>x</span>.
</p></li><li id='mem.poly.allocator.mem-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.2'>(9.2)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T1,memory_resource*&gt;</span> is <span class='texttt'>true</span>
<br/>
and
<span class='texttt'>is_constructible_v&lt;T1,allocator_arg_t,memory_resource*,Args1...&gt;</span> is <span class='texttt'>true</span>,
<br/>
then <span class='texttt'>xprime</span> is <span class='texttt'>tuple_cat(make_tuple(allocator_arg, resource()), std::move(x))</span>.
</p></li><li id='mem.poly.allocator.mem-9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.3'>(9.3)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T1,memory_resource*&gt;</span> is <span class='texttt'>true</span>
<br/>
and
<span class='texttt'>is_constructible_v&lt;T1,Args1...,memory_resource*&gt;</span> is <span class='texttt'>true</span>,
<br/>
then <span class='texttt'>xprime</span> is <span class='texttt'>tuple_cat(std::move(x), make_tuple(resource()))</span>.
</p></li><li id='mem.poly.allocator.mem-9.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.4'>(9.4)</a></div><p >Otherwise the program is ill formed.
</p></li></ul><p >Let <span class='texttt'>yprime</span> be a tuple constructed from <span class='texttt'>y</span>
according to the appropriate rule from the following list:
</p><ul class='itemize'><li id='mem.poly.allocator.mem-9.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.5'>(9.5)</a></div><p >If <span class='texttt'>uses_allocator_v&lt;T2,memory_resource*&gt;</span> is <span class='texttt'>false</span>
<br/>
and
<span class='texttt'>is_constructible_v&lt;T2,Args2...&gt;</span> is <span class='texttt'>true</span>,
<br/>
then <span class='texttt'>yprime</span> is <span class='texttt'>y</span>.
</p></li><li id='mem.poly.allocator.mem-9.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.6'>(9.6)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T2,memory_resource*&gt;</span> is <span class='texttt'>true</span>
<br/>
and
<span class='texttt'>is_constructible_v&lt;T2,allocator_arg_t,memory_resource*,Args2...&gt;</span> is <span class='texttt'>true</span>,
<br/>
then <span class='texttt'>yprime</span> is <span class='texttt'>tuple_cat(make_tuple(allocator_arg, resource()), std::move(y))</span>.
</p></li><li id='mem.poly.allocator.mem-9.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.7'>(9.7)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T2,memory_resource*&gt;</span> is <span class='texttt'>true</span>
<br/>
and
<span class='texttt'>is_constructible_v&lt;T2,Args2...,memory_resource*&gt;</span> is <span class='texttt'>true</span>,
<br/>
then
<span class='texttt'>yprime</span> is <span class='texttt'>tuple_cat(std::move(y), make_tuple(resource()))</span>.
</p></li><li id='mem.poly.allocator.mem-9.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#mem.poly.allocator.mem-9.8'>(9.8)</a></div><p >Otherwise the program is ill formed.
</p></li></ul><p >Then, using <span class='texttt'>piecewise_construct</span>, <span class='texttt'>xprime</span>, and <span class='texttt'>yprime</span>
as the constructor arguments,
this function constructs a <span class='texttt'>pair&lt;T1, T2&gt;</span> object
in the storage whose address is represented by <span class='texttt'>p</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='construct,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  void construct(pair&lt;T1,T2&gt;* p);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-10'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11289'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct, tuple&lt;&gt;(), tuple&lt;&gt;());</pre></div></div><p ><span class='indexparent'><a class='index' id='construct,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1,T2&gt;* p, U&amp;&amp; x, V&amp;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-11'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11304'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(std::forward&lt;U&gt;(x)),
          forward_as_tuple(std::forward&lt;V&gt;(y)));</pre></div></div><p ><span class='indexparent'><a class='index' id='construct,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1,T2&gt;* p, const pair&lt;U, V&gt;&amp; pr);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-12'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11321'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(pr.first),
          forward_as_tuple(pr.second));</pre></div></div><p ><span class='indexparent'><a class='index' id='construct,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1,T2&gt;* p, pair&lt;U, V&gt;&amp;&amp; pr);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-13'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11338'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(std::forward&lt;U&gt;(pr.first)),
          forward_as_tuple(std::forward&lt;V&gt;(pr.second)));</pre></div></div><p ><span class='indexparent'><a class='index' id='destroy,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,destroy'></a></span><code class='itemdecl'>
template &lt;class T&gt;
  void destroy(T* p);
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-14'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11355'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>p-&gt;~T()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='select_on_container_copy_construction,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,select_on_container_copy_construction'></a></span><code class='itemdecl'>
polymorphic_allocator select_on_container_copy_construction() const;
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-15'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11366'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>polymorphic_allocator()</span>.</p></div></div><div class='para' id='mem.poly.allocator.mem-16'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11370'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The memory resource is not propagated.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='resource,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,resource'></a></span><code class='itemdecl'>
memory_resource* resource() const;
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.mem-17'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.mem-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11382'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>memory_rsrc</span>.
</p></div></div></div><div id='mem.poly.allocator.eq'><h4 ><a class='secnum' href='#mem.poly.allocator.eq' style='min-width:118pt'>20.12.3.3</a> <span class='texttt'>polymorphic_allocator</span> equality <a class='abbr_ref' href='mem.poly.allocator.eq'>[mem.poly.allocator.eq]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,operator=='></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  bool operator==(const polymorphic_allocator&lt;T1&gt;&amp; a,
                  const polymorphic_allocator&lt;T2&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.eq-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.eq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11397'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*a.resource() == *b.resource()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,polymorphic_allocator'></a></span><span class='indexparent'><a class='index' id='polymorphic_allocator,operator!='></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  bool operator!=(const polymorphic_allocator&lt;T1&gt;&amp; a,
                  const polymorphic_allocator&lt;T2&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.poly.allocator.eq-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.poly.allocator.eq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11410'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>!(a == b)</span>.
</p></div></div></div></div><div id='mem.res.global'><h3 ><a class='secnum' href='#mem.res.global' style='min-width:103pt'>20.12.4</a> Access to program-wide <span class='texttt'>memory_resource</span> objects <a class='abbr_ref' href='mem.res.global'>[mem.res.global]</a></h3><p ><span class='indexparent'><a class='index' id='new_delete_resource'></a></span><code class='itemdecl'>
memory_resource* new_delete_resource() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.global-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11424'>#</a></div><p ><i>Returns:</i>
A pointer to a static-duration object of a type derived from <span class='texttt'>memory_resource</span>
that can serve as a resource for allocating memory
using <span class='texttt'>::operator new</span> and <span class='texttt'>::operator delete</span>.
The same value is returned every time this function is called.
For a return value <span class='texttt'>p</span> and a memory resource <span class='texttt'>r</span>,
<span class='texttt'>p-&gt;is_equal(r)</span> returns <span class='texttt'>&amp;r == p</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='null_memory_resource'></a></span><code class='itemdecl'>
memory_resource* null_memory_resource() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.global-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11440'>#</a></div><p ><i>Returns:</i>
A pointer to a static-duration object of a type derived from <span class='texttt'>memory_resource</span>
for which <span class='texttt'>allocate()</span> always throws <span class='texttt'>bad_alloc</span> and
for which <span class='texttt'>deallocate()</span> has no effect.
The same value is returned every time this function is called.
For a return value <span class='texttt'>p</span> and a memory resource <span class='texttt'>r</span>,
<span class='texttt'>p-&gt;is_equal(r)</span> returns <span class='texttt'>&amp;r == p</span>.
</p></div></div><div class='para' id='mem.res.global-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11450'>#</a></div><p >The <a class='hidden_link' href='#def:default_memory_resource_pointer' id='def:default_memory_resource_pointer'><i>default memory resource pointer</i></a> is a pointer to a memory resource
that is used by certain facilities when an explicit memory resource
is not supplied through the interface.
Its initial value is the return value of <span class='texttt'>new_delete_resource()</span>.</p><p ><span class='indexparent'><a class='index' id='set_default_resource'></a></span><code class='itemdecl'>
memory_resource* set_default_resource(memory_resource* r) noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='mem.res.global-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11462'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>r</span> is non-null,
sets the value of the default memory resource pointer to <span class='texttt'>r</span>,
otherwise sets the default memory resource pointer to <span class='texttt'>new_delete_resource()</span>.</p></div></div><div class='para' id='mem.res.global-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11468'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>get_default_resource() == r</span>.</p></div></div><div class='para' id='mem.res.global-6'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11472'>#</a></div><p ><i>Returns:</i>
The previous value of the default memory resource pointer.</p></div></div><div class='para' id='mem.res.global-7'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11476'>#</a></div><p ><i>Remarks:</i>
Calling the <span class='texttt'>set_default_resource</span> and
<span class='texttt'>get_default_resource</span> functions shall not incur a data race.
A call to the <span class='texttt'>set_default_resource</span> function
shall synchronize with subsequent calls to
the <span class='texttt'>set_default_resource</span> and <span class='texttt'>get_default_resource</span> functions.
</p></div></div><p ><span class='indexparent'><a class='index' id='get_default_resource'></a></span><code class='itemdecl'>
memory_resource* get_default_resource() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.global-8'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.global-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11491'>#</a></div><p ><i>Returns:</i>
The current value of the default memory resource pointer.
</p></div></div></div><div id='mem.res.pool'><h3 ><a class='secnum' href='#mem.res.pool' style='min-width:103pt'>20.12.5</a> Pool resource classes <a class='abbr_ref' href='mem.res.pool'>[mem.res.pool]</a></h3><div id='mem.res.pool.overview'><h4 ><a class='secnum' href='#mem.res.pool.overview' style='min-width:118pt'>20.12.5.1</a> Classes <span class='texttt'>synchronized_pool_resource</span> and <span class='texttt'>unsynchronized_pool_resource</span> <a class='abbr_ref' href='mem.res.pool.overview'>[mem.res.pool.overview]</a></h4><div class='para' id='mem.res.pool.overview-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11500'>#</a></div><p >The <span class='texttt'>synchronized_pool_resource</span> and
<span class='texttt'>unsynchronized_pool_resource</span> classes
(collectively called <a class='hidden_link' href='#def:pool_resource_classes' id='def:pool_resource_classes'><i>pool resource classes</i></a>)
are general-purpose memory resources having the following qualities:
</p><ul class='itemize'><li id='mem.res.pool.overview-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.pool.overview-1.1'>(1.1)</a></div><p >Each resource frees its allocated memory on destruction,
even if <span class='texttt'>deallocate</span> has not been called for some of the allocated blocks.
</p></li><li id='mem.res.pool.overview-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.pool.overview-1.2'>(1.2)</a></div><p >A pool resource consists of a collection of <a class='hidden_link' href='#def:pools' id='def:pools'><i>pools</i></a>,
serving requests for different block sizes.
Each individual pool manages a collection of <a class='hidden_link' href='#def:chunks' id='def:chunks'><i>chunks</i></a>
that are in turn divided into blocks of uniform size,
returned via calls to <span class='texttt'>do_allocate</span>.
Each call to <span class='texttt'>do_allocate(size, alignment)</span> is dispatched
to the pool serving the smallest blocks accommodating at least <span class='texttt'>size</span> bytes.
</p></li><li id='mem.res.pool.overview-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.pool.overview-1.3'>(1.3)</a></div><p >When a particular pool is exhausted,
allocating a block from that pool results in the allocation
of an additional chunk of memory from the <a class='hidden_link' href='#def:upstream_allocator' id='def:upstream_allocator'><i>upstream allocator</i></a>
(supplied at construction), thus replenishing the pool.
With each successive replenishment,
the chunk size obtained increases geometrically.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
By allocating memory in chunks,
the pooling strategy increases the chance that consecutive allocations
will be close together in memory.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></li><li id='mem.res.pool.overview-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.pool.overview-1.4'>(1.4)</a></div><p >Allocation requests that exceed the largest block size of any pool
are fulfilled directly from the upstream allocator.
</p></li><li id='mem.res.pool.overview-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.pool.overview-1.5'>(1.5)</a></div><p >A <span class='texttt'>pool_options</span> struct may be passed to the pool resource constructors
to tune the largest block size and the maximum chunk size.
</p></li></ul></div><div class='para' id='mem.res.pool.overview-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.overview-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11536'>#</a></div><p >A <span class='texttt'>synchronized_pool_resource</span> may be accessed from multiple threads
without external synchronization
and may have thread-specific pools to reduce synchronization costs.
An <span class='texttt'>unsynchronized_pool_resource</span> class may not be accessed
from multiple threads simultaneously
and thus avoids the cost of synchronization entirely
in single-threaded applications.</p><p ><span class='indexparent'><a class='index' id='pool_options'></a></span><span class='indexparent'><a class='index' id='synchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource'></a></span></p><pre class='codeblock'>
struct pool_options {
  size_t max_blocks_per_chunk = 0;
  size_t largest_required_pool_block = 0;
};

class synchronized_pool_resource : public memory_resource {
public:
  synchronized_pool_resource(const pool_options&amp; opts,
                             memory_resource* upstream);

  synchronized_pool_resource()
      : synchronized_pool_resource(pool_options(), get_default_resource()) {}
  explicit synchronized_pool_resource(memory_resource* upstream)
      : synchronized_pool_resource(pool_options(), upstream) {}
  explicit synchronized_pool_resource(const pool_options&amp; opts)
      : synchronized_pool_resource(opts, get_default_resource()) {}

  synchronized_pool_resource(const synchronized_pool_resource&amp;) = delete;
  virtual ~synchronized_pool_resource();

  synchronized_pool_resource&amp;
    operator=(const synchronized_pool_resource&amp;) = delete;

  void release();
  memory_resource* upstream_resource() const;
  pool_options options() const;

protected:
  void *do_allocate(size_t bytes, size_t alignment) override;
  void do_deallocate(void *p, size_t bytes, size_t alignment) override;

  bool do_is_equal(const memory_resource&amp; other) const noexcept override;
};

class unsynchronized_pool_resource : public memory_resource {
public:
  unsynchronized_pool_resource(const pool_options&amp; opts,
                               memory_resource* upstream);

  unsynchronized_pool_resource()
      : unsynchronized_pool_resource(pool_options(), get_default_resource()) {}
  explicit unsynchronized_pool_resource(memory_resource* upstream)
      : unsynchronized_pool_resource(pool_options(), upstream) {}
  explicit unsynchronized_pool_resource(const pool_options&amp; opts)
      : unsynchronized_pool_resource(opts, get_default_resource()) {}

  unsynchronized_pool_resource(const unsynchronized_pool_resource&amp;) = delete;
  virtual ~unsynchronized_pool_resource();

  unsynchronized_pool_resource&amp;
    operator=(const unsynchronized_pool_resource&amp;) = delete;

  void release();
  memory_resource *upstream_resource() const;
  pool_options options() const;

protected:
  void* do_allocate(size_t bytes, size_t alignment) override;
  void do_deallocate(void* p, size_t bytes, size_t alignment) override;

  bool do_is_equal(const memory_resource&amp; other) const noexcept override;
};</pre></div></div><div id='mem.res.pool.options'><h4 ><a class='secnum' href='#mem.res.pool.options' style='min-width:118pt'>20.12.5.2</a> <span class='texttt'>pool_options</span> data members <a class='abbr_ref' href='mem.res.pool.options'>[mem.res.pool.options]</a></h4><div class='para' id='mem.res.pool.options-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.options-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11615'>#</a></div><p >The members of <span class='texttt'>pool_options</span>
comprise a set of constructor options for pool resources.
The effect of each option on the pool resource behavior is described below:</p><p ><span class='indexparent'><a class='index' id='pool_options,max_blocks_per_chunk'></a></span><code class='itemdecl'>
size_t max_blocks_per_chunk;
</code></p></div><div class='itemdescr'></div><div class='para' id='mem.res.pool.options-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.options-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11626'>#</a></div><p >The maximum number of blocks that will be allocated at once
from the upstream memory resource (<a href='mem.res.monotonic.buffer'>[mem.res.monotonic.buffer]</a>)
to replenish a pool.
If the value of <span class='texttt'>max_blocks_per_chunk</span> is zero or
is greater than an <span class='indexparent'><a class='index' id='largest_supported_value_to_configure_the_maximum_number_of_blocks_to_replenish_a_pool'></a></span>implementation-defined
limit, that limit is used instead.
The implementation
may choose to use a smaller value than is specified in this field and
may use different values for different pools.
</p></div></div><p ><span class='indexparent'><a class='index' id='pool_options,largest_required_pool_block'></a></span><code class='itemdecl'>
size_t largest_required_pool_block;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.options-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.options-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11644'>#</a></div><p >The largest allocation size that is required to be fulfilled
using the pooling mechanism.
Attempts to allocate a single block larger than this threshold
will be allocated directly from the upstream memory resource.
If <span class='texttt'>largest_required_pool_block</span> is zero or
is greater than an <span class='indexparent'><a class='index' id='largest_supported_value_to_configure_the_largest_allocation_satisfied_directly_by_a_pool'></a></span>implementation-defined
limit, that limit is used instead.
The implementation may choose a pass-through threshold
larger than specified in this field.
</p></div></div></div><div id='mem.res.pool.ctor'><h4 ><a class='secnum' href='#mem.res.pool.ctor' style='min-width:118pt'>20.12.5.3</a> Pool resource constructors and destructors <a class='abbr_ref' href='mem.res.pool.ctor'>[mem.res.pool.ctor]</a></h4><p ><span class='indexparent'><a class='index' id='synchronized_pool_resource,constructor'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,constructor'></a></span><code class='itemdecl'>
synchronized_pool_resource(const pool_options&amp; opts, memory_resource* upstream);
unsynchronized_pool_resource(const pool_options&amp; opts, memory_resource* upstream);
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11666'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>upstream</span> is the address of a valid memory resource.</p></div></div><div class='para' id='mem.res.pool.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11670'>#</a></div><p ><i>Effects:</i>
Constructs a pool resource object that will obtain memory from <span class='texttt'>upstream</span>
whenever the pool resource is unable to satisfy a memory request
from its own internal data structures.
The resulting object will hold a copy of <span class='texttt'>upstream</span>,
but will not own the resource to which <span class='texttt'>upstream</span> points.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The intention is that calls to <span class='texttt'>upstream-&gt;allocate()</span>
will be substantially fewer than calls to <span class='texttt'>this-&gt;allocate()</span>
in most cases.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
The behavior of the pooling mechanism is tuned
according to the value of the <span class='texttt'>opts</span> argument.</p></div></div><div class='para' id='mem.res.pool.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11684'>#</a></div><p ><i>Throws:</i>
Nothing unless <span class='texttt'>upstream-&gt;allocate()</span> throws.
It is unspecified if, or under what conditions,
this constructor calls <span class='texttt'>upstream-&gt;allocate()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='synchronized_pool_resource,destructor'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,destructor'></a></span><code class='itemdecl'>
virtual ~synchronized_pool_resource();
virtual ~unsynchronized_pool_resource();
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11699'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>release()</span>.
</p></div></div></div><div id='mem.res.pool.mem'><h4 ><a class='secnum' href='#mem.res.pool.mem' style='min-width:118pt'>20.12.5.4</a> Pool resource members <a class='abbr_ref' href='mem.res.pool.mem'>[mem.res.pool.mem]</a></h4><p ><span class='indexparent'><a class='index' id='release,synchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='synchronized_pool_resource,release'></a></span><span class='indexparent'><a class='index' id='release,unsynchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,release'></a></span><code class='itemdecl'>
void release();
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.mem-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11713'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>upstream_resource()-&gt;deallocate()</span> as necessary
to release all allocated memory.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The memory is released back to <span class='texttt'>upstream_resource()</span>
even if <span class='texttt'>deallocate</span> has not been called
for some of the allocated blocks.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='upstream_resource,synchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='synchronized_pool_resource,upstream_resource'></a></span><span class='indexparent'><a class='index' id='upstream_resource,unsynchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,upstream_resource'></a></span><code class='itemdecl'>
memory_resource* upstream_resource() const;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.mem-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11730'>#</a></div><p ><i>Returns:</i>
The value of the <span class='texttt'>upstream</span> argument
provided to the constructor of this object.
</p></div></div><p ><span class='indexparent'><a class='index' id='options,synchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='synchronized_pool_resource,options'></a></span><span class='indexparent'><a class='index' id='options,unsynchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,options'></a></span><code class='itemdecl'>
pool_options options() const;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.mem-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11743'>#</a></div><p ><i>Returns:</i>
The options that control the pooling behavior of this resource.
The values in the returned struct may differ
from those supplied to the pool resource constructor in that
values of zero will be replaced with <span class='indexparent'><a class='index' id='default_configuration_of_a_pool'></a></span>implementation-defined
defaults, and sizes may be rounded to unspecified granularity.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_allocate,synchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='synchronized_pool_resource,do_allocate'></a></span><span class='indexparent'><a class='index' id='do_allocate,unsynchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,do_allocate'></a></span><code class='itemdecl'>
void* do_allocate(size_t bytes, size_t alignment) override;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.mem-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11759'>#</a></div><p ><i>Returns:</i>
A pointer to allocated storage (<a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>)
with a size of at least <span class='texttt'>bytes</span>.
The size and alignment of the allocated memory shall meet the requirements
for a class derived from <span class='texttt'>memory_resource</span> (<a href='mem.res'>[mem.res]</a>).</p></div></div><div class='para' id='mem.res.pool.mem-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11766'>#</a></div><p ><i>Effects:</i>
If the pool selected for a block of size <span class='texttt'>bytes</span>
is unable to satisfy the memory request from its own internal data structures,
it will call <span class='texttt'>upstream_resource()-&gt;allocate()</span> to obtain more memory.
If <span class='texttt'>bytes</span> is larger than that which the largest pool can handle,
then memory will be allocated using <span class='texttt'>upstream_resource()-&gt;allocate()</span>.</p></div></div><div class='para' id='mem.res.pool.mem-6'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11774'>#</a></div><p ><i>Throws:</i>
Nothing unless <span class='texttt'>upstream_resource()-&gt;allocate()</span> throws.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_deallocate,synchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='synchronized_pool_resource,do_deallocate'></a></span><span class='indexparent'><a class='index' id='do_deallocate,unsynchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,do_deallocate'></a></span><code class='itemdecl'>
void do_deallocate(void* p, size_t bytes, size_t alignment) override;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.mem-7'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11786'>#</a></div><p ><i>Effects:</i>
Returns the memory at <span class='texttt'>p</span> to the pool.
It is unspecified if, or under what circumstances,
this operation will result in a call to <span class='texttt'>upstream_resource()-&gt;deallocate()</span>.</p></div></div><div class='para' id='mem.res.pool.mem-8'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11792'>#</a></div><p ><i>Throws:</i>
Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_is_equal,synchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='synchronized_pool_resource,do_is_equal'></a></span><code class='itemdecl'>
bool synchronized_pool_resource::do_is_equal(
    const memory_resource&amp; other) const noexcept override;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.mem-9'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11804'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>this == dynamic_cast&lt;const synchronized_pool_resource*&gt;(&amp;other)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_is_equal,unsynchronized_pool_resource'></a></span><span class='indexparent'><a class='index' id='unsynchronized_pool_resource,do_is_equal'></a></span><code class='itemdecl'>
bool unsynchronized_pool_resource::do_is_equal(
    const memory_resource&amp; other) const noexcept override;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.pool.mem-10'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.pool.mem-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11816'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>this == dynamic_cast&lt;const unsynchronized_pool_resource*&gt;(&amp;other)</span>.
</p></div></div></div></div><div id='mem.res.monotonic.buffer'><h3 ><a class='secnum' href='#mem.res.monotonic.buffer' style='min-width:103pt'>20.12.6</a> Class <span class='texttt'>monotonic_buffer_resource</span> <a class='abbr_ref' href='mem.res.monotonic.buffer'>[mem.res.monotonic.buffer]</a></h3><div class='para' id='mem.res.monotonic.buffer-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11823'>#</a></div><p >A <span class='texttt'>monotonic_buffer_resource</span> is a special-purpose memory resource
intended for very fast memory allocations in situations
where memory is used to build up a few objects
and then is released all at once when the memory resource object is destroyed.
It has the following qualities:
</p><ul class='itemize'><li id='mem.res.monotonic.buffer-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.monotonic.buffer-1.1'>(1.1)</a></div><p >A call to <span class='texttt'>deallocate</span> has no effect,
thus the amount of memory consumed increases monotonically
until the resource is destroyed.
</p></li><li id='mem.res.monotonic.buffer-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.monotonic.buffer-1.2'>(1.2)</a></div><p >The program can supply an initial buffer,
which the allocator uses to satisfy memory requests.
</p></li><li id='mem.res.monotonic.buffer-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.monotonic.buffer-1.3'>(1.3)</a></div><p >When the initial buffer (if any) is exhausted,
it obtains additional buffers from an <a class='hidden_link' href='#def:upstream' id='def:upstream'><i>upstream</i></a> memory resource
supplied at construction.
Each additional buffer is larger than the previous one,
following a geometric progression.
</p></li><li id='mem.res.monotonic.buffer-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.monotonic.buffer-1.4'>(1.4)</a></div><p >It is intended for access from one thread of control at a time.
Specifically, calls to <span class='texttt'>allocate</span> and <span class='texttt'>deallocate</span>
do not synchronize with one another.
</p></li><li id='mem.res.monotonic.buffer-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#mem.res.monotonic.buffer-1.5'>(1.5)</a></div><p >It frees the allocated memory on destruction,
even if <span class='texttt'>deallocate</span> has not been called for some of the allocated blocks.
</p></li></ul><p ><span class='indexparent'><a class='index' id='monotonic_buffer_resource'></a></span></p><pre class='codeblock'>
class monotonic_buffer_resource : public memory_resource {
  memory_resource *upstream_rsrc; <span class='comment'>// <i>exposition only</i>
</span>  void *current_buffer;           <span class='comment'>// <i>exposition only</i>
</span>  size_t next_buffer_size;        <span class='comment'>// <i>exposition only</i>
</span>
public:
  explicit monotonic_buffer_resource(memory_resource *upstream);
  monotonic_buffer_resource(size_t initial_size, memory_resource *upstream);
  monotonic_buffer_resource(void *buffer, size_t buffer_size,
                            memory_resource *upstream);

  monotonic_buffer_resource()
      : monotonic_buffer_resource(get_default_resource()) {}
  explicit monotonic_buffer_resource(size_t initial_size)
      : monotonic_buffer_resource(initial_size, get_default_resource()) {}
  monotonic_buffer_resource(void *buffer, size_t buffer_size)
      : monotonic_buffer_resource(buffer, buffer_size, get_default_resource()) {}

  monotonic_buffer_resource(const monotonic_buffer_resource&amp;) = delete;

  virtual ~monotonic_buffer_resource();

  monotonic_buffer_resource
    operator=(const monotonic_buffer_resource&amp;) = delete;

  void release();
  memory_resource* upstream_resource() const;

protected:
  void* do_allocate(size_t bytes, size_t alignment) override;
  void do_deallocate(void* p, size_t bytes, size_t alignment) override;

  bool do_is_equal(const memory_resource&amp; other) const noexcept override;
};</pre></div><div id='mem.res.monotonic.buffer.ctor'><h4 ><a class='secnum' href='#mem.res.monotonic.buffer.ctor' style='min-width:118pt'>20.12.6.1</a> <span class='texttt'>monotonic_buffer_resource</span> constructor and destructor <a class='abbr_ref' href='mem.res.monotonic.buffer.ctor'>[mem.res.monotonic.buffer.ctor]</a></h4><p ><span class='indexparent'><a class='index' id='monotonic_buffer_resource,constructor'></a></span><code class='itemdecl'>
explicit monotonic_buffer_resource(memory_resource* upstream);
monotonic_buffer_resource(size_t initial_size, memory_resource* upstream);
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11899'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>upstream</span> shall be the address of a valid memory resource.
<span class='texttt'>initial_size</span>, if specified, shall be greater than zero.</p></div></div><div class='para' id='mem.res.monotonic.buffer.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11904'>#</a></div><p ><i>Effects:</i>
Sets <span class='texttt'>upstream_rsrc</span> to <span class='texttt'>upstream</span> and
<span class='texttt'>current_buffer</span> to <span class='texttt'>nullptr</span>.
If <span class='texttt'>initial_size</span> is specified,
sets <span class='texttt'>next_buffer_size</span> to at least <span class='texttt'>initial_size</span>;
otherwise sets <span class='texttt'>next_buffer_size</span> to an
<span class='indexparent'><a class='index' id='default_next_buffer_size_for_a_monotonic_buffer_resource'></a></span>implementation-defined size.
</p></div></div><p ><span class='indexparent'><a class='index' id='monotonic_buffer_resource,constructor'></a></span><code class='itemdecl'>
monotonic_buffer_resource(void* buffer, size_t buffer_size, memory_resource* upstream);
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11920'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>upstream</span> shall be the address of a valid memory resource.
<span class='texttt'>buffer_size</span> shall be no larger than the number of bytes in <span class='texttt'>buffer</span>.</p></div></div><div class='para' id='mem.res.monotonic.buffer.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11925'>#</a></div><p ><i>Effects:</i>
Sets <span class='texttt'>upstream_rsrc</span> to <span class='texttt'>upstream</span>,
<span class='texttt'>current_buffer</span> to <span class='texttt'>buffer</span>, and
<span class='texttt'>next_buffer_size</span> to <span class='texttt'>buffer_size</span> (but not less than 1),
then increases <span class='texttt'>next_buffer_size</span>
by an <span class='indexparent'><a class='index' id='growth_factor_for_monotonic_buffer_resource'></a></span>implementation-defined growth factor (which need not be integral).
</p></div></div><p ><span class='indexparent'><a class='index' id='monotonic_buffer_resource,destructor'></a></span><code class='itemdecl'>
~monotonic_buffer_resource();
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11940'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>release()</span>.
</p></div></div></div><div id='mem.res.monotonic.buffer.mem'><h4 ><a class='secnum' href='#mem.res.monotonic.buffer.mem' style='min-width:118pt'>20.12.6.2</a> <span class='texttt'>monotonic_buffer_resource</span> members <a class='abbr_ref' href='mem.res.monotonic.buffer.mem'>[mem.res.monotonic.buffer.mem]</a></h4><p ><span class='indexparent'><a class='index' id='release,monotonic_buffer_resource'></a></span><span class='indexparent'><a class='index' id='monotonic_buffer_resource,release'></a></span><code class='itemdecl'>
void release();
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.mem-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11954'>#</a></div><p ><i>Effects:</i>
Calls <span class='texttt'>upstream_rsrc-&gt;deallocate()</span> as necessary
to release all allocated memory.</p></div></div><div class='para' id='mem.res.monotonic.buffer.mem-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11959'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The memory is released back to <span class='texttt'>upstream_rsrc</span>
even if some blocks that were allocated from <span class='texttt'>this</span>
have not been deallocated from <span class='texttt'>this</span>.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='upstream_resource,monotonic_buffer_resource'></a></span><span class='indexparent'><a class='index' id='monotonic_buffer_resource,upstream_resource'></a></span><code class='itemdecl'>
memory_resource* upstream_resource() const;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.mem-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11972'>#</a></div><p ><i>Returns:</i>
The value of <span class='texttt'>upstream_rsrc</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_allocate,monotonic_buffer_resource'></a></span><span class='indexparent'><a class='index' id='monotonic_buffer_resource,do_allocate'></a></span><code class='itemdecl'>
void* do_allocate(size_t bytes, size_t alignment) override;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.mem-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11983'>#</a></div><p ><i>Returns:</i>
A pointer to allocated storage (<a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>)
with a size of at least <span class='texttt'>bytes</span>.
The size and alignment of the allocated memory shall meet the requirements
for a class derived from <span class='texttt'>memory_resource</span> (<a href='mem.res'>[mem.res]</a>).</p></div></div><div class='para' id='mem.res.monotonic.buffer.mem-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L11990'>#</a></div><p ><i>Effects:</i>
If the unused space in <span class='texttt'>current_buffer</span>
can fit a block with the specified <span class='texttt'>bytes</span> and <span class='texttt'>alignment</span>,
then allocate the return block from <span class='texttt'>current_buffer</span>;
otherwise set <span class='texttt'>current_buffer</span> to <span class='texttt'>upstream_rsrc-&gt;allocate(n, m)</span>,
where <span class='texttt'>n</span> is not less than <span class='texttt'>max(bytes, next_buffer_size)</span> and
<span class='texttt'>m</span> is not less than <span class='texttt'>alignment</span>,
and increase <span class='texttt'>next_buffer_size</span>
by an <span class='indexparent'><a class='index' id='growth_factor_for_monotonic_buffer_resource'></a></span>implementation-defined growth factor (which need not be integral),
then allocate the return block from the newly-allocated <span class='texttt'>current_buffer</span>.</p></div></div><div class='para' id='mem.res.monotonic.buffer.mem-6'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12002'>#</a></div><p ><i>Throws:</i>
Nothing unless <span class='texttt'>upstream_rsrc-&gt;allocate()</span> throws.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_deallocate,monotonic_buffer_resource'></a></span><span class='indexparent'><a class='index' id='monotonic_buffer_resource,do_deallocate'></a></span><code class='itemdecl'>
void do_deallocate(void* p, size_t bytes, size_t alignment) override;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.mem-7'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12013'>#</a></div><p ><i>Effects:</i>
None.</p></div></div><div class='para' id='mem.res.monotonic.buffer.mem-8'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12017'>#</a></div><p ><i>Throws:</i>
Nothing.</p></div></div><div class='para' id='mem.res.monotonic.buffer.mem-9'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12021'>#</a></div><p ><i>Remarks:</i>
Memory used by this resource increases monotonically until its destruction.
</p></div></div><p ><span class='indexparent'><a class='index' id='do_is_equal,monotonic_buffer_resource'></a></span><span class='indexparent'><a class='index' id='monotonic_buffer_resource,do_is_equal'></a></span><code class='itemdecl'>
bool do_is_equal(const memory_resource&amp; other) const noexcept override;
</code></p><div class='itemdescr'></div><div class='para' id='mem.res.monotonic.buffer.mem-10'><div class='marginalizedparent'><a class='marginalized' href='#mem.res.monotonic.buffer.mem-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12032'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>this == dynamic_cast&lt;const monotonic_buffer_resource*&gt;(&amp;other)</span>.
</p></div></div></div></div></div><div id='allocator.adaptor'><h2 ><a class='secnum' href='#allocator.adaptor' style='min-width:88pt'>20.13</a> Class template <span class='texttt'>scoped_allocator_adaptor</span> <a class='abbr_ref' href='allocator.adaptor'>[allocator.adaptor]</a></h2><div id='allocator.adaptor.syn'><h3 ><a class='secnum' href='#allocator.adaptor.syn' style='min-width:103pt'>20.13.1</a> Header <span class='texttt'>&lt;scoped_allocator&gt;</span> synopsis <a class='abbr_ref' href='allocator.adaptor.syn'>[allocator.adaptor.syn]</a></h3><p ><span class='indexparent'><a class='index' id='scoped_allocator'></a></span><span class='indexparent'><a class='index' id='scoped_allocator'></a></span></p><pre class='codeblock'>
  <span class='comment'>// scoped allocator adaptor
</span>  template &lt;class OuterAlloc, class... InnerAlloc&gt;
    class scoped_allocator_adaptor;
  template &lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
    bool operator==(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                    const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
  template &lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
    bool operator!=(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                    const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;</pre><div class='para' id='allocator.adaptor.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12056'>#</a></div><p >The class template <span class='texttt'>scoped_allocator_adaptor</span> is an allocator template that
specifies the memory resource (the outer allocator) to be used by a container (as any
other allocator does) and also specifies an inner allocator resource to be passed to the
constructor of every element within the container. This adaptor is instantiated with one
outer and zero or more inner allocator types. If instantiated with only one allocator
type, the inner allocator becomes the <span class='texttt'>scoped_allocator_adaptor</span> itself, thus
using the same allocator resource for the container and every element within the
container and, if the elements themselves are containers, each of their elements
recursively. If instantiated with more than one allocator, the first allocator is the
outer allocator for use by the container, the second allocator is passed to the
constructors of the container's elements, and, if the elements themselves are
containers, the third allocator is passed to the elements' elements, and so on. If
containers are nested to a depth greater than the number of allocators, the last
allocator is used repeatedly, as in the single-allocator case, for any remaining
recursions. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The <span class='texttt'>scoped_allocator_adaptor</span> is derived from the outer
allocator type so it can be substituted for the outer allocator type in most
expressions. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='scoped_allocator_adaptor'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class OuterAlloc, class... InnerAllocs&gt;
    class scoped_allocator_adaptor : public OuterAlloc {
  private:
    using OuterTraits = allocator_traits&lt;OuterAlloc&gt;; <span class='comment'>// <i>exposition only</i>
</span>    scoped_allocator_adaptor&lt;InnerAllocs...&gt; inner;   <span class='comment'>// <i>exposition only</i>
</span>  public:
    using outer_allocator_type = OuterAlloc;
    using inner_allocator_type = <i><span class='texttt'>see below</span></i>;

    using value_type           = typename OuterTraits::value_type;
    using size_type            = typename OuterTraits::size_type;
    using difference_type      = typename OuterTraits::difference_type;
    using pointer              = typename OuterTraits::pointer;
    using const_pointer        = typename OuterTraits::const_pointer;
    using void_pointer         = typename OuterTraits::void_pointer;
    using const_void_pointer   = typename OuterTraits::const_void_pointer;

    using propagate_on_container_copy_assignment = <i><span class='texttt'>see below</span></i>;
    using propagate_on_container_move_assignment = <i><span class='texttt'>see below</span></i>;
    using propagate_on_container_swap            = <i><span class='texttt'>see below</span></i>;
    using is_always_equal                        = <i><span class='texttt'>see below</span></i>;

    template &lt;class Tp&gt;
      struct rebind {
        using other = scoped_allocator_adaptor&lt;
          OuterTraits::template rebind_alloc&lt;Tp&gt;, InnerAllocs...&gt;;
      };

    scoped_allocator_adaptor();
    template &lt;class OuterA2&gt;
      scoped_allocator_adaptor(OuterA2&amp;&amp; outerAlloc,
                               const InnerAllocs&amp;... innerAllocs) noexcept;

    scoped_allocator_adaptor(const scoped_allocator_adaptor&amp; other) noexcept;
    scoped_allocator_adaptor(scoped_allocator_adaptor&amp;&amp; other) noexcept;

    template &lt;class OuterA2&gt;
      scoped_allocator_adaptor(
        const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; other) noexcept;
    template &lt;class OuterA2&gt;
      scoped_allocator_adaptor(
        scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp;&amp; other) noexcept;

    scoped_allocator_adaptor&amp; operator=(const scoped_allocator_adaptor&amp;) = default;
    scoped_allocator_adaptor&amp; operator=(scoped_allocator_adaptor&amp;&amp;) = default;

    ~scoped_allocator_adaptor();

    inner_allocator_type&amp; inner_allocator() noexcept;
    const inner_allocator_type&amp; inner_allocator() const noexcept;
    outer_allocator_type&amp; outer_allocator() noexcept;
    const outer_allocator_type&amp; outer_allocator() const noexcept;

    pointer allocate(size_type n);
    pointer allocate(size_type n, const_void_pointer hint);
    void deallocate(pointer p, size_type n);
    size_type max_size() const;

    template &lt;class T, class... Args&gt;
      void construct(T* p, Args&amp;&amp;... args);
    template &lt;class T1, class T2, class... Args1, class... Args2&gt;
      void construct(pair&lt;T1, T2&gt;* p, piecewise_construct_t,
                     tuple&lt;Args1...&gt; x, tuple&lt;Args2...&gt; y);
    template &lt;class T1, class T2&gt;
      void construct(pair&lt;T1, T2&gt;* p);
    template &lt;class T1, class T2, class U, class V&gt;
      void construct(pair&lt;T1, T2&gt;* p, U&amp;&amp; x, V&amp;&amp; y);
    template &lt;class T1, class T2, class U, class V&gt;
      void construct(pair&lt;T1, T2&gt;* p, const pair&lt;U, V&gt;&amp; x);
    template &lt;class T1, class T2, class U, class V&gt;
      void construct(pair&lt;T1, T2&gt;* p, pair&lt;U, V&gt;&amp;&amp; x);

    template &lt;class T&gt;
      void destroy(T* p);

    scoped_allocator_adaptor select_on_container_copy_construction() const;
  };

  template &lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
    bool operator==(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                    const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
  template &lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
    bool operator!=(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                    const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
}</pre></div></div><div id='allocator.adaptor.types'><h3 ><a class='secnum' href='#allocator.adaptor.types' style='min-width:103pt'>20.13.2</a> Scoped allocator adaptor member types <a class='abbr_ref' href='allocator.adaptor.types'>[allocator.adaptor.types]</a></h3><p ><span class='indexparent'><a class='index' id='inner_allocator_type,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,inner_allocator_type'></a></span><code class='itemdecl'>
using inner_allocator_type = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.types-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.types-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12173'>#</a></div><p ><i>Type:</i> <span class='texttt'>scoped_allocator_adaptor&lt;OuterAlloc&gt;</span> if <span class='texttt'>sizeof...(InnerAllocs)</span> is
zero; otherwise,<br/> <span class='texttt'>scoped_allocator_adaptor&lt;InnerAllocs...&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='propagate_on_container_copy_assignment,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,propagate_on_container_copy_assignment'></a></span><code class='itemdecl'>
using propagate_on_container_copy_assignment = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.types-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.types-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12184'>#</a></div><p ><i>Type:</i> <span class='texttt'>true_type</span> if
<span class='texttt'>allocator_traits&lt;A&gt;::propagate_on_container_copy_assignment::value</span> is
<span class='texttt'>true</span> for any <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='propagate_on_container_move_assignment,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,propagate_on_container_move_assignment'></a></span><code class='itemdecl'>
using propagate_on_container_move_assignment = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.types-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.types-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12197'>#</a></div><p ><i>Type:</i> <span class='texttt'>true_type</span> if
<span class='texttt'>allocator_traits&lt;A&gt;::propagate_on_container_move_assignment::value</span> is
<span class='texttt'>true</span> for any <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='propagate_on_container_swap,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,propagate_on_container_swap'></a></span><code class='itemdecl'>
using propagate_on_container_swap = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.types-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.types-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12210'>#</a></div><p ><i>Type:</i> <span class='texttt'>true_type</span> if
<span class='texttt'>allocator_traits&lt;A&gt;::propagate_on_container_swap::value</span> is
<span class='texttt'>true</span> for any <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='is_always_equal,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,is_always_equal'></a></span><code class='itemdecl'>
using is_always_equal = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.types-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.types-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12223'>#</a></div><p ><i>Type:</i> <span class='texttt'>true_type</span> if
<span class='texttt'>allocator_traits&lt;A&gt;::is_always_equal::value</span> is
<span class='texttt'>true</span> for every <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_type</span>.
</p></div></div></div><div id='allocator.adaptor.cnstr'><h3 ><a class='secnum' href='#allocator.adaptor.cnstr' style='min-width:103pt'>20.13.3</a> Scoped allocator adaptor constructors <a class='abbr_ref' href='allocator.adaptor.cnstr'>[allocator.adaptor.cnstr]</a></h3><p ><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,constructor'></a></span><code class='itemdecl'>
scoped_allocator_adaptor();
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.cnstr-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12238'>#</a></div><p ><i>Effects:</i> Value-initializes the <span class='texttt'>OuterAlloc</span> base class and the <span class='texttt'>inner</span> allocator
object.
</p></div></div><p ><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,constructor'></a></span><code class='itemdecl'>
template &lt;class OuterA2&gt;
  scoped_allocator_adaptor(OuterA2&amp;&amp; outerAlloc,
                           const InnerAllocs&amp;... innerAllocs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.cnstr-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12251'>#</a></div><p ><i>Requires:</i> <span class='texttt'>OuterAlloc</span> shall be constructible from <span class='texttt'>OuterA2</span>.</p></div></div><div class='para' id='allocator.adaptor.cnstr-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12254'>#</a></div><p ><i>Effects:</i> Initializes the <span class='texttt'>OuterAlloc</span> base class with
<span class='texttt'>std::forward&lt;OuterA2&gt;(outerAlloc)</span> and <span class='texttt'>inner</span> with <span class='texttt'>innerAllocs...</span>
(hence recursively initializing each allocator within the adaptor with the corresponding
allocator from the argument list).
</p></div></div><p ><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,constructor'></a></span><code class='itemdecl'>
scoped_allocator_adaptor(const scoped_allocator_adaptor&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.cnstr-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12267'>#</a></div><p ><i>Effects:</i> Initializes each allocator within the adaptor with the corresponding allocator
from <span class='texttt'>other</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,constructor'></a></span><code class='itemdecl'>
scoped_allocator_adaptor(scoped_allocator_adaptor&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.cnstr-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12278'>#</a></div><p ><i>Effects:</i> Move constructs each allocator within the adaptor with the corresponding allocator
from <span class='texttt'>other</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,constructor'></a></span><code class='itemdecl'>
template &lt;class OuterA2&gt;
  scoped_allocator_adaptor(const scoped_allocator_adaptor&lt;OuterA2,
                                                          InnerAllocs...&gt;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.cnstr-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12291'>#</a></div><p ><i>Requires:</i> <span class='texttt'>OuterAlloc</span> shall be constructible from <span class='texttt'>OuterA2</span>.</p></div></div><div class='para' id='allocator.adaptor.cnstr-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12294'>#</a></div><p ><i>Effects:</i> Initializes each allocator within the adaptor with the corresponding allocator
from <span class='texttt'>other</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,constructor'></a></span><code class='itemdecl'>
template &lt;class OuterA2&gt;
  scoped_allocator_adaptor(scoped_allocator_adaptor&lt;OuterA2,
                                                    InnerAllocs...&gt;&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.cnstr-8'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12307'>#</a></div><p ><i>Requires:</i> <span class='texttt'>OuterAlloc</span> shall be constructible from <span class='texttt'>OuterA2</span>.</p></div></div><div class='para' id='allocator.adaptor.cnstr-9'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.cnstr-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12310'>#</a></div><p ><i>Effects:</i> Initializes each allocator within the adaptor with the corresponding allocator rvalue
from <span class='texttt'>other</span>.
</p></div></div></div><div id='allocator.adaptor.members'><h3 ><a class='secnum' href='#allocator.adaptor.members' style='min-width:103pt'>20.13.4</a> Scoped allocator adaptor members <a class='abbr_ref' href='allocator.adaptor.members'>[allocator.adaptor.members]</a></h3><div class='para' id='allocator.adaptor.members-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12317'>#</a></div><p >In the <span class='texttt'>construct</span> member functions,
<span class='texttt'><i>OUTERMOST</i>(x)</span> is <span class='texttt'>x</span> if <span class='texttt'>x</span> does not have an
<span class='texttt'>outer_allocator()</span> member function and
<span class='texttt'><i>OUTERMOST</i>(x.outer_allocator())</span>
otherwise;
<span class='texttt'><i>OUTERMOST_ALLOC_TRAITS</i>(x)</span> is
<span class='texttt'>allocator_traits&lt;decltype(<i>OUTERMOST</i>(x))&gt;</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'><i>OUTERMOST</i>(x)</span> and
<span class='texttt'><i>OUTERMOST_ALLOC_TRAITS</i>(x)</span> are recursive operations. It
is incumbent upon the definition of <span class='texttt'>outer_allocator()</span> to ensure that the
recursion terminates. It will terminate for all instantiations of
<span class='texttt'>scoped_allocator_adaptor</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='inner_allocator,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,inner_allocator'></a></span><code class='itemdecl'>
inner_allocator_type&amp; inner_allocator() noexcept;
const inner_allocator_type&amp; inner_allocator() const noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12338'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span> if <span class='texttt'>sizeof...(InnerAllocs)</span> is zero; otherwise,
<span class='texttt'>inner</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='outer_allocator,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,outer_allocator'></a></span><code class='itemdecl'>
outer_allocator_type&amp; outer_allocator() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12349'>#</a></div><p ><i>Returns:</i> <span class='texttt'>static_cast&lt;OuterAlloc&amp;&gt;(*this)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='outer_allocator,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,outer_allocator'></a></span><code class='itemdecl'>
const outer_allocator_type&amp; outer_allocator() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12359'>#</a></div><p ><i>Returns:</i> <span class='texttt'>static_cast&lt;const OuterAlloc&amp;&gt;(*this)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='allocate,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,allocate'></a></span><code class='itemdecl'>
pointer allocate(size_type n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12369'>#</a></div><p ><i>Returns:</i> <span class='texttt'>allocator_traits&lt;OuterAlloc&gt;::allocate(outer_allocator(), n)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='allocate,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,allocate'></a></span><code class='itemdecl'>
pointer allocate(size_type n, const_void_pointer hint);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12379'>#</a></div><p ><i>Returns:</i> <span class='texttt'>allocator_traits&lt;OuterAlloc&gt;::allocate(outer_allocator(), n, hint)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='deallocate,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,deallocate'></a></span><code class='itemdecl'>
void deallocate(pointer p, size_type n) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12389'>#</a></div><p ><i>Effects:</i> As if by:
<span class='texttt'>allocator_traits&lt;OuterAlloc&gt;::deallocate(outer_allocator(), p, n);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='max_size,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,max_size'></a></span><code class='itemdecl'>
size_type max_size() const;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-8'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12400'>#</a></div><p ><i>Returns:</i> <span class='texttt'>allocator_traits&lt;OuterAlloc&gt;::max_size(outer_allocator())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,construct'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  void construct(T* p, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-9'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12411'>#</a></div><p ><i>Effects:</i>
</p><ul class='itemize'><li id='allocator.adaptor.members-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-9.1'>(9.1)</a></div><p >If <span class='texttt'>uses_allocator_v&lt;T, inner_allocator_type&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_constructible_v&lt;T,<br/> Args...&gt;</span> is <span class='texttt'>true</span>, calls:
</p><pre class='codeblock'>
<i>OUTERMOST_ALLOC_TRAITS</i>(*this)::construct(
    <i>OUTERMOST</i>(*this), p, std::forward&lt;Args&gt;(args)...)</pre></li><li id='allocator.adaptor.members-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-9.2'>(9.2)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T, inner_allocator_type&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;T, allocator_arg_t, inner_allocator_type&amp;, Args...&gt;</span> is <span class='texttt'>true</span>, calls:
</p><pre class='codeblock'>
<i>OUTERMOST_ALLOC_TRAITS</i>(*this)::construct(
    <i>OUTERMOST</i>(*this), p, allocator_arg, inner_allocator(), std::forward&lt;Args&gt;(args)...)</pre></li><li id='allocator.adaptor.members-9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-9.3'>(9.3)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T, inner_allocator_type&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;T, Args..., inner_allocator_type&amp;&gt;</span> is <span class='texttt'>true</span>, calls:
</p><pre class='codeblock'>
<i>OUTERMOST_ALLOC_TRAITS</i>(*this)::construct(
    <i>OUTERMOST</i>(*this), p, std::forward&lt;Args&gt;(args)..., inner_allocator())</pre></li><li id='allocator.adaptor.members-9.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-9.4'>(9.4)</a></div><p >Otherwise, the program is ill-formed.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
An error will result if
<span class='texttt'>uses_allocator</span> evaluates to <span class='texttt'>true</span> but the specific constructor does not take an
allocator. This definition prevents a silent failure to pass an inner allocator to a
contained element.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class... Args1, class... Args2&gt;
  void construct(pair&lt;T1, T2&gt;* p, piecewise_construct_t,
                 tuple&lt;Args1...&gt; x, tuple&lt;Args2...&gt; y);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-10'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12453'>#</a></div><p ><i>Requires:</i> all of the types in <span class='texttt'>Args1</span> and <span class='texttt'>Args2</span> shall be
<span class='texttt'>CopyConstructible</span> (Table <a href='utility.arg.requirements#tab:copyconstructible'>[tab:copyconstructible]</a>).</p></div></div><div class='para' id='allocator.adaptor.members-11'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12457'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>tuple</span> object <span class='texttt'>xprime</span> from <span class='texttt'>x</span> by the
following rules:
</p><ul class='itemize'><li id='allocator.adaptor.members-11.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.1'>(11.1)</a></div><p >If <span class='texttt'>uses_allocator_v&lt;T1, inner_allocator_type&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_constructible_v&lt;T1,<br/> Args1...&gt;</span> is <span class='texttt'>true</span>,
then <span class='texttt'>xprime</span> is <span class='texttt'>x</span>.</p></li><li id='allocator.adaptor.members-11.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.2'>(11.2)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T1, inner_allocator_type&gt;</span> is <span class='texttt'>true</span>
and
<span class='texttt'>is_constructible_v&lt;T1, allocator_arg_t, inner_allocator_type&amp;, Args1...&gt;</span>
is
<span class='texttt'>true</span>, then <span class='texttt'>xprime</span> is:
</p><pre class='codeblock'>
tuple_cat(
    tuple&lt;allocator_arg_t, inner_allocator_type&amp;&gt;(allocator_arg, inner_allocator()),
    std::move(x))</pre></li><li id='allocator.adaptor.members-11.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.3'>(11.3)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T1, inner_allocator_type&gt;</span> is
<span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;T1, Args1..., inner_allocator_type&amp;&gt;</span> is <span class='texttt'>true</span>,
then <span class='texttt'>xprime</span> is:
</p><pre class='codeblock'>
tuple_cat(std::move(x), tuple&lt;inner_allocator_type&amp;&gt;(inner_allocator()))</pre></li><li id='allocator.adaptor.members-11.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.4'>(11.4)</a></div><p >Otherwise, the program is ill-formed.
</p></li></ul><p >and constructs a <span class='texttt'>tuple</span> object <span class='texttt'>yprime</span> from <span class='texttt'>y</span> by the following rules:
</p><ul class='itemize'><li id='allocator.adaptor.members-11.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.5'>(11.5)</a></div><p >If <span class='texttt'>uses_allocator_v&lt;T2, inner_allocator_type&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_constructible_v&lt;T2,<br/> Args2...&gt;</span> is <span class='texttt'>true</span>, then <span class='texttt'>yprime</span> is <span class='texttt'>y</span>.</p></li><li id='allocator.adaptor.members-11.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.6'>(11.6)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T2, inner_allocator_type&gt;</span> is <span class='texttt'>true</span>
and
<span class='texttt'>is_constructible_v&lt;T2, allocator_arg_t, inner_allocator_type&amp;, Args2...&gt;</span>
is
<span class='texttt'>true</span>, then <span class='texttt'>yprime</span> is:
</p><pre class='codeblock'>
tuple_cat(
    tuple&lt;allocator_arg_t, inner_allocator_type&amp;&gt;(allocator_arg, inner_allocator()),
    std::move(y))</pre></li><li id='allocator.adaptor.members-11.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.7'>(11.7)</a></div><p >Otherwise, if <span class='texttt'>uses_allocator_v&lt;T2, inner_allocator_type&gt;</span> is
<span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;T2, Args2..., inner_allocator_type&amp;&gt;</span> is <span class='texttt'>true</span>,
then <span class='texttt'>yprime</span> is:
</p><pre class='codeblock'>
tuple_cat(std::move(y), tuple&lt;inner_allocator_type&amp;&gt;(inner_allocator()))</pre></li><li id='allocator.adaptor.members-11.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.adaptor.members-11.8'>(11.8)</a></div><p >Otherwise, the program is ill-formed.
</p></li></ul><p >then calls:
</p><pre class='codeblock'>
<i>OUTERMOST_ALLOC_TRAITS</i>(*this)::construct(
    <i>OUTERMOST</i>(*this), p, piecewise_construct, std::move(xprime), std::move(yprime))</pre></div></div><p ><span class='indexparent'><a class='index' id='construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2&gt;
  void construct(pair&lt;T1, T2&gt;* p);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-12'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12526'>#</a></div><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct, tuple&lt;&gt;(), tuple&lt;&gt;());</pre></div></div><p ><span class='indexparent'><a class='index' id='construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1, T2&gt;* p, U&amp;&amp; x, V&amp;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-13'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12540'>#</a></div><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(std::forward&lt;U&gt;(x)),
          forward_as_tuple(std::forward&lt;V&gt;(y)));</pre></div></div><p ><span class='indexparent'><a class='index' id='construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1, T2&gt;* p, const pair&lt;U, V&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-14'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12556'>#</a></div><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(x.first),
          forward_as_tuple(x.second));</pre></div></div><p ><span class='indexparent'><a class='index' id='construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,construct'></a></span><code class='itemdecl'>
template &lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1, T2&gt;* p, pair&lt;U, V&gt;&amp;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-15'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12572'>#</a></div><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(std::forward&lt;U&gt;(x.first)),
          forward_as_tuple(std::forward&lt;V&gt;(x.second)));</pre></div></div><p ><span class='indexparent'><a class='index' id='destroy,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,destroy'></a></span><code class='itemdecl'>
template &lt;class T&gt;
  void destroy(T* p);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-16'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12588'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'><i>OUTERMOST_ALLOC_TRAITS</i>(*this)::destroy(<i>OUTERMOST</i>(*this), p)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='select_on_container_copy_construction,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,select_on_container_copy_construction'></a></span><code class='itemdecl'>
scoped_allocator_adaptor select_on_container_copy_construction() const;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.adaptor.members-17'><div class='marginalizedparent'><a class='marginalized' href='#allocator.adaptor.members-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12598'>#</a></div><p ><i>Returns:</i> A new <span class='texttt'>scoped_allocator_adaptor</span> object where each allocator <span class='texttt'>A</span> in the
adaptor is initialized from the result of calling
<span class='texttt'>allocator_traits&lt;A&gt;::select_on_container_copy_construction()</span> on the
corresponding allocator in <span class='texttt'>*this</span>.
</p></div></div></div><div id='scoped.adaptor.operators'><h3 ><a class='secnum' href='#scoped.adaptor.operators' style='min-width:103pt'>20.13.5</a> Scoped allocator operators <a class='abbr_ref' href='scoped.adaptor.operators'>[scoped.adaptor.operators]</a></h3><p ><span class='indexparent'><a class='index' id='operator==,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,operator=='></a></span><code class='itemdecl'>
template &lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
  bool operator==(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                  const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='scoped.adaptor.operators-1'><div class='marginalizedparent'><a class='marginalized' href='#scoped.adaptor.operators-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12615'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>sizeof...(InnerAllocs)</span> is zero,
</p><pre class='codeblock'>
a.outer_allocator() == b.outer_allocator()</pre><p >otherwise
</p><pre class='codeblock'>
a.outer_allocator() == b.outer_allocator() &amp;&amp; a.inner_allocator() == b.inner_allocator()</pre></div></div><p ><span class='indexparent'><a class='index' id='operator!=,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='scoped_allocator_adaptor,operator!='></a></span><code class='itemdecl'>
template &lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
  bool operator!=(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                  const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='scoped.adaptor.operators-2'><div class='marginalizedparent'><a class='marginalized' href='#scoped.adaptor.operators-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12634'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(a == b)</span>.
</p></div></div></div></div><div id='function.objects'><h2 ><a class='secnum' href='#function.objects' style='min-width:88pt'>20.14</a> Function objects <a class='abbr_ref' href='function.objects'>[function.objects]</a></h2><div class='para' id='function.objects-1'><div class='marginalizedparent'><a class='marginalized' href='#function.objects-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12640'>#</a></div><p >A <span class='indexparent'><a class='index' id='function_object,type'></a></span><a class='hidden_link' href='#def:function_object_type' id='def:function_object_type'><i>function object type</i></a> is an object
type (<a href='basic.types'>[basic.types]</a>) that can be the type of the
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> in a function call
(<a href='expr.call'>[expr.call]</a>, <a href='over.match.call'>[over.match.call]</a>).<a class='footnotenum' href='#footnote-222'>222</a> A <a class='hidden_link' href='#def:function_object' id='def:function_object'><i>function object</i></a> is an
object of a function object type. In the places where one would expect to pass a
pointer to a function to an algorithmic template (Clause <a href='algorithms'>[algorithms]</a>), the
interface is specified to accept a function object. This not only makes
algorithmic templates work with pointers to functions, but also enables them to
work with arbitrary function objects.</p></div><div class='footnote' id='footnote-222'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-222'>222)</a></div><p >Such a type is a function
pointer or a class type which has a member <span class='texttt'>operator()</span> or a class type
which has a conversion to a pointer to function.</p></div><div id='functional.syn'><h3 ><a class='secnum' href='#functional.syn' style='min-width:103pt'>20.14.1</a> Header <span class='texttt'>&lt;functional&gt;</span> synopsis <a class='abbr_ref' href='functional.syn'>[functional.syn]</a></h3><p ><span class='indexparent'><a class='index' id='functional'></a></span><span class='indexparent'><a class='index' id='functional'></a></span></p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='func.invoke'>[func.invoke]</a>, invoke
</span>  template &lt;class F, class... Args&gt; result_of_t&lt;F&amp;&amp;(Args&amp;&amp;...)&gt; invoke(F&amp;&amp; f, Args&amp;&amp;... args);

  <span class='comment'>// <a href='refwrap'>[refwrap]</a>, reference_wrapper
</span>  template &lt;class T&gt; class reference_wrapper;

  template &lt;class T&gt; reference_wrapper&lt;T&gt; ref(T&amp;) noexcept;
  template &lt;class T&gt; reference_wrapper&lt;const T&gt; cref(const T&amp;) noexcept;
  template &lt;class T&gt; void ref(const T&amp;&amp;) = delete;
  template &lt;class T&gt; void cref(const T&amp;&amp;) = delete;

  template &lt;class T&gt; reference_wrapper&lt;T&gt; ref(reference_wrapper&lt;T&gt;) noexcept;
  template &lt;class T&gt; reference_wrapper&lt;const T&gt; cref(reference_wrapper&lt;T&gt;) noexcept;

  <span class='comment'>// <a href='arithmetic.operations'>[arithmetic.operations]</a>, arithmetic operations
</span>  template &lt;class T = void&gt; struct plus;
  template &lt;class T = void&gt; struct minus;
  template &lt;class T = void&gt; struct multiplies;
  template &lt;class T = void&gt; struct divides;
  template &lt;class T = void&gt; struct modulus;
  template &lt;class T = void&gt; struct negate;
  template &lt;&gt; struct plus&lt;void&gt;;
  template &lt;&gt; struct minus&lt;void&gt;;
  template &lt;&gt; struct multiplies&lt;void&gt;;
  template &lt;&gt; struct divides&lt;void&gt;;
  template &lt;&gt; struct modulus&lt;void&gt;;
  template &lt;&gt; struct negate&lt;void&gt;;

  <span class='comment'>// <a href='comparisons'>[comparisons]</a>, comparisons
</span>  template &lt;class T = void&gt; struct equal_to;
  template &lt;class T = void&gt; struct not_equal_to;
  template &lt;class T = void&gt; struct greater;
  template &lt;class T = void&gt; struct less;
  template &lt;class T = void&gt; struct greater_equal;
  template &lt;class T = void&gt; struct less_equal;
  template &lt;&gt; struct equal_to&lt;void&gt;;
  template &lt;&gt; struct not_equal_to&lt;void&gt;;
  template &lt;&gt; struct greater&lt;void&gt;;
  template &lt;&gt; struct less&lt;void&gt;;
  template &lt;&gt; struct greater_equal&lt;void&gt;;
  template &lt;&gt; struct less_equal&lt;void&gt;;

  <span class='comment'>// <a href='logical.operations'>[logical.operations]</a>, logical operations
</span>  template &lt;class T = void&gt; struct logical_and;
  template &lt;class T = void&gt; struct logical_or;
  template &lt;class T = void&gt; struct logical_not;
  template &lt;&gt; struct logical_and&lt;void&gt;;
  template &lt;&gt; struct logical_or&lt;void&gt;;
  template &lt;&gt; struct logical_not&lt;void&gt;;

  <span class='comment'>// <a href='bitwise.operations'>[bitwise.operations]</a>, bitwise operations
</span>  template &lt;class T = void&gt; struct bit_and;
  template &lt;class T = void&gt; struct bit_or;
  template &lt;class T = void&gt; struct bit_xor;
  template &lt;class T = void&gt; struct bit_not;
  template &lt;&gt; struct bit_and&lt;void&gt;;
  template &lt;&gt; struct bit_or&lt;void&gt;;
  template &lt;&gt; struct bit_xor&lt;void&gt;;
  template &lt;&gt; struct bit_not&lt;void&gt;;

  <span class='comment'>// <a href='func.not_fn'>[func.not_fn]</a>, function template <span class='texttt'>not_fn</span>
</span>  template &lt;class F&gt; <i><span class='texttt'>unspecified</span></i> not_fn(F&amp;&amp; f);

  <span class='comment'>// <a href='func.bind'>[func.bind]</a>, bind
</span>  template&lt;class T&gt; struct is_bind_expression;
  template&lt;class T&gt; struct is_placeholder;

  template&lt;class F, class... BoundArgs&gt;
    <i><span class='texttt'>unspecified</span></i> bind(F&amp;&amp;, BoundArgs&amp;&amp;...);
  template&lt;class R, class F, class... BoundArgs&gt;
    <i><span class='texttt'>unspecified</span></i> bind(F&amp;&amp;, BoundArgs&amp;&amp;...);

  namespace placeholders {
    <span class='comment'>// M is the <span class='indexparent'><a class='index' id='number_of_placeholders_for_bind_expressions'></a></span>implementation-defined number of placeholders
</span>    <i><span class='texttt'>see below</span></i> _1;
    <i><span class='texttt'>see below</span></i> _2;
                .
                .
                .
    <i><span class='texttt'>see below</span></i> _M;
  }

  <span class='comment'>// <a href='func.memfn'>[func.memfn]</a>, member function adaptors
</span>  template&lt;class R, class T&gt; <i><span class='texttt'>unspecified</span></i> mem_fn(R T::*) noexcept;

  <span class='comment'>// <a href='func.wrap'>[func.wrap]</a>, polymorphic function wrappers
</span>  class bad_function_call;

  template&lt;class&gt; class function; <span class='comment'>// not defined
</span>  template&lt;class R, class... ArgTypes&gt; class function&lt;R(ArgTypes...)&gt;;

  template&lt;class R, class... ArgTypes&gt;
    void swap(function&lt;R(ArgTypes...)&gt;&amp;, function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  template&lt;class R, class... ArgTypes&gt;
    bool operator==(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;
  template&lt;class R, class... ArgTypes&gt;
    bool operator==(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;
  template&lt;class R, class... ArgTypes&gt;
    bool operator!=(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;
  template&lt;class R, class... ArgTypes&gt;
    bool operator!=(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  <span class='comment'>// <a href='func.search'>[func.search]</a>, searchers
</span>  template&lt;class ForwardIterator, class BinaryPredicate = equal_to&lt;&gt;&gt;
    class default_searcher;
  template&lt;class RandomAccessIterator,
           class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
           class BinaryPredicate = equal_to&lt;&gt;&gt;
    class boyer_moore_searcher;
  template&lt;class RandomAccessIterator,
           class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
           class BinaryPredicate = equal_to&lt;&gt;&gt;
    class boyer_moore_horspool_searcher;

  template&lt;class ForwardIterator, class BinaryPredicate = equal_to&lt;&gt;&gt;
  default_searcher&lt;ForwardIterator, BinaryPredicate&gt;
  make_default_searcher(ForwardIterator pat_first, ForwardIterator pat_last,
                        BinaryPredicate pred = BinaryPredicate());
  template&lt;class RandomAccessIterator,
           class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
           class BinaryPredicate = equal_to&lt;&gt;&gt;
  boyer_moore_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;
  make_boyer_moore_searcher(
      RandomAccessIterator pat_first, RandomAccessIterator pat_last,
      Hash hf = Hash(), BinaryPredicate pred = BinaryPredicate());
  template&lt;class RandomAccessIterator,
           class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
           class BinaryPredicate = equal_to&lt;&gt;&gt;
  boyer_moore_horspool_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;
  make_boyer_moore_horspool_searcher(
      RandomAccessIterator pat_first, RandomAccessIterator pat_last,
      Hash hf = Hash(), BinaryPredicate pred = BinaryPredicate());

  <span class='comment'>// <a href='unord.hash'>[unord.hash]</a>, hash function primary template
</span>  template &lt;class T&gt; struct hash;

  <span class='comment'>// <a href='func.default.traits'>[func.default.traits]</a>, default functor traits
</span>  template &lt;class T = void&gt;
  struct default_order;

  template &lt;class T = void&gt;
  using default_order_t = typename default_order&lt;T&gt;::type;

  <span class='comment'>// <a href='func.bind'>[func.bind]</a>, function object binders
</span>  template &lt;class T&gt; constexpr bool is_bind_expression_v
    = is_bind_expression&lt;T&gt;::value;
  template &lt;class T&gt; constexpr int is_placeholder_v
    = is_placeholder&lt;T&gt;::value;
}</pre><div class='para' id='functional.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#functional.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12811'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
If a C++ program wants to have a by-element addition of two vectors <span class='texttt'>a</span>
and <span class='texttt'>b</span> containing <span class='texttt'>double</span> and put the result into <span class='texttt'>a</span>,
it can do:</p><pre class='codeblock'>
transform(a.begin(), a.end(), b.begin(), a.begin(), plus&lt;double&gt;());</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='functional.syn-2'><div class='marginalizedparent'><a class='marginalized' href='#functional.syn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12822'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
To negate every element of <span class='texttt'>a</span>:</p><pre class='codeblock'>
transform(a.begin(), a.end(), a.begin(), negate&lt;double&gt;());</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='func.def'><h3 ><a class='secnum' href='#func.def' style='min-width:103pt'>20.14.2</a> Definitions <a class='abbr_ref' href='func.def'>[func.def]</a></h3><div class='para' id='func.def-1'><div class='marginalizedparent'><a class='marginalized' href='#func.def-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12834'>#</a></div><p >The following definitions apply to this Clause:</p></div><div class='para' id='func.def-2'><div class='marginalizedparent'><a class='marginalized' href='#func.def-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12837'>#</a></div><p ><span class='indexparent'><a class='index' id='call_signature'></a></span>A <a class='hidden_link' href='#def:call_signature' id='def:call_signature'><i>call signature</i></a> is the name of a return type followed by a
parenthesized comma-separated list of zero or more argument types.</p></div><div class='para' id='func.def-3'><div class='marginalizedparent'><a class='marginalized' href='#func.def-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12842'>#</a></div><p ><span class='indexparent'><a class='index' id='callable_type'></a></span>A <a class='hidden_link' href='#def:callable_type' id='def:callable_type'><i>callable type</i></a> is a function object type (<a href='function.objects'>[function.objects]</a>) or a pointer to member.</p></div><div class='para' id='func.def-4'><div class='marginalizedparent'><a class='marginalized' href='#func.def-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12846'>#</a></div><p ><span class='indexparent'><a class='index' id='callable_object'></a></span>A <a class='hidden_link' href='#def:callable_object' id='def:callable_object'><i>callable object</i></a> is an object of a callable type.</p></div><div class='para' id='func.def-5'><div class='marginalizedparent'><a class='marginalized' href='#func.def-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12850'>#</a></div><p ><span class='indexparent'><a class='index' id='call_wrapper,type'></a></span>A <a class='hidden_link' href='#def:call_wrapper_type' id='def:call_wrapper_type'><i>call wrapper type</i></a> is a type that holds a callable object
and supports a call operation that forwards to that object.</p></div><div class='para' id='func.def-6'><div class='marginalizedparent'><a class='marginalized' href='#func.def-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12855'>#</a></div><p ><span class='indexparent'><a class='index' id='call_wrapper'></a></span>A <a class='hidden_link' href='#def:call_wrapper' id='def:call_wrapper'><i>call wrapper</i></a> is an object of a call wrapper type.</p></div><div class='para' id='func.def-7'><div class='marginalizedparent'><a class='marginalized' href='#func.def-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12859'>#</a></div><p ><span class='indexparent'><a class='index' id='target_object'></a></span>A <a class='hidden_link' href='#def:target_object' id='def:target_object'><i>target object</i></a> is the callable object held by a call wrapper.</p></div></div><div id='func.require'><h3 ><a class='secnum' href='#func.require' style='min-width:103pt'>20.14.3</a> Requirements <a class='abbr_ref' href='func.require'>[func.require]</a></h3><div class='para' id='func.require-1'><div class='marginalizedparent'><a class='marginalized' href='#func.require-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12865'>#</a></div><p ><span class='indexparent'><a class='index' id='invoke'></a></span>Define <span class='texttt'><i>INVOKE</i>(f, t1, t2, ..., tN)</span> as follows:</p><ul class='itemize'><li id='func.require-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.require-1.1'>(1.1)</a></div><p ><span class='texttt'>(t1.*f)(t2, ..., tN)</span> when <span class='texttt'>f</span> is a pointer to a
member function of a class <span class='texttt'>T</span>
and <span class='texttt'>is_base_of_v&lt;T, decay_t&lt;decltype(t1)&gt;&gt;</span> is <span class='texttt'>true</span>;</p></li><li id='func.require-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.require-1.2'>(1.2)</a></div><p ><span class='texttt'>(t1.get().*f)(t2, ..., tN)</span> when <span class='texttt'>f</span> is a pointer to a
member function of a class <span class='texttt'>T</span>
and <span class='texttt'>decay_t&lt;decltype(t1)&gt;</span> is a specialization of <span class='texttt'>reference_wrapper</span>;</p></li><li id='func.require-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.require-1.3'>(1.3)</a></div><p ><span class='texttt'>((*t1).*f)(t2, ..., tN)</span> when <span class='texttt'>f</span> is a pointer to a
member function of a class <span class='texttt'>T</span>
and <span class='texttt'>t1</span> does not satisfy the previous two items;</p></li><li id='func.require-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.require-1.4'>(1.4)</a></div><p ><span class='texttt'>t1.*f</span> when <span class='texttt'>N == 1</span> and <span class='texttt'>f</span> is a pointer to
data member of a class <span class='texttt'>T</span>
and <span class='texttt'>is_base_of_v&lt;T, decay_t&lt;decltype(t1)&gt;&gt;</span> is <span class='texttt'>true</span>;</p></li><li id='func.require-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.require-1.5'>(1.5)</a></div><p ><span class='texttt'>t1.get().*f</span> when <span class='texttt'>N == 1</span> and <span class='texttt'>f</span> is a pointer to
data member of a class <span class='texttt'>T</span>
and <span class='texttt'>decay_t&lt;decltype(t1)&gt;</span> is a specialization of <span class='texttt'>reference_wrapper</span>;</p></li><li id='func.require-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.require-1.6'>(1.6)</a></div><p ><span class='texttt'>(*t1).*f</span> when <span class='texttt'>N == 1</span> and <span class='texttt'>f</span> is a pointer to
data member of a class <span class='texttt'>T</span>
and <span class='texttt'>t1</span> does not satisfy the previous two items;</p></li><li id='func.require-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.require-1.7'>(1.7)</a></div><p ><span class='texttt'>f(t1, t2, ..., tN)</span> in all other cases.
</p></li></ul></div><div class='para' id='func.require-2'><div class='marginalizedparent'><a class='marginalized' href='#func.require-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12897'>#</a></div><p ><span class='indexparent'><a class='index' id='invoke'></a></span>Define <span class='texttt'><i>INVOKE</i>(f, t1, t2, ..., tN, R)</span> as
<span class='texttt'>static_cast&lt;void&gt;(<i>INVOKE</i>(f, t1, t2, ..., tN))</span>
if <span class='texttt'>R</span> is <i>cv</i> <span class='texttt'>void</span>, otherwise
<span class='texttt'><i>INVOKE</i>(f, t1, t2, ..., tN)</span> implicitly converted
to <span class='texttt'>R</span>.</p></div><div class='para' id='func.require-3'><div class='marginalizedparent'><a class='marginalized' href='#func.require-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12905'>#</a></div><p ><span class='indexparent'><a class='index' id='call_wrapper'></a></span><span class='indexparent'><a class='index' id='call_wrapper,simple'></a></span><span class='indexparent'><a class='index' id='call_wrapper,forwarding'></a></span><span class='indexparent'><a class='index' id='simple_call_wrapper'></a></span><span class='indexparent'><a class='index' id='forwarding_call_wrapper'></a></span>Every call wrapper (<a href='func.def'>[func.def]</a>) shall be
<span class='texttt'>MoveConstructible</span>.
A <a class='hidden_link' href='#def:forwarding_call_wrapper' id='def:forwarding_call_wrapper'><i>forwarding call wrapper</i></a> is a
call wrapper that can be called with an arbitrary argument list
and delivers the arguments to the wrapped callable object as references.
This forwarding step shall ensure that rvalue arguments are delivered as rvalue references
and lvalue arguments are delivered as lvalue references.
A <a class='hidden_link' href='#def:simple_call_wrapper' id='def:simple_call_wrapper'><i>simple call wrapper</i></a> is a forwarding call wrapper that is
<span class='texttt'>CopyConstructible</span> and <span class='texttt'>CopyAssignable</span> and
whose copy constructor, move constructor, and assignment operator
do not throw exceptions.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> In a typical implementation
forwarding call wrappers have an overloaded function call
operator of
the form</p><pre class='codeblock'>
template&lt;class... UnBoundArgs&gt;
R operator()(UnBoundArgs&amp;&amp;... unbound_args) <i>cv-qual</i>;</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='func.invoke'><h3 ><a class='secnum' href='#func.invoke' style='min-width:103pt'>20.14.4</a> Function template <span class='texttt'>invoke</span> <a class='abbr_ref' href='func.invoke'>[func.invoke]</a></h3><p ><span class='indexparent'><a class='index' id='invoke'></a></span><span class='indexparent'><a class='index' id='invoke'></a></span><code class='itemdecl'>
template &lt;class F, class... Args&gt;
  result_of_t&lt;F&amp;&amp;(Args&amp;&amp;...)&gt; invoke(F&amp;&amp; f, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='func.invoke-1'><div class='marginalizedparent'><a class='marginalized' href='#func.invoke-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12942'>#</a></div><p ><i>Returns:</i>
<span class='texttt'><i>INVOKE</i>(std::forward&lt;F&gt;(f), std::forward&lt;Args&gt;(args)...)</span> (<a href='func.require'>[func.require]</a>).
</p></div></div></div><div id='refwrap'><h3 ><a class='secnum' href='#refwrap' style='min-width:103pt'>20.14.5</a> Class template <span class='texttt'>reference_wrapper</span> <a class='abbr_ref' href='refwrap'>[refwrap]</a></h3><p ><span class='indexparent'><a class='index' id='reference_wrapper'></a></span><span class='indexparent'><a class='index' id='function_object,reference_wrapper'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class T&gt; class reference_wrapper {
  public :
    <span class='comment'>// types
</span>    using type = T;

    <span class='comment'>// construct/copy/destroy
</span>    reference_wrapper(T&amp;) noexcept;
    reference_wrapper(T&amp;&amp;) = delete;     <span class='comment'>// do not bind to temporary objects
</span>    reference_wrapper(const reference_wrapper&amp; x) noexcept;

    <span class='comment'>// assignment
</span>    reference_wrapper&amp; operator=(const reference_wrapper&amp; x) noexcept;

    <span class='comment'>// access
</span>    operator T&amp; () const noexcept;
    T&amp; get() const noexcept;

    <span class='comment'>// invocation
</span>    template &lt;class... ArgTypes&gt;
    result_of_t&lt;T&amp;(ArgTypes&amp;&amp;...)&gt;
    operator() (ArgTypes&amp;&amp;...) const;
  };
}</pre><div class='para' id='refwrap-1'><div class='marginalizedparent'><a class='marginalized' href='#refwrap-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12978'>#</a></div><p ><span class='texttt'>reference_wrapper&lt;T&gt;</span> is a <span class='texttt'>CopyConstructible</span> and <span class='texttt'>CopyAssignable</span> wrapper
around a reference to an object or function of type <span class='texttt'>T</span>.</p></div><div class='para' id='refwrap-2'><div class='marginalizedparent'><a class='marginalized' href='#refwrap-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12982'>#</a></div><p ><span class='texttt'>reference_wrapper&lt;T&gt;</span> shall be a trivially copyable type (<a href='basic.types'>[basic.types]</a>).</p></div><div id='refwrap.const'><h4 ><a class='secnum' href='#refwrap.const' style='min-width:118pt'>20.14.5.1</a> <span class='texttt'>reference_wrapper</span> construct/copy/destroy <a class='abbr_ref' href='refwrap.const'>[refwrap.const]</a></h4><p ><span class='indexparent'><a class='index' id='reference_wrapper,constructor'></a></span><code class='itemdecl'>
reference_wrapper(T&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.const-1'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.const-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L12993'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>reference_wrapper</span> object that stores a
reference to <span class='texttt'>t</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reference_wrapper,constructor'></a></span><code class='itemdecl'>
reference_wrapper(const reference_wrapper&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.const-2'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.const-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13004'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>reference_wrapper</span> object that
stores a reference to <span class='texttt'>x.get()</span>.
</p></div></div></div><div id='refwrap.assign'><h4 ><a class='secnum' href='#refwrap.assign' style='min-width:118pt'>20.14.5.2</a> <span class='texttt'>reference_wrapper</span> assignment <a class='abbr_ref' href='refwrap.assign'>[refwrap.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,operator='></a></span><code class='itemdecl'>
reference_wrapper&amp; operator=(const reference_wrapper&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13016'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> stores a reference to  <span class='texttt'>x.get()</span>.
</p></div></div></div><div id='refwrap.access'><h4 ><a class='secnum' href='#refwrap.access' style='min-width:118pt'>20.14.5.3</a> <span class='texttt'>reference_wrapper</span> access <a class='abbr_ref' href='refwrap.access'>[refwrap.access]</a></h4><p ><span class='indexparent'><a class='index' id='operator_T&,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,operator_T&'></a></span><code class='itemdecl'>
operator T&amp; () const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.access-1'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.access-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13027'>#</a></div><p ><i>Returns:</i> The stored reference.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,get'></a></span><code class='itemdecl'>
T&amp; get() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.access-2'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13036'>#</a></div><p ><i>Returns:</i> The stored reference.
</p></div></div></div><div id='refwrap.invoke'><h4 ><a class='secnum' href='#refwrap.invoke' style='min-width:118pt'>20.14.5.4</a> <span class='texttt'>reference_wrapper</span> invocation <a class='abbr_ref' href='refwrap.invoke'>[refwrap.invoke]</a></h4><p ><span class='indexparent'><a class='index' id='operator(),reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,operator()'></a></span><code class='itemdecl'>
template &lt;class... ArgTypes&gt;
  result_of_t&lt;T&amp;(ArgTypes&amp;&amp;... )&gt;
    operator()(ArgTypes&amp;&amp;... args) const;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.invoke-1'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.invoke-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13050'>#</a></div><p ><i>Returns:</i> <span class='texttt'><i>INVOKE</i>(get(), std::forward&lt;ArgTypes&gt;(args)...)</span>. (<a href='func.require'>[func.require]</a>)
</p></div></div></div><div id='refwrap.helpers'><h4 ><a class='secnum' href='#refwrap.helpers' style='min-width:118pt'>20.14.5.5</a> <span class='texttt'>reference_wrapper</span> helper functions <a class='abbr_ref' href='refwrap.helpers'>[refwrap.helpers]</a></h4><p ><span class='indexparent'><a class='index' id='ref,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,ref'></a></span><code class='itemdecl'>
template &lt;class T&gt; reference_wrapper&lt;T&gt; ref(T&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.helpers-1'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.helpers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13062'>#</a></div><p ><i>Returns:</i> <span class='texttt'>reference_wrapper&lt;T&gt;(t)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ref,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,ref'></a></span><code class='itemdecl'>
template &lt;class T&gt; reference_wrapper&lt;T&gt; ref(reference_wrapper&lt;T&gt; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.helpers-2'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.helpers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13071'>#</a></div><p ><i>Returns:</i> <span class='texttt'>ref(t.get())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='cref,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,cref'></a></span><code class='itemdecl'>
template &lt;class T&gt; reference_wrapper&lt;const T&gt; cref(const T&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.helpers-3'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.helpers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13080'>#</a></div><p ><i>Returns:</i> <span class='texttt'>reference_wrapper &lt;const T&gt;(t)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='cref,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='reference_wrapper,cref'></a></span><code class='itemdecl'>
template &lt;class T&gt; reference_wrapper&lt;const T&gt; cref(reference_wrapper&lt;T&gt; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='refwrap.helpers-4'><div class='marginalizedparent'><a class='marginalized' href='#refwrap.helpers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13089'>#</a></div><p ><i>Returns:</i> <span class='texttt'>cref(t.get())</span>.
</p></div></div></div></div><div id='arithmetic.operations'><h3 ><a class='secnum' href='#arithmetic.operations' style='min-width:103pt'>20.14.6</a> Arithmetic operations <a class='abbr_ref' href='arithmetic.operations'>[arithmetic.operations]</a></h3><div class='para' id='arithmetic.operations-1'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13094'>#</a></div><p >The library provides basic function object classes for all of the arithmetic
operators in the language (<a href='expr.mul'>[expr.mul]</a>, <a href='expr.add'>[expr.add]</a>).</p></div><div id='arithmetic.operations.plus'><h4 ><a class='secnum' href='#arithmetic.operations.plus' style='min-width:118pt'>20.14.6.1</a> Class template <span class='texttt'>plus</span> <a class='abbr_ref' href='arithmetic.operations.plus'>[arithmetic.operations.plus]</a></h4><p ><span class='indexparent'><a class='index' id='plus'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct plus {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),plus'></a></span><span class='indexparent'><a class='index' id='plus,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.plus-1'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.plus-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13113'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x + y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='plus<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct plus&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) + std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),plus<>'></a></span><span class='indexparent'><a class='index' id='plus<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) + std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.plus-2'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.plus-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13133'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) + std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='arithmetic.operations.minus'><h4 ><a class='secnum' href='#arithmetic.operations.minus' style='min-width:118pt'>20.14.6.2</a> Class template <span class='texttt'>minus</span> <a class='abbr_ref' href='arithmetic.operations.minus'>[arithmetic.operations.minus]</a></h4><p ><span class='indexparent'><a class='index' id='minus'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct minus {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),minus'></a></span><span class='indexparent'><a class='index' id='minus,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.minus-1'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.minus-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13151'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x - y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='minus<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct minus&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) - std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),minus<>'></a></span><span class='indexparent'><a class='index' id='minus<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) - std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.minus-2'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.minus-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13171'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) - std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='arithmetic.operations.multiplies'><h4 ><a class='secnum' href='#arithmetic.operations.multiplies' style='min-width:118pt'>20.14.6.3</a> Class template <span class='texttt'>multiplies</span> <a class='abbr_ref' href='arithmetic.operations.multiplies'>[arithmetic.operations.multiplies]</a></h4><p ><span class='indexparent'><a class='index' id='multiplies'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct multiplies {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),multiplies'></a></span><span class='indexparent'><a class='index' id='multiplies,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.multiplies-1'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.multiplies-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13189'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x * y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='multiplies<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct multiplies&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) * std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),multiplies<>'></a></span><span class='indexparent'><a class='index' id='multiplies<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) * std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.multiplies-2'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.multiplies-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13209'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) * std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='arithmetic.operations.divides'><h4 ><a class='secnum' href='#arithmetic.operations.divides' style='min-width:118pt'>20.14.6.4</a> Class template <span class='texttt'>divides</span> <a class='abbr_ref' href='arithmetic.operations.divides'>[arithmetic.operations.divides]</a></h4><p ><span class='indexparent'><a class='index' id='divides'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct divides {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),divides'></a></span><span class='indexparent'><a class='index' id='divides,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.divides-1'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.divides-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13227'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x / y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='divides<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct divides&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) / std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),divides<>'></a></span><span class='indexparent'><a class='index' id='divides<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) / std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.divides-2'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.divides-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13247'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) / std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='arithmetic.operations.modulus'><h4 ><a class='secnum' href='#arithmetic.operations.modulus' style='min-width:118pt'>20.14.6.5</a> Class template <span class='texttt'>modulus</span> <a class='abbr_ref' href='arithmetic.operations.modulus'>[arithmetic.operations.modulus]</a></h4><p ><span class='indexparent'><a class='index' id='modulus'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct modulus {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),modulus'></a></span><span class='indexparent'><a class='index' id='modulus,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.modulus-1'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.modulus-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13265'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x % y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='modulus<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct modulus&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) % std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),modulus<>'></a></span><span class='indexparent'><a class='index' id='modulus<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) % std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.modulus-2'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.modulus-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13285'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) % std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='arithmetic.operations.negate'><h4 ><a class='secnum' href='#arithmetic.operations.negate' style='min-width:118pt'>20.14.6.6</a> Class template <span class='texttt'>negate</span> <a class='abbr_ref' href='arithmetic.operations.negate'>[arithmetic.operations.negate]</a></h4><p ><span class='indexparent'><a class='index' id='negate'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct negate {
  constexpr T operator()(const T&amp; x) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),negate'></a></span><span class='indexparent'><a class='index' id='negate,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x) const;
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.negate-1'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.negate-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13303'>#</a></div><p ><i>Returns:</i> <span class='texttt'>-x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='negate<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct negate&lt;void&gt; {
  template &lt;class T&gt; constexpr auto operator()(T&amp;&amp; t) const
    -&gt; decltype(-std::forward&lt;T&gt;(t));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),negate<>'></a></span><span class='indexparent'><a class='index' id='negate<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr auto operator()(T&amp;&amp; t) const
    -&gt; decltype(-std::forward&lt;T&gt;(t));
</code></p><div class='itemdescr'></div><div class='para' id='arithmetic.operations.negate-2'><div class='marginalizedparent'><a class='marginalized' href='#arithmetic.operations.negate-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13323'>#</a></div><p ><i>Returns:</i> <span class='texttt'>-std::forward&lt;T&gt;(t)</span>.
</p></div></div></div></div><div id='comparisons'><h3 ><a class='secnum' href='#comparisons' style='min-width:103pt'>20.14.7</a> Comparisons <a class='abbr_ref' href='comparisons'>[comparisons]</a></h3><div class='para' id='comparisons-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13329'>#</a></div><p >The library provides basic function object classes for all of the comparison
operators in the language (<a href='expr.rel'>[expr.rel]</a>, <a href='expr.eq'>[expr.eq]</a>).</p></div><div class='para' id='comparisons-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13333'>#</a></div><p >For templates <span class='texttt'>less</span>, <span class='texttt'>greater</span>, <span class='texttt'>less_equal</span>, and
<span class='texttt'>greater_equal</span>, the specializations for any pointer type
yield a strict total order that is consistent among those specializations and
is also consistent with the partial order imposed by
the built-in operators <span class='texttt'>&lt;</span>, <span class='texttt'>&gt;</span>, <span class='texttt'>&lt;=</span>, <span class='texttt'>&gt;=</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> When <span class='texttt'>a &lt; b</span> is well-defined
for pointers <span class='texttt'>a</span> and <span class='texttt'>b</span> of type <span class='texttt'>P</span>,
this implies <span class='texttt'>(a &lt; b) == less&lt;P&gt;(a, b)</span>,
<span class='texttt'>(a &gt; b) == greater&lt;P&gt;(a, b)</span>, and so forth. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
For template specializations <span class='texttt'>less&lt;void&gt;</span>, <span class='texttt'>greater&lt;void&gt;</span>,
<span class='texttt'>less_equal&lt;void&gt;</span>, and <span class='texttt'>greater_equal&lt;void&gt;</span>,
if the call operator calls a built-in operator comparing pointers,
the call operator yields a strict total order
that is consistent among those specializations and
is also consistent with the partial order imposed by those built-in operators.</p></div><div id='comparisons.equal_to'><h4 ><a class='secnum' href='#comparisons.equal_to' style='min-width:118pt'>20.14.7.1</a> Class template <span class='texttt'>equal_to</span> <a class='abbr_ref' href='comparisons.equal_to'>[comparisons.equal_to]</a></h4><p ><span class='indexparent'><a class='index' id='equal_to'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct equal_to {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),equal_to'></a></span><span class='indexparent'><a class='index' id='equal_to,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.equal_to-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.equal_to-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13365'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x == y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='equal_to<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct equal_to&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) == std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),equal_to<>'></a></span><span class='indexparent'><a class='index' id='equal_to<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) == std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.equal_to-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.equal_to-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13385'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) == std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='comparisons.not_equal_to'><h4 ><a class='secnum' href='#comparisons.not_equal_to' style='min-width:118pt'>20.14.7.2</a> Class template <span class='texttt'>not_equal_to</span> <a class='abbr_ref' href='comparisons.not_equal_to'>[comparisons.not_equal_to]</a></h4><p ><span class='indexparent'><a class='index' id='not_equal_to'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct not_equal_to {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),not_equal_to'></a></span><span class='indexparent'><a class='index' id='not_equal_to,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.not_equal_to-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.not_equal_to-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13403'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x != y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='not_equal_to<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct not_equal_to&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) != std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),not_equal_to<>'></a></span><span class='indexparent'><a class='index' id='not_equal_to<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) != std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.not_equal_to-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.not_equal_to-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13423'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) != std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='comparisons.greater'><h4 ><a class='secnum' href='#comparisons.greater' style='min-width:118pt'>20.14.7.3</a> Class template <span class='texttt'>greater</span> <a class='abbr_ref' href='comparisons.greater'>[comparisons.greater]</a></h4><p ><span class='indexparent'><a class='index' id='greater'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct greater {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),greater'></a></span><span class='indexparent'><a class='index' id='greater,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.greater-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.greater-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13441'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x &gt; y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='greater<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct greater&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &gt; std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),greater<>'></a></span><span class='indexparent'><a class='index' id='greater<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &gt; std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.greater-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.greater-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13461'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) &gt; std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='comparisons.less'><h4 ><a class='secnum' href='#comparisons.less' style='min-width:118pt'>20.14.7.4</a> Class template <span class='texttt'>less</span> <a class='abbr_ref' href='comparisons.less'>[comparisons.less]</a></h4><p ><span class='indexparent'><a class='index' id='less'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct less {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),less'></a></span><span class='indexparent'><a class='index' id='less,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.less-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.less-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13479'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x &lt; y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='less<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct less&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &lt; std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),less<>'></a></span><span class='indexparent'><a class='index' id='less<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &lt; std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.less-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.less-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13499'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) &lt; std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='comparisons.greater_equal'><h4 ><a class='secnum' href='#comparisons.greater_equal' style='min-width:118pt'>20.14.7.5</a> Class template <span class='texttt'>greater_equal</span> <a class='abbr_ref' href='comparisons.greater_equal'>[comparisons.greater_equal]</a></h4><p ><span class='indexparent'><a class='index' id='greater_equal'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct greater_equal {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),greater_equal'></a></span><span class='indexparent'><a class='index' id='greater_equal,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.greater_equal-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.greater_equal-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13517'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x &gt;= y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='greater_equal<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct greater_equal&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &gt;= std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),greater_equal<>'></a></span><span class='indexparent'><a class='index' id='greater_equal<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &gt;= std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.greater_equal-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.greater_equal-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13537'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) &gt;= std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='comparisons.less_equal'><h4 ><a class='secnum' href='#comparisons.less_equal' style='min-width:118pt'>20.14.7.6</a> Class template <span class='texttt'>less_equal</span> <a class='abbr_ref' href='comparisons.less_equal'>[comparisons.less_equal]</a></h4><p ><span class='indexparent'><a class='index' id='less_equal'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct less_equal {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),less_equal'></a></span><span class='indexparent'><a class='index' id='less_equal,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.less_equal-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.less_equal-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13555'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x &lt;= y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='less_equal<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct less_equal&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &lt;= std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),less_equal<>'></a></span><span class='indexparent'><a class='index' id='less_equal<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &lt;= std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='comparisons.less_equal-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons.less_equal-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13575'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) &lt;= std::forward&lt;U&gt;(u)</span>.
</p></div></div></div></div><div id='logical.operations'><h3 ><a class='secnum' href='#logical.operations' style='min-width:103pt'>20.14.8</a> Logical operations <a class='abbr_ref' href='logical.operations'>[logical.operations]</a></h3><div class='para' id='logical.operations-1'><div class='marginalizedparent'><a class='marginalized' href='#logical.operations-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13581'>#</a></div><p >The library provides basic function object classes for all of the logical
operators in the language (<a href='expr.log.and'>[expr.log.and]</a>, <a href='expr.log.or'>[expr.log.or]</a>, <a href='expr.unary.op'>[expr.unary.op]</a>).</p></div><div id='logical.operations.and'><h4 ><a class='secnum' href='#logical.operations.and' style='min-width:118pt'>20.14.8.1</a> Class template <span class='texttt'>logical_and</span> <a class='abbr_ref' href='logical.operations.and'>[logical.operations.and]</a></h4><p ><span class='indexparent'><a class='index' id='logical_and'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct logical_and {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),logical_and'></a></span><span class='indexparent'><a class='index' id='logical_and,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='logical.operations.and-1'><div class='marginalizedparent'><a class='marginalized' href='#logical.operations.and-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13600'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x &amp;&amp; y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='logical_and<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct logical_and&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &amp;&amp; std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),logical_and<>'></a></span><span class='indexparent'><a class='index' id='logical_and<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &amp;&amp; std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='logical.operations.and-2'><div class='marginalizedparent'><a class='marginalized' href='#logical.operations.and-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13620'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) &amp;&amp; std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='logical.operations.or'><h4 ><a class='secnum' href='#logical.operations.or' style='min-width:118pt'>20.14.8.2</a> Class template <span class='texttt'>logical_or</span> <a class='abbr_ref' href='logical.operations.or'>[logical.operations.or]</a></h4><p ><span class='indexparent'><a class='index' id='logical_or'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct logical_or {
  constexpr bool operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),logical_or'></a></span><span class='indexparent'><a class='index' id='logical_or,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='logical.operations.or-1'><div class='marginalizedparent'><a class='marginalized' href='#logical.operations.or-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13638'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x || y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='logical_or<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct logical_or&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) || std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),logical_or<>'></a></span><span class='indexparent'><a class='index' id='logical_or<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) || std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='logical.operations.or-2'><div class='marginalizedparent'><a class='marginalized' href='#logical.operations.or-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13658'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) || std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='logical.operations.not'><h4 ><a class='secnum' href='#logical.operations.not' style='min-width:118pt'>20.14.8.3</a> Class template <span class='texttt'>logical_not</span> <a class='abbr_ref' href='logical.operations.not'>[logical.operations.not]</a></h4><p ><span class='indexparent'><a class='index' id='logical_not'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct logical_not {
  constexpr bool operator()(const T&amp; x) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),logical_not'></a></span><span class='indexparent'><a class='index' id='logical_not,operator()'></a></span><code class='itemdecl'>
constexpr bool operator()(const T&amp; x) const;
</code></p><div class='itemdescr'></div><div class='para' id='logical.operations.not-1'><div class='marginalizedparent'><a class='marginalized' href='#logical.operations.not-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13676'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='logical_not<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct logical_not&lt;void&gt; {
  template &lt;class T&gt; constexpr auto operator()(T&amp;&amp; t) const
    -&gt; decltype(!std::forward&lt;T&gt;(t));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),logical_not<>'></a></span><span class='indexparent'><a class='index' id='logical_not<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr auto operator()(T&amp;&amp; t) const
    -&gt; decltype(!std::forward&lt;T&gt;(t));
</code></p><div class='itemdescr'></div><div class='para' id='logical.operations.not-2'><div class='marginalizedparent'><a class='marginalized' href='#logical.operations.not-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13696'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!std::forward&lt;T&gt;(t)</span>.
</p></div></div></div></div><div id='bitwise.operations'><h3 ><a class='secnum' href='#bitwise.operations' style='min-width:103pt'>20.14.9</a> Bitwise operations <a class='abbr_ref' href='bitwise.operations'>[bitwise.operations]</a></h3><div class='para' id='bitwise.operations-1'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13702'>#</a></div><p >The library provides basic function object classes for all of the bitwise
operators in the language (<a href='expr.bit.and'>[expr.bit.and]</a>, <a href='expr.or'>[expr.or]</a>,
<a href='expr.xor'>[expr.xor]</a>, <a href='expr.unary.op'>[expr.unary.op]</a>).</p></div><div id='bitwise.operations.and'><h4 ><a class='secnum' href='#bitwise.operations.and' style='min-width:118pt'>20.14.9.1</a> Class template <span class='texttt'>bit_and</span> <a class='abbr_ref' href='bitwise.operations.and'>[bitwise.operations.and]</a></h4><p ><span class='indexparent'><a class='index' id='bit_and'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct bit_and {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_and'></a></span><span class='indexparent'><a class='index' id='bit_and,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.and-1'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.and-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13722'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x &amp; y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='bit_and<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct bit_and&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &amp; std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_and<>'></a></span><span class='indexparent'><a class='index' id='bit_and<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) &amp; std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.and-2'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.and-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13742'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) &amp; std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='bitwise.operations.or'><h4 ><a class='secnum' href='#bitwise.operations.or' style='min-width:118pt'>20.14.9.2</a> Class template <span class='texttt'>bit_or</span> <a class='abbr_ref' href='bitwise.operations.or'>[bitwise.operations.or]</a></h4><p ><span class='indexparent'><a class='index' id='bit_or'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct bit_or {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_or'></a></span><span class='indexparent'><a class='index' id='bit_or,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.or-1'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.or-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13760'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x | y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='bit_or<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct bit_or&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) | std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_or<>'></a></span><span class='indexparent'><a class='index' id='bit_or<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) | std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.or-2'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.or-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13780'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) | std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='bitwise.operations.xor'><h4 ><a class='secnum' href='#bitwise.operations.xor' style='min-width:118pt'>20.14.9.3</a> Class template <span class='texttt'>bit_xor</span> <a class='abbr_ref' href='bitwise.operations.xor'>[bitwise.operations.xor]</a></h4><p ><span class='indexparent'><a class='index' id='bit_xor'></a></span><code class='itemdecl'>
template &lt;class T = void&gt; struct bit_xor {
  constexpr T operator()(const T&amp; x, const T&amp; y) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_xor'></a></span><span class='indexparent'><a class='index' id='bit_xor,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x, const T&amp; y) const;
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.xor-1'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.xor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13798'>#</a></div><p ><i>Returns:</i> <span class='texttt'>x ^ y</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='bit_xor<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct bit_xor&lt;void&gt; {
  template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) ^ std::forward&lt;U&gt;(u));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_xor<>'></a></span><span class='indexparent'><a class='index' id='bit_xor<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T, class U&gt; constexpr auto operator()(T&amp;&amp; t, U&amp;&amp; u) const
    -&gt; decltype(std::forward&lt;T&gt;(t) ^ std::forward&lt;U&gt;(u));
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.xor-2'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.xor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13818'>#</a></div><p ><i>Returns:</i> <span class='texttt'>std::forward&lt;T&gt;(t) ^ std::forward&lt;U&gt;(u)</span>.
</p></div></div></div><div id='bitwise.operations.not'><h4 ><a class='secnum' href='#bitwise.operations.not' style='min-width:118pt'>20.14.9.4</a> Class template <span class='texttt'>bit_not</span> <a class='abbr_ref' href='bitwise.operations.not'>[bitwise.operations.not]</a></h4><p ><code class='itemdecl'>
template &lt;class T = void&gt; struct bit_not {
  constexpr T operator()(const T&amp; x) const;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_not'></a></span><span class='indexparent'><a class='index' id='bit_not,operator()'></a></span><code class='itemdecl'>
constexpr T operator()(const T&amp; x) const;
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.not-1'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.not-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13835'>#</a></div><p ><i>Returns:</i> <span class='texttt'>~x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='bit_not<>'></a></span><code class='itemdecl'>
template &lt;&gt; struct bit_not&lt;void&gt; {
  template &lt;class T&gt; constexpr auto operator()(T&amp;&amp; t) const
    -&gt; decltype(~std::forward&lt;T&gt;(t));

  using is_transparent = <i><span class='texttt'>unspecified</span></i>;
};
</code></p><p ><span class='indexparent'><a class='index' id='operator(),bit_not<>'></a></span><span class='indexparent'><a class='index' id='bit_not<>,operator()'></a></span><code class='itemdecl'>
template &lt;class T&gt; constexpr auto operator()(T&amp;&amp;) const
    -&gt; decltype(~std::forward&lt;T&gt;(t));
</code></p><div class='itemdescr'></div><div class='para' id='bitwise.operations.not-2'><div class='marginalizedparent'><a class='marginalized' href='#bitwise.operations.not-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13855'>#</a></div><p ><i>Returns:</i> <span class='texttt'>~std::forward&lt;T&gt;(t)</span>.
</p></div></div></div></div><div id='func.not_fn'><h3 ><a class='secnum' href='#func.not_fn' style='min-width:103pt'>20.14.10</a> Function template <span class='texttt'>not_fn</span> <a class='abbr_ref' href='func.not_fn'>[func.not_fn]</a></h3><p ><span class='indexparent'><a class='index' id='not_fn'></a></span><code class='itemdecl'>
template &lt;class F&gt; <i><span class='texttt'>unspecified</span></i> not_fn(F&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.not_fn-1'><div class='marginalizedparent'><a class='marginalized' href='#func.not_fn-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13867'>#</a></div><p ><i>Effects:</i>
Equivalent to <span class='texttt'>return <i>call_wrapper</i>(std::forward&lt;F&gt;(f));</span>
where <span class='texttt'><i>call_wrapper</i></span> is an exposition only class defined as follows:
</p><pre class='codeblock'>
class <i>call_wrapper</i> {
  using FD = decay_t&lt;F&gt;;
  FD fd;

  explicit <i>call_wrapper</i>(F&amp;&amp; f);

public:
  <i>call_wrapper</i>(<i>call_wrapper</i>&amp;&amp;) = default;
  <i>call_wrapper</i>(const <span class='placeholder'></span>             call_wrapper&amp;) = default;

  template&lt;class... Args&gt;
    auto operator()(Args&amp;&amp;...) &amp;
      -&gt; decltype(!declval&lt;result_of_t&lt;FD&amp;(Args&amp;&amp;...)&gt;&gt;());

  template&lt;class... Args&gt;
    auto operator()(Args&amp;&amp;...) const&amp;
      -&gt; decltype(!declval&lt;result_of_t&lt;const FD&amp;(Args&amp;&amp;...)&gt;&gt;());

  template&lt;class... Args&gt;
    auto operator()(Args&amp;&amp;...) &amp;&amp;
      -&gt; decltype(!declval&lt;result_of_t&lt;FD(Args&amp;&amp;...)&gt;&gt;());

  template&lt;class... Args&gt;
    auto operator()(Args&amp;&amp;...) const&amp;&amp;
      -&gt; decltype(!declval&lt;result_of_t&lt;const FD(Args&amp;&amp;...)&gt;&gt;());
};</pre></div></div><p ><code class='itemdecl'>
explicit <i>call_wrapper</i>(F&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.not_fn-2'><div class='marginalizedparent'><a class='marginalized' href='#func.not_fn-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13906'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>FD</span> shall satisfy the requirements of <span class='texttt'>MoveConstructible</span>.
<span class='texttt'>is_constructible_v&lt;FD, F&gt;</span> shall be <span class='texttt'>true</span>.
<span class='texttt'>fd</span> shall be a callable object (<a href='func.def'>[func.def]</a>).</p></div></div><div class='para' id='func.not_fn-3'><div class='marginalizedparent'><a class='marginalized' href='#func.not_fn-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13912'>#</a></div><p ><i>Effects:</i>
Initializes <span class='texttt'>fd</span> from <span class='texttt'>std::forward&lt;F&gt;(f)</span>.</p></div></div><div class='para' id='func.not_fn-4'><div class='marginalizedparent'><a class='marginalized' href='#func.not_fn-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13916'>#</a></div><p ><i>Throws:</i>
Any exception thrown by construction of <span class='texttt'>fd</span>.
</p></div></div><p ><code class='itemdecl'>
template&lt;class... Args&gt;
  auto operator()(Args&amp;&amp;... args) &amp;
    -&gt; decltype(!declval&lt;result_of_t&lt;FD&amp;(Args&amp;&amp;...)&gt;&gt;());
template&lt;class... Args&gt;
  auto operator()(Args&amp;&amp;... args) const&amp;
    -&gt; decltype(!declval&lt;result_of_t&lt;const FD&amp;(Args&amp;&amp;...)&gt;&gt;());
</code></p><div class='itemdescr'></div><div class='para' id='func.not_fn-5'><div class='marginalizedparent'><a class='marginalized' href='#func.not_fn-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13931'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return !<i>INVOKE</i>(fd, std::forward&lt;Args&gt;(args)...);              <span class='comment'>// see <a href='func.require'>[func.require]</a>
</span></pre></div></div><p ><code class='itemdecl'>
template&lt;class... Args&gt;
  auto operator()(Args&amp;&amp;... args) &amp;&amp;
    -&gt; decltype(!declval&lt;result_of_t&lt;FD(Args&amp;&amp;...)&gt;&gt;());
template&lt;class... Args&gt;
  auto operator()(Args&amp;&amp;... args) const&amp;&amp;
    -&gt; decltype(!declval&lt;result_of_t&lt;const FD(Args&amp;&amp;...)&gt;&gt;());
</code></p><div class='itemdescr'></div><div class='para' id='func.not_fn-6'><div class='marginalizedparent'><a class='marginalized' href='#func.not_fn-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13949'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return !<i>INVOKE</i>(std::move(fd), std::forward&lt;Args&gt;(args)...);   <span class='comment'>// see <a href='func.require'>[func.require]</a>
</span></pre></div></div></div><div id='func.bind'><h3 ><a class='secnum' href='#func.bind' style='min-width:103pt'>20.14.11</a> Function object binders <a class='abbr_ref' href='func.bind'>[func.bind]</a></h3><p ><span class='indexparent'><a class='index' id='function_object,binders'></a></span></p><div class='para' id='func.bind-1'><div class='marginalizedparent'><a class='marginalized' href='#func.bind-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13960'>#</a></div><p >This subclause describes a uniform mechanism for binding
arguments of callable objects.</p></div><div id='func.bind.isbind'><h4 ><a class='secnum' href='#func.bind.isbind' style='min-width:118pt'>20.14.11.1</a> Class template <span class='texttt'>is_bind_expression</span> <a class='abbr_ref' href='func.bind.isbind'>[func.bind.isbind]</a></h4><p ><span class='indexparent'><a class='index' id='is_bind_expression'></a></span></p><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; struct is_bind_expression;  <span class='comment'>// see below
</span>}</pre><div class='para' id='func.bind.isbind-1'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.isbind-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13973'>#</a></div><p ><span class='texttt'>is_bind_expression</span> can be used to detect function objects
generated by <span class='texttt'>bind</span>. <span class='texttt'>bind</span>
uses <span class='texttt'>is_bind_expression</span> to detect subexpressions.</p></div><div class='para' id='func.bind.isbind-2'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.isbind-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13978'>#</a></div><p >Instantiations of the <span class='texttt'>is_bind_expression</span> template shall meet
the <span class='texttt'>UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>). The implementation
shall provide a definition that has a base characteristic of
<span class='texttt'>true_type</span> if <span class='texttt'>T</span> is a type returned from <span class='texttt'>bind</span>,
otherwise it shall have a base characteristic of <span class='texttt'>false_type</span>.
A program may specialize this template for a user-defined type <span class='texttt'>T</span>
to have a base characteristic of <span class='texttt'>true_type</span> to indicate that
<span class='texttt'>T</span> should be treated as a subexpression in a <span class='texttt'>bind</span> call.</p></div></div><div id='func.bind.isplace'><h4 ><a class='secnum' href='#func.bind.isplace' style='min-width:118pt'>20.14.11.2</a> Class template <span class='texttt'>is_placeholder</span> <a class='abbr_ref' href='func.bind.isplace'>[func.bind.isplace]</a></h4><p ><span class='indexparent'><a class='index' id='is_placeholder'></a></span></p><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; struct is_placeholder;      <span class='comment'>// see below
</span>}</pre><div class='para' id='func.bind.isplace-1'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.isplace-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L13997'>#</a></div><p ><span class='texttt'>is_placeholder</span> can be used to detect the standard placeholders
<span class='texttt'>_1</span>, <span class='texttt'>_2</span>, and so on. <span class='texttt'>bind</span> uses
<span class='texttt'>is_placeholder</span> to detect placeholders.</p></div><div class='para' id='func.bind.isplace-2'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.isplace-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14002'>#</a></div><p >Instantiations of the <span class='texttt'>is_placeholder</span> template shall meet
the <span class='texttt'>UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>). The implementation
shall provide a definition that has the base characteristic of
<span class='texttt'>integral_constant&lt;int, J&gt;</span> if <span class='texttt'>T</span> is the type of
<span class='texttt'>std::placeholders::_J</span>, otherwise it shall have a
base characteristic of <span class='texttt'>integral_constant&lt;int, 0&gt;</span>. A program
may specialize this template for a user-defined type <span class='texttt'>T</span> to
have a base characteristic of <span class='texttt'>integral_constant&lt;int, <i>N</i>&gt;</span>
with <span class='texttt'><i>N</i> &gt; 0</span> to indicate that <span class='texttt'>T</span> should be
treated as a placeholder type.</p></div></div><div id='func.bind.bind'><h4 ><a class='secnum' href='#func.bind.bind' style='min-width:118pt'>20.14.11.3</a> Function template <span class='texttt'>bind</span> <a class='abbr_ref' href='func.bind.bind'>[func.bind.bind]</a></h4><p ><span class='indexparent'><a class='index' id='bind'></a></span></p><div class='para' id='func.bind.bind-1'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14017'>#</a></div><p >In the text that follows:</p><ul class='itemize'><li id='func.bind.bind-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.1'>(1.1)</a></div><p ><span class='texttt'>FD</span> is the type <span class='texttt'>decay_t&lt;F&gt;</span>,
</p></li><li id='func.bind.bind-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.2'>(1.2)</a></div><p ><span class='texttt'>fd</span> is an lvalue of type <span class='texttt'>FD</span> constructed from <span class='texttt'>std::forward&lt;F&gt;(f)</span>,
</p></li><li id='func.bind.bind-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.3'>(1.3)</a></div><p ><span class='texttt'>Ti</span> is the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> type in the template parameter pack <span class='texttt'>BoundArgs</span>,
</p></li><li id='func.bind.bind-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.4'>(1.4)</a></div><p ><span class='texttt'>TiD</span> is the type <span class='texttt'>decay_t&lt;Ti&gt;</span>,
</p></li><li id='func.bind.bind-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.5'>(1.5)</a></div><p ><span class='texttt'>ti</span> is the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> argument in the function parameter pack <span class='texttt'>bound_args</span>,
</p></li><li id='func.bind.bind-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.6'>(1.6)</a></div><p ><span class='texttt'>tid</span> is an lvalue of type <span class='texttt'>TiD</span> constructed from <span class='texttt'>std::forward&lt;Ti&gt;(ti)</span>,
</p></li><li id='func.bind.bind-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.7'>(1.7)</a></div><p ><span class='texttt'>Uj</span> is the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> deduced type of the <span class='texttt'>UnBoundArgs&amp;&amp;...</span> parameter
  of the forwarding call wrapper, and
</p></li><li id='func.bind.bind-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-1.8'>(1.8)</a></div><p ><span class='texttt'>uj</span> is the <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span> argument associated with <span class='texttt'>Uj</span>.
</p></li></ul><p ><span class='indexparent'><a class='index' id='bind'></a></span><code class='itemdecl'>
template&lt;class F, class... BoundArgs&gt;
  <i><span class='texttt'>unspecified</span></i> bind(F&amp;&amp; f, BoundArgs&amp;&amp;... bound_args);
</code></p></div><div class='itemdescr'></div><div class='para' id='func.bind.bind-2'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14039'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>is_constructible_v&lt;FD, F&gt;</span> shall be <span class='texttt'>true</span>. For each <span class='texttt'>Ti</span>
in <span class='texttt'>BoundArgs</span>, <span class='texttt'>is_constructible_v&lt;TiD, Ti&gt;</span> shall be <span class='texttt'>true</span>.
<span class='texttt'><i>INVOKE</i> (fd, w1, w2, ...,
wN)</span> (<a href='func.require'>[func.require]</a>) shall be a valid expression for some
values <i>w1, w2, ..., wN</i>, where
<span class='texttt'>N == sizeof...(bound_args)</span>.
The cv-qualifiers <i>cv</i> of the call wrapper <span class='texttt'>g</span>,
as specified below, shall be neither <span class='texttt'>volatile</span> nor <span class='texttt'>const volatile</span>.</p></div></div><div class='para' id='func.bind.bind-3'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14050'>#</a></div><p ><i>Returns:</i>
A forwarding call wrapper <span class='texttt'>g</span> (<a href='func.require'>[func.require]</a>).
The effect of <span class='texttt'>g(u1, u2, ..., uM)</span> shall
be <span class='texttt'><i>INVOKE</i>(fd, std::forward&lt;V1&gt;(v1), std::forward&lt;V2&gt;(v2), ..., std::forward&lt;VN&gt;(vN))</span>,
where the values and types of the bound
arguments <span class='texttt'>v1, v2, ..., vN</span> are determined as specified below.
The copy constructor and move constructor of the forwarding call wrapper shall throw an
exception if and only if the corresponding constructor of <span class='texttt'>FD</span> or of any of the types
<span class='texttt'>TiD</span> throws an exception.</p></div></div><div class='para' id='func.bind.bind-4'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14060'>#</a></div><p ><i>Throws:</i> Nothing unless the construction of
<span class='texttt'>fd</span> or of one of the values <span class='texttt'>tid</span> throws an exception.</p></div></div><div class='para' id='func.bind.bind-5'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14064'>#</a></div><p ><i>Remarks:</i> The return type shall satisfy the requirements of <span class='texttt'>MoveConstructible</span>. If all
of <span class='texttt'>FD</span> and <span class='texttt'>TiD</span> satisfy the requirements of <span class='texttt'>CopyConstructible</span>, then the
return type shall satisfy the requirements of <span class='texttt'>CopyConstructible</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This implies
that all of <span class='texttt'>FD</span> and <span class='texttt'>TiD</span> are <span class='texttt'>MoveConstructible</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='bind'></a></span><code class='itemdecl'>
template&lt;class R, class F, class... BoundArgs&gt;
  <i><span class='texttt'>unspecified</span></i> bind(F&amp;&amp; f, BoundArgs&amp;&amp;... bound_args);
</code></p><div class='itemdescr'></div><div class='para' id='func.bind.bind-6'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14078'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>is_constructible_v&lt;FD, F&gt;</span> shall be <span class='texttt'>true</span>. For each <span class='texttt'>Ti</span>
in <span class='texttt'>BoundArgs</span>, <span class='texttt'>is_constructible_v&lt;TiD, Ti&gt;</span> shall be <span class='texttt'>true</span>.
<span class='texttt'><i>INVOKE</i>(fd, w1, w2, ..., wN)</span> shall be  a valid
expression for some
values <i>w1, w2, ..., wN</i>, where
<span class='texttt'>N == sizeof...(bound_args)</span>.
The cv-qualifiers <i>cv</i> of the call wrapper <span class='texttt'>g</span>,
as specified below, shall be neither <span class='texttt'>volatile</span> nor <span class='texttt'>const volatile</span>.</p></div></div><div class='para' id='func.bind.bind-7'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14089'>#</a></div><p ><i>Returns:</i>
A forwarding call wrapper <span class='texttt'>g</span> (<a href='func.require'>[func.require]</a>).
The effect of
<span class='texttt'>g(u1, u2, ..., uM)</span> shall be <span class='texttt'><i>INVOKE</i>(fd,
std::forward&lt;V1&gt;(v1), std::forward&lt;V2&gt;(v2), ...,
std::forward&lt;VN&gt;(vN), R)</span>, where the values and types of the bound
arguments <span class='texttt'>v1, v2, ..., vN</span> are determined as specified below.
The copy constructor and move constructor of the forwarding call wrapper shall throw an
exception if and only if the corresponding constructor of <span class='texttt'>FD</span> or of any of the types
<span class='texttt'>TiD</span> throws an exception.</p></div></div><div class='para' id='func.bind.bind-8'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14101'>#</a></div><p ><i>Throws:</i> Nothing unless the construction of
<span class='texttt'>fd</span> or of one of the values <span class='texttt'>tid</span> throws an exception.</p></div></div><div class='para' id='func.bind.bind-9'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14105'>#</a></div><p ><i>Remarks:</i> The return type shall satisfy the requirements of <span class='texttt'>MoveConstructible</span>. If all
of <span class='texttt'>FD</span> and <span class='texttt'>TiD</span> satisfy the requirements of <span class='texttt'>CopyConstructible</span>, then the
return type shall satisfy the requirements of <span class='texttt'>CopyConstructible</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This implies
that all of <span class='texttt'>FD</span> and <span class='texttt'>TiD</span> are <span class='texttt'>MoveConstructible</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><div class='para' id='func.bind.bind-10'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.bind-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14112'>#</a></div><p ><span class='indexparent'><a class='index' id='bound_arguments'></a></span>The values of the <i>bound arguments</i> <span class='texttt'>v1, v2, ..., vN</span> and their
corresponding types <span class='texttt'>V1, V2, ..., VN</span> depend on the
types <span class='texttt'>TiD</span> derived from
the call to <span class='texttt'>bind</span> and the
cv-qualifiers <i>cv</i> of the call wrapper <span class='texttt'>g</span> as follows:</p><ul class='itemize'><li id='func.bind.bind-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-10.1'>(10.1)</a></div><p >if <span class='texttt'>TiD</span> is <span class='texttt'>reference_wrapper&lt;T&gt;</span>, the
argument is <span class='texttt'>tid.get()</span> and its type <span class='texttt'>Vi</span> is <span class='texttt'>T&amp;</span>;</p></li><li id='func.bind.bind-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-10.2'>(10.2)</a></div><p >if the value of <span class='texttt'>is_bind_expression_v&lt;TiD&gt;</span>
is <span class='texttt'>true</span>, the argument is <span class='texttt'>tid(std::forward&lt;Uj&gt;(uj)...)</span>  and its
type <span class='texttt'>Vi</span> is
<span class='texttt'>result_of_t&lt;TiD <i>cv</i> &amp; (Uj&amp;&amp;...)&gt;&amp;&amp;</span>;</p></li><li id='func.bind.bind-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-10.3'>(10.3)</a></div><p >if the value <span class='texttt'>j</span> of <span class='texttt'>is_placeholder_v&lt;TiD&gt;</span>
is not zero, the  argument is <span class='texttt'>std::forward&lt;Uj&gt;(uj)</span>
and its type <span class='texttt'>Vi</span>
is <span class='texttt'>Uj&amp;&amp;</span>;</p></li><li id='func.bind.bind-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.bind.bind-10.4'>(10.4)</a></div><p >otherwise, the value is <span class='texttt'>tid</span> and its type <span class='texttt'>Vi</span>
is <span class='texttt'>TiD <i>cv</i> &amp;</span>.
</p></li></ul><p ><span class='indexparent'><a class='index' id='bind'></a></span>
</p></div></div><div id='func.bind.place'><h4 ><a class='secnum' href='#func.bind.place' style='min-width:118pt'>20.14.11.4</a> Placeholders <a class='abbr_ref' href='func.bind.place'>[func.bind.place]</a></h4><p ><span class='indexparent'><a class='index' id='placeholders'></a></span><span class='indexparent'><a class='index' id='1'></a></span></p><pre class='codeblock'>
namespace std::placeholders {
  <span class='comment'>// M is the <span class='indexparent'><a class='index' id='number_of_placeholders_for_bind_expressions'></a></span>implementation-defined number of placeholders
</span>  <i><span class='texttt'>see below</span></i> _1;
  <i><span class='texttt'>see below</span></i> _2;
              .
              .
              .
  <i><span class='texttt'>see below</span></i> _M;
}</pre><div class='para' id='func.bind.place-1'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.place-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14155'>#</a></div><p >All placeholder types shall be <span class='texttt'>DefaultConstructible</span> and
<span class='texttt'>CopyConstructible</span>, and their default constructors and copy/move
constructors shall not throw exceptions. It is <span class='indexparent'><a class='index' id='assignability_of_placeholder_objects'></a></span>implementation-defined whether
placeholder types are <span class='texttt'>CopyAssignable</span>. <span class='texttt'>CopyAssignable</span> placeholders' copy
assignment operators shall not throw exceptions.</p></div><div class='para' id='func.bind.place-2'><div class='marginalizedparent'><a class='marginalized' href='#func.bind.place-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14163'>#</a></div><p >Placeholders should be defined as:
</p><pre class='codeblock'>
constexpr <i><span class='texttt'>unspecified</span></i> _1{};</pre><p >If they are not, they shall be declared as:
</p><pre class='codeblock'>
extern <i><span class='texttt'>unspecified</span></i> _1;</pre><p ><span class='indexparent'><a class='index' id='function_object,binders'></a></span></p></div></div></div><div id='func.memfn'><h3 ><a class='secnum' href='#func.memfn' style='min-width:103pt'>20.14.12</a> Function template <span class='texttt'>mem_fn</span> <a class='abbr_ref' href='func.memfn'>[func.memfn]</a></h3><p ><span class='indexparent'><a class='index' id='function_object,mem_fn'></a></span></p><p ><span class='indexparent'><a class='index' id='mem_fn'></a></span><code class='itemdecl'>
template&lt;class R, class T&gt; <i><span class='texttt'>unspecified</span></i> mem_fn(R T::* pm) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.memfn-1'><div class='marginalizedparent'><a class='marginalized' href='#func.memfn-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14183'>#</a></div><p ><i>Returns:</i> A simple call wrapper (<a href='func.def'>[func.def]</a>) <span class='texttt'>fn</span>
such that the expression <span class='texttt'>fn(t, a2, ..., aN)</span> is equivalent
to <span class='texttt'><i>INVOKE</i>(pm, t, a2, ..., aN)</span> (<a href='func.require'>[func.require]</a>).
</p></div></div><p ><span class='indexparent'><a class='index' id='function_object,mem_fn'></a></span></p></div><div id='func.wrap'><h3 ><a class='secnum' href='#func.wrap' style='min-width:103pt'>20.14.13</a> Polymorphic function wrappers <a class='abbr_ref' href='func.wrap'>[func.wrap]</a></h3><p ><span class='indexparent'><a class='index' id='function_object,wrapper'></a></span></p><div class='para' id='func.wrap-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14193'>#</a></div><p >This subclause describes a polymorphic wrapper class that
encapsulates arbitrary callable objects.</p></div><div id='func.wrap.badcall'><h4 ><a class='secnum' href='#func.wrap.badcall' style='min-width:118pt'>20.14.13.1</a> Class <span class='texttt'>bad_function_call</span> <a class='abbr_ref' href='func.wrap.badcall'>[func.wrap.badcall]</a></h4><p ><span class='indexparent'><a class='index' id='bad_function_call'></a></span>
</p><div class='para' id='func.wrap.badcall-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.badcall-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14200'>#</a></div><p >An exception of type <span class='texttt'>bad_function_call</span> is thrown by
<span class='texttt'>function::operator()</span> (<a href='func.wrap.func.inv'>[func.wrap.func.inv]</a>)
when the function wrapper object has no target.</p><pre class='codeblock'>
namespace std {
  class bad_function_call : public exception {
  public:
    <span class='comment'>// <a href='func.wrap.badcall.const'>[func.wrap.badcall.const]</a>, constructor
</span>    bad_function_call() noexcept;
  };
}</pre></div><div id='func.wrap.badcall.const'><h4 ><a class='secnum' href='#func.wrap.badcall.const' style='min-width:133pt'>20.14.13.1.1</a> <span class='texttt'>bad_function_call</span> constructor <a class='abbr_ref' href='func.wrap.badcall.const'>[func.wrap.badcall.const]</a></h4><p ><span class='indexparent'><a class='index' id='bad_function_call,constructor'></a></span><span class='indexparent'><a class='index' id='what,bad_function_call'></a></span><span class='indexparent'><a class='index' id='bad_function_call,what'></a></span><code class='itemdecl'>
bad_function_call() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.badcall.const-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.badcall.const-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14224'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>bad_function_call</span> object.
</p></div></div><div class='itemdescr'></div><div class='para' id='func.wrap.badcall.const-2'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.badcall.const-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14228'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>what()</span> returns an
<span class='indexparent'><a class='index' id='return_value_of_bad_function_call::what'></a></span>implementation-defined <span class='textsc'>ntbs</span>.
</p></div></div></div></div><div id='func.wrap.func'><h4 ><a class='secnum' href='#func.wrap.func' style='min-width:118pt'>20.14.13.2</a> Class template <span class='texttt'>function</span> <a class='abbr_ref' href='func.wrap.func'>[func.wrap.func]</a></h4><p ><span class='indexparent'><a class='index' id='function'></a></span>
</p><pre class='codeblock'>
namespace std {
  template&lt;class&gt; class function; <span class='comment'>// not defined
</span>
  template&lt;class R, class... ArgTypes&gt;
  class function&lt;R(ArgTypes...)&gt; {
  public:
    using result_type = R;

    <span class='comment'>// <a href='func.wrap.func.con'>[func.wrap.func.con]</a>, construct/copy/destroy
</span>    function() noexcept;
    function(nullptr_t) noexcept;
    function(const function&amp;);
    function(function&amp;&amp;);
    template&lt;class F&gt; function(F);

    function&amp; operator=(const function&amp;);
    function&amp; operator=(function&amp;&amp;);
    function&amp; operator=(nullptr_t) noexcept;
    template&lt;class F&gt; function&amp; operator=(F&amp;&amp;);
    template&lt;class F&gt; function&amp; operator=(reference_wrapper&lt;F&gt;) noexcept;

    ~function();

    <span class='comment'>// <a href='func.wrap.func.mod'>[func.wrap.func.mod]</a>, function modifiers
</span>    void swap(function&amp;) noexcept;

    <span class='comment'>// <a href='func.wrap.func.cap'>[func.wrap.func.cap]</a>, function capacity
</span>    explicit operator bool() const noexcept;

    <span class='comment'>// <a href='func.wrap.func.inv'>[func.wrap.func.inv]</a>, function invocation
</span>    R operator()(ArgTypes...) const;

    <span class='comment'>// <a href='func.wrap.func.targ'>[func.wrap.func.targ]</a>, function target access
</span>    const type_info&amp; target_type() const noexcept;
    template&lt;class T&gt;       T* target() noexcept;
    template&lt;class T&gt; const T* target() const noexcept;

  };

  <span class='comment'>// <a href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a>, Null pointer comparisons
</span>  template &lt;class R, class... ArgTypes&gt;
    bool operator==(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator==(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator!=(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator!=(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  <span class='comment'>// <a href='func.wrap.func.alg'>[func.wrap.func.alg]</a>, specialized algorithms
</span>  template &lt;class R, class... ArgTypes&gt;
    void swap(function&lt;R(ArgTypes...)&gt;&amp;, function&lt;R(ArgTypes...)&gt;&amp;) noexcept;
}</pre><div class='para' id='func.wrap.func-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14294'>#</a></div><p >The <span class='texttt'>function</span> class template provides polymorphic wrappers that
generalize the notion of a function pointer. Wrappers can store, copy,
and call arbitrary callable objects (<a href='func.def'>[func.def]</a>), given a call
signature (<a href='func.def'>[func.def]</a>), allowing functions to be first-class objects.</p></div><div class='para' id='func.wrap.func-2'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14300'>#</a></div><p ><span class='indexparent'><a class='index' id='callable_type'></a></span>A callable type (<a href='func.def'>[func.def]</a>) <span class='texttt'>F</span>
is <a class='hidden_link' href='#def:Lvalue-Callable' id='def:Lvalue-Callable'><i>Lvalue-Callable</i></a> for argument
types <span class='texttt'>ArgTypes</span>
and return type <span class='texttt'>R</span>
if the expression
<span class='texttt'><i>INVOKE</i>(declval&lt;F&amp;&gt;(), declval&lt;ArgTypes&gt;()..., R)</span>,
considered as an unevaluated operand (Clause <a href='expr'>[expr]</a>), is
well formed (<a href='func.require'>[func.require]</a>).</p></div><div class='para' id='func.wrap.func-3'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14311'>#</a></div><p >The <span class='texttt'>function</span> class template is a call
wrapper (<a href='func.def'>[func.def]</a>) whose call signature (<a href='func.def'>[func.def]</a>)
is <span class='texttt'>R(ArgTypes...)</span>.</p></div><div id='func.wrap.func.con'><h4 ><a class='secnum' href='#func.wrap.func.con' style='min-width:133pt'>20.14.13.2.1</a> <span class='texttt'>function</span> construct/copy/destroy <a class='abbr_ref' href='func.wrap.func.con'>[func.wrap.func.con]</a></h4><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14324'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function(nullptr_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-2'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14333'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function(const function&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-3'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14343'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span> if <span class='texttt'>!f</span>; otherwise,
<span class='texttt'>*this</span> targets a copy of <span class='texttt'>f.target()</span>.</p></div></div><div class='para' id='func.wrap.func.con-4'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14347'>#</a></div><p ><i>Throws:</i> shall not throw exceptions if <span class='texttt'>f</span>'s target is
a callable object passed via <span class='texttt'>reference_wrapper</span> or
a function pointer. Otherwise, may throw <span class='texttt'>bad_alloc</span>
or any exception thrown by the copy constructor of the stored callable object.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Implementations are encouraged to avoid the use of
dynamically allocated memory for small callable objects, for example, where
<span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function(function&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-5'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14364'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>!f</span>, <span class='texttt'>*this</span> has
no target; otherwise, move constructs the target of <span class='texttt'>f</span>
into the target of <span class='texttt'>*this</span>, leaving <span class='texttt'>f</span> in
a valid state with an unspecified value.</p></div></div><div class='para' id='func.wrap.func.con-6'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14370'>#</a></div><p ><i>Throws:</i> shall not throw exceptions if <span class='texttt'>f</span>'s target is
a callable object passed via <span class='texttt'>reference_wrapper</span> or
a function pointer. Otherwise, may throw <span class='texttt'>bad_alloc</span> or
any exception thrown by the copy or move constructor
of the stored callable object.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Implementations are encouraged to avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
template&lt;class F&gt; function(F f);
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-7'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14388'>#</a></div><p ><i>Requires:</i> <span class='texttt'>F</span> shall be <span class='texttt'>CopyConstructible</span>.</p></div></div><div class='para' id='func.wrap.func.con-8'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14391'>#</a></div><p ><i>Remarks:</i> This constructor template shall not participate in overload resolution unless
<span class='texttt'>F</span> is Lvalue-Callable (<a href='func.wrap.func'>[func.wrap.func]</a>) for argument types
<span class='texttt'>ArgTypes...</span> and return type <span class='texttt'>R</span>.</p></div></div><div class='para' id='func.wrap.func.con-9'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14396'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span> if any of the following hold:
</p><ul class='itemize'><li id='func.wrap.func.con-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.wrap.func.con-9.1'>(9.1)</a></div><p ><span class='texttt'>f</span> is a null function pointer value.
</p></li><li id='func.wrap.func.con-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.wrap.func.con-9.2'>(9.2)</a></div><p ><span class='texttt'>f</span> is a null member pointer value.
</p></li><li id='func.wrap.func.con-9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.wrap.func.con-9.3'>(9.3)</a></div><p ><span class='texttt'>F</span> is an instance of the <span class='texttt'>function</span> class template, and
  <span class='texttt'>!f</span>.
</p></li></ul></div></div><div class='para' id='func.wrap.func.con-10'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14405'>#</a></div><p >Otherwise, <span class='texttt'>*this</span> targets a copy of <span class='texttt'>f</span>
initialized with <span class='texttt'>std::move(f)</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Implementations are encouraged to avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span> is an object holding only a pointer or
reference to an object and a member function pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='func.wrap.func.con-11'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14413'>#</a></div><p ><i>Throws:</i> shall not throw exceptions when <span class='texttt'>f</span> is a function pointer
or a <span class='texttt'>reference_wrapper&lt;T&gt;</span> for some <span class='texttt'>T</span>. Otherwise,
may throw <span class='texttt'>bad_alloc</span> or any exception thrown by <span class='texttt'>F</span>'s copy
or move constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
function&amp; operator=(const function&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-12'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14426'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>function(f).swap(*this);</span></p></div></div><div class='para' id='func.wrap.func.con-13'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14429'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
function&amp; operator=(function&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-14'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14439'>#</a></div><p ><i>Effects:</i> Replaces the target of <span class='texttt'>*this</span>
with the target of <span class='texttt'>f</span>.</p></div></div><div class='para' id='func.wrap.func.con-15'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14443'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
function&amp; operator=(nullptr_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-16'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14453'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>*this != nullptr</span>, destroys the target of <span class='texttt'>this</span>.</p></div></div><div class='para' id='func.wrap.func.con-17'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14455'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!(*this)</span>.</p></div></div><div class='para' id='func.wrap.func.con-18'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14457'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
template&lt;class F&gt; function&amp; operator=(F&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-19'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14466'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>function(std::forward&lt;F&gt;(f)).swap(*this);</span></p></div></div><div class='para' id='func.wrap.func.con-20'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14468'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='func.wrap.func.con-21'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14470'>#</a></div><p ><i>Remarks:</i> This assignment operator shall not participate in overload
resolution unless <span class='texttt'>decay_t&lt;F&gt;</span> is
Lvalue-Callable (<a href='func.wrap.func'>[func.wrap.func]</a>) for argument types <span class='texttt'>ArgTypes...</span> and
return type <span class='texttt'>R</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
template&lt;class F&gt; function&amp; operator=(reference_wrapper&lt;F&gt; f) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-22'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14482'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>function(f).swap(*this);</span></p></div></div><div class='para' id='func.wrap.func.con-23'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14484'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='function,destructor'></a></span><code class='itemdecl'>
~function();
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.con-24'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.con-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14494'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>*this != nullptr</span>, destroys the target of <span class='texttt'>this</span>.
</p></div></div></div><div id='func.wrap.func.mod'><h4 ><a class='secnum' href='#func.wrap.func.mod' style='min-width:133pt'>20.14.13.2.2</a> <span class='texttt'>function</span> modifiers <a class='abbr_ref' href='func.wrap.func.mod'>[func.wrap.func.mod]</a></h4><p ><span class='indexparent'><a class='index' id='swap,function'></a></span><span class='indexparent'><a class='index' id='function,swap'></a></span><code class='itemdecl'>
void swap(function&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14505'>#</a></div><p ><i>Effects:</i> interchanges the targets of <span class='texttt'>*this</span> and <span class='texttt'>other</span>.
</p></div></div></div><div id='func.wrap.func.cap'><h4 ><a class='secnum' href='#func.wrap.func.cap' style='min-width:133pt'>20.14.13.2.3</a> <span class='texttt'>function</span> capacity <a class='abbr_ref' href='func.wrap.func.cap'>[func.wrap.func.cap]</a></h4><p ><span class='indexparent'><a class='index' id='operator_bool,function'></a></span><span class='indexparent'><a class='index' id='function,operator_bool'></a></span><code class='itemdecl'>
explicit operator bool() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.cap-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.cap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14516'>#</a></div><p ><i>Returns:</i> <span class='texttt'>true</span> if <span class='texttt'>*this</span> has a target, otherwise <span class='texttt'>false</span>.
</p></div></div></div><div id='func.wrap.func.inv'><h4 ><a class='secnum' href='#func.wrap.func.inv' style='min-width:133pt'>20.14.13.2.4</a> <span class='texttt'>function</span> invocation <a class='abbr_ref' href='func.wrap.func.inv'>[func.wrap.func.inv]</a></h4><p ><span class='indexparent'><a class='index' id='function,invocation'></a></span><span class='indexparent'><a class='index' id='operator(),function'></a></span><span class='indexparent'><a class='index' id='function,operator()'></a></span><code class='itemdecl'>
R operator()(ArgTypes... args) const;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.inv-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14529'>#</a></div><p ><i>Returns:</i> <span class='texttt'><i>INVOKE</i>(f, std::forward&lt;ArgTypes&gt;(args)..., R)</span> (<a href='func.require'>[func.require]</a>),
where <span class='texttt'>f</span> is the target object (<a href='func.def'>[func.def]</a>) of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='func.wrap.func.inv-2'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.inv-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14533'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>bad_function_call</span> if <span class='texttt'>!*this</span>; otherwise, any
exception thrown by the wrapped callable object.
</p></div></div></div><div id='func.wrap.func.targ'><h4 ><a class='secnum' href='#func.wrap.func.targ' style='min-width:133pt'>20.14.13.2.5</a> <span class='texttt'>function</span> target access <a class='abbr_ref' href='func.wrap.func.targ'>[func.wrap.func.targ]</a></h4><p ><span class='indexparent'><a class='index' id='target_type,function'></a></span><span class='indexparent'><a class='index' id='function,target_type'></a></span><code class='itemdecl'>
const type_info&amp; target_type() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.targ-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.targ-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14546'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>*this</span> has a target of type <span class='texttt'>T</span>,
  <span class='texttt'>typeid(T)</span>; otherwise, <span class='texttt'>typeid(void)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='target,function'></a></span><span class='indexparent'><a class='index' id='function,target'></a></span><code class='itemdecl'>
template&lt;class T&gt;       T* target() noexcept;
template&lt;class T&gt; const T* target() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.targ-2'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.targ-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14557'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>target_type() == typeid(T)</span>
a pointer to the stored function target; otherwise a null pointer.
</p></div></div></div><div id='func.wrap.func.nullptr'><h4 ><a class='secnum' href='#func.wrap.func.nullptr' style='min-width:133pt'>20.14.13.2.6</a> null pointer comparison functions <a class='abbr_ref' href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,function'></a></span><span class='indexparent'><a class='index' id='function,operator=='></a></span><code class='itemdecl'>
template &lt;class R, class... ArgTypes&gt;
  bool operator==(const function&lt;R(ArgTypes...)&gt;&amp; f, nullptr_t) noexcept;
template &lt;class R, class... ArgTypes&gt;
  bool operator==(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp; f) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.nullptr-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.nullptr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14572'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!f</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,function'></a></span><span class='indexparent'><a class='index' id='function,operator!='></a></span><code class='itemdecl'>
template &lt;class R, class... ArgTypes&gt;
  bool operator!=(const function&lt;R(ArgTypes...)&gt;&amp; f, nullptr_t) noexcept;
template &lt;class R, class... ArgTypes&gt;
  bool operator!=(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp; f) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.nullptr-2'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.nullptr-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14584'>#</a></div><p ><i>Returns:</i> <span class='texttt'>(bool)f</span>.
</p></div></div></div><div id='func.wrap.func.alg'><h4 ><a class='secnum' href='#func.wrap.func.alg' style='min-width:133pt'>20.14.13.2.7</a> specialized algorithms <a class='abbr_ref' href='func.wrap.func.alg'>[func.wrap.func.alg]</a></h4><p ><span class='indexparent'><a class='index' id='swap,function'></a></span><span class='indexparent'><a class='index' id='function,swap'></a></span><code class='itemdecl'>
template&lt;class R, class... ArgTypes&gt;
  void swap(function&lt;R(ArgTypes...)&gt;&amp; f1, function&lt;R(ArgTypes...)&gt;&amp; f2) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.wrap.func.alg-1'><div class='marginalizedparent'><a class='marginalized' href='#func.wrap.func.alg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14596'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>f1.swap(f2);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='function_object,wrapper'></a></span></p></div></div></div><div id='func.search'><h3 ><a class='secnum' href='#func.search' style='min-width:103pt'>20.14.14</a> Searchers <a class='abbr_ref' href='func.search'>[func.search]</a></h3><div class='para' id='func.search-1'><div class='marginalizedparent'><a class='marginalized' href='#func.search-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14602'>#</a></div><p >This subclause provides function object types (<a href='function.objects'>[function.objects]</a>) for
operations that search for a sequence <span class='texttt'>[pat_<span class='nobreak'></span>first, pat_last)</span> in another
sequence <span class='texttt'>[first, last)</span> that is provided to the object's function call
operator.  The first sequence (the pattern to be searched for) is provided to
the object's constructor, and the second (the sequence to be searched) is
provided to the function call operator.</p></div><div class='para' id='func.search-2'><div class='marginalizedparent'><a class='marginalized' href='#func.search-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14610'>#</a></div><p >Each specialization of a class template specified in this subclause <a href='func.search'>[func.search]</a> shall meet the <span class='texttt'>CopyConstructible</span> and <span class='texttt'>CopyAssignable</span> requirements.
Template parameters named
</p><ul class='itemize'><li id='func.search-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.search-2.1'>(2.1)</a></div><p ><span class='texttt'>ForwardIterator</span>,
</p></li><li id='func.search-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.search-2.2'>(2.2)</a></div><p ><span class='texttt'>ForwardIterator1</span>,
</p></li><li id='func.search-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.search-2.3'>(2.3)</a></div><p ><span class='texttt'>ForwardIterator2</span>,
</p></li><li id='func.search-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.search-2.4'>(2.4)</a></div><p ><span class='texttt'>RandomAccessIterator</span>,
</p></li><li id='func.search-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.search-2.5'>(2.5)</a></div><p ><span class='texttt'>RandomAccessIterator1</span>,
</p></li><li id='func.search-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.search-2.6'>(2.6)</a></div><p ><span class='texttt'>RandomAccessIterator2</span>, and
</p></li><li id='func.search-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#func.search-2.7'>(2.7)</a></div><p ><span class='texttt'>BinaryPredicate</span>
</p></li></ul><p >of templates specified in this subclause
<a href='func.search'>[func.search]</a> shall meet the same requirements and semantics as
specified in <a href='algorithms.general'>[algorithms.general]</a>.
Template parameters named <span class='texttt'>Hash</span> shall meet the requirements as specified in <a href='hash.requirements'>[hash.requirements]</a>.</p></div><div class='para' id='func.search-3'><div class='marginalizedparent'><a class='marginalized' href='#func.search-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14627'>#</a></div><p >The Boyer-Moore searcher implements the Boyer-Moore search algorithm.
The Boyer-Moore-Horspool searcher implements the Boyer-Moore-Horspool search algorithm.
In general, the Boyer-Moore searcher will use more memory and give better runtime performance than Boyer-Moore-Horspool</p></div><div id='func.search.default'><h4 ><a class='secnum' href='#func.search.default' style='min-width:118pt'>20.14.14.1</a> Class template <span class='texttt'>default_searcher</span> <a class='abbr_ref' href='func.search.default'>[func.search.default]</a></h4><p ><span class='indexparent'><a class='index' id='default_searcher'></a></span></p><pre class='codeblock'>
template &lt;class ForwardIterator1, class BinaryPredicate = equal_to&lt;&gt;&gt;
class default_searcher {
public:
  default_searcher(ForwardIterator1 pat_first, ForwardIterator1 pat_last,
                   BinaryPredicate pred = BinaryPredicate());

  template &lt;class ForwardIterator2&gt;
    pair&lt;ForwardIterator2, ForwardIterator2&gt;
      operator()(ForwardIterator2 first, ForwardIterator2 last) const;

private:
  ForwardIterator1 pat_first_; <span class='comment'>// <i>exposition only</i>
</span>  ForwardIterator1 pat_last_;  <span class='comment'>// <i>exposition only</i>
</span>  BinaryPredicate pred_;       <span class='comment'>// <i>exposition only</i>
</span>};</pre><p ><span class='indexparent'><a class='index' id='default_searcher,constructor'></a></span><code class='itemdecl'>
default_searcher(ForwardIterator pat_first, ForwardIterator pat_last,
                 BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='func.search.default-1'><div class='marginalizedparent'><a class='marginalized' href='#func.search.default-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14660'>#</a></div><p ><i>Effects:</i>
Constructs a <span class='texttt'>default_searcher</span> object, initializing <span class='texttt'>pat_first_</span>
with <span class='texttt'>pat_first</span>, <span class='mbox'><span class='texttt'>pat_last_</span></span> with <span class='texttt'>pat_last</span>, and
<span class='texttt'>pred_</span> with <span class='texttt'>pred</span>.</p></div></div><div class='para' id='func.search.default-2'><div class='marginalizedparent'><a class='marginalized' href='#func.search.default-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14667'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the copy constructor of <span class='texttt'>BinaryPredicate</span> or
<span class='texttt'>ForwardIterator1</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator(),default_searcher'></a></span><span class='indexparent'><a class='index' id='default_searcher,operator()'></a></span><code class='itemdecl'>
template&lt;class ForwardIterator2&gt;
  pair&lt;ForwardIterator2, ForwardIterator2&gt;
    operator()(ForwardIterator2 first, ForwardIterator2 last) const;
</code></p><div class='itemdescr'></div><div class='para' id='func.search.default-3'><div class='marginalizedparent'><a class='marginalized' href='#func.search.default-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14681'>#</a></div><p ><i>Effects:</i>
Returns a pair of iterators <span class='texttt'>i</span> and <span class='texttt'>j</span> such that
</p><ul class='itemize'><li id='func.search.default-3.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.search.default-3.1'>(3.1)</a></div><p ><span class='texttt'>i == search(first, last, pat_first_, pat_last_, pred_)</span>, and
</p></li><li id='func.search.default-3.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.search.default-3.2'>(3.2)</a></div><p >if <span class='texttt'>i == last</span>, then <span class='texttt'>j == last</span>,
otherwise <span class='texttt'>j == next(i, distance(pat_first_, pat_last_))</span>.
</p></li></ul></div></div><div id='func.search.default.creation'><h4 ><a class='secnum' href='#func.search.default.creation' style='min-width:133pt'>20.14.14.1.1</a> <span class='texttt'>default_searcher</span> creation functions <a class='abbr_ref' href='func.search.default.creation'>[func.search.default.creation]</a></h4><p ><span class='indexparent'><a class='index' id='make_default_searcher'></a></span><code class='itemdecl'>
template &lt;class ForwardIterator, class BinaryPredicate = equal_to&lt;&gt;&gt;
  default_searcher&lt;ForwardIterator, BinaryPredicate&gt;
    make_default_searcher(ForwardIterator pat_first, ForwardIterator pat_last,
                          BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='func.search.default.creation-1'><div class='marginalizedparent'><a class='marginalized' href='#func.search.default.creation-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14702'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return default_searcher&lt;ForwardIterator, BinaryPredicate&gt;(pat_first, pat_last, pred);</pre></div></div></div></div><div id='func.search.bm'><h4 ><a class='secnum' href='#func.search.bm' style='min-width:118pt'>20.14.14.2</a> Class template <span class='texttt'>boyer_moore_searcher</span> <a class='abbr_ref' href='func.search.bm'>[func.search.bm]</a></h4><p ><span class='indexparent'><a class='index' id='boyer_moore_searcher'></a></span></p><pre class='codeblock'>
template &lt;class RandomAccessIterator1,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator1&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
class boyer_moore_searcher {
public:
  boyer_moore_searcher(RandomAccessIterator1 pat_first,
                       RandomAccessIterator1 pat_last, Hash hf = Hash(),
                       BinaryPredicate pred = BinaryPredicate());

  template &lt;class RandomAccessIterator2&gt;
    pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
      operator()(RandomAccessIterator2 first,
                 RandomAccessIterator2 last) const;

private:
  RandomAccessIterator1 pat_first_; <span class='comment'>// <i>exposition only</i>
</span>  RandomAccessIterator1 pat_last_;  <span class='comment'>// <i>exposition only</i>
</span>  Hash hash_;                       <span class='comment'>// <i>exposition only</i>
</span>  BinaryPredicate pred_;            <span class='comment'>// <i>exposition only</i>
</span>};</pre><p ><span class='indexparent'><a class='index' id='boyer_moore_searcher,constructor'></a></span><code class='itemdecl'>
boyer_moore_searcher(RandomAccessIterator1 pat_first,
                     RandomAccessIterator1 pat_last, Hash hf = Hash(),
                     BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='func.search.bm-1'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14744'>#</a></div><p ><i>Requires:</i>
The value type of <span class='texttt'>RandomAccessIterator1</span> shall meet the <span class='texttt'>DefaultConstructible</span> requirements, the <span class='texttt'>CopyConstructible</span> requirements, and the <span class='texttt'>CopyAssignable</span> requirements.</p></div></div><div class='para' id='func.search.bm-2'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14748'>#</a></div><p ><i>Requires:</i>
For any two values <span class='texttt'>A</span> and <span class='texttt'>B</span> of the type <span class='texttt'>iterator_traits&lt;RandomAccessIterator1&gt;::value_type</span>, if <span class='texttt'>pred(A,B)==true</span>, then <span class='texttt'>hf(A)==hf(B)</span> shall be <span class='texttt'>true</span>.</p></div></div><div class='para' id='func.search.bm-3'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14752'>#</a></div><p ><i>Effects:</i>
Constructs a <span class='texttt'>boyer_moore_searcher</span> object, initializing <span class='texttt'>pat_first_</span> with <span class='texttt'>pat_first</span>, <span class='texttt'>pat_last_</span> with <span class='texttt'>pat_last</span>, <span class='texttt'>hash_</span> with <span class='texttt'>hf</span>, and <span class='texttt'>pred_</span> with <span class='texttt'>pred</span>.</p></div></div><div class='para' id='func.search.bm-4'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14756'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the copy constructor of <span class='texttt'>RandomAccessIterator1</span>,
or by the default constructor, copy constructor, or the copy assignment operator of the value type of <span class='texttt'>RandomAccessIterator1</span>,
or the copy constructor or <span class='texttt'>operator()</span> of <span class='texttt'>BinaryPredicate</span> or <span class='texttt'>Hash</span>.
May throw <span class='texttt'>bad_alloc</span> if additional memory needed for internal data structures cannot be allocated.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator(),boyer_moore_searcher'></a></span><span class='indexparent'><a class='index' id='boyer_moore_searcher,operator()'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator2&gt;
  pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
    operator()(RandomAccessIterator2 first, RandomAccessIterator2 last) const;
</code></p><div class='itemdescr'></div><div class='para' id='func.search.bm-5'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14772'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>RandomAccessIterator1</span> and <span class='texttt'>RandomAccessIterator2</span> shall have the same value type.</p></div></div><div class='para' id='func.search.bm-6'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14776'>#</a></div><p ><i>Effects:</i>
Finds a subsequence of equal values in a sequence.</p></div></div><div class='para' id='func.search.bm-7'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14780'>#</a></div><p ><i>Returns:</i>
A pair of iterators <span class='texttt'>i</span> and <span class='texttt'>j</span> such that
</p><ul class='itemize'><li id='func.search.bm-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.search.bm-7.1'>(7.1)</a></div><p ><span class='texttt'>i</span> is the first iterator
in the range <span class='texttt'>[first, last - (pat_last_ - pat_first_))</span> such that
for every non-negative integer <span class='texttt'>n</span> less than <span class='texttt'>pat_last_ - pat_first_</span>
the following condition holds:
<span class='texttt'>pred(*(i + n), *(pat_first_ + n)) != false</span>, and
</p></li><li id='func.search.bm-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.search.bm-7.2'>(7.2)</a></div><p ><span class='texttt'>j == next(i, distance(pat_first_, pat_last_))</span>.
</p></li></ul><p >Returns <span class='texttt'>make_pair(first, first)</span> if <span class='texttt'>[pat_first_, pat_last_)</span> is empty,
otherwise returns <span class='texttt'>make_pair(last, last)</span> if no such iterator is found.</p></div></div><div class='para' id='func.search.bm-8'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14794'>#</a></div><p ><i>Complexity:</i>
At most <span class='texttt'>(last - first) * (pat_last_ - pat_first_)</span> applications of the predicate.
</p></div></div><div id='func.search.bm.creation'><h4 ><a class='secnum' href='#func.search.bm.creation' style='min-width:133pt'>20.14.14.2.1</a> <span class='texttt'>boyer_moore_searcher</span> creation functions <a class='abbr_ref' href='func.search.bm.creation'>[func.search.bm.creation]</a></h4><p ><span class='indexparent'><a class='index' id='make_boyer_moore_searcher'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
  boyer_moore_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;
    make_boyer_moore_searcher(RandomAccessIterator pat_first,
                              RandomAccessIterator pat_last, Hash hf = Hash(),
                              BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='func.search.bm.creation-1'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bm.creation-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14813'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return boyer_moore_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;(
         pat_first, pat_last, hf, pred);</pre></div></div></div></div><div id='func.search.bmh'><h4 ><a class='secnum' href='#func.search.bmh' style='min-width:118pt'>20.14.14.3</a> Class template <span class='texttt'>boyer_moore_horspool_searcher</span> <a class='abbr_ref' href='func.search.bmh'>[func.search.bmh]</a></h4><p ><span class='indexparent'><a class='index' id='boyer_moore_horspool_searcher'></a></span></p><pre class='codeblock'>
template &lt;class RandomAccessIterator1,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator1&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
class boyer_moore_horspool_searcher {
public:
  boyer_moore_horspool_searcher(RandomAccessIterator1 pat_first,
                                RandomAccessIterator1 pat_last,
                                Hash hf = Hash(),
                                BinaryPredicate pred = BinaryPredicate());

  template &lt;class RandomAccessIterator2&gt;
    pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
      operator()(RandomAccessIterator2 first,
                 RandomAccessIterator2 last) const;

private:
  RandomAccessIterator1 pat_first_; <span class='comment'>// <i>exposition only</i>
</span>  RandomAccessIterator1 pat_last_;  <span class='comment'>// <i>exposition only</i>
</span>  Hash hash_;                       <span class='comment'>// <i>exposition only</i>
</span>  BinaryPredicate pred_;            <span class='comment'>// <i>exposition only</i>
</span>};</pre><p ><span class='indexparent'><a class='index' id='boyer_moore_horspool_searcher,constructor'></a></span><code class='itemdecl'>
boyer_moore_horspool_searcher(RandomAccessIterator1 pat_first,
                              RandomAccessIterator1 pat_last, Hash hf = Hash(),
                              BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='func.search.bmh-1'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14857'>#</a></div><p ><i>Requires:</i>
The value type of <span class='texttt'>RandomAccessIterator1</span> shall meet the <span class='texttt'>DefaultConstructible</span>, <span class='texttt'>CopyConstructible</span>, and <span class='texttt'>CopyAssignable</span> requirements.</p></div></div><div class='para' id='func.search.bmh-2'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14861'>#</a></div><p ><i>Requires:</i>
For any two values <span class='texttt'>A</span> and <span class='texttt'>B</span> of the type <span class='texttt'>iterator_traits&lt;RandomAccessIterator1&gt;::value_type</span>,
if <span class='texttt'>pred(A,B)==true</span>, then <span class='texttt'>hf(A)==hf(B)</span> shall be <span class='texttt'>true</span>.</p></div></div><div class='para' id='func.search.bmh-3'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14866'>#</a></div><p ><i>Effects:</i>
Constructs a <span class='texttt'>boyer_moore_horspool_searcher</span> object, initializing <span class='texttt'>pat_first_</span> with <span class='texttt'>pat_first</span>,
<span class='texttt'>pat_last_</span> with <span class='texttt'>pat_last</span>, <span class='texttt'>hash_</span> with <span class='texttt'>hf</span>, and <span class='texttt'>pred_</span> with <span class='texttt'>pred</span>.</p></div></div><div class='para' id='func.search.bmh-4'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14871'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the copy constructor of <span class='texttt'>RandomAccessIterator1</span>,
or by the default constructor, copy constructor, or the copy assignment operator of the value type of <span class='texttt'>RandomAccessIterator1</span>
or the copy constructor or <span class='texttt'>operator()</span> of <span class='texttt'>BinaryPredicate</span> or <span class='texttt'>Hash</span>.
May throw <span class='texttt'>bad_alloc</span> if additional memory needed for internal data structures cannot be allocated.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator(),boyer_moore_horspool_searcher'></a></span><span class='indexparent'><a class='index' id='boyer_moore_horspool_searcher,operator()'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator2&gt;
  pair&lt;RandomAccessIterator2, RandomAccessIterator2&gt;
    operator()(RandomAccessIterator2 first, RandomAccessIterator2 last) const;
</code></p><div class='itemdescr'></div><div class='para' id='func.search.bmh-5'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14887'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>RandomAccessIterator1</span> and <span class='texttt'>RandomAccessIterator2</span> shall have the same value type.</p></div></div><div class='para' id='func.search.bmh-6'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14891'>#</a></div><p ><i>Effects:</i>
Finds a subsequence of equal values in a sequence.</p></div></div><div class='para' id='func.search.bmh-7'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14895'>#</a></div><p ><i>Returns:</i>
A pair of iterators <span class='texttt'>i</span> and <span class='texttt'>j</span> such that
</p><ul class='itemize'><li id='func.search.bmh-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.search.bmh-7.1'>(7.1)</a></div><p ><span class='texttt'>i</span> is the first iterator <span class='texttt'>i</span> in the range
<span class='texttt'>[first, last - (pat_last_ - pat_first_))</span> such that
for every non-negative integer <span class='texttt'>n</span> less than <span class='texttt'>pat_last_ - pat_first_</span>
the following condition holds:
<span class='texttt'>pred(*(i + n), *(pat_first_ + n)) != false</span>, and
</p></li><li id='func.search.bmh-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.search.bmh-7.2'>(7.2)</a></div><p ><span class='texttt'>j == next(i, distance(pat_first_, pat_last_))</span>.
</p></li></ul><p >Returns <span class='texttt'>make_pair(first, first)</span> if <span class='texttt'>[pat_first_, pat_last_)</span> is empty,
otherwise returns <span class='texttt'>make_pair(last, last)</span> if no such iterator is found.</p></div></div><div class='para' id='func.search.bmh-8'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14909'>#</a></div><p ><i>Complexity:</i>
At most <span class='texttt'>(last - first) * (pat_last_ - pat_first_)</span> applications of the predicate.
</p></div></div><div id='func.search.bmh.creation'><h4 ><a class='secnum' href='#func.search.bmh.creation' style='min-width:133pt'>20.14.14.3.1</a> <span class='texttt'>boyer_moore_horspool_searcher</span> creation functions <a class='abbr_ref' href='func.search.bmh.creation'>[func.search.bmh.creation]</a></h4><p ><span class='indexparent'><a class='index' id='make_boyer_moore_horspool_searcher'></a></span><code class='itemdecl'>
template &lt;class RandomAccessIterator,
          class Hash = hash&lt;typename iterator_traits&lt;RandomAccessIterator&gt;::value_type&gt;,
          class BinaryPredicate = equal_to&lt;&gt;&gt;
  boyer_moore_horspool_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;
    make_boyer_moore_horspool_searcher(
      RandomAccessIterator pat_first, RandomAccessIterator pat_last,
      Hash hf = Hash(), BinaryPredicate pred = BinaryPredicate());
</code></p><div class='itemdescr'></div><div class='para' id='func.search.bmh.creation-1'><div class='marginalizedparent'><a class='marginalized' href='#func.search.bmh.creation-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14929'>#</a></div><p ><i>Effects:</i>
Equivalent to:
</p><pre class='codeblock'>
return boyer_moore_horspool_searcher&lt;RandomAccessIterator, Hash, BinaryPredicate&gt;(
         pat_first, pat_last, hf, pred);</pre></div></div></div></div></div><div id='unord.hash'><h3 ><a class='secnum' href='#unord.hash' style='min-width:103pt'>20.14.15</a> Class template <span class='texttt'>hash</span> <a class='abbr_ref' href='unord.hash'>[unord.hash]</a></h3><div class='para' id='unord.hash-1'><div class='marginalizedparent'><a class='marginalized' href='#unord.hash-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14940'>#</a></div><p ><span class='indexparent'><a class='index' id='hash'></a></span><span class='indexparent'><a class='index' id='hash,instantiation_restrictions'></a></span>The unordered associative containers defined in <a href='unord'>[unord]</a> use
specializations of the class template <span class='texttt'>hash</span> (<a href='functional.syn'>[functional.syn]</a>)
as the default hash function.</p></div><div class='para' id='unord.hash-2'><div class='marginalizedparent'><a class='marginalized' href='#unord.hash-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14947'>#</a></div><p >Each specialization of <span class='texttt'>hash</span> is either enabled or disabled,
as described below.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Enabled specializations meet the requirements of <span class='texttt'>Hash</span>, and
disabled specializations do not.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
Each header that declares the template <span class='texttt'>hash</span>
provides enabled specializations of <span class='texttt'>hash</span> for <span class='texttt'>nullptr_t</span> and
all cv-unqualified arithmetic, enumeration, and pointer types.
For any type <span class='texttt'>Key</span> for which neither the library nor the user provides
an explicit or partial specialization of the class template <span class='texttt'>hash</span>,
<span class='texttt'>hash&lt;Key&gt;</span> is disabled.
If the library provides an explicit or partial specialization of <span class='texttt'>hash&lt;Key&gt;</span>,
that specialization is enabled except as noted otherwise.</p></div><div class='para' id='unord.hash-3'><div class='marginalizedparent'><a class='marginalized' href='#unord.hash-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14963'>#</a></div><p >If <span class='texttt'>H</span> is a disabled specialization of <span class='texttt'>hash</span>,
these values are <span class='texttt'>false</span>:
<span class='texttt'>is_default_constructible_v&lt;H&gt;</span>,
<span class='texttt'>is_copy_constructible_v&lt;H&gt;</span>,
<span class='texttt'>is_move_constructible_v&lt;H&gt;</span>,
<span class='texttt'>is_copy_assignable_v&lt;H&gt;</span>, and
<span class='texttt'>is_move_assignable_v&lt;H&gt;</span>.
Disabled specializations of <span class='texttt'>hash</span>
are not function object types (<a href='function.objects'>[function.objects]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
This means that the specialization of <span class='texttt'>hash</span> exists, but
any attempts to use it as a <span class='texttt'>Hash</span> will be ill-formed.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='unord.hash-4'><div class='marginalizedparent'><a class='marginalized' href='#unord.hash-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L14978'>#</a></div><p >An enabled specialization <span class='texttt'>hash&lt;Key&gt;</span> will:
</p><ul class='itemize'><li id='unord.hash-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unord.hash-4.1'>(4.1)</a></div><p >satisfy the <span class='texttt'>Hash</span> requirements (<a href='hash.requirements'>[hash.requirements]</a>),
with <span class='texttt'>Key</span> as the function
call argument type, the <span class='texttt'>DefaultConstructible</span> requirements (Table <a href='utility.arg.requirements#tab:defaultconstructible'>[tab:defaultconstructible]</a>),
the <span class='texttt'>CopyAssignable</span> requirements (Table <a href='utility.arg.requirements#tab:copyassignable'>[tab:copyassignable]</a>),
</p></li><li id='unord.hash-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unord.hash-4.2'>(4.2)</a></div><p >be swappable (<a href='swappable.requirements'>[swappable.requirements]</a>) for lvalues,
</p></li><li id='unord.hash-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unord.hash-4.3'>(4.3)</a></div><p >satisfy the requirement that if <span class='texttt'>k1 == k2</span> is <span class='texttt'>true</span>, <span class='texttt'>h(k1) == h(k2)</span> is
also <span class='texttt'>true</span>, where <span class='texttt'>h</span> is an object of type <span class='texttt'>hash&lt;Key&gt;</span> and <span class='texttt'>k1</span> and <span class='texttt'>k2</span>
are objects of type <span class='texttt'>Key</span>;
</p></li><li id='unord.hash-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#unord.hash-4.4'>(4.4)</a></div><p >satisfy the requirement that the expression <span class='texttt'>h(k)</span>, where <span class='texttt'>h</span>
is an object of type <span class='texttt'>hash&lt;Key&gt;</span> and <span class='texttt'>k</span> is an object of type
<span class='texttt'>Key</span>, shall not throw an exception unless <span class='texttt'>hash&lt;Key&gt;</span> is a
user-defined specialization that depends on at least one user-defined type.
</p></li></ul></div></div><div id='func.default.traits'><h3 ><a class='secnum' href='#func.default.traits' style='min-width:103pt'>20.14.16</a> Default functor traits <a class='abbr_ref' href='func.default.traits'>[func.default.traits]</a></h3><p ><span class='indexparent'><a class='index' id='default_order'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class T = void&gt;
  struct default_order {
    using type = less&lt;T&gt;;
  };
}</pre><div class='para' id='func.default.traits-1'><div class='marginalizedparent'><a class='marginalized' href='#func.default.traits-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15007'>#</a></div><p >The class template <span class='texttt'>default_order</span> provides a trait that users can
specialize for user-defined types to provide a strict weak ordering for that
type, which the library can use where a default strict weak order is needed.
For example, the associative containers (<a href='associative'>[associative]</a>) and
<span class='texttt'>priority_queue</span> (<a href='priority.queue'>[priority.queue]</a>) use this trait.</p></div><div class='para' id='func.default.traits-2'><div class='marginalizedparent'><a class='marginalized' href='#func.default.traits-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15014'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
namespace sales {
  struct account {
    int id;
    std::string name;
  };

  struct order_accounts {
    bool operator()(const Account&amp; lhs, const Account&amp; rhs) const {
      return lhs.id &lt; rhs.id;
    }
  };
}

namespace std {
  template&lt;&gt;
  struct default_order&lt;sales::account&gt; {
    using type = sales::order_accounts;
  };
}</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div></div><div id='meta'><h2 ><a class='secnum' href='#meta' style='min-width:88pt'>20.15</a> Metaprogramming and type traits <a class='abbr_ref' href='meta'>[meta]</a></h2><div class='para' id='meta-1'><div class='marginalizedparent'><a class='marginalized' href='#meta-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15041'>#</a></div><p >This subclause describes components used by C++ programs, particularly in
templates, to support the widest possible range of types, optimise
template code usage, detect type related user errors, and perform
type inference and transformation at compile time. It includes type
classification traits, type property inspection traits, and type
transformations. The type classification traits describe a complete taxonomy
of all possible C++ types, and state where in that taxonomy a given
type belongs. The type property inspection traits allow important
characteristics of types or of combinations of types to be inspected. The
type transformations allow certain properties of types to be manipulated.</p></div><div id='meta.rqmts'><h3 ><a class='secnum' href='#meta.rqmts' style='min-width:103pt'>20.15.1</a> Requirements <a class='abbr_ref' href='meta.rqmts'>[meta.rqmts]</a></h3><div class='para' id='meta.rqmts-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.rqmts-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15055'>#</a></div><p >A <a class='hidden_link' href='#def:UnaryTypeTrait' id='def:UnaryTypeTrait'><i>UnaryTypeTrait</i></a> describes a property
of a type. It shall be a class template that takes one template type
argument and, optionally, additional arguments that help define the
property being described. It shall be <span class='texttt'>DefaultConstructible</span>,
<span class='texttt'>CopyConstructible</span>,
and publicly and unambiguously derived, directly or indirectly, from
its <a class='hidden_link' href='#def:base_characteristic' id='def:base_characteristic'><i>base characteristic</i></a>, which is
a specialization of the template
<span class='texttt'>integral_constant</span> (<a href='meta.help'>[meta.help]</a>), with
the arguments to the template <span class='texttt'>integral_constant</span> determined by the
requirements for the particular property being described.
The member names of the base characteristic shall not be hidden and shall be
unambiguously available in the <span class='texttt'>UnaryTypeTrait</span>.</p></div><div class='para' id='meta.rqmts-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.rqmts-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15070'>#</a></div><p >A <a class='hidden_link' href='#def:BinaryTypeTrait' id='def:BinaryTypeTrait'><i>BinaryTypeTrait</i></a> describes a
relationship between two types. It shall be a class template that
takes two template type arguments and, optionally, additional
arguments that help define the relationship being described. It shall
be <span class='texttt'>DefaultConstructible</span>, <span class='texttt'>CopyConstructible</span>,
and publicly and unambiguously derived, directly or
indirectly, from
its <a class='hidden_link' href='#def:base_characteristic' id='def:base_characteristic'><i>base characteristic</i></a>, which is a specialization
of the template
<span class='texttt'>integral_constant</span> (<a href='meta.help'>[meta.help]</a>), with
the arguments to the template <span class='texttt'>integral_constant</span> determined by the
requirements for the particular relationship being described.
The member names of the base characteristic shall not be hidden and shall be
unambiguously available in the <span class='texttt'>BinaryTypeTrait</span>.</p></div><div class='para' id='meta.rqmts-3'><div class='marginalizedparent'><a class='marginalized' href='#meta.rqmts-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15086'>#</a></div><p >A <a class='hidden_link' href='#def:TransformationTrait' id='def:TransformationTrait'><i>TransformationTrait</i></a>
modifies a property
of a type. It shall be a class template that takes one
template type argument and, optionally, additional arguments that help
define the modification. It shall define a publicly accessible nested type
named <span class='texttt'>type</span>, which shall be a synonym for the modified type.</p></div></div><div id='meta.type.synop'><h3 ><a class='secnum' href='#meta.type.synop' style='min-width:103pt'>20.15.2</a> Header <span class='texttt'>&lt;type_traits&gt;</span> synopsis <a class='abbr_ref' href='meta.type.synop'>[meta.type.synop]</a></h3><p ><span class='indexparent'><a class='index' id='type_traits'></a></span><span class='indexparent'><a class='index' id='type_traits'></a></span></p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='meta.help'>[meta.help]</a>, helper class
</span>  template &lt;class T, T v&gt; struct integral_constant;

  template &lt;bool B&gt;
    using bool_constant = integral_constant&lt;bool, B&gt;;
  using true_type  = bool_constant&lt;true&gt;;
  using false_type = bool_constant&lt;false&gt;;

  <span class='comment'>// <a href='meta.unary.cat'>[meta.unary.cat]</a>, primary type categories
</span>  template &lt;class T&gt; struct is_void;
  template &lt;class T&gt; struct is_null_pointer;
  template &lt;class T&gt; struct is_integral;
  template &lt;class T&gt; struct is_floating_point;
  template &lt;class T&gt; struct is_array;
  template &lt;class T&gt; struct is_pointer;
  template &lt;class T&gt; struct is_lvalue_reference;
  template &lt;class T&gt; struct is_rvalue_reference;
  template &lt;class T&gt; struct is_member_object_pointer;
  template &lt;class T&gt; struct is_member_function_pointer;
  template &lt;class T&gt; struct is_enum;
  template &lt;class T&gt; struct is_union;
  template &lt;class T&gt; struct is_class;
  template &lt;class T&gt; struct is_function;

  <span class='comment'>// <a href='meta.unary.comp'>[meta.unary.comp]</a>, composite type categories
</span>  template &lt;class T&gt; struct is_reference;
  template &lt;class T&gt; struct is_arithmetic;
  template &lt;class T&gt; struct is_fundamental;
  template &lt;class T&gt; struct is_object;
  template &lt;class T&gt; struct is_scalar;
  template &lt;class T&gt; struct is_compound;
  template &lt;class T&gt; struct is_member_pointer;

  <span class='comment'>// <a href='meta.unary.prop'>[meta.unary.prop]</a>, type properties
</span>  template &lt;class T&gt; struct is_const;
  template &lt;class T&gt; struct is_volatile;
  template &lt;class T&gt; struct is_trivial;
  template &lt;class T&gt; struct is_trivially_copyable;
  template &lt;class T&gt; struct is_standard_layout;
  template &lt;class T&gt; struct is_pod;
  template &lt;class T&gt; struct is_empty;
  template &lt;class T&gt; struct is_polymorphic;
  template &lt;class T&gt; struct is_abstract;
  template &lt;class T&gt; struct is_final;

  template &lt;class T&gt; struct is_signed;
  template &lt;class T&gt; struct is_unsigned;

  template &lt;class T, class... Args&gt; struct is_constructible;
  template &lt;class T&gt; struct is_default_constructible;
  template &lt;class T&gt; struct is_copy_constructible;
  template &lt;class T&gt; struct is_move_constructible;

  template &lt;class T, class U&gt; struct is_assignable;
  template &lt;class T&gt; struct is_copy_assignable;
  template &lt;class T&gt; struct is_move_assignable;

  template &lt;class T, class U&gt; struct is_swappable_with;
  template &lt;class T&gt; struct is_swappable;

  template &lt;class T&gt; struct is_destructible;

  template &lt;class T, class... Args&gt; struct is_trivially_constructible;
  template &lt;class T&gt; struct is_trivially_default_constructible;
  template &lt;class T&gt; struct is_trivially_copy_constructible;
  template &lt;class T&gt; struct is_trivially_move_constructible;

  template &lt;class T, class U&gt; struct is_trivially_assignable;
  template &lt;class T&gt; struct is_trivially_copy_assignable;
  template &lt;class T&gt; struct is_trivially_move_assignable;
  template &lt;class T&gt; struct is_trivially_destructible;

  template &lt;class T, class... Args&gt; struct is_nothrow_constructible;
  template &lt;class T&gt; struct is_nothrow_default_constructible;
  template &lt;class T&gt; struct is_nothrow_copy_constructible;
  template &lt;class T&gt; struct is_nothrow_move_constructible;

  template &lt;class T, class U&gt; struct is_nothrow_assignable;
  template &lt;class T&gt; struct is_nothrow_copy_assignable;
  template &lt;class T&gt; struct is_nothrow_move_assignable;

  template &lt;class T, class U&gt; struct is_nothrow_swappable_with;
  template &lt;class T&gt; struct is_nothrow_swappable;

  template &lt;class T&gt; struct is_nothrow_destructible;

  template &lt;class T&gt; struct has_virtual_destructor;

  template &lt;class T&gt; struct has_unique_object_representations;

  <span class='comment'>// <a href='meta.unary.prop.query'>[meta.unary.prop.query]</a>, type property queries
</span>  template &lt;class T&gt; struct alignment_of;
  template &lt;class T&gt; struct rank;
  template &lt;class T, unsigned I = 0&gt; struct extent;

  <span class='comment'>// <a href='meta.rel'>[meta.rel]</a>, type relations
</span>  template &lt;class T, class U&gt; struct is_same;
  template &lt;class Base, class Derived&gt; struct is_base_of;
  template &lt;class From, class To&gt; struct is_convertible;

  template &lt;class, class R = void&gt; struct is_callable; <span class='comment'>// not defined
</span>  template &lt;class Fn, class... ArgTypes, class R&gt;
    struct is_callable&lt;Fn(ArgTypes...), R&gt;;

  template &lt;class, class R = void&gt; struct is_nothrow_callable; <span class='comment'>// not defined
</span>  template &lt;class Fn, class... ArgTypes, class R&gt;
    struct is_nothrow_callable&lt;Fn(ArgTypes...), R&gt;;

  <span class='comment'>// <a href='meta.trans.cv'>[meta.trans.cv]</a>, const-volatile modifications
</span>  template &lt;class T&gt; struct remove_const;
  template &lt;class T&gt; struct remove_volatile;
  template &lt;class T&gt; struct remove_cv;
  template &lt;class T&gt; struct add_const;
  template &lt;class T&gt; struct add_volatile;
  template &lt;class T&gt; struct add_cv;

  template &lt;class T&gt;
    using remove_const_t    = typename remove_const&lt;T&gt;::type;
  template &lt;class T&gt;
    using remove_volatile_t = typename remove_volatile&lt;T&gt;::type;
  template &lt;class T&gt;
    using remove_cv_t       = typename remove_cv&lt;T&gt;::type;
  template &lt;class T&gt;
    using add_const_t       = typename add_const&lt;T&gt;::type;
  template &lt;class T&gt;
    using add_volatile_t    = typename add_volatile&lt;T&gt;::type;
  template &lt;class T&gt;
    using add_cv_t          = typename add_cv&lt;T&gt;::type;

  <span class='comment'>// <a href='meta.trans.ref'>[meta.trans.ref]</a>, reference modifications
</span>  template &lt;class T&gt; struct remove_reference;
  template &lt;class T&gt; struct add_lvalue_reference;
  template &lt;class T&gt; struct add_rvalue_reference;

  template &lt;class T&gt;
    using remove_reference_t     = typename remove_reference&lt;T&gt;::type;
  template &lt;class T&gt;
    using add_lvalue_reference_t = typename add_lvalue_reference&lt;T&gt;::type;
  template &lt;class T&gt;
    using add_rvalue_reference_t = typename add_rvalue_reference&lt;T&gt;::type;

  <span class='comment'>// <a href='meta.trans.sign'>[meta.trans.sign]</a>, sign modifications
</span>  template &lt;class T&gt; struct make_signed;
  template &lt;class T&gt; struct make_unsigned;

  template &lt;class T&gt;
    using make_signed_t   = typename make_signed&lt;T&gt;::type;
  template &lt;class T&gt;
    using make_unsigned_t = typename make_unsigned&lt;T&gt;::type;

  <span class='comment'>// <a href='meta.trans.arr'>[meta.trans.arr]</a>, array modifications
</span>  template &lt;class T&gt; struct remove_extent;
  template &lt;class T&gt; struct remove_all_extents;

  template &lt;class T&gt;
    using remove_extent_t      = typename remove_extent&lt;T&gt;::type;
  template &lt;class T&gt;
    using remove_all_extents_t = typename remove_all_extents&lt;T&gt;::type;

  <span class='comment'>// <a href='meta.trans.ptr'>[meta.trans.ptr]</a>, pointer modifications
</span>  template &lt;class T&gt; struct remove_pointer;
  template &lt;class T&gt; struct add_pointer;

  template &lt;class T&gt;
    using remove_pointer_t = typename remove_pointer&lt;T&gt;::type;
  template &lt;class T&gt;
    using add_pointer_t    = typename add_pointer&lt;T&gt;::type;

  <span class='comment'>// <a href='meta.trans.other'>[meta.trans.other]</a>, other transformations
</span>  template &lt;size_t Len,
            size_t Align = <i>default-alignment</i>&gt; <span class='comment'>// see <a href='meta.trans.other'>[meta.trans.other]</a>
</span>    struct aligned_storage;
  template &lt;size_t Len, class... Types&gt; struct aligned_union;
  template &lt;class T&gt; struct decay;
  template &lt;bool, class T = void&gt; struct enable_if;
  template &lt;bool, class T, class F&gt; struct conditional;
  template &lt;class... T&gt; struct common_type;
  template &lt;class T&gt; struct underlying_type;
  template &lt;class&gt; class result_of;   <span class='comment'>// not defined
</span>  template &lt;class F, class... ArgTypes&gt; class result_of&lt;F(ArgTypes...)&gt;;

  template &lt;size_t Len,
            size_t Align = <i>default-alignment</i>&gt; <span class='comment'>// see <a href='meta.trans.other'>[meta.trans.other]</a>
</span>    using aligned_storage_t = typename aligned_storage&lt;Len, Align&gt;::type;
  template &lt;size_t Len, class... Types&gt;
    using aligned_union_t   = typename aligned_union&lt;Len, Types...&gt;::type;
  template &lt;class T&gt;
    using decay_t           = typename decay&lt;T&gt;::type;
  template &lt;bool b, class T = void&gt;
    using enable_if_t       = typename enable_if&lt;b, T&gt;::type;
  template &lt;bool b, class T, class F&gt;
    using conditional_t     = typename conditional&lt;b, T, F&gt;::type;
  template &lt;class... T&gt;
    using common_type_t     = typename common_type&lt;T...&gt;::type;
  template &lt;class T&gt;
    using underlying_type_t = typename underlying_type&lt;T&gt;::type;
  template &lt;class T&gt;
    using result_of_t       = typename result_of&lt;T&gt;::type;
  template &lt;class...&gt;
    using void_t            = void;

  <span class='comment'>// <a href='meta.logical'>[meta.logical]</a>, logical operator traits
</span>  template&lt;class... B&gt; struct conjunction;
  template&lt;class... B&gt; struct disjunction;
  template&lt;class B&gt; struct negation;

  <span class='comment'>// <a href='meta.unary.cat'>[meta.unary.cat]</a>, primary type categories
</span>  template &lt;class T&gt; constexpr bool is_void_v
    = is_void&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_null_pointer_v
    = is_null_pointer&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_integral_v
    = is_integral&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_floating_point_v
    = is_floating_point&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_array_v
    = is_array&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_pointer_v
    = is_pointer&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_lvalue_reference_v
    = is_lvalue_reference&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_rvalue_reference_v
    = is_rvalue_reference&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_member_object_pointer_v
    = is_member_object_pointer&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_member_function_pointer_v
    = is_member_function_pointer&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_enum_v
    = is_enum&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_union_v
    = is_union&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_class_v
    = is_class&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_function_v
    = is_function&lt;T&gt;::value;

  <span class='comment'>// <a href='meta.unary.comp'>[meta.unary.comp]</a>, composite type categories
</span>  template &lt;class T&gt; constexpr bool is_reference_v
    = is_reference&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_arithmetic_v
    = is_arithmetic&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_fundamental_v
    = is_fundamental&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_object_v
    = is_object&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_scalar_v
    = is_scalar&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_compound_v
    = is_compound&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_member_pointer_v
    = is_member_pointer&lt;T&gt;::value;

  <span class='comment'>// <a href='meta.unary.prop'>[meta.unary.prop]</a>, type properties
</span>  template &lt;class T&gt; constexpr bool is_const_v
    = is_const&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_volatile_v
    = is_volatile&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivial_v
    = is_trivial&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivially_copyable_v
    = is_trivially_copyable&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_standard_layout_v
    = is_standard_layout&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_pod_v
    = is_pod&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_empty_v
    = is_empty&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_polymorphic_v
    = is_polymorphic&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_abstract_v
    = is_abstract&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_final_v
    = is_final&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_signed_v
    = is_signed&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_unsigned_v
    = is_unsigned&lt;T&gt;::value;
  template &lt;class T, class... Args&gt; constexpr bool is_constructible_v
    = is_constructible&lt;T, Args...&gt;::value;
  template &lt;class T&gt; constexpr bool is_default_constructible_v
    = is_default_constructible&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_copy_constructible_v
    = is_copy_constructible&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_move_constructible_v
    = is_move_constructible&lt;T&gt;::value;
  template &lt;class T, class U&gt; constexpr bool is_assignable_v
    = is_assignable&lt;T, U&gt;::value;
  template &lt;class T&gt; constexpr bool is_copy_assignable_v
    = is_copy_assignable&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_move_assignable_v
    = is_move_assignable&lt;T&gt;::value;
  template &lt;class T, class U&gt; constexpr bool is_swappable_with_v
    = is_swappable_with&lt;T, U&gt;::value;
  template &lt;class T&gt; constexpr bool is_swappable_v
    = is_swappable&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_destructible_v
    = is_destructible&lt;T&gt;::value;
  template &lt;class T, class... Args&gt; constexpr bool is_trivially_constructible_v
    = is_trivially_constructible&lt;T, Args...&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivially_default_constructible_v
    = is_trivially_default_constructible&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivially_copy_constructible_v
    = is_trivially_copy_constructible&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivially_move_constructible_v
    = is_trivially_move_constructible&lt;T&gt;::value;
  template &lt;class T, class U&gt; constexpr bool is_trivially_assignable_v
    = is_trivially_assignable&lt;T, U&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivially_copy_assignable_v
    = is_trivially_copy_assignable&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivially_move_assignable_v
    = is_trivially_move_assignable&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_trivially_destructible_v
    = is_trivially_destructible&lt;T&gt;::value;
  template &lt;class T, class... Args&gt; constexpr bool is_nothrow_constructible_v
    = is_nothrow_constructible&lt;T, Args...&gt;::value;
  template &lt;class T&gt; constexpr bool is_nothrow_default_constructible_v
    = is_nothrow_default_constructible&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_nothrow_copy_constructible_v
    = is_nothrow_copy_constructible&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_nothrow_move_constructible_v
    = is_nothrow_move_constructible&lt;T&gt;::value;
  template &lt;class T, class U&gt; constexpr bool is_nothrow_assignable_v
    = is_nothrow_assignable&lt;T, U&gt;::value;
  template &lt;class T&gt; constexpr bool is_nothrow_copy_assignable_v
    = is_nothrow_copy_assignable&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_nothrow_move_assignable_v
    = is_nothrow_move_assignable&lt;T&gt;::value;
  template &lt;class T, class U&gt; constexpr bool is_nothrow_swappable_with_v
    = is_nothrow_swappable_with&lt;T, U&gt;::value;
  template &lt;class T&gt; constexpr bool is_nothrow_swappable_v
    = is_nothrow_swappable&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool is_nothrow_destructible_v
    = is_nothrow_destructible&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool has_virtual_destructor_v
    = has_virtual_destructor&lt;T&gt;::value;
  template &lt;class T&gt; constexpr bool has_unique_object_representations_v
    = has_unique_object_representations&lt;T&gt;::value;

  <span class='comment'>// <a href='meta.unary.prop.query'>[meta.unary.prop.query]</a>, type property queries
</span>  template &lt;class T&gt; constexpr size_t alignment_of_v
    = alignment_of&lt;T&gt;::value;
  template &lt;class T&gt; constexpr size_t rank_v
    = rank&lt;T&gt;::value;
  template &lt;class T, unsigned I = 0&gt; constexpr size_t extent_v
    = extent&lt;T, I&gt;::value;

  <span class='comment'>// <a href='meta.rel'>[meta.rel]</a>, type relations
</span>  template &lt;class T, class U&gt; constexpr bool is_same_v
    = is_same&lt;T, U&gt;::value;
  template &lt;class Base, class Derived&gt; constexpr bool is_base_of_v
    = is_base_of&lt;Base, Derived&gt;::value;
  template &lt;class From, class To&gt; constexpr bool is_convertible_v
    = is_convertible&lt;From, To&gt;::value;
  template &lt;class T, class R = void&gt; constexpr bool is_callable_v
    = is_callable&lt;T, R&gt;::value;
  template &lt;class T, class R = void&gt; constexpr bool is_nothrow_callable_v
    = is_nothrow_callable&lt;T, R&gt;::value;

  <span class='comment'>// <a href='meta.logical'>[meta.logical]</a>, logical operator traits
</span>  template&lt;class... B&gt; constexpr bool conjunction_v = conjunction&lt;B...&gt;::value;
  template&lt;class... B&gt; constexpr bool disjunction_v = disjunction&lt;B...&gt;::value;
  template&lt;class B&gt; constexpr bool negation_v = negation&lt;B&gt;::value;
}</pre><div class='para' id='meta.type.synop-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.type.synop-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15465'>#</a></div><p >The behavior of a program that adds specializations for any of
the templates defined in this subclause is undefined unless otherwise specified.</p></div><div class='para' id='meta.type.synop-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.type.synop-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15469'>#</a></div><p >Unless otherwise specified, an incomplete type may be used
to instantiate a template in this subclause.</p></div></div><div id='meta.help'><h3 ><a class='secnum' href='#meta.help' style='min-width:103pt'>20.15.3</a> Helper classes <a class='abbr_ref' href='meta.help'>[meta.help]</a></h3><pre class='codeblock'>
namespace std {
  template &lt;class T, T v&gt;
  struct integral_constant {
    static constexpr T value = v;
    using value_type = T;
    using type       = integral_constant&lt;T, v&gt;;
    constexpr operator value_type() const noexcept { return value; }
    constexpr value_type operator()() const noexcept { return value; }
  };
}</pre><p ><span class='indexparent'><a class='index' id='integral_constant'></a></span><span class='indexparent'><a class='index' id='bool_constant'></a></span><span class='indexparent'><a class='index' id='true_type'></a></span><span class='indexparent'><a class='index' id='false_type'></a></span></p><div class='para' id='meta.help-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.help-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15492'>#</a></div><p >The class template <span class='texttt'>integral_constant</span>,
alias template <span class='texttt'>bool_constant</span>, and
its associated <i ><a href='dcl.typedef#nt:typedef-name'>typedef-names</a></i>
<span class='texttt'>true_type</span> and <span class='texttt'>false_type</span>
are used as base classes to define
the interface for various type traits.</p></div></div><div id='meta.unary'><h3 ><a class='secnum' href='#meta.unary' style='min-width:103pt'>20.15.4</a> Unary type traits <a class='abbr_ref' href='meta.unary'>[meta.unary]</a></h3><div class='para' id='meta.unary-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15502'>#</a></div><p >This subclause contains templates that may be used to query the
properties of a type at compile time.</p></div><div class='para' id='meta.unary-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15506'>#</a></div><p >Each of these templates shall be a
<span class='texttt'>UnaryTypeTrait</span> (<a href='meta.rqmts'>[meta.rqmts]</a>)
with a base characteristic of
<span class='texttt'>true_type</span> if the corresponding condition is <span class='texttt'>true</span>, otherwise
<span class='texttt'>false_type</span>.</p></div><div id='meta.unary.cat'><h4 ><a class='secnum' href='#meta.unary.cat' style='min-width:118pt'>20.15.4.1</a> Primary type categories <a class='abbr_ref' href='meta.unary.cat'>[meta.unary.cat]</a></h4><div class='para' id='meta.unary.cat-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.cat-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15515'>#</a></div><p >The primary type categories correspond to the descriptions given in
section <a href='basic.types'>[basic.types]</a> of the C++ standard.</p></div><div class='para' id='meta.unary.cat-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.cat-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15519'>#</a></div><p >For any given type <span class='texttt'>T</span>, the result of applying one of these templates to
<span class='texttt'>T</span> and to <i>cv</i> <span class='texttt'>T</span> shall yield the same result.</p></div><div class='para' id='meta.unary.cat-3'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.cat-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15523'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
For any given type <span class='texttt'>T</span>, exactly one of the primary type categories
has a <span class='texttt'>value</span> member that evaluates to <span class='texttt'>true</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><div class='numberedTable' id='tab:type-traits.primary'>Table <a href='#tab:type-traits.primary'>40</a> — Primary type category predicates<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Condition</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 

<span class='indexparent'><a class='index' id='is_void'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_void;</span>                </td><td class='left'>
<span class='texttt'>T</span> is <span class='texttt'>void</span>       </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_null_pointer'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_null_pointer;</span>                </td><td class='left'>
<span class='texttt'>T</span> is <span class='texttt'>nullptr_t</span> (<a href='basic.fundamental'>[basic.fundamental]</a>)       </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_integral'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_integral;</span>        </td><td class='left'>
<span class='texttt'>T</span> is an integral type (<a href='basic.fundamental'>[basic.fundamental]</a>)                 </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_floating_point'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_floating_point;</span>  </td><td class='left'>
<span class='texttt'>T</span> is a floating-point type (<a href='basic.fundamental'>[basic.fundamental]</a>)            </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_array'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_array;</span>           </td><td class='left'>
<span class='texttt'>T</span> is an array type (<a href='basic.compound'>[basic.compound]</a>) of known or unknown extent    </td><td class='left'>
Class template <span class='texttt'>array</span> (<a href='array'>[array]</a>)
is not an array type.                   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_pointer'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_pointer;</span>         </td><td class='left'>
<span class='texttt'>T</span> is a pointer type (<a href='basic.compound'>[basic.compound]</a>)                      </td><td class='left'>
Includes pointers to functions
but not pointers to non-static members.                        </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_lvalue_reference'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_lvalue_reference;</span>    </td><td class='left'>
 <span class='texttt'>T</span> is an lvalue reference type (<a href='dcl.ref'>[dcl.ref]</a>)   </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_rvalue_reference'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_rvalue_reference;</span>    </td><td class='left'>
 <span class='texttt'>T</span> is an rvalue reference type (<a href='dcl.ref'>[dcl.ref]</a>)   </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_member_object_pointer'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_member_object_pointer;</span></td><td class='left'>
 <span class='texttt'>T</span> is a pointer to non-static data member                              </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_member_function_pointer'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_member_function_pointer;</span></td><td class='left'>
<span class='texttt'>T</span> is a pointer to non-static member function                           </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_enum'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_enum;</span>            </td><td class='left'>
<span class='texttt'>T</span> is an enumeration type (<a href='basic.compound'>[basic.compound]</a>)                 </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_union'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_union;</span>           </td><td class='left'>
<span class='texttt'>T</span> is a union type (<a href='basic.compound'>[basic.compound]</a>)                        </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_class'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_class;</span>           </td><td class='left'>
<span class='texttt'>T</span> is a non-union class type (<a href='basic.compound'>[basic.compound]</a>) </td><td class='left'> </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_function'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_function;</span>        </td><td class='left'>
<span class='texttt'>T</span> is a function type (<a href='basic.compound'>[basic.compound]</a>)                     </td><td class='left'>   </td></tr></table></div></div></div><div id='meta.unary.comp'><h4 ><a class='secnum' href='#meta.unary.comp' style='min-width:118pt'>20.15.4.2</a> Composite type traits <a class='abbr_ref' href='meta.unary.comp'>[meta.unary.comp]</a></h4><div class='para' id='meta.unary.comp-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.comp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15601'>#</a></div><p >These templates provide convenient compositions of the primary type
categories, corresponding to the descriptions given in section <a href='basic.types'>[basic.types]</a>.</p></div><div class='para' id='meta.unary.comp-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.comp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15605'>#</a></div><p >For any given type <span class='texttt'>T</span>, the result of applying one of these templates to
<span class='texttt'>T</span> and to <i>cv</i> <span class='texttt'>T</span> shall yield the same result.</p><div class='numberedTable' id='tab:type-traits.composite'>Table <a href='#tab:type-traits.composite'>41</a> — Composite type category predicates<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Condition</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 

<span class='indexparent'><a class='index' id='is_reference'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_reference;</span>   </td><td class='left'>
 <span class='texttt'>T</span> is an lvalue reference or an rvalue reference </td><td class='left'>  </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_arithmetic'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_arithmetic;</span>          </td><td class='left'>
 <span class='texttt'>T</span> is an arithmetic type (<a href='basic.fundamental'>[basic.fundamental]</a>)              </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_fundamental'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_fundamental;</span>         </td><td class='left'>
 <span class='texttt'>T</span> is a fundamental type (<a href='basic.fundamental'>[basic.fundamental]</a>)              </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_object'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_object;</span>              </td><td class='left'>
 <span class='texttt'>T</span> is an object type (<a href='basic.types'>[basic.types]</a>)                            </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_scalar'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_scalar;</span>              </td><td class='left'>
 <span class='texttt'>T</span> is a scalar type (<a href='basic.types'>[basic.types]</a>)                         </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_compound'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_compound;</span>            </td><td class='left'>
 <span class='texttt'>T</span> is a compound type (<a href='basic.compound'>[basic.compound]</a>)                        </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_member_pointer'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_member_pointer;</span>      </td><td class='left'>
 <span class='texttt'>T</span> is a pointer to non-static data member
 or non-static member function             </td><td class='left'>   </td></tr></table></div></div></div><div id='meta.unary.prop'><h4 ><a class='secnum' href='#meta.unary.prop' style='min-width:118pt'>20.15.4.3</a> Type properties <a class='abbr_ref' href='meta.unary.prop'>[meta.unary.prop]</a></h4><div class='para' id='meta.unary.prop-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15650'>#</a></div><p >These templates provide access to some of the more important
properties of types.</p></div><div class='para' id='meta.unary.prop-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15654'>#</a></div><p >It is unspecified whether the library defines any full or partial
specializations of any of these templates.</p></div><div class='para' id='meta.unary.prop-3'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15658'>#</a></div><p >For all of the class templates <span class='texttt'>X</span> declared in this subclause,
instantiating that template with a template-argument that is a class
template specialization may result in the implicit instantiation of
the template argument if and only if the semantics of <span class='texttt'>X</span> require that
the argument must be a complete type.</p></div><div class='para' id='meta.unary.prop-4'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L15665'>#</a></div><p >For the purpose of defining the templates in this subclause,
a function call expression <span class='texttt'>declval&lt;T&gt;()</span> for any type <span class='texttt'>T</span>
is considered to be a trivial (<a href='basic.types'>[basic.types]</a>, <a href='special'>[special]</a>) function call
that is not an odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>) of <span class='texttt'>declval</span>
in the context of the corresponding definition
notwithstanding the restrictions of <a href='declval'>[declval]</a>.</p><div class='numberedTable' id='tab:type-traits.properties'>Table <a href='#tab:type-traits.properties'>42</a> — Type property predicates<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Condition</b></td><td colspan='1' class='center'><b>Preconditions</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_const'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_const;</span>               </td><td class='left'>
 <span class='texttt'>T</span> is const-qualified (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>)                  </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_volatile'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_volatile;</span>            </td><td class='left'>
 <span class='texttt'>T</span> is volatile-qualified (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>)                   </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='indexparent'><a class='index' id='is_trivial'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivial;</span>                 </td><td class='left'>
 <span class='texttt'>T</span> is a trivial type (<a href='basic.types'>[basic.types]</a>)     </td><td class='left'>
 <span class='texttt'>remove_all_extents_t&lt;T&gt;</span> shall be a complete
 type or <i>cv</i> <span class='texttt'>void</span>.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_copyable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivially_copyable;</span>      </td><td class='left'>
 <span class='texttt'>T</span> is a trivially copyable type (<a href='basic.types'>[basic.types]</a>) </td><td class='left'>
 <span class='texttt'>remove_all_extents_t&lt;T&gt;</span> shall be a complete type or
 <i>cv</i> <span class='texttt'>void</span>.                               </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_standard_layout'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_standard_layout;</span>                 </td><td class='left'>
 <span class='texttt'>T</span> is a standard-layout type (<a href='basic.types'>[basic.types]</a>)   </td><td class='left'>
 <span class='texttt'>remove_all_extents_t&lt;T&gt;</span> shall be a complete
 type or <i>cv</i> <span class='texttt'>void</span>.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_pod'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_pod;</span>                 </td><td class='left'>
 <span class='texttt'>T</span> is a POD type (<a href='basic.types'>[basic.types]</a>)                                </td><td class='left'>
 <span class='texttt'>remove_all_extents_t&lt;T&gt;</span> shall be a complete
 type or <i>cv</i> <span class='texttt'>void</span>.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_empty,class'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_empty;</span>               </td><td class='left'>
 <span class='texttt'>T</span> is a class type, but not a union type, with no non-static data
 members other than bit-fields of length 0, no virtual member functions,
 no virtual base classes, and no base class <span class='texttt'>B</span> for
 which <span class='texttt'>is_empty_v&lt;B&gt;</span> is <span class='texttt'>false</span>. </td><td class='left'>
 If <span class='texttt'>T</span> is a non-union class type, <span class='texttt'>T</span> shall be a complete type.                               </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_polymorphic'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_polymorphic;</span>         </td><td class='left'>
 <span class='texttt'>T</span> is a polymorphic class (<a href='class.virtual'>[class.virtual]</a>)                             </td><td class='left'>
 If <span class='texttt'>T</span> is a non-union class type, <span class='texttt'>T</span> shall be a complete type.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_abstract'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_abstract;</span>            </td><td class='left'>
 <span class='texttt'>T</span> is an abstract class (<a href='class.abstract'>[class.abstract]</a>)                              </td><td class='left'>
 If <span class='texttt'>T</span> is a non-union class type, <span class='texttt'>T</span> shall be a complete type.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_final'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_final;</span>               </td><td class='left'>
 <span class='texttt'>T</span> is a class type marked with the <span class='grammarterm'>class-virt-specifier</span>
 <span class='texttt'>final</span> (Clause <a href='class'>[class]</a>). [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> A union is a class type that
 can be marked with <span class='texttt'>final</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]                                        </td><td class='left'>
 If <span class='texttt'>T</span> is a class type, <span class='texttt'>T</span> shall be a complete type.                          </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_signed,class'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_signed;</span>              </td><td class='left'>
  If <span class='texttt'>is_arithmetic_v&lt;T&gt;</span> is <span class='texttt'>true</span>, the same result as
  <span class='texttt'>T(-1) &lt; T(0)</span>;
  otherwise, <span class='texttt'>false</span>   </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='is_unsigned'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_unsigned;</span>            </td><td class='left'>
  If <span class='texttt'>is_arithmetic_v&lt;T&gt;</span> is <span class='texttt'>true</span>, the same result as
  <span class='texttt'>T(0) &lt; T(-1)</span>;
  otherwise, <span class='texttt'>false</span>   </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='is_constructible'></a></span><span class='texttt'>template &lt;class T, class... Args&gt;</span><br/>
 <span class='texttt'>struct is_constructible;</span>   </td><td class='left'>
 For a function type <span class='texttt'>T</span> or
 for a <i>cv</i> <span class='texttt'>void</span> type <span class='texttt'>T</span>,
 <span class='texttt'>is_constructible_v&lt;T, Args...&gt;</span> is <span class='texttt'>false</span>,
 otherwise <i><span class='texttt'>see below</span></i></td><td class='left'>
 <span class='texttt'>T</span> and all types in the parameter pack <span class='texttt'>Args</span>
 shall be complete types, <i>cv</i> <span class='texttt'>void</span>,
 or arrays of unknown bound.  </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_default_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_default_constructible;</span> </td><td class='left'>
  <span class='texttt'>is_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type, <i>cv</i> <span class='texttt'>void</span>,
  or an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_copy_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_copy_constructible;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span> (<a href='defns.referenceable'>[defns.referenceable]</a>), the same result as
  <span class='texttt'>is_constructible_v&lt;T, const T&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type, <i>cv</i> <span class='texttt'>void</span>,
  or an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_move_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_move_constructible;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
  <span class='texttt'>is_constructible_v&lt;T, T&amp;&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type, <i>cv</i> <span class='texttt'>void</span>,
  or an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_assignable'></a></span><span class='texttt'>template &lt;class T, class U&gt;</span><br/>
  <span class='texttt'>struct is_assignable;</span> </td><td class='left'>
  The expression <span class='texttt'>declval&lt;T&gt;() =</span> <span class='texttt'>declval&lt;U&gt;()</span> is well-formed
  when treated as an unevaluated
  operand (Clause <a href='expr'>[expr]</a>). Access checking is performed as if in a context
  unrelated to <span class='texttt'>T</span> and <span class='texttt'>U</span>. Only the validity of the immediate context
  of the assignment expression is considered. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The compilation of the
  expression can result in side effects such as the instantiation of class template
  specializations and function template specializations, the generation of
  implicitly-defined functions, and so on. Such side effects are not in the “immediate
  context” and can result in the program being ill-formed. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] </td><td class='left'>
  <span class='texttt'>T</span> and <span class='texttt'>U</span> shall be complete types, <i>cv</i> <span class='texttt'>void</span>,
  or arrays of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_copy_assignable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_copy_assignable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
  <span class='texttt'>is_assignable_v&lt;T&amp;, const T&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type, <i>cv</i> <span class='texttt'>void</span>,
  or an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_move_assignable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_move_assignable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
  <span class='texttt'>is_assignable_v&lt;T&amp;, T&amp;&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type, <i>cv</i> <span class='texttt'>void</span>,
  or an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_swappable_with'></a></span><span class='texttt'>template &lt;class T, class U&gt;</span><br/>
  <span class='texttt'>struct is_swappable_with;</span> </td><td class='left'>
  The expressions <span class='texttt'>swap(declval&lt;T&gt;(), declval&lt;U&gt;())</span> and
  <span class='texttt'>swap(declval&lt;U&gt;(), declval&lt;T&gt;())</span> are each well-formed
  when treated as an unevaluated operand (Clause <a href='expr'>[expr]</a>)
  in an overload-resolution context
  for swappable values (<a href='swappable.requirements'>[swappable.requirements]</a>).
  Access checking is performed as if in a context
  unrelated to <span class='texttt'>T</span> and <span class='texttt'>U</span>.
  Only the validity of the immediate context
  of the <span class='texttt'>swap</span> expressions is considered.
  [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
  The compilation of the expressions can result in side effects
  such as the instantiation of class template specializations and
  function template specializations,
  the generation of implicitly-defined functions, and so on.
  Such side effects are not in the “immediate context” and
  can result in the program being ill-formed.
  <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] </td><td class='left'>
  <span class='texttt'>T</span> and <span class='texttt'>U</span> shall be complete types,
  <i>cv</i> <span class='texttt'>void</span>, or
  arrays of unknown bound.  </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_swappable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_swappable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>,
  the same result as <span class='texttt'>is_swappable_with_v&lt;T&amp;, T&amp;&gt;</span>,
  otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type,
  <i>cv</i> <span class='texttt'>void</span>, or
  an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_destructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_destructible;</span> </td><td class='left'>
  Either <span class='texttt'>T</span> is a reference type,
  or <span class='texttt'>T</span> is a complete object type
  for which the expression
  <span class='texttt'>declval&lt;U&amp;&gt;().~U()</span>
  is well-formed
  when treated as an unevaluated operand (Clause <a href='expr'>[expr]</a>),
  where <span class='texttt'>U</span> is
  <span class='texttt'>remove_all_extents&lt;T&gt;</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type, <i>cv</i> <span class='texttt'>void</span>,
  or an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_constructible'></a></span><span class='texttt'>template &lt;class T, class... Args&gt;</span><br/>
  <span class='texttt'>struct</span><br/>
  <span class='texttt'>is_trivially_constructible;</span> </td><td class='left'>
  <span class='texttt'>is_constructible_v&lt;T,</span><br/>
  <span class='texttt'>Args...&gt;</span> is <span class='texttt'>true</span> and the variable
  definition for <span class='texttt'>is_constructible</span>, as defined below, is known to call
  no operation that is not trivial ( <a href='basic.types'>[basic.types]</a>, <a href='special'>[special]</a>). </td><td class='left'>
  <span class='texttt'>T</span> and all types in the parameter pack <span class='texttt'>Args</span> shall be complete types,
  <i>cv</i> <span class='texttt'>void</span>, or arrays of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_default_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivially_default_constructible;</span> </td><td class='left'>
 <span class='texttt'>is_trivially_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_copy_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivially_copy_constructible;</span>      </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
 <span class='texttt'>is_trivially_constructible_v&lt;T, const T&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_move_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivially_move_constructible;</span>      </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
 <span class='texttt'>is_trivially_constructible_v&lt;T, T&amp;&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_assignable'></a></span><span class='texttt'>template &lt;class T, class U&gt;</span><br/>
  <span class='texttt'>struct is_trivially_assignable;</span> </td><td class='left'>
  <span class='texttt'>is_assignable_v&lt;T, U&gt;</span> is <span class='texttt'>true</span> and the assignment, as defined by
  <span class='texttt'>is_assignable</span>, is known to call no operation that is not trivial
  (<a href='basic.types'>[basic.types]</a>, <a href='special'>[special]</a>). </td><td class='left'>
  <span class='texttt'>T</span> and <span class='texttt'>U</span> shall be complete types, <i>cv</i> <span class='texttt'>void</span>,
  or arrays of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_copy_assignable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivially_copy_assignable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
 <span class='texttt'>is_trivially_assignable_v&lt;T&amp;, const T&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_move_assignable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivially_move_assignable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
 <span class='texttt'>is_trivially_assignable_v&lt;T&amp;, T&amp;&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_trivially_destructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_trivially_destructible;</span> </td><td class='left'>
 <span class='texttt'>is_destructible_v&lt;T&gt;</span> is <span class='texttt'>true</span> and the indicated destructor is known
 to be trivial. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_constructible'></a></span><span class='texttt'>template &lt;class T, class... Args&gt;</span><br/>
 <span class='texttt'>struct is_nothrow_constructible;</span>   </td><td class='left'>
 <span class='texttt'>is_constructible_v&lt;T,</span> <span class='texttt'> Args...&gt;</span> is <span class='texttt'>true</span>
 and the
 variable definition for <span class='texttt'>is_constructible</span>, as defined below, is known not to
 throw any exceptions (<a href='expr.unary.noexcept'>[expr.unary.noexcept]</a>).
 </td><td class='left'>
 <span class='texttt'>T</span> and all types in the parameter pack <span class='texttt'>Args</span>
 shall be complete types, <i>cv</i> <span class='texttt'>void</span>,
 or arrays of unknown bound.  </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_default_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_nothrow_default_constructible;</span> </td><td class='left'>
 <span class='texttt'>is_nothrow_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.  </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_copy_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_nothrow_copy_constructible;</span>      </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
 <span class='texttt'>is_nothrow_constructible_v&lt;T, const T&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_move_constructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_nothrow_move_constructible;</span>      </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
 <span class='texttt'>is_nothrow_constructible_v&lt;T, T&amp;&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_assignable'></a></span><span class='texttt'>template &lt;class T, class U&gt;</span><br/>
  <span class='texttt'>struct is_nothrow_assignable;</span> </td><td class='left'>
  <span class='texttt'>is_assignable_v&lt;T, U&gt;</span> is <span class='texttt'>true</span> and the assignment is known not to
  throw any exceptions (<a href='expr.unary.noexcept'>[expr.unary.noexcept]</a>). </td><td class='left'>
  <span class='texttt'>T</span> and <span class='texttt'>U</span> shall be complete types, <i>cv</i> <span class='texttt'>void</span>,
  or arrays of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_copy_assignable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct is_nothrow_copy_assignable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
 <span class='texttt'>is_nothrow_assignable_v&lt;T&amp;, const T&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_move_assignable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_nothrow_move_assignable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>, the same result as
  <span class='texttt'>is_nothrow_assignable_v&lt;T&amp;, T&amp;&amp;&gt;</span>, otherwise <span class='texttt'>false</span>. </td><td class='left'>
 <span class='texttt'>T</span> shall be a complete type,
 <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
 bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_swappable_with'></a></span><span class='texttt'>template &lt;class T, class U&gt;</span><br/>
  <span class='texttt'>struct is_nothrow_swappable_with;</span> </td><td class='left'>
  <span class='texttt'>is_swappable_with_v&lt;T, U&gt;</span> is <span class='texttt'>true</span> and
  each <span class='texttt'>swap</span> expression of the definition of
  <span class='texttt'>is_swappable_with&lt;T, U&gt;</span> is known not to throw
  any exceptions (<a href='expr.unary.noexcept'>[expr.unary.noexcept]</a>). </td><td class='left'>
  <span class='texttt'>T</span> and <span class='texttt'>U</span> shall be complete types,
  <i>cv</i> <span class='texttt'>void</span>, or
  arrays of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_swappable'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_nothrow_swappable;</span> </td><td class='left'>
  For a referenceable type <span class='texttt'>T</span>,
  the same result as <span class='texttt'>is_nothrow_swappable_with_v&lt;T&amp;, T&amp;&gt;</span>,
  otherwise <span class='texttt'>false</span>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type,
  <i>cv</i> <span class='texttt'>void</span>, or
  an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_destructible'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct is_nothrow_destructible;</span> </td><td class='left'>
  <span class='texttt'>is_destructible_v&lt;T&gt;</span> is <span class='texttt'>true</span> and the indicated destructor is known
  not to throw any exceptions (<a href='expr.unary.noexcept'>[expr.unary.noexcept]</a>). </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type,
  <i>cv</i> <span class='texttt'>void</span>, or an array of unknown
  bound.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='has_virtual_destructor'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct has_virtual_destructor;</span> </td><td class='left'>
 <span class='texttt'>T</span> has a virtual destructor (<a href='class.dtor'>[class.dtor]</a>) </td><td class='left'>
 If <span class='texttt'>T</span> is a non-union class type, <span class='texttt'>T</span> shall be a complete type.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='has_unique_object_representations'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
  <span class='texttt'>struct has_unique_object_representations;</span> </td><td class='left'>
  For an array type <span class='texttt'>T</span>, the same result as
  <span class='texttt'>has_unique_object_representations_v&lt;remove_all_extents_t&lt;T&gt;&gt;</span>,
  otherwise <i><span class='texttt'>see below</span></i>. </td><td class='left'>
  <span class='texttt'>T</span> shall be a complete type, <i>cv</i> <span class='texttt'>void</span>, or
  an array of unknown bound. </td></tr></table></div></div><div class='para' id='meta.unary.prop-5'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16059'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
is_const_v&lt;const volatile int&gt;     <span class='comment'>// <span class='texttt'>true</span>
</span>is_const_v&lt;const int*&gt;             <span class='comment'>// <span class='texttt'>false</span>
</span>is_const_v&lt;const int&amp;&gt;             <span class='comment'>// <span class='texttt'>false</span>
</span>is_const_v&lt;int[3]&gt;                 <span class='comment'>// <span class='texttt'>false</span>
</span>is_const_v&lt;const int[3]&gt;           <span class='comment'>// <span class='texttt'>true</span>
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='meta.unary.prop-6'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16070'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
remove_const_t&lt;const volatile int&gt;  <span class='comment'>// <span class='texttt'>volatile int</span>
</span>remove_const_t&lt;const int* const&gt;    <span class='comment'>// <span class='texttt'>const int*</span>
</span>remove_const_t&lt;const int&amp;&gt;          <span class='comment'>// <span class='texttt'>const int&amp;</span>
</span>remove_const_t&lt;const int[3]&gt;        <span class='comment'>// <span class='texttt'>int[3]</span>
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='meta.unary.prop-7'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16080'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
<span class='comment'>// Given:
</span>struct P final { };
union U1 { };
union U2 final { };

<span class='comment'>// the following assertions hold:
</span>static_assert(!is_final_v&lt;int&gt;, "Error!");
static_assert( is_final_v&lt;P&gt;,  "Error!");
static_assert(!is_final_v&lt;U1&gt;, "Error!");
static_assert( is_final_v&lt;U2&gt;, "Error!");</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='is_constructible'></a></span></p></div><div class='para' id='meta.unary.prop-8'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16097'>#</a></div><p >The predicate condition for a template specialization
<span class='texttt'>is_constructible&lt;T, Args...&gt;</span> shall be satisfied if and only if the
following variable definition would be well-formed for some invented variable <span class='texttt'>t</span>:</p><pre class='codeblock'>
T t(declval&lt;Args&gt;()...);</pre><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> These tokens are never interpreted as a function declaration.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] Access checking is performed as if in a context unrelated to <span class='texttt'>T</span>
and any of the <span class='texttt'>Args</span>. Only the validity of the immediate context of the
variable initialization is considered. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The evaluation of the
initialization can result in side effects such as the instantiation of class
template specializations and function template specializations, the generation
of implicitly-defined functions, and so on. Such side effects are not in the
“immediate context” and can result in the program being ill-formed. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='has_unique_object_representations'></a></span></p></div><div class='para' id='meta.unary.prop-9'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16116'>#</a></div><p >The predicate condition for a template specialization
<span class='texttt'>has_unique_object_representations&lt;T&gt;</span>
shall be satisfied if and only if:
</p><ul class='itemize'><li id='meta.unary.prop-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#meta.unary.prop-9.1'>(9.1)</a></div><p ><span class='texttt'>T</span> is trivially copyable, and
</p></li><li id='meta.unary.prop-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#meta.unary.prop-9.2'>(9.2)</a></div><p >any two objects of type <span class='texttt'>T</span> with the same value
have the same object representation, where
two objects of array or non-union class type are considered to have the same value
if their respective sequences of direct subobjects have the same values, and
two objects of union type are considered to have the same value
if they have the same active member and the corresponding members have the same value.
</p></li></ul><p >The set of scalar types for which this condition holds is
<span class='indexparent'><a class='index' id='which_scalar_types_have_unique_object_representations'></a></span>implementation-defined.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> If a type has padding bits, the condition does not hold;
otherwise, the condition holds true for unsigned integral types. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div></div><div id='meta.unary.prop.query'><h3 ><a class='secnum' href='#meta.unary.prop.query' style='min-width:103pt'>20.15.5</a> Type property queries <a class='abbr_ref' href='meta.unary.prop.query'>[meta.unary.prop.query]</a></h3><div class='para' id='meta.unary.prop.query-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop.query-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16136'>#</a></div><p >This subclause contains templates that may be used to query
properties of types at compile time.</p><div class='numberedTable' id='tab:type-traits.properties.queries'>Table <a href='#tab:type-traits.properties.queries'>43</a> — Type property queries<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Value</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='alignment_of'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct alignment_of;</span>      </td><td class='left'>
 <span class='texttt'>alignof(T)</span>.<br/>
 <i>Requires:</i>
 <span class='texttt'>alignof(T)</span> shall be a valid expression (<a href='expr.alignof'>[expr.alignof]</a>)  </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='rank'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct rank;</span>      </td><td class='left'>
 If <span class='texttt'>T</span> names an array type, an integer value representing
 the number of dimensions of <span class='texttt'>T</span>; otherwise, 0. </td></tr><tr class='rowsep'><td class='left'>    <span class='indexparent'><a class='index' id='extent'></a></span><span class='texttt'>template &lt;class T,<br/>
 unsigned I = 0&gt;<br/>
 struct extent;</span>        </td><td class='left'>
 If <span class='texttt'>T</span> is not an array type, or if it has rank less
 than or equal to <span class='texttt'>I</span>, or if <span class='texttt'>I</span> is 0 and <span class='texttt'>T</span>
 has type “array of unknown bound of <span class='texttt'>U</span>”, then
 0; otherwise, the bound (<a href='dcl.array'>[dcl.array]</a>) of the <span class='texttt'>I</span>'th dimension of
<span class='texttt'>T</span>, where indexing of <span class='texttt'>I</span> is zero-based </td></tr></table></div></div><div class='para' id='meta.unary.prop.query-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop.query-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16173'>#</a></div><p >Each of these templates shall be a <span class='texttt'>UnaryTypeTrait</span> (<a href='meta.rqmts'>[meta.rqmts]</a>) with a
base characteristic of <span class='texttt'>integral_constant&lt;size_t, Value&gt;</span>.</p></div><div class='para' id='meta.unary.prop.query-3'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop.query-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16177'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
<span class='comment'>// the following assertions hold:
</span>assert(rank_v&lt;int&gt; == 0);
assert(rank_v&lt;int[2]&gt; == 1);
assert(rank_v&lt;int[][4]&gt; == 2);</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='meta.unary.prop.query-4'><div class='marginalizedparent'><a class='marginalized' href='#meta.unary.prop.query-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16187'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
<span class='comment'>// the following assertions hold:
</span>assert(extent_v&lt;int&gt; == 0);
assert(extent_v&lt;int[2]&gt; == 2);
assert(extent_v&lt;int[2][4]&gt; == 2);
assert(extent_v&lt;int[][4]&gt; == 0);
assert((extent_v&lt;int, 1&gt;) == 0);
assert((extent_v&lt;int[2], 1&gt;) == 0);
assert((extent_v&lt;int[2][4], 1&gt;) == 4);
assert((extent_v&lt;int[][4], 1&gt;) == 4);</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='meta.rel'><h3 ><a class='secnum' href='#meta.rel' style='min-width:103pt'>20.15.6</a> Relationships between types <a class='abbr_ref' href='meta.rel'>[meta.rel]</a></h3><div class='para' id='meta.rel-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.rel-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16204'>#</a></div><p >This subclause contains templates that may be used to query
relationships between types at compile time.</p></div><div class='para' id='meta.rel-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.rel-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16208'>#</a></div><p >Each of these templates shall be a
<span class='texttt'>BinaryTypeTrait</span> (<a href='meta.rqmts'>[meta.rqmts]</a>)
with a base characteristic of
<span class='texttt'>true_type</span> if the corresponding condition is true, otherwise
<span class='texttt'>false_type</span>.</p><div class='numberedTable' id='tab:type-traits.relationship'>Table <a href='#tab:type-traits.relationship'>44</a> — Type relationship predicates<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Condition</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 

<span class='texttt'>template &lt;class T, class U&gt;</span><br/>
 <span class='texttt'>struct is_same;</span>                    </td><td class='left'>
 <span class='texttt'>T</span> and <span class='texttt'>U</span> name the same type with the same cv-qualifications                            </td><td class='left'>   </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_base_of'></a></span><span class='texttt'>template &lt;class Base, class Derived&gt;</span><br/>
 <span class='texttt'>struct is_base_of;</span>                 </td><td class='left'>
 <span class='texttt'>Base</span> is a base class of <span class='texttt'>Derived</span> (Clause <a href='class.derived'>[class.derived]</a>)
 without regard to cv-qualifiers
 or <span class='texttt'>Base</span> and <span class='texttt'>Derived</span> are not unions and
 name the same class type
 without regard to cv-qualifiers            </td><td class='left'>
 If <span class='texttt'>Base</span> and
 <span class='texttt'>Derived</span> are non-union class types and are
not possibly cv-qualified versions of the same type,
 <span class='texttt'>Derived</span> shall be a complete
 type.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Base classes that are private, protected, or ambiguous
 are, nonetheless, base classes. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_convertible'></a></span><span class='texttt'>template &lt;class From, class To&gt;</span><br/>
 <span class='texttt'>struct is_convertible;</span>             </td><td class='left'>
 <i><span class='texttt'>see below</span></i></td><td class='left'>
 <span class='texttt'>From</span> and <span class='texttt'>To</span> shall be complete
 types, arrays of unknown
 bound, or <i>cv</i> <span class='texttt'>void</span> types.                </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_callable'></a></span><span class='texttt'>template &lt;class Fn, class... ArgTypes, class R&gt;</span><br/>
 <span class='texttt'>struct is_callable&lt;</span><br/>
 <span class='texttt'>Fn(ArgTypes...), R&gt;;</span>                      </td><td class='left'>
 The expression <span class='texttt'><i>INVOKE</i>(declval&lt;Fn&gt;(), declval&lt;ArgTypes&gt;()..., R)</span>
 is well formed when treated as an unevaluated operand                </td><td class='left'>
 <span class='texttt'>Fn</span>, <span class='texttt'>R</span>, and all types in the parameter pack <span class='texttt'>ArgTypes</span>
 shall be complete types, <i>cv</i> <span class='texttt'>void</span>, or
 arrays of unknown bound.                                             </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='is_nothrow_callable'></a></span><span class='texttt'>template &lt;class Fn, class... ArgTypes, class R&gt;</span><br/>
 <span class='texttt'>struct is_nothrow_callable&lt;</span><br/>
 <span class='texttt'>Fn(ArgTypes...), R&gt;;</span>              </td><td class='left'>
 <span class='texttt'>is_callable_v&lt;</span><br/><span class='texttt'>Fn(ArgTypes...), R&gt;</span> is <span class='texttt'>true</span> and
 the expression <span class='texttt'><i>INVOKE</i>(declval&lt;Fn&gt;(), declval&lt;ArgTypes&gt;()..., R)</span>
 is known not to throw any exceptions                                 </td><td class='left'>
 <span class='texttt'>Fn</span>, <span class='texttt'>R</span>, and all types in the parameter pack <span class='texttt'>ArgTypes</span>
 shall be complete types, <i>cv</i> <span class='texttt'>void</span>, or
 arrays of unknown bound.                                             </td></tr></table></div></div><div class='para' id='meta.rel-3'><div class='marginalizedparent'><a class='marginalized' href='#meta.rel-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16273'>#</a></div><p >For the purpose of defining the templates in this subclause,
a function call expression <span class='texttt'>declval&lt;T&gt;()</span> for any type <span class='texttt'>T</span>
is considered to be a trivial (<a href='basic.types'>[basic.types]</a>, <a href='special'>[special]</a>) function call
that is not an odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>) of <span class='texttt'>declval</span>
in the context of the corresponding definition
notwithstanding the restrictions of <a href='declval'>[declval]</a>.</p></div><div class='para' id='meta.rel-4'><div class='marginalizedparent'><a class='marginalized' href='#meta.rel-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16281'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
struct B {};
struct B1 : B {};
struct B2 : B {};
struct D : private B1, private B2 {};

is_base_of_v&lt;B, D&gt;         <span class='comment'>// <span class='texttt'>true</span>
</span>is_base_of_v&lt;const B, D&gt;   <span class='comment'>// <span class='texttt'>true</span>
</span>is_base_of_v&lt;B, const D&gt;   <span class='comment'>// <span class='texttt'>true</span>
</span>is_base_of_v&lt;B, const B&gt;   <span class='comment'>// <span class='texttt'>true</span>
</span>is_base_of_v&lt;D, B&gt;         <span class='comment'>// <span class='texttt'>false</span>
</span>is_base_of_v&lt;B&amp;, D&amp;&gt;       <span class='comment'>// <span class='texttt'>false</span>
</span>is_base_of_v&lt;B[3], D[3]&gt;   <span class='comment'>// <span class='texttt'>false</span>
</span>is_base_of_v&lt;int, int&gt;     <span class='comment'>// <span class='texttt'>false</span>
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='is_convertible'></a></span></p></div><div class='para' id='meta.rel-5'><div class='marginalizedparent'><a class='marginalized' href='#meta.rel-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16301'>#</a></div><p >The predicate condition for a template specialization <span class='texttt'>is_convertible&lt;From, To&gt;</span>
shall be satisfied if and only if the return expression in the following code would be
well-formed, including any implicit conversions to the return type of the function:</p><pre class='codeblock'>
To test() {
  return declval&lt;From&gt;();
}</pre><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This requirement gives well defined results for reference types, void
types, array types, and function types.<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] Access checking is performed as
if in a context unrelated to <span class='texttt'>To</span> and <span class='texttt'>From</span>. Only the validity of
the immediate context of the expression of the <span class='grammarterm'>return-statement</span>
(including conversions to the return type) is considered. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The
evaluation of the conversion can result in side effects such as the
instantiation of class template specializations and function template
specializations, the generation of implicitly-defined functions, and so on. Such
side effects are not in the “immediate context” and can result in the program
being ill-formed. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='meta.trans'><h3 ><a class='secnum' href='#meta.trans' style='min-width:103pt'>20.15.7</a> Transformations between types <a class='abbr_ref' href='meta.trans'>[meta.trans]</a></h3><div class='para' id='meta.trans-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16324'>#</a></div><p >This subclause contains templates that may be used to transform one
type to another following some predefined rule.</p></div><div class='para' id='meta.trans-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16328'>#</a></div><p >Each of the templates in this subclause shall be a
<span class='texttt'>TransformationTrait</span> (<a href='meta.rqmts'>[meta.rqmts]</a>).</p></div><div id='meta.trans.cv'><h4 ><a class='secnum' href='#meta.trans.cv' style='min-width:118pt'>20.15.7.1</a> Const-volatile modifications <a class='abbr_ref' href='meta.trans.cv'>[meta.trans.cv]</a></h4><div class='numberedTable' id='tab:type-traits.const-volatile'>Table <a href='#tab:type-traits.const-volatile'>45</a> — Const-volatile modifications<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='remove_const'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct remove_const;</span>                  </td><td class='left'>
 The member typedef <span class='texttt'>type</span> shall name
 the same type as <span class='texttt'>T</span>
 except that any top-level const-qualifier has been removed.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i> <span class='texttt'>remove_const_t&lt;const volatile int&gt;</span> evaluates
 to <span class='texttt'>volatile int</span>, whereas <span class='texttt'>remove_const_t&lt;const int*&gt;</span> evaluates to
 <span class='texttt'>const int*</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]                          </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='remove_volatile'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct remove_volatile;</span>               </td><td class='left'>
 The member typedef <span class='texttt'>type</span> shall name
 the same type as <span class='texttt'>T</span>
 except that any top-level volatile-qualifier has been removed.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i> <span class='texttt'>remove_volatile_t&lt;const volatile int&gt;</span>
 evaluates to <span class='texttt'>const int</span>,
 whereas <span class='texttt'>remove_volatile_t&lt;volatile int*&gt;</span> evaluates to <span class='texttt'>volatile int*</span>.
 <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]                                              </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='remove_cv'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct remove_cv;</span>                 </td><td class='left'>
 The member typedef <span class='texttt'>type</span> shall be the same as <span class='texttt'>T</span>
 except that any top-level cv-qualifier has been removed.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i> <span class='texttt'>remove_cv_t&lt;const volatile int&gt;</span>
 evaluates to <span class='texttt'>int</span>, whereas <span class='texttt'>remove_cv_t&lt;const volatile int*&gt;</span>
 evaluates to <span class='texttt'>const volatile int*</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]  </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='add_const'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct add_const;</span>                 </td><td class='left'>
 If <span class='texttt'>T</span> is a reference, function, or top-level const-qualified
 type, then <span class='texttt'>type</span> shall name
 the same type as <span class='texttt'>T</span>, otherwise
 <span class='texttt'>T const</span>.                                                           </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='add_volatile'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct add_volatile;</span>                  </td><td class='left'>
 If <span class='texttt'>T</span> is a reference, function, or top-level volatile-qualified
 type, then <span class='texttt'>type</span> shall name
 the same type as <span class='texttt'>T</span>, otherwise
 <span class='texttt'>T volatile</span>.                                                            </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='add_cv'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct add_cv;</span>                    </td><td class='left'>
 The member typedef <span class='texttt'>type</span> shall name
 the same type as
 <span class='texttt'>add_const_t&lt;add_volatile_t&lt;T&gt;&gt;</span>.                               </td></tr></table></div></div><div id='meta.trans.ref'><h4 ><a class='secnum' href='#meta.trans.ref' style='min-width:118pt'>20.15.7.2</a> Reference modifications <a class='abbr_ref' href='meta.trans.ref'>[meta.trans.ref]</a></h4><div class='numberedTable' id='tab:type-traits.reference'>Table <a href='#tab:type-traits.reference'>46</a> — Reference modifications<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='remove_reference'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct remove_reference;</span>                  </td><td class='left'>
 If <span class='texttt'>T</span> has type “reference to <span class='texttt'>T1</span>” then the
 member typedef <span class='texttt'>type</span> shall name <span class='texttt'>T1</span>;
 otherwise, <span class='texttt'>type</span> shall name <span class='texttt'>T</span>.</td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='add_lvalue_reference'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct add_lvalue_reference;</span>                     </td><td class='left'>
 If <span class='texttt'>T</span> names a referenceable type (<a href='defns.referenceable'>[defns.referenceable]</a>) then
 the member typedef <span class='texttt'>type</span> shall name <span class='texttt'>T&amp;</span>;
 otherwise, <span class='texttt'>type</span> shall name <span class='texttt'>T</span>.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
 This rule reflects the semantics of reference collapsing (<a href='dcl.ref'>[dcl.ref]</a>).
 <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='add_rvalue_reference'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct add_rvalue_reference;</span>    </td><td class='left'>
 If <span class='texttt'>T</span> names a referenceable type then
 the member typedef <span class='texttt'>type</span> shall name <span class='texttt'>T&amp;&amp;</span>;
 otherwise, <span class='texttt'>type</span> shall name <span class='texttt'>T</span>.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This rule reflects the semantics of reference collapsing (<a href='dcl.ref'>[dcl.ref]</a>).
 For example, when a type <span class='texttt'>T</span> names a type <span class='texttt'>T1&amp;</span>, the type
 <span class='texttt'>add_rvalue_reference_t&lt;T&gt;</span> is not an rvalue reference.
 <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] </td></tr></table></div></div><div id='meta.trans.sign'><h4 ><a class='secnum' href='#meta.trans.sign' style='min-width:118pt'>20.15.7.3</a> Sign modifications <a class='abbr_ref' href='meta.trans.sign'>[meta.trans.sign]</a></h4><div class='numberedTable' id='tab:type-traits.sign'>Table <a href='#tab:type-traits.sign'>47</a> — Sign modifications<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='make_signed'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct make_signed;</span> </td><td class='left'>
 If <span class='texttt'>T</span> names a (possibly cv-qualified) signed integer
 type (<a href='basic.fundamental'>[basic.fundamental]</a>) then the member typedef
 <span class='texttt'>type</span> shall name the type <span class='texttt'>T</span>; otherwise,
 if <span class='texttt'>T</span> names a (possibly cv-qualified) unsigned integer
 type then <span class='texttt'>type</span> shall name the corresponding
 signed integer type, with the same cv-qualifiers as <span class='texttt'>T</span>;
 otherwise, <span class='texttt'>type</span> shall name the signed integer type with smallest
 rank (<a href='conv.rank'>[conv.rank]</a>) for which
 <span class='texttt'>sizeof(T) == sizeof(type)</span>, with the same
 cv-qualifiers as <span class='texttt'>T</span>.<br/>
 <i>Requires:</i> <span class='texttt'>T</span> shall be a (possibly cv-qualified)
 integral type or enumeration
 but not a <span class='texttt'>bool</span> type.</td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='make_unsigned'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct make_unsigned;</span> </td><td class='left'>
 If <span class='texttt'>T</span> names a (possibly cv-qualified) unsigned integer
 type (<a href='basic.fundamental'>[basic.fundamental]</a>) then the member typedef
 <span class='texttt'>type</span> shall name the type <span class='texttt'>T</span>; otherwise,
 if <span class='texttt'>T</span> names a (possibly cv-qualified) signed integer
 type then <span class='texttt'>type</span> shall name the corresponding
 unsigned integer type, with the same cv-qualifiers as <span class='texttt'>T</span>;
 otherwise, <span class='texttt'>type</span> shall name the unsigned integer type with smallest
 rank (<a href='conv.rank'>[conv.rank]</a>) for which
 <span class='texttt'>sizeof(T) == sizeof(type)</span>, with the same
 cv-qualifiers as <span class='texttt'>T</span>.<br/>
 <i>Requires:</i> <span class='texttt'>T</span> shall be a (possibly cv-qualified)
 integral type or enumeration
 but not a <span class='texttt'>bool</span> type.</td></tr></table></div></div><div id='meta.trans.arr'><h4 ><a class='secnum' href='#meta.trans.arr' style='min-width:118pt'>20.15.7.4</a> Array modifications <a class='abbr_ref' href='meta.trans.arr'>[meta.trans.arr]</a></h4><div class='numberedTable' id='tab:type-traits.array'>Table <a href='#tab:type-traits.array'>48</a> — Array modifications<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='remove_extent'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct remove_extent;</span>                 </td><td class='left'>
 If <span class='texttt'>T</span> names a type “array of <span class='texttt'>U</span>”,
 the member typedef <span class='texttt'>type</span> shall
 be <span class='texttt'>U</span>, otherwise <span class='texttt'>T</span>.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> For multidimensional arrays, only the first array dimension is
 removed. For a type “array of <span class='texttt'>const U</span>”, the resulting type is
 <span class='texttt'>const U</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]                                 </td></tr><tr class='rowsep'><td class='left'>  <span class='indexparent'><a class='index' id='remove_all_extents'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct remove_all_extents;</span>                </td><td class='left'>
 If <span class='texttt'>T</span> is “multi-dimensional array of <span class='texttt'>U</span>”, the resulting member
 typedef <span class='texttt'>type</span> is <span class='texttt'>U</span>, otherwise <span class='texttt'>T</span>.                                       </td></tr></table></div><div class='para' id='meta.trans.arr-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans.arr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16510'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
<span class='comment'>// the following assertions hold:
</span>assert((is_same_v&lt;remove_extent_t&lt;int&gt;, int&gt;));
assert((is_same_v&lt;remove_extent_t&lt;int[2]&gt;, int&gt;));
assert((is_same_v&lt;remove_extent_t&lt;int[2][3]&gt;, int[3]&gt;));
assert((is_same_v&lt;remove_extent_t&lt;int[][3]&gt;, int[3]&gt;));</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='meta.trans.arr-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans.arr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16521'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
<span class='comment'>// the following assertions hold:
</span>assert((is_same_v&lt;remove_all_extents_t&lt;int&gt;, int&gt;));
assert((is_same_v&lt;remove_all_extents_t&lt;int[2]&gt;, int&gt;));
assert((is_same_v&lt;remove_all_extents_t&lt;int[2][3]&gt;, int&gt;));
assert((is_same_v&lt;remove_all_extents_t&lt;int[][3]&gt;, int&gt;));</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='meta.trans.ptr'><h4 ><a class='secnum' href='#meta.trans.ptr' style='min-width:118pt'>20.15.7.5</a> Pointer modifications <a class='abbr_ref' href='meta.trans.ptr'>[meta.trans.ptr]</a></h4><div class='numberedTable' id='tab:type-traits.pointer'>Table <a href='#tab:type-traits.pointer'>49</a> — Pointer modifications<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='remove_pointer'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct remove_pointer;</span>                    </td><td class='left'>
 If <span class='texttt'>T</span> has type “(possibly cv-qualified) pointer
 to <span class='texttt'>T1</span>” then the member typedef <span class='texttt'>type</span>
 shall name <span class='texttt'>T1</span>; otherwise, it shall name <span class='texttt'>T</span>.</td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='add_pointer'></a></span><span class='texttt'>template &lt;class T&gt;<br/>
 struct add_pointer;</span>                       </td><td class='left'>
 If <span class='texttt'>T</span> names a referenceable type (<a href='defns.referenceable'>[defns.referenceable]</a>) or a
 <i>cv</i> <span class='texttt'>void</span> type then
 the member typedef <span class='texttt'>type</span> shall name the same type as
 <span class='texttt'>remove_reference_t&lt;T&gt;*</span>;
 otherwise, <span class='texttt'>type</span> shall name <span class='texttt'>T</span>.             </td></tr></table></div></div><div id='meta.trans.other'><h4 ><a class='secnum' href='#meta.trans.other' style='min-width:118pt'>20.15.7.6</a> Other transformations <a class='abbr_ref' href='meta.trans.other'>[meta.trans.other]</a></h4><div class='numberedTable' id='tab:type-traits.other'>Table <a href='#tab:type-traits.other'>50</a> — Other transformations<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Template</b></td><td colspan='1' class='center'><b>Comments</b></td></tr><tr class='capsep'><td class='left'> 
<span class='indexparent'><a class='index' id='aligned_storage'></a></span><span class='texttt'>template &lt;size_t Len,<br/>
 size_t Align<br/>
 = <i>default-alignment</i>&gt;<br/>
 struct aligned_storage;</span>
 </td><td class='left'>
 The value of <i>default-alignment</i> shall be the most
 stringent alignment requirement for any C++ object type whose size
 is no greater than <span class='texttt'>Len</span> (<a href='basic.types'>[basic.types]</a>).
 The member typedef <span class='texttt'>type</span> shall be a POD type
 suitable for use as uninitialized storage for any object whose size
 is at most <i>Len</i> and whose alignment is a divisor of <i>Align</i>.<br/>
 <i>Requires:</i> <span class='texttt'>Len</span> shall not be zero. <span class='texttt'>Align</span> shall be equal to
 <span class='texttt'>alignof(T)</span> for some type <span class='texttt'>T</span> or to <i>default-alignment</i>.</td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='aligned_union'></a></span><span class='texttt'>template &lt;size_t Len,<br/>
  class... Types&gt;<br/>
  struct aligned_union;</span>
  </td><td class='left'>
  The member typedef <span class='texttt'>type</span> shall be a POD type suitable for use as
  uninitialized storage for any object whose type is listed in <span class='texttt'>Types</span>;
  its size shall be at least <span class='texttt'>Len</span>. The static member <span class='texttt'>alignment_value</span>
  shall be an integral constant of type <span class='texttt'>size_t</span> whose value is the
  strictest alignment of all types listed in <span class='texttt'>Types</span>.<br/>
 <i>Requires:</i> At least one type is provided.
  </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='decay'></a></span><span class='texttt'>template &lt;class T&gt;<br/>struct decay;</span>
 </td><td class='left'>
 Let <span class='texttt'>U</span> be <span class='texttt'>remove_reference_t&lt;T&gt;</span>. If <span class='texttt'>is_array_v&lt;U&gt;</span> is
 <span class='texttt'>true</span>, the member typedef <span class='texttt'>type</span> shall equal
 <span class='texttt'>remove_extent_t&lt;U&gt;*</span>. If <span class='texttt'>is_function_v&lt;U&gt;</span> is <span class='texttt'>true</span>,
 the member typedef <span class='texttt'>type</span> shall equal <span class='texttt'>add_pointer_t&lt;U&gt;</span>. Otherwise
 the member typedef <span class='texttt'>type</span> equals <span class='texttt'>remove_cv_t&lt;U&gt;</span>.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This behavior is similar to the lvalue-to-rvalue (<a href='conv.lval'>[conv.lval]</a>),
 array-to-pointer (<a href='conv.array'>[conv.array]</a>), and function-to-pointer (<a href='conv.func'>[conv.func]</a>)
 conversions applied when an lvalue expression is used as an rvalue, but also
 strips <i>cv</i>-qualifiers from class types in order to more closely model by-value
 argument passing. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
 </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='enable_if'></a></span><span class='texttt'>template &lt;bool B, class T = void&gt;</span> <span class='texttt'>struct enable_if;</span>
 </td><td class='left'>
 If <span class='texttt'>B</span> is <span class='texttt'>true</span>, the member typedef <span class='texttt'>type</span>
 shall equal <span class='texttt'>T</span>; otherwise, there shall be no member
 <span class='texttt'>type</span>. </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>template &lt;bool B, class T,</span>
 <span class='texttt'>class F&gt;</span><br/>
 <span class='texttt'>struct conditional;</span>
 </td><td class='left'>
 If <span class='texttt'>B</span> is <span class='texttt'>true</span>,  the member typedef <span class='texttt'>type</span> shall equal <span class='texttt'>T</span>.
 If <span class='texttt'>B</span> is <span class='texttt'>false</span>, the member typedef <span class='texttt'>type</span> shall equal <span class='texttt'>F</span>. </td></tr><tr class='rowsep'><td class='left'>  <span class='texttt'>template &lt;class... T&gt;</span> <span class='texttt'>struct common_type;</span>
 </td><td class='left'>
 Unless this trait is specialized (as specified in Note B, below),
 the member <span class='texttt'>type</span> shall be defined or omitted as specified in Note A, below.
 If it is omitted, there shall be no member <span class='texttt'>type</span>.
 Each type in the parameter pack <span class='texttt'>T</span> shall be
 complete, <i>cv</i> <span class='texttt'>void</span>, or an array of unknown bound. </td></tr><tr class='rowsep'><td class='left'> <span class='indexparent'><a class='index' id='underlying_type'></a></span><span class='texttt'>template &lt;class T&gt;</span><br/>
 <span class='texttt'>struct underlying_type;</span>
 </td><td class='left'>
 The member typedef <span class='texttt'>type</span> shall name the underlying type
 of <span class='texttt'>T</span>.<br/>
 <i>Requires:</i> <span class='texttt'>T</span> shall be a complete enumeration type (<a href='dcl.enum'>[dcl.enum]</a>) </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>template &lt;class Fn,</span><br/>
 <span class='texttt'>class... ArgTypes&gt;</span><br/>
 <span class='texttt'>struct result_of&lt;</span><br/>
 <span class='texttt'>Fn(ArgTypes...)&gt;;</span>
 </td><td class='left'>
 If the expression <span class='texttt'><i>INVOKE</i>(declval&lt;Fn&gt;(), declval&lt;ArgTypes&gt;()...)</span>
 is well formed when treated as an unevaluated operand (Clause <a href='expr'>[expr]</a>),
 the member typedef <span class='texttt'>type</span> shall name the type
 <span class='texttt'>decltype(<i>INVOKE</i>(declval&lt;Fn&gt;(), declval&lt;ArgTypes&gt;()...))</span>;
 otherwise, there shall be no member <span class='texttt'>type</span>. Access checking is
 performed as if in a context unrelated to <span class='texttt'>Fn</span> and
 <span class='texttt'>ArgTypes</span>. Only the validity of the immediate context of the
 expression is considered.
 [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
 The compilation of the expression can result in side effects such as
 the instantiation of class template specializations and function
 template specializations, the generation of implicitly-defined
 functions, and so on. Such side effects are not in the “immediate
 context” and can result in the program being ill-formed.
 <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>] <br/>
 <i>Requires:</i> <span class='texttt'>Fn</span> and all types in the parameter pack <span class='texttt'>ArgTypes</span> shall
 be complete types, <i>cv</i> <span class='texttt'>void</span>, or arrays of
 unknown bound.</td></tr></table></div><p ><span class='indexparent'><a class='index' id='aligned_storage'></a></span></p><div class='para' id='meta.trans.other-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans.other-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16670'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> A typical implementation would define <span class='texttt'>aligned_storage</span> as:</p><pre class='codeblock'>
template &lt;size_t Len, size_t Alignment&gt;
struct aligned_storage {
  typedef struct {
    alignas(Alignment) unsigned char __data[Len];
  } type;
};</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='meta.trans.other-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans.other-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16683'>#</a></div><p >It is <span class='indexparent'><a class='index' id='support_for_extended_alignment'></a></span>implementation-defined whether any extended alignment is
supported (<a href='basic.align'>[basic.align]</a>).</p><p ><span class='indexparent'><a class='index' id='common_type'></a></span></p></div><div class='para' id='meta.trans.other-3'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans.other-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16688'>#</a></div><p >Note A:
For the <span class='texttt'>common_type</span> trait applied to a parameter pack <span class='texttt'>T</span> of types,
the member <span class='texttt'>type</span> shall be either defined or not present as follows:</p><ul class='itemize'><li id='meta.trans.other-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#meta.trans.other-3.1'>(3.1)</a></div><p >If <span class='texttt'>sizeof...(T)</span> is zero, there shall be no member <span class='texttt'>type</span>.</p></li><li id='meta.trans.other-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#meta.trans.other-3.2'>(3.2)</a></div><p >If <span class='texttt'>sizeof...(T)</span> is one, let <span class='texttt'>T0</span> denote the sole type
constituting the pack <span class='texttt'>T</span>.
The member <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> <span class='texttt'>type</span> shall denote the same
type as <span class='texttt'>decay_t&lt;T0&gt;</span>.</p></li><li id='meta.trans.other-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#meta.trans.other-3.3'>(3.3)</a></div><p >If <span class='texttt'>sizeof...(T)</span> is two,
let the first and second types constituting <span class='texttt'>T</span> be denoted
by <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, respectively, and
let <span class='texttt'>D1</span> and <span class='texttt'>D2</span> denote
the same types as <span class='texttt'>decay_t&lt;T1&gt;</span> and <span class='texttt'>decay_t&lt;T2&gt;</span>, respectively.
  </p><ul class='itemize'><li id='meta.trans.other-3.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#meta.trans.other-3.3.1'>(3.3.1)</a></div><p >If <span class='texttt'>is_same_v&lt;T1, D1&gt;</span> is <span class='texttt'>false</span> or
     <span class='texttt'>is_same_v&lt;T2, D2&gt;</span> is <span class='texttt'>false</span>,
     let <span class='texttt'>C</span> denote the same type, if any, as <span class='texttt'>common_type_t&lt;D1, D2&gt;</span>.
  </p></li><li id='meta.trans.other-3.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#meta.trans.other-3.3.2'>(3.3.2)</a></div><p >Otherwise, let <span class='texttt'>C</span> denote the same type, if any, as
</p><pre class='codeblock'>
decay_t&lt;decltype(false ? declval&lt;D1&gt;() : declval&lt;D2&gt;())&gt;</pre><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
     This will not apply if there is a specialization <span class='texttt'>common_type&lt;D1, D2&gt;</span>.
     <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
  </p></li></ul><p >In either case, the member <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> <span class='texttt'>type</span> shall denote
the same type, if any, as <span class='texttt'>C</span>.
Otherwise, there shall be no member <span class='texttt'>type</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
When <span class='texttt'>is_same_v&lt;T1, T2&gt;</span> is <span class='texttt'>true</span>,
the effect is equivalent to that of <span class='texttt'>common_type&lt;T1&gt;</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='meta.trans.other-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#meta.trans.other-3.4'>(3.4)</a></div><p >If <span class='texttt'>sizeof...(T)</span> is greater than two,
let <span class='texttt'>T1</span>, <span class='texttt'>T2</span>, and <span class='texttt'>R</span>, respectively,
denote the first, second, and (pack of) remaining types constituting <span class='texttt'>T</span>.
Let <span class='texttt'>C</span> denote the same type, if any, as <span class='texttt'>common_type_t&lt;T1, T2&gt;</span>.
If there is such a type <span class='texttt'>C</span>, the member <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> <span class='texttt'>type</span>
shall denote the same type, if any, as <span class='texttt'>common_type_t&lt;C, R...&gt;</span>.
Otherwise, there shall be no member <span class='texttt'>type</span>.
</p></li></ul></div><div class='para' id='meta.trans.other-4'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans.other-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16735'>#</a></div><p >Note B: Notwithstanding the provisions of <a href='meta.type.synop'>[meta.type.synop]</a>, and
pursuant to <a href='namespace.std'>[namespace.std]</a>,
a program may specialize <span class='texttt'>common_type&lt;T1, T2&gt;</span>
for distinct types <span class='texttt'>T1</span> and <span class='texttt'>T2</span> such that
<span class='texttt'>is_same_v&lt;T1, decay_t&lt;T1&gt;&gt;</span> and
<span class='texttt'>is_same_v&lt;T2, decay_t&lt;T2&gt;&gt;</span> are each <span class='texttt'>true</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Such specializations are needed when only explicit conversions
are desired between the template arguments.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
Such a specialization need not have a member named <span class='texttt'>type</span>,
but if it does, that member shall be a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>
for an accessible and unambiguous cv-unqualified non-reference type <span class='texttt'>C</span>
to which each of the types <span class='texttt'>T1</span> and <span class='texttt'>T2</span> is explicitly convertible.
Moreover, <span class='texttt'>common_type_t&lt;T1, T2&gt;</span> shall denote
the same type, if any, as does <span class='texttt'>common_type_t&lt;T2, T1&gt;</span>.
No diagnostic is required for a violation of this Note's rules.</p></div><div class='para' id='meta.trans.other-5'><div class='marginalizedparent'><a class='marginalized' href='#meta.trans.other-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16754'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
Given these definitions:
</p><pre class='codeblock'>
using PF1 = bool  (&amp;)();
using PF2 = short (*)(long);

struct S {
  operator PF2() const;
  double operator()(char, int&amp;);
  void fn(long) const;
  char data;
};

using PMF = void (S::*)(long) const;
using PMD = char  S::*;</pre><p >the following assertions will hold:</p><pre class='codeblock'>
static_assert(is_same_v&lt;result_of_t&lt;S(int)&gt;, short&gt;, "Error!");
static_assert(is_same_v&lt;result_of_t&lt;S&amp;(unsigned char, int&amp;)&gt;, double&gt;, "Error!");
static_assert(is_same_v&lt;result_of_t&lt;PF1()&gt;, bool&gt;, "Error!");
static_assert(is_same_v&lt;result_of_t&lt;PMF(unique_ptr&lt;S&gt;, int)&gt;, void&gt;, "Error!");
static_assert(is_same_v&lt;result_of_t&lt;PMD(S)&gt;, char&amp;&amp;&gt;, "Error!");
static_assert(is_same_v&lt;result_of_t&lt;PMD(const S*)&gt;, const char&amp;&gt;, "Error!");</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div></div><div id='meta.logical'><h3 ><a class='secnum' href='#meta.logical' style='min-width:103pt'>20.15.8</a> Logical operator traits <a class='abbr_ref' href='meta.logical'>[meta.logical]</a></h3><div class='para' id='meta.logical-1'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16786'>#</a></div><p >This subclause describes type traits for applying logical operators
to other type traits.</p><p ><span class='indexparent'><a class='index' id='conjunction'></a></span><code class='itemdecl'>
template&lt;class... B&gt; struct conjunction : <i><span class='texttt'>see below</span></i> { };
</code></p></div><div class='itemdescr'></div><div class='para' id='meta.logical-2'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16796'>#</a></div><p >The class template <span class='texttt'>conjunction</span>
forms the logical conjunction of its template type arguments.</p></div></div><div class='para' id='meta.logical-3'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16800'>#</a></div><p >For a specialization <span class='texttt'>conjunction&lt;B1, ..., BN&gt;</span>,
if there is a template type argument <span class='texttt'>Bi</span> for which <span class='texttt'>bool(Bi::value)</span> is <span class='texttt'>false</span>,
then instantiating <span class='texttt'>conjunction&lt;B1, ..., BN&gt;::value</span>
does not require the instantiation of <span class='texttt'>Bj::value</span> for <span class='texttt'>j &gt; i</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This is analogous to the short-circuiting behavior of
the built-in operator <span class='texttt'>&amp;&amp;</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='meta.logical-4'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16809'>#</a></div><p >Every template type argument
for which <span class='texttt'>Bi::value</span> is instantiated
shall be usable as a base class and
shall have a member <span class='texttt'>value</span> which
is convertible to <span class='texttt'>bool</span>,
is not hidden, and
is unambiguously available in the type.</p></div></div><div class='para' id='meta.logical-5'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16818'>#</a></div><p >The specialization <span class='texttt'>conjunction&lt;B1, ..., BN&gt;</span>
has a public and unambiguous base that is either
</p><ul class='itemize'><li id='meta.logical-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#meta.logical-5.1'>(5.1)</a></div><p >the first type <span class='texttt'>Bi</span> in the list <span class='texttt'>true_type, B1, ..., BN</span>
for which <span class='texttt'>bool(Bi::value)</span> is <span class='texttt'>false</span>, or
</p></li><li id='meta.logical-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#meta.logical-5.2'>(5.2)</a></div><p >if there is no such <span class='texttt'>Bi</span>, the last type in the list.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This means a specialization of <span class='texttt'>conjunction</span>
does not necessarily inherit from
either <span class='texttt'>true_type</span> or <span class='texttt'>false_type</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='meta.logical-6'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16833'>#</a></div><p >The member names of the base class, other than <span class='texttt'>conjunction</span> and
<span class='texttt'>operator=</span>, shall not be hidden and shall be unambiguously available
in <span class='texttt'>conjunction</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='disjunction'></a></span><code class='itemdecl'>
template&lt;class... B&gt; struct disjunction : <i><span class='texttt'>see below</span></i> { };
</code></p><div class='itemdescr'></div><div class='para' id='meta.logical-7'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16845'>#</a></div><p >The class template <span class='texttt'>disjunction</span>
forms the logical disjunction of its template type arguments.</p></div></div><div class='para' id='meta.logical-8'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16849'>#</a></div><p >For a specialization <span class='texttt'>disjunction&lt;B1, ..., BN&gt;</span>,
if there is a template type argument <span class='texttt'>Bi</span> for which <span class='texttt'>bool(Bi::value)</span> is <span class='texttt'>true</span>,
then instantiating <span class='texttt'>disjunction&lt;B1, ..., BN&gt;::value</span>
does not require the instantiation of <span class='texttt'>Bj::value</span> for <span class='texttt'>j &gt; i</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This is analogous to the short-circuiting behavior of
the built-in operator <span class='texttt'>||</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='meta.logical-9'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16858'>#</a></div><p >Every template type argument
for which <span class='texttt'>Bi::value</span> is instantiated
shall be usable as a base class and
shall have a member <span class='texttt'>value</span> which
is convertible to <span class='texttt'>bool</span>,
is not hidden, and
is unambiguously available in the type.</p></div></div><div class='para' id='meta.logical-10'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16867'>#</a></div><p >The specialization <span class='texttt'>disjunction&lt;B1, ..., BN&gt;</span>
has a public and unambiguous base that is either
</p><ul class='itemize'><li id='meta.logical-10.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#meta.logical-10.1'>(10.1)</a></div><p >the first type <span class='texttt'>Bi</span> in the list <span class='texttt'>false_type, B1, ..., BN</span>
for which <span class='texttt'>bool(Bi::value)</span> is <span class='texttt'>true</span>, or
</p></li><li id='meta.logical-10.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#meta.logical-10.2'>(10.2)</a></div><p >if there is no such <span class='texttt'>Bi</span>, the last type in the list.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This means a specialization of <span class='texttt'>disjunction</span>
does not necessarily inherit from
either <span class='texttt'>true_type</span> or <span class='texttt'>false_type</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='meta.logical-11'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16880'>#</a></div><p >The member names of the base class,
other than <span class='texttt'>disjunction</span> and <span class='texttt'>operator=</span>,
shall not be hidden and shall be unambiguously available in <span class='texttt'>disjunction</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='negation'></a></span><code class='itemdecl'>
template&lt;class B&gt; struct negation : <i><span class='texttt'>see below</span></i> { };
</code></p><div class='itemdescr'></div><div class='para' id='meta.logical-12'><div class='marginalizedparent'><a class='marginalized' href='#meta.logical-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16892'>#</a></div><p >The class template <span class='texttt'>negation</span>
forms the logical negation of its template type argument.
The type <span class='texttt'>negation&lt;B&gt;</span>
is a <span class='texttt'>UnaryTypeTrait</span> with a base characteristic of <span class='texttt'>bool_constant&lt;!bool(B::value)&gt;</span>.
</p></div></div></div></div><div id='ratio'><h2 ><a class='secnum' href='#ratio' style='min-width:88pt'>20.16</a> Compile-time rational arithmetic <a class='abbr_ref' href='ratio'>[ratio]</a></h2><div id='ratio.general'><h3 ><a class='secnum' href='#ratio.general' style='min-width:103pt'>20.16.1</a> In general <a class='abbr_ref' href='ratio.general'>[ratio.general]</a></h3><div class='para' id='ratio.general-1'><div class='marginalizedparent'><a class='marginalized' href='#ratio.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16903'>#</a></div><p ><span class='indexparent'><a class='index' id='ratio'></a></span>This subclause describes the ratio library. It provides a class template
<span class='texttt'>ratio</span> which exactly represents any finite rational number with a
numerator and denominator representable by compile-time constants of type
<span class='texttt'>intmax_t</span>.</p></div><div class='para' id='ratio.general-2'><div class='marginalizedparent'><a class='marginalized' href='#ratio.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16910'>#</a></div><p >Throughout this subclause, the names of template parameters are used to express
type requirements. If a template parameter is named <span class='texttt'>R1</span> or <span class='texttt'>R2</span>,
and the template argument is not a specialization of the <span class='texttt'>ratio</span> template,
the program is ill-formed.</p></div></div><div id='ratio.syn'><h3 ><a class='secnum' href='#ratio.syn' style='min-width:103pt'>20.16.2</a> Header <span class='texttt'>&lt;ratio&gt;</span> synopsis <a class='abbr_ref' href='ratio.syn'>[ratio.syn]</a></h3><p ><span class='indexparent'><a class='index' id='ratio'></a></span><span class='indexparent'><a class='index' id='ratio'></a></span></p><pre class='codeblock'>
namespace std 
  // <a href='ratio.ratio'>[ratio.ratio]</a>, class template <span class='texttt'>ratio</span>
  template &lt;intmax_t N, intmax_t D = 1&gt; class ratio;

  // <a href='ratio.arithmetic'>[ratio.arithmetic]</a>, ratio arithmetic
  template &lt;class R1, class R2&gt; using ratio_add = @<i><span class='texttt'>see below</span></i>@;
  template &lt;class R1, class R2&gt; using ratio_subtract = @<i><span class='texttt'>see below</span></i>@;
  template &lt;class R1, class R2&gt; using ratio_multiply = @<i><span class='texttt'>see below</span></i>@;
  template &lt;class R1, class R2&gt; using ratio_divide = @<i><span class='texttt'>see below</span></i>@;

  // <a href='ratio.comparison'>[ratio.comparison]</a>, ratio comparison
  template &lt;class R1, class R2&gt; struct ratio_equal;
  template &lt;class R1, class R2&gt; struct ratio_not_equal;
  template &lt;class R1, class R2&gt; struct ratio_less;
  template &lt;class R1, class R2&gt; struct ratio_less_equal;
  template &lt;class R1, class R2&gt; struct ratio_greater;
  template &lt;class R1, class R2&gt; struct ratio_greater_equal;

  // <a href='ratio.si'>[ratio.si]</a>, convenience SI typedefs
  using yocto = ratio&lt;1, 1'000'000'000'000'000'000'000'000&gt;;  // see below
  using zepto = ratio&lt;1,     1'000'000'000'000'000'000'000&gt;;  // see below
  using atto  = ratio&lt;1,         1'000'000'000'000'000'000&gt;;
  using femto = ratio&lt;1,             1'000'000'000'000'000&gt;;
  using pico  = ratio&lt;1,                 1'000'000'000'000&gt;;
  using nano  = ratio&lt;1,                     1'000'000'000&gt;;
  using micro = ratio&lt;1,                         1'000'000&gt;;
  using milli = ratio&lt;1,                             1'000&gt;;
  using centi = ratio&lt;1,                               100&gt;;
  using deci  = ratio&lt;1,                                10&gt;;
  using deca  = ratio&lt;                               10, 1&gt;;
  using hecto = ratio&lt;                              100, 1&gt;;
  using kilo  = ratio&lt;                            1'000, 1&gt;;
  using mega  = ratio&lt;                        1'000'000, 1&gt;;
  using giga  = ratio&lt;                    1'000'000'000, 1&gt;;
  using tera  = ratio&lt;                1'000'000'000'000, 1&gt;;
  using peta  = ratio&lt;            1'000'000'000'000'000, 1&gt;;
  using exa   = ratio&lt;        1'000'000'000'000'000'000, 1&gt;;
  using zetta = ratio&lt;    1'000'000'000'000'000'000'000, 1&gt;;  // see below
  using yotta = ratio&lt;1'000'000'000'000'000'000'000'000, 1&gt;;  // see below

  // <a href='ratio.arithmetic'>[ratio.arithmetic]</a>, ratio comparison
  template &lt;class R1, class R2&gt; constexpr bool ratio_equal_v
    = ratio_equal&lt;R1, R2&gt;::value;
  template &lt;class R1, class R2&gt; constexpr bool ratio_not_equal_v
    = ratio_not_equal&lt;R1, R2&gt;::value;
  template &lt;class R1, class R2&gt; constexpr bool ratio_less_v
    = ratio_less&lt;R1, R2&gt;::value;
  template &lt;class R1, class R2&gt; constexpr bool ratio_less_equal_v
    = ratio_less_equal&lt;R1, R2&gt;::value;
  template &lt;class R1, class R2&gt; constexpr bool ratio_greater_v
    = ratio_greater&lt;R1, R2&gt;::value;
  template &lt;class R1, class R2&gt; constexpr bool ratio_greater_equal_v
    = ratio_greater_equal&lt;R1, R2&gt;::value;
</pre></div><div id='ratio.ratio'><h3 ><a class='secnum' href='#ratio.ratio' style='min-width:103pt'>20.16.3</a> Class template <span class='texttt'>ratio</span> <a class='abbr_ref' href='ratio.ratio'>[ratio.ratio]</a></h3><p ><span class='indexparent'><a class='index' id='ratio'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;intmax_t N, intmax_t D = 1&gt;
  class ratio {
  public:
    static constexpr intmax_t num;
    static constexpr intmax_t den;
    using type = ratio&lt;num, den&gt;;
  };
}</pre><div class='para' id='ratio.ratio-1'><div class='marginalizedparent'><a class='marginalized' href='#ratio.ratio-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L16992'>#</a></div><p ><span class='indexparent'><a class='index' id='signed_integer_representation,two&#39;s_complement'></a></span>If the template argument <span class='texttt'>D</span> is zero or the absolute values of either of the
template arguments <span class='texttt'>N</span> and <span class='texttt'>D</span> is not representable by type
<span class='texttt'>intmax_t</span>, the program is ill-formed. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> These rules ensure that infinite
ratios are avoided and that for any negative input, there exists a representable value
of its absolute value which is positive. In a two's complement representation, this
excludes the most negative value. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='ratio.ratio-2'><div class='marginalizedparent'><a class='marginalized' href='#ratio.ratio-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17001'>#</a></div><p >The static data members <span class='texttt'>num</span> and <span class='texttt'>den</span> shall have the following values,
where <span class='texttt'>gcd</span> represents the greatest common divisor of the absolute values of
<span class='texttt'>N</span> and <span class='texttt'>D</span>:</p><ul class='itemize'><li id='ratio.ratio-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ratio.ratio-2.1'>(2.1)</a></div><p ><span class='texttt'>num</span> shall have the value <span class='texttt'>sign(N) * sign(D) * abs(N) / gcd</span>.
</p></li><li id='ratio.ratio-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ratio.ratio-2.2'>(2.2)</a></div><p ><span class='texttt'>den</span> shall have the value <span class='texttt'>abs(D) / gcd</span>.
</p></li></ul></div></div><div id='ratio.arithmetic'><h3 ><a class='secnum' href='#ratio.arithmetic' style='min-width:103pt'>20.16.4</a> Arithmetic on <span class='texttt'>ratio</span>s <a class='abbr_ref' href='ratio.arithmetic'>[ratio.arithmetic]</a></h3><div class='para' id='ratio.arithmetic-1'><div class='marginalizedparent'><a class='marginalized' href='#ratio.arithmetic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17013'>#</a></div><p >Each of the alias templates <span class='texttt'>ratio_add</span>, <span class='texttt'>ratio_subtract</span>, <span class='texttt'>ratio_multiply</span>,
and <span class='texttt'>ratio_divide</span> denotes the result of an arithmetic computation on two
<span class='texttt'>ratio</span>s <span class='texttt'>R1</span> and <span class='texttt'>R2</span>. With <span class='texttt'>X</span> and <span class='texttt'>Y</span> computed (in the
absence of arithmetic overflow) as specified by Table <a href='#tab:ratio.arithmetic'>[tab:ratio.arithmetic]</a>, each alias
denotes a <span class='texttt'>ratio&lt;U, V&gt;</span> such that <span class='texttt'>U</span> is the same as <span class='texttt'>ratio&lt;X, Y&gt;::num</span> and
<span class='texttt'>V</span> is the same as <span class='texttt'>ratio&lt;X, Y&gt;::den</span>.</p></div><div class='para' id='ratio.arithmetic-2'><div class='marginalizedparent'><a class='marginalized' href='#ratio.arithmetic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17021'>#</a></div><p >If it is not possible to represent <span class='texttt'>U</span> or <span class='texttt'>V</span> with <span class='texttt'>intmax_t</span>, the program is
ill-formed. Otherwise, an implementation should yield correct values of <span class='texttt'>U</span> and
<span class='texttt'>V</span>. If it is not possible to represent <span class='texttt'>X</span> or <span class='texttt'>Y</span> with <span class='texttt'>intmax_t</span>, the
program is ill-formed unless the implementation yields correct values of <span class='texttt'>U</span> and
<span class='texttt'>V</span>.</p><div class='numberedTable' id='tab:ratio.arithmetic'>Table <a href='#tab:ratio.arithmetic'>51</a> — Expressions used to perform ratio arithmetic<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Type</b></td><td colspan='1' class='center'><b>Value of <span class='texttt'>X</span></b></td><td colspan='1' class='center'><b>Value of <span class='texttt'>Y</span></b></td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>ratio_add&lt;R1, R2&gt;</span>       </td><td class='left'>
  <span class='texttt'>R1::num * R2::den +</span>   </td><td class='left'>
  <span class='texttt'>R1::den * R2::den</span>     </td></tr><tr ><td class='left'>
                                </td><td class='left'>
  <span class='texttt'>R2::num * R1::den</span>     </td><td class='left'>
                                </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>ratio_subtract&lt;R1, R2&gt;</span>  </td><td class='left'>
  <span class='texttt'>R1::num * R2::den -</span>   </td><td class='left'>
  <span class='texttt'>R1::den * R2::den</span>     </td></tr><tr ><td class='left'>
                                </td><td class='left'>
  <span class='texttt'>R2::num * R1::den</span>     </td><td class='left'>
                                </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>ratio_multiply&lt;R1, R2&gt;</span>  </td><td class='left'>
  <span class='texttt'>R1::num * R2::num</span>     </td><td class='left'>
  <span class='texttt'>R1::den * R2::den</span>     </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>ratio_divide&lt;R1, R2&gt;</span>    </td><td class='left'>
  <span class='texttt'>R1::num * R2::den</span>     </td><td class='left'>
  <span class='texttt'>R1::den * R2::num</span>     </td></tr></table></div></div><div class='para' id='ratio.arithmetic-3'><div class='marginalizedparent'><a class='marginalized' href='#ratio.arithmetic-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17058'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i></p><pre class='codeblock'>
static_assert(ratio_add&lt;ratio&lt;1, 3&gt;, ratio&lt;1, 6&gt;&gt;::num == 1, "1/3+1/6 == 1/2");
static_assert(ratio_add&lt;ratio&lt;1, 3&gt;, ratio&lt;1, 6&gt;&gt;::den == 2, "1/3+1/6 == 1/2");
static_assert(ratio_multiply&lt;ratio&lt;1, 3&gt;, ratio&lt;3, 2&gt;&gt;::num == 1, "1/3*3/2 == 1/2");
static_assert(ratio_multiply&lt;ratio&lt;1, 3&gt;, ratio&lt;3, 2&gt;&gt;::den == 2, "1/3*3/2 == 1/2");

<span class='comment'>// The following cases may cause the program to be ill-formed under some implementations
</span>static_assert(ratio_add&lt;ratio&lt;1, INT_MAX&gt;, ratio&lt;1, INT_MAX&gt;&gt;::num == 2,
  "1/MAX+1/MAX == 2/MAX");
static_assert(ratio_add&lt;ratio&lt;1, INT_MAX&gt;, ratio&lt;1, INT_MAX&gt;&gt;::den == INT_MAX,
  "1/MAX+1/MAX == 2/MAX");
static_assert(ratio_multiply&lt;ratio&lt;1, INT_MAX&gt;, ratio&lt;INT_MAX, 2&gt;&gt;::num == 1,
  "1/MAX * MAX/2 == 1/2");
static_assert(ratio_multiply&lt;ratio&lt;1, INT_MAX&gt;, ratio&lt;INT_MAX, 2&gt;&gt;::den == 2,
  "1/MAX * MAX/2 == 1/2");</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='ratio.comparison'><h3 ><a class='secnum' href='#ratio.comparison' style='min-width:103pt'>20.16.5</a> Comparison of <span class='texttt'>ratio</span>s <a class='abbr_ref' href='ratio.comparison'>[ratio.comparison]</a></h3><p ><span class='indexparent'><a class='index' id='ratio_equal'></a></span><code class='itemdecl'>
template &lt;class R1, class R2&gt; struct ratio_equal
  : bool_constant&lt;R1::num == R2::num &amp;&amp; R1::den == R2::den&gt; { };
</code></p><p ><span class='indexparent'><a class='index' id='ratio_not_equal'></a></span><code class='itemdecl'>
template &lt;class R1, class R2&gt; struct ratio_not_equal
  : bool_constant&lt;!ratio_equal_v&lt;R1, R2&gt;&gt; { };
</code></p><p ><span class='indexparent'><a class='index' id='ratio_less'></a></span><code class='itemdecl'>
template &lt;class R1, class R2&gt; struct ratio_less
  : bool_constant&lt;<i><span class='texttt'>see below</span></i>&gt; { };
</code></p><div class='itemdescr'></div><div class='para' id='ratio.comparison-1'><div class='marginalizedparent'><a class='marginalized' href='#ratio.comparison-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17101'>#</a></div><p >If <span class='texttt'>R1::num</span> <span class='math'>&times;</span> <span class='texttt'>R2::den</span> is less than <span class='texttt'>R2::num</span> <span class='math'>&times;</span> <span class='texttt'>R1::den</span>,
<span class='texttt'>ratio_less&lt;R1, R2&gt;</span> shall be
derived from <span class='texttt'>bool_constant&lt;true&gt;</span>; otherwise it shall be derived from
<span class='texttt'>bool_constant&lt;false&gt;</span>. Implementations may use other algorithms to
compute this relationship to avoid overflow. If overflow occurs, the program is ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='ratio_less_equal'></a></span><code class='itemdecl'>
template &lt;class R1, class R2&gt; struct ratio_less_equal
  : bool_constant&lt;!ratio_less_v&lt;R2, R1&gt;&gt; { };
</code></p><p ><span class='indexparent'><a class='index' id='ratio_greater'></a></span><code class='itemdecl'>
template &lt;class R1, class R2&gt; struct ratio_greater
  : bool_constant&lt;ratio_less_v&lt;R2, R1&gt;&gt; { };
</code></p><p ><span class='indexparent'><a class='index' id='ratio_greater_equal'></a></span><code class='itemdecl'>
template &lt;class R1, class R2&gt; struct ratio_greater_equal
  : bool_constant&lt;!ratio_less_v&lt;R1, R2&gt;&gt; { };
</code></p></div><div id='ratio.si'><h3 ><a class='secnum' href='#ratio.si' style='min-width:103pt'>20.16.6</a> SI types for <span class='texttt'>ratio</span> <a class='abbr_ref' href='ratio.si'>[ratio.si]</a></h3><div class='para' id='ratio.si-1'><div class='marginalizedparent'><a class='marginalized' href='#ratio.si-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17129'>#</a></div><p >For each of the <i ><a href='dcl.typedef#nt:typedef-name'>typedef-names</a></i> <span class='texttt'>yocto</span>, <span class='texttt'>zepto</span>,
<span class='texttt'>zetta</span>, and <span class='texttt'>yotta</span>, if both of the constants used in its
specification are representable by <span class='texttt'>intmax_t</span>, the typedef shall be
defined; if either of the constants is not representable by <span class='texttt'>intmax_t</span>,
the typedef shall not be defined.</p></div></div></div><div id='time'><h2 ><a class='secnum' href='#time' style='min-width:88pt'>20.17</a> Time utilities <a class='abbr_ref' href='time'>[time]</a></h2><div id='time.general'><h3 ><a class='secnum' href='#time.general' style='min-width:103pt'>20.17.1</a> In general <a class='abbr_ref' href='time.general'>[time.general]</a></h3><div class='para' id='time.general-1'><div class='marginalizedparent'><a class='marginalized' href='#time.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17140'>#</a></div><p ><span class='indexparent'><a class='index' id='chrono'></a></span>This subclause describes the chrono library (<a href='time.syn'>[time.syn]</a>) and various C
functions (<a href='ctime.syn'>[ctime.syn]</a>) that provide generally useful time
utilities.</p></div></div><div id='time.syn'><h3 ><a class='secnum' href='#time.syn' style='min-width:103pt'>20.17.2</a> Header <span class='texttt'>&lt;chrono&gt;</span> synopsis <a class='abbr_ref' href='time.syn'>[time.syn]</a></h3><p ><span class='indexparent'><a class='index' id='chrono'></a></span><span class='indexparent'><a class='index' id='chrono'></a></span></p><pre class='codeblock'>
namespace std {
  namespace chrono {
    <span class='comment'>// <a href='time.duration'>[time.duration]</a>, class template <span class='texttt'>duration</span>
</span>    template &lt;class Rep, class Period = ratio&lt;1&gt;&gt; class duration;

    <span class='comment'>// <a href='time.point'>[time.point]</a>, class template <span class='texttt'>time_point</span>
</span>    template &lt;class Clock, class Duration = typename Clock::duration&gt; class time_point;
  }

  <span class='comment'>// <a href='time.traits.specializations'>[time.traits.specializations]</a>, <span class='texttt'>common_type</span> specializations
</span>  template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
    struct common_type&lt;chrono::duration&lt;Rep1, Period1&gt;,
                       chrono::duration&lt;Rep2, Period2&gt;&gt;;

  template &lt;class Clock, class Duration1, class Duration2&gt;
    struct common_type&lt;chrono::time_point&lt;Clock, Duration1&gt;,
                       chrono::time_point&lt;Clock, Duration2&gt;&gt;;

  namespace chrono {
    <span class='comment'>// <a href='time.traits'>[time.traits]</a>, customization traits
</span>    template &lt;class Rep&gt; struct treat_as_floating_point;
    template &lt;class Rep&gt; struct duration_values;
    template &lt;class Rep&gt; constexpr bool treat_as_floating_point_v
      = treat_as_floating_point&lt;Rep&gt;::value;

    <span class='comment'>// <a href='time.duration.nonmember'>[time.duration.nonmember]</a>, duration arithmetic
</span>    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      common_type_t&lt;duration&lt;Rep1, Period1&gt;, duration&lt;Rep2, Period2&gt;&gt;
      constexpr operator+(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                          const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      common_type_t&lt;duration&lt;Rep1, Period1&gt;, duration&lt;Rep2, Period2&gt;&gt;
      constexpr operator-(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                          const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period, class Rep2&gt;
      duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
      constexpr operator*(const duration&lt;Rep1, Period&gt;&amp; d, const Rep2&amp; s);
    template &lt;class Rep1, class Rep2, class Period&gt;
      duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
      constexpr operator*(const Rep1&amp; s, const duration&lt;Rep2, Period&gt;&amp; d);
    template &lt;class Rep1, class Period, class Rep2&gt;
      duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
      constexpr operator/(const duration&lt;Rep1, Period&gt;&amp; d, const Rep2&amp; s);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      common_type_t&lt;Rep1, Rep2&gt;
      constexpr operator/(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                          const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period, class Rep2&gt;
      duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
      constexpr operator%(const duration&lt;Rep1, Period&gt;&amp; d, const Rep2&amp; s);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      common_type_t&lt;duration&lt;Rep1, Period1&gt;, duration&lt;Rep2, Period2&gt;&gt;
      constexpr operator%(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                          const duration&lt;Rep2, Period2&gt;&amp; rhs);

    <span class='comment'>// <a href='time.duration.comparisons'>[time.duration.comparisons]</a>, duration comparisons
</span>    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      constexpr bool operator==(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                                const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      constexpr bool operator!=(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                                const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      constexpr bool operator&lt; (const duration&lt;Rep1, Period1&gt;&amp; lhs,
                                const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      constexpr bool operator&lt;=(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                                const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      constexpr bool operator&gt; (const duration&lt;Rep1, Period1&gt;&amp; lhs,
                                const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
      constexpr bool operator&gt;=(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                                const duration&lt;Rep2, Period2&gt;&amp; rhs);

    <span class='comment'>// <a href='time.duration.cast'>[time.duration.cast]</a>, duration_cast
</span>    template &lt;class ToDuration, class Rep, class Period&gt;
      constexpr ToDuration duration_cast(const duration&lt;Rep, Period&gt;&amp; d);
    template &lt;class ToDuration, class Rep, class Period&gt;
      constexpr ToDuration floor(const duration&lt;Rep, Period&gt;&amp; d);
    template &lt;class ToDuration, class Rep, class Period&gt;
      constexpr ToDuration ceil(const duration&lt;Rep, Period&gt;&amp; d);
    template &lt;class ToDuration, class Rep, class Period&gt;
      constexpr ToDuration round(const duration&lt;Rep, Period&gt;&amp; d);

    <span class='comment'>// convenience typedefs
</span>    using nanoseconds  = duration&lt;<a class='hidden_link' href='#def:signed_integer_type_of_at_least_64_bits' id='def:signed_integer_type_of_at_least_64_bits'><i>signed integer type of at least 64 bits</i></a>, nano&gt;;
    using microseconds = duration&lt;<a class='hidden_link' href='#def:signed_integer_type_of_at_least_55_bits' id='def:signed_integer_type_of_at_least_55_bits'><i>signed integer type of at least 55 bits</i></a>, micro&gt;;
    using milliseconds = duration&lt;<a class='hidden_link' href='#def:signed_integer_type_of_at_least_45_bits' id='def:signed_integer_type_of_at_least_45_bits'><i>signed integer type of at least 45 bits</i></a>, milli&gt;;
    using seconds      = duration&lt;<a class='hidden_link' href='#def:signed_integer_type_of_at_least_35_bits' id='def:signed_integer_type_of_at_least_35_bits'><i>signed integer type of at least 35 bits</i></a>&gt;;
    using minutes      = duration&lt;<a class='hidden_link' href='#def:signed_integer_type_of_at_least_29_bits' id='def:signed_integer_type_of_at_least_29_bits'><i>signed integer type of at least 29 bits</i></a>, ratio&lt;  60&gt;&gt;;
    using hours        = duration&lt;<a class='hidden_link' href='#def:signed_integer_type_of_at_least_23_bits' id='def:signed_integer_type_of_at_least_23_bits'><i>signed integer type of at least 23 bits</i></a>, ratio&lt;3600&gt;&gt;;

    <span class='comment'>// <a href='time.point.nonmember'>[time.point.nonmember]</a>, time_point arithmetic
</span>    template &lt;class Clock, class Duration1, class Rep2, class Period2&gt;
      constexpr time_point&lt;Clock, common_type_t&lt;Duration1, duration&lt;Rep2, Period2&gt;&gt;&gt;
      operator+(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Rep1, class Period1, class Clock, class Duration2&gt;
      constexpr time_point&lt;Clock, common_type_t&lt;duration&lt;Rep1, Period1&gt;, Duration2&gt;&gt;
      operator+(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                const time_point&lt;Clock, Duration2&gt;&amp; rhs);
    template &lt;class Clock, class Duration1, class Rep2, class Period2&gt;
      constexpr time_point&lt;Clock, common_type_t&lt;Duration1, duration&lt;Rep2, Period2&gt;&gt;&gt;
      operator-(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                const duration&lt;Rep2, Period2&gt;&amp; rhs);
    template &lt;class Clock, class Duration1, class Duration2&gt;
      constexpr common_type_t&lt;Duration1, Duration2&gt;
      operator-(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                const time_point&lt;Clock, Duration2&gt;&amp; rhs);

    <span class='comment'>// <a href='time.point.comparisons'>[time.point.comparisons]</a>, time_point comparisons
</span>    template &lt;class Clock, class Duration1, class Duration2&gt;
       constexpr bool operator==(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                                 const time_point&lt;Clock, Duration2&gt;&amp; rhs);
    template &lt;class Clock, class Duration1, class Duration2&gt;
       constexpr bool operator!=(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                                 const time_point&lt;Clock, Duration2&gt;&amp; rhs);
    template &lt;class Clock, class Duration1, class Duration2&gt;
       constexpr bool operator&lt; (const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                                 const time_point&lt;Clock, Duration2&gt;&amp; rhs);
    template &lt;class Clock, class Duration1, class Duration2&gt;
       constexpr bool operator&lt;=(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                                 const time_point&lt;Clock, Duration2&gt;&amp; rhs);
    template &lt;class Clock, class Duration1, class Duration2&gt;
       constexpr bool operator&gt; (const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                                 const time_point&lt;Clock, Duration2&gt;&amp; rhs);
    template &lt;class Clock, class Duration1, class Duration2&gt;
       constexpr bool operator&gt;=(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                                 const time_point&lt;Clock, Duration2&gt;&amp; rhs);

    <span class='comment'>// <a href='time.point.cast'>[time.point.cast]</a>, time_point_cast
</span>    template &lt;class ToDuration, class Clock, class Duration&gt;
      constexpr time_point&lt;Clock, ToDuration&gt;
      time_point_cast(const time_point&lt;Clock, Duration&gt;&amp; t);
    template &lt;class ToDuration, class Clock, class Duration&gt;
      constexpr time_point&lt;Clock, ToDuration&gt;
      floor(const time_point&lt;Clock, Duration&gt;&amp; tp);
    template &lt;class ToDuration, class Clock, class Duration&gt;
      constexpr time_point&lt;Clock, ToDuration&gt;
      ceil(const time_point&lt;Clock, Duration&gt;&amp; tp);
    template &lt;class ToDuration, class Clock, class Duration&gt;
      constexpr time_point&lt;Clock, ToDuration&gt;
      round(const time_point&lt;Clock, Duration&gt;&amp; tp);

    <span class='comment'>// <a href='time.duration.alg'>[time.duration.alg]</a>, specialized algorithms
</span>    template &lt;class Rep, class Period&gt;
      constexpr duration&lt;Rep, Period&gt; abs(duration&lt;Rep, Period&gt; d);

    <span class='comment'>// <a href='time.clock'>[time.clock]</a>, clocks
</span>    class system_clock;
    class steady_clock;
    class high_resolution_clock;
  }

  inline namespace literals {
    inline namespace chrono_literals {
      <span class='comment'>//  <a href='time.duration.literals'>[time.duration.literals]</a>, suffixes for duration literals
</span>      constexpr chrono::hours                                operator "" h(unsigned long long);
      constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, ratio&lt;3600,1&gt;&gt; operator "" h(long double);
      constexpr chrono::minutes                              operator "" min(unsigned long long);
      constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, ratio&lt;60,1&gt;&gt;   operator "" min(long double);
      constexpr chrono::seconds                              operator "" s(unsigned long long);
      constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>&gt;                operator "" s(long double);
      constexpr chrono::milliseconds                         operator "" ms(unsigned long long);
      constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, milli&gt;          operator "" ms(long double);
      constexpr chrono::microseconds                         operator "" us(unsigned long long);
      constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, micro&gt;         operator "" us(long double);
      constexpr chrono::nanoseconds                          operator "" ns(unsigned long long);
      constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, nano&gt;          operator "" ns(long double);
    }
  }

  namespace chrono {
    using namespace literals::chrono_literals;
  }
}</pre></div><div id='time.clock.req'><h3 ><a class='secnum' href='#time.clock.req' style='min-width:103pt'>20.17.3</a> Clock requirements <a class='abbr_ref' href='time.clock.req'>[time.clock.req]</a></h3><div class='para' id='time.clock.req-1'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.req-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17332'>#</a></div><p >A clock is a bundle consisting of a <span class='texttt'>duration</span>, a
<span class='texttt'>time_point</span>, and a function <span class='texttt'>now()</span> to get the current <span class='texttt'>time_point</span>.
The origin of the clock's <span class='texttt'>time_point</span> is referred to as the clock's <a class='hidden_link' href='#def:epoch' id='def:epoch'><i>epoch</i></a>.
 A clock shall meet the requirements in Table <a href='#tab:time.clock'>[tab:time.clock]</a>.</p></div><div class='para' id='time.clock.req-2'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.req-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17338'>#</a></div><p >In Table <a href='#tab:time.clock'>[tab:time.clock]</a> <span class='texttt'>C1</span> and <span class='texttt'>C2</span> denote clock types. <span class='texttt'>t1</span> and
<span class='texttt'>t2</span> are values returned by <span class='texttt'>C1::now()</span> where the call returning <span class='texttt'>t1</span> happens
before (<a href='intro.multithread'>[intro.multithread]</a>) the call returning <span class='texttt'>t2</span> and both of these calls
occur
before <span class='texttt'>C1::time_point::max()</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This means <span class='texttt'>C1</span> did not wrap around between <span class='texttt'>t1</span> and
<span class='texttt'>t2</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><div class='numberedTable' id='tab:time.clock'>Table <a href='#tab:time.clock'>52</a> — Clock requirements<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Expression</b></td><td colspan='1' class='center'><b>Return type</b></td><td colspan='1' class='center'><b>Operational semantics</b></td></tr><tr class='capsep'><td class='left'> 
<span class='texttt'>C1::rep</span> </td><td class='left'>
  An arithmetic type or a class emulating an arithmetic type </td><td class='left'>
  The representation type of <span class='texttt'>C1::duration</span>.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>C1::period</span>  </td><td class='left'>
  a specialization of <span class='texttt'>ratio</span>     </td><td class='left'>
  The tick period of the clock in seconds.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>C1::duration</span>  </td><td class='left'>
  <span class='texttt'>chrono::duration&lt;C1::rep, C1::period&gt;</span> </td><td class='left'>
  The <span class='texttt'>duration</span> type of the clock. </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>C1::time_point</span>  </td><td class='left'>
  <span class='texttt'>chrono::time_point&lt;C1&gt;</span> or <span class='texttt'>chrono::time_point&lt;C2, C1::duration&gt;</span>  </td><td class='left'>
  The <span class='texttt'>time_point</span> type of the clock. <span class='texttt'>C1</span> and <span class='texttt'>C2</span> shall
  refer to the same epoch. </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>C1::is_steady</span>  </td><td class='left'>
  <span class='texttt'>const bool</span>      </td><td class='left'>
  <span class='texttt'>true</span> if <span class='texttt'>t1 &lt;= t2</span> is always <span class='texttt'>true</span> and the time between clock
  ticks is constant, otherwise <span class='texttt'>false</span>.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>C1::now()</span> </td><td class='left'>
  <span class='texttt'>C1::time_point</span>  </td><td class='left'>
  Returns a <span class='texttt'>time_point</span> object representing the current point in time. </td></tr></table></div></div><div class='para' id='time.clock.req-3'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.req-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17386'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The relative difference in durations between those reported by a given clock and the
SI definition is a measure of the quality of implementation. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='time.clock.req-4'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.req-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17390'>#</a></div><p >A type <span class='texttt'>TC</span> meets the <span class='texttt'>TrivialClock</span> requirements if:</p><ul class='itemize'><li id='time.clock.req-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#time.clock.req-4.1'>(4.1)</a></div><p ><span class='texttt'>TC</span> satisfies the <span class='texttt'>Clock</span> requirements (<a href='time.clock.req'>[time.clock.req]</a>),</p></li><li id='time.clock.req-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#time.clock.req-4.2'>(4.2)</a></div><p >the types <span class='texttt'>TC::rep</span>, <span class='texttt'>TC::duration</span>, and <span class='texttt'>TC::time_point</span>
satisfy the requirements of <span class='texttt'>EqualityComparable</span> (Table <a href='utility.arg.requirements#tab:equalitycomparable'>[tab:equalitycomparable]</a>),
<span class='texttt'>LessThanComparable</span> (Table <a href='utility.arg.requirements#tab:lessthancomparable'>[tab:lessthancomparable]</a>),
<span class='texttt'>DefaultConstructible</span> (Table <a href='utility.arg.requirements#tab:defaultconstructible'>[tab:defaultconstructible]</a>),
<span class='texttt'>CopyConstructible</span> (Table <a href='utility.arg.requirements#tab:copyconstructible'>[tab:copyconstructible]</a>),
<span class='texttt'>CopyAssignable</span> (Table <a href='utility.arg.requirements#tab:copyassignable'>[tab:copyassignable]</a>),
<span class='texttt'>Destructible</span> (Table <a href='utility.arg.requirements#tab:destructible'>[tab:destructible]</a>), and the requirements of
numeric types (<a href='numeric.requirements'>[numeric.requirements]</a>). [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This means, in particular,
that operations on these types will not throw exceptions. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='time.clock.req-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#time.clock.req-4.3'>(4.3)</a></div><p >lvalues of the types <span class='texttt'>TC::rep</span>, <span class='texttt'>TC::duration</span>, and
<span class='texttt'>TC::time_point</span> are swappable (<a href='swappable.requirements'>[swappable.requirements]</a>),</p></li><li id='time.clock.req-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#time.clock.req-4.4'>(4.4)</a></div><p >the function <span class='texttt'>TC::now()</span> does not throw exceptions, and</p></li><li id='time.clock.req-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#time.clock.req-4.5'>(4.5)</a></div><p >the type <span class='texttt'>TC::time_point::clock</span> meets the <span class='texttt'>TrivialClock</span>
requirements, recursively.
</p></li></ul></div></div><div id='time.traits'><h3 ><a class='secnum' href='#time.traits' style='min-width:103pt'>20.17.4</a> Time-related traits <a class='abbr_ref' href='time.traits'>[time.traits]</a></h3><div id='time.traits.is_fp'><h4 ><a class='secnum' href='#time.traits.is_fp' style='min-width:118pt'>20.17.4.1</a> <span class='texttt'>treat_as_floating_point</span> <a class='abbr_ref' href='time.traits.is_fp'>[time.traits.is_fp]</a></h4><p ><span class='indexparent'><a class='index' id='treat_as_floating_point'></a></span><code class='itemdecl'>
template &lt;class Rep&gt; struct treat_as_floating_point
  : is_floating_point&lt;Rep&gt; { };
</code></p><div class='para' id='time.traits.is_fp-1'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.is_fp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17425'>#</a></div><p >The <span class='texttt'>duration</span> template uses the <span class='texttt'>treat_as_floating_point</span> trait to
help determine if a <span class='texttt'>duration</span> object can be converted to another
<span class='texttt'>duration</span> with a different tick <span class='texttt'>period</span>. If
<span class='texttt'>treat_as_floating_point_v&lt;Rep&gt;</span> is <span class='texttt'>true</span>, then implicit conversions
are allowed among <span class='texttt'>duration</span>s. Otherwise, the implicit convertibility
depends on the tick <span class='texttt'>period</span>s of the <span class='texttt'>duration</span>s.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The intention of this trait is to indicate whether a given class behaves like a floating-point
type, and thus allows division of one value by another with acceptable loss of precision. If
<span class='texttt'>treat_as_floating_point_v&lt;Rep&gt;</span> is <span class='texttt'>false</span>, <span class='texttt'>Rep</span> will be treated as
if it behaved like an integral type for the purpose of these conversions.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='time.traits.duration_values'><h4 ><a class='secnum' href='#time.traits.duration_values' style='min-width:118pt'>20.17.4.2</a> <span class='texttt'>duration_values</span> <a class='abbr_ref' href='time.traits.duration_values'>[time.traits.duration_values]</a></h4><p ><span class='indexparent'><a class='index' id='duration_values'></a></span><code class='itemdecl'>
template &lt;class Rep&gt;
struct duration_values {
public:
  static constexpr Rep zero();
  static constexpr Rep min();
  static constexpr Rep max();
};
</code></p><div class='para' id='time.traits.duration_values-1'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.duration_values-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17452'>#</a></div><p >The <span class='texttt'>duration</span> template uses the <span class='texttt'>duration_values</span> trait to
construct special values of the durations representation (<span class='texttt'>Rep</span>). This is
done because the representation might be a class type with behavior which
requires some other implementation to return these special values. In that case,
the author of that class type should specialize <span class='texttt'>duration_values</span> to
return the indicated values.</p><p ><span class='indexparent'><a class='index' id='zero,duration_values'></a></span><span class='indexparent'><a class='index' id='duration_values,zero'></a></span><code class='itemdecl'>
static constexpr Rep zero();
</code></p></div><div class='itemdescr'></div><div class='para' id='time.traits.duration_values-2'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.duration_values-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17466'>#</a></div><p ><i>Returns:</i> <span class='texttt'>Rep(0)</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> <span class='texttt'>Rep(0)</span> is specified instead of
<span class='texttt'>Rep()</span> because <span class='texttt'>Rep()</span> may have some other meaning, such as an
uninitialized value. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='time.traits.duration_values-3'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.duration_values-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17471'>#</a></div><p ><i>Remarks:</i> The value returned shall be the additive identity.
</p></div></div><p ><span class='indexparent'><a class='index' id='min,duration_values'></a></span><span class='indexparent'><a class='index' id='duration_values,min'></a></span><code class='itemdecl'>
static constexpr Rep min();
</code></p><div class='itemdescr'></div><div class='para' id='time.traits.duration_values-4'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.duration_values-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17481'>#</a></div><p ><i>Returns:</i> <span class='texttt'>numeric_limits&lt;Rep&gt;::lowest()</span>.</p></div></div><div class='para' id='time.traits.duration_values-5'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.duration_values-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17484'>#</a></div><p ><i>Remarks:</i> The value returned shall compare less than or equal to <span class='texttt'>zero()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='max,duration_values'></a></span><span class='indexparent'><a class='index' id='duration_values,max'></a></span><code class='itemdecl'>
static constexpr Rep max();
</code></p><div class='itemdescr'></div><div class='para' id='time.traits.duration_values-6'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.duration_values-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17494'>#</a></div><p ><i>Returns:</i> <span class='texttt'>numeric_limits&lt;Rep&gt;::max()</span>.</p></div></div><div class='para' id='time.traits.duration_values-7'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.duration_values-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17497'>#</a></div><p ><i>Remarks:</i> The value returned shall compare greater than <span class='texttt'>zero()</span>.
</p></div></div></div><div id='time.traits.specializations'><h4 ><a class='secnum' href='#time.traits.specializations' style='min-width:118pt'>20.17.4.3</a> Specializations of <span class='texttt'>common_type</span> <a class='abbr_ref' href='time.traits.specializations'>[time.traits.specializations]</a></h4><p ><span class='indexparent'><a class='index' id='common_type'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
struct common_type&lt;chrono::duration&lt;Rep1, Period1&gt;, chrono::duration&lt;Rep2, Period2&gt;&gt; {
  using type = chrono::duration&lt;common_type_t&lt;Rep1, Rep2&gt;, <i><span class='texttt'>see below</span></i>&gt;;
};
</code></p><div class='para' id='time.traits.specializations-1'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.specializations-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17511'>#</a></div><p >The <span class='texttt'>period</span> of the <span class='texttt'>duration</span> indicated by this specialization of
<span class='texttt'>common_type</span> shall be the greatest common divisor of <span class='texttt'>Period1</span> and
<span class='texttt'>Period2</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This can be computed by forming a ratio of the
greatest common divisor of <span class='texttt'>Period1::num</span> and <span class='texttt'>Period2::num</span> and the
least common multiple of <span class='texttt'>Period1::den</span> and <span class='texttt'>Period2::den</span>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='time.traits.specializations-2'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.specializations-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17519'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> The <span class='texttt'>typedef</span> name <span class='texttt'>type</span> is a synonym for the
<span class='texttt'>duration</span> with the largest tick <span class='texttt'>period</span> possible where both
<span class='texttt'>duration</span> arguments will convert to it without requiring a division
operation. The representation of this type is intended to be able to hold any
value resulting from this conversion with no truncation error, although
floating-point durations may have round-off errors. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='common_type'></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
struct common_type&lt;chrono::time_point&lt;Clock, Duration1&gt;, chrono::time_point&lt;Clock, Duration2&gt;&gt; {
  using type = chrono::time_point&lt;Clock, common_type_t&lt;Duration1, Duration2&gt;&gt;;
};
</code></p></div><div class='para' id='time.traits.specializations-3'><div class='marginalizedparent'><a class='marginalized' href='#time.traits.specializations-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17535'>#</a></div><p >The common type of two <span class='texttt'>time_point</span> types is a <span class='texttt'>time_point</span> with the same
clock as the two types and the common type of their two <span class='texttt'>duration</span>s.</p></div></div></div><div id='time.duration'><h3 ><a class='secnum' href='#time.duration' style='min-width:103pt'>20.17.5</a> Class template <span class='texttt'>duration</span> <a class='abbr_ref' href='time.duration'>[time.duration]</a></h3><div class='para' id='time.duration-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17541'>#</a></div><p >A <span class='texttt'>duration</span> type measures time between two points in time (<span class='texttt'>time_point</span>s).
A <span class='texttt'>duration</span> has a representation which holds a count of ticks and a tick period.
The tick period is the amount of time which occurs from one tick to the next, in units
of seconds. It is expressed as a rational constant using the template <span class='texttt'>ratio</span>.</p><p ><span class='indexparent'><a class='index' id='duration'></a></span></p><pre class='codeblock'>
template &lt;class Rep, class Period = ratio&lt;1&gt;&gt;
class duration {
public:
  using rep    = Rep;
  using period = Period;
private:
  rep rep_;  <span class='comment'>// <i>exposition only</i>
</span>public:
  <span class='comment'>// <a href='time.duration.cons'>[time.duration.cons]</a>, construct/copy/destroy
</span>  constexpr duration() = default;
  template &lt;class Rep2&gt;
      constexpr explicit duration(const Rep2&amp; r);
  template &lt;class Rep2, class Period2&gt;
     constexpr duration(const duration&lt;Rep2, Period2&gt;&amp; d);
  ~duration() = default;
  duration(const duration&amp;) = default;
  duration&amp; operator=(const duration&amp;) = default;

  <span class='comment'>// <a href='time.duration.observer'>[time.duration.observer]</a>, observer
</span>  constexpr rep count() const;

  <span class='comment'>// <a href='time.duration.arithmetic'>[time.duration.arithmetic]</a>, arithmetic
</span>  constexpr duration  operator+() const;
  constexpr duration  operator-() const;
  constexpr duration&amp; operator++();
  constexpr duration  operator++(int);
  constexpr duration&amp; operator--();
  constexpr duration  operator--(int);

  constexpr duration&amp; operator+=(const duration&amp; d);
  constexpr duration&amp; operator-=(const duration&amp; d);

  constexpr duration&amp; operator*=(const rep&amp; rhs);
  constexpr duration&amp; operator/=(const rep&amp; rhs);
  constexpr duration&amp; operator%=(const rep&amp; rhs);
  constexpr duration&amp; operator%=(const duration&amp; rhs);

  <span class='comment'>// <a href='time.duration.special'>[time.duration.special]</a>, special values
</span>  static constexpr duration zero();
  static constexpr duration min();
  static constexpr duration max();
};</pre></div><div class='para' id='time.duration-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17593'>#</a></div><p ><span class='texttt'>Rep</span> shall be an arithmetic type or a class emulating an arithmetic type.
If <span class='texttt'>duration</span> is instantiated with a <span class='texttt'>duration</span> type as the argument for the template
parameter <span class='texttt'>Rep</span>, the program is ill-formed.</p></div><div class='para' id='time.duration-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17598'>#</a></div><p >If <span class='texttt'>Period</span> is not a specialization of <span class='texttt'>ratio</span>, the program is ill-formed.
If <span class='texttt'>Period::num</span> is not positive, the program is ill-formed.</p></div><div class='para' id='time.duration-4'><div class='marginalizedparent'><a class='marginalized' href='#time.duration-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17602'>#</a></div><p >Members of <span class='texttt'>duration</span> shall not throw exceptions other than
those thrown by the indicated operations on their representations.</p></div><div class='para' id='time.duration-5'><div class='marginalizedparent'><a class='marginalized' href='#time.duration-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17606'>#</a></div><p >The defaulted copy constructor of duration shall be a
constexpr function if and only if the required initialization
of the member <span class='texttt'>rep_</span> for copy and move, respectively, would
satisfy the requirements for a constexpr function.</p></div><div class='para' id='time.duration-6'><div class='marginalizedparent'><a class='marginalized' href='#time.duration-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17612'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
duration&lt;long, ratio&lt;60&gt;&gt; d0;       <span class='comment'>// holds a count of minutes using a <span class='texttt'>long</span>
</span>duration&lt;long long, milli&gt; d1;      <span class='comment'>// holds a count of milliseconds using a <span class='texttt'>long long</span>
</span>duration&lt;double, ratio&lt;1, 30&gt;&gt;  d2; <span class='comment'>// holds a count with a tick period of <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 0.849em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 1.2em; top: -1.372em;"><span id="MJXc-Node-4" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-denominator" style="font-size: 70.7%; width: 1.2em; bottom: -0.687em;"><span id="MJXc-Node-5" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">30</span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 0.849em;" class="mjx-line"></span></span><span style="height: 1.456em; vertical-align: -0.486em;" class="mjx-vsize"></span></span></span></span></span> of a second
</span>                                    <span class='comment'>// (30 Hz) using a <span class='texttt'>double</span>
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div id='time.duration.cons'><h4 ><a class='secnum' href='#time.duration.cons' style='min-width:118pt'>20.17.5.1</a> <span class='texttt'>duration</span> constructors <a class='abbr_ref' href='time.duration.cons'>[time.duration.cons]</a></h4><p ><span class='indexparent'><a class='index' id='duration,constructor'></a></span><code class='itemdecl'>
template &lt;class Rep2&gt;
  constexpr explicit duration(const Rep2&amp; r);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17631'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload
resolution unless
<span class='texttt'>Rep2</span> is implicitly convertible to <span class='texttt'>rep</span> and
</p><ul class='itemize'><li id='time.duration.cons-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#time.duration.cons-1.1'>(1.1)</a></div><p ><span class='texttt'>treat_as_floating_point_v&lt;rep&gt;</span> is <span class='texttt'>true</span> or
</p></li><li id='time.duration.cons-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#time.duration.cons-1.2'>(1.2)</a></div><p ><span class='texttt'>treat_as_floating_point_v&lt;Rep2&gt;</span> is <span class='texttt'>false</span>.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
duration&lt;int, milli&gt; d(3);          <span class='comment'>// OK
</span>duration&lt;int, milli&gt; d(3.5);        <span class='comment'>// error
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='time.duration.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17646'>#</a></div><p ><i>Effects:</i> Constructs an object of type <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.duration.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17649'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>count() == static_cast&lt;rep&gt;(r)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='duration,constructor'></a></span><code class='itemdecl'>
template &lt;class Rep2, class Period2&gt;
  constexpr duration(const duration&lt;Rep2, Period2&gt;&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17660'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless
no overflow is induced in the conversion and
<span class='texttt'>treat_as_floating_point_v&lt;rep&gt;</span> is <span class='texttt'>true</span> or both
<span class='texttt'>ratio_divide&lt;Period2, period&gt;::den</span> is <span class='texttt'>1</span> and
<span class='texttt'>treat_as_floating_point_v&lt;Rep2&gt;</span> is <span class='texttt'>false</span>. [<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This
requirement prevents implicit truncation error when converting between
integral-based <span class='texttt'>duration</span> types. Such a construction could easily lead to
confusion about the value of the <span class='texttt'>duration</span>. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
duration&lt;int, milli&gt; ms(3);
duration&lt;int, micro&gt; us = ms;       <span class='comment'>// OK
</span>duration&lt;int, milli&gt; ms2 = us;      <span class='comment'>// error
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='time.duration.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17677'>#</a></div><p ><i>Effects:</i> Constructs an object of type <span class='texttt'>duration</span>, constructing <span class='texttt'>rep_</span> from<br/>
<span class='texttt'>duration_cast&lt;duration&gt;(d).count()</span>.
</p></div></div></div><div id='time.duration.observer'><h4 ><a class='secnum' href='#time.duration.observer' style='min-width:118pt'>20.17.5.2</a> <span class='texttt'>duration</span> observer <a class='abbr_ref' href='time.duration.observer'>[time.duration.observer]</a></h4><p ><span class='indexparent'><a class='index' id='count,duration'></a></span><span class='indexparent'><a class='index' id='duration,count'></a></span><code class='itemdecl'>
constexpr rep count() const;
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.observer-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.observer-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17690'>#</a></div><p ><i>Returns:</i> <span class='texttt'>rep_</span>.
</p></div></div></div><div id='time.duration.arithmetic'><h4 ><a class='secnum' href='#time.duration.arithmetic' style='min-width:118pt'>20.17.5.3</a> <span class='texttt'>duration</span> arithmetic <a class='abbr_ref' href='time.duration.arithmetic'>[time.duration.arithmetic]</a></h4><p ><span class='indexparent'><a class='index' id='operator+,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator+'></a></span><code class='itemdecl'>
constexpr duration operator+() const;
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17702'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator-,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator-'></a></span><code class='itemdecl'>
constexpr duration operator-() const;
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17712'>#</a></div><p ><i>Returns:</i> <span class='texttt'>duration(-rep_)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator++,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator++'></a></span><code class='itemdecl'>
constexpr duration&amp; operator++();
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17722'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>++rep_</span>.</p></div></div><div class='para' id='time.duration.arithmetic-4'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17725'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator++,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator++'></a></span><code class='itemdecl'>
constexpr duration operator++(int);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-5'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17735'>#</a></div><p ><i>Returns:</i> <span class='texttt'>duration(rep_++)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator--,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator--'></a></span><code class='itemdecl'>
constexpr duration&amp; operator--();
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-6'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17745'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>--rep_</span>.</p></div></div><div class='para' id='time.duration.arithmetic-7'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17748'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator--,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator--'></a></span><code class='itemdecl'>
constexpr duration operator--(int);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-8'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17758'>#</a></div><p ><i>Returns:</i> <span class='texttt'>duration(rep_--)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator+=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator+='></a></span><code class='itemdecl'>
constexpr duration&amp; operator+=(const duration&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-9'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17768'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>rep_ += d.count();</span></p></div></div><div class='para' id='time.duration.arithmetic-10'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17771'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator-=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator-='></a></span><code class='itemdecl'>
constexpr duration&amp; operator-=(const duration&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-11'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17781'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>rep_ -= d.count();</span></p></div></div><div class='para' id='time.duration.arithmetic-12'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17784'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator*='></a></span><code class='itemdecl'>
constexpr duration&amp; operator*=(const rep&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-13'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17794'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>rep_ *= rhs;</span></p></div></div><div class='para' id='time.duration.arithmetic-14'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17797'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator/=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator/='></a></span><code class='itemdecl'>
constexpr duration&amp; operator/=(const rep&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-15'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17807'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>rep_ /= rhs;</span></p></div></div><div class='para' id='time.duration.arithmetic-16'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17810'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator%=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator%='></a></span><code class='itemdecl'>
constexpr duration&amp; operator%=(const rep&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-17'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17820'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>rep_ %= rhs;</span></p></div></div><div class='para' id='time.duration.arithmetic-18'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17823'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator%=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator%='></a></span><code class='itemdecl'>
constexpr duration&amp; operator%=(const duration&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.arithmetic-19'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17833'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>rep_ %= rhs.count();</span></p></div></div><div class='para' id='time.duration.arithmetic-20'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.arithmetic-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17836'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='time.duration.special'><h4 ><a class='secnum' href='#time.duration.special' style='min-width:118pt'>20.17.5.4</a> <span class='texttt'>duration</span> special values <a class='abbr_ref' href='time.duration.special'>[time.duration.special]</a></h4><p ><span class='indexparent'><a class='index' id='zero,duration'></a></span><span class='indexparent'><a class='index' id='duration,zero'></a></span><code class='itemdecl'>
static constexpr duration zero();
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.special-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.special-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17849'>#</a></div><p ><i>Returns:</i> <span class='texttt'>duration(duration_values&lt;rep&gt;::zero())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='min,duration'></a></span><span class='indexparent'><a class='index' id='duration,min'></a></span><code class='itemdecl'>
static constexpr duration min();
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.special-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.special-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17859'>#</a></div><p ><i>Returns:</i> <span class='texttt'>duration(duration_values&lt;rep&gt;::min())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='max,duration'></a></span><span class='indexparent'><a class='index' id='duration,max'></a></span><code class='itemdecl'>
static constexpr duration max();
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.special-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.special-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17869'>#</a></div><p ><i>Returns:</i> <span class='texttt'>duration(duration_values&lt;rep&gt;::max())</span>.
</p></div></div></div><div id='time.duration.nonmember'><h4 ><a class='secnum' href='#time.duration.nonmember' style='min-width:118pt'>20.17.5.5</a> <span class='texttt'>duration</span> non-member arithmetic <a class='abbr_ref' href='time.duration.nonmember'>[time.duration.nonmember]</a></h4><div class='para' id='time.duration.nonmember-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17875'>#</a></div><p >In the function descriptions that follow, <span class='texttt'>CD</span> represents the return type
of the function. <span class='texttt'>CR(A, B)</span> represents <span class='texttt'>common_type_t&lt;A, B&gt;</span>.</p><p ><span class='indexparent'><a class='index' id='common_type'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr common_type_t&lt;duration&lt;Rep1, Period1&gt;, duration&lt;Rep2, Period2&gt;&gt;
  operator+(const duration&lt;Rep1, Period1&gt;&amp; lhs, const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p></div><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17887'>#</a></div><p ><i>Returns:</i> <span class='texttt'>CD(CD(lhs).count() + CD(rhs).count())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='common_type'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr common_type_t&lt;duration&lt;Rep1, Period1&gt;, duration&lt;Rep2, Period2&gt;&gt;
  operator-(const duration&lt;Rep1, Period1&gt;&amp; lhs, const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17899'>#</a></div><p ><i>Returns:</i> <span class='texttt'>CD(CD(lhs).count() - CD(rhs).count())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator*'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period, class Rep2&gt;
  constexpr duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
  operator*(const duration&lt;Rep1, Period&gt;&amp; d, const Rep2&amp; s);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-4'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17911'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload
resolution unless <span class='texttt'>Rep2</span> is implicitly convertible to <span class='texttt'>CR(Rep1, Rep2)</span>.</p></div></div><div class='para' id='time.duration.nonmember-5'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17915'>#</a></div><p ><i>Returns:</i> <span class='texttt'>CD(CD(d).count() * s)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator*'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Rep2, class Period&gt;
  constexpr duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
  operator*(const Rep1&amp; s, const duration&lt;Rep2, Period&gt;&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-6'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17927'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload
resolution unless <span class='texttt'>Rep1</span> is implicitly convertible to <span class='texttt'>CR(Rep1, Rep2)</span>.</p></div></div><div class='para' id='time.duration.nonmember-7'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17931'>#</a></div><p ><i>Returns:</i> <span class='texttt'>d * s</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator/,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator/'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period, class Rep2&gt;
  constexpr duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
  operator/(const duration&lt;Rep1, Period&gt;&amp; d, const Rep2&amp; s);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-8'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17943'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload
resolution unless <span class='texttt'>Rep2</span> is implicitly convertible to <span class='texttt'>CR(Rep1, Rep2)</span>
and <span class='texttt'>Rep2</span> is not a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.duration.nonmember-9'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17948'>#</a></div><p ><i>Returns:</i> <span class='texttt'>CD(CD(d).count() / s)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator/,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator/'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr common_type_t&lt;Rep1, Rep2&gt;
  operator/(const duration&lt;Rep1, Period1&gt;&amp; lhs, const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-10'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17960'>#</a></div><p ><i>Returns:</i> <span class='texttt'>CD(lhs).count() / CD(rhs).count()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator%,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator%'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period, class Rep2&gt;
  constexpr duration&lt;common_type_t&lt;Rep1, Rep2&gt;, Period&gt;
  operator%(const duration&lt;Rep1, Period&gt;&amp; d, const Rep2&amp; s);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-11'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17972'>#</a></div><p ><i>Remarks:</i> This operator shall not participate in overload
resolution unless <span class='texttt'>Rep2</span> is implicitly convertible to <span class='texttt'>CR(Rep1, Rep2)</span> and
<span class='texttt'>Rep2</span> is not a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.duration.nonmember-12'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17977'>#</a></div><p ><i>Returns:</i> <span class='texttt'>CD(CD(d).count() % s)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator%,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator%'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr common_type_t&lt;duration&lt;Rep1, Period1&gt;, duration&lt;Rep2, Period2&gt;&gt;
  operator%(const duration&lt;Rep1, Period1&gt;&amp; lhs, const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.nonmember-13'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.nonmember-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17989'>#</a></div><p ><i>Returns:</i> <span class='texttt'>CD(CD(lhs).count() % CD(rhs).count())</span>.
</p></div></div></div><div id='time.duration.comparisons'><h4 ><a class='secnum' href='#time.duration.comparisons' style='min-width:118pt'>20.17.5.6</a> <span class='texttt'>duration</span> comparisons <a class='abbr_ref' href='time.duration.comparisons'>[time.duration.comparisons]</a></h4><div class='para' id='time.duration.comparisons-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.comparisons-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L17996'>#</a></div><p >In the function descriptions that follow, <span class='texttt'><i>CT</i></span> represents
<span class='texttt'>common_type_t&lt;A, B&gt;</span>, where <span class='texttt'>A</span> and <span class='texttt'>B</span> are the types of
the two arguments to the function.</p><p ><span class='indexparent'><a class='index' id='operator==,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator=='></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr bool operator==(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                            const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p></div><div class='itemdescr'></div><div class='para' id='time.duration.comparisons-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.comparisons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18009'>#</a></div><p ><i>Returns:</i> <span class='texttt'><i>CT</i>(lhs).count() == <i>CT</i>(rhs).count()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator!='></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr bool operator!=(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                            const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.comparisons-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.comparisons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18021'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(lhs == rhs)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator<'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr bool operator&lt;(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                           const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.comparisons-4'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.comparisons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18033'>#</a></div><p ><i>Returns:</i> <span class='texttt'><i>CT</i>(lhs).count() &lt; <i>CT</i>(rhs).count()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator<='></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr bool operator&lt;=(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                            const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.comparisons-5'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.comparisons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18045'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(rhs &lt; lhs)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator>'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr bool operator&gt;(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                           const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.comparisons-6'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.comparisons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18057'>#</a></div><p ><i>Returns:</i> <span class='texttt'>rhs &lt; lhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator>='></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Rep2, class Period2&gt;
  constexpr bool operator&gt;=(const duration&lt;Rep1, Period1&gt;&amp; lhs,
                            const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.comparisons-7'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.comparisons-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18069'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(lhs &lt; rhs)</span>.
</p></div></div></div><div id='time.duration.cast'><h4 ><a class='secnum' href='#time.duration.cast' style='min-width:118pt'>20.17.5.7</a> <span class='texttt'>duration_cast</span> <a class='abbr_ref' href='time.duration.cast'>[time.duration.cast]</a></h4><p ><span class='indexparent'><a class='index' id='duration,duration_cast'></a></span><span class='indexparent'><a class='index' id='duration_cast'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Rep, class Period&gt;
  constexpr ToDuration duration_cast(const duration&lt;Rep, Period&gt;&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18083'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.duration.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18087'>#</a></div><p ><i>Returns:</i> Let <span class='texttt'>CF</span> be <span class='texttt'>ratio_divide&lt;Period, typename
ToDuration::period&gt;</span>, and <span class='texttt'>CR</span> be <span class='texttt'>common_type&lt;</span> <span class='texttt'>typename
ToDuration::rep, Rep, intmax_t&gt;::type</span>.
</p><ul class='itemize'><li id='time.duration.cast-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#time.duration.cast-2.1'>(2.1)</a></div><p >If <span class='texttt'>CF::num == 1</span> and <span class='texttt'>CF::den == 1</span>, returns
</p><pre class='codeblock'>
ToDuration(static_cast&lt;typename ToDuration::rep&gt;(d.count()))</pre></li><li id='time.duration.cast-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#time.duration.cast-2.2'>(2.2)</a></div><p >otherwise, if <span class='texttt'>CF::num != 1</span> and <span class='texttt'>CF::den == 1</span>, returns
</p><pre class='codeblock'>
ToDuration(static_cast&lt;typename ToDuration::rep&gt;(
  static_cast&lt;CR&gt;(d.count()) * static_cast&lt;CR&gt;(CF::num)))</pre></li><li id='time.duration.cast-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#time.duration.cast-2.3'>(2.3)</a></div><p >otherwise, if <span class='texttt'>CF::num == 1</span> and <span class='texttt'>CF::den != 1</span>, returns
</p><pre class='codeblock'>
ToDuration(static_cast&lt;typename ToDuration::rep&gt;(
  static_cast&lt;CR&gt;(d.count()) / static_cast&lt;CR&gt;(CF::den)))</pre></li><li id='time.duration.cast-2.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#time.duration.cast-2.4'>(2.4)</a></div><p >otherwise, returns
</p><pre class='codeblock'>
ToDuration(static_cast&lt;typename ToDuration::rep&gt;(
  static_cast&lt;CR&gt;(d.count()) * static_cast&lt;CR&gt;(CF::num) / static_cast&lt;CR&gt;(CF::den)))</pre></li></ul><p ><i>Notes:</i> This function does not use any implicit conversions; all conversions
are done with <span class='texttt'>static_cast</span>. It avoids multiplications and divisions when
it is known at compile time that one or more arguments is 1. Intermediate
computations are carried out in the widest representation and only converted to
the destination representation at the final step.
</p></div></div><p ><span class='indexparent'><a class='index' id='floor,duration'></a></span><span class='indexparent'><a class='index' id='duration,floor'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Rep, class Period&gt;
  constexpr ToDuration floor(const duration&lt;Rep, Period&gt;&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18130'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.duration.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18134'>#</a></div><p ><i>Returns:</i> The greatest result <span class='texttt'>t</span> representable in <span class='texttt'>ToDuration</span>
for which <span class='texttt'>t &lt;= d</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ceil,duration'></a></span><span class='indexparent'><a class='index' id='duration,ceil'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Rep, class Period&gt;
  constexpr ToDuration ceil(const duration&lt;Rep, Period&gt;&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18146'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.duration.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18150'>#</a></div><p ><i>Returns:</i> The least result <span class='texttt'>t</span> representable in <span class='texttt'>ToDuration</span>
for which <span class='texttt'>t &gt;= d</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='round,duration'></a></span><span class='indexparent'><a class='index' id='duration,round'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Rep, class Period&gt;
  constexpr ToDuration round(const duration&lt;Rep, Period&gt;&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18162'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>,
and <span class='texttt'>treat_as_floating_point_v&lt;typename ToDuration::rep&gt;</span>
is <span class='texttt'>false</span>.</p></div></div><div class='para' id='time.duration.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.cast-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18168'>#</a></div><p ><i>Returns:</i> The value of <span class='texttt'>ToDuration</span> that is closest to <span class='texttt'>d</span>.
If there are two closest values, then return the value <span class='texttt'>t</span>
for which <span class='texttt'>t % 2 == 0</span>.
</p></div></div></div><div id='time.duration.literals'><h4 ><a class='secnum' href='#time.duration.literals' style='min-width:118pt'>20.17.5.8</a> Suffixes for duration literals <a class='abbr_ref' href='time.duration.literals'>[time.duration.literals]</a></h4><div class='para' id='time.duration.literals-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18176'>#</a></div><p >This section describes literal suffixes for constructing duration literals. The
suffixes <span class='texttt'>h</span>, <span class='texttt'>min</span>, <span class='texttt'>s</span>, <span class='texttt'>ms</span>, <span class='texttt'>us</span>, <span class='texttt'>ns</span>
denote duration values of the corresponding types <span class='texttt'>hours</span>, <span class='texttt'>minutes</span>,
<span class='texttt'>seconds</span>, <span class='texttt'>milliseconds</span>, <span class='texttt'>microseconds</span>, and <span class='texttt'>nanoseconds</span>
respectively if they are applied to integral literals.</p></div><div class='para' id='time.duration.literals-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18183'>#</a></div><p >If any of these suffixes are applied to a floating-point literal the result is a
<span class='texttt'>chrono::duration</span> literal with an unspecified floating-point representation.</p></div><div class='para' id='time.duration.literals-3'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18187'>#</a></div><p >If any of these suffixes are applied to an integer literal and the resulting
<span class='texttt'>chrono::duration</span> value cannot be represented in the result type because
of overflow, the program is ill-formed.</p></div><div class='para' id='time.duration.literals-4'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18192'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
The following code shows some duration literals.
</p><pre class='codeblock'>
using namespace std::chrono_literals;
auto constexpr aday=24h;
auto constexpr lesson=45min;
auto constexpr halfanhour=0.5h;</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='operator_""_h,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator_""_h'></a></span><code class='itemdecl'>
constexpr chrono::hours                                 operator "" h(unsigned long long hours);
constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, ratio&lt;3600, 1&gt;&gt; operator "" h(long double hours);
</code></p></div><div class='itemdescr'></div><div class='para' id='time.duration.literals-5'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18210'>#</a></div><p ><i>Returns:</i>
A <span class='texttt'>duration</span> literal representing <span class='texttt'>hours</span> hours.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_""_min,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator_""_min'></a></span><code class='itemdecl'>
constexpr chrono::minutes                             operator "" min(unsigned long long minutes);
constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, ratio&lt;60, 1&gt;&gt; operator "" min(long double minutes);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.literals-6'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18222'>#</a></div><p ><i>Returns:</i>
A <span class='texttt'>duration</span> literal representing <span class='texttt'>minutes</span> minutes.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_""_s,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator_""_s'></a></span><code class='itemdecl'>
constexpr chrono::seconds               operator "" s(unsigned long long sec);
constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>&gt; operator "" s(long double sec);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.literals-7'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18234'>#</a></div><p ><i>Returns:</i>
A <span class='texttt'>duration</span> literal representing <span class='texttt'>sec</span> seconds.</p></div></div><div class='para' id='time.duration.literals-8'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18238'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
The same suffix <span class='texttt'>s</span> is used for <span class='texttt'>basic_string</span> but there is no
conflict, since duration suffixes apply to numbers and string literal suffixes
apply to character array literals.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_""_ms,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator_""_ms'></a></span><code class='itemdecl'>
constexpr chrono::milliseconds                 operator "" ms(unsigned long long msec);
constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, milli&gt; operator "" ms(long double msec);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.literals-9'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18253'>#</a></div><p ><i>Returns:</i>
A <span class='texttt'>duration</span> literal representing <span class='texttt'>msec</span> milliseconds.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_""_us,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator_""_us'></a></span><code class='itemdecl'>
constexpr chrono::microseconds                 operator "" us(unsigned long long usec);
constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, micro&gt; operator "" us(long double usec);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.literals-10'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18265'>#</a></div><p ><i>Returns:</i>
A <span class='texttt'>duration</span> literal representing <span class='texttt'>usec</span> microseconds.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator_""_ns,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator_""_ns'></a></span><code class='itemdecl'>
constexpr chrono::nanoseconds                 operator "" ns(unsigned long long nsec);
constexpr chrono::duration&lt;<i><span class='texttt'>unspecified</span></i>, nano&gt; operator "" ns(long double nsec);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.literals-11'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.literals-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18277'>#</a></div><p ><i>Returns:</i>
A <span class='texttt'>duration</span> literal representing <span class='texttt'>nsec</span> nanoseconds.
</p></div></div></div><div id='time.duration.alg'><h4 ><a class='secnum' href='#time.duration.alg' style='min-width:118pt'>20.17.5.9</a> <span class='texttt'>duration</span> algorithms <a class='abbr_ref' href='time.duration.alg'>[time.duration.alg]</a></h4><p ><span class='indexparent'><a class='index' id='abs,duration'></a></span><span class='indexparent'><a class='index' id='duration,abs'></a></span><code class='itemdecl'>
template &lt;class Rep, class Period&gt;
  constexpr duration&lt;Rep, Period&gt; abs(duration&lt;Rep, Period&gt; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.duration.alg-1'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.alg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18291'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>numeric_limits&lt;Rep&gt;::is_signed</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='time.duration.alg-2'><div class='marginalizedparent'><a class='marginalized' href='#time.duration.alg-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18295'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>d &gt;= d.zero()</span>, return <span class='texttt'>d</span>,
otherwise return <span class='texttt'>-d</span>.
</p></div></div></div></div><div id='time.point'><h3 ><a class='secnum' href='#time.point' style='min-width:103pt'>20.17.6</a> Class template <span class='texttt'>time_point</span> <a class='abbr_ref' href='time.point'>[time.point]</a></h3><p ><span class='indexparent'><a class='index' id='time_point'></a></span></p><pre class='codeblock'>
template &lt;class Clock, class Duration = typename Clock::duration&gt;
class time_point {
public:
  using clock    = Clock;
  using duration = Duration;
  using rep      = typename duration::rep;
  using period   = typename duration::period;
private:
  duration d_;  <span class='comment'>// <i>exposition only</i>
</span>
public:
  <span class='comment'>// <a href='time.point.cons'>[time.point.cons]</a>, construct
</span>  constexpr time_point();  <span class='comment'>// has value epoch
</span>  constexpr explicit time_point(const duration&amp; d);  <span class='comment'>// same as time_point() + d
</span>  template &lt;class Duration2&gt;
    constexpr time_point(const time_point&lt;clock, Duration2&gt;&amp; t);

  <span class='comment'>// <a href='time.point.observer'>[time.point.observer]</a>, observer
</span>  constexpr duration time_since_epoch() const;

  <span class='comment'>// <a href='time.point.arithmetic'>[time.point.arithmetic]</a>, arithmetic
</span>  constexpr time_point&amp; operator+=(const duration&amp; d);
  constexpr time_point&amp; operator-=(const duration&amp; d);

  <span class='comment'>// <a href='time.point.special'>[time.point.special]</a>, special values
</span>  static constexpr time_point min();
  static constexpr time_point max();
};</pre><div class='para' id='time.point-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18334'>#</a></div><p ><span class='texttt'>Clock</span> shall meet the Clock requirements (<a href='time.clock'>[time.clock]</a>).</p></div><div class='para' id='time.point-2'><div class='marginalizedparent'><a class='marginalized' href='#time.point-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18337'>#</a></div><p >If <span class='texttt'>Duration</span> is not an instance of <span class='texttt'>duration</span>,
the program is ill-formed.</p></div><div id='time.point.cons'><h4 ><a class='secnum' href='#time.point.cons' style='min-width:118pt'>20.17.6.1</a> <span class='texttt'>time_point</span> constructors <a class='abbr_ref' href='time.point.cons'>[time.point.cons]</a></h4><p ><span class='indexparent'><a class='index' id='time_point,constructor'></a></span><code class='itemdecl'>
constexpr time_point();
</code></p><div class='itemdescr'></div><div class='para' id='time.point.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18349'>#</a></div><p ><i>Effects:</i> Constructs an object of type <span class='texttt'>time_point</span>, initializing
<span class='texttt'>d_</span> with <span class='texttt'>duration::zero()</span>. Such a <span class='texttt'>time_point</span> object
represents the epoch.
</p></div></div><p ><span class='indexparent'><a class='index' id='time_point,constructor'></a></span><code class='itemdecl'>
constexpr explicit time_point(const duration&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18361'>#</a></div><p ><i>Effects:</i> Constructs an object of type <span class='texttt'>time_point</span>, initializing
<span class='texttt'>d_</span> with <span class='texttt'>d</span>. Such a <span class='texttt'>time_point</span> object represents the epoch
<span class='texttt'>+ d</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='time_point,constructor'></a></span><code class='itemdecl'>
template &lt;class Duration2&gt;
  constexpr time_point(const time_point&lt;clock, Duration2&gt;&amp; t);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18374'>#</a></div><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless <span class='texttt'>Duration2</span>
is implicitly convertible to <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.point.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18378'>#</a></div><p ><i>Effects:</i> Constructs an object of type <span class='texttt'>time_point</span>, initializing
<span class='texttt'>d_</span> with <span class='texttt'>t.time_since_epoch()</span>.
</p></div></div></div><div id='time.point.observer'><h4 ><a class='secnum' href='#time.point.observer' style='min-width:118pt'>20.17.6.2</a> <span class='texttt'>time_point</span> observer <a class='abbr_ref' href='time.point.observer'>[time.point.observer]</a></h4><p ><span class='indexparent'><a class='index' id='time_since_epoch,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,time_since_epoch'></a></span><code class='itemdecl'>
constexpr duration time_since_epoch() const;
</code></p><div class='itemdescr'></div><div class='para' id='time.point.observer-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point.observer-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18391'>#</a></div><p ><i>Returns:</i> <span class='texttt'>d_</span>.
</p></div></div></div><div id='time.point.arithmetic'><h4 ><a class='secnum' href='#time.point.arithmetic' style='min-width:118pt'>20.17.6.3</a> <span class='texttt'>time_point</span> arithmetic <a class='abbr_ref' href='time.point.arithmetic'>[time.point.arithmetic]</a></h4><p ><span class='indexparent'><a class='index' id='operator+=,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator+='></a></span><code class='itemdecl'>
constexpr time_point&amp; operator+=(const duration&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.arithmetic-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point.arithmetic-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18403'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>d_ += d;</span></p></div></div><div class='para' id='time.point.arithmetic-2'><div class='marginalizedparent'><a class='marginalized' href='#time.point.arithmetic-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18406'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator-=,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator-='></a></span><code class='itemdecl'>
constexpr time_point&amp; operator-=(const duration&amp; d);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.arithmetic-3'><div class='marginalizedparent'><a class='marginalized' href='#time.point.arithmetic-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18416'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>d_ -= d;</span></p></div></div><div class='para' id='time.point.arithmetic-4'><div class='marginalizedparent'><a class='marginalized' href='#time.point.arithmetic-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18419'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='time.point.special'><h4 ><a class='secnum' href='#time.point.special' style='min-width:118pt'>20.17.6.4</a> <span class='texttt'>time_point</span> special values <a class='abbr_ref' href='time.point.special'>[time.point.special]</a></h4><p ><span class='indexparent'><a class='index' id='min,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,min'></a></span><code class='itemdecl'>
static constexpr time_point min();
</code></p><div class='itemdescr'></div><div class='para' id='time.point.special-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point.special-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18431'>#</a></div><p ><i>Returns:</i> <span class='texttt'>time_point(duration::min())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='max,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,max'></a></span><code class='itemdecl'>
static constexpr time_point max();
</code></p><div class='itemdescr'></div><div class='para' id='time.point.special-2'><div class='marginalizedparent'><a class='marginalized' href='#time.point.special-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18441'>#</a></div><p ><i>Returns:</i> <span class='texttt'>time_point(duration::max())</span>.
</p></div></div></div><div id='time.point.nonmember'><h4 ><a class='secnum' href='#time.point.nonmember' style='min-width:118pt'>20.17.6.5</a> <span class='texttt'>time_point</span> non-member arithmetic <a class='abbr_ref' href='time.point.nonmember'>[time.point.nonmember]</a></h4><p ><span class='indexparent'><a class='index' id='operator+,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator+'></a></span><span class='indexparent'><a class='index' id='operator+,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator+'></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Rep2, class Period2&gt;
  constexpr time_point&lt;Clock, common_type_t&lt;Duration1, duration&lt;Rep2, Period2&gt;&gt;&gt;
  operator+(const time_point&lt;Clock, Duration1&gt;&amp; lhs, const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.nonmember-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point.nonmember-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18456'>#</a></div><p ><i>Returns:</i> <span class='texttt'><i>CT</i>(lhs.time_since_epoch() + rhs)</span>, where <span class='texttt'><i>CT</i></span> is the type of the return value.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator+,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator+'></a></span><span class='indexparent'><a class='index' id='operator+,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator+'></a></span><code class='itemdecl'>
template &lt;class Rep1, class Period1, class Clock, class Duration2&gt;
  constexpr time_point&lt;Clock, common_type_t&lt;duration&lt;Rep1, Period1&gt;, Duration2&gt;&gt;
  operator+(const duration&lt;Rep1, Period1&gt;&amp; lhs, const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.nonmember-2'><div class='marginalizedparent'><a class='marginalized' href='#time.point.nonmember-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18469'>#</a></div><p ><i>Returns:</i> <span class='texttt'>rhs + lhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator-,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator-'></a></span><span class='indexparent'><a class='index' id='operator-,duration'></a></span><span class='indexparent'><a class='index' id='duration,operator-'></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Rep2, class Period2&gt;
  constexpr time_point&lt;Clock, common_type_t&lt;Duration1, duration&lt;Rep2, Period2&gt;&gt;&gt;
  operator-(const time_point&lt;Clock, Duration1&gt;&amp; lhs, const duration&lt;Rep2, Period2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.nonmember-3'><div class='marginalizedparent'><a class='marginalized' href='#time.point.nonmember-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18482'>#</a></div><p ><i>Returns:</i> <span class='texttt'><i>CT</i>(lhs.time_since_epoch() - rhs)</span>,
where <span class='texttt'><i>CT</i></span> is the type of the return value.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator-,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator-'></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
  constexpr common_type_t&lt;Duration1, Duration2&gt;
  operator-(const time_point&lt;Clock, Duration1&gt;&amp; lhs, const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.nonmember-4'><div class='marginalizedparent'><a class='marginalized' href='#time.point.nonmember-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18495'>#</a></div><p ><i>Returns:</i> <span class='texttt'>lhs.time_since_epoch() - rhs.time_since_epoch()</span>.
</p></div></div></div><div id='time.point.comparisons'><h4 ><a class='secnum' href='#time.point.comparisons' style='min-width:118pt'>20.17.6.6</a> <span class='texttt'>time_point</span> comparisons <a class='abbr_ref' href='time.point.comparisons'>[time.point.comparisons]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator=='></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
  constexpr bool operator==(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                            const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.comparisons-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point.comparisons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18509'>#</a></div><p ><i>Returns:</i> <span class='texttt'>lhs.time_since_epoch() == rhs.time_since_epoch()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator!='></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
  constexpr bool operator!=(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                            const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.comparisons-2'><div class='marginalizedparent'><a class='marginalized' href='#time.point.comparisons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18521'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(lhs == rhs)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator<'></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
  constexpr bool operator&lt;(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                           const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.comparisons-3'><div class='marginalizedparent'><a class='marginalized' href='#time.point.comparisons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18533'>#</a></div><p ><i>Returns:</i> <span class='texttt'>lhs.time_since_epoch() &lt; rhs.time_since_epoch()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator<='></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
  constexpr bool operator&lt;=(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                            const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.comparisons-4'><div class='marginalizedparent'><a class='marginalized' href='#time.point.comparisons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18545'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(rhs &lt; lhs)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator>'></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
  constexpr bool operator&gt;(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                           const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.comparisons-5'><div class='marginalizedparent'><a class='marginalized' href='#time.point.comparisons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18557'>#</a></div><p ><i>Returns:</i> <span class='texttt'>rhs &lt; lhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,operator>='></a></span><code class='itemdecl'>
template &lt;class Clock, class Duration1, class Duration2&gt;
  constexpr bool operator&gt;=(const time_point&lt;Clock, Duration1&gt;&amp; lhs,
                            const time_point&lt;Clock, Duration2&gt;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.comparisons-6'><div class='marginalizedparent'><a class='marginalized' href='#time.point.comparisons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18569'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!(lhs &lt; rhs)</span>.
</p></div></div></div><div id='time.point.cast'><h4 ><a class='secnum' href='#time.point.cast' style='min-width:118pt'>20.17.6.7</a> <span class='texttt'>time_point_cast</span> <a class='abbr_ref' href='time.point.cast'>[time.point.cast]</a></h4><p ><span class='indexparent'><a class='index' id='time_point,time_point_cast'></a></span><span class='indexparent'><a class='index' id='time_point_cast'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Clock, class Duration&gt;
  constexpr time_point&lt;Clock, ToDuration&gt;
  time_point_cast(const time_point&lt;Clock, Duration&gt;&amp; t);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18584'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.point.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18588'>#</a></div><p ><i>Returns:</i>
</p><pre class='codeblock'>
time_point&lt;Clock, ToDuration&gt;(duration_cast&lt;ToDuration&gt;(t.time_since_epoch()))</pre></div></div><p ><span class='indexparent'><a class='index' id='floor,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,floor'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Clock, class Duration&gt;
  constexpr time_point&lt;Clock, ToDuration&gt;
  floor(const time_point&lt;Clock, Duration&gt;&amp; tp);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18603'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.point.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18607'>#</a></div><p ><i>Returns:</i> <span class='texttt'>time_point&lt;Clock, ToDuration&gt;(floor&lt;ToDuration&gt;(tp.time_since_epoch()))</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='ceil,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,ceil'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Clock, class Duration&gt;
  constexpr time_point&lt;Clock, ToDuration&gt;
  ceil(const time_point&lt;Clock, Duration&gt;&amp; tp);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18619'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>.</p></div></div><div class='para' id='time.point.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18623'>#</a></div><p ><i>Returns:</i> <span class='texttt'>time_point&lt;Clock, ToDuration&gt;(ceil&lt;ToDuration&gt;(tp.time_since_epoch()))</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='round,time_point'></a></span><span class='indexparent'><a class='index' id='time_point,round'></a></span><code class='itemdecl'>
template &lt;class ToDuration, class Clock, class Duration&gt;
  constexpr time_point&lt;Clock, ToDuration&gt;
  round(const time_point&lt;Clock, Duration&gt;&amp; tp);
</code></p><div class='itemdescr'></div><div class='para' id='time.point.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18635'>#</a></div><p ><i>Remarks:</i> This function shall not participate in overload resolution
unless <span class='texttt'>ToDuration</span> is a specialization of <span class='texttt'>duration</span>, and
<span class='texttt'>treat_as_floating_point_v&lt;typename ToDuration::rep&gt;</span> is <span class='texttt'>false</span>.</p></div></div><div class='para' id='time.point.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#time.point.cast-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18640'>#</a></div><p ><i>Returns:</i> <span class='texttt'>time_point&lt;Clock, ToDuration&gt;(round&lt;ToDuration&gt;(tp.time_since_epoch()))</span>.
</p></div></div></div></div><div id='time.clock'><h3 ><a class='secnum' href='#time.clock' style='min-width:103pt'>20.17.7</a> Clocks <a class='abbr_ref' href='time.clock'>[time.clock]</a></h3><div class='para' id='time.clock-1'><div class='marginalizedparent'><a class='marginalized' href='#time.clock-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18646'>#</a></div><p >The types defined in this subclause shall satisfy the
<span class='texttt'>TrivialClock</span>
requirements (<a href='time.clock.req'>[time.clock.req]</a>).</p></div><div id='time.clock.system'><h4 ><a class='secnum' href='#time.clock.system' style='min-width:118pt'>20.17.7.1</a> Class <span class='texttt'>system_clock</span> <a class='abbr_ref' href='time.clock.system'>[time.clock.system]</a></h4><p ><span class='indexparent'><a class='index' id='system_clock'></a></span>
</p><div class='para' id='time.clock.system-1'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.system-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18654'>#</a></div><p >Objects of class <span class='texttt'>system_clock</span> represent wall clock time from the system-wide
realtime clock.</p><pre class='codeblock'>
class system_clock {
public:
  using rep        = <i><span class='texttt'>see below</span></i>;
  using period     = ratio&lt;<i><span class='texttt'>unspecified</span></i>, <i><span class='texttt'>unspecified</span></i>&gt;;
  using duration   = chrono::duration&lt;rep, period&gt;;
  using time_point = chrono::time_point&lt;system_clock&gt;;
  static constexpr bool is_steady = <i><span class='texttt'>unspecified</span></i>;

  static time_point now() noexcept;

  <span class='comment'>// Map to C API
</span>  static time_t      to_time_t  (const time_point&amp; t) noexcept;
  static time_point  from_time_t(time_t t) noexcept;
};</pre><p ><span class='indexparent'><a class='index' id='rep,system_clock'></a></span><span class='indexparent'><a class='index' id='system_clock,rep'></a></span><code class='itemdecl'>
using system_clock::rep = <i><span class='texttt'>unspecified</span></i>;
</code></p></div><div class='itemdescr'></div><div class='para' id='time.clock.system-2'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.system-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18681'>#</a></div><p ><i>Requires:</i> <span class='texttt'>system_clock::duration::min() &lt; system_clock::duration::zero()</span> shall
be <span class='texttt'>true</span>.<br/>
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> This implies that <span class='texttt'>rep</span> is a signed type. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='to_time_t,system_clock'></a></span><span class='indexparent'><a class='index' id='system_clock,to_time_t'></a></span><code class='itemdecl'>
static time_t to_time_t(const time_point&amp; t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='time.clock.system-3'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.system-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18693'>#</a></div><p ><i>Returns:</i> A <span class='texttt'>time_t</span> object that represents the same point in time as <span class='texttt'>t</span>
when both values are restricted to the coarser of the precisions of <span class='texttt'>time_t</span> and
<span class='texttt'>time_point</span>.
It is <span class='indexparent'><a class='index' id='whether_values_are_rounded_or_truncated_to_the_required_precision_when_converting_between_time_t_values_and_time_point_objects'></a></span>implementation-defined
whether values are rounded or truncated to the required precision.
</p></div></div><p ><span class='indexparent'><a class='index' id='from_time_t,system_clock'></a></span><span class='indexparent'><a class='index' id='system_clock,from_time_t'></a></span><code class='itemdecl'>
static time_point from_time_t(time_t t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='time.clock.system-4'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.system-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18708'>#</a></div><p ><i>Returns:</i> A <span class='texttt'>time_point</span> object that represents the same point in time as <span class='texttt'>t</span>
when both values are restricted to the coarser of the precisions of <span class='texttt'>time_t</span> and
<span class='texttt'>time_point</span>.
It is <span class='indexparent'><a class='index' id='whether_values_are_rounded_or_truncated_to_the_required_precision_when_converting_between_time_t_values_and_time_point_objects'></a></span>implementation-defined
whether values are rounded or truncated to the required precision.
</p></div></div></div><div id='time.clock.steady'><h4 ><a class='secnum' href='#time.clock.steady' style='min-width:118pt'>20.17.7.2</a> Class <span class='texttt'>steady_clock</span> <a class='abbr_ref' href='time.clock.steady'>[time.clock.steady]</a></h4><p ><span class='indexparent'><a class='index' id='steady_clock'></a></span>
</p><div class='para' id='time.clock.steady-1'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.steady-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18720'>#</a></div><p >Objects of class <span class='texttt'>steady_clock</span> represent clocks for which values of <span class='texttt'>time_point</span>
never decrease as physical time advances and for which values of <span class='texttt'>time_point</span> advance at
a steady rate relative to real time. That is, the clock may not be adjusted.</p><pre class='codeblock'>
class steady_clock {
public:
  using rep        = <i><span class='texttt'>unspecified</span></i>;
  using period     = ratio&lt;<i><span class='texttt'>unspecified</span></i>, <i><span class='texttt'>unspecified</span></i>&gt;;
  using duration   = chrono::duration&lt;rep, period&gt;;
  using time_point = chrono::time_point&lt;<i><span class='texttt'>unspecified</span></i>, duration&gt;;
  static constexpr bool is_steady = true;

  static time_point now() noexcept;
};</pre></div></div><div id='time.clock.hires'><h4 ><a class='secnum' href='#time.clock.hires' style='min-width:118pt'>20.17.7.3</a> Class <span class='texttt'>high_resolution_clock</span> <a class='abbr_ref' href='time.clock.hires'>[time.clock.hires]</a></h4><p ><span class='indexparent'><a class='index' id='high_resolution_clock'></a></span>
</p><div class='para' id='time.clock.hires-1'><div class='marginalizedparent'><a class='marginalized' href='#time.clock.hires-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18741'>#</a></div><p >Objects of class <span class='texttt'>high_resolution_clock</span> represent clocks with the
shortest tick period. <span class='texttt'>high_resolution_clock</span> may be a synonym for
<span class='texttt'>system_clock</span> or <span class='texttt'>steady_clock</span>.</p><pre class='codeblock'>
class high_resolution_clock {
public:
  using rep        = <i><span class='texttt'>unspecified</span></i>;
  using period     = ratio&lt;<i><span class='texttt'>unspecified</span></i>, <i><span class='texttt'>unspecified</span></i>&gt;;
  using duration   = chrono::duration&lt;rep, period&gt;;
  using time_point = chrono::time_point&lt;<i><span class='texttt'>unspecified</span></i>, duration&gt;;
  static constexpr bool is_steady = <i><span class='texttt'>unspecified</span></i>;

  static time_point now() noexcept;
};</pre></div></div></div><div id='ctime.syn'><h3 ><a class='secnum' href='#ctime.syn' style='min-width:103pt'>20.17.8</a> Header <span class='texttt'>&lt;ctime&gt;</span> synopsis <a class='abbr_ref' href='ctime.syn'>[ctime.syn]</a></h3><p ><span class='indexparent'><a class='index' id='ctime'></a></span><span class='indexparent'><a class='index' id='ctime'></a></span><span class='indexparent'><a class='index' id='CLOCKS_PER_SEC'></a></span><span class='indexparent'><a class='index' id='NULL'></a></span><span class='indexparent'><a class='index' id='TIME_UTC'></a></span><span class='indexparent'><a class='index' id='asctime'></a></span><span class='indexparent'><a class='index' id='clock_t'></a></span><span class='indexparent'><a class='index' id='clock'></a></span><span class='indexparent'><a class='index' id='ctime'></a></span><span class='indexparent'><a class='index' id='difftime'></a></span><span class='indexparent'><a class='index' id='gmtime'></a></span><span class='indexparent'><a class='index' id='localtime'></a></span><span class='indexparent'><a class='index' id='mktime'></a></span><span class='indexparent'><a class='index' id='size_t'></a></span><span class='indexparent'><a class='index' id='strftime'></a></span><span class='indexparent'><a class='index' id='time_t'></a></span><span class='indexparent'><a class='index' id='timespec_get'></a></span><span class='indexparent'><a class='index' id='timespec'></a></span><span class='indexparent'><a class='index' id='time'></a></span><span class='indexparent'><a class='index' id='tm'></a></span></p><pre class='codeblock'>
#define NULL <i>see <a href='support.types.nullptr'>[support.types.nullptr]</a></i>
#define CLOCKS_PER_SEC <i><span class='texttt'>see below</span></i>
#define TIME_UTC <i><span class='texttt'>see below</span></i>

namespace std {
  using size_t = <i>see <a href='support.types.layout'>[support.types.layout]</a></i>;
  using clock_t = <i><span class='texttt'>see below</span></i>;
  using time_t = <i><span class='texttt'>see below</span></i>;

  struct timespec;
  struct tm;

  clock_t clock();
  double difftime(time_t time1, time_t time0);
  time_t mktime(struct tm* timeptr);
  time_t time(time_t* timer);
  int timespec_get(timespec* ts, int base);
  char* asctime(const struct tm* timeptr);
  char* ctime(const time_t* timer);
  struct tm* gmtime(const time_t* timer);
  struct tm* localtime(const time_t* timer);
  size_t strftime(char* s, size_t maxsize, const char* format, const struct tm* timeptr);
}</pre><div class='para' id='ctime.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#ctime.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18807'>#</a></div><p ><span class='indexparent'><a class='index' id='time.h'></a></span><span class='indexparent'><a class='index' id='time.h'></a></span><span class='indexparent'><a class='index' id='ctime'></a></span><span class='indexparent'><a class='index' id='ctime'></a></span>The contents of the header <span class='texttt'>&lt;ctime&gt;</span> are the same as the C standard library header <span class='texttt'>&lt;time.h&gt;</span>.<a class='footnotenum' href='#footnote-223'>223</a></p></div><div class='para' id='ctime.syn-2'><div class='marginalizedparent'><a class='marginalized' href='#ctime.syn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18818'>#</a></div><p >The functions <span class='texttt'>asctime</span>, <span class='texttt'>ctime</span>, <span class='texttt'>gmtime</span>, and
<span class='texttt'>localtime</span> are not required to avoid data
races (<a href='res.on.data.races'>[res.on.data.races]</a>).</p><p ><span class='textsc'>See also:</span> ISO C 7.27.</p></div><div class='footnote' id='footnote-223'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-223'>223)</a></div><p ><span class='texttt'>strftime</span> supports the C conversion specifiers
<span class='texttt'>C</span>, <span class='texttt'>D</span>, <span class='texttt'>e</span>, <span class='texttt'>F</span>, <span class='texttt'>g</span>, <span class='texttt'>G</span>, <span class='texttt'>h</span>,
<span class='texttt'>r</span>, <span class='texttt'>R</span>, <span class='texttt'>t</span>, <span class='texttt'>T</span>, <span class='texttt'>u</span>, <span class='texttt'>V</span>, and
<span class='texttt'>z</span>, and the modifiers <span class='texttt'>E</span> and <span class='texttt'>O</span>.</p></div></div></div><div id='type.index'><h2 ><a class='secnum' href='#type.index' style='min-width:88pt'>20.18</a> Class <span class='texttt'>type_index</span> <a class='abbr_ref' href='type.index'>[type.index]</a></h2><div id='type.index.synopsis'><h3 ><a class='secnum' href='#type.index.synopsis' style='min-width:103pt'>20.18.1</a> Header <span class='texttt'>&lt;typeindex&gt;</span> synopsis <a class='abbr_ref' href='type.index.synopsis'>[type.index.synopsis]</a></h3><p ><span class='indexparent'><a class='index' id='typeindex'></a></span><span class='indexparent'><a class='index' id='typeindex'></a></span></p><pre class='codeblock'>
namespace std {
  class type_index;
  template &lt;class T&gt; struct hash;
  template&lt;&gt; struct hash&lt;type_index&gt;;
}</pre></div><div id='type.index.overview'><h3 ><a class='secnum' href='#type.index.overview' style='min-width:103pt'>20.18.2</a> <span class='texttt'>type_index</span> overview <a class='abbr_ref' href='type.index.overview'>[type.index.overview]</a></h3><p ><span class='indexparent'><a class='index' id='type_index'></a></span></p><pre class='codeblock'>
namespace std {
  class type_index {
  public:
    type_index(const type_info&amp; rhs) noexcept;
    bool operator==(const type_index&amp; rhs) const noexcept;
    bool operator!=(const type_index&amp; rhs) const noexcept;
    bool operator&lt; (const type_index&amp; rhs) const noexcept;
    bool operator&lt;= (const type_index&amp; rhs) const noexcept;
    bool operator&gt; (const type_index&amp; rhs) const noexcept;
    bool operator&gt;= (const type_index&amp; rhs) const noexcept;
    size_t hash_code() const noexcept;
    const char* name() const noexcept;
  private:
    const type_info* target;    <span class='comment'>// <i>exposition only</i>
</span>    <span class='comment'>// Note that the use of a pointer here, rather than a reference,
</span>    <span class='comment'>// means that the default copy/move constructor and assignment
</span>    <span class='comment'>// operators will be provided and work as expected.
</span>  };
}</pre><div class='para' id='type.index.overview-1'><div class='marginalizedparent'><a class='marginalized' href='#type.index.overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18864'>#</a></div><p >The class <span class='texttt'>type_index</span> provides a simple wrapper for
<span class='texttt'>type_info</span> which can be used as an index type in associative
containers (<a href='associative'>[associative]</a>) and in unordered associative
containers (<a href='unord'>[unord]</a>).</p></div></div><div id='type.index.members'><h3 ><a class='secnum' href='#type.index.members' style='min-width:103pt'>20.18.3</a> <span class='texttt'>type_index</span> members <a class='abbr_ref' href='type.index.members'>[type.index.members]</a></h3><p ><span class='indexparent'><a class='index' id='type_index,constructor'></a></span><code class='itemdecl'>
type_index(const type_info&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-1'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18878'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>type_index</span> object, the equivalent of <span class='texttt'>target = &amp;rhs</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator==,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,operator=='></a></span><code class='itemdecl'>
bool operator==(const type_index&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-2'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18888'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*target == *rhs.target</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,operator!='></a></span><code class='itemdecl'>
bool operator!=(const type_index&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-3'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18898'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*target != *rhs.target</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,operator<'></a></span><code class='itemdecl'>
bool operator&lt;(const type_index&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-4'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18908'>#</a></div><p ><i>Returns:</i> <span class='texttt'>target-&gt;before(*rhs.target)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,operator<='></a></span><code class='itemdecl'>
bool operator&lt;=(const type_index&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-5'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18918'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!rhs.target-&gt;before(*target)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,operator>'></a></span><code class='itemdecl'>
bool operator&gt;(const type_index&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-6'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18928'>#</a></div><p ><i>Returns:</i> <span class='texttt'>rhs.target-&gt;before(*target)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,operator>='></a></span><code class='itemdecl'>
bool operator&gt;=(const type_index&amp; rhs) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-7'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18938'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!target-&gt;before(*rhs.target)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='hash_code,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,hash_code'></a></span><code class='itemdecl'>
size_t hash_code() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-8'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18948'>#</a></div><p ><i>Returns:</i> <span class='texttt'>target-&gt;hash_code()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='name,type_index'></a></span><span class='indexparent'><a class='index' id='type_index,name'></a></span><code class='itemdecl'>
const char* name() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.members-9'><div class='marginalizedparent'><a class='marginalized' href='#type.index.members-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18958'>#</a></div><p ><i>Returns:</i> <span class='texttt'>target-&gt;name()</span>.
</p></div></div></div><div id='type.index.hash'><h3 ><a class='secnum' href='#type.index.hash' style='min-width:103pt'>20.18.4</a> Hash support <a class='abbr_ref' href='type.index.hash'>[type.index.hash]</a></h3><p ><span class='indexparent'><a class='index' id='hash,type_index'></a></span><code class='itemdecl'>
template &lt;&gt; struct hash&lt;type_index&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='type.index.hash-1'><div class='marginalizedparent'><a class='marginalized' href='#type.index.hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18970'>#</a></div><p >For an object <span class='texttt'>index</span> of type <span class='texttt'>type_index</span>,
<span class='texttt'>hash&lt;type_index&gt;()(index)</span> shall evaluate to the same result as <span class='texttt'>index.hash_code()</span>.
</p></div></div></div></div><div id='execpol'><h2 ><a class='secnum' href='#execpol' style='min-width:88pt'>20.19</a> Execution policies <a class='abbr_ref' href='execpol'>[execpol]</a></h2><div id='execpol.general'><h3 ><a class='secnum' href='#execpol.general' style='min-width:103pt'>20.19.1</a> In general <a class='abbr_ref' href='execpol.general'>[execpol.general]</a></h3><div class='para' id='execpol.general-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L18978'>#</a></div><p >This subclause describes classes that are <a class='hidden_link' href='#def:execution_policy' id='def:execution_policy'><i>execution policy</i></a> types. An
object of an execution policy type indicates the kinds of parallelism allowed
in the execution of an algorithm and expresses the consequent requirements on
the element access functions.
[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
using namespace std;
vector&lt;int&gt; v = <span class='texttt'>/* ...&nbsp;*/</span>;

<span class='comment'>// standard sequential sort
</span>sort(v.begin(), v.end());

<span class='comment'>// explicitly sequential sort
</span>sort(execution::seq, v.begin(), v.end());

<span class='comment'>// permitting parallel execution
</span>sort(execution::par, v.begin(), v.end());

<span class='comment'>// permitting vectorization as well
</span>sort(execution::par_unseq, v.begin(), v.end());</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Because different parallel architectures may require idiosyncratic
parameters for efficient execution, implementations
may provide additional execution policies to those described in this
standard as extensions.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='execution.syn'><h3 ><a class='secnum' href='#execution.syn' style='min-width:103pt'>20.19.2</a> Header <span class='texttt'>&lt;execution&gt;</span> synopsis <a class='abbr_ref' href='execution.syn'>[execution.syn]</a></h3><p ><span class='indexparent'><a class='index' id='execution'></a></span><span class='indexparent'><a class='index' id='execution'></a></span></p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='execpol.type'>[execpol.type]</a>, execution policy type trait
</span>  template&lt;class T&gt; struct is_execution_policy;
  template&lt;class T&gt; constexpr bool is_execution_policy_v = is_execution_policy&lt;T&gt;::value;
}

namespace std::execution {
  <span class='comment'>// <a href='execpol.seq'>[execpol.seq]</a>, sequenced execution policy
</span>  class sequenced_policy;

  <span class='comment'>// <a href='execpol.par'>[execpol.par]</a>, parallel execution policy
</span>  class parallel_policy;

  <span class='comment'>// <a href='execpol.parunseq'>[execpol.parunseq]</a>, parallel and unsequenced execution policy
</span>  class parallel_unsequenced_policy;

  <span class='comment'>// <a href='execpol.objects'>[execpol.objects]</a>, execution policy objects
</span>  constexpr sequenced_policy            seq{ <i><span class='texttt'>unspecified</span></i> };
  constexpr parallel_policy             par{ <i><span class='texttt'>unspecified</span></i> };
  constexpr parallel_unsequenced_policy par_unseq{ <i><span class='texttt'>unspecified</span></i> };
}</pre></div><div id='execpol.type'><h3 ><a class='secnum' href='#execpol.type' style='min-width:103pt'>20.19.3</a> Execution policy type trait <a class='abbr_ref' href='execpol.type'>[execpol.type]</a></h3><p ><span class='indexparent'><a class='index' id='is_execution_policy'></a></span><code class='itemdecl'>
template&lt;class T&gt; struct is_execution_policy { <i><span class='texttt'>see below</span></i> };
</code></p><div class='itemdescr'></div><div class='para' id='execpol.type-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.type-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19044'>#</a></div><p ><span class='texttt'>is_execution_policy</span> can be used to detect execution policies for the
purpose of excluding function signatures from otherwise ambiguous overload
resolution participation.</p></div></div><div class='para' id='execpol.type-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.type-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19049'>#</a></div><p ><span class='texttt'>is_execution_policy&lt;T&gt;</span> shall be a <span class='texttt'>UnaryTypeTrait</span> with a
base characteristic of <span class='texttt'>true_type</span> if <span class='texttt'>T</span> is the type of a standard
or <span class='indexparent'><a class='index' id='additional_execution_policies_supported_by_parallel_algorithms'></a></span>implementation-defined
execution policy, otherwise <span class='texttt'>false_type</span>.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
This provision reserves the privilege of creating non-standard execution
policies to the library implementation.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='execpol.type-3'><div class='marginalizedparent'><a class='marginalized' href='#execpol.type-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19060'>#</a></div><p >The behavior of a program that adds specializations for
<span class='texttt'>is_execution_policy</span> is undefined.
</p></div></div></div><div id='execpol.seq'><h3 ><a class='secnum' href='#execpol.seq' style='min-width:103pt'>20.19.4</a> Sequenced execution policy <a class='abbr_ref' href='execpol.seq'>[execpol.seq]</a></h3><p ><span class='indexparent'><a class='index' id='execution::sequenced_policy'></a></span><code class='itemdecl'>
class execution::sequenced_policy { <i><span class='texttt'>unspecified</span></i> };
</code></p><div class='itemdescr'></div><div class='para' id='execpol.seq-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.seq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19073'>#</a></div><p >The class <span class='texttt'>execution::sequenced_policy</span> is an execution policy type used
as a unique type to disambiguate parallel algorithm overloading and require
that a parallel algorithm's execution may not be parallelized.</p></div></div><div class='para' id='execpol.seq-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.seq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19078'>#</a></div><p >During the execution of a parallel algorithm with
the <span class='texttt'>execution::sequenced_policy</span> policy,
if the invocation of an element access function exits via an uncaught exception,
<span class='texttt'>terminate()</span> shall be called.
</p></div></div></div><div id='execpol.par'><h3 ><a class='secnum' href='#execpol.par' style='min-width:103pt'>20.19.5</a> Parallel execution policy <a class='abbr_ref' href='execpol.par'>[execpol.par]</a></h3><p ><span class='indexparent'><a class='index' id='execution::parallel_policy'></a></span><code class='itemdecl'>
class execution::parallel_policy { <i><span class='texttt'>unspecified</span></i> };
</code></p><div class='itemdescr'></div><div class='para' id='execpol.par-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.par-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19093'>#</a></div><p >The class <span class='texttt'>execution::parallel_policy</span> is an execution policy type used as
a unique type to disambiguate parallel algorithm overloading and indicate that
a parallel algorithm's execution may be parallelized.</p></div></div><div class='para' id='execpol.par-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.par-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19098'>#</a></div><p >During the execution of a parallel algorithm with
the <span class='texttt'>execution::parallel_policy</span> policy,
if the invocation of an element access function exits via an uncaught exception,
<span class='texttt'>terminate()</span> shall be called.
</p></div></div></div><div id='execpol.parunseq'><h3 ><a class='secnum' href='#execpol.parunseq' style='min-width:103pt'>20.19.6</a> Parallel and unsequenced execution policy <a class='abbr_ref' href='execpol.parunseq'>[execpol.parunseq]</a></h3><p ><span class='indexparent'><a class='index' id='execution::parallel_unsequenced_policy'></a></span><code class='itemdecl'>
class execution::parallel_unsequenced_policy { <i><span class='texttt'>unspecified</span></i> };
</code></p><div class='itemdescr'></div><div class='para' id='execpol.parunseq-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.parunseq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19113'>#</a></div><p >The class <span class='texttt'>execution::parallel_unsequenced_policy</span> is an execution policy type
used as a unique type to disambiguate parallel algorithm overloading and
indicate that a parallel algorithm's execution may be parallelized and
vectorized.</p></div></div><div class='para' id='execpol.parunseq-2'><div class='marginalizedparent'><a class='marginalized' href='#execpol.parunseq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19119'>#</a></div><p >During the execution of a parallel algorithm with
the <span class='texttt'>execution::parallel_unsequenced_policy</span> policy,
if the invocation of an element access function exits via an uncaught exception,
<span class='texttt'>terminate()</span> shall be called.
</p></div></div></div><div id='execpol.objects'><h3 ><a class='secnum' href='#execpol.objects' style='min-width:103pt'>20.19.7</a> Execution policy objects <a class='abbr_ref' href='execpol.objects'>[execpol.objects]</a></h3><p ><span class='indexparent'><a class='index' id='seq'></a></span><span class='indexparent'><a class='index' id='par'></a></span><span class='indexparent'><a class='index' id='par_unseq'></a></span><span class='indexparent'><a class='index' id='execution,seq'></a></span><span class='indexparent'><a class='index' id='execution,par'></a></span><span class='indexparent'><a class='index' id='execution,par_unseq'></a></span><code class='itemdecl'>
constexpr execution::sequenced_policy            execution::seq{ <i><span class='texttt'>unspecified</span></i> };
constexpr execution::parallel_policy             execution::par{ <i><span class='texttt'>unspecified</span></i> };
constexpr execution::parallel_unsequenced_policy execution::par_unseq{ <i><span class='texttt'>unspecified</span></i> };
</code></p><div class='itemdescr'></div><div class='para' id='execpol.objects-1'><div class='marginalizedparent'><a class='marginalized' href='#execpol.objects-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ffb9408d01061c336807333bf2cd2743acb8df14/source/utilities.tex#L19141'>#</a></div><p >The header <span class='texttt'>&lt;execution&gt;</span> declares global objects associated with each type of execution policy.
</p></div></div></div></div></div></div></body></html>