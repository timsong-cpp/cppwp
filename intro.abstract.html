<!DOCTYPE html><html lang='en'><head><title>[intro.abstract]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>4</a> General principles <a class='abbr_ref' href='./#intro'>[intro]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>4.1</a> Implementation compliance <a class='abbr_ref' href='intro.compliance#intro.abstract'>[intro.compliance]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>4.1.1</a> Abstract machine <a class='abbr_ref'>[intro.abstract]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/intro.tex#L467'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':program_execution'></a></span><span class='indexparent'><a class='index' id=':program_execution,abstract_machine'></a></span>The semantic descriptions in this document define a
parameterized nondeterministic abstract machine<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>This document
places no requirement on the structure of conforming
implementations<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>In particular, they need not copy or emulate the
structure of the abstract machine<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':as-if_rule'></a></span><span class='indexparent'><a class='index' id=':behavior,observable'></a></span>Rather, conforming implementations are required to emulate (only) the observable
behavior of the abstract machine as explained below<a class='hidden_link' href='#1.sentence-4'>.</a><a class='footnotenum' href='#footnote-4'>4</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/intro.tex#L489'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':behavior,implementation-defined'></a></span>Certain aspects and operations of the abstract machine are described in this
document as implementation-defined (for example,
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span>)<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>These constitute the parameters of the abstract machine<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>Each implementation shall include documentation describing its characteristics
and behavior in these respects<a class='hidden_link' href='#2.sentence-3'>.</a><a class='footnotenum' href='#footnote-5'>5</a></div> <div id='2.sentence-4' class='sentence'> Such documentation shall define the instance of the
abstract machine that corresponds to that implementation (referred to as the
“corresponding instance” below)<a class='hidden_link' href='#2.sentence-4'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/intro.tex#L501'>#</a></div><div id='3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':behavior,unspecified'></a></span>Certain other aspects and operations of the abstract machine are
described in this document as unspecified (for example,
order of evaluation of arguments in a function call (<a href='expr.call'>[expr.call]</a>))<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Where possible, this
document defines a set of allowable behaviors<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>These
define the nondeterministic aspects of the abstract machine<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>An instance
of the abstract machine can thus have more than one possible execution
for a given program and a given input<a class='hidden_link' href='#3.sentence-4'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/intro.tex#L512'>#</a></div><div id='4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':behavior,undefined'></a></span>Certain other operations are described in this document as
undefined (for example, the effect of
attempting to modify a const object)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-2' class='sentence'>This document imposes no requirements on the
behavior of programs that contain undefined behavior<a class='hidden_link' href='#4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/intro.tex#L520'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':program,well-formed'></a></span><span class='indexparent'><a class='index' id=':behavior,observable_'></a></span>A conforming implementation executing a well-formed program shall
produce the same observable behavior as one of the possible executions
of the corresponding instance of the abstract machine with the
same program and the same input<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':behavior,undefined_'></a></span>However, if any such execution contains an undefined operation, this document places no
requirement on the implementation executing that program with that input
(not even with regard to operations preceding the first undefined
operation)<a class='hidden_link' href='#5.sentence-2'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/intro.tex#L533'>#</a></div><div id='6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conformance_requirements'></a></span>The least requirements on a conforming implementation are:
<ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.1'>(6.1)</a></div><div id='6.1.sentence-1' class='sentence'>Accesses through volatile glvalues are evaluated strictly according to the
rules of the abstract machine<a class='hidden_link' href='#6.1.sentence-1'>.</a></div></li><li id='6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.2'>(6.2)</a></div><div id='6.2.sentence-1' class='sentence'>At program termination, all data written into files shall be
identical to one of the possible results that execution of the program
according to the abstract semantics would have produced<a class='hidden_link' href='#6.2.sentence-1'>.</a></div></li><li id='6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.3'>(6.3)</a></div><div id='6.3.sentence-1' class='sentence'>The input and output dynamics of interactive devices shall take
place in such a fashion that prompting output is actually delivered before a program waits for input<a class='hidden_link' href='#6.3.sentence-1'>.</a></div> <div id='6.3.sentence-2' class='sentence'>What constitutes an interactive device is
<span class='indexparent'><a class='index' id=':interactive_device'></a></span>implementation-defined<a class='hidden_link' href='#6.3.sentence-2'>.</a></div></li></ul></div><div id='6.sentence-2' class='sentence'>These collectively are referred to as the
<a class='hidden_link' href='#def:behavior,observable' id='def:behavior,observable'><i >observable behavior</i></a> of the program<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-3' class='sentence'>More stringent correspondences between abstract and actual
semantics may be defined by each implementation<a class='hidden_link' href='#6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-4'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-4'>4)</a></div><div id='footnote-4.sentence-1' class='sentence'>This provision is
sometimes called the “as-if” rule, because an implementation is free to
disregard any requirement of this document as long as the result
is <span class='emph'>as if</span> the requirement had been obeyed, as far as can be determined
from the observable behavior of the program<a class='hidden_link' href='#footnote-4.sentence-1'>.</a></div> <div id='footnote-4.sentence-2' class='sentence'>For instance, an actual
implementation need not evaluate part of an expression if it can deduce that its
value is not used and that no
<span class='indexparent'><a class='index' id=':side_effects'></a></span>side effects affecting the
observable behavior of the program are produced<a class='hidden_link' href='#footnote-4.sentence-2'>.</a></div></div><div class='footnote' id='footnote-5'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-5'>5)</a></div><div id='footnote-5.sentence-1' class='sentence'>This documentation also includes
conditionally-supported constructs and locale-specific behavior<a class='hidden_link' href='#footnote-5.sentence-1'>.</a></div> <div id='footnote-5.sentence-2' class='sentence'>See <a href='intro.compliance'>[intro.compliance]</a><a class='hidden_link' href='#footnote-5.sentence-2'>.</a></div></div></div></body></html>