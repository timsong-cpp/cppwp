<!DOCTYPE html><html lang='en'><head><title>[diff.cpp03.library]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='annexnum' style='min-width:50pt'>Annex C&emsp;(informative)</a> Compatibility <a class='abbr_ref' href='./#diff'>[diff]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>C.5</a> C++ and ISO C++ 2003 <a class='abbr_ref' href='diff.cpp03#library'>[diff.cpp03]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>C.5.7</a> <a href='library' title='16&emsp;Library introduction'>[library]</a>: library introduction <a class='abbr_ref'>[diff.cpp03.library]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/compatibility.tex#L1572'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><b>Affected:</b> <a href='library' title='16&emsp;Library introduction'>[library]</a> â€“ <a href='thread' title='33&emsp;Concurrency support library'>[thread]</a>
<br/></div> <div id='1.sentence-2' class='sentence'><b>Change:</b> New reserved identifiers<a class='hidden_link' href='#1.sentence-2'>.</a></div> <br/> <div id='1.sentence-3' class='sentence'><b>Rationale:</b> Required by new features<a class='hidden_link' href='#1.sentence-3'>.</a></div> <br/> <div id='1.sentence-4' class='sentence'><b>Effect on original feature:</b> Valid C++ 2003 code that uses any identifiers added to the C++ standard
library by later revisions of C++ may fail to compile or produce different
results in this revision of C++<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>A comprehensive list of identifiers used
by the C++ standard library can be found in the Index of Library Names in this
document<a class='hidden_link' href='#1.sentence-5'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/compatibility.tex#L1585'>#</a></div><div class='texpara'><b>Affected subclause:</b> <a href='headers'>[headers]</a>
<br/> <div id='2.sentence-1' class='sentence'><b>Change:</b> New headers<a class='hidden_link' href='#2.sentence-1'>.</a></div> <br/> <div id='2.sentence-2' class='sentence'><b>Rationale:</b> New functionality<a class='hidden_link' href='#2.sentence-2'>.</a></div> <br/> <div id='2.sentence-3' class='sentence'><b>Effect on original feature:</b> The following C++ headers are new:
<a href='array.syn#header:%3carray%3e' title='24.3.2&emsp;Header &lt;array&gt; synopsis&emsp;[array.syn]'><span id='headerref:<array>'><span class='texttt'>&lt;array&gt;</span></span></a>,
<a href='atomics.syn#header:%3catomic%3e' title='33.5.2&emsp;Header &lt;atomic&gt; synopsis&emsp;[atomics.syn]'><span id='headerref:<atomic>'><span class='texttt'>&lt;atomic&gt;</span></span></a>,
<a href='time.syn#header:%3cchrono%3e' title='29.2&emsp;Header &lt;chrono&gt; synopsis&emsp;[time.syn]'><span id='headerref:<chrono>'><span class='texttt'>&lt;chrono&gt;</span></span></a>,
<a href='depr.locale.stdcvt.general#header:%3ccodecvt%3e' title='D.22.1&emsp;General&emsp;[depr.locale.stdcvt.general]'><span id='headerref:<codecvt>'><span class='texttt'>&lt;codecvt&gt;</span></span></a>,
<a href='condition.variable.syn#header:%3ccondition_variable%3e' title='33.7.2&emsp;Header &lt;condition_&shy;variable&gt; synopsis&emsp;[condition.variable.syn]'><span id='headerref:<condition_variable>'><span class='texttt'>&lt;condition_&shy;variable&gt;</span></span></a>,
<a href='forward.list.syn#header:%3cforward_list%3e' title='24.3.4&emsp;Header &lt;forward_&shy;list&gt; synopsis&emsp;[forward.list.syn]'><span id='headerref:<forward_list>'><span class='texttt'>&lt;forward_&shy;list&gt;</span></span></a>,
<a href='future.syn#header:%3cfuture%3e' title='33.10.2&emsp;Header &lt;future&gt; synopsis&emsp;[future.syn]'><span id='headerref:<future>'><span class='texttt'>&lt;future&gt;</span></span></a>,
<a href='support.initlist.general#header:%3cinitializer_list%3e' title='17.10.1&emsp;General&emsp;[support.initlist.general]'><span id='headerref:<initializer_list>'><span class='texttt'>&lt;initializer_&shy;list&gt;</span></span></a>,
<a href='mutex.syn#header:%3cmutex%3e' title='33.6.2&emsp;Header &lt;mutex&gt; synopsis&emsp;[mutex.syn]'><span id='headerref:<mutex>'><span class='texttt'>&lt;mutex&gt;</span></span></a>,
<a href='rand.synopsis#header:%3crandom%3e' title='28.5.2&emsp;Header &lt;random&gt; synopsis&emsp;[rand.synopsis]'><span id='headerref:<random>'><span class='texttt'>&lt;random&gt;</span></span></a>,
<a href='ratio.syn#header:%3cratio%3e' title='21.4.2&emsp;Header &lt;ratio&gt; synopsis&emsp;[ratio.syn]'><span id='headerref:<ratio>'><span class='texttt'>&lt;ratio&gt;</span></span></a>,
<a href='re.syn#header:%3cregex%3e' title='32.3&emsp;Header &lt;regex&gt; synopsis&emsp;[re.syn]'><span id='headerref:<regex>'><span class='texttt'>&lt;regex&gt;</span></span></a>,
<a href='allocator.adaptor.syn#header:%3cscoped_allocator%3e' title='20.5.1&emsp;Header &lt;scoped_&shy;allocator&gt; synopsis&emsp;[allocator.adaptor.syn]'><span id='headerref:<scoped_allocator>'><span class='texttt'>&lt;scoped_&shy;allocator&gt;</span></span></a>,
<a href='system.error.syn#header:%3csystem_error%3e' title='19.5.2&emsp;Header &lt;system_&shy;error&gt; synopsis&emsp;[system.error.syn]'><span id='headerref:<system_error>'><span class='texttt'>&lt;system_&shy;error&gt;</span></span></a>,
<a href='thread.syn#header:%3cthread%3e' title='33.4.2&emsp;Header &lt;thread&gt; synopsis&emsp;[thread.syn]'><span id='headerref:<thread>'><span class='texttt'>&lt;thread&gt;</span></span></a>,
<a href='tuple.syn#header:%3ctuple%3e' title='22.4.2&emsp;Header &lt;tuple&gt; synopsis&emsp;[tuple.syn]'><span id='headerref:<tuple>'><span class='texttt'>&lt;tuple&gt;</span></span></a>,
<a href='type.index.synopsis#header:%3ctypeindex%3e' title='22.11.1&emsp;Header &lt;typeindex&gt; synopsis&emsp;[type.index.synopsis]'><span id='headerref:<typeindex>'><span class='texttt'>&lt;typeindex&gt;</span></span></a>,
<a href='meta.type.synop#header:%3ctype_traits%3e' title='21.3.3&emsp;Header &lt;type_&shy;traits&gt; synopsis&emsp;[meta.type.synop]'><span id='headerref:<type_traits>'><span class='texttt'>&lt;type_&shy;traits&gt;</span></span></a>,
<a href='unord.map.syn#header:%3cunordered_map%3e' title='24.5.2&emsp;Header &lt;unordered_&shy;map&gt; synopsis&emsp;[unord.map.syn]'><span id='headerref:<unordered_map>'><span class='texttt'>&lt;unordered_&shy;map&gt;</span></span></a>,
and
<a href='unord.set.syn#header:%3cunordered_set%3e' title='24.5.3&emsp;Header &lt;unordered_&shy;set&gt; synopsis&emsp;[unord.set.syn]'><span id='headerref:<unordered_set>'><span class='texttt'>&lt;unordered_&shy;set&gt;</span></span></a><a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>In addition the following C compatibility headers are new:
<a href='cfenv.syn#header:%3ccfenv%3e' title='28.3.1&emsp;Header &lt;cfenv&gt; synopsis&emsp;[cfenv.syn]'><span id='headerref:<cfenv>'><span class='texttt'>&lt;cfenv&gt;</span></span></a>,
<a href='cinttypes.syn#header:%3ccinttypes%3e' title='31.13.2&emsp;Header &lt;cinttypes&gt; synopsis&emsp;[cinttypes.syn]'><span id='headerref:<cinttypes>'><span class='texttt'>&lt;cinttypes&gt;</span></span></a>,
<a href='cstdint.syn#header:%3ccstdint%3e' title='17.4.2&emsp;Header &lt;cstdint&gt; synopsis&emsp;[cstdint.syn]'><span id='headerref:<cstdint>'><span class='texttt'>&lt;cstdint&gt;</span></span></a>,
and
<a href='cuchar.syn#header:%3ccuchar%3e' title='23.5.5&emsp;Header &lt;cuchar&gt; synopsis&emsp;[cuchar.syn]'><span id='headerref:<cuchar>'><span class='texttt'>&lt;cuchar&gt;</span></span></a><a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>Valid C++ 2003 code that <span class='texttt'><span class='preprocessordirective'>#include</span></span>s headers with these names may be
invalid in this revision of C++<a class='hidden_link' href='#2.sentence-5'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/compatibility.tex#L1622'>#</a></div><div class='texpara'><b>Affected subclause:</b> <a href='swappable.requirements'>[swappable.<span class='shy'></span>requirements]</a>
<br/> <div id='3.sentence-1' class='sentence'><b>Effect on original feature:</b> Function <span class='texttt'>swap</span> moved to a different header
<br/></div> <div id='3.sentence-2' class='sentence'><b>Rationale:</b> Remove dependency on <a href='algorithm.syn#header:%3calgorithm%3e' title='27.4&emsp;Header &lt;algorithm&gt; synopsis&emsp;[algorithm.syn]'><span id='headerref:<algorithm>'><span class='texttt'>&lt;algorithm&gt;</span></span></a> for <span class='texttt'>swap</span><a class='hidden_link' href='#3.sentence-2'>.</a></div> <br/> <div id='3.sentence-3' class='sentence'><b>Effect on original feature:</b> Valid C++ 2003 code that has been compiled expecting swap to be in
<a href='algorithm.syn#header:%3calgorithm%3e' title='27.4&emsp;Header &lt;algorithm&gt; synopsis&emsp;[algorithm.syn]'><span id='headerref:<algorithm>_'><span class='texttt'>&lt;algorithm&gt;</span></span></a> may have to instead include <a href='utility.syn#header:%3cutility%3e' title='22.2.1&emsp;Header &lt;utility&gt; synopsis&emsp;[utility.syn]'><span id='headerref:<utility>'><span class='texttt'>&lt;utility&gt;</span></span></a><a class='hidden_link' href='#3.sentence-3'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/compatibility.tex#L1631'>#</a></div><div class='texpara'><b>Affected subclause:</b> <a href='namespace.posix'>[namespace.<span class='shy'></span>posix]</a>
<br/> <div id='4.sentence-1' class='sentence'><b>Change:</b> New reserved namespace<a class='hidden_link' href='#4.sentence-1'>.</a></div> <br/> <div id='4.sentence-2' class='sentence'><b>Rationale:</b> New functionality<a class='hidden_link' href='#4.sentence-2'>.</a></div> <br/> <div id='4.sentence-3' class='sentence'><b>Effect on original feature:</b> The global namespace <span class='texttt'>posix</span> is now reserved for standardization<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>Valid
C++ 2003 code that uses a top-level namespace <span class='texttt'>posix</span> may be invalid in
this revision of C++<a class='hidden_link' href='#4.sentence-4'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/compatibility.tex#L1641'>#</a></div><div class='texpara'><b>Affected subclause:</b> <a href='res.on.macro.definitions'>[res.<span class='shy'></span>on.<span class='shy'></span>macro.<span class='shy'></span>definitions]</a>
<br/> <div id='5.sentence-1' class='sentence'><b>Change:</b> Additional restrictions on macro names<a class='hidden_link' href='#5.sentence-1'>.</a></div> <br/> <div id='5.sentence-2' class='sentence'><b>Rationale:</b> Avoid hard to diagnose or non-portable constructs<a class='hidden_link' href='#5.sentence-2'>.</a></div> <br/> <div id='5.sentence-3' class='sentence'><b>Effect on original feature:</b> Names of attribute identifiers may not be used as macro names<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>Valid C++ 2003
code that defines <span class='texttt'><span class='keyword'>override</span></span>, <span class='texttt'><span class='keyword'>final</span></span>,
<span class='texttt'>carries_&shy;dependency</span>, or <span class='texttt'>noreturn</span> as macros is invalid in this
revision of C++<a class='hidden_link' href='#5.sentence-4'>.</a></div></div></div></div></body></html>