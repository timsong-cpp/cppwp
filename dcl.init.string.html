<!DOCTYPE html><html lang='en'><head><title>[dcl.init.string]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Declarators <a class='abbr_ref' href='./#dcl.decl'>[dcl.decl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.6</a> Initializers <a class='abbr_ref' href='dcl.init#string'>[dcl.init]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>11.6.2</a> Character arrays <a class='abbr_ref'>[dcl.init.string]</a></h3><span class='indexparent'><a class='index' id=':initialization,character_array'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/declarators.tex#L3430'>#</a></div><div id='1.sentence-1' class='sentence'>An array of <a href='basic.fundamental#def:type,narrow_character'>narrow character type</a>,
<span class='texttt'>char16_&shy;t</span> array,
<span class='texttt'>char32_&shy;t</span> array,
or <span class='texttt'>wchar_&shy;t</span> array
can be initialized by a
narrow string literal, <span class='texttt'>char16_&shy;t</span> string literal, <span class='texttt'>char32_&shy;t</span> string
literal, or wide string literal,
respectively, or by an appropriately-typed string literal enclosed in
braces (<a href='lex.string'>[lex.string]</a>)<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':initialization,character_array_'></a></span>Successive
characters of the
value of the string literal
initialize the elements of the array<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
char msg[] = "Syntax error on line %s\n";</pre><div id='1.sentence-3' class='sentence'>shows a character array whose members are initialized
with a
<span class='grammarterm'>string-literal</span><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>Note that because
<span class='texttt'>'\n'</span>
is a single character and
because a trailing
<span class='texttt'>'\0'</span>
is appended,
<span class='texttt'>sizeof(msg)</span>
is
<span class='texttt'>25</span><a class='hidden_link' href='#1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/declarators.tex#L3465'>#</a></div><div id='2.sentence-1' class='sentence'>There shall not be more initializers than there are array elements<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
char cv[4] = "asdf";            <span class='comment'>// error
</span></pre><div id='2.sentence-2' class='sentence'>is ill-formed since there is no space for the implied trailing
<span class='texttt'>'\0'</span><a class='hidden_link' href='#2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/declarators.tex#L3477'>#</a></div><div id='3.sentence-1' class='sentence'>If there are fewer initializers than there are array elements, each element not
explicitly initialized shall be <a href='dcl.init#def:zero-initialization'>zero-initialized</a><a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div></body></html>