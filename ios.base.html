<!DOCTYPE html><html lang='en'><head><title>[ios.base]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>31</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>31.5</a> Iostreams base classes <a class='abbr_ref' href='iostreams.base#ios.base'>[iostreams.base]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>31.5.2</a> Class <span class='texttt'>ios_<span class='shy'></span>base</span> <a class='abbr_ref'>[ios.base]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>31.5.2.1</a> General <a class='abbr_ref' href='ios.base.general'>[ios.base.general]</a></h4><div class='texpara'><span id='lib:ios_base'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> ios_base <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>class</span> failure;              <span class='comment'>// see below</span>

    <span class='comment'>// <a href='#ios.fmtflags' title='31.5.2.2.2&emsp;Type ios_&shy;base&#x200b;::&#x200b;fmtflags'>[ios.<span class='shy'></span>fmtflags]</a>, <span class='tcode_in_codeblock'>fmtflags</span></span>
    <span class='keyword'>using</span> fmtflags <span class='operator'>=</span> <i >T1</i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags boolalpha <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags dec <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags fixed <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags hex <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags internal <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags left <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags oct <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags right <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags scientific <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags showbase <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags showpoint <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags showpos <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags skipws <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags unitbuf <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags uppercase <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags adjustfield <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags basefield <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> fmtflags floatfield <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;

    <span class='comment'>// <a href='#ios.iostate' title='31.5.2.2.3&emsp;Type ios_&shy;base&#x200b;::&#x200b;iostate'>[ios.<span class='shy'></span>iostate]</a>, <span class='tcode_in_codeblock'>iostate</span></span>
    <span class='keyword'>using</span> iostate <span class='operator'>=</span> <i >T2</i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> iostate badbit <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> iostate eofbit <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> iostate failbit <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> iostate goodbit <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;

    <span class='comment'>// <a href='#ios.openmode' title='31.5.2.2.4&emsp;Type ios_&shy;base&#x200b;::&#x200b;openmode'>[ios.<span class='shy'></span>openmode]</a>, <span class='tcode_in_codeblock'>openmode</span></span>
    <span class='keyword'>using</span> openmode <span class='operator'>=</span> <i >T3</i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> openmode app <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> openmode ate <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> openmode binary <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> openmode in <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> openmode noreplace <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> openmode out <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> openmode trunc <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;

    <span class='comment'>// <a href='#ios.seekdir' title='31.5.2.2.5&emsp;Type ios_&shy;base&#x200b;::&#x200b;seekdir'>[ios.<span class='shy'></span>seekdir]</a>, <span class='tcode_in_codeblock'>seekdir</span></span>
    <span class='keyword'>using</span> seekdir <span class='operator'>=</span> <i >T4</i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> seekdir beg <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> seekdir cur <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> seekdir end <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;

    <span class='keyword'>class</span> Init;

    <span class='comment'>// <a href='#fmtflags.state' title='31.5.2.3&emsp;State functions'>[fmtflags.<span class='shy'></span>state]</a>, <span class='tcode_in_codeblock'>fmtflags</span> state</span>
    fmtflags flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    fmtflags flags<span class='parenthesis'>(</span>fmtflags fmtfl<span class='parenthesis'>)</span>;
    fmtflags setf<span class='parenthesis'>(</span>fmtflags fmtfl<span class='parenthesis'>)</span>;
    fmtflags setf<span class='parenthesis'>(</span>fmtflags fmtfl, fmtflags mask<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> unsetf<span class='parenthesis'>(</span>fmtflags mask<span class='parenthesis'>)</span>;

    streamsize precision<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    streamsize precision<span class='parenthesis'>(</span>streamsize prec<span class='parenthesis'>)</span>;
    streamsize width<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    streamsize width<span class='parenthesis'>(</span>streamsize wide<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#locales' title='31.5.2.4&emsp;Functions'>[ios.<span class='shy'></span>base.<span class='shy'></span>locales]</a>, locales</span>
    locale imbue<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc<span class='parenthesis'>)</span>;
    locale getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;

    <span class='comment'>// <a href='#storage' title='31.5.2.6&emsp;Storage functions'>[ios.<span class='shy'></span>base.<span class='shy'></span>storage]</a>, storage</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> xalloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>long</span><span class='operator'>&amp;</span>  iword<span class='parenthesis'>(</span><span class='keyword'>int</span> idx<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span><span class='operator'>*</span><span class='operator'>&amp;</span> pword<span class='parenthesis'>(</span><span class='keyword'>int</span> idx<span class='parenthesis'>)</span>;

    <span class='comment'>// destructor</span>
    <span class='keyword'>virtual</span> <span class='operator'>~</span>ios_base<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#callback' title='31.5.2.7&emsp;Callbacks'>[ios.<span class='shy'></span>base.<span class='shy'></span>callback]</a>, callbacks</span>
    <span class='keyword'>enum</span> event <span class='curlybracket'>{</span> erase_event, imbue_event, copyfmt_event <span class='curlybracket'>}</span>;
    <span class='keyword'>using</span> event_callback <span class='operator'>=</span> <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>event, ios_base<span class='operator'>&amp;</span>, <span class='keyword'>int</span> idx<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> register_callback<span class='parenthesis'>(</span>event_callback fn, <span class='keyword'>int</span> idx<span class='parenthesis'>)</span>;

    ios_base<span class='parenthesis'>(</span><span class='keyword'>const</span> ios_base<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    ios_base<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> ios_base<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>static</span> <span class='keyword'>bool</span> sync_with_stdio<span class='parenthesis'>(</span><span class='keyword'>bool</span> sync <span class='operator'>=</span> <span class='literal'>true</span><span class='parenthesis'>)</span>;

  <span class='keyword'>protected</span><span class='operator'>:</span>
    ios_base<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> index;           <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>long</span><span class='operator'>*</span>  iarray;              <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>void</span><span class='operator'>*</span><span class='operator'>*</span> parray;              <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L850'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'><span class='texttt'>ios_<span class='shy'></span>base</span>
defines several member types:
<ul class='itemize'><li id='general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-1.1'>(1.1)</a></div>a type <span class='texttt'>failure</span>, defined as either a class derived from
<span class='texttt'>system_<span class='shy'></span>error</span> or a synonym for a class derived from <span class='texttt'>system_<span class='shy'></span>error</span>;</li><li id='general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-1.2'>(1.2)</a></div>a class <span class='texttt'>Init</span>;</li><li id='general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-1.3'>(1.3)</a></div>three bitmask types, <span class='texttt'>fmtflags</span>, <span class='texttt'>iostate</span>, and <span class='texttt'>openmode</span>;</li><li id='general-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-1.4'>(1.4)</a></div>an enumerated type, <span class='texttt'>seekdir</span><a class='hidden_link' href='#general-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L864'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>It maintains several kinds of data:
<ul class='itemize'><li id='general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.1'>(2.1)</a></div>state information that reflects the integrity of the stream buffer;</li><li id='general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.2'>(2.2)</a></div>control information that influences how to interpret (format) input
sequences and how to generate (format) output sequences;</li><li id='general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.3'>(2.3)</a></div>additional information that is stored by the program for its private use<a class='hidden_link' href='#general-2.sentence-1'>.</a></li></ul></div></div></div><div class='para nonNormativeOnly' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L876'>#</a></div><div class='texpara'><div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-3.sentence-1' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='general-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-3.1'>(3.1)</a></div><span class='texttt'><span class='keyword'>static</span> <span class='keyword'>int</span> index</span>,
specifies the next available
unique index for the integer or pointer arrays maintained for the private use
of the program, initialized to an unspecified value;</li><li id='general-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-3.2'>(3.2)</a></div><span class='texttt'><span class='keyword'>long</span><span class='operator'>*</span> iarray</span>,
points to the first element of an
arbitrary-length
<span class='texttt'><span class='keyword'>long</span></span>
array maintained for the private use of the
program;</li><li id='general-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-3.3'>(3.3)</a></div><span class='texttt'><span class='keyword'>void</span><span class='operator'>*</span><span class='operator'>*</span> parray</span>,
points to the first element of an
arbitrary-length pointer array maintained for the private use of the program<a class='hidden_link' href='#general-3.sentence-1'>.</a></li></ul></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div id='ios.types' class='section'><h4 ><a class='secnum' href='#ios.types' style='min-width:95pt'>31.5.2.2</a> Types <a class='abbr_ref' href='ios.types'>[ios.types]</a></h4><div id='ios.failure' class='section'><h4 ><a class='secnum' href='#ios.failure' style='min-width:110pt'>31.5.2.2.1</a> Class <span class='texttt'>ios_<span class='shy'></span>base&#x200b;::&#x200b;failure</span> <a class='abbr_ref' href='ios.failure'>[ios.failure]</a></h4><div class='texpara'><span id='lib:failure,ios_base'><span id='lib:ios_base,failure'><span id='lib:ios_base::failure'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base::failure'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> ios_base<span class='operator'>::</span>failure <span class='operator'>:</span> <span class='keyword'>public</span> system_error <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>explicit</span> failure<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> msg, <span class='keyword'>const</span> error_code<span class='operator'>&amp;</span> ec <span class='operator'>=</span> io_errc<span class='operator'>::</span>stream<span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> failure<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> msg, <span class='keyword'>const</span> error_code<span class='operator'>&amp;</span> ec <span class='operator'>=</span> io_errc<span class='operator'>::</span>stream<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></span></span></div><div class='para' id='ios.failure-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.failure-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L915'>#</a></div><div class='texpara'><div id='ios.failure-1.sentence-1' class='sentence'>An implementation is permitted to define <span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>
as a synonym for a class with equivalent functionality
to class <span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> shown in this subclause<a class='hidden_link' href='#ios.failure-1.sentence-1'>.</a></div> <div id='ios.failure-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ios.failure-note-1'>1</a></i>:&ensp;<div id='ios.failure-1.sentence-2' class='sentence'>When <span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> is a synonym for another type,
that type needs to provide a nested type <span class='texttt'>failure</span>
to emulate the injected-class-name<a class='hidden_link' href='#ios.failure-1.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div> <div id='ios.failure-1.sentence-3' class='sentence'>
The class
<span class='texttt'>failure</span>
defines the base class
for the types of all objects thrown as exceptions,
by functions in the iostreams library,
to report errors detected during stream buffer operations<a class='hidden_link' href='#ios.failure-1.sentence-3'>.</a></div></div></div><div class='para' id='ios.failure-2'><div class='marginalizedparent'><a class='marginalized' href='#ios.failure-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L931'>#</a></div><div class='texpara'><div id='ios.failure-2.sentence-1' class='sentence'>When throwing <span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> exceptions, implementations should provide
values of <span class='texttt'>ec</span> that identify the specific reason for the failure<a class='hidden_link' href='#ios.failure-2.sentence-1'>.</a></div> <div id='ios.failure-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ios.failure-note-2'>2</a></i>:&ensp;<div id='ios.failure-2.sentence-2' class='sentence'>Errors arising from the operating system would typically be reported as
<span class='texttt'>system_<span class='shy'></span>category<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> errors with an error value of the error number
reported by the operating system<a class='hidden_link' href='#ios.failure-2.sentence-2'>.</a></div> <div id='ios.failure-2.sentence-3' class='sentence'>Errors arising from within the stream library would
typically be reported as <span class='texttt'>error_<span class='shy'></span>code<span class='parenthesis'>(</span>io_<span class='shy'></span>errc<span class='operator'>&#x200b;::&#x200b;</span>stream,
iostream_<span class='shy'></span>category<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ios.failure-2.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='texpara'><div id='lib:ios_base::failure,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base::failure,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> failure<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> msg, <span class='keyword'>const</span> error_code<span class='operator'>&amp;</span> ec <span class='operator'>=</span> io_errc<span class='operator'>::</span>stream<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ios.failure-3'><div class='marginalizedparent'><a class='marginalized' href='#ios.failure-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L948'>#</a></div><div class='texpara'><div id='ios.failure-3.sentence-1' class='sentence'><i >Effects</i>: Constructs the base class with <span class='texttt'>msg</span> and <span class='texttt'>ec</span><a class='hidden_link' href='#ios.failure-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base::failure,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base::failure,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> failure<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> msg, <span class='keyword'>const</span> error_code<span class='operator'>&amp;</span> ec <span class='operator'>=</span> io_errc<span class='operator'>::</span>stream<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ios.failure-4'><div class='marginalizedparent'><a class='marginalized' href='#ios.failure-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L959'>#</a></div><div class='texpara'><div id='ios.failure-4.sentence-1' class='sentence'><i >Effects</i>: Constructs the base class with <span class='texttt'>msg</span> and <span class='texttt'>ec</span><a class='hidden_link' href='#ios.failure-4.sentence-1'>.</a></div></div></div></div></div><div id='ios.fmtflags' class='section'><h4 ><a class='secnum' href='#ios.fmtflags' style='min-width:110pt'>31.5.2.2.2</a> Type <span class='texttt'>ios_<span class='shy'></span>base&#x200b;::&#x200b;fmtflags</span> <a class='abbr_ref' href='ios.fmtflags'>[ios.fmtflags]</a></h4><div class='texpara'><div id='lib:ios_base,fmtflags'><div id='lib:fmtflags,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:fmtflags,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>using</span> fmtflags <span class='operator'>=</span> <i >T1</i>;
</code></div></div></div></div><div class='para' id='ios.fmtflags-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.fmtflags-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L972'>#</a></div><div class='texpara'><div id='ios.fmtflags-1.sentence-1' class='sentence'>The type
<span class='texttt'>fmtflags</span>
is a bitmask type (<a href='bitmask.types' title='16.3.3.3.3&emsp;Bitmask types'>[bitmask.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#ios.fmtflags-1.sentence-1'>.</a></div> <div id='ios.fmtflags-1.sentence-2' class='sentence'>Setting its elements has the effects indicated in Table <a href='#tab:ios.fmtflags' title='Table 118: fmtflags effects'>118</a><a class='hidden_link' href='#ios.fmtflags-1.sentence-2'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:ios.fmtflags'>Table <a href='#tab:ios.fmtflags'>118</a>: <span class='texttt'>fmtflags</span> effects&emsp;<a href='./tab:ios.fmtflags'>[tab:ios.fmtflags]</a><br><table ><tr id='tab:ios.fmtflags-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-1'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:ios.fmtflags-row-1-column-1-sentence-1' class='sentence'><b>Element</b></div></div></td><td class='center'><div class='texpara'><div id='tab:ios.fmtflags-row-1-column-2-sentence-1' class='sentence'><b>Effect(s) if set</b></div></div></td></tr><tr id='tab:ios.fmtflags-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-2'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>boolalpha</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-2-column-2-sentence-1' class='sentence'>insert and extract <span class='texttt'><span class='keyword'>bool</span></span> type in alphabetic format</div></div></td></tr><tr id='tab:ios.fmtflags-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-3'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>dec</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-3-column-2-sentence-1' class='sentence'>converts integer input or generates integer output in decimal base</div></div></td></tr><tr id='tab:ios.fmtflags-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-4'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>fixed</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-4-column-2-sentence-1' class='sentence'>generate floating-point output in fixed-point notation</div></div></td></tr><tr id='tab:ios.fmtflags-row-5'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-5'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-5-column-1-sentence-1' class='sentence'><span class='texttt'>hex</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-5-column-2-sentence-1' class='sentence'>converts integer input or generates integer output in hexadecimal base</div></div></td></tr><tr id='tab:ios.fmtflags-row-6'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-6'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-6-column-1-sentence-1' class='sentence'><span class='texttt'>internal</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-6-column-2-sentence-1' class='sentence'>adds fill characters at a designated internal point in certain generated output,
 or identical to <span class='texttt'>right</span> if no such point is designated</div></div></td></tr><tr id='tab:ios.fmtflags-row-7'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-7'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-7-column-1-sentence-1' class='sentence'><span class='texttt'>left</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-7-column-2-sentence-1' class='sentence'>adds fill characters on the right (final positions) of certain generated output</div></div></td></tr><tr id='tab:ios.fmtflags-row-8'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-8'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-8-column-1-sentence-1' class='sentence'><span class='texttt'>oct</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-8-column-2-sentence-1' class='sentence'>converts integer input or generates integer output in octal base</div></div></td></tr><tr id='tab:ios.fmtflags-row-9'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-9'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-9-column-1-sentence-1' class='sentence'><span class='texttt'>right</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-9-column-2-sentence-1' class='sentence'>adds fill characters on the left (initial positions) of certain generated output</div></div></td></tr><tr id='tab:ios.fmtflags-row-10'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-10'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-10-column-1-sentence-1' class='sentence'><span class='texttt'>scientific</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-10-column-2-sentence-1' class='sentence'>generates floating-point output in scientific notation</div></div></td></tr><tr id='tab:ios.fmtflags-row-11'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-11'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-11-column-1-sentence-1' class='sentence'><span class='texttt'>showbase</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-11-column-2-sentence-1' class='sentence'>generates a prefix indicating the numeric base of generated integer output</div></div></td></tr><tr id='tab:ios.fmtflags-row-12'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-12'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-12-column-1-sentence-1' class='sentence'><span class='texttt'>showpoint</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-12-column-2-sentence-1' class='sentence'>generates a decimal-point character unconditionally in generated floating-point output</div></div></td></tr><tr id='tab:ios.fmtflags-row-13'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-13'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-13-column-1-sentence-1' class='sentence'><span class='texttt'>showpos</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-13-column-2-sentence-1' class='sentence'>generates a <span class='texttt'><span class='operator'>+</span></span> sign in non-negative generated numeric output</div></div></td></tr><tr id='tab:ios.fmtflags-row-14'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-14'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-14-column-1-sentence-1' class='sentence'><span class='texttt'>skipws</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-14-column-2-sentence-1' class='sentence'>skips leading whitespace before certain input operations</div></div></td></tr><tr id='tab:ios.fmtflags-row-15'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-15'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-15-column-1-sentence-1' class='sentence'><span class='texttt'>unitbuf</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-15-column-2-sentence-1' class='sentence'>flushes output after each output operation</div></div></td></tr><tr id='tab:ios.fmtflags-row-16'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags-row-16'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags-row-16-column-1-sentence-1' class='sentence'><span class='texttt'>uppercase</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.fmtflags-row-16-column-2-sentence-1' class='sentence'>replaces certain lowercase letters with their uppercase equivalents in generated output</div></div></td></tr></table></div></div></div></div><div class='para' id='ios.fmtflags-2'><div class='marginalizedparent'><a class='marginalized' href='#ios.fmtflags-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1012'>#</a></div><div class='texpara'><div id='ios.fmtflags-2.sentence-1' class='sentence'>Type
<span class='texttt'>fmtflags</span>
also defines the constants indicated in Table <a href='#tab:ios.fmtflags.const' title='Table 119: fmtflags constants'>119</a><a class='hidden_link' href='#ios.fmtflags-2.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:ios.fmtflags.const'>Table <a href='#tab:ios.fmtflags.const'>119</a>: <span class='texttt'>fmtflags</span> constants&emsp;<a href='./tab:ios.fmtflags.const'>[tab:ios.fmtflags.const]</a><br><table ><tr id='tab:ios.fmtflags.const-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags.const-row-1'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:ios.fmtflags.const-row-1-column-1-sentence-1' class='sentence'><b>Constant</b></div></div></td><td class='center'><div class='texpara'><div id='tab:ios.fmtflags.const-row-1-column-2-sentence-1' class='sentence'><b>Allowable values</b></div></div></td></tr><tr id='tab:ios.fmtflags.const-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags.const-row-2'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags.const-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>adjustfield</span></div></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags.const-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>left <span class='operator'>|</span> right <span class='operator'>|</span> internal</span></div></div></td></tr><tr id='tab:ios.fmtflags.const-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags.const-row-3'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags.const-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>basefield</span></div></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags.const-row-3-column-2-sentence-1' class='sentence'><span class='texttt'>dec <span class='operator'>|</span> oct <span class='operator'>|</span> hex</span></div></div></td></tr><tr id='tab:ios.fmtflags.const-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.fmtflags.const-row-4'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags.const-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>floatfield</span></div></div></td><td class='left'><div class='texpara'><div id='tab:ios.fmtflags.const-row-4-column-2-sentence-1' class='sentence'><span class='texttt'>scientific <span class='operator'>|</span> fixed</span></div></div></td></tr></table></div></div></div></div></div><div id='ios.iostate' class='section'><h4 ><a class='secnum' href='#ios.iostate' style='min-width:110pt'>31.5.2.2.3</a> Type <span class='texttt'>ios_<span class='shy'></span>base&#x200b;::&#x200b;iostate</span> <a class='abbr_ref' href='ios.iostate'>[ios.iostate]</a></h4><div class='texpara'><div id='lib:ios_base,iostate'><div id='lib:iostate,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:iostate,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>using</span> iostate <span class='operator'>=</span> <i >T2</i>;
</code></div></div></div></div><div class='para' id='ios.iostate-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.iostate-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1035'>#</a></div><div class='texpara'><div id='ios.iostate-1.sentence-1' class='sentence'>The type
<span class='texttt'>iostate</span>
is a bitmask type (<a href='bitmask.types' title='16.3.3.3.3&emsp;Bitmask types'>[bitmask.<span class='shy'></span>types]</a>)
that contains the elements indicated in Table <a href='#tab:ios.iostate' title='Table 120: iostate effects'>120</a><a class='hidden_link' href='#ios.iostate-1.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:ios.iostate'>Table <a href='#tab:ios.iostate'>120</a>: <span class='texttt'>iostate</span> effects&emsp;<a href='./tab:ios.iostate'>[tab:ios.iostate]</a><br><table ><tr id='tab:ios.iostate-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.iostate-row-1'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:ios.iostate-row-1-column-1-sentence-1' class='sentence'><b>Element</b></div></div></td><td class='center'><div class='texpara'><div id='tab:ios.iostate-row-1-column-2-sentence-1' class='sentence'><b>Effect(s) if set</b></div></div></td></tr><tr id='tab:ios.iostate-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.iostate-row-2'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.iostate-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>badbit</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.iostate-row-2-column-2-sentence-1' class='sentence'>indicates a loss of integrity in an input or output sequence
 (such as an irrecoverable read error from a file);</div></div></td></tr><tr id='tab:ios.iostate-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.iostate-row-3'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.iostate-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>eofbit</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.iostate-row-3-column-2-sentence-1' class='sentence'>indicates that an input operation reached the end of an input sequence;</div></div></td></tr><tr id='tab:ios.iostate-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.iostate-row-4'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.iostate-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>failbit</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.iostate-row-4-column-2-sentence-1' class='sentence'>indicates that an input operation failed to read the expected characters,
 or that an output operation failed to generate the desired characters<a class='hidden_link' href='#tab:ios.iostate-row-4-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div></div><div class='para' id='ios.iostate-2'><div class='marginalizedparent'><a class='marginalized' href='#ios.iostate-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1052'>#</a></div><div class='texpara'><div id='ios.iostate-2.sentence-1' class='sentence'>Type
<span class='texttt'>iostate</span>
also defines the constant:
<ul class='itemize'><li id='ios.iostate-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ios.iostate-2.1'>(2.1)</a></div><span class='texttt'>goodbit</span>,
the value zero<a class='hidden_link' href='#ios.iostate-2.sentence-1'>.</a></li></ul></div></div></div></div></div><div id='ios.openmode' class='section'><h4 ><a class='secnum' href='#ios.openmode' style='min-width:110pt'>31.5.2.2.4</a> Type <span class='texttt'>ios_<span class='shy'></span>base&#x200b;::&#x200b;openmode</span> <a class='abbr_ref' href='ios.openmode'>[ios.openmode]</a></h4><div class='texpara'><div id='lib:ios_base,openmode'><div id='lib:openmode,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:openmode,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>using</span> openmode <span class='operator'>=</span> <i >T3</i>;
</code></div></div></div></div><div class='para' id='ios.openmode-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.openmode-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1071'>#</a></div><div class='texpara'><div id='ios.openmode-1.sentence-1' class='sentence'>The type
<span class='texttt'>openmode</span>
is a bitmask type (<a href='bitmask.types' title='16.3.3.3.3&emsp;Bitmask types'>[bitmask.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#ios.openmode-1.sentence-1'>.</a></div> <div id='ios.openmode-1.sentence-2' class='sentence'>It contains the elements indicated in Table <a href='#tab:ios.openmode' title='Table 121: openmode effects'>121</a><a class='hidden_link' href='#ios.openmode-1.sentence-2'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:ios.openmode'>Table <a href='#tab:ios.openmode'>121</a>: <span class='texttt'>openmode</span> effects&emsp;<a href='./tab:ios.openmode'>[tab:ios.openmode]</a><br><table ><tr id='tab:ios.openmode-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-1'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:ios.openmode-row-1-column-1-sentence-1' class='sentence'><b>Element</b></div></div></td><td class='center'><div class='texpara'><div id='tab:ios.openmode-row-1-column-2-sentence-1' class='sentence'><b>Effect(s) if set</b></div></div></td></tr><tr id='tab:ios.openmode-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-2'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.openmode-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>app</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.openmode-row-2-column-2-sentence-1' class='sentence'>seek to end before each write</div></div></td></tr><tr id='tab:ios.openmode-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-3'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.openmode-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>ate</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.openmode-row-3-column-2-sentence-1' class='sentence'>open and seek to end immediately after opening</div></div></td></tr><tr id='tab:ios.openmode-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-4'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.openmode-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>binary</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.openmode-row-4-column-2-sentence-1' class='sentence'>perform input and output in binary mode (as opposed to text mode)</div></div></td></tr><tr id='tab:ios.openmode-row-5'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-5'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.openmode-row-5-column-1-sentence-1' class='sentence'><span class='texttt'>in</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.openmode-row-5-column-2-sentence-1' class='sentence'>open for input</div></div></td></tr><tr id='tab:ios.openmode-row-6'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-6'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.openmode-row-6-column-1-sentence-1' class='sentence'><span class='texttt'>noreplace</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.openmode-row-6-column-2-sentence-1' class='sentence'>open in exclusive mode</div></div></td></tr><tr id='tab:ios.openmode-row-7'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-7'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.openmode-row-7-column-1-sentence-1' class='sentence'><span class='texttt'>out</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.openmode-row-7-column-2-sentence-1' class='sentence'>open for output</div></div></td></tr><tr id='tab:ios.openmode-row-8'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.openmode-row-8'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.openmode-row-8-column-1-sentence-1' class='sentence'><span class='texttt'>trunc</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.openmode-row-8-column-2-sentence-1' class='sentence'>truncate an existing stream when opening</div></div></td></tr></table></div></div></div></div></div><div id='ios.seekdir' class='section'><h4 ><a class='secnum' href='#ios.seekdir' style='min-width:110pt'>31.5.2.2.5</a> Type <span class='texttt'>ios_<span class='shy'></span>base&#x200b;::&#x200b;seekdir</span> <a class='abbr_ref' href='ios.seekdir'>[ios.seekdir]</a></h4><div class='texpara'><div id='lib:ios_base,seekdir'><div id='lib:seekdir,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seekdir,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>using</span> seekdir <span class='operator'>=</span> <i >T4</i>;
</code></div></div></div></div><div class='para' id='ios.seekdir-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.seekdir-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1103'>#</a></div><div class='texpara'><div id='ios.seekdir-1.sentence-1' class='sentence'>The type
<span class='texttt'>seekdir</span>
is an enumerated type (<a href='enumerated.types' title='16.3.3.3.2&emsp;Enumerated types'>[enumerated.<span class='shy'></span>types]</a>)
that contains the elements indicated in Table <a href='#tab:ios.seekdir' title='Table 122: seekdir effects'>122</a><a class='hidden_link' href='#ios.seekdir-1.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:ios.seekdir'>Table <a href='#tab:ios.seekdir'>122</a>: <span class='texttt'>seekdir</span> effects&emsp;<a href='./tab:ios.seekdir'>[tab:ios.seekdir]</a><br><table ><tr id='tab:ios.seekdir-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.seekdir-row-1'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:ios.seekdir-row-1-column-1-sentence-1' class='sentence'><b>Element</b></div></div></td><td class='center'><div class='texpara'><div id='tab:ios.seekdir-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:ios.seekdir-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.seekdir-row-2'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.seekdir-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>beg</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.seekdir-row-2-column-2-sentence-1' class='sentence'>request a seek (for subsequent input or output) relative to the beginning of the stream</div></div></td></tr><tr id='tab:ios.seekdir-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.seekdir-row-3'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.seekdir-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>cur</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.seekdir-row-3-column-2-sentence-1' class='sentence'>request a seek relative to the current position within the sequence</div></div></td></tr><tr id='tab:ios.seekdir-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:ios.seekdir-row-4'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:ios.seekdir-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>end</span></div></div></td><td class='justify' style='width:4.5in'><div class='texpara'><div id='tab:ios.seekdir-row-4-column-2-sentence-1' class='sentence'>request a seek relative to the current end of the sequence</div></div></td></tr></table></div></div></div></div></div><div id='ios.init' class='section'><h4 ><a class='secnum' href='#ios.init' style='min-width:110pt'>31.5.2.2.6</a> Class <span class='texttt'>ios_<span class='shy'></span>base&#x200b;::&#x200b;Init</span> <a class='abbr_ref' href='ios.init'>[ios.init]</a></h4><div class='texpara'><span id='lib:Init,ios_base'><span id='lib:ios_base,Init'><span id='lib:ios_base::Init'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base::Init'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> ios_base<span class='operator'>::</span>Init <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    Init<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    Init<span class='parenthesis'>(</span><span class='keyword'>const</span> Init<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
    <span class='operator'>~</span>Init<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    Init<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> Init<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> init_cnt;        <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></span></span></div><div class='para' id='ios.init-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.init-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1138'>#</a></div><div class='texpara'><div id='ios.init-1.sentence-1' class='sentence'>The class <span class='texttt'>Init</span>
describes an object whose construction
ensures the construction of the eight objects declared in
<a href='iostream.syn#header:%3ciostream%3e' title='31.4.1&emsp;Header &lt;iostream&gt; synopsis&emsp;[iostream.syn]'><span id='headerref:<iostream>'><span class='texttt'>&lt;iostream&gt;</span></span></a> (<a href='iostream.objects' title='31.4&emsp;Standard iostream objects'>[iostream.<span class='shy'></span>objects]</a>) that associate file
stream buffers with the standard C streams
provided for by the functions declared in
<a href='cstdio.syn#header:%3ccstdio%3e' title='31.13.1&emsp;Header &lt;cstdio&gt; synopsis&emsp;[cstdio.syn]'><span id='headerref:<cstdio>'><span class='texttt'>&lt;cstdio&gt;</span></span></a><a class='hidden_link' href='#ios.init-1.sentence-1'>.</a></div></div></div><div class='para' id='ios.init-2'><div class='marginalizedparent'><a class='marginalized' href='#ios.init-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1147'>#</a></div><div class='texpara'><div id='ios.init-2.sentence-1' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='ios.init-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ios.init-2.1'>(2.1)</a></div><span class='texttt'><span class='keyword'>static</span> <span class='keyword'>int</span> init_<span class='shy'></span>cnt</span>,
counts the number of
constructor and destructor calls for class
<span class='texttt'>Init</span>,
initialized to zero<a class='hidden_link' href='#ios.init-2.sentence-1'>.</a></li></ul></div></div></div><div class='texpara'><div id='lib:ios_base::Init,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base::Init,constructor'>ðŸ”—</a></div><code class='itemdeclcode'>Init<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ios.init-3'><div class='marginalizedparent'><a class='marginalized' href='#ios.init-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1164'>#</a></div><div class='texpara'><div id='ios.init-3.sentence-1' class='sentence'><i >Effects</i>: Constructs and initializes the objects <span class='texttt'>cin</span>, <span class='texttt'>cout</span>, <span class='texttt'>cerr</span>,
<span class='texttt'>clog</span>, <span class='texttt'>wcin</span>, <span class='texttt'>wcout</span>, <span class='texttt'>wcerr</span>, and <span class='texttt'>wclog</span> if
they have not already been constructed and initialized<a class='hidden_link' href='#ios.init-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base::Init,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base::Init,destructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='operator'>~</span>Init<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ios.init-4'><div class='marginalizedparent'><a class='marginalized' href='#ios.init-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1177'>#</a></div><div class='texpara'><div id='ios.init-4.sentence-1' class='sentence'><i >Effects</i>: If there are no other instances of the class still in existence,
calls
<a class='index' id='lib:flush'></a><span class='texttt'>cout<span class='operator'>.</span>flush<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>cerr<span class='operator'>.</span>flush<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>clog<span class='operator'>.</span>flush<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>wcout<span class='operator'>.</span>flush<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>wcerr<span class='operator'>.</span>flush<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>wclog<span class='operator'>.</span>flush<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ios.init-4.sentence-1'>.</a></div></div></div></div></div></div><div id='fmtflags.state' class='section'><h4 ><a class='secnum' href='#fmtflags.state' style='min-width:95pt'>31.5.2.3</a> State functions <a class='abbr_ref' href='fmtflags.state'>[fmtflags.state]</a></h4><div class='texpara'><div id='lib:ios_base,flags'><div id='lib:flags,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:flags,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-1'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1198'>#</a></div><div class='texpara'><div id='fmtflags.state-1.sentence-1' class='sentence'><i >Returns</i>: The format control information for both input and output<a class='hidden_link' href='#fmtflags.state-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,flags_'><div id='lib:flags,ios_base_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:flags,ios_base_'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags flags<span class='parenthesis'>(</span>fmtflags fmtfl<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-2'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1209'>#</a></div><div class='texpara'><div id='fmtflags.state-2.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>fmtfl <span class='operator'>=</span><span class='operator'>=</span> flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-2.sentence-1'>.</a></div></div></div></div><div class='para' id='fmtflags.state-3'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1213'>#</a></div><div class='texpara'><div id='fmtflags.state-3.sentence-1' class='sentence'><i >Returns</i>: The previous value of
<span class='texttt'>flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,setf'><div id='lib:setf,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:setf,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags setf<span class='parenthesis'>(</span>fmtflags fmtfl<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-4'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1225'>#</a></div><div class='texpara'><div id='fmtflags.state-4.sentence-1' class='sentence'><i >Effects</i>: Sets <span class='texttt'>fmtfl</span> in
<span class='texttt'>flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-4.sentence-1'>.</a></div></div></div></div><div class='para' id='fmtflags.state-5'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1230'>#</a></div><div class='texpara'><div id='fmtflags.state-5.sentence-1' class='sentence'><i >Returns</i>: The previous value of
<span class='texttt'>flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,setf_'><div id='lib:setf,ios_base_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:setf,ios_base_'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags setf<span class='parenthesis'>(</span>fmtflags fmtfl, fmtflags mask<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-6'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1242'>#</a></div><div class='texpara'><div id='fmtflags.state-6.sentence-1' class='sentence'><i >Effects</i>: Clears <span class='texttt'>mask</span> in
<span class='texttt'>flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
sets
<span class='texttt'>fmtfl <span class='operator'>&amp;</span> mask</span>
in
<span class='texttt'>flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-6.sentence-1'>.</a></div></div></div></div><div class='para' id='fmtflags.state-7'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1251'>#</a></div><div class='texpara'><div id='fmtflags.state-7.sentence-1' class='sentence'><i >Returns</i>: The previous value of
<span class='texttt'>flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-7.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,unsetf'><div id='lib:unsetf,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:unsetf,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> unsetf<span class='parenthesis'>(</span>fmtflags mask<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-8'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1263'>#</a></div><div class='texpara'><div id='fmtflags.state-8.sentence-1' class='sentence'><i >Effects</i>: Clears <span class='texttt'>mask</span> in
<span class='texttt'>flags<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-8.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,precision'><div id='lib:precision,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:precision,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize precision<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-9'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1275'>#</a></div><div class='texpara'><div id='fmtflags.state-9.sentence-1' class='sentence'><i >Returns</i>: The precision
to generate on certain output conversions<a class='hidden_link' href='#fmtflags.state-9.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,precision_'><div id='lib:precision,ios_base_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:precision,ios_base_'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize precision<span class='parenthesis'>(</span>streamsize prec<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-10'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1287'>#</a></div><div class='texpara'><div id='fmtflags.state-10.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>prec <span class='operator'>=</span><span class='operator'>=</span> precision<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-10.sentence-1'>.</a></div></div></div></div><div class='para' id='fmtflags.state-11'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1291'>#</a></div><div class='texpara'><div id='fmtflags.state-11.sentence-1' class='sentence'><i >Returns</i>: The previous value of
<span class='texttt'>precision<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-11.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,width'><div id='lib:width,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:width,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize width<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-12'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1303'>#</a></div><div class='texpara'><div id='fmtflags.state-12.sentence-1' class='sentence'><i >Returns</i>: The minimum field width (number of characters) to generate on certain output
conversions<a class='hidden_link' href='#fmtflags.state-12.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,width_'><div id='lib:width,ios_base_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:width,ios_base_'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize width<span class='parenthesis'>(</span>streamsize wide<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fmtflags.state-13'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1315'>#</a></div><div class='texpara'><div id='fmtflags.state-13.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>wide <span class='operator'>=</span><span class='operator'>=</span> width<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-13.sentence-1'>.</a></div></div></div></div><div class='para' id='fmtflags.state-14'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1319'>#</a></div><div class='texpara'><div id='fmtflags.state-14.sentence-1' class='sentence'><i >Returns</i>: The previous value of
<span class='texttt'>width<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fmtflags.state-14.sentence-1'>.</a></div></div></div></div></div><div id='locales' class='section'><h4 ><a class='secnum' href='#locales' style='min-width:95pt'>31.5.2.4</a> Functions <a class='abbr_ref' href='ios.base.locales'>[ios.base.locales]</a></h4><div class='texpara'><div id='lib:ios_base,imbue'><div id='lib:imbue,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:imbue,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'>locale imbue<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='locales-1'><div class='marginalizedparent'><a class='marginalized' href='#locales-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1333'>#</a></div><div class='texpara'><div id='locales-1.sentence-1' class='sentence'><i >Effects</i>: Calls each registered callback pair
<span class='texttt'><span class='parenthesis'>(</span>fn, idx<span class='parenthesis'>)</span></span> (<a href='#callback' title='31.5.2.7&emsp;Callbacks'>[ios.<span class='shy'></span>base.<span class='shy'></span>callback]</a>)
as
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>fn<span class='parenthesis'>)</span><span class='parenthesis'>(</span>imbue_<span class='shy'></span>event, <span class='operator'>*</span><span class='keyword'>this</span>, idx<span class='parenthesis'>)</span></span>
at such a time that a call to
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
from within
<span class='texttt'>fn</span>
returns the new locale value
<span class='texttt'>loc</span><a class='hidden_link' href='#locales-1.sentence-1'>.</a></div></div></div></div><div class='para' id='locales-2'><div class='marginalizedparent'><a class='marginalized' href='#locales-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1346'>#</a></div><div class='texpara'><div id='locales-2.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>loc <span class='operator'>=</span><span class='operator'>=</span> getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#locales-2.sentence-1'>.</a></div></div></div></div><div class='para' id='locales-3'><div class='marginalizedparent'><a class='marginalized' href='#locales-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1350'>#</a></div><div class='texpara'><div id='locales-3.sentence-1' class='sentence'><i >Returns</i>: The previous value of
<span class='texttt'>getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#locales-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,getloc'><div id='lib:getloc,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:getloc,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'>locale getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='locales-4'><div class='marginalizedparent'><a class='marginalized' href='#locales-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1362'>#</a></div><div class='texpara'><div id='locales-4.sentence-1' class='sentence'><i >Returns</i>: If no locale has been imbued, a copy of the global C++ locale,
<span class='texttt'>locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
in effect at the time of construction<a class='hidden_link' href='#locales-4.sentence-1'>.</a></div> <div id='locales-4.sentence-2' class='sentence'>Otherwise, returns the imbued locale, to be used to
perform locale-dependent input and output operations<a class='hidden_link' href='#locales-4.sentence-2'>.</a></div></div></div></div></div><div id='ios.members.static' class='section'><h4 ><a class='secnum' href='#ios.members.static' style='min-width:95pt'>31.5.2.5</a> Static members <a class='abbr_ref' href='ios.members.static'>[ios.members.static]</a></h4><div class='texpara'><div id='lib:ios_base,sync_with_stdio'><div id='lib:sync_with_stdio,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:sync_with_stdio,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>static</span> <span class='keyword'>bool</span> sync_with_stdio<span class='parenthesis'>(</span><span class='keyword'>bool</span> sync <span class='operator'>=</span> <span class='literal'>true</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ios.members.static-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.members.static-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1379'>#</a></div><div class='texpara'><div id='ios.members.static-1.sentence-1' class='sentence'><i >Effects</i>: If any input or output operation has occurred using the standard streams prior to the
call, the effect is
<a class='index' id=':effect_of_calling_ios_base::sync_with_stdio_after_any_input_or_output_operation_on_standard_streams'></a>implementation-defined<a class='hidden_link' href='#ios.members.static-1.sentence-1'>.</a></div> <div id='ios.members.static-1.sentence-2' class='sentence'>Otherwise, called with a <span class='texttt'><span class='literal'>false</span></span> argument, it allows the standard streams to
operate independently of the standard C streams<a class='hidden_link' href='#ios.members.static-1.sentence-2'>.</a></div></div></div></div><div class='para' id='ios.members.static-2'><div class='marginalizedparent'><a class='marginalized' href='#ios.members.static-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1388'>#</a></div><div class='texpara'><div id='ios.members.static-2.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span>
if the previous state of the <a href='iostream.objects' title='31.4&emsp;Standard iostream objects&emsp;[iostream.objects]'>standard iostream objects</a>
was synchronized and otherwise returns
<span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#ios.members.static-2.sentence-1'>.</a></div> <div id='ios.members.static-2.sentence-2' class='sentence'>The first time it is called,
the function returns
<span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ios.members.static-2.sentence-2'>.</a></div></div></div></div><div class='para' id='ios.members.static-3'><div class='marginalizedparent'><a class='marginalized' href='#ios.members.static-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1398'>#</a></div><div class='texpara'><div id='ios.members.static-3.sentence-1' class='sentence'><i >Remarks</i>: When a standard iostream object <span class='texttt'>str</span> is
<i >synchronized</i>
with a standard stdio stream <span class='texttt'>f</span>, the effect of inserting a character <span class='texttt'>c</span> by
<span class='codeblock'>fputc<span class='parenthesis'>(</span>f, c<span class='parenthesis'>)</span>;
</span>
is the same as the effect of
<span class='codeblock'>str<span class='operator'>.</span>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sputc<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span>;
</span>
for any sequences of characters; the effect of extracting a character <span class='texttt'>c</span> by
<span class='codeblock'>c <span class='operator'>=</span> fgetc<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>;
</span>
is the same as the effect of
<span class='codeblock'>c <span class='operator'>=</span> str<span class='operator'>.</span>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sbumpc<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span>
for any sequences of characters; and the effect of pushing back a character <span class='texttt'>c</span> by
<span class='codeblock'>ungetc<span class='parenthesis'>(</span>c, f<span class='parenthesis'>)</span>;
</span>
is the same as the effect of
<span class='codeblock'>str<span class='operator'>.</span>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sputbackc<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span>;
</span>
for any sequence of characters<a class='hidden_link' href='#ios.members.static-3.sentence-1'>.</a><a class='footnoteref' href='#footnote-268' id='footnoteref-268' title='This implies that operations on a standard iostream object can be mixed arbitrarily with operations on the corresponding stdio stream. In practical terms, synchronization usually means that a standard iostream object and a standard stdio object share a buffer.'>268</a></div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-268'><div class='texpara'><a class='footnotenum' href='#footnote-268'>268)</a><a class='footnoteBacklink' href='#footnoteref-268'>268)</a> <div id='footnote-268.sentence-1' class='sentence'>This implies that operations on a standard iostream object can be mixed arbitrarily
with operations on the corresponding stdio stream<a class='hidden_link' href='#footnote-268.sentence-1'>.</a></div> <div id='footnote-268.sentence-2' class='sentence'>In practical terms, synchronization
usually means that a standard iostream object and a standard stdio object share a
buffer<a class='hidden_link' href='#footnote-268.sentence-2'>.</a></div></div></div></div><div id='storage' class='section'><h4 ><a class='secnum' href='#storage' style='min-width:95pt'>31.5.2.6</a> Storage functions <a class='abbr_ref' href='ios.base.storage'>[ios.base.storage]</a></h4><div class='texpara'><div id='lib:ios_base,xalloc'><div id='lib:xalloc,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:xalloc,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>static</span> <span class='keyword'>int</span> xalloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='storage-1'><div class='marginalizedparent'><a class='marginalized' href='#storage-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1443'>#</a></div><div class='texpara'><div id='storage-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>index</span>
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span><a class='hidden_link' href='#storage-1.sentence-1'>.</a></div></div></div></div><div class='para' id='storage-2'><div class='marginalizedparent'><a class='marginalized' href='#storage-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1448'>#</a></div><div class='texpara'><div id='storage-2.sentence-1' class='sentence'><i >Remarks</i>: Concurrent access to this function by multiple threads does not result in a
<a href='intro.multithread#def:data_race' title='6.9.2&emsp;Multi-threaded executions and data races&emsp;[intro.multithread]'>data race</a><a class='hidden_link' href='#storage-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,iword'><div id='lib:iword,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:iword,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>long</span><span class='operator'>&amp;</span> iword<span class='parenthesis'>(</span><span class='keyword'>int</span> idx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='storage-3'><div class='marginalizedparent'><a class='marginalized' href='#storage-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1460'>#</a></div><div class='texpara'><div id='storage-3.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>idx</span> is a value obtained by a call to <span class='texttt'>xalloc</span><a class='hidden_link' href='#storage-3.sentence-1'>.</a></div></div></div></div><div class='para' id='storage-4'><div class='marginalizedparent'><a class='marginalized' href='#storage-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1464'>#</a></div><div class='texpara'><div id='storage-4.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>iarray</span> is a null pointer, allocates an array of
<span class='texttt'><span class='keyword'>long</span></span>
of unspecified size and stores a pointer to its first element in
<span class='texttt'>iarray</span><a class='hidden_link' href='#storage-4.sentence-1'>.</a></div> <div id='storage-4.sentence-2' class='sentence'>The function then extends the array pointed at by
<span class='texttt'>iarray</span> as necessary to include the element
<span class='texttt'>iarray<span class='squarebracket'>[</span>idx<span class='squarebracket'>]</span></span><a class='hidden_link' href='#storage-4.sentence-2'>.</a></div> <div id='storage-4.sentence-3' class='sentence'>Each newly allocated element of the array is initialized to zero<a class='hidden_link' href='#storage-4.sentence-3'>.</a></div> <div id='storage-4.sentence-4' class='sentence'>The reference returned is invalid after any other operation on the
object<a class='hidden_link' href='#storage-4.sentence-4'>.</a><a class='footnoteref' href='#footnote-269' id='footnoteref-269' title='An implementation is free to implement both the integer array pointed at by iarray and the pointer array pointed at by parray as sparse data structures, possibly with a one-element cache for each.'>269</a></div> <div id='storage-4.sentence-5' class='sentence'>
However, the value of the storage referred to is retained, so
that until the next call to
<span class='texttt'>copyfmt</span>,
calling
<span class='texttt'>iword</span>
with the same index yields another reference to the same value<a class='hidden_link' href='#storage-4.sentence-5'>.</a></div> <div id='storage-4.sentence-6' class='sentence'>If the function fails<a class='footnoteref' href='#footnote-270' id='footnoteref-270' title='For example, because it cannot allocate space.'>270</a>
and
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
is a base class subobject of a
<span class='texttt'>basic_<span class='shy'></span>ios<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span>
object or subobject, the effect is equivalent to calling
<span class='texttt'>basic_<span class='shy'></span>ios<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>setstate<span class='parenthesis'>(</span>badbit<span class='parenthesis'>)</span></span>
on the derived object (which may throw
<span class='texttt'>failure</span>)<a class='hidden_link' href='#storage-4.sentence-6'>.</a></div></div></div></div><div class='para' id='storage-5'><div class='marginalizedparent'><a class='marginalized' href='#storage-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1501'>#</a></div><div class='texpara'><div id='storage-5.sentence-1' class='sentence'><i >Returns</i>: On success
<span class='texttt'>iarray<span class='squarebracket'>[</span>idx<span class='squarebracket'>]</span></span><a class='hidden_link' href='#storage-5.sentence-1'>.</a></div> <div id='storage-5.sentence-2' class='sentence'>On failure, a valid
<span class='texttt'><span class='keyword'>long</span><span class='operator'>&amp;</span></span>
initialized to 0<a class='hidden_link' href='#storage-5.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,pword'><div id='lib:pword,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:pword,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span><span class='operator'>*</span><span class='operator'>&amp;</span> pword<span class='parenthesis'>(</span><span class='keyword'>int</span> idx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='storage-6'><div class='marginalizedparent'><a class='marginalized' href='#storage-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1516'>#</a></div><div class='texpara'><div id='storage-6.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>idx</span> is a value obtained by a call to <span class='texttt'>xalloc</span><a class='hidden_link' href='#storage-6.sentence-1'>.</a></div></div></div></div><div class='para' id='storage-7'><div class='marginalizedparent'><a class='marginalized' href='#storage-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1520'>#</a></div><div class='texpara'><div id='storage-7.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>parray</span> is a null pointer, allocates an array of
pointers to <span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span> of unspecified size and stores a pointer to
its
first element in <span class='texttt'>parray</span><a class='hidden_link' href='#storage-7.sentence-1'>.</a></div> <div id='storage-7.sentence-2' class='sentence'>The function then extends the array
pointed at by <span class='texttt'>parray</span> as necessary to include the element
<span class='texttt'>parray<span class='squarebracket'>[</span>idx<span class='squarebracket'>]</span></span><a class='hidden_link' href='#storage-7.sentence-2'>.</a></div> <div id='storage-7.sentence-3' class='sentence'>Each newly allocated element of the array is initialized to a null
pointer<a class='hidden_link' href='#storage-7.sentence-3'>.</a></div> <div id='storage-7.sentence-4' class='sentence'>The reference returned is invalid after any other operation on the
object<a class='hidden_link' href='#storage-7.sentence-4'>.</a></div> <div id='storage-7.sentence-5' class='sentence'>However, the value of the storage referred to is retained, so
that until the next call to
<span class='texttt'>copyfmt</span>,
calling
<span class='texttt'>pword</span>
with the same index yields another reference to the same value<a class='hidden_link' href='#storage-7.sentence-5'>.</a></div> <div id='storage-7.sentence-6' class='sentence'>If the function fails<a class='footnoteref' href='#footnote-271' id='footnoteref-271' title='For example, because it cannot allocate space.'>271</a>
and
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
is a base class subobject of a
<span class='texttt'>basic_<span class='shy'></span>ios<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span>
object or subobject, the effect is equivalent to calling
<span class='texttt'>basic_<span class='shy'></span>ios<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>setstate<span class='parenthesis'>(</span>badbit<span class='parenthesis'>)</span></span>
on the derived object (which may throw
<span class='texttt'>failure</span>)<a class='hidden_link' href='#storage-7.sentence-6'>.</a></div></div></div></div><div class='para' id='storage-8'><div class='marginalizedparent'><a class='marginalized' href='#storage-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1552'>#</a></div><div class='texpara'><div id='storage-8.sentence-1' class='sentence'><i >Returns</i>: On success
<span class='texttt'>parray<span class='squarebracket'>[</span>idx<span class='squarebracket'>]</span></span><a class='hidden_link' href='#storage-8.sentence-1'>.</a></div> <div id='storage-8.sentence-2' class='sentence'>On failure a valid
<span class='texttt'><span class='keyword'>void</span><span class='operator'>*</span><span class='operator'>&amp;</span></span>
initialized to 0<a class='hidden_link' href='#storage-8.sentence-2'>.</a></div></div></div></div><div class='para' id='storage-9'><div class='marginalizedparent'><a class='marginalized' href='#storage-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1560'>#</a></div><div class='texpara'><div id='storage-9.sentence-1' class='sentence'><i >Remarks</i>: After a subsequent call to
<span class='texttt'>pword<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span>
for the same object, the earlier return value may no longer be valid<a class='hidden_link' href='#storage-9.sentence-1'>.</a></div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-269'><div class='texpara'><a class='footnotenum' href='#footnote-269'>269)</a><a class='footnoteBacklink' href='#footnoteref-269'>269)</a> <div id='footnote-269.sentence-1' class='sentence'>An implementation is free to implement both the integer
array pointed at by <span class='texttt'>iarray</span> and the pointer array pointed at by
<span class='texttt'>parray</span> as sparse data structures, possibly with a one-element
cache for each<a class='hidden_link' href='#footnote-269.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-270'><div class='texpara'><a class='footnotenum' href='#footnote-270'>270)</a><a class='footnoteBacklink' href='#footnoteref-270'>270)</a> <div id='footnote-270.sentence-1' class='sentence'>For example, because it cannot allocate space<a class='hidden_link' href='#footnote-270.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-271'><div class='texpara'><a class='footnotenum' href='#footnote-271'>271)</a><a class='footnoteBacklink' href='#footnoteref-271'>271)</a> <div id='footnote-271.sentence-1' class='sentence'>For example, because it cannot allocate space<a class='hidden_link' href='#footnote-271.sentence-1'>.</a></div></div></div></div><div id='callback' class='section'><h4 ><a class='secnum' href='#callback' style='min-width:95pt'>31.5.2.7</a> Callbacks <a class='abbr_ref' href='ios.base.callback'>[ios.base.callback]</a></h4><div class='texpara'><div id='lib:ios_base,register_callback'><div id='lib:register_callback,ios_base'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:register_callback,ios_base'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> register_callback<span class='parenthesis'>(</span>event_callback fn, <span class='keyword'>int</span> idx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='callback-1'><div class='marginalizedparent'><a class='marginalized' href='#callback-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1575'>#</a></div><div class='texpara'><div id='callback-1.sentence-1' class='sentence'><i >Preconditions</i>: The function
<span class='texttt'>fn</span>
does not throw exceptions<a class='hidden_link' href='#callback-1.sentence-1'>.</a></div></div></div></div><div class='para' id='callback-2'><div class='marginalizedparent'><a class='marginalized' href='#callback-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1581'>#</a></div><div class='texpara'><div id='callback-2.sentence-1' class='sentence'><i >Effects</i>: Registers the pair
<span class='texttt'><span class='parenthesis'>(</span>fn, idx<span class='parenthesis'>)</span></span>
such that during calls to
<span class='texttt'>imbue<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#locales' title='31.5.2.4&emsp;Functions'>[ios.<span class='shy'></span>base.<span class='shy'></span>locales]</a>),
<span class='texttt'>copyfmt<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
or
<span class='texttt'><span class='operator'>~</span>ios_<span class='shy'></span>base<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#cons' title='31.5.2.8&emsp;Constructors and destructor'>[ios.<span class='shy'></span>base.<span class='shy'></span>cons]</a>),
the function
<span class='texttt'>fn</span>
is called with argument
<span class='texttt'>idx</span><a class='hidden_link' href='#callback-2.sentence-1'>.</a></div> <div id='callback-2.sentence-2' class='sentence'>Functions registered are called when an event occurs, in opposite order of
registration<a class='hidden_link' href='#callback-2.sentence-2'>.</a></div> <div id='callback-2.sentence-3' class='sentence'>Functions registered while a callback function is active are not called until the next event<a class='hidden_link' href='#callback-2.sentence-3'>.</a></div></div></div></div><div class='para' id='callback-3'><div class='marginalizedparent'><a class='marginalized' href='#callback-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1598'>#</a></div><div class='texpara'><div id='callback-3.sentence-1' class='sentence'><i >Remarks</i>: Identical pairs are not merged<a class='hidden_link' href='#callback-3.sentence-1'>.</a></div> <div id='callback-3.sentence-2' class='sentence'>A function registered twice will be called twice<a class='hidden_link' href='#callback-3.sentence-2'>.</a></div></div></div></div></div><div id='cons' class='section'><h4 ><a class='secnum' href='#cons' style='min-width:95pt'>31.5.2.8</a> Constructors and destructor <a class='abbr_ref' href='ios.base.cons'>[ios.base.cons]</a></h4><div class='texpara'><div id='lib:ios_base,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base,constructor'>ðŸ”—</a></div><code class='itemdeclcode'>ios_base<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='cons-1'><div class='marginalizedparent'><a class='marginalized' href='#cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1612'>#</a></div><div class='texpara'><div id='cons-1.sentence-1' class='sentence'><i >Effects</i>: Each
<span class='texttt'>ios_<span class='shy'></span>base</span>
member has an indeterminate value after construction<a class='hidden_link' href='#cons-1.sentence-1'>.</a></div> <div id='cons-1.sentence-2' class='sentence'>The object's members shall be initialized by calling
<span class='texttt'>basic_<span class='shy'></span>ios<span class='operator'>&#x200b;::&#x200b;</span>init</span>
before the object's first use or before it is destroyed, whichever comes first; otherwise
the behavior is undefined<a class='hidden_link' href='#cons-1.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:ios_base,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ios_base,destructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='operator'>~</span>ios_base<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='cons-2'><div class='marginalizedparent'><a class='marginalized' href='#cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L1629'>#</a></div><div class='texpara'><div id='cons-2.sentence-1' class='sentence'><i >Effects</i>: Calls each registered callback pair
<span class='texttt'><span class='parenthesis'>(</span>fn, idx<span class='parenthesis'>)</span></span> (<a href='#callback' title='31.5.2.7&emsp;Callbacks'>[ios.<span class='shy'></span>base.<span class='shy'></span>callback]</a>) as
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>fn<span class='parenthesis'>)</span><span class='parenthesis'>(</span>&#x200b;erase_<span class='shy'></span>event, <span class='operator'>*</span><span class='keyword'>this</span>, idx<span class='parenthesis'>)</span></span>
at such time that any
<span class='texttt'>ios_<span class='shy'></span>base</span>
member function called from within
<span class='texttt'>fn</span>
has well-defined results<a class='hidden_link' href='#cons-2.sentence-1'>.</a></div> <div id='cons-2.sentence-2' class='sentence'>Then, any memory obtained is deallocated<a class='hidden_link' href='#cons-2.sentence-2'>.</a></div></div></div></div></div></div></body></html>