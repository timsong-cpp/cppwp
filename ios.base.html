<!DOCTYPE html><html lang='en'><head><title>[ios.base]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>27</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>27.5</a> Iostreams base classes <a class='abbr_ref' href='iostreams.base#ios.base'>[iostreams.base]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>27.5.3</a> Class <span class='texttt'>ios_&shy;base</span> <a class='abbr_ref'>[ios.base]</a></h3><div id='lib:ios_base'>
<pre class='codeblock'>
namespace std {
  class ios_base {
  public:
    class failure; <span class='comment'>// see below
</span>
    <span class='comment'>// <a href='#ios::fmtflags'>[ios::fmtflags]</a>, <span class='tcode_in_codeblock'>fmtflags</span>
</span>    using fmtflags = <span class='textit'>T1</span>;
    static constexpr fmtflags boolalpha = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags dec = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags fixed = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags hex = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags internal = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags left = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags oct = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags right = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags scientific = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags showbase = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags showpoint = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags showpos = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags skipws = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags unitbuf = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags uppercase = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr fmtflags adjustfield = <span class='textit'><span class='texttt'>see below</span></span>;
    static constexpr fmtflags basefield = <span class='textit'><span class='texttt'>see below</span></span>;
    static constexpr fmtflags floatfield = <span class='textit'><span class='texttt'>see below</span></span>;

    <span class='comment'>// <a href='#ios::iostate'>[ios::iostate]</a>, <span class='tcode_in_codeblock'>iostate</span>
</span>    using iostate = <span class='textit'>T2</span>;
    static constexpr iostate badbit = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr iostate eofbit = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr iostate failbit = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr iostate goodbit = <span class='textit'><span class='texttt'>see below</span></span>;

    <span class='comment'>// <a href='#ios::openmode'>[ios::openmode]</a>, <span class='tcode_in_codeblock'>openmode</span>
</span>    using openmode = <span class='textit'>T3</span>;
    static constexpr openmode app = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr openmode ate = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr openmode binary = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr openmode in = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr openmode out = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr openmode trunc = <span class='textit'><span class='texttt'>unspecified</span></span>;

    <span class='comment'>// <a href='#ios::seekdir'>[ios::seekdir]</a>, <span class='tcode_in_codeblock'>seekdir</span>
</span>    using seekdir = <span class='textit'>T4</span>;
    static constexpr seekdir beg = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr seekdir cur = <span class='textit'><span class='texttt'>unspecified</span></span>;
    static constexpr seekdir end = <span class='textit'><span class='texttt'>unspecified</span></span>;

    class Init;

    <span class='comment'>// <a href='#fmtflags.state'>[fmtflags.state]</a>, <span class='tcode_in_codeblock'>fmtflags</span> state
</span>    fmtflags flags() const;
    fmtflags flags(fmtflags fmtfl);
    fmtflags setf(fmtflags fmtfl);
    fmtflags setf(fmtflags fmtfl, fmtflags mask);
    void unsetf(fmtflags mask);

    streamsize precision() const;
    streamsize precision(streamsize prec);
    streamsize width() const;
    streamsize width(streamsize wide);

    <span class='comment'>// <a href='#locales'>[ios.base.locales]</a>, locales
</span>    locale imbue(const locale&amp; loc);
    locale getloc() const;

    <span class='comment'>// <a href='#storage'>[ios.base.storage]</a>, storage
</span>    static int xalloc();
    long&amp;  iword(int idx);
    void*&amp; pword(int idx);

    <span class='comment'>// destructor
</span>    virtual ~ios_base();

    <span class='comment'>// <a href='#callback'>[ios.base.callback]</a>, callbacks
</span>    enum event { erase_event, imbue_event, copyfmt_event };
    using event_callback = void (*)(event, ios_base&amp;, int idx);
    void register_callback(event_callback fn, int idx);

    ios_base(const ios_base&amp;) = delete;
    ios_base&amp; operator=(const ios_base&amp;) = delete;

    static bool sync_with_stdio(bool sync = true);

  protected:
    ios_base();

  private:
    static int index;  <span class='comment'>// <span class='textit'>exposition only</span>
</span>    long*  iarray;     <span class='comment'>// <span class='textit'>exposition only</span>
</span>    void** parray;     <span class='comment'>// <span class='textit'>exposition only</span>
</span>  };
}</pre>
</div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L843'>#</a></div><div id='1.sentence-1' class='sentence'><span class='texttt'>ios_&shy;base</span>
defines several member types:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div><div id='1.1.sentence-1' class='sentence'>a type <span class='texttt'>failure</span>, defined as either a class derived from
<span class='texttt'>system_&shy;error</span> or a synonym for a class derived from <span class='texttt'>system_&shy;error</span>;</div></li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div><div id='1.2.sentence-1' class='sentence'>a class <span class='texttt'>Init</span>;</div></li><li id='1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.3'>(1.3)</a></div><div id='1.3.sentence-1' class='sentence'>three bitmask types, <span class='texttt'>fmtflags</span>, <span class='texttt'>iostate</span>, and <span class='texttt'>openmode</span>;</div></li><li id='1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.4'>(1.4)</a></div><div id='1.4.sentence-1' class='sentence'>an enumerated type, <span class='texttt'>seekdir</span><a class='hidden_link' href='#1.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L857'>#</a></div><div id='2.sentence-1' class='sentence'>It maintains several kinds of data:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div><div id='2.1.sentence-1' class='sentence'>state information that reflects the integrity of the stream buffer;</div></li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div><div id='2.2.sentence-1' class='sentence'>control information that influences how to interpret (format) input
sequences and how to generate (format) output sequences;</div></li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div><div id='2.3.sentence-1' class='sentence'>additional information that is stored by the program for its private use<a class='hidden_link' href='#2.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L869'>#</a></div><div id='3.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-1' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><div id='3.1.sentence-1' class='sentence'><span class='texttt'>static int index</span>,
specifies the next available
unique index for the integer or pointer arrays maintained for the private use
of the program, initialized to an unspecified value;</div></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><div id='3.2.sentence-1' class='sentence'><span class='texttt'>long* iarray</span>,
points to the first element of an
arbitrary-length
<span class='texttt'>long</span>
array maintained for the private use of the
program;</div></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><div id='3.3.sentence-1' class='sentence'><span class='texttt'>void** parray</span>,
points to the first element of an
arbitrary-length pointer array maintained for the private use of the program<a class='hidden_link' href='#3.3.sentence-1'>.</a></div></li></ul></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div id='ios.types' class='section'><h4 ><a class='secnum' href='#ios.types' style='min-width:118pt'>27.5.3.1</a> Types <a class='abbr_ref' href='ios.types'>[ios.types]</a></h4><div id='ios::failure' class='section'><h4 ><a class='secnum' href='#ios::failure' style='min-width:133pt'>27.5.3.1.1</a> Class <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;failure</span> <a class='abbr_ref' href='./ios::failure'>[ios::failure]</a></h4><span class='indexparent'><a class='index' id='lib:ios_base::failure'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,failure'></a></span><pre class='codeblock'>
namespace std {
  class ios_base::failure : public system_error {
  public:
    explicit failure(const string&amp; msg, const error_code&amp; ec = io_errc::stream);
    explicit failure(const char* msg, const error_code&amp; ec = io_errc::stream);
  };
}</pre><div class='para' id='ios::failure-1'><div class='marginalizedparent'><a class='marginalized' href='#ios::failure-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L908'>#</a></div><div id='ios::failure-1.sentence-1' class='sentence'>An implementation is permitted to define <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;failure</span>
as a synonym for a class with equivalent functionality
to class <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;failure</span> shown in this subclause<a class='hidden_link' href='#ios::failure-1.sentence-1'>.</a></div> <div id='ios::failure-1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#ios::failure-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ios::failure-1.sentence-3' class='sentence'>When <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;failure</span> is a synonym for another type
it shall provide a nested type <span class='texttt'>failure</span>,
to emulate the injected class name<a class='hidden_link' href='#ios::failure-1.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div>  <div id='ios::failure-1.sentence-2' class='sentence'>
The class
<span class='texttt'>failure</span>
defines the base class
for the types of all objects thrown as exceptions,
by functions in the iostreams library,
to report errors detected during stream buffer operations<a class='hidden_link' href='#ios::failure-1.sentence-2'>.</a></div></div><div class='para' id='ios::failure-2'><div class='marginalizedparent'><a class='marginalized' href='#ios::failure-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L924'>#</a></div><div id='ios::failure-2.sentence-1' class='sentence'>When throwing <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;failure</span> exceptions, implementations should provide
values of <span class='texttt'>ec</span> that identify the specific reason for the failure<a class='hidden_link' href='#ios::failure-2.sentence-1'>.</a></div> <div id='ios::failure-2.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#ios::failure-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ios::failure-2.sentence-2' class='sentence'>Errors arising from the operating system would typically be reported as
<span class='texttt'>system_&shy;category()</span> errors with an error value of the error number
reported by the operating system<a class='hidden_link' href='#ios::failure-2.sentence-2'>.</a></div> <div id='ios::failure-2.sentence-3' class='sentence'>Errors arising from within the stream library would
typically be reported as <span class='texttt'>error_&shy;code(io_&shy;errc&#x200b;::&#x200b;stream,
iostream_&shy;category())</span><a class='hidden_link' href='#ios::failure-2.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> <div id='lib:ios_base::failure,constructor'>
<div class='itemdecl' id='ios::failure-2.itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::failure-2.itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>explicit failure(const string&amp; msg, const error_code&amp; ec = io_errc::stream);
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='ios::failure-3'><div class='marginalizedparent'><a class='marginalized' href='#ios::failure-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L940'>#</a></div><div id='ios::failure-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Constructs an object of class
<span class='texttt'>failure</span> by constructing the base class with <span class='texttt'>msg</span> and <span class='texttt'>ec</span><a class='hidden_link' href='#ios::failure-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:ios_base::failure,constructor_'></a></span><div class='itemdecl' id='ios::failure-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::failure-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>explicit failure(const char* msg, const error_code&amp; ec = io_errc::stream);
</code></div><div class='itemdescr'></div><div class='para' id='ios::failure-4'><div class='marginalizedparent'><a class='marginalized' href='#ios::failure-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L952'>#</a></div><div id='ios::failure-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Constructs an object of class
<span class='texttt'>failure</span> by constructing the base class with <span class='texttt'>msg</span> and <span class='texttt'>ec</span><a class='hidden_link' href='#ios::failure-4.sentence-1'>.</a></div></div></div></div><div id='ios::fmtflags' class='section'><h4 ><a class='secnum' href='#ios::fmtflags' style='min-width:133pt'>27.5.3.1.2</a> Type <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;fmtflags</span> <a class='abbr_ref' href='./ios::fmtflags'>[ios::fmtflags]</a></h4><span class='indexparent'><a class='index' id='lib:fmtflags,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,fmtflags'></a></span><div class='itemdecl' id='ios::fmtflags-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::fmtflags-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>using fmtflags = <span class='textit'>T1</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ios::fmtflags-1'><div class='marginalizedparent'><a class='marginalized' href='#ios::fmtflags-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L966'>#</a></div><div id='ios::fmtflags-1.sentence-1' class='sentence'>The type
<span class='texttt'>fmtflags</span>
is a bitmask type (<a href='bitmask.types'>[bitmask.types]</a>)<a class='hidden_link' href='#ios::fmtflags-1.sentence-1'>.</a></div> <div id='ios::fmtflags-1.sentence-2' class='sentence'>Setting its elements has the effects indicated in Table <a href='#tab:iostreams.fmtflags.effects'>105</a><a class='hidden_link' href='#ios::fmtflags-1.sentence-2'>.</a></div><div class='numberedTable' id='tab:iostreams.fmtflags.effects'>Table <a href='#tab:iostreams.fmtflags.effects'>105</a> â€” <span class='texttt'>fmtflags</span> effects<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='ios::fmtflags-1.sentence-3' class='sentence'><b>Element</b></div></td><td colspan='1' class='center'><div id='ios::fmtflags-1.sentence-4' class='sentence'><b>Effect(s) if set</b></div></td></tr><tr class='capsep'><td class='left'><div id='ios::fmtflags-1.sentence-5' class='sentence'><span class='texttt'>boolalpha</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-6' class='sentence'>insert and extract <span class='texttt'>bool</span> type in alphabetic format</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-7' class='sentence'><span class='texttt'>dec</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-8' class='sentence'>converts integer input or generates integer output in decimal base</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-9' class='sentence'><span class='texttt'>fixed</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-10' class='sentence'>generate floating-point output in fixed-point notation</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-11' class='sentence'><span class='texttt'>hex</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-12' class='sentence'>converts integer input or generates integer output in hexadecimal base</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-13' class='sentence'><span class='texttt'>internal</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-14' class='sentence'>adds fill characters at a designated internal point in certain generated output,
 or identical to <span class='texttt'>right</span> if no such point is designated</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-15' class='sentence'><span class='texttt'>left</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-16' class='sentence'>adds fill characters on the right (final positions) of certain generated output</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-17' class='sentence'><span class='texttt'>oct</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-18' class='sentence'>converts integer input or generates integer output in octal base</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-19' class='sentence'><span class='texttt'>right</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-20' class='sentence'>adds fill characters on the left (initial positions) of certain generated output</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-21' class='sentence'><span class='texttt'>scientific</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-22' class='sentence'>generates floating-point output in scientific notation</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-23' class='sentence'><span class='texttt'>showbase</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-24' class='sentence'>generates a prefix indicating the numeric base of generated integer output</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-25' class='sentence'><span class='texttt'>showpoint</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-26' class='sentence'>generates a decimal-point character unconditionally in generated floating-point output</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-27' class='sentence'><span class='texttt'>showpos</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-28' class='sentence'>generates a <span class='texttt'>+</span> sign in non-negative generated numeric output</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-29' class='sentence'><span class='texttt'>skipws</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-30' class='sentence'>skips leading whitespace before certain input operations</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-31' class='sentence'><span class='texttt'>unitbuf</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-32' class='sentence'>flushes output after each output operation</div></td></tr><tr ><td class='left'><div id='ios::fmtflags-1.sentence-33' class='sentence'><span class='texttt'>uppercase</span></div></td><td class='justify'><div id='ios::fmtflags-1.sentence-34' class='sentence'>replaces certain lowercase letters with their uppercase equivalents in generated output</div></td></tr></table></div></div></div><div class='para' id='ios::fmtflags-2'><div class='marginalizedparent'><a class='marginalized' href='#ios::fmtflags-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1006'>#</a></div><div id='ios::fmtflags-2.sentence-1' class='sentence'>Type
<span class='texttt'>fmtflags</span>
also defines the constants indicated in Table <a href='#tab:iostreams.fmtflags.constants'>106</a><a class='hidden_link' href='#ios::fmtflags-2.sentence-1'>.</a></div><div class='numberedTable' id='tab:iostreams.fmtflags.constants'>Table <a href='#tab:iostreams.fmtflags.constants'>106</a> â€” <span class='texttt'>fmtflags</span> constants<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='ios::fmtflags-2.sentence-2' class='sentence'><b>Constant</b></div></td><td colspan='1' class='center'><div id='ios::fmtflags-2.sentence-3' class='sentence'><b>Allowable values</b></div></td></tr><tr class='capsep'><td class='left'><div id='ios::fmtflags-2.sentence-4' class='sentence'><span class='texttt'>adjustfield</span></div></td><td class='left'><div id='ios::fmtflags-2.sentence-5' class='sentence'><span class='texttt'>left | right | internal</span></div></td></tr><tr ><td class='left'><div id='ios::fmtflags-2.sentence-6' class='sentence'><span class='texttt'>basefield</span></div></td><td class='left'><div id='ios::fmtflags-2.sentence-7' class='sentence'><span class='texttt'>dec | oct | hex</span></div></td></tr><tr ><td class='left'><div id='ios::fmtflags-2.sentence-8' class='sentence'><span class='texttt'>floatfield</span></div></td><td class='left'><div id='ios::fmtflags-2.sentence-9' class='sentence'><span class='texttt'>scientific | fixed</span></div></td></tr></table></div></div></div></div><div id='ios::iostate' class='section'><h4 ><a class='secnum' href='#ios::iostate' style='min-width:133pt'>27.5.3.1.3</a> Type <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;iostate</span> <a class='abbr_ref' href='./ios::iostate'>[ios::iostate]</a></h4><span class='indexparent'><a class='index' id='lib:iostate,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,iostate'></a></span><div class='itemdecl' id='ios::iostate-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::iostate-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>using iostate = <span class='textit'>T2</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ios::iostate-1'><div class='marginalizedparent'><a class='marginalized' href='#ios::iostate-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1029'>#</a></div><div id='ios::iostate-1.sentence-1' class='sentence'>The type
<span class='texttt'>iostate</span>
is a bitmask type (<a href='bitmask.types'>[bitmask.types]</a>)
that contains the elements indicated in Table <a href='#tab:iostreams.iostate.effects'>107</a><a class='hidden_link' href='#ios::iostate-1.sentence-1'>.</a></div><div class='numberedTable' id='tab:iostreams.iostate.effects'>Table <a href='#tab:iostreams.iostate.effects'>107</a> â€” <span class='texttt'>iostate</span> effects<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='ios::iostate-1.sentence-2' class='sentence'><b>Element</b></div></td><td colspan='1' class='center'><div id='ios::iostate-1.sentence-3' class='sentence'><b>Effect(s) if set</b></div></td></tr><tr class='capsep'><td class='left'><div id='ios::iostate-1.sentence-4' class='sentence'><span class='texttt'>badbit</span></div></td><td class='justify'><div id='ios::iostate-1.sentence-5' class='sentence'>indicates a loss of integrity in an input or output sequence
 (such as an irrecoverable read error from a file);</div></td></tr><tr ><td class='left'><div id='ios::iostate-1.sentence-6' class='sentence'><span class='texttt'>eofbit</span></div></td><td class='justify'><div id='ios::iostate-1.sentence-7' class='sentence'>indicates that an input operation reached the end of an input sequence;</div></td></tr><tr ><td class='left'><div id='ios::iostate-1.sentence-8' class='sentence'><span class='texttt'>failbit</span></div></td><td class='justify'><div id='ios::iostate-1.sentence-9' class='sentence'>indicates that an input operation failed to read the expected characters,
 or that an output operation failed to generate the desired characters<a class='hidden_link' href='#ios::iostate-1.sentence-9'>.</a></div></td></tr></table></div></div></div><div class='para' id='ios::iostate-2'><div class='marginalizedparent'><a class='marginalized' href='#ios::iostate-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1046'>#</a></div><div id='ios::iostate-2.sentence-1' class='sentence'>Type
<span class='texttt'>iostate</span>
also defines the constant:
<ul class='itemize'><li id='ios::iostate-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ios::iostate-2.1'>(2.1)</a></div><div id='ios::iostate-2.1.sentence-1' class='sentence'><span class='texttt'>goodbit</span>,
the value zero<a class='hidden_link' href='#ios::iostate-2.1.sentence-1'>.</a></div></li></ul></div></div></div></div><div id='ios::openmode' class='section'><h4 ><a class='secnum' href='#ios::openmode' style='min-width:133pt'>27.5.3.1.4</a> Type <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;openmode</span> <a class='abbr_ref' href='./ios::openmode'>[ios::openmode]</a></h4><div id='lib:ios_base,openmode'><div id='lib:openmode,ios_base'>
<div class='itemdecl' id='ios::openmode-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::openmode-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>using openmode = <span class='textit'>T3</span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='ios::openmode-1'><div class='marginalizedparent'><a class='marginalized' href='#ios::openmode-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1066'>#</a></div><div id='ios::openmode-1.sentence-1' class='sentence'>The type
<span class='texttt'>openmode</span>
is a bitmask type (<a href='bitmask.types'>[bitmask.types]</a>)<a class='hidden_link' href='#ios::openmode-1.sentence-1'>.</a></div> <div id='ios::openmode-1.sentence-2' class='sentence'>It contains the elements indicated in Table <a href='#tab:iostreams.openmode.effects'>108</a><a class='hidden_link' href='#ios::openmode-1.sentence-2'>.</a></div><div class='numberedTable' id='tab:iostreams.openmode.effects'>Table <a href='#tab:iostreams.openmode.effects'>108</a> â€” <span class='texttt'>openmode</span> effects<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='ios::openmode-1.sentence-3' class='sentence'><b>Element</b></div></td><td colspan='1' class='center'><div id='ios::openmode-1.sentence-4' class='sentence'><b>Effect(s) if set</b></div></td></tr><tr class='capsep'><td class='left'><div id='ios::openmode-1.sentence-5' class='sentence'><span class='texttt'>app</span></div></td><td class='justify'><div id='ios::openmode-1.sentence-6' class='sentence'>seek to end before each write</div></td></tr><tr ><td class='left'><div id='ios::openmode-1.sentence-7' class='sentence'><span class='texttt'>ate</span></div></td><td class='justify'><div id='ios::openmode-1.sentence-8' class='sentence'>open and seek to end immediately after opening</div></td></tr><tr ><td class='left'><div id='ios::openmode-1.sentence-9' class='sentence'><span class='texttt'>binary</span></div></td><td class='justify'><div id='ios::openmode-1.sentence-10' class='sentence'>perform input and output in binary mode (as opposed to text mode)</div></td></tr><tr ><td class='left'><div id='ios::openmode-1.sentence-11' class='sentence'><span class='texttt'>in</span></div></td><td class='justify'><div id='ios::openmode-1.sentence-12' class='sentence'>open for input</div></td></tr><tr ><td class='left'><div id='ios::openmode-1.sentence-13' class='sentence'><span class='texttt'>out</span></div></td><td class='justify'><div id='ios::openmode-1.sentence-14' class='sentence'>open for output</div></td></tr><tr ><td class='left'><div id='ios::openmode-1.sentence-15' class='sentence'><span class='texttt'>trunc</span></div></td><td class='justify'><div id='ios::openmode-1.sentence-16' class='sentence'>truncate an existing stream when opening</div></td></tr></table></div></div></div></div><div id='ios::seekdir' class='section'><h4 ><a class='secnum' href='#ios::seekdir' style='min-width:133pt'>27.5.3.1.5</a> Type <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;seekdir</span> <a class='abbr_ref' href='./ios::seekdir'>[ios::seekdir]</a></h4><div id='lib:ios_base,seekdir'><div id='lib:seekdir,ios_base'>
<div class='itemdecl' id='ios::seekdir-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::seekdir-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>using seekdir = <span class='textit'>T4</span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='ios::seekdir-1'><div class='marginalizedparent'><a class='marginalized' href='#ios::seekdir-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1097'>#</a></div><div id='ios::seekdir-1.sentence-1' class='sentence'>The type
<span class='texttt'>seekdir</span>
is an enumerated type (<a href='enumerated.types'>[enumerated.types]</a>)
that contains the elements indicated in Table <a href='#tab:iostreams.seekdir.effects'>109</a><a class='hidden_link' href='#ios::seekdir-1.sentence-1'>.</a></div><div class='numberedTable' id='tab:iostreams.seekdir.effects'>Table <a href='#tab:iostreams.seekdir.effects'>109</a> â€” <span class='texttt'>seekdir</span> effects<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='ios::seekdir-1.sentence-2' class='sentence'><b>Element</b></div></td><td colspan='1' class='center'><div id='ios::seekdir-1.sentence-3' class='sentence'><b>Meaning</b></div></td></tr><tr class='capsep'><td class='left'><div id='ios::seekdir-1.sentence-4' class='sentence'><span class='texttt'>beg</span></div></td><td class='justify'><div id='ios::seekdir-1.sentence-5' class='sentence'>request a seek (for subsequent input or output) relative to the beginning of the stream</div></td></tr><tr ><td class='left'><div id='ios::seekdir-1.sentence-6' class='sentence'><span class='texttt'>cur</span></div></td><td class='justify'><div id='ios::seekdir-1.sentence-7' class='sentence'>request a seek relative to the current position within the sequence</div></td></tr><tr ><td class='left'><div id='ios::seekdir-1.sentence-8' class='sentence'><span class='texttt'>end</span></div></td><td class='justify'><div id='ios::seekdir-1.sentence-9' class='sentence'>request a seek relative to the current end of the sequence</div></td></tr></table></div></div></div></div><div id='ios::Init' class='section'><h4 ><a class='secnum' href='#ios::Init' style='min-width:133pt'>27.5.3.1.6</a> Class <span class='texttt'>ios_&shy;base&#x200b;::&#x200b;Init</span> <a class='abbr_ref' href='./ios::Init'>[ios::Init]</a></h4><span class='indexparent'><a class='index' id='lib:ios_base::Init'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,Init'></a></span><pre class='codeblock'>
namespace std {
  class ios_base::Init {
  public:
    Init();
    Init(const Init&amp;) = default;
    ~Init();
    Init&amp; operator=(const Init&amp;) = default;
  private:
    static int init_cnt; <span class='comment'>// <span class='textit'>exposition only</span>
</span>  };
}</pre><div class='para' id='ios::Init-1'><div class='marginalizedparent'><a class='marginalized' href='#ios::Init-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1131'>#</a></div><div id='ios::Init-1.sentence-1' class='sentence'>The class
<span class='texttt'>Init</span>
describes an object whose construction
ensures the construction of the eight objects declared in
<span class='texttt'>&lt;iostream&gt;</span> (<a href='iostream.objects'>[iostream.objects]</a>) that associate file
stream buffers with the standard C streams
provided for by the functions declared in
<a href='cstdio.syn'><span class='texttt'>&lt;cstdio&gt;</span></a><a class='hidden_link' href='#ios::Init-1.sentence-1'>.</a></div></div><div class='para' id='ios::Init-2'><div class='marginalizedparent'><a class='marginalized' href='#ios::Init-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1141'>#</a></div><div id='ios::Init-2.sentence-1' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='ios::Init-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ios::Init-2.1'>(2.1)</a></div><div id='ios::Init-2.1.sentence-1' class='sentence'><span class='texttt'>static int init_&shy;cnt</span>,
counts the number of
constructor and destructor calls for class
<span class='texttt'>Init</span>,
initialized to zero<a class='hidden_link' href='#ios::Init-2.1.sentence-1'>.</a></div></li></ul></div> <span class='indexparent'><a class='index' id='lib:ios_base::Init,constructor'></a></span></div><div class='itemdecl' id='ios::Init-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::Init-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>Init();
</code></div><div class='itemdescr'></div><div class='para' id='ios::Init-3'><div class='marginalizedparent'><a class='marginalized' href='#ios::Init-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1158'>#</a></div><div id='ios::Init-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Constructs an object of class
<span class='texttt'>Init</span><a class='hidden_link' href='#ios::Init-3.sentence-1'>.</a></div> <div id='ios::Init-3.sentence-2' class='sentence'>Constructs and initializes the objects <span class='texttt'>cin</span>, <span class='texttt'>cout</span>, <span class='texttt'>cerr</span>,
<span class='texttt'>clog</span>, <span class='texttt'>wcin</span>, <span class='texttt'>wcout</span>, <span class='texttt'>wcerr</span>, and <span class='texttt'>wclog</span> if
they have not already been constructed and initialized<a class='hidden_link' href='#ios::Init-3.sentence-2'>.</a></div></div></div><div id='lib:ios_base::Init,destructor'>
<div class='itemdecl' id='ios::Init-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios::Init-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>~Init();
</code></div>
</div><div class='itemdescr'></div><div class='para' id='ios::Init-4'><div class='marginalizedparent'><a class='marginalized' href='#ios::Init-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1174'>#</a></div><div id='ios::Init-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Destroys an object of class
<span class='texttt'>Init</span><a class='hidden_link' href='#ios::Init-4.sentence-1'>.</a></div> <div id='ios::Init-4.sentence-2' class='sentence'>If there are no other instances of the class still in existence,
calls
<span class='indexparent'><a class='index' id='lib:flush'></a></span><span class='texttt'>cout.flush()</span>,
<span class='texttt'>cerr.flush()</span>,
<span class='texttt'>clog.flush()</span>,
<span class='texttt'>wcout.flush()</span>,
<span class='texttt'>wcerr.flush()</span>,
<span class='texttt'>wclog.flush()</span><a class='hidden_link' href='#ios::Init-4.sentence-2'>.</a></div></div></div></div></div><div id='fmtflags.state' class='section'><h4 ><a class='secnum' href='#fmtflags.state' style='min-width:118pt'>27.5.3.2</a> <span class='texttt'>ios_&shy;base</span> state functions <a class='abbr_ref' href='fmtflags.state'>[fmtflags.state]</a></h4><span class='indexparent'><a class='index' id='lib:flags,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,flags'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags flags() const;
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-1'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1197'>#</a></div><div id='fmtflags.state-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The format control information for both input and output<a class='hidden_link' href='#fmtflags.state-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:flags,ios_base_'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,flags_'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags flags(fmtflags fmtfl);
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-2'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1208'>#</a></div><div id='fmtflags.state-2.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>fmtfl == flags()</span><a class='hidden_link' href='#fmtflags.state-2.sentence-1'>.</a></div></div></div><div class='para' id='fmtflags.state-3'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1212'>#</a></div><div id='fmtflags.state-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The previous value of
<span class='texttt'>flags()</span><a class='hidden_link' href='#fmtflags.state-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:setf,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,setf'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags setf(fmtflags fmtfl);
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-4'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1224'>#</a></div><div id='fmtflags.state-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Sets <span class='texttt'>fmtfl</span> in
<span class='texttt'>flags()</span><a class='hidden_link' href='#fmtflags.state-4.sentence-1'>.</a></div></div></div><div class='para' id='fmtflags.state-5'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1229'>#</a></div><div id='fmtflags.state-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The previous value of
<span class='texttt'>flags()</span><a class='hidden_link' href='#fmtflags.state-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:setf,ios_base_'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,setf_'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>fmtflags setf(fmtflags fmtfl, fmtflags mask);
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-6'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1241'>#</a></div><div id='fmtflags.state-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Clears <span class='texttt'>mask</span> in
<span class='texttt'>flags()</span>,
sets
<span class='texttt'>fmtfl &amp; mask</span>
in
<span class='texttt'>flags()</span><a class='hidden_link' href='#fmtflags.state-6.sentence-1'>.</a></div></div></div><div class='para' id='fmtflags.state-7'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1250'>#</a></div><div id='fmtflags.state-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The previous value of
<span class='texttt'>flags()</span><a class='hidden_link' href='#fmtflags.state-7.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:unsetf,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,unsetf'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>void unsetf(fmtflags mask);
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-8'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1262'>#</a></div><div id='fmtflags.state-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Clears <span class='texttt'>mask</span> in
<span class='texttt'>flags()</span><a class='hidden_link' href='#fmtflags.state-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:precision,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,precision'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize precision() const;
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-9'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1274'>#</a></div><div id='fmtflags.state-9.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The precision
to generate on certain output conversions<a class='hidden_link' href='#fmtflags.state-9.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:precision,ios_base_'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,precision_'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:7'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize precision(streamsize prec);
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-10'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1286'>#</a></div><div id='fmtflags.state-10.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>prec == precision()</span><a class='hidden_link' href='#fmtflags.state-10.sentence-1'>.</a></div></div></div><div class='para' id='fmtflags.state-11'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1290'>#</a></div><div id='fmtflags.state-11.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The previous value of
<span class='texttt'>precision()</span><a class='hidden_link' href='#fmtflags.state-11.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:width,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,width'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:8'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize width() const;
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-12'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1302'>#</a></div><div id='fmtflags.state-12.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The minimum field width (number of characters) to generate on certain output
conversions<a class='hidden_link' href='#fmtflags.state-12.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:width,ios_base_'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,width_'></a></span><div class='itemdecl' id='fmtflags.state-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmtflags.state-itemdecl:9'>ðŸ”—</a></div><code class='itemdeclcode'>streamsize width(streamsize wide);
</code></div><div class='itemdescr'></div><div class='para' id='fmtflags.state-13'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1314'>#</a></div><div id='fmtflags.state-13.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>wide == width()</span><a class='hidden_link' href='#fmtflags.state-13.sentence-1'>.</a></div></div></div><div class='para' id='fmtflags.state-14'><div class='marginalizedparent'><a class='marginalized' href='#fmtflags.state-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1318'>#</a></div><div id='fmtflags.state-14.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The previous value of
<span class='texttt'>width()</span><a class='hidden_link' href='#fmtflags.state-14.sentence-1'>.</a></div></div></div></div><div id='locales' class='section'><h4 ><a class='secnum' href='#locales' style='min-width:118pt'>27.5.3.3</a> <span class='texttt'>ios_&shy;base</span> functions <a class='abbr_ref' href='ios.base.locales'>[ios.base.locales]</a></h4><div id='lib:ios_base,imbue'><div id='lib:imbue,ios_base'>
<div class='itemdecl' id='locales-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#locales-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>locale imbue(const locale&amp; loc);
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='locales-1'><div class='marginalizedparent'><a class='marginalized' href='#locales-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1333'>#</a></div><div id='locales-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls each registered callback pair
<span class='texttt'>(fn, idx)</span> (<a href='#callback'>[ios.base.callback]</a>)
as
<span class='texttt'>(*fn)(imbue_&shy;event, *this, idx)</span>
at such a time that a call to
<span class='texttt'>ios_&shy;base&#x200b;::&#x200b;getloc()</span>
from within
<span class='texttt'>fn</span>
returns the new locale value
<span class='texttt'>loc</span><a class='hidden_link' href='#locales-1.sentence-1'>.</a></div></div></div><div class='para' id='locales-2'><div class='marginalizedparent'><a class='marginalized' href='#locales-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1346'>#</a></div><div id='locales-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The previous value of
<span class='texttt'>getloc()</span><a class='hidden_link' href='#locales-2.sentence-1'>.</a></div></div></div><div class='para' id='locales-3'><div class='marginalizedparent'><a class='marginalized' href='#locales-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1351'>#</a></div><div id='locales-3.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>loc == getloc()</span><a class='hidden_link' href='#locales-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:getloc,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,getloc'></a></span><div class='itemdecl' id='locales-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#locales-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>locale getloc() const;
</code></div><div class='itemdescr'></div><div class='para' id='locales-4'><div class='marginalizedparent'><a class='marginalized' href='#locales-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1362'>#</a></div><div id='locales-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If no locale has been imbued, a copy of the global C++ locale,
<span class='texttt'>locale()</span>,
in effect at the time of construction<a class='hidden_link' href='#locales-4.sentence-1'>.</a></div> <div id='locales-4.sentence-2' class='sentence'>Otherwise, returns the imbued locale, to be used to
perform locale-dependent input and output operations<a class='hidden_link' href='#locales-4.sentence-2'>.</a></div></div></div></div><div id='ios.members.static' class='section'><h4 ><a class='secnum' href='#ios.members.static' style='min-width:118pt'>27.5.3.4</a> <span class='texttt'>ios_&shy;base</span> static members <a class='abbr_ref' href='ios.members.static'>[ios.members.static]</a></h4><span class='indexparent'><a class='index' id='lib:sync_with_stdio,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,sync_with_stdio'></a></span><div class='itemdecl' id='ios.members.static-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ios.members.static-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>bool sync_with_stdio(bool sync = true);
</code></div><div class='itemdescr'></div><div class='para' id='ios.members.static-1'><div class='marginalizedparent'><a class='marginalized' href='#ios.members.static-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1379'>#</a></div><div id='ios.members.static-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>true</span>
if the previous state of the <a href='iostream.objects'>standard iostream objects</a>
was synchronized and otherwise returns
<span class='texttt'>false</span><a class='hidden_link' href='#ios.members.static-1.sentence-1'>.</a></div> <div id='ios.members.static-1.sentence-2' class='sentence'>The first time it is called,
the function returns
<span class='texttt'>true</span><a class='hidden_link' href='#ios.members.static-1.sentence-2'>.</a></div></div></div><div class='para' id='ios.members.static-2'><div class='marginalizedparent'><a class='marginalized' href='#ios.members.static-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1389'>#</a></div><div id='ios.members.static-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If any input or output operation has occurred using the standard streams prior to the
call, the effect is
<span class='indexparent'><a class='index' id=':effect_of_calling_ios_base::sync_with_stdio_after_any_input_or_output_operation_on_standard_streams'></a></span>implementation-defined<a class='hidden_link' href='#ios.members.static-2.sentence-1'>.</a></div> <div id='ios.members.static-2.sentence-2' class='sentence'>Otherwise, called with a <span class='texttt'>false</span> argument, it allows the standard streams to
operate independently of the standard C streams<a class='hidden_link' href='#ios.members.static-2.sentence-2'>.</a></div></div></div><div class='para' id='ios.members.static-3'><div class='marginalizedparent'><a class='marginalized' href='#ios.members.static-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1398'>#</a></div><div id='ios.members.static-3.sentence-1' class='sentence'>When a standard iostream object <span class='texttt'>str</span> is
<span class='textit'>synchronized</span>
with a standard stdio stream <span class='texttt'>f</span>, the effect of inserting a character <span class='texttt'>c</span> by
<pre class='codeblock'>
fputc(f, c);</pre>
is the same as the effect of
<pre class='codeblock'>
str.rdbuf()-&gt;sputc(c);</pre>
for any sequences of characters; the effect of extracting a character <span class='texttt'>c</span> by
<pre class='codeblock'>
c = fgetc(f);</pre>
is the same as the effect of
<pre class='codeblock'>
c = str.rdbuf()-&gt;sbumpc();</pre>
for any sequences of characters; and the effect of pushing back a character <span class='texttt'>c</span> by
<pre class='codeblock'>
ungetc(c, f);</pre>
is the same as the effect of
<pre class='codeblock'>
str.rdbuf()-&gt;sputbackc(c);</pre>
for any sequence of characters<a class='hidden_link' href='#ios.members.static-3.sentence-1'>.</a><a class='footnotenum' href='#footnote-294'>294</a></div></div></div><div class='footnote' id='footnote-294'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-294'>294)</a></div><div id='footnote-294.sentence-1' class='sentence'>This implies that operations on a standard iostream object can be mixed arbitrarily
with operations on the corresponding stdio stream<a class='hidden_link' href='#footnote-294.sentence-1'>.</a></div> <div id='footnote-294.sentence-2' class='sentence'>In practical terms, synchronization
usually means that a standard iostream object and a standard stdio object share a
buffer<a class='hidden_link' href='#footnote-294.sentence-2'>.</a></div></div></div><div id='storage' class='section'><h4 ><a class='secnum' href='#storage' style='min-width:118pt'>27.5.3.5</a> <span class='texttt'>ios_&shy;base</span> storage functions <a class='abbr_ref' href='ios.base.storage'>[ios.base.storage]</a></h4><span class='indexparent'><a class='index' id='lib:xalloc,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,xalloc'></a></span><div class='itemdecl' id='storage-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#storage-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>static int xalloc();
</code></div><div class='itemdescr'></div><div class='para' id='storage-1'><div class='marginalizedparent'><a class='marginalized' href='#storage-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1440'>#</a></div><div id='storage-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>index</span>
<span class='texttt'>++</span><a class='hidden_link' href='#storage-1.sentence-1'>.</a></div></div></div><div class='para' id='storage-2'><div class='marginalizedparent'><a class='marginalized' href='#storage-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1445'>#</a></div><div id='storage-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Concurrent access to this function by multiple threads shall not result in a
<a href='intro.multithread#def:data_race'>data race</a><a class='hidden_link' href='#storage-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:iword,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,iword'></a></span><div class='itemdecl' id='storage-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#storage-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>long&amp; iword(int idx);
</code></div><div class='itemdescr'></div><div class='para' id='storage-3'><div class='marginalizedparent'><a class='marginalized' href='#storage-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1457'>#</a></div><div id='storage-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>idx</span> is a value obtained by a call to <span class='texttt'>xalloc</span><a class='hidden_link' href='#storage-3.sentence-1'>.</a></div></div></div><div class='para' id='storage-4'><div class='marginalizedparent'><a class='marginalized' href='#storage-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1461'>#</a></div><div id='storage-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>iarray</span> is a null pointer, allocates an array of
<span class='texttt'>long</span>
of unspecified size and stores a pointer to its first element in
<span class='texttt'>iarray</span><a class='hidden_link' href='#storage-4.sentence-1'>.</a></div> <div id='storage-4.sentence-2' class='sentence'>The function then extends the array pointed at by
<span class='texttt'>iarray</span> as necessary to include the element
<span class='texttt'>iarray[idx]</span><a class='hidden_link' href='#storage-4.sentence-2'>.</a></div> <div id='storage-4.sentence-3' class='sentence'>Each newly allocated element of the array is initialized to zero<a class='hidden_link' href='#storage-4.sentence-3'>.</a></div> <div id='storage-4.sentence-4' class='sentence'>The reference returned is invalid after any other operations on the
object<a class='hidden_link' href='#storage-4.sentence-4'>.</a><a class='footnotenum' href='#footnote-295'>295</a></div> <div id='storage-4.sentence-5' class='sentence'>
However, the value of the storage referred to is retained, so
that until the next call to
<span class='texttt'>copyfmt</span>,
calling
<span class='texttt'>iword</span>
with the same index yields another reference to the same value<a class='hidden_link' href='#storage-4.sentence-5'>.</a></div> <div id='storage-4.sentence-6' class='sentence'>If the function fails<a class='footnotenum' href='#footnote-296'>296</a>
and
<span class='texttt'>*this</span>
is a base class subobject of a
<span class='texttt'>basic_&shy;ios&lt;&gt;</span>
object or subobject, the effect is equivalent to calling
<span class='texttt'>basic_&shy;ios&lt;&gt;&#x200b;::&#x200b;setstate(badbit)</span>
on the derived object (which may throw
<span class='texttt'>failure</span>)<a class='hidden_link' href='#storage-4.sentence-6'>.</a></div></div></div><div class='para' id='storage-5'><div class='marginalizedparent'><a class='marginalized' href='#storage-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1492'>#</a></div><div id='storage-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
On success
<span class='texttt'>iarray[idx]</span><a class='hidden_link' href='#storage-5.sentence-1'>.</a></div> <div id='storage-5.sentence-2' class='sentence'>On failure, a valid
<span class='texttt'>long&amp;</span>
initialized to 0<a class='hidden_link' href='#storage-5.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:pword,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,pword'></a></span><div class='itemdecl' id='storage-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#storage-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>void*&amp; pword(int idx);
</code></div><div class='itemdescr'></div><div class='para' id='storage-6'><div class='marginalizedparent'><a class='marginalized' href='#storage-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1507'>#</a></div><div id='storage-6.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>idx</span> is a value obtained by a call to <span class='texttt'>xalloc</span><a class='hidden_link' href='#storage-6.sentence-1'>.</a></div></div></div><div class='para' id='storage-7'><div class='marginalizedparent'><a class='marginalized' href='#storage-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1511'>#</a></div><div id='storage-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>parray</span> is a null pointer, allocates an array of
pointers to <span class='texttt'>void</span> of unspecified size and stores a pointer to
its
first element in <span class='texttt'>parray</span><a class='hidden_link' href='#storage-7.sentence-1'>.</a></div> <div id='storage-7.sentence-2' class='sentence'>The function then extends the array
pointed at by <span class='texttt'>parray</span> as necessary to include the element
<span class='texttt'>parray[idx]</span><a class='hidden_link' href='#storage-7.sentence-2'>.</a></div> <div id='storage-7.sentence-3' class='sentence'>Each newly allocated element of the array is initialized to a null
pointer<a class='hidden_link' href='#storage-7.sentence-3'>.</a></div> <div id='storage-7.sentence-4' class='sentence'>The reference returned is invalid after any other operations on the
object<a class='hidden_link' href='#storage-7.sentence-4'>.</a></div> <div id='storage-7.sentence-5' class='sentence'>However, the value of the storage referred to is retained, so
that until the next call to
<span class='texttt'>copyfmt</span>,
calling
<span class='texttt'>pword</span>
with the same index yields another reference to the same value<a class='hidden_link' href='#storage-7.sentence-5'>.</a></div> <div id='storage-7.sentence-6' class='sentence'>If the function fails<a class='footnotenum' href='#footnote-297'>297</a>
and
<span class='texttt'>*this</span>
is a base class subobject of a
<span class='texttt'>basic_&shy;ios&lt;&gt;</span>
object or subobject, the effect is equivalent to calling
<span class='texttt'>basic_&shy;ios&lt;&gt;&#x200b;::&#x200b;setstate(badbit)</span>
on the derived object (which may throw
<span class='texttt'>failure</span>)<a class='hidden_link' href='#storage-7.sentence-6'>.</a></div></div></div><div class='para' id='storage-8'><div class='marginalizedparent'><a class='marginalized' href='#storage-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1540'>#</a></div><div id='storage-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
On success
<span class='texttt'>parray[idx]</span><a class='hidden_link' href='#storage-8.sentence-1'>.</a></div> <div id='storage-8.sentence-2' class='sentence'>On failure a valid
<span class='texttt'>void*&amp;</span>
initialized to 0<a class='hidden_link' href='#storage-8.sentence-2'>.</a></div></div></div><div class='para' id='storage-9'><div class='marginalizedparent'><a class='marginalized' href='#storage-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1548'>#</a></div><div id='storage-9.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
After a subsequent call to
<span class='texttt'>pword(int)</span>
for the same object, the earlier return value may no longer be valid<a class='hidden_link' href='#storage-9.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-295'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-295'>295)</a></div><div id='footnote-295.sentence-1' class='sentence'>An implementation is free to implement both the integer
array pointed at by <span class='texttt'>iarray</span> and the pointer array pointed at by
<span class='texttt'>parray</span> as sparse data structures, possibly with a one-element
cache for each<a class='hidden_link' href='#footnote-295.sentence-1'>.</a></div></div><div class='footnote' id='footnote-296'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-296'>296)</a></div><div id='footnote-296.sentence-1' class='sentence'>For example, because it cannot allocate space<a class='hidden_link' href='#footnote-296.sentence-1'>.</a></div></div><div class='footnote' id='footnote-297'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-297'>297)</a></div><div id='footnote-297.sentence-1' class='sentence'>For example, because it cannot allocate space<a class='hidden_link' href='#footnote-297.sentence-1'>.</a></div></div></div><div id='callback' class='section'><h4 ><a class='secnum' href='#callback' style='min-width:118pt'>27.5.3.6</a> <span class='texttt'>ios_&shy;base</span> callbacks <a class='abbr_ref' href='ios.base.callback'>[ios.base.callback]</a></h4><span class='indexparent'><a class='index' id='lib:register_callback,ios_base'></a></span><span class='indexparent'><a class='index' id='lib:ios_base,register_callback'></a></span><div class='itemdecl' id='callback-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#callback-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>void register_callback(event_callback fn, int idx);
</code></div><div class='itemdescr'></div><div class='para' id='callback-1'><div class='marginalizedparent'><a class='marginalized' href='#callback-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1563'>#</a></div><div id='callback-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Registers the pair
<span class='texttt'>(fn, idx)</span>
such that during calls to
<span class='texttt'>imbue()</span> (<a href='#locales'>[ios.base.locales]</a>),
<span class='texttt'>copyfmt()</span>,
or
<span class='texttt'>~ios_&shy;base()</span> (<a href='#cons'>[ios.base.cons]</a>),
the function
<span class='texttt'>fn</span>
is called with argument
<span class='texttt'>idx</span><a class='hidden_link' href='#callback-1.sentence-1'>.</a></div> <div id='callback-1.sentence-2' class='sentence'>Functions registered are called when an event occurs, in opposite order of
registration<a class='hidden_link' href='#callback-1.sentence-2'>.</a></div> <div id='callback-1.sentence-3' class='sentence'>Functions registered while a callback function is active are not called until the next event<a class='hidden_link' href='#callback-1.sentence-3'>.</a></div></div></div><div class='para' id='callback-2'><div class='marginalizedparent'><a class='marginalized' href='#callback-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1580'>#</a></div><div id='callback-2.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The function
<span class='texttt'>fn</span>
shall not throw exceptions<a class='hidden_link' href='#callback-2.sentence-1'>.</a></div></div></div><div class='para' id='callback-3'><div class='marginalizedparent'><a class='marginalized' href='#callback-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1586'>#</a></div><div id='callback-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Identical pairs are not merged<a class='hidden_link' href='#callback-3.sentence-1'>.</a></div> <div id='callback-3.sentence-2' class='sentence'>A function registered twice will be called twice<a class='hidden_link' href='#callback-3.sentence-2'>.</a></div></div></div></div><div id='cons' class='section'><h4 ><a class='secnum' href='#cons' style='min-width:118pt'>27.5.3.7</a> <span class='texttt'>ios_&shy;base</span> constructors/destructor <a class='abbr_ref' href='ios.base.cons'>[ios.base.cons]</a></h4><span class='indexparent'><a class='index' id='lib:ios_base,constructor'></a></span><div class='itemdecl' id='cons-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#cons-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>ios_base();
</code></div><div class='itemdescr'></div><div class='para' id='cons-1'><div class='marginalizedparent'><a class='marginalized' href='#cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1600'>#</a></div><div id='cons-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Each
<span class='texttt'>ios_&shy;base</span>
member has an indeterminate value after construction<a class='hidden_link' href='#cons-1.sentence-1'>.</a></div> <div id='cons-1.sentence-2' class='sentence'>The object's members shall be initialized by calling
<span class='texttt'>basic_&shy;ios&#x200b;::&#x200b;init</span>
before the object's first use or before it is destroyed, whichever comes first; otherwise
the behavior is undefined<a class='hidden_link' href='#cons-1.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:ios_base,destructor'></a></span><div class='itemdecl' id='cons-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#cons-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>~ios_base();
</code></div><div class='itemdescr'></div><div class='para' id='cons-2'><div class='marginalizedparent'><a class='marginalized' href='#cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/iostreams.tex#L1617'>#</a></div><div id='cons-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Destroys an object of class
<span class='texttt'>ios_&shy;base</span><a class='hidden_link' href='#cons-2.sentence-1'>.</a></div> <div id='cons-2.sentence-2' class='sentence'>Calls each registered callback pair
<span class='texttt'>(fn, idx)</span> (<a href='#callback'>[ios.base.callback]</a>) as
<span class='texttt'>(*fn)(&#x200b;erase_&shy;event, *this, idx)</span>
at such time that any
<span class='texttt'>ios_&shy;base</span>
member function called from within
<span class='texttt'>fn</span>
has well-defined results<a class='hidden_link' href='#cons-2.sentence-2'>.</a></div></div></div></div></div></body></html>