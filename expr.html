<!DOCTYPE html><html lang='en'><head><title>[expr]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><div class='texpara'>
</div><div id='pre' class='section'><h2 ><a class='secnum' href='#pre' style='min-width:65pt'>7.1</a> Preamble <a class='abbr_ref' href='expr.pre'>[expr.pre]</a></h2><div class='para nonNormativeOnly' id='pre-1'><div class='marginalizedparent'><a class='marginalized' href='#pre-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L18'>#</a></div><div class='texpara'><a class='index' id=':expression'></a><div id='pre-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-1'>1</a></i>:&ensp;<div id='pre-1.sentence-1' class='sentence'>[expr] defines the syntax, order of evaluation, and meaning
of expressions<a class='hidden_link' href='#pre-1.sentence-1'>.</a><a class='footnoteref' href='#footnote-39' id='footnoteref-39' title='The precedence of operators is not directly specified, but it can be derived from the syntax.'>39</a></div> <div id='pre-1.sentence-2' class='sentence'>
An expression is a sequence of operators and operands that specifies a
computation<a class='hidden_link' href='#pre-1.sentence-2'>.</a></div> <div id='pre-1.sentence-3' class='sentence'>An expression can result in a value and can cause side
effects<a class='hidden_link' href='#pre-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='pre-2'><div class='marginalizedparent'><a class='marginalized' href='#pre-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L32'>#</a></div><div class='texpara'><a class='index' id=':operator,overloaded'></a><div id='pre-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-2'>2</a></i>:&ensp;<div id='pre-2.sentence-1' class='sentence'>Operators can be overloaded, that is, given meaning when applied to
expressions of <a href='class' title='11&emsp;Classes&emsp;[class]'>class</a> type or
<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations&emsp;[dcl.enum]'>enumeration</a> type<a class='hidden_link' href='#pre-2.sentence-1'>.</a></div> <div id='pre-2.sentence-2' class='sentence'>Uses of overloaded operators are transformed into
function calls as described in <a href='over.oper' title='12.4&emsp;Overloaded operators'>[over.<span class='shy'></span>oper]</a><a class='hidden_link' href='#pre-2.sentence-2'>.</a></div> <div id='pre-2.sentence-3' class='sentence'>Overloaded operators
obey the rules for syntax and evaluation order specified in <a href='#compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a>,
but the requirements of operand type and value category are replaced
by the rules for function call<a class='hidden_link' href='#pre-2.sentence-3'>.</a></div> <div id='pre-2.sentence-4' class='sentence'>Relations between operators, such as
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span>a</span> meaning <span class='texttt'>a <span class='operator'>+</span><span class='operator'>=</span> <span class='literal'>1</span></span>, are not guaranteed for <a href='over.oper' title='12.4&emsp;Overloaded operators&emsp;[over.oper]'>overloaded
operators</a><a class='hidden_link' href='#pre-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='pre-3'><div class='marginalizedparent'><a class='marginalized' href='#pre-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L46'>#</a></div><div class='texpara'><div id='pre-3.sentence-1' class='sentence'>Subclause <a href='#compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a> defines the effects of operators when applied to types
for which they have not been overloaded<a class='hidden_link' href='#pre-3.sentence-1'>.</a></div> <div id='pre-3.sentence-2' class='sentence'>Operator overloading shall not
modify the rules for the <a class='hidden_link' href='#def:operators,built-in' title='7.1&emsp;Preamble&emsp;[expr.pre]'><span id='def:operators,built-in'><i >built-in operators</i></span></a>,
that is, for operators applied to types for which they are defined by this
Standard<a class='hidden_link' href='#pre-3.sentence-2'>.</a></div> <div id='pre-3.sentence-3' class='sentence'>However, these built-in operators participate in overload
resolution, and as part of that process user-defined conversions will be
considered where necessary to convert the operands to types appropriate
for the built-in operator<a class='hidden_link' href='#pre-3.sentence-3'>.</a></div> <div id='pre-3.sentence-4' class='sentence'>If a built-in operator is selected, such
conversions will be applied to the operands before the operation is
considered further according to the rules in <a href='#compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a>;
see <a href='over.match.oper' title='12.2.2.3&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>, <a href='over.built' title='12.5&emsp;Built-in operators'>[over.<span class='shy'></span>built]</a><a class='hidden_link' href='#pre-3.sentence-4'>.</a></div></div></div><div class='para' id='pre-4'><div class='marginalizedparent'><a class='marginalized' href='#pre-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L59'>#</a></div><div class='texpara'><div id='pre-4.sentence-1' class='sentence'><a class='index' id=':exception,arithmetic'></a><a class='index' id=':exception,undefined_arithmetic'></a><a class='index' id=':overflow,undefined'></a><a class='index' id=':zero,division_by_undefined'></a><a class='index' id=':zero,remainder_undefined'></a>If during the evaluation of an expression, the result is not
mathematically defined or not in the range of representable values for
its type, the behavior is undefined<a class='hidden_link' href='#pre-4.sentence-1'>.</a></div> <div id='pre-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-3'>3</a></i>:&ensp;<div id='pre-4.sentence-2' class='sentence'><a class='index' id=':overflow'></a>Treatment of division by zero, forming a remainder using a zero divisor,
and all floating-point exceptions varies among machines, and is sometimes
adjustable by a library function<a class='hidden_link' href='#pre-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='pre-5'><div class='marginalizedparent'><a class='marginalized' href='#pre-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L75'>#</a></div><div class='texpara'><a class='index' id=':operator,precedence_of'></a><a class='index' id=':expression,order_of_evaluation_of'></a><div id='pre-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-4'>4</a></i>:&ensp;<div id='pre-5.sentence-1' class='sentence'>The implementation can regroup operators according to
the usual mathematical rules only
where the operators really are associative or commutative<a class='hidden_link' href='#pre-5.sentence-1'>.</a><a class='footnoteref' href='#footnote-40' id='footnoteref-40' title='Overloaded operators are never assumed to be associative or commutative.'>40</a></div> <div id='pre-5.sentence-2' class='sentence'>
For example, in the following fragment
<span class='codeblock'><span class='keyword'>int</span> a, b;
<span class='comment'>/* ... */</span>
a <span class='operator'>=</span> a <span class='operator'>+</span> <span class='literal'>32760</span> <span class='operator'>+</span> b <span class='operator'>+</span> <span class='literal'>5</span>;
</span>
the expression statement behaves exactly the same as
<span class='codeblock'>a <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>a <span class='operator'>+</span> <span class='literal'>32760</span><span class='parenthesis'>)</span> <span class='operator'>+</span> b<span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>5</span><span class='parenthesis'>)</span>;
</span>
due to the associativity and precedence of these operators<a class='hidden_link' href='#pre-5.sentence-2'>.</a></div> <div id='pre-5.sentence-3' class='sentence'>Thus, the
result of the sum <span class='texttt'><span class='parenthesis'>(</span>a <span class='operator'>+</span> <span class='literal'>32760</span><span class='parenthesis'>)</span></span> is next added to <span class='texttt'>b</span>, and
that result is then added to 5 which results in the value assigned to
<span class='texttt'>a</span><a class='hidden_link' href='#pre-5.sentence-3'>.</a></div> <div id='pre-5.sentence-4' class='sentence'>On a machine in which overflows produce an exception and in
which the range of values representable by an <span class='texttt'><span class='keyword'>int</span></span> is
[<span class='texttt'><span class='operator'>-</span><span class='literal'>32768</span>, <span class='operator'>+</span><span class='literal'>32767</span></span>], the implementation cannot rewrite this
expression as
<span class='codeblock'>a <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='parenthesis'>(</span>a <span class='operator'>+</span> b<span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>32765</span><span class='parenthesis'>)</span>;
</span>
since if the values for <span class='texttt'>a</span> and <span class='texttt'>b</span> were, respectively,
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">32754</span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">15</span></span></span></span></span></span>, the sum <span class='texttt'>a <span class='operator'>+</span> b</span> would produce an exception while
the original expression would not; nor can the expression be rewritten
as either
<span class='codeblock'>a <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='parenthesis'>(</span>a <span class='operator'>+</span> <span class='literal'>32765</span><span class='parenthesis'>)</span> <span class='operator'>+</span> b<span class='parenthesis'>)</span>;
</span>
or
<span class='codeblock'>a <span class='operator'>=</span> <span class='parenthesis'>(</span>a <span class='operator'>+</span> <span class='parenthesis'>(</span>b <span class='operator'>+</span> <span class='literal'>32765</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span>
since the values for <span class='texttt'>a</span> and <span class='texttt'>b</span> might have been,
respectively, 4 and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">8</span></span></span></span></span></span> or <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">17</span></span></span></span></span></span> and 12<a class='hidden_link' href='#pre-5.sentence-4'>.</a></div> <div id='pre-5.sentence-5' class='sentence'>However on a machine in which
overflows do not produce an exception and in which the results of
overflows are reversible, the above expression statement can be
rewritten by the implementation in any of the above ways because the
same result will occur<a class='hidden_link' href='#pre-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='pre-6'><div class='marginalizedparent'><a class='marginalized' href='#pre-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L125'>#</a></div><div class='texpara'><div id='pre-6.sentence-1' class='sentence'>The values of the floating-point operands and
the results of floating-point expressions
may be represented in greater precision and range than that
required by the type; the types are not changed
thereby<a class='hidden_link' href='#pre-6.sentence-1'>.</a><a class='footnoteref' href='#footnote-41' id='footnoteref-41' title='The cast and assignment operators must still perform their specific conversions as described in [expr.type.conv], [expr.cast], [expr.static.cast] and [expr.assign].'>41</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-39'><div class='texpara'><a class='footnotenum' href='#footnote-39'>39)</a><a class='footnoteBacklink' href='#footnoteref-39'>39)</a> <div id='footnote-39.sentence-1' class='sentence'>The precedence of operators is not directly specified, but it can be
derived from the syntax<a class='hidden_link' href='#footnote-39.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-40'><div class='texpara'><a class='footnotenum' href='#footnote-40'>40)</a><a class='footnoteBacklink' href='#footnoteref-40'>40)</a> <div id='footnote-40.sentence-1' class='sentence'>Overloaded
operators are never assumed to be associative or commutative<a class='hidden_link' href='#footnote-40.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-41'><div class='texpara'><a class='footnotenum' href='#footnote-41'>41)</a><a class='footnoteBacklink' href='#footnoteref-41'>41)</a> <div id='footnote-41.sentence-1' class='sentence'>The cast and assignment operators must still perform their specific
conversions as described in <a href='#type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='#cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>,
<a href='#static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a> and <a href='#assign' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>assign]</a><a class='hidden_link' href='#footnote-41.sentence-1'>.</a></div></div></div></div><div id='prop' class='section'><h2 ><a class='secnum' href='#prop' style='min-width:65pt'>7.2</a> Properties of expressions <a class='abbr_ref' href='expr.prop'>[expr.prop]</a></h2><div id='basic.lval' class='section'><h3 ><a class='secnum' href='#basic.lval' style='min-width:80pt'>7.2.1</a> Value category <a class='abbr_ref' href='basic.lval'>[basic.lval]</a></h3><div class='para' id='basic.lval-1'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L140'>#</a></div><div class='texpara'><div id='basic.lval-1.sentence-1' class='sentence'>Expressions are categorized according to the taxonomy in Figure <a href='#fig:basic.lval'>2</a><a class='hidden_link' href='#basic.lval-1.sentence-1'>.</a></div></div><div class='texpara'><div class='figure' id='fig:basic.lval'><svg width="278pt" height="137pt"
 viewBox="0.00 0.00 278.00 137.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 133)">
<title>categories</title>
<!-- expression -->
<g class="node">
<title>expression</title>
<text text-anchor="middle" x="135" y="-117" font-family="Noto Serif" font-size="10.00">expression</text>
</g>
<!-- glvalue -->
<g class="node">
<title>glvalue</title>
<text text-anchor="middle" x="81" y="-62" font-family="Noto Serif" font-size="10.00">glvalue</text>
</g>
<!-- expression&#45;&gt;glvalue -->
<g class="edge">
<title>expression&#45;&gt;glvalue</title>
<path fill="none" stroke="black" d="M126.08,-109.75C118.22,-102.03 106.57,-90.6 97.08,-81.28"/>
<polygon fill="black" stroke="black" points="99.34,-78.6 89.75,-74.09 94.44,-83.59 99.34,-78.6"/>
</g>
<!-- rvalue -->
<g class="node">
<title>rvalue</title>
<text text-anchor="middle" x="189" y="-62" font-family="Noto Serif" font-size="10.00">rvalue</text>
</g>
<!-- expression&#45;&gt;rvalue -->
<g class="edge">
<title>expression&#45;&gt;rvalue</title>
<path fill="none" stroke="black" d="M143.92,-109.75C151.78,-102.03 163.43,-90.6 172.92,-81.28"/>
<polygon fill="black" stroke="black" points="175.56,-83.59 180.25,-74.09 170.66,-78.6 175.56,-83.59"/>
</g>
<!-- lvalue -->
<g class="node">
<title>lvalue</title>
<text text-anchor="middle" x="27" y="-7" font-family="Noto Serif" font-size="10.00">lvalue</text>
</g>
<!-- glvalue&#45;&gt;lvalue -->
<g class="edge">
<title>glvalue&#45;&gt;lvalue</title>
<path fill="none" stroke="black" d="M72.08,-54.75C64.22,-47.03 52.57,-35.6 43.08,-26.28"/>
<polygon fill="black" stroke="black" points="45.34,-23.6 35.75,-19.09 40.44,-28.59 45.34,-23.6"/>
</g>
<!-- xvalue -->
<g class="node">
<title>xvalue</title>
<text text-anchor="middle" x="135" y="-7" font-family="Noto Serif" font-size="10.00">xvalue</text>
</g>
<!-- glvalue&#45;&gt;xvalue -->
<g class="edge">
<title>glvalue&#45;&gt;xvalue</title>
<path fill="none" stroke="black" d="M89.92,-54.75C97.78,-47.03 109.43,-35.6 118.92,-26.28"/>
<polygon fill="black" stroke="black" points="121.56,-28.59 126.25,-19.09 116.66,-23.6 121.56,-28.59"/>
</g>
<!-- rvalue&#45;&gt;xvalue -->
<g class="edge">
<title>rvalue&#45;&gt;xvalue</title>
<path fill="none" stroke="black" d="M180.08,-54.75C172.22,-47.03 160.57,-35.6 151.08,-26.28"/>
<polygon fill="black" stroke="black" points="153.34,-23.6 143.75,-19.09 148.44,-28.59 153.34,-23.6"/>
</g>
<!-- prvalue -->
<g class="node">
<title>prvalue</title>
<text text-anchor="middle" x="243" y="-7" font-family="Noto Serif" font-size="10.00">prvalue</text>
</g>
<!-- rvalue&#45;&gt;prvalue -->
<g class="edge">
<title>rvalue&#45;&gt;prvalue</title>
<path fill="none" stroke="black" d="M197.92,-54.75C205.78,-47.03 217.43,-35.6 226.92,-26.28"/>
<polygon fill="black" stroke="black" points="229.56,-28.59 234.25,-19.09 224.66,-23.6 229.56,-28.59"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:basic.lval'>2</a> &mdash; Expression category taxonomy&emsp;&ensp;<a href='./fig:basic.lval'>[fig:basic.lval]</a></div></div><div class='texpara'><ul class='itemize'><li id='basic.lval-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-1.1'>(1.1)</a></div><div class='texpara'><div id='basic.lval-1.1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:glvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:glvalue'><i >glvalue</i></span></a> is an expression whose evaluation determines the identity of an object or function<a class='hidden_link' href='#basic.lval-1.1.sentence-1'>.</a></div></div></li><li id='basic.lval-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-1.2'>(1.2)</a></div><div class='texpara'><div id='basic.lval-1.2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:prvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:prvalue'><i >prvalue</i></span></a> is an expression whose evaluation initializes an object
or computes the value of an operand of an operator,
as specified by the context in which it appears,
or an expression that has type <span class='mathit'>cv</span> <span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#basic.lval-1.2.sentence-1'>.</a></div></div></li><li id='basic.lval-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-1.3'>(1.3)</a></div><div class='texpara'><div id='basic.lval-1.3.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:xvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:xvalue'><i >xvalue</i></span></a> is a glvalue that denotes an object whose resources can be reused (usually because it is near the end of its lifetime)<a class='hidden_link' href='#basic.lval-1.3.sentence-1'>.</a></div></div></li><li id='basic.lval-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-1.4'>(1.4)</a></div><div class='texpara'><div id='basic.lval-1.4.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:lvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:lvalue'><i >lvalue</i></span></a> is a glvalue that is not an xvalue<a class='hidden_link' href='#basic.lval-1.4.sentence-1'>.</a></div></div></li><li id='basic.lval-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-1.5'>(1.5)</a></div><div class='texpara'><div id='basic.lval-1.5.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:rvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:rvalue'><i >rvalue</i></span></a> is a prvalue or an xvalue<a class='hidden_link' href='#basic.lval-1.5.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='basic.lval-2'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L160'>#</a></div><div class='texpara'><div id='basic.lval-2.sentence-1' class='sentence'>Every expression belongs to exactly one of the fundamental categories in this
taxonomy: lvalue, xvalue, or prvalue<a class='hidden_link' href='#basic.lval-2.sentence-1'>.</a></div> <div id='basic.lval-2.sentence-2' class='sentence'>This property of an expression is called
its <a class='hidden_link' href='#def:value_category' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:value_category'><i >value category</i></span></a><a class='hidden_link' href='#basic.lval-2.sentence-2'>.</a></div> <div id='basic.lval-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-1'>1</a></i>:&ensp;<div id='basic.lval-2.sentence-3' class='sentence'>The discussion of each built-in operator in
<a href='#compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a> indicates the category of the value it yields and the value categories
of the operands it expects<a class='hidden_link' href='#basic.lval-2.sentence-3'>.</a></div> <div id='basic.lval-2.sentence-4' class='sentence'>For example, the built-in assignment operators expect that
the left operand is an lvalue and that the right operand is a prvalue and yield an
lvalue as the result<a class='hidden_link' href='#basic.lval-2.sentence-4'>.</a></div> <div id='basic.lval-2.sentence-5' class='sentence'>User-defined operators are functions, and the categories of
values they expect and yield are determined by their parameter and return types<a class='hidden_link' href='#basic.lval-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='basic.lval-3'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L173'>#</a></div><div class='texpara'><div id='basic.lval-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-2'>2</a></i>:&ensp;<div id='basic.lval-3.sentence-1' class='sentence'>Historically, lvalues and rvalues were so-called
because they could appear on the left- and right-hand side of an assignment
(although this is no longer generally true);
glvalues are “generalized” lvalues,
prvalues are “pure” rvalues,
and xvalues are “eXpiring” lvalues<a class='hidden_link' href='#basic.lval-3.sentence-1'>.</a></div> <div id='basic.lval-3.sentence-2' class='sentence'>Despite their names, these terms apply to expressions, not values<a class='hidden_link' href='#basic.lval-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='basic.lval-4'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L184'>#</a></div><div class='texpara'><a class='index' id=':expression,rvalue_reference'></a><div id='basic.lval-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-3'>3</a></i>:&ensp;<div id='basic.lval-4.sentence-1' class='sentence'>An expression is an xvalue if it is:
<ul class='itemize'><li id='basic.lval-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-4.1'>(4.1)</a></div>a move-eligible <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> (<a href='#prim.id.unqual' title='7.5.5.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>),</li><li id='basic.lval-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-4.2'>(4.2)</a></div>the result of calling a function, whether implicitly or explicitly,
whose return type is an rvalue reference to object type (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),</li><li id='basic.lval-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-4.3'>(4.3)</a></div>a cast to an rvalue reference to
object type (<a href='#type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='#dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>, <a href='#static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='#reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>, <a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>, <a href='#cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>),</li><li id='basic.lval-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-4.4'>(4.4)</a></div>a subscripting operation with an xvalue array operand (<a href='#sub' title='7.6.1.2&emsp;Subscripting'>[expr.<span class='shy'></span>sub]</a>),</li><li id='basic.lval-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-4.5'>(4.5)</a></div>a class member access expression designating a non-static data member
of non-reference type
in which the object expression is an xvalue (<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>), or</li><li id='basic.lval-4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-4.6'>(4.6)</a></div>a <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> pointer-to-member expression in which the first operand is
an xvalue and the second operand is a pointer to data member (<a href='#mptr.oper' title='7.6.4&emsp;Pointer-to-member operators'>[expr.<span class='shy'></span>mptr.<span class='shy'></span>oper]</a>)<a class='hidden_link' href='#basic.lval-4.sentence-1'>.</a></li></ul></div> <div id='basic.lval-4.sentence-2' class='sentence'>
In general, the effect of this rule is that named rvalue references are
treated as lvalues and unnamed rvalue references to objects are treated as
xvalues; rvalue references to functions are treated as lvalues whether named or not<a class='hidden_link' href='#basic.lval-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='basic.lval-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#basic.lval-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
<span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;
A<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span>A, A<span class='parenthesis'>)</span>;
A<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

A a;
A<span class='operator'>&amp;</span><span class='operator'>&amp;</span> ar <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>A<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;
</span></div><div class='texpara'><div id='basic.lval-4.sentence-3' class='sentence'>The expressions <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>m</span>, <span class='texttt'><span id=':static_cast'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>A<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span></span>, and <span class='texttt'>a <span class='operator'>+</span> a</span>
are xvalues<a class='hidden_link' href='#basic.lval-4.sentence-3'>.</a></div> <div id='basic.lval-4.sentence-4' class='sentence'>The expression <span class='texttt'>ar</span> is an lvalue<a class='hidden_link' href='#basic.lval-4.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='basic.lval-5'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L228'>#</a></div><div class='texpara'><div id='basic.lval-5.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:result,glvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:result,glvalue'><i >result</i></span></a> of a glvalue is the entity denoted by the expression<a class='hidden_link' href='#basic.lval-5.sentence-1'>.</a></div> <div id='basic.lval-5.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:result,prvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:result,prvalue'><i >result</i></span></a> of a prvalue
is the value that the expression stores into its context;
a prvalue that has type <span class='mathit'>cv</span> <span id=':void_'><span class='texttt'><span class='keyword'>void</span></span></span> has no result<a class='hidden_link' href='#basic.lval-5.sentence-2'>.</a></div> <div id='basic.lval-5.sentence-3' class='sentence'>A prvalue whose result is the value <i >V</i>
is sometimes said to have or name the value <i >V</i><a class='hidden_link' href='#basic.lval-5.sentence-3'>.</a></div> <div id='basic.lval-5.sentence-4' class='sentence'>The <a class='hidden_link' href='#def:result_object' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:result_object'><i >result object</i></span></a> of a prvalue is the object initialized by the prvalue;
a prvalue that has type <span class='mathit'>cv</span> <span id=':void__'><span class='texttt'><span class='keyword'>void</span></span></span>
has no result object<a class='hidden_link' href='#basic.lval-5.sentence-4'>.</a></div> <div id='basic.lval-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-4'>4</a></i>:&ensp;<div id='basic.lval-5.sentence-5' class='sentence'>Except when the prvalue is the operand of a <a href='dcl.type.decltype#nt:decltype-specifier' title='9.2.9.6&emsp;Decltype specifiers&emsp;[dcl.type.decltype]'><span id='ntref:decltype-specifier'><span class='textsf'><i >decltype-specifier</i></span></span></a>,
a prvalue of object type always has a result object<a class='hidden_link' href='#basic.lval-5.sentence-5'>.</a></div> <div id='basic.lval-5.sentence-6' class='sentence'>For a discarded prvalue that has type other than <span class='mathit'>cv</span> <span id=':void___'><span class='texttt'><span class='keyword'>void</span></span></span>,
a temporary object is materialized; see <a href='#context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a><a class='hidden_link' href='#basic.lval-5.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='basic.lval-6'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L245'>#</a></div><div class='texpara'><div id='basic.lval-6.sentence-1' class='sentence'>Whenever a glvalue appears as an operand of an operator that
requires a prvalue for that operand, the
lvalue-to-rvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>), array-to-pointer (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>),
or function-to-pointer (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>) standard conversions are
applied to convert the expression to a prvalue<a class='hidden_link' href='#basic.lval-6.sentence-1'>.</a></div> <div id='basic.lval-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-5'>5</a></i>:&ensp;<div id='basic.lval-6.sentence-2' class='sentence'>An attempt to bind an rvalue reference to an lvalue is not such a context; see <a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a><a class='hidden_link' href='#basic.lval-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='basic.lval-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-6'>6</a></i>:&ensp;<div id='basic.lval-6.sentence-3' class='sentence'>Because cv-qualifiers are removed from the type of an expression of
non-class type when the expression is converted to a prvalue, an lvalue
of type <span class='texttt'><span id=':const'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':int'><span class='texttt'><span class='keyword'>int</span></span></span></span> can, for example, be used where
a prvalue of type <span id=':int_'><span class='texttt'><span class='keyword'>int</span></span></span> is required<a class='hidden_link' href='#basic.lval-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='basic.lval-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-7'>7</a></i>:&ensp;<div id='basic.lval-6.sentence-4' class='sentence'>There are no prvalue bit-fields; if a bit-field is converted to a
prvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>), a prvalue of the type of the bit-field is
created, which might then be promoted (<a href='#conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>)<a class='hidden_link' href='#basic.lval-6.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='basic.lval-7'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L266'>#</a></div><div class='texpara'><div id='basic.lval-7.sentence-1' class='sentence'>Unless otherwise specified (<a href='#reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>, <a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>),
whenever a prvalue
that is not the result of the lvalue-to-rvalue conversion (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>)
appears as an operand of an operator,
the <a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion&emsp;[conv.rval]'>temporary materialization conversion</a> is
applied to convert the expression to an xvalue<a class='hidden_link' href='#basic.lval-7.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='basic.lval-8'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L274'>#</a></div><div class='texpara'><div id='basic.lval-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-8'>8</a></i>:&ensp;<div id='basic.lval-8.sentence-1' class='sentence'>The discussion of reference initialization in <a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a> and of
temporaries in <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a> indicates the behavior of lvalues
and rvalues in other significant contexts<a class='hidden_link' href='#basic.lval-8.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='basic.lval-9'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L281'>#</a></div><div class='texpara'><div id='basic.lval-9.sentence-1' class='sentence'>Unless otherwise indicated (<a href='dcl.type.decltype' title='9.2.9.6&emsp;Decltype specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>decltype]</a>),
a prvalue shall always have complete type or the <span id=':void____'><span class='texttt'><span class='keyword'>void</span></span></span> type;
if it has a class type or (possibly multidimensional) array of class type,
that class shall not be an abstract class (<a href='class.abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>)<a class='hidden_link' href='#basic.lval-9.sentence-1'>.</a></div> <div id='basic.lval-9.sentence-2' class='sentence'>A glvalue shall not have type <span class='mathit'>cv</span> <span id=':void_____'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#basic.lval-9.sentence-2'>.</a></div> <div id='basic.lval-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-9'>9</a></i>:&ensp;<div id='basic.lval-9.sentence-3' class='sentence'>A glvalue can have complete or incomplete non-<span id=':void______'><span class='texttt'><span class='keyword'>void</span></span></span> type<a class='hidden_link' href='#basic.lval-9.sentence-3'>.</a></div> <div id='basic.lval-9.sentence-4' class='sentence'>Class and array prvalues can have cv-qualified types; other prvalues
always have cv-unqualified types<a class='hidden_link' href='#basic.lval-9.sentence-4'>.</a></div> <div id='basic.lval-9.sentence-5' class='sentence'>See <a href='#type' title='7.2.2&emsp;Type'>[expr.<span class='shy'></span>type]</a><a class='hidden_link' href='#basic.lval-9.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='basic.lval-10'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L293'>#</a></div><div class='texpara'><div id='basic.lval-10.sentence-1' class='sentence'>An lvalue is <a class='hidden_link' href='#def:modifiable' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:modifiable'><i >modifiable</i></span></a> unless its type is const-qualified
or is a function type<a class='hidden_link' href='#basic.lval-10.sentence-1'>.</a></div> <div id='basic.lval-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-10'>10</a></i>:&ensp;<div id='basic.lval-10.sentence-2' class='sentence'>A program that attempts
to modify an object through a nonmodifiable lvalue or through an rvalue
is ill-formed (<a href='#assign' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>assign]</a>, <a href='#post.incr' title='7.6.1.6&emsp;Increment and decrement'>[expr.<span class='shy'></span>post.<span class='shy'></span>incr]</a>, <a href='#pre.incr' title='7.6.2.3&emsp;Increment and decrement'>[expr.<span class='shy'></span>pre.<span class='shy'></span>incr]</a>)<a class='hidden_link' href='#basic.lval-10.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='basic.lval-11'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L302'>#</a></div><div class='texpara'><div id='basic.lval-11.sentence-1' class='sentence'>An object of dynamic type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span> is
<a class='hidden_link' href='#def:type-accessible' title='7.2.1&emsp;Value category&emsp;[basic.lval]'><span id='def:type-accessible'><i >type-accessible</i></span></a> through a glvalue of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">ref</span></span></span></span></span></span></span></span>
if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">ref</span></span></span></span></span></span></span></span> is similar (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) to:
<ul class='itemize'><li id='basic.lval-11.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-11.1'>(11.1)</a></div><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span>,</li><li id='basic.lval-11.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-11.2'>(11.2)</a></div>a type that is the signed or unsigned type corresponding to <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span>, or</li><li id='basic.lval-11.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#basic.lval-11.3'>(11.3)</a></div>a <span id=':char'><span class='texttt'><span class='keyword'>char</span></span></span>, <span class='texttt'><span id=':unsigned'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char_'><span class='texttt'><span class='keyword'>char</span></span></span></span>, or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> type<a class='hidden_link' href='#basic.lval-11.sentence-1'>.</a></li></ul></div> <div id='basic.lval-11.sentence-2' class='sentence'>
If a program attempts to access (<a href='defns.access' title='3.1&emsp;access'>[defns.<span class='shy'></span>access]</a>)
the stored value of an object through a glvalue
through which it is not type-accessible,
the behavior is undefined<a class='hidden_link' href='#basic.lval-11.sentence-2'>.</a><a class='footnoteref' href='#footnote-42' id='footnoteref-42' title='The intent of this list is to specify those circumstances in which an object can or cannot be aliased.'>42</a></div> <div id='basic.lval-11.sentence-3' class='sentence'>
If a program invokes
a defaulted copy/move constructor or copy/move assignment operator
for a union of type <span class='texttt'>U</span> with a glvalue argument
that does not denote an object of type <span class='mathit'>cv</span> <span class='texttt'>U</span> within its lifetime,
the behavior is undefined<a class='hidden_link' href='#basic.lval-11.sentence-3'>.</a></div> <div id='basic.lval-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#basic.lval-note-11'>11</a></i>:&ensp;<div id='basic.lval-11.sentence-4' class='sentence'>In C, an entire object of structure type can be accessed, e.g., using assignment<a class='hidden_link' href='#basic.lval-11.sentence-4'>.</a></div> <div id='basic.lval-11.sentence-5' class='sentence'>By contrast, C++ has no notion of accessing an object of class type
through an lvalue of class type<a class='hidden_link' href='#basic.lval-11.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-42'><div class='texpara'><a class='footnotenum' href='#footnote-42'>42)</a><a class='footnoteBacklink' href='#footnoteref-42'>42)</a> <div id='footnote-42.sentence-1' class='sentence'>The intent of this list is to specify those circumstances in which an
object can or cannot be aliased<a class='hidden_link' href='#footnote-42.sentence-1'>.</a></div></div></div></div><div id='type' class='section'><h3 ><a class='secnum' href='#type' style='min-width:80pt'>7.2.2</a> Type <a class='abbr_ref' href='expr.type'>[expr.type]</a></h3><div class='para' id='type-1'><div class='marginalizedparent'><a class='marginalized' href='#type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L334'>#</a></div><div class='texpara'><div id='type-1.sentence-1' class='sentence'><a class='index' id=':expression,reference'></a>If an expression initially has the type “reference to
<span class='texttt'>T</span>” (<a href='dcl.ref' title='9.3.4.3&emsp;References'>[dcl.<span class='shy'></span>ref]</a>, <a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>), the type is adjusted to
<span class='texttt'>T</span> prior to any further analysis;
the value category of the expression is not altered<a class='hidden_link' href='#type-1.sentence-1'>.</a></div> <div id='type-1.sentence-2' class='sentence'>Let <span class='math'><span class='mathalpha'>X</span></span> be the object or function denoted by the reference<a class='hidden_link' href='#type-1.sentence-2'>.</a></div> <div id='type-1.sentence-3' class='sentence'>If a pointer to <span class='math'><span class='mathalpha'>X</span></span> would be valid in
the context of the evaluation of the expression (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>),
the result designates <span class='math'><span class='mathalpha'>X</span></span>;
otherwise, the behavior is undefined<a class='hidden_link' href='#type-1.sentence-3'>.</a></div> <div id='type-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#type-note-1'>1</a></i>:&ensp;<div id='type-1.sentence-4' class='sentence'>Before the lifetime of the reference has started or after it has ended,
the behavior is undefined (see <a href='basic.life' title='6.7.4&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#type-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='type-2'><div class='marginalizedparent'><a class='marginalized' href='#type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L350'>#</a></div><div class='texpara'><div id='type-2.sentence-1' class='sentence'>If a prvalue initially has the type “<span class='mathit'>cv</span> <span class='texttt'>T</span>”, where
<span class='texttt'>T</span> is a cv-unqualified non-class, non-array type, the type of
the expression is adjusted to <span class='texttt'>T</span> prior to any further analysis<a class='hidden_link' href='#type-2.sentence-1'>.</a></div></div></div><div class='para' id='type-3'><div class='marginalizedparent'><a class='marginalized' href='#type-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L355'>#</a></div><div class='texpara'><div id='type-3.sentence-1' class='sentence'><a class='index' id=':pointer,composite_pointer_type'></a>The <a class='hidden_link' href='#def:composite_pointer_type' title='7.2.2&emsp;Type&emsp;[expr.type]'><span id='def:composite_pointer_type'><i >composite pointer type</i></span></a> of
two operands <span class='texttt'>p1</span> and
<span class='texttt'>p2</span> having types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, respectively, where at least one is a
pointer or pointer-to-member type or
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>, is:
<ul class='itemize'><li id='type-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.1'>(3.1)</a></div>if both <span class='texttt'>p1</span> and <span class='texttt'>p2</span> are null pointer constants,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>;</li><li id='type-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.2'>(3.2)</a></div>if either <span class='texttt'>p1</span> or <span class='texttt'>p2</span> is a null pointer constant, <span class='texttt'>T2</span> or <span class='texttt'>T1</span>,
respectively;</li><li id='type-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.3'>(3.3)</a></div>if <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is “pointer to <i >cv1</i> <span id=':void_______'><span class='texttt'><span class='keyword'>void</span></span></span>” and the
other type is “pointer to <i >cv2</i> <span class='texttt'>T</span>”,
where <span class='texttt'>T</span> is an object type or <span id=':void________'><span class='texttt'><span class='keyword'>void</span></span></span>,
“pointer to <i >cv12</i> <span id=':void_________'><span class='texttt'><span class='keyword'>void</span></span></span>”,
where <i >cv12</i> is the union of <i >cv1</i> and <i >cv2</i>;</li><li id='type-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.4'>(3.4)</a></div>if <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is “pointer to <span id=':noexcept'><span class='texttt'><span class='keyword'>noexcept</span></span></span> function” and the
other type is “pointer to function”, where the function types are otherwise the same,
“pointer to function”;</li><li id='type-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.5'>(3.5)</a></div>if <span class='texttt'>T1</span> is “pointer to <span class='texttt'>C1</span>” and <span class='texttt'>T2</span> is “pointer to
<span class='texttt'>C2</span>”, where <span class='texttt'>C1</span> is reference-related to <span class='texttt'>C2</span> or <span class='texttt'>C2</span> is
reference-related to <span class='texttt'>C1</span> (<a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>),
the qualification-combined type (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)
of <span class='texttt'>T1</span> and <span class='texttt'>T2</span> or the qualification-combined type of <span class='texttt'>T2</span> and <span class='texttt'>T1</span>,
respectively;</li><li id='type-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.6'>(3.6)</a></div>if <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is
“pointer to member of <span class='texttt'>C1</span> of type function”,
the other type is
“pointer to member of <span class='texttt'>C2</span> of type <span id=':noexcept_'><span class='texttt'><span class='keyword'>noexcept</span></span></span> function”, and
<span class='texttt'>C1</span> is reference-related to <span class='texttt'>C2</span> or
<span class='texttt'>C2</span> is reference-related to <span class='texttt'>C1</span> (<a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>),
where the function types are otherwise the same,
“pointer to member of <span class='texttt'>C2</span> of type function” or
“pointer to member of <span class='texttt'>C1</span> of type function”, respectively;</li><li id='type-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.7'>(3.7)</a></div>if <span class='texttt'>T1</span> is
“pointer to member of <span class='texttt'>C1</span> of type <i >cv1</i> <span class='texttt'>U</span>” and
<span class='texttt'>T2</span> is
“pointer to member of <span class='texttt'>C2</span> of type <i >cv2</i> <span class='texttt'>U</span>”,
for some non-function type <span class='texttt'>U</span>,
where <span class='texttt'>C1</span> is
reference-related to <span class='texttt'>C2</span> or <span class='texttt'>C2</span> is reference-related to
<span class='texttt'>C1</span> (<a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>), the qualification-combined type of <span class='texttt'>T2</span> and <span class='texttt'>T1</span> or the qualification-combined type
of <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, respectively;</li><li id='type-3.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.8'>(3.8)</a></div>if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are similar types (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>), the qualification-combined type of <span class='texttt'>T1</span> and
<span class='texttt'>T2</span>;</li><li id='type-3.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.9'>(3.9)</a></div>otherwise, a program that necessitates the determination of a
composite pointer type is ill-formed<a class='hidden_link' href='#type-3.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='type-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#type-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>void</span> <span class='operator'>*</span>p;
<span class='keyword'>typedef</span> <span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>*</span>q;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> <span class='operator'>*</span><span class='operator'>*</span>pi;
<span class='keyword'>typedef</span> <span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>*</span><span class='operator'>*</span>pci;
</span></div><div class='texpara'><div id='type-3.sentence-2' class='sentence'>The composite pointer type of <span class='texttt'>p</span> and <span class='texttt'>q</span> is “pointer to <span class='texttt'><span id=':const_'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':void__________'><span class='texttt'><span class='keyword'>void</span></span></span></span>”; the
composite pointer type of <span class='texttt'>pi</span> and <span class='texttt'>pci</span> is “pointer to <span class='texttt'><span id=':const__'><span class='texttt'><span class='keyword'>const</span></span></span></span> pointer to
<span class='texttt'><span id=':const___'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':int__'><span class='texttt'><span class='keyword'>int</span></span></span></span>”<a class='hidden_link' href='#type-3.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='context' class='section'><h3 ><a class='secnum' href='#context' style='min-width:80pt'>7.2.3</a> Context dependence <a class='abbr_ref' href='expr.context'>[expr.context]</a></h3><div class='para' id='context-1'><div class='marginalizedparent'><a class='marginalized' href='#context-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L437'>#</a></div><div class='texpara'><div id='context-1.sentence-1' class='sentence'><a class='index' id='term.unevaluated.operand'></a>In some contexts, <a class='hidden_link' href='#def:unevaluated_operand' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'><span id='def:unevaluated_operand'><i >unevaluated operands</i></span></a>
appear (<a href='#prim.req.simple' title='7.5.8.2&emsp;Simple requirements'>[expr.<span class='shy'></span>prim.<span class='shy'></span>req.<span class='shy'></span>simple]</a>, <a href='#prim.req.compound' title='7.5.8.4&emsp;Compound requirements'>[expr.<span class='shy'></span>prim.<span class='shy'></span>req.<span class='shy'></span>compound]</a>, <a href='#typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>, <a href='#sizeof' title='7.6.2.5&emsp;Sizeof'>[expr.<span class='shy'></span>sizeof]</a>, <a href='#unary.noexcept' title='7.6.2.7&emsp;noexcept operator'>[expr.<span class='shy'></span>unary.<span class='shy'></span>noexcept]</a>, <a href='dcl.type.decltype' title='9.2.9.6&emsp;Decltype specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>decltype]</a>, <a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>, <a href='temp.concept' title='13.7.9&emsp;Concept definitions'>[temp.<span class='shy'></span>concept]</a>)<a class='hidden_link' href='#context-1.sentence-1'>.</a></div> <div id='context-1.sentence-2' class='sentence'>An unevaluated operand is not evaluated<a class='hidden_link' href='#context-1.sentence-2'>.</a></div> <div id='context-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#context-note-1'>1</a></i>:&ensp;<div id='context-1.sentence-3' class='sentence'>In an unevaluated operand, a non-static class member can be
named (<a href='#prim.id' title='7.5.5&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a>) and naming of objects or functions does not, by
itself, require that a definition be provided (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)<a class='hidden_link' href='#context-1.sentence-3'>.</a></div> <div id='context-1.sentence-4' class='sentence'>An unevaluated operand is considered a <a href='intro.execution#def:full-expression' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'>full-expression</a><a class='hidden_link' href='#context-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='context-2'><div class='marginalizedparent'><a class='marginalized' href='#context-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L456'>#</a></div><div class='texpara'><div id='context-2.sentence-1' class='sentence'>In some contexts, an expression only appears for its side effects<a class='hidden_link' href='#context-2.sentence-1'>.</a></div> <div id='context-2.sentence-2' class='sentence'>Such an
expression is called a <a class='hidden_link' href='#def:discarded-value_expression' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'><span id='def:discarded-value_expression'><i >discarded-value expression</i></span></a><a class='hidden_link' href='#context-2.sentence-2'>.</a></div> <div id='context-2.sentence-3' class='sentence'>The <a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer</a>
and <a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a> standard conversions are not
applied<a class='hidden_link' href='#context-2.sentence-3'>.</a></div> <div id='context-2.sentence-4' class='sentence'>The <a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue</a> conversion is applied
if and only if
the expression is a glvalue of volatile-qualified type and it is one of the
following:
<ul class='itemize'><li id='context-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.1'>(2.1)</a></div><span class='texttt'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><i >expression</i></span></span></a> <span class='texttt'><span class='parenthesis'>)</span></span>, where
<a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_'><span class='textsf'><i >expression</i></span></span></a> is one of these expressions,</li><li id='context-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.2'>(2.2)</a></div><a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> (<a href='#prim.id' title='7.5.5&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a>),</li><li id='context-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.3'>(2.3)</a></div><a href='#sub' title='7.6.1.2&emsp;Subscripting&emsp;[expr.sub]'>subscripting</a>,</li><li id='context-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.4'>(2.4)</a></div><a href='#ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'>class member access</a>,</li><li id='context-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.5'>(2.5)</a></div><a href='#def:indirection' title='7.6.2.2&emsp;Unary operators&emsp;[expr.unary.op]'>indirection</a>,</li><li id='context-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.6'>(2.6)</a></div><a href='#mptr.oper' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'>pointer-to-member operation</a>,</li><li id='context-2.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.7'>(2.7)</a></div><a href='#cond' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'>conditional expression</a> where both the second and the
  third operands are one of these expressions, or</li><li id='context-2.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#context-2.8'>(2.8)</a></div><a href='#comma' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'>comma expression</a> where the right operand is one of
  these expressions<a class='hidden_link' href='#context-2.sentence-4'>.</a></li></ul></div></div><div class='texpara'><div id='context-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#context-note-2'>2</a></i>:&ensp;<div id='context-2.sentence-5' class='sentence'>Using an overloaded operator causes a function call; the
above covers only operators with built-in meaning<a class='hidden_link' href='#context-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='context-2.sentence-6' class='sentence'>
The temporary materialization conversion (<a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>) is applied
if the (possibly converted) expression is a prvalue of object type<a class='hidden_link' href='#context-2.sentence-6'>.</a></div> <div id='context-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#context-note-3'>3</a></i>:&ensp;<div id='context-2.sentence-7' class='sentence'>If the original expression is an lvalue of class type,
it must have a volatile copy constructor to initialize the temporary object
that is the result object of the temporary materialization conversion<a class='hidden_link' href='#context-2.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='context-2.sentence-8' class='sentence'>
The expression is evaluated and its result (if any) is discarded<a class='hidden_link' href='#context-2.sentence-8'>.</a></div></div></div></div></div><div id='conv' class='section'><h2 ><a class='secnum' href='#conv' style='min-width:65pt'>7.3</a> Standard conversions <a class='abbr_ref' href='conv'>[conv]</a></h2><div id='conv.general' class='section'><h3 ><a class='secnum' href='#conv.general' style='min-width:80pt'>7.3.1</a> General <a class='abbr_ref' href='conv.general'>[conv.general]</a></h3><div class='texpara'>

</div><div class='para' id='conv.general-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L500'>#</a></div><div class='texpara'><div id='conv.general-1.sentence-1' class='sentence'><a class='index' id=':conversion,standard'></a><a class='index' id=':conversion,implicit'></a>Standard conversions are implicit conversions with built-in meaning<a class='hidden_link' href='#conv.general-1.sentence-1'>.</a></div> <div id='conv.general-1.sentence-2' class='sentence'><a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a> enumerates the full set of such conversions<a class='hidden_link' href='#conv.general-1.sentence-2'>.</a></div> <div id='conv.general-1.sentence-3' class='sentence'>A
<a class='hidden_link' href='#def:conversion_sequence,standard' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:conversion_sequence,standard'><i >standard conversion sequence</i></span></a> is a sequence of standard
conversions in the following order:
<ul class='itemize'><li id='conv.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-1.1'>(1.1)</a></div><div class='texpara'><div id='conv.general-1.1.sentence-1' class='sentence'>Zero or one conversion from the following set: lvalue-to-rvalue
conversion, array-to-pointer conversion, and function-to-pointer
conversion<a class='hidden_link' href='#conv.general-1.1.sentence-1'>.</a></div></div></li><li id='conv.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-1.2'>(1.2)</a></div><div class='texpara'><div id='conv.general-1.2.sentence-1' class='sentence'>Zero or one conversion from the following set: integral
promotions, floating-point promotion, integral conversions, floating-point
conversions, floating-integral conversions, pointer conversions,
pointer-to-member conversions, and boolean conversions<a class='hidden_link' href='#conv.general-1.2.sentence-1'>.</a></div></div></li><li id='conv.general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-1.3'>(1.3)</a></div><div class='texpara'><div id='conv.general-1.3.sentence-1' class='sentence'>Zero or one function pointer conversion<a class='hidden_link' href='#conv.general-1.3.sentence-1'>.</a></div></div></li><li id='conv.general-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-1.4'>(1.4)</a></div><div class='texpara'><div id='conv.general-1.4.sentence-1' class='sentence'>Zero or one qualification conversion<a class='hidden_link' href='#conv.general-1.4.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='conv.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.general-note-1'>1</a></i>:&ensp;<div id='conv.general-1.sentence-4' class='sentence'>A standard conversion sequence can be empty, i.e., it can consist of no
conversions<a class='hidden_link' href='#conv.general-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='conv.general-1.sentence-5' class='sentence'>
A standard conversion sequence will be applied to
an expression if necessary to convert it to an expression having
a required destination type and value category<a class='hidden_link' href='#conv.general-1.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='conv.general-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L530'>#</a></div><div class='texpara'><div id='conv.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.general-note-2'>2</a></i>:&ensp;<div id='conv.general-2.sentence-1' class='sentence'>Expressions with a given type will be implicitly converted to other
types in several contexts:
<ul class='itemize'><li id='conv.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-2.1'>(2.1)</a></div><div class='texpara'><div id='conv.general-2.1.sentence-1' class='sentence'>When used as operands of operators<a class='hidden_link' href='#conv.general-2.1.sentence-1'>.</a></div> <div id='conv.general-2.1.sentence-2' class='sentence'>The operator's requirements
for its operands dictate the destination type (<a href='#compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a>)<a class='hidden_link' href='#conv.general-2.1.sentence-2'>.</a></div></div></li><li id='conv.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-2.2'>(2.2)</a></div><div class='texpara'><div id='conv.general-2.2.sentence-1' class='sentence'>When used in the condition of an <span id=':if'><span class='texttt'><span class='keyword'>if</span></span></span> statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>) or
iteration statement (<a href='stmt.iter' title='8.6&emsp;Iteration statements'>[stmt.<span class='shy'></span>iter]</a>)<a class='hidden_link' href='#conv.general-2.2.sentence-1'>.</a></div> <div id='conv.general-2.2.sentence-2' class='sentence'>The destination type is
<span id=':bool'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#conv.general-2.2.sentence-2'>.</a></div></div></li><li id='conv.general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-2.3'>(2.3)</a></div><div class='texpara'><div id='conv.general-2.3.sentence-1' class='sentence'>When used in the expression of a <span id=':switch'><span class='texttt'><span class='keyword'>switch</span></span></span> statement (<a href='stmt.switch' title='8.5.3&emsp;The switch statement'>[stmt.<span class='shy'></span>switch]</a>)<a class='hidden_link' href='#conv.general-2.3.sentence-1'>.</a></div> <div id='conv.general-2.3.sentence-2' class='sentence'>The destination type is integral<a class='hidden_link' href='#conv.general-2.3.sentence-2'>.</a></div></div></li><li id='conv.general-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.general-2.4'>(2.4)</a></div><div class='texpara'><div id='conv.general-2.4.sentence-1' class='sentence'>When used as the source expression for an initialization (which
includes use as an argument in a function call and use as the expression
in a <span id=':return'><span class='texttt'><span class='keyword'>return</span></span></span> statement)<a class='hidden_link' href='#conv.general-2.4.sentence-1'>.</a></div> <div id='conv.general-2.4.sentence-2' class='sentence'>The type of the entity being initialized
is (generally) the destination type<a class='hidden_link' href='#conv.general-2.4.sentence-2'>.</a></div> <div id='conv.general-2.4.sentence-3' class='sentence'>See <a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, <a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a><a class='hidden_link' href='#conv.general-2.4.sentence-3'>.</a></div></div></li></ul></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.general-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L553'>#</a></div><div class='texpara'><div id='conv.general-3.sentence-1' class='sentence'>An expression <span class='math'><span class='mathalpha'>E</span></span> can be
<a class='hidden_link' href='#def:conversion,implicit' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:conversion,implicit'><i >implicitly converted</i></span></a> to a type <span class='texttt'>T</span> if and only if the
declaration <span class='texttt'>T t <span class='operator'>=</span> <span class='math'><span class='mathalpha'>E</span></span>;</span> is well-formed, for some invented temporary
variable <span class='texttt'>t</span> (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#conv.general-3.sentence-1'>.</a></div></div></div><div class='para' id='conv.general-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L559'>#</a></div><div class='texpara'><div id='conv.general-4.sentence-1' class='sentence'>Certain language constructs require that an expression be converted to a Boolean
value<a class='hidden_link' href='#conv.general-4.sentence-1'>.</a></div> <div id='conv.general-4.sentence-2' class='sentence'>An expression <span class='math'><span class='mathalpha'>E</span></span> appearing in such a context is said to be
<a class='hidden_link' href='#def:conversion,contextual_to_bool' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:conversion,contextual_to_bool'><i >contextually converted to <span class='texttt'>bool</span></i></span></a> and is well-formed if and only if
the declaration <span class='texttt'><span id=':bool_'><span class='texttt'><span class='keyword'>bool</span></span></span> t<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>E</span></span><span class='parenthesis'>)</span>;</span> is well-formed, for some invented temporary
variable <span class='texttt'>t</span> (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#conv.general-4.sentence-2'>.</a></div></div></div><div class='para' id='conv.general-5'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L566'>#</a></div><div class='texpara'><div id='conv.general-5.sentence-1' class='sentence'>Certain language constructs require conversion to a value having
one of a specified set of types appropriate to the construct<a class='hidden_link' href='#conv.general-5.sentence-1'>.</a></div> <div id='conv.general-5.sentence-2' class='sentence'>An
expression <span class='math'><span class='mathalpha'>E</span></span> of class type <span class='texttt'>C</span> appearing in such a
context is said to be
<a class='index' id=':conversion,contextual'></a><a class='hidden_link' href='#def:contextually_implicitly_converted' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:contextually_implicitly_converted'><i >contextually implicitly converted</i></span></a> to a specified type <span class='texttt'>T</span> and is
well-formed if and only if <span class='math'><span class='mathalpha'>E</span></span> can be implicitly converted to a type <span class='texttt'>T</span>
that is determined as follows:
<span class='texttt'>C</span> is searched for non-explicit conversion functions
whose return type is <span class='mathit'>cv</span> <span class='texttt'>T</span> or reference to <span class='mathit'>cv</span>
<span class='texttt'>T</span> such that <span class='texttt'>T</span> is allowed by the context<a class='hidden_link' href='#conv.general-5.sentence-2'>.</a></div> <div id='conv.general-5.sentence-3' class='sentence'>There shall be exactly one such <span class='texttt'>T</span><a class='hidden_link' href='#conv.general-5.sentence-3'>.</a></div></div></div><div class='para' id='conv.general-6'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L580'>#</a></div><div class='texpara'><div id='conv.general-6.sentence-1' class='sentence'>The effect of any implicit
conversion is the same as performing the corresponding declaration and initialization
and then using the temporary variable as the result of the conversion<a class='hidden_link' href='#conv.general-6.sentence-1'>.</a></div> <div id='conv.general-6.sentence-2' class='sentence'>The result is an lvalue if <span class='texttt'>T</span> is an lvalue reference
type or an rvalue reference to function type (<a href='dcl.ref' title='9.3.4.3&emsp;References'>[dcl.<span class='shy'></span>ref]</a>),
an xvalue if <span class='texttt'>T</span> is an rvalue reference to object type,
and a prvalue otherwise<a class='hidden_link' href='#conv.general-6.sentence-2'>.</a></div> <div id='conv.general-6.sentence-3' class='sentence'>The expression <span class='math'><span class='mathalpha'>E</span></span>
is used as a glvalue if and only if the initialization uses it as a glvalue<a class='hidden_link' href='#conv.general-6.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='conv.general-7'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L590'>#</a></div><div class='texpara'><div id='conv.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.general-note-3'>3</a></i>:&ensp;<div id='conv.general-7.sentence-1' class='sentence'>For class types, user-defined conversions are considered as well;
see <a href='class.conv' title='11.4.8&emsp;Conversions'>[class.<span class='shy'></span>conv]</a><a class='hidden_link' href='#conv.general-7.sentence-1'>.</a></div> <div id='conv.general-7.sentence-2' class='sentence'>In general, an implicit conversion
sequence (<a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>) consists of a standard conversion
sequence followed by a user-defined conversion followed by another
standard conversion sequence<a class='hidden_link' href='#conv.general-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='conv.general-8'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L599'>#</a></div><div class='texpara'><div id='conv.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.general-note-4'>4</a></i>:&ensp;<div id='conv.general-8.sentence-1' class='sentence'>There are some contexts where certain conversions are suppressed<a class='hidden_link' href='#conv.general-8.sentence-1'>.</a></div> <div id='conv.general-8.sentence-2' class='sentence'>For
example, the lvalue-to-rvalue conversion is not done on the operand of
the unary <span class='texttt'><span class='operator'>&amp;</span></span> operator<a class='hidden_link' href='#conv.general-8.sentence-2'>.</a></div> <div id='conv.general-8.sentence-3' class='sentence'>Specific exceptions are given in the
descriptions of those operators and contexts<a class='hidden_link' href='#conv.general-8.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='conv.lval' class='section'><h3 ><a class='secnum' href='#conv.lval' style='min-width:80pt'>7.3.2</a> Lvalue-to-rvalue conversion <a class='abbr_ref' href='conv.lval'>[conv.lval]</a></h3><div class='para' id='conv.lval-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.lval-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L609'>#</a></div><div class='texpara'><div id='conv.lval-1.sentence-1' class='sentence'><a class='index' id=':conversion,lvalue-to-rvalue'></a><a class='index' id=':type,incomplete'></a>A <a href='#def:glvalue' title='7.2.1&emsp;Value category&emsp;[basic.lval]'>glvalue</a> of a non-function, non-array type <span class='texttt'>T</span>
can be converted to
a prvalue<a class='hidden_link' href='#conv.lval-1.sentence-1'>.</a><a class='footnoteref' href='#footnote-43' id='footnoteref-43' title='For historical reasons, this conversion is called the “lvalue-to-rvalue” conversion, even though that name does not accurately reflect the taxonomy of expressions described in [basic.lval].'>43</a></div> <div id='conv.lval-1.sentence-2' class='sentence'>
If <span class='texttt'>T</span> is an incomplete type, a
program that necessitates this conversion is ill-formed<a class='hidden_link' href='#conv.lval-1.sentence-2'>.</a></div> <div id='conv.lval-1.sentence-3' class='sentence'>If <span class='texttt'>T</span>
is a non-class type, the type of the prvalue is
the cv-unqualified version of <span class='texttt'>T</span><a class='hidden_link' href='#conv.lval-1.sentence-3'>.</a></div> <div id='conv.lval-1.sentence-4' class='sentence'>Otherwise, the type of the
prvalue is <span class='texttt'>T</span><a class='hidden_link' href='#conv.lval-1.sentence-4'>.</a><a class='footnoteref' href='#footnote-44' id='footnoteref-44' title='In C++ class and array prvalues can have cv-qualified types. This differs from C, in which non-lvalues never have cv-qualified types.'>44</a></div></div></div><div class='para' id='conv.lval-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.lval-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L631'>#</a></div><div class='texpara'><div id='conv.lval-2.sentence-1' class='sentence'>When an lvalue-to-rvalue conversion
is applied to an expression <span class='math'><span class='mathalpha'>E</span></span>, and either
<ul class='itemize'><li id='conv.lval-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.lval-2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>E</span></span> is not potentially evaluated, or</li><li id='conv.lval-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.lval-2.2'>(2.2)</a></div>the evaluation of <span class='math'><span class='mathalpha'>E</span></span> results in the evaluation of a member
  <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span> of the set of potential results of <span class='math'><span class='mathalpha'>E</span></span>, and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span>
  names a variable <span class='texttt'>x</span> that is not odr-used by
  <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span> (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>),</li></ul>
the value contained in the referenced object is not accessed<a class='hidden_link' href='#conv.lval-2.sentence-1'>.</a></div> <div id='conv.lval-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.lval-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> n; <span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
S x <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;
<span class='keyword'>constexpr</span> S y <span class='curlybracket'>{</span> <span class='literal'>2</span> <span class='curlybracket'>}</span>;
<span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>bool</span> b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='parenthesis'>(</span>b <span class='operator'>?</span> y <span class='operator'>:</span> x<span class='parenthesis'>)</span><span class='operator'>.</span>n; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>auto</span> g <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> m <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='literal'>false</span><span class='parenthesis'>)</span>;   <span class='comment'>// undefined behavior: access of <span class='tcode_in_codeblock'>x.n</span> outside its lifetime</span>
<span class='keyword'>int</span> n <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='literal'>true</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK, does not access <span class='tcode_in_codeblock'>y.n</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='conv.lval-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.lval-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L656'>#</a></div><div class='texpara'><div id='conv.lval-3.sentence-1' class='sentence'>The result of the conversion is determined according to the
following rules:
<ul class='itemize'><li id='conv.lval-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.lval-3.1'>(3.1)</a></div><div class='texpara'><div id='conv.lval-3.1.sentence-1' class='sentence'>If <span class='texttt'>T</span> is <span class='mathit'>cv</span> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>, the result is a
null pointer constant (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>)<a class='hidden_link' href='#conv.lval-3.1.sentence-1'>.</a></div> <div id='conv.lval-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.lval-note-1'>1</a></i>:&ensp;<div id='conv.lval-3.1.sentence-2' class='sentence'>Since the conversion does not access the object to which the glvalue refers,
there is no side effect even if <span class='texttt'>T</span> is volatile-qualified (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>), and
the glvalue can refer to an inactive member of a union (<a href='class.union' title='11.5&emsp;Unions'>[class.<span class='shy'></span>union]</a>)<a class='hidden_link' href='#conv.lval-3.1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='conv.lval-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.lval-3.2'>(3.2)</a></div><div class='texpara'><div id='conv.lval-3.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> has a class
type, the conversion copy-initializes the result object from
the glvalue<a class='hidden_link' href='#conv.lval-3.2.sentence-1'>.</a></div></div></li><li id='conv.lval-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.lval-3.3'>(3.3)</a></div><div class='texpara'><div id='conv.lval-3.3.sentence-1' class='sentence'>Otherwise, if the object to which the glvalue refers contains an invalid
pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>), the behavior is
<a class='index' id=':lvalue-to-rvalue_conversion_of_an_invalid_pointer_value'></a>implementation-defined<a class='hidden_link' href='#conv.lval-3.3.sentence-1'>.</a></div></div></li><li id='conv.lval-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.lval-3.4'>(3.4)</a></div><div class='texpara'><div id='conv.lval-3.4.sentence-1' class='sentence'>Otherwise, if the bits in the value representation of
the object to which the glvalue refers
are not valid for the object's type, the behavior is undefined<a class='hidden_link' href='#conv.lval-3.4.sentence-1'>.</a></div> <div id='conv.lval-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.lval-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>bool</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>bool</span> b <span class='operator'>=</span> <span class='literal'>true</span>;
  <span class='keyword'>char</span> c <span class='operator'>=</span> <span class='literal'>42</span>;
  memcpy<span class='parenthesis'>(</span><span class='operator'>&amp;</span>b, <span class='operator'>&amp;</span>c, <span class='literal'>1</span><span class='parenthesis'>)</span>;
  <span class='keyword'>return</span> b;         <span class='comment'>// undefined behavior if <span class='tcode_in_codeblock'>42</span> is not a valid value representation for <span id=':bool__'><span class='tcode_in_codeblock'>bool</span></span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='conv.lval-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.lval-3.5'>(3.5)</a></div><div class='texpara'><div id='conv.lval-3.5.sentence-1' class='sentence'>Otherwise, the object indicated by the glvalue is read (<a href='defns.access' title='3.1&emsp;access'>[defns.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#conv.lval-3.5.sentence-1'>.</a></div> <div id='conv.lval-3.5.sentence-2' class='sentence'>Let <span class='texttt'>V</span> be the value contained in the object<a class='hidden_link' href='#conv.lval-3.5.sentence-2'>.</a></div> <div id='conv.lval-3.5.sentence-3' class='sentence'>If <span class='texttt'>T</span> is an integer type,
the prvalue result is
the value of type <span class='texttt'>T</span> congruent (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>) to <span class='texttt'>V</span>, and
<span class='texttt'>V</span> otherwise<a class='hidden_link' href='#conv.lval-3.5.sentence-3'>.</a></div></div></li></ul></div></div></div><div class='para nonNormativeOnly' id='conv.lval-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.lval-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L699'>#</a></div><div class='texpara'><div id='conv.lval-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.lval-note-2'>2</a></i>:&ensp;<div id='conv.lval-4.sentence-1' class='sentence'>See also <a href='#basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#conv.lval-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-43'><div class='texpara'><a class='footnotenum' href='#footnote-43'>43)</a><a class='footnoteBacklink' href='#footnoteref-43'>43)</a> <div id='footnote-43.sentence-1' class='sentence'>For historical reasons, this conversion is called the “lvalue-to-rvalue”
conversion, even though that name does not accurately reflect the taxonomy
of expressions described in <a href='#basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#footnote-43.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-44'><div class='texpara'><a class='footnotenum' href='#footnote-44'>44)</a><a class='footnoteBacklink' href='#footnoteref-44'>44)</a> <div id='footnote-44.sentence-1' class='sentence'>In C++ class and array prvalues can have cv-qualified types<a class='hidden_link' href='#footnote-44.sentence-1'>.</a></div> <div id='footnote-44.sentence-2' class='sentence'>This differs from C, in which non-lvalues never have
cv-qualified types<a class='hidden_link' href='#footnote-44.sentence-2'>.</a></div></div></div></div><div id='conv.array' class='section'><h3 ><a class='secnum' href='#conv.array' style='min-width:80pt'>7.3.3</a> Array-to-pointer conversion <a class='abbr_ref' href='conv.array'>[conv.array]</a></h3><div class='para' id='conv.array-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.array-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L706'>#</a></div><div class='texpara'><div id='conv.array-1.sentence-1' class='sentence'><a class='index' id=':conversion,array-to-pointer'></a>An lvalue or rvalue of type “array of <span class='texttt'>N</span> <span class='texttt'>T</span>” or “array
of unknown bound of <span class='texttt'>T</span>” can be converted to a prvalue of type
“pointer to <span class='texttt'>T</span>”<a class='hidden_link' href='#conv.array-1.sentence-1'>.</a></div> <div id='conv.array-1.sentence-2' class='sentence'>The temporary materialization conversion (<a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>) is applied<a class='hidden_link' href='#conv.array-1.sentence-2'>.</a></div> <div id='conv.array-1.sentence-3' class='sentence'>The result is a pointer to the first element of the array<a class='hidden_link' href='#conv.array-1.sentence-3'>.</a></div></div></div></div><div id='conv.func' class='section'><h3 ><a class='secnum' href='#conv.func' style='min-width:80pt'>7.3.4</a> Function-to-pointer conversion <a class='abbr_ref' href='conv.func'>[conv.func]</a></h3><div class='para' id='conv.func-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L718'>#</a></div><div class='texpara'><div id='conv.func-1.sentence-1' class='sentence'><a class='index' id=':conversion,function-to-pointer'></a>An lvalue of function type <span class='texttt'>T</span> can be converted to a prvalue of
type “pointer to <span class='texttt'>T</span>”<a class='hidden_link' href='#conv.func-1.sentence-1'>.</a></div> <div id='conv.func-1.sentence-2' class='sentence'>The result is a pointer to the
function<a class='hidden_link' href='#conv.func-1.sentence-2'>.</a><a class='footnoteref' href='#footnote-45' id='footnoteref-45' title='This conversion never applies to non-static member functions because an lvalue that refers to a non-static member function cannot be obtained.'>45</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-45'><div class='texpara'><a class='footnotenum' href='#footnote-45'>45)</a><a class='footnoteBacklink' href='#footnoteref-45'>45)</a> <div id='footnote-45.sentence-1' class='sentence'>This conversion never applies to non-static member functions because an
lvalue that refers to a non-static member function cannot be obtained<a class='hidden_link' href='#footnote-45.sentence-1'>.</a></div></div></div></div><div id='conv.rval' class='section'><h3 ><a class='secnum' href='#conv.rval' style='min-width:80pt'>7.3.5</a> Temporary materialization conversion <a class='abbr_ref' href='conv.rval'>[conv.rval]</a></h3><div class='texpara'><a class='index' id=':conversion,temporary_materialization'></a></div><div class='para' id='conv.rval-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.rval-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L731'>#</a></div><div class='texpara'><div id='conv.rval-1.sentence-1' class='sentence'>A prvalue of type <span class='texttt'>T</span> can be converted to an xvalue of type <span class='texttt'>T</span><a class='hidden_link' href='#conv.rval-1.sentence-1'>.</a></div> <div id='conv.rval-1.sentence-2' class='sentence'>This conversion initializes a temporary object (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>) of type <span class='texttt'>T</span> from the prvalue
by evaluating the prvalue with the temporary object as its result object,
and produces an xvalue denoting the temporary object<a class='hidden_link' href='#conv.rval-1.sentence-2'>.</a></div> <div id='conv.rval-1.sentence-3' class='sentence'><span class='texttt'>T</span> shall be a complete type<a class='hidden_link' href='#conv.rval-1.sentence-3'>.</a></div> <div id='conv.rval-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.rval-note-1'>1</a></i>:&ensp;<div id='conv.rval-1.sentence-4' class='sentence'>If <span class='texttt'>T</span> is a class type (or array thereof),
it must have an accessible and non-deleted destructor;
see <a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a><a class='hidden_link' href='#conv.rval-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='conv.rval-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.rval-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> n; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> k <span class='operator'>=</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>n;      <span class='comment'>// OK, <span class='tcode_in_codeblock'>X()</span> prvalue is converted to xvalue</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='conv.qual' class='section'><h3 ><a class='secnum' href='#conv.qual' style='min-width:80pt'>7.3.6</a> Qualification conversions <a class='abbr_ref' href='conv.qual'>[conv.qual]</a></h3><div class='texpara'><a class='index' id=':conversion,qualification'></a></div><div class='para' id='conv.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L752'>#</a></div><div class='texpara'><div id='conv.qual-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:qualification-decomposition' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'><span id='def:qualification-decomposition'><i >qualification-decomposition</i></span></a> of a type <span class='texttt'>T</span>
is a sequence of
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
such that <span class='texttt'>T</span> is
<span class='indented'>
“<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span> <span class='math'>⋯</span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span> <span class='texttt'>U</span>” for <span class='math'><span class='mathalpha'>n</span> &ensp;≥&ensp;0</span>,
</span>
where
each <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a set of cv-qualifiers (<a href='basic.type.qualifier' title='6.8.5&emsp;CV-qualifiers'>[basic.<span class='shy'></span>type.<span class='shy'></span>qualifier]</a>), and
each <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is
“pointer to” (<a href='dcl.ptr' title='9.3.4.2&emsp;Pointers'>[dcl.<span class='shy'></span>ptr]</a>),
“pointer to member of class <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> of type” (<a href='dcl.mptr' title='9.3.4.4&emsp;Pointers to members'>[dcl.<span class='shy'></span>mptr]</a>),
“array of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.085em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>”, or
“array of unknown bound of” (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#conv.qual-1.sentence-1'>.</a></div> <div id='conv.qual-1.sentence-2' class='sentence'>If <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> designates an array,
the cv-qualifiers <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span> on the element type are also taken as
the cv-qualifiers <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> of the array<a class='hidden_link' href='#conv.qual-1.sentence-2'>.</a></div> <div id='conv.qual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.qual-example-1'>1</a></i>:&ensp;<div id='conv.qual-1.sentence-3' class='sentence'>The type denoted by the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id'><span class='textsf'><i >type-id</i></span></span></a> <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>*</span><span class='operator'>*</span></span>
has three qualification-decompositions,
taking <span class='texttt'>U</span>
as “<span id=':int___'><span class='texttt'><span class='keyword'>int</span></span></span>”,
as “pointer to <span class='texttt'><span id=':const____'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':int____'><span class='texttt'><span class='keyword'>int</span></span></span></span>”, and
as “pointer to pointer to <span class='texttt'><span id=':const_____'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':int_____'><span class='texttt'><span class='keyword'>int</span></span></span></span>”<a class='hidden_link' href='#conv.qual-1.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='conv.qual-1.sentence-4' class='sentence'>
The <span class='math'><span class='mathalpha'>n</span></span>-tuple of cv-qualifiers after the first one
in the longest qualification-decomposition of <span class='texttt'>T</span>, that is,
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span>, is called the
<a class='hidden_link' href='#def:cv-qualification_signature' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'><span id='def:cv-qualification_signature'><i >cv-qualification signature</i></span></a> of <span class='texttt'>T</span><a class='hidden_link' href='#conv.qual-1.sentence-4'>.</a></div></div></div><div class='para' id='conv.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L783'>#</a></div><div class='texpara'><div id='conv.qual-2.sentence-1' class='sentence'>Two types <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are <a class='hidden_link' href='#def:similar_types' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'><span id='def:similar_types'><i >similar</i></span></a> if
they have qualification-decompositions with the same <span class='math'><span class='mathalpha'>n</span></span>
such that corresponding <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> components are either the same
or one is “array of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.085em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>” and the other is “array of unknown bound of”,
and the types denoted by <span class='texttt'>U</span> are the same<a class='hidden_link' href='#conv.qual-2.sentence-1'>.</a></div></div></div><div class='para' id='conv.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L791'>#</a></div><div class='texpara'><div id='conv.qual-3.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:type,qualification-combined' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'><span id='def:type,qualification-combined'><i >qualification-combined type</i></span></a> of two types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>
is the type <span class='texttt'>T3</span>
similar to <span class='texttt'>T1</span> whose qualification-decomposition is such that:
<ul class='itemize'><li id='conv.qual-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.qual-3.1'>(3.1)</a></div>for every <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span>, <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> is the union of
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span>,</li><li id='conv.qual-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.qual-3.2'>(3.2)</a></div>if either <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> or <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> is “array of unknown bound of”,
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> is “array of unknown bound of”, otherwise it is <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span>, and</li><li id='conv.qual-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.qual-3.3'>(3.3)</a></div>if the resulting <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> is different from <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> or <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span>,
or the resulting <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> is different from <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> or <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span>,
then <span id=':const______'><span class='texttt'><span class='keyword'>const</span></span></span> is added to every <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span></span> for <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span>,</li></ul>
where <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> are the components of
the qualification-decomposition of <span class='math'><span class='texttt'>T</span><span class='mathalpha'>j</span></span><a class='hidden_link' href='#conv.qual-3.sentence-1'>.</a></div> <div id='conv.qual-3.sentence-2' class='sentence'>A prvalue of type <span class='texttt'>T1</span>
can be converted to type <span class='texttt'>T2</span>
if the qualification-combined type of <span class='texttt'>T1</span> and <span class='texttt'>T2</span> is <span class='texttt'>T2</span><a class='hidden_link' href='#conv.qual-3.sentence-2'>.</a></div> <div id='conv.qual-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.qual-note-1'>1</a></i>:&ensp;<div id='conv.qual-3.sentence-3' class='sentence'>If a program could assign a pointer of type <span class='texttt'>T<span class='operator'>*</span><span class='operator'>*</span></span> to a pointer of
type <span id=':const_______'><span class='texttt'><span class='keyword'>const</span></span></span> <span class='texttt'>T<span class='operator'>*</span><span class='operator'>*</span></span> (that is, if line #1 below were
allowed), a program could inadvertently modify a const object
(as it is done on line #2)<a class='hidden_link' href='#conv.qual-3.sentence-3'>.</a></div> <div id='conv.qual-3.sentence-4' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
<span class='keyword'>const</span> <span class='keyword'>char</span> c <span class='operator'>=</span> <span class='literal'>'c'</span>;
<span class='keyword'>char</span><span class='operator'>*</span> pc;
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='operator'>*</span> pcc <span class='operator'>=</span> <span class='operator'>&amp;</span>pc;       <span class='comment'>// #1: not allowed</span>
<span class='operator'>*</span>pcc <span class='operator'>=</span> <span class='operator'>&amp;</span>c;
<span class='operator'>*</span>pc <span class='operator'>=</span> <span class='literal'>'C'</span>;                    <span class='comment'>// #2: modifies a const object</span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end note</i>]</div></div> <div id='conv.qual-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.qual-note-2'>2</a></i>:&ensp;<div id='conv.qual-3.sentence-5' class='sentence'>Given similar types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, this
construction ensures that
both can be converted to the qualification-combined type of <span class='texttt'>T1</span> and <span class='texttt'>T2</span><a class='hidden_link' href='#conv.qual-3.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='conv.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L833'>#</a></div><div class='texpara'><div id='conv.qual-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.qual-note-3'>3</a></i>:&ensp;<div id='conv.qual-4.sentence-1' class='sentence'>A prvalue of type “pointer to <i >cv1</i> <span class='texttt'>T</span>” can be
converted to a prvalue of type “pointer to <i >cv2</i> <span class='texttt'>T</span>” if
“<i >cv2</i> <span class='texttt'>T</span>” is more cv-qualified than “<i >cv1</i>
<span class='texttt'>T</span>”<a class='hidden_link' href='#conv.qual-4.sentence-1'>.</a></div> <div id='conv.qual-4.sentence-2' class='sentence'>A prvalue of type “pointer to member of <span class='texttt'>X</span> of type <i >cv1</i>
<span class='texttt'>T</span>” can be converted to a prvalue of type “pointer to member
of <span class='texttt'>X</span> of type <i >cv2</i> <span class='texttt'>T</span>” if “<i >cv2</i>
<span class='texttt'>T</span>” is more cv-qualified than “<i >cv1</i> <span class='texttt'>T</span>”<a class='hidden_link' href='#conv.qual-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='conv.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#conv.qual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L845'>#</a></div><div class='texpara'><div id='conv.qual-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.qual-note-4'>4</a></i>:&ensp;<div id='conv.qual-5.sentence-1' class='sentence'>Function types (including those used in pointer-to-member-function types)
are never cv-qualified (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#conv.qual-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div></div><div id='conv.prom' class='section'><h3 ><a class='secnum' href='#conv.prom' style='min-width:80pt'>7.3.7</a> Integral promotions <a class='abbr_ref' href='conv.prom'>[conv.prom]</a></h3><div class='para' id='conv.prom-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L854'>#</a></div><div class='texpara'><div id='conv.prom-1.sentence-1' class='sentence'>For the purposes of <a href='#conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>,
a <a class='hidden_link' href='#def:bit-field,converted' title='7.3.7&emsp;Integral promotions&emsp;[conv.prom]'><span id='def:bit-field,converted'><i >converted bit-field</i></span></a> is a prvalue that is the result of
an lvalue-to-rvalue conversion (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>) applied to
a bit-field (<a href='class.bit' title='11.4.10&emsp;Bit-fields'>[class.<span class='shy'></span>bit]</a>)<a class='hidden_link' href='#conv.prom-1.sentence-1'>.</a></div></div></div><div class='para' id='conv.prom-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L860'>#</a></div><div class='texpara'><div id='conv.prom-2.sentence-1' class='sentence'><a class='index' id=':promotion,integral'></a>A prvalue that is not a converted bit-field and has an integer type other than
<span id=':bool___'><span class='texttt'><span class='keyword'>bool</span></span></span>, <span id=':char8_t'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>, <span id=':char16_t'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>,
<span id=':char32_t'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>, or <span id=':wchar_t'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span> whose integer conversion
rank (<a href='conv.rank' title='6.8.6&emsp;Conversion ranks'>[conv.<span class='shy'></span>rank]</a>) is less than the rank of <span id=':int______'><span class='texttt'><span class='keyword'>int</span></span></span> can be
converted to a prvalue of type <span id=':int_______'><span class='texttt'><span class='keyword'>int</span></span></span> if <span id=':int________'><span class='texttt'><span class='keyword'>int</span></span></span> can represent
all the values of the source type; otherwise, the source prvalue can be
converted to a prvalue of type <span class='texttt'><span id=':unsigned_'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':int_________'><span class='texttt'><span class='keyword'>int</span></span></span></span><a class='hidden_link' href='#conv.prom-2.sentence-1'>.</a></div></div></div><div class='para' id='conv.prom-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L870'>#</a></div><div class='texpara'><div id='conv.prom-3.sentence-1' class='sentence'><a class='index' id=':type,underlying,enumeration'></a>A prvalue of an unscoped enumeration type whose underlying type is not
fixed can be converted to a prvalue of the first of the following
types that can represent all the values of the enumeration (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>): <span id=':int__________'><span class='texttt'><span class='keyword'>int</span></span></span>,
<span class='texttt'><span id=':unsigned__'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':int___________'><span class='texttt'><span class='keyword'>int</span></span></span></span>, <span class='texttt'><span id=':long'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int____________'><span class='texttt'><span class='keyword'>int</span></span></span></span>, <span class='texttt'><span id=':unsigned___'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':long_'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int_____________'><span class='texttt'><span class='keyword'>int</span></span></span></span>,
<span class='texttt'><span id=':long__'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long___'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int______________'><span class='texttt'><span class='keyword'>int</span></span></span></span>, or <span class='texttt'><span id=':unsigned____'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':long____'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long_____'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int_______________'><span class='texttt'><span class='keyword'>int</span></span></span></span><a class='hidden_link' href='#conv.prom-3.sentence-1'>.</a></div> <div id='conv.prom-3.sentence-2' class='sentence'>If none of the types in that
list can represent all the values of the enumeration, a prvalue of an unscoped
enumeration type can be converted to a prvalue of the extended integer type with lowest
integer conversion rank (<a href='conv.rank' title='6.8.6&emsp;Conversion ranks'>[conv.<span class='shy'></span>rank]</a>) greater than the rank of <span class='texttt'><span class='keyword'>long</span> <span class='keyword'>long</span></span>
in which all the values of the enumeration can be represented<a class='hidden_link' href='#conv.prom-3.sentence-2'>.</a></div> <div id='conv.prom-3.sentence-3' class='sentence'>If there are
two such extended types, the signed one is chosen<a class='hidden_link' href='#conv.prom-3.sentence-3'>.</a></div></div></div><div class='para' id='conv.prom-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L883'>#</a></div><div class='texpara'><div id='conv.prom-4.sentence-1' class='sentence'>A prvalue of an unscoped enumeration type whose underlying type is
fixed (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>) can be converted to a prvalue of its underlying type<a class='hidden_link' href='#conv.prom-4.sentence-1'>.</a></div> <div id='conv.prom-4.sentence-2' class='sentence'>Moreover,
if integral promotion can be applied to its underlying type, a prvalue of an unscoped
enumeration type whose underlying type is fixed can also be converted to a prvalue of
the promoted underlying type<a class='hidden_link' href='#conv.prom-4.sentence-2'>.</a></div> <div id='conv.prom-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.prom-note-1'>1</a></i>:&ensp;<div id='conv.prom-4.sentence-3' class='sentence'>A converted bit-field of enumeration type is treated as
any other value of that type for promotion purposes<a class='hidden_link' href='#conv.prom-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.prom-5'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L894'>#</a></div><div class='texpara'><div id='conv.prom-5.sentence-1' class='sentence'>A converted bit-field of integral type can be converted
to a prvalue of type <span id=':int________________'><span class='texttt'><span class='keyword'>int</span></span></span> if <span id=':int_________________'><span class='texttt'><span class='keyword'>int</span></span></span> can represent all the
values of the bit-field; otherwise, it can be converted to
<span class='texttt'><span id=':unsigned_____'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':int__________________'><span class='texttt'><span class='keyword'>int</span></span></span></span> if <span class='texttt'><span id=':unsigned______'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':int___________________'><span class='texttt'><span class='keyword'>int</span></span></span></span> can represent all the
values of the bit-field<a class='hidden_link' href='#conv.prom-5.sentence-1'>.</a></div></div></div><div class='para' id='conv.prom-6'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L901'>#</a></div><div class='texpara'><div id='conv.prom-6.sentence-1' class='sentence'><a class='index' id=':type,underlying,wchar_t'></a><a class='index' id=':type,underlying,char16_t'></a><a class='index' id=':type,underlying,char32_t'></a>A prvalue of type
<span id=':char8_t_'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>, <span id=':char16_t_'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>, <span id=':char32_t_'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>, or
<span id=':wchar_t_'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span> (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
(including a converted bit-field that was not
already promoted to <span id=':int____________________'><span class='texttt'><span class='keyword'>int</span></span></span> or <span class='texttt'><span id=':unsigned_______'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':int_____________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>
according to the rules above)
can be converted to a prvalue
of the first of the following types that can represent all the values of
its underlying type:
<span id=':int______________________'><span class='texttt'><span class='keyword'>int</span></span></span>,
<span class='texttt'><span id=':unsigned________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':int_______________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>,
<span class='texttt'><span id=':long______'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int________________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>,
<span class='texttt'><span id=':unsigned_________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':long_______'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int_________________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>,
<span class='texttt'><span id=':long________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long_________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int__________________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>,
<span class='texttt'><span id=':unsigned__________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':long__________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long___________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int___________________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>, or
its underlying type<a class='hidden_link' href='#conv.prom-6.sentence-1'>.</a></div></div></div><div class='para' id='conv.prom-7'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L922'>#</a></div><div class='texpara'><div id='conv.prom-7.sentence-1' class='sentence'><a class='index' id=':promotion,bool_to_int'></a>A prvalue of type <span id=':bool____'><span class='texttt'><span class='keyword'>bool</span></span></span> can be converted to a prvalue of type
<span id=':int____________________________'><span class='texttt'><span class='keyword'>int</span></span></span>, with <span id=':false'><span class='texttt'><span class='literal'>false</span></span></span> becoming zero and <span id=':true'><span class='texttt'><span class='literal'>true</span></span></span> becoming
one<a class='hidden_link' href='#conv.prom-7.sentence-1'>.</a></div></div></div><div class='para' id='conv.prom-8'><div class='marginalizedparent'><a class='marginalized' href='#conv.prom-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L928'>#</a></div><div class='texpara'><div id='conv.prom-8.sentence-1' class='sentence'>These conversions are called <a class='hidden_link' href='#def:integral_promotion' title='7.3.7&emsp;Integral promotions&emsp;[conv.prom]'><span id='def:integral_promotion'><i >integral promotions</i></span></a><a class='hidden_link' href='#conv.prom-8.sentence-1'>.</a></div></div></div></div><div id='conv.fpprom' class='section'><h3 ><a class='secnum' href='#conv.fpprom' style='min-width:80pt'>7.3.8</a> Floating-point promotion <a class='abbr_ref' href='conv.fpprom'>[conv.fpprom]</a></h3><div class='para' id='conv.fpprom-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.fpprom-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L933'>#</a></div><div class='texpara'><div id='conv.fpprom-1.sentence-1' class='sentence'><a class='index' id=':promotion,floating-point'></a>A prvalue of type <span id=':float'><span class='texttt'><span class='keyword'>float</span></span></span> can be converted to a prvalue of type
<span id=':double'><span class='texttt'><span class='keyword'>double</span></span></span><a class='hidden_link' href='#conv.fpprom-1.sentence-1'>.</a></div> <div id='conv.fpprom-1.sentence-2' class='sentence'>The value is unchanged<a class='hidden_link' href='#conv.fpprom-1.sentence-2'>.</a></div></div></div><div class='para' id='conv.fpprom-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.fpprom-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L938'>#</a></div><div class='texpara'><div id='conv.fpprom-2.sentence-1' class='sentence'>This conversion is called <a class='hidden_link' href='#def:floating-point_promotion' title='7.3.8&emsp;Floating-point promotion&emsp;[conv.fpprom]'><span id='def:floating-point_promotion'><i >floating-point promotion</i></span></a><a class='hidden_link' href='#conv.fpprom-2.sentence-1'>.</a></div></div></div></div><div id='conv.integral' class='section'><h3 ><a class='secnum' href='#conv.integral' style='min-width:80pt'>7.3.9</a> Integral conversions <a class='abbr_ref' href='conv.integral'>[conv.integral]</a></h3><div class='para' id='conv.integral-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.integral-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L943'>#</a></div><div class='texpara'><div id='conv.integral-1.sentence-1' class='sentence'><a class='index' id=':conversion,integral'></a>A prvalue of an integer type can be converted to a prvalue of another
integer type<a class='hidden_link' href='#conv.integral-1.sentence-1'>.</a></div> <div id='conv.integral-1.sentence-2' class='sentence'>A prvalue of an unscoped enumeration type can be converted to
a prvalue of an integer type<a class='hidden_link' href='#conv.integral-1.sentence-2'>.</a></div></div></div><div class='para' id='conv.integral-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.integral-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L949'>#</a></div><div class='texpara'><div id='conv.integral-2.sentence-1' class='sentence'><a class='index' id=':conversion,bool'></a>If the destination type is <span id=':bool_____'><span class='texttt'><span class='keyword'>bool</span></span></span>, see <a href='#conv.bool' title='7.3.15&emsp;Boolean conversions'>[conv.<span class='shy'></span>bool]</a><a class='hidden_link' href='#conv.integral-2.sentence-1'>.</a></div> <div id='conv.integral-2.sentence-2' class='sentence'>If the
source type is <span id=':bool______'><span class='texttt'><span class='keyword'>bool</span></span></span>, the value <span id=':false_'><span class='texttt'><span class='literal'>false</span></span></span> is converted to
zero and the value <span id=':true_'><span class='texttt'><span class='literal'>true</span></span></span> is converted to one<a class='hidden_link' href='#conv.integral-2.sentence-2'>.</a></div></div></div><div class='para' id='conv.integral-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.integral-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L955'>#</a></div><div class='texpara'><div id='conv.integral-3.sentence-1' class='sentence'><a class='index' id=':conversion,to_unsigned'></a><a class='index' id=':conversion,to_signed'></a>Otherwise, the result is the unique value of the destination type
that is congruent to the source integer modulo <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span></span>,
where <span class='math'><span class='mathalpha'>N</span></span> is the width of the destination type<a class='hidden_link' href='#conv.integral-3.sentence-1'>.</a></div></div></div><div class='para' id='conv.integral-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.integral-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L962'>#</a></div><div class='texpara'><div id='conv.integral-4.sentence-1' class='sentence'>The conversions allowed as integral promotions are excluded from the set
of integral conversions<a class='hidden_link' href='#conv.integral-4.sentence-1'>.</a></div></div></div></div><div id='conv.double' class='section'><h3 ><a class='secnum' href='#conv.double' style='min-width:80pt'>7.3.10</a> Floating-point conversions <a class='abbr_ref' href='conv.double'>[conv.double]</a></h3><div class='para' id='conv.double-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.double-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L968'>#</a></div><div class='texpara'><div id='conv.double-1.sentence-1' class='sentence'><a class='index' id=':conversion,floating-point'></a>A prvalue of floating-point type can be converted to a prvalue of
another floating-point type
with a greater or equal conversion rank (<a href='conv.rank' title='6.8.6&emsp;Conversion ranks'>[conv.<span class='shy'></span>rank]</a>)<a class='hidden_link' href='#conv.double-1.sentence-1'>.</a></div> <div id='conv.double-1.sentence-2' class='sentence'>A prvalue of standard floating-point type can be converted to
a prvalue of another standard floating-point type<a class='hidden_link' href='#conv.double-1.sentence-2'>.</a></div></div></div><div class='para' id='conv.double-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.double-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L976'>#</a></div><div class='texpara'><div id='conv.double-2.sentence-1' class='sentence'>If the source value can be exactly
represented in the destination type, the result of the conversion is
that exact representation<a class='hidden_link' href='#conv.double-2.sentence-1'>.</a></div> <div id='conv.double-2.sentence-2' class='sentence'>If the source value is between two adjacent
destination values, the result of the conversion is an
<a class='index' id=':result_of_inexact_floating-point_conversion'></a>implementation-defined choice of either of those values<a class='hidden_link' href='#conv.double-2.sentence-2'>.</a></div> <div id='conv.double-2.sentence-3' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#conv.double-2.sentence-3'>.</a></div></div></div><div class='para' id='conv.double-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.double-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L984'>#</a></div><div class='texpara'><div id='conv.double-3.sentence-1' class='sentence'>The conversions allowed as floating-point promotions are excluded from
the set of floating-point conversions<a class='hidden_link' href='#conv.double-3.sentence-1'>.</a></div></div></div></div><div id='conv.fpint' class='section'><h3 ><a class='secnum' href='#conv.fpint' style='min-width:80pt'>7.3.11</a> Floating-integral conversions <a class='abbr_ref' href='conv.fpint'>[conv.fpint]</a></h3><div class='para' id='conv.fpint-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.fpint-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L990'>#</a></div><div class='texpara'><div id='conv.fpint-1.sentence-1' class='sentence'><a class='index' id=':conversion,floating_to_integral'></a>A prvalue of a floating-point type can be converted to a prvalue of an
integer type<a class='hidden_link' href='#conv.fpint-1.sentence-1'>.</a></div> <div id='conv.fpint-1.sentence-2' class='sentence'>The conversion truncates; that is, the fractional part is
discarded<a class='hidden_link' href='#conv.fpint-1.sentence-2'>.</a></div> <div id='conv.fpint-1.sentence-3' class='sentence'><a class='index' id=':value,undefined_unrepresentable_integral'></a>The behavior is undefined if the truncated value cannot be represented
in the destination type<a class='hidden_link' href='#conv.fpint-1.sentence-3'>.</a></div> <div id='conv.fpint-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.fpint-note-1'>1</a></i>:&ensp;<div id='conv.fpint-1.sentence-4' class='sentence'>If the destination type is <span id=':bool_______'><span class='texttt'><span class='keyword'>bool</span></span></span>, see <a href='#conv.bool' title='7.3.15&emsp;Boolean conversions'>[conv.<span class='shy'></span>bool]</a><a class='hidden_link' href='#conv.fpint-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.fpint-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.fpint-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1002'>#</a></div><div class='texpara'><div id='conv.fpint-2.sentence-1' class='sentence'><a class='index' id=':conversion,integral_to_floating'></a><a class='index' id=':truncation'></a><a class='index' id=':rounding'></a>A prvalue of an integer type or of an unscoped enumeration type can be converted to
a prvalue of a floating-point type<a class='hidden_link' href='#conv.fpint-2.sentence-1'>.</a></div> <div id='conv.fpint-2.sentence-2' class='sentence'>The result is exact if possible<a class='hidden_link' href='#conv.fpint-2.sentence-2'>.</a></div> <div id='conv.fpint-2.sentence-3' class='sentence'>If the value being
converted is in the range of values that can be represented but the value cannot be
represented exactly, it is an <a class='index' id=':value_of_result_of_inexact_integer_to_floating-point_conversion'></a>implementation-defined choice of either the next lower or higher representable
value<a class='hidden_link' href='#conv.fpint-2.sentence-3'>.</a></div> <div id='conv.fpint-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.fpint-note-2'>2</a></i>:&ensp;<div id='conv.fpint-2.sentence-4' class='sentence'>Loss of precision occurs if the integral value cannot be represented
exactly as a value of the floating-point type<a class='hidden_link' href='#conv.fpint-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='conv.fpint-2.sentence-5' class='sentence'>
If the value being converted is
outside the range of values that can be represented, the behavior is undefined<a class='hidden_link' href='#conv.fpint-2.sentence-5'>.</a></div> <div id='conv.fpint-2.sentence-6' class='sentence'>If the
source type is <span id=':bool________'><span class='texttt'><span class='keyword'>bool</span></span></span>, the value <span id=':false__'><span class='texttt'><span class='literal'>false</span></span></span> is converted to zero and the value
<span id=':true__'><span class='texttt'><span class='literal'>true</span></span></span> is converted to one<a class='hidden_link' href='#conv.fpint-2.sentence-6'>.</a></div></div></div></div><div id='conv.ptr' class='section'><h3 ><a class='secnum' href='#conv.ptr' style='min-width:80pt'>7.3.12</a> Pointer conversions <a class='abbr_ref' href='conv.ptr'>[conv.ptr]</a></h3><div class='para' id='conv.ptr-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.ptr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1023'>#</a></div><div class='texpara'><div id='conv.ptr-1.sentence-1' class='sentence'><a class='index' id=':conversion,pointer'></a><a class='index' id=':value,null_pointer'></a>A <a class='hidden_link' href='#def:constant,null_pointer' title='7.3.12&emsp;Pointer conversions&emsp;[conv.ptr]'><span id='def:constant,null_pointer'><i >null pointer constant</i></span></a> is an integer literal (<a href='lex.icon' title='5.13.2&emsp;Integer literals'>[lex.<span class='shy'></span>icon]</a>) with
value zero
or a prvalue of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span><a class='hidden_link' href='#conv.ptr-1.sentence-1'>.</a></div> <div id='conv.ptr-1.sentence-2' class='sentence'>A null pointer constant can be
converted to a pointer type; the
result is the null pointer value of that type (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) and is
distinguishable from every other value of
object pointer or function pointer
type<a class='hidden_link' href='#conv.ptr-1.sentence-2'>.</a></div> <div id='conv.ptr-1.sentence-3' class='sentence'>Such a conversion is called a <a class='hidden_link' href='#def:conversion,null_pointer' title='7.3.12&emsp;Pointer conversions&emsp;[conv.ptr]'><span id='def:conversion,null_pointer'><i >null pointer conversion</i></span></a><a class='hidden_link' href='#conv.ptr-1.sentence-3'>.</a></div> <div id='conv.ptr-1.sentence-4' class='sentence'>The conversion of a null pointer constant to a pointer to
cv-qualified type is a single conversion, and not the sequence of a
pointer conversion followed by a qualification
conversion (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)<a class='hidden_link' href='#conv.ptr-1.sentence-4'>.</a></div> <div id='conv.ptr-1.sentence-5' class='sentence'>A null pointer constant of integral type
can be converted to a prvalue of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span><a class='hidden_link' href='#conv.ptr-1.sentence-5'>.</a></div> <div id='conv.ptr-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.ptr-note-1'>1</a></i>:&ensp;<div id='conv.ptr-1.sentence-6' class='sentence'>The resulting prvalue is not a null pointer value<a class='hidden_link' href='#conv.ptr-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.ptr-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.ptr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1046'>#</a></div><div class='texpara'><div id='conv.ptr-2.sentence-1' class='sentence'>A prvalue of type “pointer to <span class='mathit'>cv</span> <span class='texttt'>T</span>”, where <span class='texttt'>T</span>
is an object type, can be converted to a prvalue of type “pointer to
<span class='mathit'>cv</span> <span id=':void___________'><span class='texttt'><span class='keyword'>void</span></span></span>”<a class='hidden_link' href='#conv.ptr-2.sentence-1'>.</a></div> <div id='conv.ptr-2.sentence-2' class='sentence'>The pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) is unchanged by this conversion<a class='hidden_link' href='#conv.ptr-2.sentence-2'>.</a></div></div></div><div class='para' id='conv.ptr-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.ptr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1052'>#</a></div><div class='texpara'><div id='conv.ptr-3.sentence-1' class='sentence'>A prvalue <span class='texttt'>v</span> of type “pointer to <span class='mathit'>cv</span> <span class='texttt'>D</span>”, where <span class='texttt'>D</span>
is a complete class type, can be converted to a prvalue of type “pointer to
<span class='mathit'>cv</span> <span class='texttt'>B</span>”, where <span class='texttt'>B</span> is a base class (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>)
of <span class='texttt'>D</span><a class='hidden_link' href='#conv.ptr-3.sentence-1'>.</a></div> <div id='conv.ptr-3.sentence-2' class='sentence'>If <span class='texttt'>B</span> is an
inaccessible (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) or
ambiguous (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>) base class of <span class='texttt'>D</span>, a program
that necessitates this conversion is ill-formed<a class='hidden_link' href='#conv.ptr-3.sentence-2'>.</a></div> <div id='conv.ptr-3.sentence-3' class='sentence'>If <span class='texttt'>v</span> is a null pointer value,
the result is a null pointer value<a class='hidden_link' href='#conv.ptr-3.sentence-3'>.</a></div> <div id='conv.ptr-3.sentence-4' class='sentence'>Otherwise,
if <span class='texttt'>B</span> is a virtual base class of <span class='texttt'>D</span> and
<span class='texttt'>v</span> does not point to an object
whose type is similar (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) to <span class='texttt'>D</span> and
that is
within its lifetime or
within its period of construction or destruction (<a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a>),
the behavior is undefined<a class='hidden_link' href='#conv.ptr-3.sentence-4'>.</a></div> <div id='conv.ptr-3.sentence-5' class='sentence'>Otherwise,
the result is a pointer to the base class subobject of
the derived class object<a class='hidden_link' href='#conv.ptr-3.sentence-5'>.</a></div></div></div></div><div id='conv.mem' class='section'><h3 ><a class='secnum' href='#conv.mem' style='min-width:80pt'>7.3.13</a> Pointer-to-member conversions <a class='abbr_ref' href='conv.mem'>[conv.mem]</a></h3><div class='para' id='conv.mem-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.mem-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1076'>#</a></div><div class='texpara'><div id='conv.mem-1.sentence-1' class='sentence'><a class='index' id=':conversion,pointer-to-member'></a><a class='index' id=':constant,null_pointer'></a>A <a href='#def:constant,null_pointer' title='7.3.12&emsp;Pointer conversions&emsp;[conv.ptr]'>null pointer constant</a> can be converted to a
pointer-to-member
type; the result is the <a class='hidden_link' href='#def:value,null_member_pointer' title='7.3.13&emsp;Pointer-to-member conversions&emsp;[conv.mem]'><span id='def:value,null_member_pointer'><i >null member pointer value</i></span></a>
of that type and is distinguishable from any pointer to member not
created from a null pointer constant<a class='hidden_link' href='#conv.mem-1.sentence-1'>.</a></div> <div id='conv.mem-1.sentence-2' class='sentence'>Such a conversion is called a <a class='hidden_link' href='#def:conversion,null_member_pointer' title='7.3.13&emsp;Pointer-to-member conversions&emsp;[conv.mem]'><span id='def:conversion,null_member_pointer'><i >null member pointer conversion</i></span></a><a class='hidden_link' href='#conv.mem-1.sentence-2'>.</a></div> <div id='conv.mem-1.sentence-3' class='sentence'>The conversion of a null pointer
constant to a pointer to member of cv-qualified type is a single
conversion, and not the sequence of a pointer-to-member conversion
followed by a qualification conversion (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)<a class='hidden_link' href='#conv.mem-1.sentence-3'>.</a></div></div></div><div class='para' id='conv.mem-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.mem-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1091'>#</a></div><div class='texpara'><div id='conv.mem-2.sentence-1' class='sentence'>A prvalue of type “pointer to member of <span class='texttt'>B</span> of type <span class='mathit'>cv</span>
<span class='texttt'>T</span>”, where <span class='texttt'>B</span> is a class type, can be converted to
a prvalue of type “pointer to member of <span class='texttt'>D</span> of type <span class='mathit'>cv</span>
<span class='texttt'>T</span>”, where <span class='texttt'>D</span> is a complete class derived (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>)
from <span class='texttt'>B</span><a class='hidden_link' href='#conv.mem-2.sentence-1'>.</a></div> <div id='conv.mem-2.sentence-2' class='sentence'>If <span class='texttt'>B</span> is an
inaccessible (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>),
ambiguous (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>), or virtual (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>) base
class of <span class='texttt'>D</span>, or a base class of a virtual base class of
<span class='texttt'>D</span>, a program that necessitates this conversion is ill-formed<a class='hidden_link' href='#conv.mem-2.sentence-2'>.</a></div> <div id='conv.mem-2.sentence-3' class='sentence'>If class <span class='texttt'>D</span> does not contain the original member and
is not a base class of the class containing the original member,
the behavior is undefined<a class='hidden_link' href='#conv.mem-2.sentence-3'>.</a></div> <div id='conv.mem-2.sentence-4' class='sentence'>Otherwise,
the result of the conversion refers to the same member as the pointer to
member before the conversion took place, but it refers to the base class
member as if it were a member of the derived class<a class='hidden_link' href='#conv.mem-2.sentence-4'>.</a></div> <div id='conv.mem-2.sentence-5' class='sentence'>The result refers to
the member in <span class='texttt'>D</span>'s instance of <span class='texttt'>B</span><a class='hidden_link' href='#conv.mem-2.sentence-5'>.</a></div> <div id='conv.mem-2.sentence-6' class='sentence'>Since the result has
type “pointer to member of <span class='texttt'>D</span> of type <span class='mathit'>cv</span> <span class='texttt'>T</span>”,
indirection through it with a <span class='texttt'>D</span> object is valid<a class='hidden_link' href='#conv.mem-2.sentence-6'>.</a></div> <div id='conv.mem-2.sentence-7' class='sentence'>The result is the same
as if indirecting through the pointer to member of <span class='texttt'>B</span> with the
<span class='texttt'>B</span> subobject of <span class='texttt'>D</span><a class='hidden_link' href='#conv.mem-2.sentence-7'>.</a></div> <div id='conv.mem-2.sentence-8' class='sentence'>The null member pointer value is
converted to the null member pointer value of the destination
type<a class='hidden_link' href='#conv.mem-2.sentence-8'>.</a><a class='footnoteref' href='#footnote-46' id='footnoteref-46' title='The rule for conversion of pointers to members (from pointer to member of base to pointer to member of derived) appears inverted compared to the rule for pointers to objects (from pointer to derived to pointer to base) ([conv.ptr], [class.derived]). This inversion is necessary to ensure type safety. Note that a pointer to member is not an object pointer or a function pointer and the rules for conversions of such pointers do not apply to pointers to members. In particular, a pointer to member cannot be converted to a void*.'>46</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-46'><div class='texpara'><a class='footnotenum' href='#footnote-46'>46)</a><a class='footnoteBacklink' href='#footnoteref-46'>46)</a> <div id='footnote-46.sentence-1' class='sentence'>The rule for conversion of pointers to members (from pointer to member
of base to pointer to member of derived) appears inverted compared to
the rule for pointers to objects (from pointer to derived to pointer to
base) (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>, <a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>)<a class='hidden_link' href='#footnote-46.sentence-1'>.</a></div> <div id='footnote-46.sentence-2' class='sentence'>This inversion is
necessary to ensure type safety<a class='hidden_link' href='#footnote-46.sentence-2'>.</a></div> <div id='footnote-46.sentence-3' class='sentence'>Note that a pointer to member is not
an object pointer or a function pointer
and the rules for conversions
of such pointers do not apply to pointers to members<a class='hidden_link' href='#footnote-46.sentence-3'>.</a></div> <div id='footnote-46.sentence-4' class='sentence'><a class='index' id=':conversion,pointer-to-member,void*'></a>In particular, a pointer to member cannot be converted to a
<span class='texttt'><span id=':void____________'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span><a class='hidden_link' href='#footnote-46.sentence-4'>.</a></div></div></div></div><div id='conv.fctptr' class='section'><h3 ><a class='secnum' href='#conv.fctptr' style='min-width:80pt'>7.3.14</a> Function pointer conversions <a class='abbr_ref' href='conv.fctptr'>[conv.fctptr]</a></h3><div class='para' id='conv.fctptr-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.fctptr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1130'>#</a></div><div class='texpara'><div id='conv.fctptr-1.sentence-1' class='sentence'><a class='index' id=':conversion,function_pointer'></a>A prvalue of type “pointer to <span id=':noexcept__'><span class='texttt'><span class='keyword'>noexcept</span></span></span> function”
can be converted to a prvalue of type “pointer to function”<a class='hidden_link' href='#conv.fctptr-1.sentence-1'>.</a></div> <div id='conv.fctptr-1.sentence-2' class='sentence'>The result is a pointer to the function<a class='hidden_link' href='#conv.fctptr-1.sentence-2'>.</a></div> <div id='conv.fctptr-1.sentence-3' class='sentence'>A prvalue of type “pointer to member of type <span id=':noexcept___'><span class='texttt'><span class='keyword'>noexcept</span></span></span> function”
can be converted to a prvalue of type “pointer to member of type function”<a class='hidden_link' href='#conv.fctptr-1.sentence-3'>.</a></div> <div id='conv.fctptr-1.sentence-4' class='sentence'>The result designates the member function<a class='hidden_link' href='#conv.fctptr-1.sentence-4'>.</a></div></div><div class='texpara'><div id='conv.fctptr-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.fctptr-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='operator'>*</span>pp<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>p;    <span class='comment'>// error: cannot convert to pointer to <span id=':noexcept____'><span class='tcode_in_codeblock'>noexcept</span></span> function</span>

<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>typedef</span> <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='keyword'>operator</span> p<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>q<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='operator'>=</span> S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: cannot convert to pointer to <span id=':noexcept_____'><span class='tcode_in_codeblock'>noexcept</span></span> function</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='conv.bool' class='section'><h3 ><a class='secnum' href='#conv.bool' style='min-width:80pt'>7.3.15</a> Boolean conversions <a class='abbr_ref' href='conv.bool'>[conv.bool]</a></h3><div class='para' id='conv.bool-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.bool-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1151'>#</a></div><div class='texpara'><div id='conv.bool-1.sentence-1' class='sentence'><a class='index' id=':conversion,boolean'></a>A prvalue of arithmetic, unscoped enumeration, pointer, or pointer-to-member
type can be converted to a prvalue of type <span id=':bool_________'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#conv.bool-1.sentence-1'>.</a></div> <div id='conv.bool-1.sentence-2' class='sentence'>A zero value, null
pointer value, or null member pointer value is converted to <span id=':false___'><span class='texttt'><span class='literal'>false</span></span></span>; any
other value is converted to <span id=':true___'><span class='texttt'><span class='literal'>true</span></span></span><a class='hidden_link' href='#conv.bool-1.sentence-2'>.</a></div></div><div class='texpara'></div></div></div></div><div id='arith.conv' class='section'><h2 ><a class='secnum' href='#arith.conv' style='min-width:65pt'>7.4</a> Usual arithmetic conversions <a class='abbr_ref' href='expr.arith.conv'>[expr.arith.conv]</a></h2><div class='para' id='arith.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#arith.conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1162'>#</a></div><div class='texpara'><div id='arith.conv-1.sentence-1' class='sentence'>Many binary operators that expect operands of arithmetic or enumeration
type cause conversions and yield result types in a similar way<a class='hidden_link' href='#arith.conv-1.sentence-1'>.</a></div> <div id='arith.conv-1.sentence-2' class='sentence'>The
purpose is to yield a common type, which is also the type of the result<a class='hidden_link' href='#arith.conv-1.sentence-2'>.</a></div> <div id='arith.conv-1.sentence-3' class='sentence'>This pattern is called the <a class='hidden_link' href='#def:conversion,usual_arithmetic' title='7.4&emsp;Usual arithmetic conversions&emsp;[expr.arith.conv]'><span id='def:conversion,usual_arithmetic'><i >usual arithmetic conversions</i></span></a>,
which are defined as follows:
<ul class='itemize'><li id='arith.conv-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#arith.conv-1.1'>(1.1)</a></div><div class='texpara'><div id='arith.conv-1.1.sentence-1' class='sentence'>The lvalue-to-rvalue conversion (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>)
is applied to each operand and
the resulting prvalues are used in place of the original operands
for the remainder of this section<a class='hidden_link' href='#arith.conv-1.1.sentence-1'>.</a></div></div></li><li id='arith.conv-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#arith.conv-1.2'>(1.2)</a></div><div class='texpara'><div id='arith.conv-1.2.sentence-1' class='sentence'>If either operand is of scoped enumeration type (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>), no conversions
are performed; if the other operand does not have the same type, the expression is
ill-formed<a class='hidden_link' href='#arith.conv-1.2.sentence-1'>.</a></div></div></li><li id='arith.conv-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#arith.conv-1.3'>(1.3)</a></div><div class='texpara'><div id='arith.conv-1.3.sentence-1' class='sentence'>Otherwise, if one operand is of enumeration type and the other operand is
of a different enumeration type or a floating-point type, the expression is
ill-formed<a class='hidden_link' href='#arith.conv-1.3.sentence-1'>.</a></div></div></li><li id='arith.conv-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#arith.conv-1.4'>(1.4)</a></div><div class='texpara'><div id='arith.conv-1.4.sentence-1' class='sentence'>Otherwise, if either operand is of floating-point type,
the following rules are applied:
<ul class='itemize'><li id='arith.conv-1.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.4.1'>(1.4.1)</a></div><div class='texpara'><div id='arith.conv-1.4.1.sentence-1' class='sentence'>If both operands have the same type, no further conversion is performed<a class='hidden_link' href='#arith.conv-1.4.1.sentence-1'>.</a></div></div></li><li id='arith.conv-1.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.4.2'>(1.4.2)</a></div><div class='texpara'><div id='arith.conv-1.4.2.sentence-1' class='sentence'>Otherwise, if one of the operands is of a non-floating-point type,
that operand is converted to the type of
the operand with the floating-point type<a class='hidden_link' href='#arith.conv-1.4.2.sentence-1'>.</a></div></div></li><li id='arith.conv-1.4.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.4.3'>(1.4.3)</a></div><div class='texpara'><div id='arith.conv-1.4.3.sentence-1' class='sentence'>Otherwise, if the floating-point conversion ranks (<a href='conv.rank' title='6.8.6&emsp;Conversion ranks'>[conv.<span class='shy'></span>rank]</a>) of
the types of the operands are ordered but not equal,
then the operand of the type with the lesser floating-point conversion rank
is converted to the type of the other operand<a class='hidden_link' href='#arith.conv-1.4.3.sentence-1'>.</a></div></div></li><li id='arith.conv-1.4.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.4.4'>(1.4.4)</a></div><div class='texpara'><div id='arith.conv-1.4.4.sentence-1' class='sentence'>Otherwise, if the floating-point conversion ranks of the types of
the operands are equal,
then the operand with the lesser floating-point conversion subrank (<a href='conv.rank' title='6.8.6&emsp;Conversion ranks'>[conv.<span class='shy'></span>rank]</a>)
is converted to the type of the other operand<a class='hidden_link' href='#arith.conv-1.4.4.sentence-1'>.</a></div></div></li><li id='arith.conv-1.4.5'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.4.5'>(1.4.5)</a></div><div class='texpara'><div id='arith.conv-1.4.5.sentence-1' class='sentence'>Otherwise, the expression is ill-formed<a class='hidden_link' href='#arith.conv-1.4.5.sentence-1'>.</a></div></div></li></ul></div></div></li><li id='arith.conv-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#arith.conv-1.5'>(1.5)</a></div><div class='texpara'><div id='arith.conv-1.5.sentence-1' class='sentence'>Otherwise, each operand is converted to a common type <span class='texttt'>C</span><a class='hidden_link' href='#arith.conv-1.5.sentence-1'>.</a></div> <div id='arith.conv-1.5.sentence-2' class='sentence'>The integral promotion rules (<a href='#conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>) are used
to determine a type <span class='texttt'>T1</span> and type <span class='texttt'>T2</span> for each operand<a class='hidden_link' href='#arith.conv-1.5.sentence-2'>.</a><a class='footnoteref' href='#footnote-47' id='footnoteref-47' title='As a consequence, operands of type bool, char8_&shy;t, char16_&shy;t, char32_&shy;t, wchar_&shy;t, or of enumeration type are converted to some integral type.'>47</a></div> <div id='arith.conv-1.5.sentence-3' class='sentence'>
Then the following rules are applied to determine <span class='texttt'>C</span>:
<ul class='itemize'><li id='arith.conv-1.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.5.1'>(1.5.1)</a></div><div class='texpara'><div id='arith.conv-1.5.1.sentence-1' class='sentence'>If <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are the same type, <span class='texttt'>C</span> is that type<a class='hidden_link' href='#arith.conv-1.5.1.sentence-1'>.</a></div></div></li><li id='arith.conv-1.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.5.2'>(1.5.2)</a></div><div class='texpara'><div id='arith.conv-1.5.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are both signed integer types or
are both unsigned integer types,
<span class='texttt'>C</span> is the type with greater rank<a class='hidden_link' href='#arith.conv-1.5.2.sentence-1'>.</a></div></div></li><li id='arith.conv-1.5.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#arith.conv-1.5.3'>(1.5.3)</a></div><div class='texpara'><div id='arith.conv-1.5.3.sentence-1' class='sentence'>Otherwise, let <span class='texttt'>U</span> be the unsigned integer type and
<span class='texttt'>S</span> be the signed integer type<a class='hidden_link' href='#arith.conv-1.5.3.sentence-1'>.</a></div> <ul class='itemize'><li id='arith.conv-1.5.3.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#arith.conv-1.5.3.1'>(1.5.3.1)</a></div><div class='texpara'><div id='arith.conv-1.5.3.1.sentence-1' class='sentence'>If <span class='texttt'>U</span> has rank greater than or equal to the rank of <span class='texttt'>S</span>,
<span class='texttt'>C</span> is <span class='texttt'>U</span><a class='hidden_link' href='#arith.conv-1.5.3.1.sentence-1'>.</a></div></div></li><li id='arith.conv-1.5.3.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#arith.conv-1.5.3.2'>(1.5.3.2)</a></div><div class='texpara'><div id='arith.conv-1.5.3.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>S</span> can represent all of the values of <span class='texttt'>U</span>,
<span class='texttt'>C</span> is <span class='texttt'>S</span><a class='hidden_link' href='#arith.conv-1.5.3.2.sentence-1'>.</a></div></div></li><li id='arith.conv-1.5.3.3'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#arith.conv-1.5.3.3'>(1.5.3.3)</a></div><div class='texpara'><div id='arith.conv-1.5.3.3.sentence-1' class='sentence'>Otherwise,
<span class='texttt'>C</span> is the unsigned integer type corresponding to <span class='texttt'>S</span><a class='hidden_link' href='#arith.conv-1.5.3.3.sentence-1'>.</a></div></div></li></ul></div></li></ul></div></div></li></ul></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-47'><div class='texpara'><a class='footnotenum' href='#footnote-47'>47)</a><a class='footnoteBacklink' href='#footnoteref-47'>47)</a> <div id='footnote-47.sentence-1' class='sentence'>As a consequence, operands of type <span id=':bool__________'><span class='texttt'><span class='keyword'>bool</span></span></span>, <span id=':char8_t__'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>, <span id=':char16_t__'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>,
<span id=':char32_t__'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>, <span id=':wchar_t__'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span>, or of enumeration type are converted
to some integral type<a class='hidden_link' href='#footnote-47.sentence-1'>.</a></div></div></div></div><div id='prim' class='section'><h2 ><a class='secnum' href='#prim' style='min-width:65pt'>7.5</a> Primary expressions <a class='abbr_ref' href='expr.prim'>[expr.prim]</a></h2><div class='texpara'><a class='index' id=':expression,primary'></a></div><div id='prim.grammar' class='section'><h3 ><a class='secnum' href='#prim.grammar' style='min-width:80pt'>7.5.1</a> Grammar <a class='abbr_ref' href='expr.prim.grammar'>[expr.prim.grammar]</a></h3><div class='texpara'><div class='bnf' id='nt:primary-expression'>
<a class='hidden_link' href='#nt:primary-expression' title='7.5.1&emsp;Grammar&emsp;[expr.prim.grammar]'><span id='nt:primary-expression'><span id=':primary-expression'>primary-expression<span class='textnormal'>:</span></span></span></a><br><a href='lex.literal.kinds#nt:literal' title='5.13.1&emsp;Kinds of literals&emsp;[lex.literal.kinds]'><span id='ntref:literal'><span class='textsf'><i >literal</i></span></span></a><br><span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a><br><a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression'><span class='textsf'><i >lambda-expression</i></span></span></a><br><a href='#nt:fold-expression' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-expression'><span class='textsf'><i >fold-expression</i></span></span></a><br><a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression'><span class='textsf'><i >requires-expression</i></span></span></a>
</div></div></div><div id='prim.literal' class='section'><h3 ><a class='secnum' href='#prim.literal' style='min-width:80pt'>7.5.2</a> Literals <a class='abbr_ref' href='expr.prim.literal'>[expr.prim.literal]</a></h3><div class='para' id='prim.literal-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.literal-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1249'>#</a></div><div class='texpara'><div id='prim.literal-1.sentence-1' class='sentence'><a class='index' id=':literal'></a><a class='index' id=':constant'></a>The type of a <a href='lex.literal.kinds#nt:literal' title='5.13.1&emsp;Kinds of literals&emsp;[lex.literal.kinds]'><span id='ntref:literal_'><span class='textsf'><i >literal</i></span></span></a>
is determined based on its form as specified in <a href='lex.literal' title='5.13&emsp;Literals'>[lex.<span class='shy'></span>literal]</a><a class='hidden_link' href='#prim.literal-1.sentence-1'>.</a></div> <div id='prim.literal-1.sentence-2' class='sentence'>A <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><i >string-literal</i></span></span></a> is an lvalue
designating a corresponding string literal object (<a href='lex.string' title='5.13.5&emsp;String literals'>[lex.<span class='shy'></span>string]</a>),
a <a href='lex.ext#nt:user-defined-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-literal'><span class='textsf'><i >user-defined-literal</i></span></span></a>
has the same value category
as the corresponding operator call expression described in <a href='lex.ext' title='5.13.9&emsp;User-defined literals'>[lex.<span class='shy'></span>ext]</a>,
and any other <a href='lex.literal.kinds#nt:literal' title='5.13.1&emsp;Kinds of literals&emsp;[lex.literal.kinds]'><span id='ntref:literal__'><span class='textsf'><i >literal</i></span></span></a> is a prvalue<a class='hidden_link' href='#prim.literal-1.sentence-2'>.</a></div></div></div></div><div id='prim.this' class='section'><h3 ><a class='secnum' href='#prim.this' style='min-width:80pt'>7.5.3</a> This <a class='abbr_ref' href='expr.prim.this'>[expr.prim.this]</a></h3><div class='para' id='prim.this-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1263'>#</a></div><div class='texpara'><div id='prim.this-1.sentence-1' class='sentence'><a class='index' id=':this_'></a>The keyword <span id=':this__'><span class='texttt'><span class='keyword'>this</span></span></span> names a pointer to the object for which an implicit object member
function (<a href='class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>) is invoked or a non-static data member's
initializer (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) is evaluated<a class='hidden_link' href='#prim.this-1.sentence-1'>.</a></div></div></div><div class='para' id='prim.this-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1269'>#</a></div><div class='texpara'><div id='prim.this-2.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:class,current' title='7.5.3&emsp;This&emsp;[expr.prim.this]'><span id='def:class,current'><i >current class</i></span></a> at a program point is
the class associated with the innermost class scope containing that point<a class='hidden_link' href='#prim.this-2.sentence-1'>.</a></div> <div id='prim.this-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.this-note-1'>1</a></i>:&ensp;<div id='prim.this-2.sentence-2' class='sentence'>A <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_'><span class='textsf'><i >lambda-expression</i></span></span></a> does not introduce a class scope<a class='hidden_link' href='#prim.this-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.this-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1276'>#</a></div><div class='texpara'><div id='prim.this-3.sentence-1' class='sentence'>If the expression <span class='texttt'><span class='keyword'>this</span></span>
appears within the predicate of a contract assertion (<a href='basic.contract.general' title='6.10.1&emsp;General'>[basic.<span class='shy'></span>contract.<span class='shy'></span>general]</a>)
(including as the result of an implicit transformation (<a href='#prim.id.general' title='7.5.5.1&emsp;General'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>general]</a>)
and including in the bodies of nested <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i>)
and the current class
encloses the contract assertion,
<span id=':const________'><span class='texttt'><span class='keyword'>const</span></span></span> is combined with the <a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a>
used to generate the resulting type (see below)<a class='hidden_link' href='#prim.this-3.sentence-1'>.</a></div></div></div><div class='para' id='prim.this-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1286'>#</a></div><div class='texpara'><div id='prim.this-4.sentence-1' class='sentence'>If a declaration declares a member function or member function template of a
class <span class='texttt'>X</span>, the expression <span id=':this___'><span class='texttt'><span class='keyword'>this</span></span></span> is a prvalue of type “pointer to
<a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq_'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a> <span class='texttt'>X</span>”
wherever <span class='texttt'>X</span> is the current class
between the optional
<a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq__'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a> and the end of the <a href='dcl.fct.def.general#nt:function-definition' title='9.6.1&emsp;General&emsp;[dcl.fct.def.general]'><span id='ntref:function-definition'><span class='textsf'><i >function-definition</i></span></span></a>,
<a href='class.mem.general#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator'><span class='textsf'><i >member-declarator</i></span></span></a>, or <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator'><span class='textsf'><i >declarator</i></span></span></a><a class='hidden_link' href='#prim.this-4.sentence-1'>.</a></div> <div id='prim.this-4.sentence-2' class='sentence'>It shall not appear within
the declaration of
a static or explicit object member function
of the current class (although its type and value category
are defined within such member functions as they are within an implicit object
member function)<a class='hidden_link' href='#prim.this-4.sentence-2'>.</a></div> <div id='prim.this-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.this-note-2'>2</a></i>:&ensp;<div id='prim.this-4.sentence-3' class='sentence'>This is because declaration matching does not
occur until the complete declarator is known<a class='hidden_link' href='#prim.this-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.this-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.this-note-3'>3</a></i>:&ensp;<div id='prim.this-4.sentence-4' class='sentence'>In a <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type'><span class='textsf'><i >trailing-return-type</i></span></span></a>,
the class being defined is not required to be complete
for purposes of <a href='#ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'>class member access</a><a class='hidden_link' href='#prim.this-4.sentence-4'>.</a></div> <div id='prim.this-4.sentence-5' class='sentence'>Class members declared later are not visible<a class='hidden_link' href='#prim.this-4.sentence-5'>.</a></div> <div id='prim.this-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.this-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>auto</span> f<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>t <span class='operator'>+</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
    <span class='curlybracket'>{</span> <span class='keyword'>return</span> t <span class='operator'>+</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='keyword'>auto</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span> t<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>t <span class='operator'>+</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.this-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1320'>#</a></div><div class='texpara'><div id='prim.this-5.sentence-1' class='sentence'>Otherwise, if a <a href='class.mem.general#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator_'><span class='textsf'><i >member-declarator</i></span></span></a> declares a non-static data
member (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) of a class <span class='texttt'>X</span>, the expression <span id=':this____'><span class='texttt'><span class='keyword'>this</span></span></span> is
a prvalue of type “pointer to <span class='texttt'>X</span>”
wherever <span class='texttt'>X</span> is the current class
within the
optional default member initializer (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)<a class='hidden_link' href='#prim.this-5.sentence-1'>.</a></div></div></div><div class='para' id='prim.this-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1328'>#</a></div><div class='texpara'><div id='prim.this-6.sentence-1' class='sentence'>The expression <span id=':this_____'><span class='texttt'><span class='keyword'>this</span></span></span> shall not appear in any other context<a class='hidden_link' href='#prim.this-6.sentence-1'>.</a></div> <div id='prim.this-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.this-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> Outer <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='squarebracket'>]</span>;                 <span class='comment'>// error: not inside a member function</span>
  <span class='keyword'>unsigned</span> <span class='keyword'>int</span> sz <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;      <span class='comment'>// OK, in default member initializer</span>

  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> b<span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='squarebracket'>]</span>;               <span class='comment'>// OK</span>

    <span class='keyword'>struct</span> Inner <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> c<span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='squarebracket'>]</span>;             <span class='comment'>// error: not inside a member function of <span class='tcode_in_codeblock'>Inner</span></span>
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='prim.paren' class='section'><h3 ><a class='secnum' href='#prim.paren' style='min-width:80pt'>7.5.4</a> Parentheses <a class='abbr_ref' href='expr.prim.paren'>[expr.prim.paren]</a></h3><div class='para' id='prim.paren-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.paren-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1349'>#</a></div><div class='texpara'><div id='prim.paren-1.sentence-1' class='sentence'><a class='index' id=':expression,parenthesized'></a>A parenthesized expression <span class='texttt'><span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>E</span></span><span class='parenthesis'>)</span></span>
is a primary expression whose type, result, and value category are identical to those of <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#prim.paren-1.sentence-1'>.</a></div> <div id='prim.paren-1.sentence-2' class='sentence'>The parenthesized expression can be used in exactly the same contexts as
those where <span class='math'><span class='mathalpha'>E</span></span> can be used, and with the same
meaning, except as otherwise indicated<a class='hidden_link' href='#prim.paren-1.sentence-2'>.</a></div></div></div></div><div id='prim.id' class='section'><h3 ><a class='secnum' href='#prim.id' style='min-width:80pt'>7.5.5</a> Names <a class='abbr_ref' href='expr.prim.id'>[expr.prim.id]</a></h3><div id='prim.id.general' class='section'><h4 ><a class='secnum' href='#prim.id.general' style='min-width:95pt'>7.5.5.1</a> General <a class='abbr_ref' href='expr.prim.id.general'>[expr.prim.id.general]</a></h4><div class='texpara'><div class='bnf' id='nt:id-expression'>
<a class='hidden_link' href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='nt:id-expression'><span id=':id-expression'>id-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a><br><a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a><br><a href='#nt:pack-index-expression' title='7.5.5.4&emsp;Pack indexing expression&emsp;[expr.prim.pack.index]'><span id='ntref:pack-index-expression'><span class='textsf'><i >pack-index-expression</i></span></span></a>
</div></div><div class='para' id='prim.id.general-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1368'>#</a></div><div class='texpara'><div id='prim.id.general-1.sentence-1' class='sentence'><a class='index' id=':name'></a><a class='index' id=':id-expression'></a>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a> is a restricted form of a
<a href='#nt:primary-expression' title='7.5.1&emsp;Grammar&emsp;[expr.prim.grammar]'><span id='ntref:primary-expression'><span class='textsf'><i >primary-expression</i></span></span></a><a class='hidden_link' href='#prim.id.general-1.sentence-1'>.</a></div> <div id='prim.id.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.general-note-1'>1</a></i>:&ensp;<div id='prim.id.general-1.sentence-2' class='sentence'>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a> can appear after
<a href='#ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'><span class='texttt'>.</span> and <span class='texttt'>-&gt;</span> operators</a><a class='hidden_link' href='#prim.id.general-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.id.general-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1378'>#</a></div><div class='texpara'><div id='prim.id.general-2.sentence-1' class='sentence'>If an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____'><span class='textsf'><i >id-expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span> denotes
a non-static non-type member of some class <span class='texttt'>C</span> at a point where
the current class (<a href='#prim.this' title='7.5.3&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>) is <span class='texttt'>X</span> and
<ul class='itemize'><li id='prim.id.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>E</span></span> is potentially evaluated or
<span class='texttt'>C</span> is <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>, and</li><li id='prim.id.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-2.2'>(2.2)</a></div><span class='math'><span class='mathalpha'>E</span></span> is not the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______'><span class='textsf'><i >id-expression</i></span></span></a> of
a class member access expression (<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>), and</li><li id='prim.id.general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-2.3'>(2.3)</a></div>if <span class='math'><span class='mathalpha'>E</span></span> is a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a>,
<span class='math'><span class='mathalpha'>E</span></span> is not the un-parenthesized operand of
the unary <span class='texttt'><span class='operator'>&amp;</span></span> operator (<a href='#unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>),</li></ul>
the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______'><span class='textsf'><i >id-expression</i></span></span></a> is transformed into
a class member access expression using <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> as the object expression<a class='hidden_link' href='#prim.id.general-2.sentence-1'>.</a></div> <div id='prim.id.general-2.sentence-2' class='sentence'>If this transformation occurs
in the predicate of a precondition assertion of a constructor of <span class='texttt'>X</span>
or a postcondition assertion of a destructor of <span class='texttt'>X</span>,
the expression is ill-formed<a class='hidden_link' href='#prim.id.general-2.sentence-2'>.</a></div> <div id='prim.id.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.general-note-2'>2</a></i>:&ensp;<div id='prim.id.general-2.sentence-3' class='sentence'>If <span class='texttt'>C</span> is not <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>,
the class member access expression is ill-formed<a class='hidden_link' href='#prim.id.general-2.sentence-3'>.</a></div> <div id='prim.id.general-2.sentence-4' class='sentence'>Also, if the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________'><span class='textsf'><i >id-expression</i></span></span></a> occurs within
a static or explicit object member function,
the class member access is ill-formed<a class='hidden_link' href='#prim.id.general-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.id.general-2.sentence-5' class='sentence'>
This transformation does not apply in
the template definition context (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#prim.id.general-2.sentence-5'>.</a></div> <div id='prim.id.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>bool</span> b;
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span> pre<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>                <span class='comment'>// error</span>
      pre<span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>b<span class='parenthesis'>)</span>         <span class='comment'>// OK</span>
      pre<span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>b<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// OK, <span class='tcode_in_codeblock'>b</span> is not potentially evaluated.</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.id.general-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1420'>#</a></div><div class='texpara'><div id='prim.id.general-3.sentence-1' class='sentence'>If an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_________'><span class='textsf'><i >id-expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span> denotes
a member <span class='math'><span class='mathalpha'>M</span></span> of an anonymous union (<a href='class.union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>) <span class='math'><span class='mathalpha'>U</span></span>:
<ul class='itemize'><li id='prim.id.general-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-3.1'>(3.1)</a></div><div class='texpara'><div id='prim.id.general-3.1.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>U</span></span> is a non-static data member,
<span class='math'><span class='mathalpha'>E</span></span> refers to <span class='math'><span class='mathalpha'>M</span></span> as a member of the lookup context of the terminal name of <span class='math'><span class='mathalpha'>E</span></span>
(after any implicit transformation to
a class member access expression)<a class='hidden_link' href='#prim.id.general-3.1.sentence-1'>.</a></div> <div id='prim.id.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.general-example-2'>2</a></i>:&ensp;<div id='prim.id.general-3.1.sentence-2' class='sentence'><span class='texttt'>o<span class='operator'>.</span>x</span> is interpreted as <span class='texttt'>o<span class='operator'>.</span><span class='math'><span class='mathalpha'>u</span></span><span class='operator'>.</span>x</span>,
where <span class='math'><span class='mathalpha'>u</span></span> names the anonymous union member<a class='hidden_link' href='#prim.id.general-3.1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li><li id='prim.id.general-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-3.2'>(3.2)</a></div><div class='texpara'><div id='prim.id.general-3.2.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>E</span></span> is interpreted as a class member access (<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)
that designates the member subobject <span class='math'><span class='mathalpha'>M</span></span> of
the anonymous union variable for <span class='math'><span class='mathalpha'>U</span></span><a class='hidden_link' href='#prim.id.general-3.2.sentence-1'>.</a></div> <div id='prim.id.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.general-note-3'>3</a></i>:&ensp;<div id='prim.id.general-3.2.sentence-2' class='sentence'>Under this interpretation, <span class='math'><span class='mathalpha'>E</span></span> no longer denotes a non-static data member<a class='hidden_link' href='#prim.id.general-3.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.id.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.general-example-3'>3</a></i>:&ensp;<div id='prim.id.general-3.2.sentence-3' class='sentence'><span class='texttt'>N<span class='operator'>&#x200b;::&#x200b;</span>x</span> is interpreted as <span class='texttt'>N<span class='operator'>&#x200b;::&#x200b;</span><span class='math'><span class='mathalpha'>u</span></span><span class='operator'>.</span>x</span>,
where <span class='math'><span class='mathalpha'>u</span></span> names the anonymous union variable<a class='hidden_link' href='#prim.id.general-3.2.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='prim.id.general-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1446'>#</a></div><div class='texpara'><div id='prim.id.general-4.sentence-1' class='sentence'>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__________'><span class='textsf'><i >id-expression</i></span></span></a> that denotes a non-static data member or
implicit object member function of a class can only be used:
<ul class='itemize'><li id='prim.id.general-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-4.1'>(4.1)</a></div>as part of a class member access
(after any implicit transformation (see above))
in which the
object expression
refers to the member's class
or a class derived from
that class, or</li><li id='prim.id.general-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-4.2'>(4.2)</a></div>to form a pointer to member (<a href='#unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>), or</li><li id='prim.id.general-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.general-4.3'>(4.3)</a></div>if that <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___________'><span class='textsf'><i >id-expression</i></span></span></a> denotes a non-static data member
and it appears in an unevaluated operand<a class='hidden_link' href='#prim.id.general-4.sentence-1'>.</a> <div class='texpara'><div id='prim.id.general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.general-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> i <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>S<span class='operator'>::</span>m<span class='parenthesis'>)</span>;           <span class='comment'>// OK</span>
<span class='keyword'>int</span> j <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>S<span class='operator'>::</span>m <span class='operator'>+</span> <span class='literal'>42</span><span class='parenthesis'>)</span>;      <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='prim.id.general-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1473'>#</a></div><div class='texpara'><div id='prim.id.general-5.sentence-1' class='sentence'>For an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____________'><span class='textsf'><i >id-expression</i></span></span></a> that denotes an overload set,
overload resolution is performed
to select a unique function (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#prim.id.general-5.sentence-1'>.</a></div> <div id='prim.id.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.general-note-4'>4</a></i>:&ensp;<div id='prim.id.general-5.sentence-2' class='sentence'>A program cannot refer to a function
with a trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a>
whose <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a> is not satisfied,
because such functions are never selected by overload resolution<a class='hidden_link' href='#prim.id.general-5.sentence-2'>.</a></div> <div id='prim.id.general-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.general-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='literal'>false</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                         <span class='comment'>// error: cannot call <span class='tcode_in_codeblock'>f</span></span>
  <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f;          <span class='comment'>// error: cannot take the address of <span class='tcode_in_codeblock'>f</span></span>
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>)</span><span class='operator'>*</span> p2 <span class='operator'>=</span> <span class='literal'>nullptr</span>;    <span class='comment'>// error: the type <span class='tcode_in_codeblock'>decltype(A&lt;int&gt;&#x200b;::&#x200b;f)</span> is invalid</span>
<span class='curlybracket'>}</span>
</span> <div id='prim.id.general-5.sentence-3' class='sentence'>
In each case, the constraints of <span class='texttt'>f</span> are not satisfied<a class='hidden_link' href='#prim.id.general-5.sentence-3'>.</a></div> <div id='prim.id.general-5.sentence-4' class='sentence'>In the declaration of <span class='texttt'>p2</span>,
those constraints need to be satisfied
even though
<span class='texttt'>f</span> is an <a href='#def:unevaluated_operand' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'>unevaluated operand</a><a class='hidden_link' href='#prim.id.general-5.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='prim.id.unqual' class='section'><h4 ><a class='secnum' href='#prim.id.unqual' style='min-width:95pt'>7.5.5.2</a> Unqualified names <a class='abbr_ref' href='expr.prim.id.unqual'>[expr.prim.id.unqual]</a></h4><div class='texpara'><div class='bnf' id='nt:unqualified-id'>
<a class='hidden_link' href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='nt:unqualified-id'><span id=':unqualified-id'>unqualified-id<span class='textnormal'>:</span></span></span></a><br><a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a><br><a href='over.oper.general#nt:operator-function-id' title='12.4.1&emsp;General&emsp;[over.oper.general]'><span id='ntref:operator-function-id'><span class='textsf'><i >operator-function-id</i></span></span></a><br><a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a><br><a href='over.literal#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id'><span class='textsf'><i >literal-operator-id</i></span></span></a><br><span class='terminal'><span class='operator'>~</span></span> <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a><br><span class='terminal'><span class='operator'>~</span></span> <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier'><span class='textsf'><i >computed-type-specifier</i></span></span></a><br><a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a>
</div></div><div class='para' id='prim.id.unqual-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1515'>#</a></div><div class='texpara'><div id='prim.id.unqual-1.sentence-1' class='sentence'><a class='index' id=':identifier'></a>An <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a> is only
an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____________'><span class='textsf'><i >id-expression</i></span></span></a> if it has
been suitably declared (<a href='dcl' title='9&emsp;Declarations'>[dcl]</a>)
or if it appears as part of a <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a> (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>)<a class='hidden_link' href='#prim.id.unqual-1.sentence-1'>.</a></div> <div id='prim.id.unqual-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.unqual-note-1'>1</a></i>:&ensp;<div id='prim.id.unqual-1.sentence-2' class='sentence'>For <a href='over.oper.general#nt:operator-function-id' title='12.4.1&emsp;General&emsp;[over.oper.general]'><span id='ntref:operator-function-id_'><span class='textsf'><i >operator-function-id</i></span></span></a><i >s</i>, see <a href='over.oper' title='12.4&emsp;Overloaded operators'>[over.<span class='shy'></span>oper]</a>; for
<a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id_'><span class='textsf'><i >conversion-function-id</i></span></span></a><i >s</i>, see <a href='class.conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>; for
<a href='over.literal#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id_'><span class='textsf'><i >literal-operator-id</i></span></span></a><i >s</i>, see <a href='over.literal' title='12.6&emsp;User-defined literals'>[over.<span class='shy'></span>literal]</a>; for
<a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><i >template-id</i></span></span></a><i >s</i>, see <a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a><a class='hidden_link' href='#prim.id.unqual-1.sentence-2'>.</a></div> <div id='prim.id.unqual-1.sentence-3' class='sentence'>A <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_'><span class='textsf'><i >type-name</i></span></span></a> or <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier_'><span class='textsf'><i >computed-type-specifier</i></span></span></a>
prefixed by <span class='texttt'><span class='operator'>~</span></span> denotes the destructor of the type so named;
see <a href='#prim.id.dtor' title='7.5.5.5&emsp;Destruction'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>dtor]</a><a class='hidden_link' href='#prim.id.unqual-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.id.unqual-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1531'>#</a></div><div class='texpara'><div id='prim.id.unqual-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:component_name' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='def:component_name'><i >component name</i></span></a> of an <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><i >unqualified-id</i></span></span></a> <span class='math'><span class='mathalpha'>U</span></span> is
<ul class='itemize'><li id='prim.id.unqual-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>U</span></span> if it is a name or</li><li id='prim.id.unqual-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-2.2'>(2.2)</a></div>the component name of
the <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id__'><span class='textsf'><i >template-id</i></span></span></a> or <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name__'><span class='textsf'><i >type-name</i></span></span></a> of <span class='math'><span class='mathalpha'>U</span></span>, if any<a class='hidden_link' href='#prim.id.unqual-2.sentence-1'>.</a></li></ul></div> <div id='prim.id.unqual-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.unqual-note-2'>2</a></i>:&ensp;<div id='prim.id.unqual-2.sentence-2' class='sentence'>Other constructs that contain names to look up can have several
component names (<a href='#prim.id.qual' title='7.5.5.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>, <a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a>, <a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>, <a href='dcl.mptr' title='9.3.4.4&emsp;Pointers to members'>[dcl.<span class='shy'></span>mptr]</a>, <a href='namespace.udecl' title='9.10&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>, <a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>, <a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>, <a href='temp.res' title='13.8&emsp;Name resolution'>[temp.<span class='shy'></span>res]</a>)<a class='hidden_link' href='#prim.id.unqual-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.id.unqual-2.sentence-3' class='sentence'>
The <a class='hidden_link' href='#def:name,terminal' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='def:name,terminal'><i >terminal name</i></span></a> of a construct is
the component name of that construct that appears lexically last<a class='hidden_link' href='#prim.id.unqual-2.sentence-3'>.</a></div></div></div><div class='para' id='prim.id.unqual-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1548'>#</a></div><div class='texpara'><div id='prim.id.unqual-3.sentence-1' class='sentence'>The result is the entity denoted by
the <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__'><span class='textsf'><i >unqualified-id</i></span></span></a> (<a href='basic.lookup.unqual' title='6.5.3&emsp;Unqualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>unqual]</a>)<a class='hidden_link' href='#prim.id.unqual-3.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.unqual-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1552'>#</a></div><div class='texpara'><div id='prim.id.unqual-4.sentence-1' class='sentence'>If
<ul class='itemize'><li id='prim.id.unqual-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-4.1'>(4.1)</a></div>the <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id___'><span class='textsf'><i >unqualified-id</i></span></span></a>
appears in a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___'><span class='textsf'><i >lambda-expression</i></span></span></a>
at program point <span class='math'><span class='mathalpha'>P</span></span>,</li><li id='prim.id.unqual-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-4.2'>(4.2)</a></div>the entity is a local entity (<a href='basic.pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>)
or a variable declared by an <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture'><span class='textsf'><i >init-capture</i></span></span></a> (<a href='#prim.lambda.capture' title='7.5.6.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>),</li><li id='prim.id.unqual-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-4.3'>(4.3)</a></div>naming the entity within the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement'><span class='textsf'><i >compound-statement</i></span></span></a> of
the innermost enclosing <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____'><span class='textsf'><i >lambda-expression</i></span></span></a> of <span class='math'><span class='mathalpha'>P</span></span>,
but not in an unevaluated operand, would refer to an entity captured by copy
in some intervening <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____'><span class='textsf'><i >lambda-expression</i></span></span></a>, and</li><li id='prim.id.unqual-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-4.4'>(4.4)</a></div><span class='math'><span class='mathalpha'>P</span></span> is in the function parameter scope,
but not the <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>,
of the innermost such <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______'><span class='textsf'><i >lambda-expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span>,</li></ul>
then
the type of the expression is
the type of a class member access expression (<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)
naming the non-static data member
that would be declared for such a capture
in the object parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the function call operator of <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#prim.id.unqual-4.sentence-1'>.</a></div> <div id='prim.id.unqual-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.unqual-note-3'>3</a></i>:&ensp;<div id='prim.id.unqual-4.sentence-2' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is not declared <span id=':mutable'><span class='texttt'><span class='keyword'>mutable</span></span></span>,
the type of such an identifier will typically be <span id=':const_________'><span class='texttt'><span class='keyword'>const</span></span></span> qualified<a class='hidden_link' href='#prim.id.unqual-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.id.unqual-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1583'>#</a></div><div class='texpara'><div id='prim.id.unqual-5.sentence-1' class='sentence'>Otherwise,
if the <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id____'><span class='textsf'><i >unqualified-id</i></span></span></a>
names a coroutine parameter,
the type of the expression is
that of the copy of the parameter (<a href='dcl.fct.def.coroutine' title='9.6.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>),
and the result is that copy<a class='hidden_link' href='#prim.id.unqual-5.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.unqual-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1591'>#</a></div><div class='texpara'><div id='prim.id.unqual-6.sentence-1' class='sentence'>Otherwise,
if the <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_____'><span class='textsf'><i >unqualified-id</i></span></span></a>
names a result binding (<a href='dcl.contract.res' title='9.4.2&emsp;Referring to the result object'>[dcl.<span class='shy'></span>contract.<span class='shy'></span>res]</a>)
attached to a function <i >f</i>
with return type <span class='texttt'>U</span>,
<ul class='itemize'><li id='prim.id.unqual-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-6.1'>(6.1)</a></div>if <span class='texttt'>U</span> is “reference to <span class='texttt'>T</span>”,
then the type of the expression is
<span class='texttt'><span class='keyword'>const</span> T</span>;</li><li id='prim.id.unqual-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-6.2'>(6.2)</a></div>otherwise,
the type of the expression is <span class='texttt'><span class='keyword'>const</span> U</span><a class='hidden_link' href='#prim.id.unqual-6.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='prim.id.unqual-7'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1607'>#</a></div><div class='texpara'><div id='prim.id.unqual-7.sentence-1' class='sentence'>Otherwise,
if the <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id______'><span class='textsf'><i >unqualified-id</i></span></span></a>
appears in the predicate of a contract assertion <span class='math'><span class='mathalpha'>C</span></span> (<a href='basic.contract' title='6.10&emsp;Contract assertions'>[basic.<span class='shy'></span>contract]</a>)
and the entity is
<ul class='itemize'><li id='prim.id.unqual-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-7.1'>(7.1)</a></div>a variable
declared outside of <span class='math'><span class='mathalpha'>C</span></span>
of object type <span class='texttt'>T</span>,</li><li id='prim.id.unqual-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-7.2'>(7.2)</a></div>a variable or template parameter
declared outside of <span class='math'><span class='mathalpha'>C</span></span>
of type “reference to <span class='texttt'>T</span>”, or</li><li id='prim.id.unqual-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-7.3'>(7.3)</a></div>a structured binding
of type <span class='texttt'>T</span>
whose corresponding variable
is declared outside of <span class='math'><span class='mathalpha'>C</span></span>,</li></ul>
then the type of the expression is <span id=':const__________'><span class='texttt'><span class='keyword'>const</span></span></span> <span class='texttt'>T</span><a class='hidden_link' href='#prim.id.unqual-7.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='prim.id.unqual-8'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1629'>#</a></div><div class='texpara'><div id='prim.id.unqual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.unqual-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> n <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>bool</span> m<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> z <span class='operator'>=</span> <span class='literal'>0</span>;

  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i, <span class='keyword'>int</span><span class='operator'>*</span> p, <span class='keyword'>int</span><span class='operator'>&amp;</span> r, X x, X<span class='operator'>*</span> px<span class='parenthesis'>)</span>
    pre <span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span>n<span class='parenthesis'>)</span>       <span class='comment'>// error: attempting to modify const lvalue</span>
    pre <span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span>i<span class='parenthesis'>)</span>       <span class='comment'>// error: attempting to modify const lvalue</span>
    pre <span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>)</span>    <span class='comment'>// OK</span>
    pre <span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span>r<span class='parenthesis'>)</span>       <span class='comment'>// error: attempting to modify const lvalue</span>
    pre <span class='parenthesis'>(</span>x<span class='operator'>.</span>m<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>     <span class='comment'>// error: calling non-const member function</span>
    pre <span class='parenthesis'>(</span>px<span class='operator'>-</span><span class='anglebracket'>&gt;</span>m<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>   <span class='comment'>// OK</span>
    pre <span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='operator'>=</span>,<span class='operator'>&amp;</span>i,<span class='operator'>*</span><span class='keyword'>this</span><span class='squarebracket'>]</span> <span class='keyword'>mutable</span> <span class='curlybracket'>{</span>
      <span class='operator'>+</span><span class='operator'>+</span>n;          <span class='comment'>// error: attempting to modify const lvalue</span>
      <span class='operator'>+</span><span class='operator'>+</span>i;          <span class='comment'>// error: attempting to modify const lvalue</span>
      <span class='operator'>+</span><span class='operator'>+</span>p;          <span class='comment'>// OK, refers to member of closure type</span>
      <span class='operator'>+</span><span class='operator'>+</span>r;          <span class='comment'>// OK, refers to non-reference member of closure type</span>
      <span class='operator'>+</span><span class='operator'>+</span><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>z;    <span class='comment'>// OK, captured <span class='tcode_in_codeblock'>*<span id=':this______'><span class='tcode_in_codeblock'>this</span></span></span></span>
      <span class='operator'>+</span><span class='operator'>+</span>z;          <span class='comment'>// OK, captured <span class='tcode_in_codeblock'>*<span id=':this_______'><span class='tcode_in_codeblock'>this</span></span></span></span>
      <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='literal'>17</span>;
      <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span>
        <span class='keyword'>int</span> k <span class='operator'>=</span> <span class='literal'>34</span>;
        <span class='operator'>+</span><span class='operator'>+</span>i;    <span class='comment'>// error: attempting to modify const lvalue</span>
        <span class='operator'>+</span><span class='operator'>+</span>j;    <span class='comment'>// OK</span>
        <span class='operator'>+</span><span class='operator'>+</span>k;    <span class='comment'>// OK</span>
      <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
      <span class='keyword'>return</span> <span class='literal'>true</span>;
    <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> N, <span class='keyword'>int</span><span class='operator'>&amp;</span> R, <span class='keyword'>int</span><span class='operator'>*</span> P<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
    pre<span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span>N<span class='parenthesis'>)</span>        <span class='comment'>// error: attempting to modify prvalue</span>
    pre<span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span>R<span class='parenthesis'>)</span>        <span class='comment'>// error: attempting to modify const lvalue</span>
    pre<span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='operator'>*</span>P<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK</span>

  <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
    post<span class='parenthesis'>(</span>r <span class='operator'>:</span> <span class='operator'>+</span><span class='operator'>+</span>r<span class='parenthesis'>)</span>   <span class='comment'>// error: attempting to modify const lvalue</span>
    post<span class='parenthesis'>(</span>r<span class='operator'>:</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='keyword'>mutable</span> <span class='curlybracket'>{</span>
       <span class='operator'>+</span><span class='operator'>+</span>r;         <span class='comment'>// OK, refers to member of closure type</span>
       <span class='keyword'>return</span> <span class='literal'>true</span>;
     <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

  <span class='keyword'>int</span><span class='operator'>&amp;</span> k<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
    post<span class='parenthesis'>(</span>r <span class='operator'>:</span> <span class='operator'>+</span><span class='operator'>+</span>r<span class='parenthesis'>)</span>;  <span class='comment'>// error: attempting to modify const lvalue</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.id.unqual-9'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1681'>#</a></div><div class='texpara'><div id='prim.id.unqual-9.sentence-1' class='sentence'>Otherwise, if the entity is a template parameter object for
a template parameter of type <span class='texttt'>T</span> (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>),
the type of the expression is <span class='texttt'><span class='keyword'>const</span> T</span><a class='hidden_link' href='#prim.id.unqual-9.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.unqual-10'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1686'>#</a></div><div class='texpara'><div id='prim.id.unqual-10.sentence-1' class='sentence'>In all other cases, the type of the expression is the type of the entity<a class='hidden_link' href='#prim.id.unqual-10.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='prim.id.unqual-11'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1689'>#</a></div><div class='texpara'><div id='prim.id.unqual-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.unqual-note-4'>4</a></i>:&ensp;<div id='prim.id.unqual-11.sentence-1' class='sentence'>The type will be adjusted as described in <a href='#type' title='7.2.2&emsp;Type'>[expr.<span class='shy'></span>type]</a>
if it is cv-qualified or is a reference type<a class='hidden_link' href='#prim.id.unqual-11.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.id.unqual-12'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1695'>#</a></div><div class='texpara'><div id='prim.id.unqual-12.sentence-1' class='sentence'>The expression is an xvalue if it is move-eligible (see below);
an lvalue
if the entity is a
function,
variable,
structured binding (<a href='dcl.struct.bind' title='9.7&emsp;Structured binding declarations'>[dcl.<span class='shy'></span>struct.<span class='shy'></span>bind]</a>),
result binding (<a href='dcl.contract.res' title='9.4.2&emsp;Referring to the result object'>[dcl.<span class='shy'></span>contract.<span class='shy'></span>res]</a>),
data member, or
template parameter object;
and a prvalue otherwise (<a href='#basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a>);
it is a bit-field if the identifier designates a bit-field<a class='hidden_link' href='#prim.id.unqual-12.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.unqual-13'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1708'>#</a></div><div class='texpara'><div id='prim.id.unqual-13.sentence-1' class='sentence'>If an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______________'><span class='textsf'><i >id-expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span>
appears in the predicate of
a function contract assertion attached to a function <i >f</i>
and denotes
a function parameter of <i >f</i>
and the implementation introduces any temporary objects
to hold the value of that parameter as specified in <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>,
<ul class='itemize'><li id='prim.id.unqual-13.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-13.1'>(13.1)</a></div>if the contract assertion
is a precondition assertion
and the evaluation of the precondition assertion
is sequenced before the initialization of the parameter object,
<span class='math'><span class='mathalpha'>E</span></span> refers to the most recently initialized such temporary object, and</li><li id='prim.id.unqual-13.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-13.2'>(13.2)</a></div>if the contract assertion
is a postcondition assertion,
it is unspecified whether <span class='math'><span class='mathalpha'>E</span></span> refers to
one of the temporary objects or the parameter object;
the choice is consistent within a single evaluation of a postcondition assertion<a class='hidden_link' href='#prim.id.unqual-13.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='prim.id.unqual-14'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1731'>#</a></div><div class='texpara'><div id='prim.id.unqual-14.sentence-1' class='sentence'>If an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______________'><span class='textsf'><i >id-expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span>
names a result binding
in a postcondition assertion
and the implementation introduces any temporary objects
to hold the result object as specified in <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>,
and the postcondition assertion
is sequenced before the initialization of the result object (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),
<span class='math'><span class='mathalpha'>E</span></span> refers to the most recently initialized such temporary object<a class='hidden_link' href='#prim.id.unqual-14.sentence-1'>.</a></div></div><div class='texpara'><div id='prim.id.unqual-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.unqual-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>float</span> x, <span class='operator'>&amp;</span>r <span class='operator'>=</span> x;

  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>      <span class='comment'>// lambda returns <span class='tcode_in_codeblock'>float const&amp;</span> because this lambda is not <span class='tcode_in_codeblock'>mutable</span> and</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is an lvalue</span>
    <span class='keyword'>decltype</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> y1;             <span class='comment'>// <span class='tcode_in_codeblock'>y1</span> has type <span class='tcode_in_codeblock'>float</span></span>
    <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> y2 <span class='operator'>=</span> y1;      <span class='comment'>// <span class='tcode_in_codeblock'>y2</span> has type <span class='tcode_in_codeblock'>float const&amp;</span></span>
    <span class='keyword'>decltype</span><span class='parenthesis'>(</span>r<span class='parenthesis'>)</span> r1 <span class='operator'>=</span> y1;        <span class='comment'>// <span class='tcode_in_codeblock'>r1</span> has type <span class='tcode_in_codeblock'>float&amp;</span></span>
    <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>r<span class='parenthesis'>)</span><span class='parenthesis'>)</span> r2 <span class='operator'>=</span> y2;      <span class='comment'>// <span class='tcode_in_codeblock'>r2</span> has type <span class='tcode_in_codeblock'>float const&amp;</span></span>
    <span class='keyword'>return</span> y2;
  <span class='curlybracket'>}</span>;

  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> y<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> z <span class='operator'>=</span> x;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>y</span> has type <span class='tcode_in_codeblock'>float&amp;</span>, <span class='tcode_in_codeblock'>z</span> has type <span class='tcode_in_codeblock'>float const&amp;</span></span>
  <span class='curlybracket'>}</span>;

  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> y<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;     <span class='comment'>// OK, lambda takes a parameter of type <span class='tcode_in_codeblock'>float const&amp;</span></span>

    <span class='squarebracket'>[</span>x<span class='operator'>=</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> y<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> z <span class='operator'>=</span> x;      <span class='comment'>// OK, <span class='tcode_in_codeblock'>y</span> has type <span class='tcode_in_codeblock'>int&amp;</span>, <span class='tcode_in_codeblock'>z</span> has type <span class='tcode_in_codeblock'>int const&amp;</span></span>
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.id.unqual-15'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1771'>#</a></div><div class='texpara'><div id='prim.id.unqual-15.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:entity,implicitly_movable' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='def:entity,implicitly_movable'><i >implicitly movable entity</i></span></a> is
a variable with automatic storage duration
that is either a non-volatile object or
an rvalue reference to a non-volatile object type<a class='hidden_link' href='#prim.id.unqual-15.sentence-1'>.</a></div> <div id='prim.id.unqual-15.sentence-2' class='sentence'>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________________'><span class='textsf'><i >id-expression</i></span></span></a> is <a class='hidden_link' href='#def:move-eligible' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='def:move-eligible'><i >move-eligible</i></span></a> if
<ul class='itemize'><li id='prim.id.unqual-15.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-15.1'>(15.1)</a></div>it names an implicitly movable entity,</li><li id='prim.id.unqual-15.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-15.2'>(15.2)</a></div>it is the (possibly parenthesized)
operand of a <span class='texttt'><span class='keyword'>return</span></span> (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>) or
<span id=':co_return'><span class='texttt'><span class='keyword'>co_<span class='shy'></span>return</span></span></span> (<a href='stmt.return.coroutine' title='8.7.5&emsp;The co_&shy;return statement'>[stmt.<span class='shy'></span>return.<span class='shy'></span>coroutine]</a>) statement or
of a <a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression'><span class='textsf'><i >throw-expression</i></span></span></a> (<a href='#throw' title='7.6.18&emsp;Throwing an exception'>[expr.<span class='shy'></span>throw]</a>), and</li><li id='prim.id.unqual-15.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.unqual-15.3'>(15.3)</a></div>each intervening scope between
the declaration of the entity and
the innermost enclosing scope of the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_________________'><span class='textsf'><i >id-expression</i></span></span></a>
is a block scope and,
for a <a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression_'><span class='textsf'><i >throw-expression</i></span></span></a>,
is not the block scope of
a <a href='except.pre#nt:try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:try-block'><span class='textsf'><i >try-block</i></span></span></a> or <a href='except.pre#nt:function-try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:function-try-block'><span class='textsf'><i >function-try-block</i></span></span></a><a class='hidden_link' href='#prim.id.unqual-15.sentence-2'>.</a></li></ul></div></div></div></div><div id='prim.id.qual' class='section'><h4 ><a class='secnum' href='#prim.id.qual' style='min-width:95pt'>7.5.5.3</a> Qualified names <a class='abbr_ref' href='expr.prim.id.qual'>[expr.prim.id.qual]</a></h4><div class='texpara'><a class='index' id=':operator,scope_resolution'></a><div class='bnf' id='nt:qualified-id'>
<a class='hidden_link' href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='nt:qualified-id'><span id=':qualified-id'>qualified-id<span class='textnormal'>:</span></span></span></a><br><a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_______'><span class='textsf'><i >unqualified-id</i></span></span></a>
</div></div><div class='texpara'><a class='index' id=':operator,scope_resolution_'></a><a class='index' id=':name_hiding'></a><div class='bnf' id='nt:nested-name-specifier'>
<a class='hidden_link' href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='nt:nested-name-specifier'><span id=':nested-name-specifier'>nested-name-specifier<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>::</span></span><br><a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name___'><span class='textsf'><i >type-name</i></span></span></a> <span class='terminal'><span class='operator'>::</span></span><br><a href='namespace.def.general#nt:namespace-name' title='9.9.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name'><span class='textsf'><i >namespace-name</i></span></span></a> <span class='terminal'><span class='operator'>::</span></span><br><a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier__'><span class='textsf'><i >computed-type-specifier</i></span></span></a> <span class='terminal'><span class='operator'>::</span></span><br><a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='operator'>::</span></span><br><a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span id=':template_'><span class='texttt'><span class='keyword'>template</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a> <span class='terminal'><span class='operator'>::</span></span>
</div></div><div class='para' id='prim.id.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1818'>#</a></div><div class='texpara'><div id='prim.id.qual-1.sentence-1' class='sentence'><a class='index' id=':component_name'></a>The component names of a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id__'><span class='textsf'><i >qualified-id</i></span></span></a> are those of
its <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___'><span class='textsf'><i >nested-name-specifier</i></span></span></a> and <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id________'><span class='textsf'><i >unqualified-id</i></span></span></a><a class='hidden_link' href='#prim.id.qual-1.sentence-1'>.</a></div> <div id='prim.id.qual-1.sentence-2' class='sentence'>The component names of a <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier____'><span class='textsf'><i >nested-name-specifier</i></span></span></a> are
its <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a> (if any) and those of its
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name____'><span class='textsf'><i >type-name</i></span></span></a>,
<a href='namespace.def.general#nt:namespace-name' title='9.9.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name_'><span class='textsf'><i >namespace-name</i></span></span></a>,
<a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a>, and/or
<a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_____'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#prim.id.qual-1.sentence-2'>.</a></div></div></div><div class='para' id='prim.id.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1829'>#</a></div><div class='texpara'><div id='prim.id.qual-2.sentence-1' class='sentence'>A <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier______'><span class='textsf'><i >nested-name-specifier</i></span></span></a> is <a class='hidden_link' href='#def:declarative' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='def:declarative'><i >declarative</i></span></a> if it is part of
<ul class='itemize'><li id='prim.id.qual-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-2.1'>(2.1)</a></div>a <a href='class.pre#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name'><span class='textsf'><i >class-head-name</i></span></span></a>,</li><li id='prim.id.qual-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-2.2'>(2.2)</a></div>an <a href='dcl.enum#nt:enum-head-name' title='9.8.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-head-name'><span class='textsf'><i >enum-head-name</i></span></span></a>,</li><li id='prim.id.qual-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-2.3'>(2.3)</a></div>a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id___'><span class='textsf'><i >qualified-id</i></span></span></a>
that is the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__________________'><span class='textsf'><i >id-expression</i></span></span></a> of a <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id_'><span class='textsf'><i >declarator-id</i></span></span></a>, or</li><li id='prim.id.qual-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-2.4'>(2.4)</a></div>a declarative <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_______'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#prim.id.qual-2.sentence-1'>.</a></li></ul></div> <div id='prim.id.qual-2.sentence-2' class='sentence'>
A declarative <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
shall not have a <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier___'><span class='textsf'><i >computed-type-specifier</i></span></span></a><a class='hidden_link' href='#prim.id.qual-2.sentence-2'>.</a></div> <div id='prim.id.qual-2.sentence-3' class='sentence'>A declaration that uses a declarative <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
shall be a friend declaration or
inhabit a scope that contains the entity being redeclared or specialized<a class='hidden_link' href='#prim.id.qual-2.sentence-3'>.</a></div></div></div><div class='para' id='prim.id.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1848'>#</a></div><div class='texpara'><div id='prim.id.qual-3.sentence-1' class='sentence'>The <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> nominates
the global namespace<a class='hidden_link' href='#prim.id.qual-3.sentence-1'>.</a></div> <div id='prim.id.qual-3.sentence-2' class='sentence'>A <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> with a <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier____'><span class='textsf'><i >computed-type-specifier</i></span></span></a>
nominates the type denoted by the <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier_____'><span class='textsf'><i >computed-type-specifier</i></span></span></a>,
which shall be a class or enumeration type<a class='hidden_link' href='#prim.id.qual-3.sentence-2'>.</a></div> <div id='prim.id.qual-3.sentence-3' class='sentence'>If a <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier____________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span class='math'><span class='mathalpha'>N</span></span>
is declarative and
has a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><i >simple-template-id</i></span></span></a> with a template argument list <span class='math'><span class='mathalpha'>A</span></span>
that involves a template parameter,
let <span class='math'><span class='mathalpha'>T</span></span> be the template nominated by <span class='math'><span class='mathalpha'>N</span></span> without <span class='math'><span class='mathalpha'>A</span></span><a class='hidden_link' href='#prim.id.qual-3.sentence-3'>.</a></div> <div id='prim.id.qual-3.sentence-4' class='sentence'><span class='math'><span class='mathalpha'>T</span></span> shall be a class template<a class='hidden_link' href='#prim.id.qual-3.sentence-4'>.</a></div> <ul class='itemize'><li id='prim.id.qual-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-3.1'>(3.1)</a></div><div class='texpara'><div id='prim.id.qual-3.1.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>A</span></span> is the template argument list (<a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a>) of
the corresponding <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a> <span class='math'><span class='mathalpha'>H</span></span> (<a href='temp.mem' title='13.7.3&emsp;Member templates'>[temp.<span class='shy'></span>mem]</a>),
<span class='math'><span class='mathalpha'>N</span></span> nominates the primary template of <span class='math'><span class='mathalpha'>T</span></span>;
<span class='math'><span class='mathalpha'>H</span></span> shall be equivalent to
the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><i >template-head</i></span></span></a> of <span class='math'><span class='mathalpha'>T</span></span> (<a href='temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#prim.id.qual-3.1.sentence-1'>.</a></div></div></li><li id='prim.id.qual-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-3.2'>(3.2)</a></div><div class='texpara'><div id='prim.id.qual-3.2.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>N</span></span> nominates the partial specialization (<a href='temp.spec.partial' title='13.7.6&emsp;Partial specialization'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial]</a>) of <span class='math'><span class='mathalpha'>T</span></span>
whose template argument list is equivalent to <span class='math'><span class='mathalpha'>A</span></span> (<a href='temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>);
the program is ill-formed if no such partial specialization exists<a class='hidden_link' href='#prim.id.qual-3.2.sentence-1'>.</a></div></div></li></ul> <div id='prim.id.qual-3.sentence-5' class='sentence'>
Any other <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_____________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> nominates
the entity denoted by its
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_____'><span class='textsf'><i >type-name</i></span></span></a>,
<a href='namespace.def.general#nt:namespace-name' title='9.9.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name__'><span class='textsf'><i >namespace-name</i></span></span></a>,
<a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a>, or
<a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id___'><span class='textsf'><i >simple-template-id</i></span></span></a><a class='hidden_link' href='#prim.id.qual-3.sentence-5'>.</a></div> <div id='prim.id.qual-3.sentence-6' class='sentence'>If the <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier______________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> is not declarative,
the entity shall not be a template<a class='hidden_link' href='#prim.id.qual-3.sentence-6'>.</a></div></div></div><div class='para' id='prim.id.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1881'>#</a></div><div class='texpara'><div id='prim.id.qual-4.sentence-1' class='sentence'>A <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id____'><span class='textsf'><i >qualified-id</i></span></span></a> shall not be of the form
<a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_______________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span id=':template__'><span class='texttt'><span class='keyword'>template</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='operator'>~</span></span>
<a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier______'><span class='textsf'><i >computed-type-specifier</i></span></span></a>
nor of the form
<a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier_______'><span class='textsf'><i >computed-type-specifier</i></span></span></a> <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> <span class='texttt'><span class='operator'>~</span></span> <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name______'><span class='textsf'><i >type-name</i></span></span></a><a class='hidden_link' href='#prim.id.qual-4.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1888'>#</a></div><div class='texpara'><div id='prim.id.qual-5.sentence-1' class='sentence'>The result of a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_____'><span class='textsf'><i >qualified-id</i></span></span></a> <span class='math'><span class='mathalpha'>Q</span></span> is
the entity it denotes (<a href='basic.lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a>)<a class='hidden_link' href='#prim.id.qual-5.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.qual-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1892'>#</a></div><div class='texpara'><div id='prim.id.qual-6.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>Q</span></span> appears
in the predicate of a contract assertion <span class='math'><span class='mathalpha'>C</span></span> (<a href='basic.contract' title='6.10&emsp;Contract assertions'>[basic.<span class='shy'></span>contract]</a>)
and the entity is
<ul class='itemize'><li id='prim.id.qual-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-6.1'>(6.1)</a></div>a variable
declared outside of <span class='math'><span class='mathalpha'>C</span></span>
of object type <span class='texttt'>T</span>,</li><li id='prim.id.qual-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-6.2'>(6.2)</a></div>a variable
declared outside of <span class='math'><span class='mathalpha'>C</span></span>
of type “reference to <span class='texttt'>T</span>”, or</li><li id='prim.id.qual-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-6.3'>(6.3)</a></div>a structured binding of type <span class='texttt'>T</span>
whose corresponding variable
is declared outside of <span class='math'><span class='mathalpha'>C</span></span>,</li></ul>
then the type of the expression is <span id=':const___________'><span class='texttt'><span class='keyword'>const</span></span></span> <span class='texttt'>T</span><a class='hidden_link' href='#prim.id.qual-6.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.qual-7'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1913'>#</a></div><div class='texpara'><div id='prim.id.qual-7.sentence-1' class='sentence'>Otherwise, the type of the expression is the type of the result<a class='hidden_link' href='#prim.id.qual-7.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.qual-8'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1916'>#</a></div><div class='texpara'><div id='prim.id.qual-8.sentence-1' class='sentence'>The result is an lvalue if the member is
<ul class='itemize'><li id='prim.id.qual-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-8.1'>(8.1)</a></div>a function other than a non-static member function,</li><li id='prim.id.qual-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-8.2'>(8.2)</a></div>a non-static member function
if <span class='math'><span class='mathalpha'>Q</span></span> is the operand of a unary <span class='texttt'><span class='operator'>&amp;</span></span> operator,</li><li id='prim.id.qual-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-8.3'>(8.3)</a></div>a variable,</li><li id='prim.id.qual-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-8.4'>(8.4)</a></div>a structured binding (<a href='dcl.struct.bind' title='9.7&emsp;Structured binding declarations'>[dcl.<span class='shy'></span>struct.<span class='shy'></span>bind]</a>), or</li><li id='prim.id.qual-8.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.id.qual-8.5'>(8.5)</a></div>a data member,</li></ul>
and a prvalue otherwise<a class='hidden_link' href='#prim.id.qual-8.sentence-1'>.</a></div></div></div></div><div id='prim.pack.index' class='section'><h4 ><a class='secnum' href='#prim.pack.index' style='min-width:95pt'>7.5.5.4</a> Pack indexing expression <a class='abbr_ref' href='expr.prim.pack.index'>[expr.prim.pack.index]</a></h4><div class='texpara'><div class='bnf' id='nt:pack-index-expression'>
<a class='hidden_link' href='#nt:pack-index-expression' title='7.5.5.4&emsp;Pack indexing expression&emsp;[expr.prim.pack.index]'><span id='nt:pack-index-expression'><span id=':pack-index-expression'>pack-index-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___________________'><span class='textsf'><i >id-expression</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='squarebracket'>[</span></span> <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> <span class='terminal'><span class='squarebracket'>]</span></span>
</div></div><div class='para' id='prim.pack.index-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.pack.index-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1940'>#</a></div><div class='texpara'><div id='prim.pack.index-1.sentence-1' class='sentence'>The <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____________________'><span class='textsf'><i >id-expression</i></span></span></a> <span class='math'><span class='mathalpha'>P</span></span> in a <a href='#nt:pack-index-expression' title='7.5.5.4&emsp;Pack indexing expression&emsp;[expr.prim.pack.index]'><span id='ntref:pack-index-expression_'><span class='textsf'><i >pack-index-expression</i></span></span></a>
shall be an <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____'><span class='textsf'><i >identifier</i></span></span></a> that denotes a pack<a class='hidden_link' href='#prim.pack.index-1.sentence-1'>.</a></div></div></div><div class='para' id='prim.pack.index-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.pack.index-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1944'>#</a></div><div class='texpara'><div id='prim.pack.index-2.sentence-1' class='sentence'>The <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression_'><span class='textsf'><i >constant-expression</i></span></span></a> shall be
a converted constant expression (<a href='#const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span>
whose value <span class='math'><span class='mathalpha'>V</span></span>, termed the index,
is such that <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;"><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;"><span class='parenthesis'>)</span></span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#prim.pack.index-2.sentence-1'>.</a></div></div></div><div class='para' id='prim.pack.index-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.pack.index-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1950'>#</a></div><div class='texpara'><div id='prim.pack.index-3.sentence-1' class='sentence'>A <a href='#nt:pack-index-expression' title='7.5.5.4&emsp;Pack indexing expression&emsp;[expr.prim.pack.index]'><span id='ntref:pack-index-expression__'><span class='textsf'><i >pack-index-expression</i></span></span></a> is a pack expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#prim.pack.index-3.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='prim.pack.index-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.pack.index-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1953'>#</a></div><div class='texpara'><div id='prim.pack.index-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.pack.index-note-1'>1</a></i>:&ensp;<div id='prim.pack.index-4.sentence-1' class='sentence'>A <a href='#nt:pack-index-expression' title='7.5.5.4&emsp;Pack indexing expression&emsp;[expr.prim.pack.index]'><span id='ntref:pack-index-expression___'><span class='textsf'><i >pack-index-expression</i></span></span></a> denotes
the <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.186em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.413em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span></span> element of the pack<a class='hidden_link' href='#prim.pack.index-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='prim.id.dtor' class='section'><h4 ><a class='secnum' href='#prim.id.dtor' style='min-width:95pt'>7.5.5.5</a> Destruction <a class='abbr_ref' href='expr.prim.id.dtor'>[expr.prim.id.dtor]</a></h4><div class='para' id='prim.id.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.dtor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1961'>#</a></div><div class='texpara'><div id='prim.id.dtor-1.sentence-1' class='sentence'><a class='index' id=':expression,destructor_call'></a><a class='index' id=':expression,pseudo-destructor_call'></a>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____________________'><span class='textsf'><i >id-expression</i></span></span></a> that denotes the destructor of a type <span class='texttt'>T</span>
names the destructor of <span class='texttt'>T</span>
if <span class='texttt'>T</span> is a class type (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>),
otherwise the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______________________'><span class='textsf'><i >id-expression</i></span></span></a> is said
to name a <a class='hidden_link' href='#def:pseudo-destructor' title='7.5.5.5&emsp;Destruction&emsp;[expr.prim.id.dtor]'><span id='def:pseudo-destructor'><i >pseudo-destructor</i></span></a><a class='hidden_link' href='#prim.id.dtor-1.sentence-1'>.</a></div></div></div><div class='para' id='prim.id.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.dtor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1970'>#</a></div><div class='texpara'><div id='prim.id.dtor-2.sentence-1' class='sentence'>If the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______________________'><span class='textsf'><i >id-expression</i></span></span></a> names a pseudo-destructor,
<span class='texttt'>T</span> shall be a scalar type and
the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________________________'><span class='textsf'><i >id-expression</i></span></span></a> shall appear
as the right operand of a class member access (<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) that forms
the <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a> of a function call (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#prim.id.dtor-2.sentence-1'>.</a></div> <div id='prim.id.dtor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.id.dtor-note-1'>1</a></i>:&ensp;<div id='prim.id.dtor-2.sentence-2' class='sentence'>Such a call ends the lifetime of the object (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>, <a href='basic.life' title='6.7.4&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#prim.id.dtor-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='prim.id.dtor-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.dtor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L1980'>#</a></div><div class='texpara'><div id='prim.id.dtor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.id.dtor-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  C <span class='operator'>*</span> pc <span class='operator'>=</span> <span class='keyword'>new</span> C;
  <span class='keyword'>using</span> C2 <span class='operator'>=</span> C;
  pc<span class='operator'>-</span><span class='anglebracket'>&gt;</span>C<span class='operator'>::</span><span class='operator'>~</span>C2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK, destroys <span class='tcode_in_codeblock'>*pc</span></span>
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>C<span class='operator'>::</span><span class='operator'>~</span>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// undefined behavior: temporary of type <span class='tcode_in_codeblock'>C</span> destroyed twice</span>
  <span class='keyword'>using</span> T <span class='operator'>=</span> <span class='keyword'>int</span>;
  <span class='literal'>0</span> <span class='operator'>.</span>T<span class='operator'>::</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK, no effect</span>
  <span class='literal'>0.T</span><span class='operator'>::</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>0.T</span> is a <a href='lex.ext#nt:user-defined-floating-point-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-floating-point-literal'><span class='textsf'><i >user-defined-floating-point-literal</i></span></span></a> (<a href='lex.ext' title='5.13.9&emsp;User-defined literals'>[lex.<span class='shy'></span>ext]</a>)</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div><div id='prim.lambda' class='section'><h3 ><a class='secnum' href='#prim.lambda' style='min-width:80pt'>7.5.6</a> Lambda expressions <a class='abbr_ref' href='expr.prim.lambda'>[expr.prim.lambda]</a></h3><div id='prim.lambda.general' class='section'><h4 ><a class='secnum' href='#prim.lambda.general' style='min-width:95pt'>7.5.6.1</a> General <a class='abbr_ref' href='expr.prim.lambda.general'>[expr.prim.lambda.general]</a></h4><div class='texpara'><a class='index' id=':expression,lambda'></a></div><div class='texpara'><div class='bnf' id='nt:lambda-expression'>
<a class='hidden_link' href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='nt:lambda-expression'><span id=':lambda-expression'>lambda-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:lambda-introducer' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-introducer'><span class='textsf'><i >lambda-introducer</i></span></span></a> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator'><span class='textsf'><i >lambda-declarator</i></span></span></a> <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement_'><span class='textsf'><i >compound-statement</i></span></span></a><br><a href='#nt:lambda-introducer' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-introducer_'><span class='textsf'><i >lambda-introducer</i></span></span></a> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><i >template-parameter-list</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_'><span class='textsf'><i >requires-clause</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br>&emsp;&emsp;&emsp;<a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator_'><span class='textsf'><i >lambda-declarator</i></span></span></a> <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement__'><span class='textsf'><i >compound-statement</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:lambda-introducer'>
<a class='hidden_link' href='#nt:lambda-introducer' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='nt:lambda-introducer'><span id=':lambda-introducer'>lambda-introducer<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='squarebracket'>[</span></span> <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture'><span class='textsf'><i >lambda-capture</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='squarebracket'>]</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:lambda-declarator'>
<a class='hidden_link' href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='nt:lambda-declarator'><span id=':lambda-declarator'>lambda-declarator<span class='textnormal'>:</span></span></span></a><br><a href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier-seq'><span class='textsf'><i >lambda-specifier-seq</i></span></span></a> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq__'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type_'><span class='textsf'><i >trailing-return-type</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br>&emsp;&emsp;&emsp;<a href='dcl.contract.func#nt:function-contract-specifier-seq' title='9.4.1&emsp;General&emsp;[dcl.contract.func]'><span id='ntref:function-contract-specifier-seq'><span class='textsf'><i >function-contract-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br><a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_'><span class='textsf'><i >noexcept-specifier</i></span></span></a> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq___'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type__'><span class='textsf'><i >trailing-return-type</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.contract.func#nt:function-contract-specifier-seq' title='9.4.1&emsp;General&emsp;[dcl.contract.func]'><span id='ntref:function-contract-specifier-seq_'><span class='textsf'><i >function-contract-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br><a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type___'><span class='textsf'><i >trailing-return-type</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.contract.func#nt:function-contract-specifier-seq' title='9.4.1&emsp;General&emsp;[dcl.contract.func]'><span id='ntref:function-contract-specifier-seq__'><span class='textsf'><i >function-contract-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier-seq_'><span class='textsf'><i >lambda-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier__'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq____'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br>&emsp;&emsp;&emsp;<a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type____'><span class='textsf'><i >trailing-return-type</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause__'><span class='textsf'><i >requires-clause</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.contract.func#nt:function-contract-specifier-seq' title='9.4.1&emsp;General&emsp;[dcl.contract.func]'><span id='ntref:function-contract-specifier-seq___'><span class='textsf'><i >function-contract-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:lambda-specifier'>
<a class='hidden_link' href='#nt:lambda-specifier' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='nt:lambda-specifier'><span id=':lambda-specifier'>lambda-specifier<span class='textnormal'>:</span></span></span></a><br><span id=':consteval'><span class='texttt'><span class='keyword'>consteval</span></span></span><br><span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span><br><span id=':mutable_'><span class='texttt'><span class='keyword'>mutable</span></span></span><br><span id=':static'><span class='texttt'><span class='keyword'>static</span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:lambda-specifier-seq'>
<a class='hidden_link' href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='nt:lambda-specifier-seq'><span id=':lambda-specifier-seq'>lambda-specifier-seq<span class='textnormal'>:</span></span></span></a><br><a href='#nt:lambda-specifier' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier'><span class='textsf'><i >lambda-specifier</i></span></span></a> <a href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier-seq__'><span class='textsf'><i >lambda-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='para' id='prim.lambda.general-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2036'>#</a></div><div class='texpara'><div id='prim.lambda.general-1.sentence-1' class='sentence'>A <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______'><span class='textsf'><i >lambda-expression</i></span></span></a> provides
a concise way to create a simple function object<a class='hidden_link' href='#prim.lambda.general-1.sentence-1'>.</a></div> <div id='prim.lambda.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>algorithm<span class='anglebracket'>&gt;</span>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>cmath<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> abssort<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='operator'>*</span> x, <span class='keyword'>unsigned</span> N<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>sort<span class='parenthesis'>(</span>x, x <span class='operator'>+</span> N, <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>float</span> a, <span class='keyword'>float</span> b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> std<span class='operator'>::</span>abs<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> std<span class='operator'>::</span>abs<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.general-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2049'>#</a></div><div class='texpara'><div id='prim.lambda.general-2.sentence-1' class='sentence'>A <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________'><span class='textsf'><i >lambda-expression</i></span></span></a> is a prvalue
whose result object is called the <a class='hidden_link' href='#def:closure_object' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='def:closure_object'><i >closure object</i></span></a><a class='hidden_link' href='#prim.lambda.general-2.sentence-1'>.</a></div> <div id='prim.lambda.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.general-note-1'>1</a></i>:&ensp;<div id='prim.lambda.general-2.sentence-2' class='sentence'>A closure object behaves like a <a href='function.objects' title='22.10&emsp;Function objects&emsp;[function.objects]'>function
object</a><a class='hidden_link' href='#prim.lambda.general-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.general-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2057'>#</a></div><div class='texpara'><div id='prim.lambda.general-3.sentence-1' class='sentence'>An ambiguity can arise
because a <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause___'><span class='textsf'><i >requires-clause</i></span></span></a> can end in
an <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_____'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>,
which collides with
the <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq______'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> in <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#prim.lambda.general-3.sentence-1'>.</a></div> <div id='prim.lambda.general-3.sentence-2' class='sentence'>In such cases,
any attributes are treated as
<a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_______'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> in <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__________'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#prim.lambda.general-3.sentence-2'>.</a></div> <div id='prim.lambda.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.general-note-2'>2</a></i>:&ensp;<div id='prim.lambda.general-3.sentence-3' class='sentence'>Such ambiguous cases cannot have valid semantics
because the constraint expression would not have type <span id=':bool___________'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#prim.lambda.general-3.sentence-3'>.</a></div> <div id='prim.lambda.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.general-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> x <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> T<span class='operator'>::</span><span class='keyword'>operator</span> <span class='keyword'>int</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>some_attribute<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.general-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2076'>#</a></div><div class='texpara'><div id='prim.lambda.general-4.sentence-1' class='sentence'>A <a href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier-seq___'><span class='textsf'><i >lambda-specifier-seq</i></span></span></a>
shall contain at most one of each <a href='#nt:lambda-specifier' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier_'><span class='textsf'><i >lambda-specifier</i></span></span></a> and
shall not contain both <span id=':constexpr_'><span class='texttt'><span class='keyword'>constexpr</span></span></span> and <span id=':consteval_'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#prim.lambda.general-4.sentence-1'>.</a></div> <div id='prim.lambda.general-4.sentence-2' class='sentence'>If the <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator__'><span class='textsf'><i >lambda-declarator</i></span></span></a> contains
an explicit object parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),
then no <a href='#nt:lambda-specifier' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier__'><span class='textsf'><i >lambda-specifier</i></span></span></a> in the <a href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier-seq____'><span class='textsf'><i >lambda-specifier-seq</i></span></span></a>
shall be <span id=':mutable__'><span class='texttt'><span class='keyword'>mutable</span></span></span> or <span id=':static_'><span class='texttt'><span class='keyword'>static</span></span></span><a class='hidden_link' href='#prim.lambda.general-4.sentence-2'>.</a></div> <div id='prim.lambda.general-4.sentence-3' class='sentence'>The <a href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier-seq_____'><span class='textsf'><i >lambda-specifier-seq</i></span></span></a> shall not contain
both <span id=':mutable___'><span class='texttt'><span class='keyword'>mutable</span></span></span> and <span id=':static__'><span class='texttt'><span class='keyword'>static</span></span></span><a class='hidden_link' href='#prim.lambda.general-4.sentence-3'>.</a></div> <div id='prim.lambda.general-4.sentence-4' class='sentence'>If the <a href='#nt:lambda-specifier-seq' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-specifier-seq______'><span class='textsf'><i >lambda-specifier-seq</i></span></span></a> contains <span id=':static___'><span class='texttt'><span class='keyword'>static</span></span></span>,
there shall be no <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture_'><span class='textsf'><i >lambda-capture</i></span></span></a><a class='hidden_link' href='#prim.lambda.general-4.sentence-4'>.</a></div> <div id='prim.lambda.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.general-note-3'>3</a></i>:&ensp;<div id='prim.lambda.general-4.sentence-5' class='sentence'>The trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause____'><span class='textsf'><i >requires-clause</i></span></span></a> is described in <a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a><a class='hidden_link' href='#prim.lambda.general-4.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.general-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2092'>#</a></div><div class='texpara'><div id='prim.lambda.general-5.sentence-1' class='sentence'>A <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
is the <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause___'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> of
the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator___'><span class='textsf'><i >lambda-declarator</i></span></span></a>, if any,
or empty otherwise<a class='hidden_link' href='#prim.lambda.general-5.sentence-1'>.</a></div> <div id='prim.lambda.general-5.sentence-2' class='sentence'>If the <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator____'><span class='textsf'><i >lambda-declarator</i></span></span></a>
does not include a <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type_____'><span class='textsf'><i >trailing-return-type</i></span></span></a>,
it is considered to be <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span id=':auto'><span class='texttt'><span class='keyword'>auto</span></span></span></span><a class='hidden_link' href='#prim.lambda.general-5.sentence-2'>.</a></div> <div id='prim.lambda.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.general-note-4'>4</a></i>:&ensp;<div id='prim.lambda.general-5.sentence-3' class='sentence'>In that case, the return type is deduced from <span id=':return_'><span class='texttt'><span class='keyword'>return</span></span></span> statements
as described in <a href='dcl.spec.auto' title='9.2.9.7&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a><a class='hidden_link' href='#prim.lambda.general-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.general-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> x1 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span>;      <span class='comment'>// OK, return type is <span class='tcode_in_codeblock'>int</span></span>
<span class='keyword'>auto</span> x2 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;       <span class='comment'>// error: deducing return type from <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a></span>
<span class='keyword'>int</span> j;
<span class='keyword'>auto</span> x3 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> j; <span class='curlybracket'>}</span>;  <span class='comment'>// OK, return type is <span class='tcode_in_codeblock'>int&amp;</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.general-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2113'>#</a></div><div class='texpara'><div id='prim.lambda.general-6.sentence-1' class='sentence'>A lambda is a <a class='hidden_link' href='#def:generic_lambda' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='def:generic_lambda'><i >generic lambda</i></span></a>
if the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____________'><span class='textsf'><i >lambda-expression</i></span></span></a>
has any generic parameter type placeholders (<a href='dcl.spec.auto' title='9.2.9.7&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>), or
if the lambda has a <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_'><span class='textsf'><i >template-parameter-list</i></span></span></a><a class='hidden_link' href='#prim.lambda.general-6.sentence-1'>.</a></div> <div id='prim.lambda.general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.general-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> x <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i, <span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span>;               <span class='comment'>// OK, a generic lambda</span>
<span class='keyword'>auto</span> y <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>auto</span> self, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span>;       <span class='comment'>// OK, a generic lambda</span>
<span class='keyword'>auto</span> z <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span>;              <span class='comment'>// OK, a generic lambda</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='prim.lambda.closure' class='section'><h4 ><a class='secnum' href='#prim.lambda.closure' style='min-width:95pt'>7.5.6.2</a> Closure types <a class='abbr_ref' href='expr.prim.lambda.closure'>[expr.prim.lambda.closure]</a></h4><div class='para' id='prim.lambda.closure-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2128'>#</a></div><div class='texpara'><div id='prim.lambda.closure-1.sentence-1' class='sentence'>The type of a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______________'><span class='textsf'><i >lambda-expression</i></span></span></a> (which is also the type of the
closure object) is a unique, unnamed non-union class type,
called the <a class='hidden_link' href='#def:closure_type' title='7.5.6.2&emsp;Closure types&emsp;[expr.prim.lambda.closure]'><span id='def:closure_type'><i >closure type</i></span></a>,
whose properties are described below<a class='hidden_link' href='#prim.lambda.closure-1.sentence-1'>.</a></div></div></div><div class='para' id='prim.lambda.closure-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2134'>#</a></div><div class='texpara'><div id='prim.lambda.closure-2.sentence-1' class='sentence'>The closure type is declared in the smallest block
scope, class scope, or namespace scope that contains the corresponding
<a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______________'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#prim.lambda.closure-2.sentence-1'>.</a></div> <div id='prim.lambda.closure-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.closure-note-1'>1</a></i>:&ensp;<div id='prim.lambda.closure-2.sentence-2' class='sentence'>This determines the set of namespaces and
classes associated with the closure type (<a href='basic.lookup.argdep' title='6.5.4&emsp;Argument-dependent name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>argdep]</a>)<a class='hidden_link' href='#prim.lambda.closure-2.sentence-2'>.</a></div> <div id='prim.lambda.closure-2.sentence-3' class='sentence'>The parameter
types of a <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator_____'><span class='textsf'><i >lambda-declarator</i></span></span></a> do not affect these associated namespaces and
classes<a class='hidden_link' href='#prim.lambda.closure-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2145'>#</a></div><div class='texpara'><div id='prim.lambda.closure-3.sentence-1' class='sentence'>The closure type is not an aggregate type (<a href='dcl.init.aggr' title='9.5.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>);
it is a structural type (<a href='temp.param#term.structural.type' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>) if and only if
the lambda has no <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture__'><span class='textsf'><i >lambda-capture</i></span></span></a><a class='hidden_link' href='#prim.lambda.closure-3.sentence-1'>.</a></div> <div id='prim.lambda.closure-3.sentence-2' class='sentence'>An implementation may define the closure type differently from what
is described below provided this does not alter the observable behavior of the program
other than by changing:
<ul class='itemize'><li id='prim.lambda.closure-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-3.1'>(3.1)</a></div>the size and/or alignment of the closure type,</li><li id='prim.lambda.closure-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-3.2'>(3.2)</a></div>whether the closure type is trivially copyable (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>),</li><li id='prim.lambda.closure-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-3.3'>(3.3)</a></div>whether the closure type is trivially relocatable (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>),</li><li id='prim.lambda.closure-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-3.4'>(3.4)</a></div>whether the closure type is replaceable (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>), or</li><li id='prim.lambda.closure-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-3.5'>(3.5)</a></div>whether the closure type is a standard-layout class (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>)<a class='hidden_link' href='#prim.lambda.closure-3.sentence-2'>.</a></li></ul></div></div><div class='texpara'><div id='prim.lambda.closure-3.sentence-3' class='sentence'>An implementation shall not add members of rvalue reference type to the closure
type<a class='hidden_link' href='#prim.lambda.closure-3.sentence-3'>.</a></div></div></div><div class='para' id='prim.lambda.closure-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2163'>#</a></div><div class='texpara'><div id='prim.lambda.closure-4.sentence-1' class='sentence'>The closure type for a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________________'><span class='textsf'><i >lambda-expression</i></span></span></a> has a public
inline function call operator (for a non-generic lambda) or
function call operator template (for a generic lambda) (<a href='over.call' title='12.4.4&emsp;Function call'>[over.<span class='shy'></span>call]</a>)
whose parameters and return type
are those of the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause____'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> and <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type______'><span class='textsf'><i >trailing-return-type</i></span></span></a>
respectively, and whose
<a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list__'><span class='textsf'><i >template-parameter-list</i></span></span></a> consists of
the specified <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list___'><span class='textsf'><i >template-parameter-list</i></span></span></a>, if any<a class='hidden_link' href='#prim.lambda.closure-4.sentence-1'>.</a></div> <div id='prim.lambda.closure-4.sentence-2' class='sentence'>The <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_____'><span class='textsf'><i >requires-clause</i></span></span></a> of the function call operator template
is the <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause______'><span class='textsf'><i >requires-clause</i></span></span></a> immediately following
<span class='texttt'><span class='anglebracket'>&lt;</span></span> <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list____'><span class='textsf'><i >template-parameter-list</i></span></span></a> <span class='texttt'><span class='anglebracket'>&gt;</span></span>, if any<a class='hidden_link' href='#prim.lambda.closure-4.sentence-2'>.</a></div> <div id='prim.lambda.closure-4.sentence-3' class='sentence'>The trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_______'><span class='textsf'><i >requires-clause</i></span></span></a> of the function call operator
or operator template is the <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause________'><span class='textsf'><i >requires-clause</i></span></span></a>
of the <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator______'><span class='textsf'><i >lambda-declarator</i></span></span></a>, if any<a class='hidden_link' href='#prim.lambda.closure-4.sentence-3'>.</a></div> <div id='prim.lambda.closure-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.closure-note-2'>2</a></i>:&ensp;<div id='prim.lambda.closure-4.sentence-4' class='sentence'>The function call operator template for a generic lambda can be
an abbreviated function template (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#prim.lambda.closure-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.closure-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> glambda <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a, <span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a <span class='anglebracket'>&lt;</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>bool</span> b <span class='operator'>=</span> glambda<span class='parenthesis'>(</span><span class='literal'>3</span>, <span class='literal'>3.14</span><span class='parenthesis'>)</span>;                                      <span class='comment'>// OK</span>

<span class='keyword'>auto</span> vglambda <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> printer<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ts<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                                   <span class='comment'>// OK, <span class='tcode_in_codeblock'>ts</span> is a function parameter pack</span>
    printer<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>ts<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>ts<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      printer<span class='parenthesis'>(</span>ts <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> p <span class='operator'>=</span> vglambda<span class='parenthesis'>(</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> v1, <span class='keyword'>auto</span> v2, <span class='keyword'>auto</span> v3<span class='parenthesis'>)</span>
                   <span class='curlybracket'>{</span> std<span class='operator'>::</span>cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> v1 <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> v2 <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> v3; <span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> q <span class='operator'>=</span> p<span class='parenthesis'>(</span><span class='literal'>1</span>, <span class='literal'>'a'</span>, <span class='literal'>3.14</span><span class='parenthesis'>)</span>;                                       <span class='comment'>// OK, outputs <span class='tcode_in_codeblock'>1a3.14</span></span>
q<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                                            <span class='comment'>// OK, outputs <span class='tcode_in_codeblock'>1a3.14</span></span>

<span class='keyword'>auto</span> fact <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>auto</span> self, <span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span>                  <span class='comment'>// OK, explicit object parameter</span>
  <span class='keyword'>return</span> <span class='parenthesis'>(</span>n <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>1</span> <span class='operator'>:</span> n <span class='operator'>*</span> self<span class='parenthesis'>(</span>n<span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
std<span class='operator'>::</span>cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> fact<span class='parenthesis'>(</span><span class='literal'>5</span><span class='parenthesis'>)</span>;                                           <span class='comment'>// OK, outputs 120</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2209'>#</a></div><div class='texpara'><div id='prim.lambda.closure-5.sentence-1' class='sentence'>Given a lambda with a <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture___'><span class='textsf'><i >lambda-capture</i></span></span></a>,
the type of the explicit object parameter, if any,
of the lambda's function call operator
(possibly instantiated from a function call operator template)
shall be either:
<ul class='itemize'><li id='prim.lambda.closure-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-5.1'>(5.1)</a></div>the closure type,</li><li id='prim.lambda.closure-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-5.2'>(5.2)</a></div>a class type publicly and unambiguously derived from the closure type, or</li><li id='prim.lambda.closure-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.closure-5.3'>(5.3)</a></div>a reference to a possibly cv-qualified such type<a class='hidden_link' href='#prim.lambda.closure-5.sentence-1'>.</a></li></ul></div> <div id='prim.lambda.closure-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  C<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> func<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK</span>
  <span class='keyword'>int</span> y <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>this</span> C<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// error</span>
  <span class='keyword'>int</span> z <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>this</span> C<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2238'>#</a></div><div class='texpara'><div id='prim.lambda.closure-6.sentence-1' class='sentence'>The function call operator or operator template is
a static member function or static member function template (<a href='class.static.mfct' title='11.4.9.2&emsp;Static member functions'>[class.<span class='shy'></span>static.<span class='shy'></span>mfct]</a>)
if the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__________________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_____'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> is followed by <span id=':static____'><span class='texttt'><span class='keyword'>static</span></span></span><a class='hidden_link' href='#prim.lambda.closure-6.sentence-1'>.</a></div> <div id='prim.lambda.closure-6.sentence-2' class='sentence'>Otherwise, it is
a non-static member function or member function template (<a href='class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>)
that is declared
<span id=':const____________'><span class='texttt'><span class='keyword'>const</span></span></span> (<a href='class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>) if and only if the
<a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___________________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause______'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> is not
followed by <span id=':mutable____'><span class='texttt'><span class='keyword'>mutable</span></span></span> and
the <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator_______'><span class='textsf'><i >lambda-declarator</i></span></span></a> does not contain
an explicit object parameter<a class='hidden_link' href='#prim.lambda.closure-6.sentence-2'>.</a></div> <div id='prim.lambda.closure-6.sentence-3' class='sentence'>It is neither virtual nor declared <span class='texttt'><span class='keyword'>volatile</span></span><a class='hidden_link' href='#prim.lambda.closure-6.sentence-3'>.</a></div> <div id='prim.lambda.closure-6.sentence-4' class='sentence'>Any <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier___'><span class='textsf'><i >noexcept-specifier</i></span></span></a> or <a href='dcl.contract.func#nt:function-contract-specifier' title='9.4.1&emsp;General&emsp;[dcl.contract.func]'><span id='ntref:function-contract-specifier'><span class='textsf'><i >function-contract-specifier</i></span></span></a> (<a href='dcl.contract.func' title='9.4.1&emsp;General'>[dcl.<span class='shy'></span>contract.<span class='shy'></span>func]</a>)
specified on a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
applies to the corresponding function call operator or operator template<a class='hidden_link' href='#prim.lambda.closure-6.sentence-4'>.</a></div> <div id='prim.lambda.closure-6.sentence-5' class='sentence'>An <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> in a <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator________'><span class='textsf'><i >lambda-declarator</i></span></span></a> appertains
to the type of the corresponding function call operator or operator template<a class='hidden_link' href='#prim.lambda.closure-6.sentence-5'>.</a></div> <div id='prim.lambda.closure-6.sentence-6' class='sentence'>An <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> in a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
preceding a <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator_________'><span class='textsf'><i >lambda-declarator</i></span></span></a>
appertains to the corresponding function call operator or operator template<a class='hidden_link' href='#prim.lambda.closure-6.sentence-6'>.</a></div> <div id='prim.lambda.closure-6.sentence-7' class='sentence'>The function call operator or any given operator template specialization
is a constexpr function if either
the corresponding <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______________________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_______'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
is followed by <span id=':constexpr__'><span class='texttt'><span class='keyword'>constexpr</span></span></span> or <span id=':consteval__'><span class='texttt'><span class='keyword'>consteval</span></span></span>, or
it is constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#prim.lambda.closure-6.sentence-7'>.</a></div> <div id='prim.lambda.closure-6.sentence-8' class='sentence'>It is an immediate function (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>)
if the corresponding <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______________________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause________'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> is followed by <span id=':consteval___'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#prim.lambda.closure-6.sentence-8'>.</a></div> <div id='prim.lambda.closure-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> ID <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>ID<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>3</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK</span>

<span class='keyword'>struct</span> NonLiteral <span class='curlybracket'>{</span>
  NonLiteral<span class='parenthesis'>(</span><span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='operator'>:</span> n<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> n;
<span class='curlybracket'>}</span>;
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>ID<span class='parenthesis'>(</span>NonLiteral<span class='curlybracket'>{</span><span class='literal'>3</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='operator'>.</span>n <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>3</span><span class='parenthesis'>)</span>;        <span class='comment'>// error</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='prim.lambda.closure-7'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2282'>#</a></div><div class='texpara'><div id='prim.lambda.closure-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> monoid <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v; <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> add <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> m1<span class='parenthesis'>)</span> <span class='keyword'>constexpr</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> ret <span class='operator'>=</span> m1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> m2<span class='parenthesis'>)</span> <span class='keyword'>mutable</span> <span class='curlybracket'>{</span>
    <span class='keyword'>auto</span> m1val <span class='operator'>=</span> m1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>auto</span> plus <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> m2val<span class='parenthesis'>)</span> <span class='keyword'>mutable</span> <span class='keyword'>constexpr</span>
                   <span class='curlybracket'>{</span> <span class='keyword'>return</span> m1val <span class='operator'>+</span><span class='operator'>=</span> m2val; <span class='curlybracket'>}</span>;
    ret <span class='operator'>=</span> plus<span class='parenthesis'>(</span>m2<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>return</span> monoid<span class='parenthesis'>(</span>ret<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>auto</span> zero <span class='operator'>=</span> monoid<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>auto</span> one <span class='operator'>=</span> monoid<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>add<span class='parenthesis'>(</span>one<span class='parenthesis'>)</span><span class='parenthesis'>(</span>zero<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> one<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK</span>

<span class='comment'>// Since <span class='tcode_in_codeblock'>two</span> below is not declared <span id=':constexpr___'><span class='tcode_in_codeblock'>constexpr</span></span>, an evaluation of its <span class='tcode_in_codeblock'>constexpr</span> member function call operator</span>
<span class='comment'>// cannot perform an lvalue-to-rvalue conversion on one of its subobjects (that represents its capture)</span>
<span class='comment'>// in a constant expression.</span>
<span class='keyword'>auto</span> two <span class='operator'>=</span> monoid<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span>;
assert<span class='parenthesis'>(</span>two<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>2</span><span class='parenthesis'>)</span>; <span class='comment'>// OK, not a constant expression.</span>
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>add<span class='parenthesis'>(</span>one<span class='parenthesis'>)</span><span class='parenthesis'>(</span>one<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> two<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>two()</span> is not a constant expression</span>
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>add<span class='parenthesis'>(</span>one<span class='parenthesis'>)</span><span class='parenthesis'>(</span>one<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> monoid<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;  <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='prim.lambda.closure-8'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2310'>#</a></div><div class='texpara'><div id='prim.lambda.closure-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.closure-note-3'>3</a></i>:&ensp;<div id='prim.lambda.closure-8.sentence-1' class='sentence'>The function call operator or operator template can be constrained (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>)
by a <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint'><span class='textsf'><i >type-constraint</i></span></span></a> (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>),
a <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_________'><span class='textsf'><i >requires-clause</i></span></span></a> (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>),
or a trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause__________'><span class='textsf'><i >requires-clause</i></span></span></a> (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>)<a class='hidden_link' href='#prim.lambda.closure-8.sentence-1'>.</a></div> <div id='prim.lambda.closure-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C1 <span class='operator'>=</span> <span class='comment'>/* ... */</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>size_t N<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C2 <span class='operator'>=</span> <span class='comment'>/* ... */</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> A, <span class='keyword'>typename</span> B<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C3 <span class='operator'>=</span> <span class='comment'>/* ... */</span>;

<span class='keyword'>auto</span> f <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T1, C1 T2<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> C2<span class='anglebracket'>&lt;</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T1<span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T2<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>
         <span class='parenthesis'>(</span>T1 a1, T1 b1, T2 a2, <span class='keyword'>auto</span> a3, <span class='keyword'>auto</span> a4<span class='parenthesis'>)</span> <span class='keyword'>requires</span> C3<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>a4<span class='parenthesis'>)</span>, T2<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='comment'>// <span class='tcode_in_codeblock'>T2</span> is constrained by a <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint_'><span class='textsf'><i >type-constraint</i></span></span></a>.</span>
  <span class='comment'>// <span class='tcode_in_codeblock'>T1</span> and <span class='tcode_in_codeblock'>T2</span> are constrained by a <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause___________'><span class='textsf'><i >requires-clause</i></span></span></a>, and</span>
  <span class='comment'>// <span class='tcode_in_codeblock'>T2</span> and the type of <span class='tcode_in_codeblock'>a4</span> are constrained by a trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause____________'><span class='textsf'><i >requires-clause</i></span></span></a>.</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-9'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2332'>#</a></div><div class='texpara'><div id='prim.lambda.closure-9.sentence-1' class='sentence'>If all potential references
to a local entity implicitly captured by a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> <span class='math'><span class='mathalpha'>L</span></span>
occur within the function contract assertions (<a href='dcl.contract.func' title='9.4.1&emsp;General'>[dcl.<span class='shy'></span>contract.<span class='shy'></span>func]</a>)
of the call operator or operator template of <span class='math'><span class='mathalpha'>L</span></span>
or within <a href='stmt.contract.assert#nt:assertion-statement' title='8.8&emsp;Assertion statement&emsp;[stmt.contract.assert]'><span id='ntref:assertion-statement'><span class='textsf'><i >assertion-statement</i></span></span></a><i >s</i> (<a href='stmt.contract.assert' title='8.8&emsp;Assertion statement'>[stmt.<span class='shy'></span>contract.<span class='shy'></span>assert]</a>)
within the body of <span class='math'><span class='mathalpha'>L</span></span>,
the program is ill-formed<a class='hidden_link' href='#prim.lambda.closure-9.sentence-1'>.</a></div> <div id='prim.lambda.closure-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.closure-note-4'>4</a></i>:&ensp;<div id='prim.lambda.closure-9.sentence-2' class='sentence'>Adding a contract assertion to an existing C++ program cannot
cause additional captures<a class='hidden_link' href='#prim.lambda.closure-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.closure-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>static</span> <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>0</span>;

<span class='keyword'>void</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> f1 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> pre<span class='parenthesis'>(</span>i <span class='anglebracket'>&gt;</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;  <span class='comment'>// OK, no local entities are captured.</span>

  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>1</span>;
  <span class='keyword'>auto</span> f2 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> pre<span class='parenthesis'>(</span>i <span class='anglebracket'>&gt;</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;  <span class='comment'>// error: cannot implicitly capture <span class='tcode_in_codeblock'>i</span> here</span>
  <span class='keyword'>auto</span> f3 <span class='operator'>=</span> <span class='squarebracket'>[</span>i<span class='squarebracket'>]</span> pre<span class='parenthesis'>(</span>i <span class='anglebracket'>&gt;</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;  <span class='comment'>// OK, <span class='tcode_in_codeblock'>i</span> is captured explicitly.</span>

  <span class='keyword'>auto</span> f4 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='keyword'>contract_assert</span><span class='parenthesis'>(</span>i <span class='anglebracket'>&gt;</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: cannot implicitly capture <span class='tcode_in_codeblock'>i</span> here</span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>auto</span> f5 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='keyword'>contract_assert</span><span class='parenthesis'>(</span>i <span class='anglebracket'>&gt;</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>i</span> is referenced elsewhere.</span>
    <span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>)</span>i;
  <span class='curlybracket'>}</span>;

  <span class='keyword'>auto</span> f6 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> pre<span class='parenthesis'>(</span>                <span class='comment'>// #1</span>
    <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span>
      <span class='keyword'>bool</span> x <span class='operator'>=</span> <span class='literal'>true</span>;
      <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK, #1 captures nothing.</span>
    <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

  <span class='keyword'>bool</span> y <span class='operator'>=</span> <span class='literal'>true</span>;
  <span class='keyword'>auto</span> f7 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> pre<span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> y; <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;    <span class='comment'>// error: outer capture of <span class='tcode_in_codeblock'>y</span> is invalid.</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-10'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2377'>#</a></div><div class='texpara'><div id='prim.lambda.closure-10.sentence-1' class='sentence'>The closure type for a non-generic <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> with no
<a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture____'><span class='textsf'><i >lambda-capture</i></span></span></a>
and no explicit object parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)
whose constraints (if any) are satisfied
has a conversion function to pointer to
function with C++ language <a href='dcl.link' title='9.12&emsp;Linkage specifications&emsp;[dcl.link]'>linkage</a> having
the same parameter and return types as the closure type's function call operator<a class='hidden_link' href='#prim.lambda.closure-10.sentence-1'>.</a></div> <div id='prim.lambda.closure-10.sentence-2' class='sentence'>The conversion is to “pointer to <span id=':noexcept______'><span class='texttt'><span class='keyword'>noexcept</span></span></span> function”
if the function call operator
has a non-throwing exception specification<a class='hidden_link' href='#prim.lambda.closure-10.sentence-2'>.</a></div> <div id='prim.lambda.closure-10.sentence-3' class='sentence'>If the function call operator is a static member function,
then the value returned by this conversion function is
a pointer to the function call operator<a class='hidden_link' href='#prim.lambda.closure-10.sentence-3'>.</a></div> <div id='prim.lambda.closure-10.sentence-4' class='sentence'>Otherwise, the value returned by this conversion function
is a pointer to a function <span class='texttt'>F</span> that, when invoked,
has the same effect as invoking the closure type's function call operator
on a default-constructed instance of the closure type<a class='hidden_link' href='#prim.lambda.closure-10.sentence-4'>.</a></div> <div id='prim.lambda.closure-10.sentence-5' class='sentence'><span class='texttt'>F</span> is a constexpr function
if the function call operator is a constexpr function
and is an immediate function
if the function call operator is an immediate function<a class='hidden_link' href='#prim.lambda.closure-10.sentence-5'>.</a></div></div></div><div class='para' id='prim.lambda.closure-11'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2400'>#</a></div><div class='texpara'><div id='prim.lambda.closure-11.sentence-1' class='sentence'>For a generic lambda with no <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture_____'><span class='textsf'><i >lambda-capture</i></span></span></a>
and no explicit object parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),
the closure type has a
conversion function template to
pointer to function<a class='hidden_link' href='#prim.lambda.closure-11.sentence-1'>.</a></div> <div id='prim.lambda.closure-11.sentence-2' class='sentence'>The conversion function template has the same invented
template parameter list, and the pointer to function has the same
parameter types, as the function call operator template<a class='hidden_link' href='#prim.lambda.closure-11.sentence-2'>.</a></div> <div id='prim.lambda.closure-11.sentence-3' class='sentence'>The return type of
the pointer to function shall behave as if it were a
<a href='dcl.type.decltype#nt:decltype-specifier' title='9.2.9.6&emsp;Decltype specifiers&emsp;[dcl.type.decltype]'><span id='ntref:decltype-specifier_'><span class='textsf'><i >decltype-specifier</i></span></span></a> denoting the return type of the corresponding
function call operator template specialization<a class='hidden_link' href='#prim.lambda.closure-11.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='prim.lambda.closure-12'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2412'>#</a></div><div class='texpara'><div id='prim.lambda.closure-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.closure-note-5'>5</a></i>:&ensp;<div id='prim.lambda.closure-12.sentence-1' class='sentence'>If the generic lambda has no <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type_______'><span class='textsf'><i >trailing-return-type</i></span></span></a> or
the <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type________'><span class='textsf'><i >trailing-return-type</i></span></span></a> contains a placeholder type, return type
deduction of the corresponding function call operator template specialization
has to be done<a class='hidden_link' href='#prim.lambda.closure-12.sentence-1'>.</a></div> <div id='prim.lambda.closure-12.sentence-2' class='sentence'>The corresponding specialization is that instantiation of the
function call operator template with the same template arguments as those
deduced for the conversion function template<a class='hidden_link' href='#prim.lambda.closure-12.sentence-2'>.</a></div> <div id='prim.lambda.closure-12.sentence-3' class='sentence'>Consider the following:
<span class='codeblock'><span class='keyword'>auto</span> glambda <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fp<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> glambda;
</span></div> <div id='prim.lambda.closure-12.sentence-4' class='sentence'>
The behavior of the conversion function of <span class='texttt'>glambda</span> above is like
that of the following conversion function:
<span class='codeblock'><span class='keyword'>struct</span> Closure <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>auto</span> <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>static</span> <span class='keyword'>auto</span> lambda_call_operator_invoker<span class='parenthesis'>(</span>T a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='comment'>// forwards execution to <span class='tcode_in_codeblock'>operator()(a)</span> and therefore has</span>
    <span class='comment'>// the same return type deduced</span>
    <span class='comment'>/* ... */</span>
  <span class='curlybracket'>}</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> fptr_t <span class='operator'>=</span>
    <span class='keyword'>decltype</span><span class='parenthesis'>(</span>lambda_call_operator_invoker<span class='parenthesis'>(</span>declval<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> fptr_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>
    <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='operator'>&amp;</span>lambda_call_operator_invoker; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='prim.lambda.closure-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-7'>7</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>   <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='keyword'>void</span> f2<span class='parenthesis'>(</span><span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>  <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>    <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>     <span class='comment'>// #1</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>  <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>     <span class='comment'>// #2</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>    <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>     <span class='comment'>// #3</span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>   <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>     <span class='comment'>// #4</span>

<span class='keyword'>auto</span> glambda <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>;
f1<span class='parenthesis'>(</span>glambda<span class='parenthesis'>)</span>;                    <span class='comment'>// OK</span>
f2<span class='parenthesis'>(</span>glambda<span class='parenthesis'>)</span>;                    <span class='comment'>// error: ID is not convertible</span>
g<span class='parenthesis'>(</span>glambda<span class='parenthesis'>)</span>;                     <span class='comment'>// error: ambiguous</span>
h<span class='parenthesis'>(</span>glambda<span class='parenthesis'>)</span>;                     <span class='comment'>// OK, calls #3 since it is convertible from ID</span>
<span class='keyword'>int</span><span class='operator'>&amp;</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fpi<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='operator'>*</span> a<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='operator'>*</span>a; <span class='curlybracket'>}</span>;        <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-13'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2463'>#</a></div><div class='texpara'><div id='prim.lambda.closure-13.sentence-1' class='sentence'>If the function call operator template is a static member function template,
then the value returned by
any given specialization of this conversion function template is
a pointer to the corresponding function call operator template specialization<a class='hidden_link' href='#prim.lambda.closure-13.sentence-1'>.</a></div> <div id='prim.lambda.closure-13.sentence-2' class='sentence'>Otherwise,
the value returned by any given specialization of this conversion function
template is a pointer to a function <span class='texttt'>F</span> that, when invoked, has the same
effect as invoking the generic lambda's corresponding function call operator
template specialization on a default-constructed instance of the closure type<a class='hidden_link' href='#prim.lambda.closure-13.sentence-2'>.</a></div> <div id='prim.lambda.closure-13.sentence-3' class='sentence'><span class='texttt'>F</span> is a constexpr function
if the corresponding specialization is a constexpr function and
<span class='texttt'>F</span> is an immediate function
if the function call operator template specialization is an immediate function<a class='hidden_link' href='#prim.lambda.closure-13.sentence-3'>.</a></div> <div id='prim.lambda.closure-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.closure-note-6'>6</a></i>:&ensp;<div id='prim.lambda.closure-13.sentence-4' class='sentence'>This will result in the implicit instantiation of the generic lambda's body<a class='hidden_link' href='#prim.lambda.closure-13.sentence-4'>.</a></div> <div id='prim.lambda.closure-13.sentence-5' class='sentence'>The instantiated generic lambda's return type and parameter types need to match
the return type and parameter types of the pointer to function<a class='hidden_link' href='#prim.lambda.closure-13.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.closure-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-8'>8</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> GL <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> std<span class='operator'>::</span>cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> a; <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>GL_int<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> GL;        <span class='comment'>// OK, through conversion function template</span>
GL_int<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK, same as <span class='tcode_in_codeblock'>GL(3)</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-14'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2490'>#</a></div><div class='texpara'><div id='prim.lambda.closure-14.sentence-1' class='sentence'>The conversion function or conversion function template is public,
constexpr, non-virtual, non-explicit, const, and has a non-throwing <a href='except.spec' title='14.5&emsp;Exception specifications&emsp;[except.spec]'>exception
specification</a><a class='hidden_link' href='#prim.lambda.closure-14.sentence-1'>.</a></div> <div id='prim.lambda.closure-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-9'>9</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> Fwd <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fp<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>, <span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> fp<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> C <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>;

<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>Fwd<span class='parenthesis'>(</span>C,<span class='literal'>3</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>3</span><span class='parenthesis'>)</span>;   <span class='comment'>// OK</span>

<span class='comment'>// No specialization of the function call operator template can be constexpr (due to the local static).</span>
<span class='keyword'>auto</span> NC <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>static</span> <span class='keyword'>int</span> s; <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>Fwd<span class='parenthesis'>(</span>NC,<span class='literal'>3</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>3</span><span class='parenthesis'>)</span>;  <span class='comment'>// error</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-15'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2507'>#</a></div><div class='texpara'><div id='prim.lambda.closure-15.sentence-1' class='sentence'>The <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement___'><span class='textsf'><i >compound-statement</i></span></span></a> yields
the <a href='dcl.fct.def.general#nt:function-body' title='9.6.1&emsp;General&emsp;[dcl.fct.def.general]'><span id='ntref:function-body'><span class='textsf'><i >function-body</i></span></span></a> (<a href='dcl.fct.def' title='9.6&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>) of the function call operator,
but it is not within the scope of the closure type<a class='hidden_link' href='#prim.lambda.closure-15.sentence-1'>.</a></div> <div id='prim.lambda.closure-example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.closure-example-10'>10</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S1 <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x, y;
  <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>int</span> <span class='curlybracket'>{</span>
      <span class='keyword'>return</span> <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>x <span class='operator'>+</span> y<span class='parenthesis'>)</span>;   <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>S1&#x200b;::&#x200b;operator()(this-&gt;x + (*this).y)</span></span>
                                        <span class='comment'>// <span id=':this________'><span class='tcode_in_codeblock'>this</span></span> has type <span class='tcode_in_codeblock'>S1*</span></span>
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='prim.lambda.closure-15.sentence-2' class='sentence'>
Further, a variable <span class='texttt'>__func__</span> is implicitly defined at the beginning of
the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement____'><span class='textsf'><i >compound-statement</i></span></span></a> of the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>,
with semantics as described in <a href='dcl.fct.def.general' title='9.6.1&emsp;General'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a><a class='hidden_link' href='#prim.lambda.closure-15.sentence-2'>.</a></div></div></div><div class='para' id='prim.lambda.closure-16'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2529'>#</a></div><div class='texpara'><div id='prim.lambda.closure-16.sentence-1' class='sentence'>The closure type associated with a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> has no
default constructor
if the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> has a <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture______'><span class='textsf'><i >lambda-capture</i></span></span></a>
and a defaulted default constructor otherwise<a class='hidden_link' href='#prim.lambda.closure-16.sentence-1'>.</a></div> <div id='prim.lambda.closure-16.sentence-2' class='sentence'>It has a defaulted copy constructor and a defaulted move constructor (<a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#prim.lambda.closure-16.sentence-2'>.</a></div> <div id='prim.lambda.closure-16.sentence-3' class='sentence'>It has a deleted copy assignment operator if the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
has a <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture_______'><span class='textsf'><i >lambda-capture</i></span></span></a> and defaulted copy and move assignment
operators otherwise (<a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>)<a class='hidden_link' href='#prim.lambda.closure-16.sentence-3'>.</a></div> <div id='prim.lambda.closure-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.closure-note-7'>7</a></i>:&ensp;<div id='prim.lambda.closure-16.sentence-4' class='sentence'>These special member functions are implicitly defined as
usual, which can result in them being defined as deleted<a class='hidden_link' href='#prim.lambda.closure-16.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.closure-17'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2543'>#</a></div><div class='texpara'><div id='prim.lambda.closure-17.sentence-1' class='sentence'>The closure type associated with a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> has an
implicitly-declared destructor (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#prim.lambda.closure-17.sentence-1'>.</a></div></div></div><div class='para' id='prim.lambda.closure-18'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2547'>#</a></div><div class='texpara'><div id='prim.lambda.closure-18.sentence-1' class='sentence'>A member of a closure type shall not be
<a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation&emsp;[temp.explicit]'>explicitly instantiated</a>,
<a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'>explicitly specialized</a>, or
named in a <a href='class.friend' title='11.8.4&emsp;Friends&emsp;[class.friend]'>friend declaration</a><a class='hidden_link' href='#prim.lambda.closure-18.sentence-1'>.</a></div></div></div></div><div id='prim.lambda.capture' class='section'><h4 ><a class='secnum' href='#prim.lambda.capture' style='min-width:95pt'>7.5.6.3</a> Captures <a class='abbr_ref' href='expr.prim.lambda.capture'>[expr.prim.lambda.capture]</a></h4><div class='texpara'><div class='bnf' id='nt:lambda-capture'>
<a class='hidden_link' href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='nt:lambda-capture'><span id=':lambda-capture'>lambda-capture<span class='textnormal'>:</span></span></span></a><br><a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default'><span class='textsf'><i >capture-default</i></span></span></a><br><a href='#nt:capture-list' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-list'><span class='textsf'><i >capture-list</i></span></span></a><br><a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default_'><span class='textsf'><i >capture-default</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:capture-list' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-list_'><span class='textsf'><i >capture-list</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:capture-default'>
<a class='hidden_link' href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='nt:capture-default'><span id=':capture-default'>capture-default<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>&amp;</span></span><br><span class='terminal'><span class='operator'>=</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:capture-list'>
<a class='hidden_link' href='#nt:capture-list' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='nt:capture-list'><span id=':capture-list'>capture-list<span class='textnormal'>:</span></span></span></a><br><a href='#nt:capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture'><span class='textsf'><i >capture</i></span></span></a><br><a href='#nt:capture-list' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-list__'><span class='textsf'><i >capture-list</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture_'><span class='textsf'><i >capture</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:capture'>
<a class='hidden_link' href='#nt:capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='nt:capture'><span id=':capture'>capture<span class='textnormal'>:</span></span></span></a><br><a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture'><span class='textsf'><i >simple-capture</i></span></span></a><br><a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_'><span class='textsf'><i >init-capture</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:simple-capture'>
<a class='hidden_link' href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='nt:simple-capture'><span id=':simple-capture'>simple-capture<span class='textnormal'>:</span></span></span></a><br><a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier______'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br><span class='terminal'><span class='operator'>&amp;</span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_______'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br><span id=':this_________'><span class='texttt'><span class='keyword'>this</span></span></span><br><span class='terminal'><span class='operator'>*</span></span> <span class='terminal'><span class='keyword'>this</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:init-capture'>
<a class='hidden_link' href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='nt:init-capture'><span id=':init-capture'>init-capture<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier________'><span class='textsf'><i >identifier</i></span></span></a> <a href='dcl.init.general#nt:initializer' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer'><span class='textsf'><i >initializer</i></span></span></a><br><span class='terminal'><span class='operator'>&amp;</span></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_________'><span class='textsf'><i >identifier</i></span></span></a> <a href='dcl.init.general#nt:initializer' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_'><span class='textsf'><i >initializer</i></span></span></a>
</div></div><div class='para' id='prim.lambda.capture-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2594'>#</a></div><div class='texpara'><div id='prim.lambda.capture-1.sentence-1' class='sentence'>The body of a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> may refer to local entities
of enclosing scopes by capturing those entities, as described
below<a class='hidden_link' href='#prim.lambda.capture-1.sentence-1'>.</a></div></div></div><div class='para' id='prim.lambda.capture-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2599'>#</a></div><div class='texpara'><div id='prim.lambda.capture-2.sentence-1' class='sentence'>If a <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture________'><span class='textsf'><i >lambda-capture</i></span></span></a> includes a <a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default__'><span class='textsf'><i >capture-default</i></span></span></a> that
is <span class='texttt'><span class='operator'>&amp;</span></span>, no identifier in a <a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture_'><span class='textsf'><i >simple-capture</i></span></span></a> of that
<a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture_________'><span class='textsf'><i >lambda-capture</i></span></span></a> shall be preceded
by <span class='texttt'><span class='operator'>&amp;</span></span><a class='hidden_link' href='#prim.lambda.capture-2.sentence-1'>.</a></div> <div id='prim.lambda.capture-2.sentence-2' class='sentence'>If a <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture__________'><span class='textsf'><i >lambda-capture</i></span></span></a> includes a
<a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default___'><span class='textsf'><i >capture-default</i></span></span></a> that is <span class='texttt'><span class='operator'>=</span></span>, each
<a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture__'><span class='textsf'><i >simple-capture</i></span></span></a> of that <a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture___________'><span class='textsf'><i >lambda-capture</i></span></span></a> shall
be of the form
“<span class='texttt'><span class='operator'>&amp;</span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__________'><span class='textsf'><i >identifier</i></span></span></a> <span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>”,
“<span id=':this__________'><span class='texttt'><span class='keyword'>this</span></span></span>”,
or “<span class='texttt'><span class='operator'>*</span> <span id=':this___________'><span class='texttt'><span class='keyword'>this</span></span></span></span>”<a class='hidden_link' href='#prim.lambda.capture-2.sentence-2'>.</a></div> <div id='prim.lambda.capture-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-1'>1</a></i>:&ensp;<div id='prim.lambda.capture-2.sentence-3' class='sentence'>The form <span class='texttt'><span class='squarebracket'>[</span><span class='operator'>&amp;</span>,<span id=':this____________'><span class='texttt'><span class='keyword'>this</span></span></span><span class='squarebracket'>]</span></span> is redundant but accepted
for compatibility with C++ 2014<a class='hidden_link' href='#prim.lambda.capture-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.capture-2.sentence-4' class='sentence'>
Ignoring appearances in
<a href='dcl.init.general#nt:initializer' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer__'><span class='textsf'><i >initializer</i></span></span></a><i >s</i> of <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture__'><span class='textsf'><i >init-capture</i></span></span></a><i >s</i>, an identifier or
<span id=':this_____________'><span class='texttt'><span class='keyword'>this</span></span></span> shall not appear more than once in a
<a href='#nt:lambda-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:lambda-capture____________'><span class='textsf'><i >lambda-capture</i></span></span></a><a class='hidden_link' href='#prim.lambda.capture-2.sentence-4'>.</a></div> <div id='prim.lambda.capture-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S2 <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> S2<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='squarebracket'>[</span><span class='operator'>&amp;</span>, i<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;        <span class='comment'>// OK</span>
  <span class='squarebracket'>[</span><span class='operator'>&amp;</span>, <span class='keyword'>this</span>, i<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;  <span class='comment'>// OK, equivalent to <span class='tcode_in_codeblock'>[&amp;, i]</span></span>
  <span class='squarebracket'>[</span><span class='operator'>&amp;</span>, <span class='operator'>&amp;</span>i<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> preceded by <span class='tcode_in_codeblock'>&amp;</span> when <span class='tcode_in_codeblock'>&amp;</span> is the default</span>
  <span class='squarebracket'>[</span><span class='operator'>=</span>, <span class='operator'>*</span><span class='keyword'>this</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK</span>
  <span class='squarebracket'>[</span><span class='operator'>=</span>, <span class='keyword'>this</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;     <span class='comment'>// OK, equivalent to <span class='tcode_in_codeblock'>[=]</span></span>
  <span class='squarebracket'>[</span>i, i<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> repeated</span>
  <span class='squarebracket'>[</span><span class='keyword'>this</span>, <span class='operator'>*</span><span class='keyword'>this</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='curlybracket'>}</span>; <span class='comment'>// error: <span id=':this______________'><span class='tcode_in_codeblock'>this</span></span> appears twice</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2633'>#</a></div><div class='texpara'><div id='prim.lambda.capture-3.sentence-1' class='sentence'>A <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> shall not have
a <a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default____'><span class='textsf'><i >capture-default</i></span></span></a> or <a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture___'><span class='textsf'><i >simple-capture</i></span></span></a>
in its <a href='#nt:lambda-introducer' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-introducer__'><span class='textsf'><i >lambda-introducer</i></span></span></a>
unless
<ul class='itemize'><li id='prim.lambda.capture-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-3.1'>(3.1)</a></div>its innermost enclosing scope is a block scope (<a href='basic.scope.block' title='6.4.3&emsp;Block scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>block]</a>),</li><li id='prim.lambda.capture-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-3.2'>(3.2)</a></div>it appears within a default member initializer
and its innermost enclosing scope is
the corresponding class scope (<a href='basic.scope.class' title='6.4.7&emsp;Class scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>class]</a>), or</li><li id='prim.lambda.capture-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-3.3'>(3.3)</a></div>it appears within a contract assertion
and its innermost enclosing scope
is the corresponding contract-assertion scope (<a href='basic.scope.contract' title='6.4.10&emsp;Contract-assertion scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>contract]</a>)<a class='hidden_link' href='#prim.lambda.capture-3.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='prim.lambda.capture-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2651'>#</a></div><div class='texpara'><div id='prim.lambda.capture-4.sentence-1' class='sentence'>The <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___________'><span class='textsf'><i >identifier</i></span></span></a> in a <a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture____'><span class='textsf'><i >simple-capture</i></span></span></a>
shall denote a local entity (<a href='basic.lookup.unqual' title='6.5.3&emsp;Unqualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>unqual]</a>, <a href='basic.pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#prim.lambda.capture-4.sentence-1'>.</a></div> <div id='prim.lambda.capture-4.sentence-2' class='sentence'>The <a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture_____'><span class='textsf'><i >simple-capture</i></span></span></a><i >s</i> <span id=':this_______________'><span class='texttt'><span class='keyword'>this</span></span></span> and <span class='texttt'><span class='operator'>*</span> <span id=':this________________'><span class='texttt'><span class='keyword'>this</span></span></span></span>
denote the local entity <span class='texttt'><span class='operator'>*</span><span id=':this_________________'><span class='texttt'><span class='keyword'>this</span></span></span></span><a class='hidden_link' href='#prim.lambda.capture-4.sentence-2'>.</a></div> <div id='prim.lambda.capture-4.sentence-3' class='sentence'>An entity that is designated by a
<a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture______'><span class='textsf'><i >simple-capture</i></span></span></a>
is said to be <a class='hidden_link' href='#def:explicitly_captured' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='def:explicitly_captured'><i >explicitly captured</i></span></a><a class='hidden_link' href='#prim.lambda.capture-4.sentence-3'>.</a></div></div></div><div class='para' id='prim.lambda.capture-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2660'>#</a></div><div class='texpara'><div id='prim.lambda.capture-5.sentence-1' class='sentence'>If an <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____________'><span class='textsf'><i >identifier</i></span></span></a> in a <a href='#nt:capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture__'><span class='textsf'><i >capture</i></span></span></a> appears
as the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id__'><span class='textsf'><i >declarator-id</i></span></span></a> of a parameter of
the <a href='#nt:lambda-declarator' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator__________'><span class='textsf'><i >lambda-declarator</i></span></span></a>'s <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_________'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
or as the name of a template parameter of
the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>'s <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_____'><span class='textsf'><i >template-parameter-list</i></span></span></a>,
the program is ill-formed<a class='hidden_link' href='#prim.lambda.capture-5.sentence-1'>.</a></div> <div id='prim.lambda.capture-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>0</span>;
  <span class='keyword'>auto</span> g <span class='operator'>=</span> <span class='squarebracket'>[</span>x<span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>;    <span class='comment'>// error: parameter and <a href='#nt:capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture___'><span class='textsf'><i >capture</i></span></span></a> have the same name</span>
  <span class='keyword'>auto</span> h <span class='operator'>=</span> <span class='squarebracket'>[</span>y <span class='operator'>=</span> <span class='literal'>0</span><span class='squarebracket'>]</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> y<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>y<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>;    <span class='comment'>// error: template parameter and <a href='#nt:capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture____'><span class='textsf'><i >capture</i></span></span></a></span>
                                                    <span class='comment'>// have the same name</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2678'>#</a></div><div class='texpara'><div id='prim.lambda.capture-6.sentence-1' class='sentence'>An <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture___'><span class='textsf'><i >init-capture</i></span></span></a> inhabits
the lambda scope (<a href='basic.scope.lambda' title='6.4.5&emsp;Lambda scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>lambda]</a>)
of the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#prim.lambda.capture-6.sentence-1'>.</a></div> <div id='prim.lambda.capture-6.sentence-2' class='sentence'>An <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture____'><span class='textsf'><i >init-capture</i></span></span></a> without ellipsis
behaves as if it declares and explicitly captures a variable of
the form “<span id=':auto_'><span class='texttt'><span class='keyword'>auto</span></span></span> <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_____'><span class='textsf'><i >init-capture</i></span></span></a> <span class='texttt'>;</span>”, except that:
<ul class='itemize'><li id='prim.lambda.capture-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-6.1'>(6.1)</a></div>if the capture is by copy (see below), the non-static data member
declared for the capture and the variable are treated as two different ways
of referring to the same object, which has the lifetime of the non-static
data member, and no additional copy and destruction is performed, and</li><li id='prim.lambda.capture-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-6.2'>(6.2)</a></div>if the capture is by reference, the variable's lifetime ends when the
closure object's lifetime ends<a class='hidden_link' href='#prim.lambda.capture-6.sentence-2'>.</a></li></ul></div> <div id='prim.lambda.capture-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-2'>2</a></i>:&ensp;<div id='prim.lambda.capture-6.sentence-3' class='sentence'>This enables an <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture______'><span class='textsf'><i >init-capture</i></span></span></a> like
“<span class='texttt'>x <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span>”; the second “<span class='texttt'>x</span>” must bind to a
declaration in the surrounding context<a class='hidden_link' href='#prim.lambda.capture-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.capture-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>4</span>;
<span class='keyword'>auto</span> y <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span>r <span class='operator'>=</span> x, x <span class='operator'>=</span> x<span class='operator'>+</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>int</span> <span class='curlybracket'>{</span>
            r <span class='operator'>+</span><span class='operator'>=</span> <span class='literal'>2</span>;
            <span class='keyword'>return</span> x<span class='operator'>+</span><span class='literal'>2</span>;
         <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                               <span class='comment'>// Updates <span class='tcode_in_codeblock'>&#x200b;::&#x200b;x</span> to 6, and initializes <span class='tcode_in_codeblock'>y</span> to 7.</span>

<span class='keyword'>auto</span> z <span class='operator'>=</span> <span class='squarebracket'>[</span>a <span class='operator'>=</span> <span class='literal'>42</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>1</span>; <span class='curlybracket'>}</span>;     <span class='comment'>// error: parameter and conceptual local variable have the same name</span>
<span class='keyword'>auto</span> counter <span class='operator'>=</span> <span class='squarebracket'>[</span>i<span class='operator'>=</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>mutable</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>     <span class='comment'>// OK, returns <span class='tcode_in_codeblock'>int</span></span>
  <span class='keyword'>return</span> i<span class='operator'>+</span><span class='operator'>+</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-7'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2713'>#</a></div><div class='texpara'><div id='prim.lambda.capture-7.sentence-1' class='sentence'>For the purposes of lambda capture,
an expression potentially references local entities as follows:
<ul class='itemize'><li id='prim.lambda.capture-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-7.1'>(7.1)</a></div><div class='texpara'><div id='prim.lambda.capture-7.1.sentence-1' class='sentence'>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_________________________'><span class='textsf'><i >id-expression</i></span></span></a> that names a local entity
potentially references that entity;
an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__________________________'><span class='textsf'><i >id-expression</i></span></span></a> that names
one or more non-static class members
and does not form a pointer to member (<a href='#unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>)
potentially references <span class='texttt'><span class='operator'>*</span><span id=':this__________________'><span class='texttt'><span class='keyword'>this</span></span></span></span><a class='hidden_link' href='#prim.lambda.capture-7.1.sentence-1'>.</a></div> <div id='prim.lambda.capture-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-3'>3</a></i>:&ensp;<div id='prim.lambda.capture-7.1.sentence-2' class='sentence'>This occurs even if overload resolution
selects a static member function for the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___________________________'><span class='textsf'><i >id-expression</i></span></span></a><a class='hidden_link' href='#prim.lambda.capture-7.1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='prim.lambda.capture-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-7.2'>(7.2)</a></div><div class='texpara'><div id='prim.lambda.capture-7.2.sentence-1' class='sentence'>A <span id=':this___________________'><span class='texttt'><span class='keyword'>this</span></span></span> expression potentially references <span class='texttt'><span class='operator'>*</span><span id=':this____________________'><span class='texttt'><span class='keyword'>this</span></span></span></span><a class='hidden_link' href='#prim.lambda.capture-7.2.sentence-1'>.</a></div></div></li><li id='prim.lambda.capture-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-7.3'>(7.3)</a></div><div class='texpara'><div id='prim.lambda.capture-7.3.sentence-1' class='sentence'>A <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> potentially references
the local entities named by its <a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture_______'><span class='textsf'><i >simple-capture</i></span></span></a><i >s</i><a class='hidden_link' href='#prim.lambda.capture-7.3.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='prim.lambda.capture-7.sentence-2' class='sentence'>If an expression potentially references a local entity
within a scope in which it is odr-usable (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>),
and the expression would be potentially evaluated
if the effect of any enclosing <span id=':typeid'><span class='texttt'><span class='keyword'>typeid</span></span></span> expressions (<a href='#typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>) were ignored,
the entity is said to be <a class='hidden_link' href='#def:capture,implicit' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='def:capture,implicit'><i >implicitly captured</i></span></a>
by each intervening <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> with an associated
<a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default_____'><span class='textsf'><i >capture-default</i></span></span></a> that does not explicitly capture it<a class='hidden_link' href='#prim.lambda.capture-7.sentence-2'>.</a></div> <div id='prim.lambda.capture-7.sentence-3' class='sentence'>The implicit capture of <span class='texttt'><span class='operator'>*</span><span id=':this_____________________'><span class='texttt'><span class='keyword'>this</span></span></span></span> is deprecated when the
<a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default______'><span class='textsf'><i >capture-default</i></span></span></a> is <span class='texttt'><span class='operator'>=</span></span>; see <a href='depr.capture.this' title='D.3&emsp;Implicit capture of *this by reference'>[depr.<span class='shy'></span>capture.<span class='shy'></span>this]</a><a class='hidden_link' href='#prim.lambda.capture-7.sentence-3'>.</a></div> <div id='prim.lambda.capture-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>const</span> <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;         <span class='comment'>// #1</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;       <span class='comment'>// #2</span>
<span class='keyword'>void</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>17</span>;
  <span class='keyword'>auto</span> g <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                       <span class='comment'>// OK, calls #1, does not capture <span class='tcode_in_codeblock'>x</span></span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>auto</span> g1 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                       <span class='comment'>// OK, calls #1, captures <span class='tcode_in_codeblock'>x</span></span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>auto</span> g2 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> selector<span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span> <span class='operator'>?</span> <span class='literal'>1</span> <span class='operator'>:</span> <span class='literal'>2</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
    f<span class='parenthesis'>(</span>x, selector<span class='parenthesis'>)</span>;             <span class='comment'>// OK, captures <span class='tcode_in_codeblock'>x</span>, can call #1 or #2</span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>auto</span> g3 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>typeid</span><span class='parenthesis'>(</span>a <span class='operator'>+</span> x<span class='parenthesis'>)</span>;              <span class='comment'>// captures <span class='tcode_in_codeblock'>x</span> regardless of whether <span class='tcode_in_codeblock'>a + x</span> is an unevaluated operand</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> <div id='prim.lambda.capture-7.sentence-4' class='sentence'>
Within <span class='texttt'>g1</span>, an implementation can optimize away
the capture of <span class='texttt'>x</span> as it is not odr-used<a class='hidden_link' href='#prim.lambda.capture-7.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='prim.lambda.capture-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-4'>4</a></i>:&ensp;<div id='prim.lambda.capture-7.sentence-5' class='sentence'>The set of captured entities is determined syntactically,
and entities are implicitly captured
even if the expression denoting a local entity
is within a discarded statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>)<a class='hidden_link' href='#prim.lambda.capture-7.sentence-5'>.</a></div> <div id='prim.lambda.capture-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span> B<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>B <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> <span class='literal'>4</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>)</span>n;                  <span class='comment'>// captures <span class='tcode_in_codeblock'>n</span> regardless of the value of <span class='tcode_in_codeblock'>B</span> and <span class='tcode_in_codeblock'>sizeof(int)</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-8'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2792'>#</a></div><div class='texpara'><div id='prim.lambda.capture-8.sentence-1' class='sentence'>An entity is <a class='hidden_link' href='#def:captured' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='def:captured'><i >captured</i></span></a> if it is captured explicitly or implicitly<a class='hidden_link' href='#prim.lambda.capture-8.sentence-1'>.</a></div> <div id='prim.lambda.capture-8.sentence-2' class='sentence'>An entity
captured by a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> is odr-used (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) by
the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#prim.lambda.capture-8.sentence-2'>.</a></div> <div id='prim.lambda.capture-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-5'>5</a></i>:&ensp;<div id='prim.lambda.capture-8.sentence-3' class='sentence'>As a consequence, if a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
explicitly captures an entity that is not odr-usable,
the program is ill-formed (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)<a class='hidden_link' href='#prim.lambda.capture-8.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.capture-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-6'>6</a></i>:&ensp;<span id=':Bond,James_Bond'><div class='marginalizedparent'><a class='itemDeclLink' href='#:Bond,James_Bond'>🔗</a></div><span class='codeblock'><span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> <span class='keyword'>const</span> N <span class='operator'>=</span> <span class='literal'>20</span>;
  <span class='keyword'>auto</span> m1 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span>
    <span class='keyword'>int</span> <span class='keyword'>const</span> M <span class='operator'>=</span> <span class='literal'>30</span>;
    <span class='keyword'>auto</span> m2 <span class='operator'>=</span> <span class='squarebracket'>[</span>i<span class='squarebracket'>]</span><span class='curlybracket'>{</span>
      <span class='keyword'>int</span> x<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span><span class='squarebracket'>[</span>M<span class='squarebracket'>]</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>N</span> and <span class='tcode_in_codeblock'>M</span> are not odr-used</span>
      x<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span> <span class='operator'>=</span> i;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>i</span> is explicitly captured by <span class='tcode_in_codeblock'>m2</span> and implicitly captured by <span class='tcode_in_codeblock'>m1</span></span>
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>struct</span> s1 <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> f;
    <span class='keyword'>void</span> work<span class='parenthesis'>(</span><span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> m <span class='operator'>=</span> n<span class='operator'>*</span>n;
      <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='literal'>40</span>;
      <span class='keyword'>auto</span> m3 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='keyword'>this</span>,m<span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
        <span class='keyword'>auto</span> m4 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span>,j<span class='squarebracket'>]</span> <span class='curlybracket'>{</span>       <span class='comment'>// error: <span class='tcode_in_codeblock'>j</span> not odr-usable due to intervening lambda <span class='tcode_in_codeblock'>m3</span></span>
          <span class='keyword'>int</span> x <span class='operator'>=</span> n;            <span class='comment'>// error: <span class='tcode_in_codeblock'>n</span> is odr-used but not odr-usable due to intervening lambda <span class='tcode_in_codeblock'>m3</span></span>
          x <span class='operator'>+</span><span class='operator'>=</span> m;               <span class='comment'>// OK, <span class='tcode_in_codeblock'>m</span> implicitly captured by <span class='tcode_in_codeblock'>m4</span> and explicitly captured by <span class='tcode_in_codeblock'>m3</span></span>
          x <span class='operator'>+</span><span class='operator'>=</span> i;               <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> is odr-used but not odr-usable</span>
                                <span class='comment'>// due to intervening function and class scopes</span>
          x <span class='operator'>+</span><span class='operator'>=</span> f;               <span class='comment'>// OK, <span id=':this______________________'><span class='tcode_in_codeblock'>this</span></span> captured implicitly by <span class='tcode_in_codeblock'>m4</span> and explicitly by <span class='tcode_in_codeblock'>m3</span></span>
        <span class='curlybracket'>}</span>;
      <span class='curlybracket'>}</span>;
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> s2 <span class='curlybracket'>{</span>
  <span class='keyword'>double</span> ohseven <span class='operator'>=</span> <span class='literal'>.007</span>;
  <span class='keyword'>auto</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='keyword'>this</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
      <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>*</span><span class='keyword'>this</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
          <span class='keyword'>return</span> ohseven;       <span class='comment'>// OK</span>
      <span class='curlybracket'>}</span>;
    <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
  <span class='keyword'>auto</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
      <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>*</span><span class='keyword'>this</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>*this</span> not captured by outer <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a></span>
    <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='prim.lambda.capture-9'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2849'>#</a></div><div class='texpara'><div id='prim.lambda.capture-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-6'>6</a></i>:&ensp;<div id='prim.lambda.capture-9.sentence-1' class='sentence'>Because local entities are not
odr-usable within a default argument (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>),
a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> appearing in a default argument
cannot implicitly or explicitly capture any local entity<a class='hidden_link' href='#prim.lambda.capture-9.sentence-1'>.</a></div> <div id='prim.lambda.capture-9.sentence-2' class='sentence'>Such a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
can still have an <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_______'><span class='textsf'><i >init-capture</i></span></span></a> if
any full-expression in its <a href='dcl.init.general#nt:initializer' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer___'><span class='textsf'><i >initializer</i></span></span></a>
satisfies the constraints of an expression appearing in
a default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#prim.lambda.capture-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.capture-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-7'>7</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>1</span>;
  <span class='keyword'>void</span> g1<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span>i<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// error</span>
  <span class='keyword'>void</span> g2<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span>i<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// error</span>
  <span class='keyword'>void</span> g3<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// error</span>
  <span class='keyword'>void</span> g4<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// OK</span>
  <span class='keyword'>void</span> g5<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='keyword'>sizeof</span> i; <span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK</span>
  <span class='keyword'>void</span> g6<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span>x<span class='operator'>=</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK</span>
  <span class='keyword'>void</span> g7<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span>x<span class='operator'>=</span>i<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// error</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-10'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2876'>#</a></div><div class='texpara'><div id='prim.lambda.capture-10.sentence-1' class='sentence'>An entity is <a class='hidden_link' href='#def:captured,by_copy' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='def:captured,by_copy'><i >captured by copy</i></span></a> if
<ul class='itemize'><li id='prim.lambda.capture-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-10.1'>(10.1)</a></div>it is implicitly captured,
the <a href='#nt:capture-default' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default_______'><span class='textsf'><i >capture-default</i></span></span></a> is <span class='texttt'><span class='operator'>=</span></span>, and
the captured entity is not <span class='texttt'><span class='operator'>*</span><span id=':this_______________________'><span class='texttt'><span class='keyword'>this</span></span></span></span>, or</li><li id='prim.lambda.capture-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-10.2'>(10.2)</a></div>it is explicitly captured with a capture that is not of the form
<span id=':this________________________'><span class='texttt'><span class='keyword'>this</span></span></span>,
<span class='texttt'><span class='operator'>&amp;</span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____________'><span class='textsf'><i >identifier</i></span></span></a> <span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>, or
<span class='texttt'><span class='operator'>&amp;</span></span> <span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier______________'><span class='textsf'><i >identifier</i></span></span></a> <a href='dcl.init.general#nt:initializer' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer____'><span class='textsf'><i >initializer</i></span></span></a><a class='hidden_link' href='#prim.lambda.capture-10.sentence-1'>.</a></li></ul></div> <div id='prim.lambda.capture-10.sentence-2' class='sentence'>
For each entity captured by copy, an
unnamed non-static data member is declared in the closure type<a class='hidden_link' href='#prim.lambda.capture-10.sentence-2'>.</a></div> <div id='prim.lambda.capture-10.sentence-3' class='sentence'>The declaration order of
these members is unspecified<a class='hidden_link' href='#prim.lambda.capture-10.sentence-3'>.</a></div> <div id='prim.lambda.capture-10.sentence-4' class='sentence'>The type of such a data member is
the referenced type if the entity is a reference to an object,
an lvalue reference to the referenced function type if the entity is a reference to a function, or
the type of the corresponding captured entity otherwise<a class='hidden_link' href='#prim.lambda.capture-10.sentence-4'>.</a></div> <div id='prim.lambda.capture-10.sentence-5' class='sentence'>A member of an anonymous union shall not be captured by copy<a class='hidden_link' href='#prim.lambda.capture-10.sentence-5'>.</a></div></div></div><div class='para' id='prim.lambda.capture-11'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2897'>#</a></div><div class='texpara'><div id='prim.lambda.capture-11.sentence-1' class='sentence'>Every <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____________________________'><span class='textsf'><i >id-expression</i></span></span></a> within the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement_____'><span class='textsf'><i >compound-statement</i></span></span></a> of a
<a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> that is an odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) of an
entity captured by copy is transformed into an access to the corresponding unnamed data
member of the closure type<a class='hidden_link' href='#prim.lambda.capture-11.sentence-1'>.</a></div> <div id='prim.lambda.capture-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-7'>7</a></i>:&ensp;<div id='prim.lambda.capture-11.sentence-2' class='sentence'>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____________________________'><span class='textsf'><i >id-expression</i></span></span></a> that is not an odr-use refers to
the original entity, never to a member of the closure type<a class='hidden_link' href='#prim.lambda.capture-11.sentence-2'>.</a></div> <div id='prim.lambda.capture-11.sentence-3' class='sentence'>However, such
an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______________________________'><span class='textsf'><i >id-expression</i></span></span></a> can still cause the implicit capture of the
entity<a class='hidden_link' href='#prim.lambda.capture-11.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.capture-11.sentence-4' class='sentence'>
If <span class='texttt'><span class='operator'>*</span><span id=':this_________________________'><span class='texttt'><span class='keyword'>this</span></span></span></span> is captured by copy, each expression that odr-uses <span class='texttt'><span class='operator'>*</span><span id=':this__________________________'><span class='texttt'><span class='keyword'>this</span></span></span></span> is
transformed to instead refer to the corresponding unnamed data member of the closure type<a class='hidden_link' href='#prim.lambda.capture-11.sentence-4'>.</a></div> <div id='prim.lambda.capture-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-8'>8</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span> N <span class='operator'>=</span> <span class='literal'>10</span>;
  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> arr<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;     <span class='comment'>// OK, not an odr-use, refers to variable with automatic storage duration</span>
    f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>N<span class='parenthesis'>)</span>;          <span class='comment'>// OK, causes <span class='tcode_in_codeblock'>N</span> to be captured; <span class='tcode_in_codeblock'>&amp;N</span> points to</span>
                    <span class='comment'>// the corresponding member of the closure type</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-12'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2925'>#</a></div><div class='texpara'><div id='prim.lambda.capture-12.sentence-1' class='sentence'>An entity is <a class='hidden_link' href='#def:captured,by_reference' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='def:captured,by_reference'><i >captured by reference</i></span></a> if it is implicitly or explicitly
captured but not captured by copy<a class='hidden_link' href='#prim.lambda.capture-12.sentence-1'>.</a></div> <div id='prim.lambda.capture-12.sentence-2' class='sentence'>It is unspecified whether additional unnamed
non-static data members are declared in the closure type for entities captured by
reference<a class='hidden_link' href='#prim.lambda.capture-12.sentence-2'>.</a></div> <div id='prim.lambda.capture-12.sentence-3' class='sentence'>If declared, such non-static data members shall be of literal type<a class='hidden_link' href='#prim.lambda.capture-12.sentence-3'>.</a></div> <div id='prim.lambda.capture-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-9'>9</a></i>:&ensp;<span class='codeblock'><span class='comment'>// The inner closure type must be a literal type regardless of how reference captures are represented.</span>
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span>n<span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='operator'>+</span><span class='operator'>+</span>n; <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>4</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='prim.lambda.capture-12.sentence-4' class='sentence'>
A bit-field or a member of an anonymous union
shall not be captured by reference<a class='hidden_link' href='#prim.lambda.capture-12.sentence-4'>.</a></div></div></div><div class='para' id='prim.lambda.capture-13'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2940'>#</a></div><div class='texpara'><div id='prim.lambda.capture-13.sentence-1' class='sentence'>An <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______________________________'><span class='textsf'><i >id-expression</i></span></span></a> within
the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement______'><span class='textsf'><i >compound-statement</i></span></span></a> of a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
that is an odr-use of a reference captured by reference
refers to the entity to which the captured reference is bound and
not to the captured reference<a class='hidden_link' href='#prim.lambda.capture-13.sentence-1'>.</a></div> <div id='prim.lambda.capture-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-8'>8</a></i>:&ensp;<div id='prim.lambda.capture-13.sentence-2' class='sentence'>The validity of such captures is determined by
the lifetime of the object to which the reference refers,
not by the lifetime of the reference itself<a class='hidden_link' href='#prim.lambda.capture-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.lambda.capture-example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-10'>10</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>&amp;</span>r<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='operator'>+</span><span class='operator'>+</span>r;            <span class='comment'>// Valid after <span class='tcode_in_codeblock'>h</span> returns if the lifetime of the</span>
                    <span class='comment'>// object to which <span class='tcode_in_codeblock'>r</span> is bound has not ended</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-14'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2962'>#</a></div><div class='texpara'><div id='prim.lambda.capture-14.sentence-1' class='sentence'>If a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> <span class='texttt'>m2</span> captures an entity and that entity is
captured by an immediately enclosing <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
<span class='texttt'>m1</span>, then
<span class='texttt'>m2</span>'s capture is transformed as follows:
<ul class='itemize'><li id='prim.lambda.capture-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-14.1'>(14.1)</a></div><div class='texpara'><div id='prim.lambda.capture-14.1.sentence-1' class='sentence'>If <span class='texttt'>m1</span> captures the entity by copy,
<span class='texttt'>m2</span> captures the corresponding
non-static data member of <span class='texttt'>m1</span>'s closure type;
if <span class='texttt'>m1</span> is not <span id=':mutable_____'><span class='texttt'><span class='keyword'>mutable</span></span></span>, the non-static data member is considered to be const-qualified<a class='hidden_link' href='#prim.lambda.capture-14.1.sentence-1'>.</a></div></div></li><li id='prim.lambda.capture-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.lambda.capture-14.2'>(14.2)</a></div><div class='texpara'><div id='prim.lambda.capture-14.2.sentence-1' class='sentence'>If <span class='texttt'>m1</span> captures the entity by reference,
<span class='texttt'>m2</span> captures the same
entity captured by <span class='texttt'>m1</span><a class='hidden_link' href='#prim.lambda.capture-14.2.sentence-1'>.</a></div></div></li></ul></div> <div id='prim.lambda.capture-example-11' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-11'>11</a></i>:&ensp;<div id='prim.lambda.capture-14.sentence-2' class='sentence'>The nested <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> and invocations below will output
<span class='texttt'><span class='literal'>123234</span></span><a class='hidden_link' href='#prim.lambda.capture-14.sentence-2'>.</a></div> <span class='codeblock'><span class='keyword'>int</span> a <span class='operator'>=</span> <span class='literal'>1</span>, b <span class='operator'>=</span> <span class='literal'>1</span>, c <span class='operator'>=</span> <span class='literal'>1</span>;
<span class='keyword'>auto</span> m1 <span class='operator'>=</span> <span class='squarebracket'>[</span>a, <span class='operator'>&amp;</span>b, <span class='operator'>&amp;</span>c<span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>mutable</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> m2 <span class='operator'>=</span> <span class='squarebracket'>[</span>a, b, <span class='operator'>&amp;</span>c<span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>mutable</span> <span class='curlybracket'>{</span>
    std<span class='operator'>::</span>cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> a <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> b <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> c;
    a <span class='operator'>=</span> <span class='literal'>4</span>; b <span class='operator'>=</span> <span class='literal'>4</span>; c <span class='operator'>=</span> <span class='literal'>4</span>;
  <span class='curlybracket'>}</span>;
  a <span class='operator'>=</span> <span class='literal'>3</span>; b <span class='operator'>=</span> <span class='literal'>3</span>; c <span class='operator'>=</span> <span class='literal'>3</span>;
  m2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
a <span class='operator'>=</span> <span class='literal'>2</span>; b <span class='operator'>=</span> <span class='literal'>2</span>; c <span class='operator'>=</span> <span class='literal'>2</span>;
m1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
std<span class='operator'>::</span>cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> a <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> b <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> c;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-15'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L2995'>#</a></div><div class='texpara'><div id='prim.lambda.capture-15.sentence-1' class='sentence'>When the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> is evaluated, the entities that are
captured by copy are used to direct-initialize each corresponding non-static data member
of the resulting closure object, and the non-static data members corresponding to the
<a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture________'><span class='textsf'><i >init-capture</i></span></span></a><i >s</i> are initialized as indicated by the corresponding
<a href='dcl.init.general#nt:initializer' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_____'><span class='textsf'><i >initializer</i></span></span></a> (which may be copy- or direct-initialization)<a class='hidden_link' href='#prim.lambda.capture-15.sentence-1'>.</a></div> <div id='prim.lambda.capture-15.sentence-2' class='sentence'>(For array members, the array elements are
direct-initialized in increasing subscript order<a class='hidden_link' href='#prim.lambda.capture-15.sentence-2'>.</a>)</div> <div id='prim.lambda.capture-15.sentence-3' class='sentence'>These initializations are performed
in the (unspecified) order in which the non-static data members are declared<a class='hidden_link' href='#prim.lambda.capture-15.sentence-3'>.</a></div> <div id='prim.lambda.capture-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-9'>9</a></i>:&ensp;<div id='prim.lambda.capture-15.sentence-4' class='sentence'>This ensures that the destructions will occur in the reverse order of the constructions<a class='hidden_link' href='#prim.lambda.capture-15.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='prim.lambda.capture-16'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3007'>#</a></div><div class='texpara'><div id='prim.lambda.capture-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.lambda.capture-note-10'>10</a></i>:&ensp;<div id='prim.lambda.capture-16.sentence-1' class='sentence'>If a non-reference entity is implicitly or explicitly captured by reference,
invoking the function call operator of the corresponding <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
after the lifetime of the entity has ended is likely to result in undefined behavior<a class='hidden_link' href='#prim.lambda.capture-16.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prim.lambda.capture-17'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3014'>#</a></div><div class='texpara'><div id='prim.lambda.capture-17.sentence-1' class='sentence'>A <a href='#nt:simple-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture________'><span class='textsf'><i >simple-capture</i></span></span></a> containing an ellipsis is a pack
expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#prim.lambda.capture-17.sentence-1'>.</a></div> <div id='prim.lambda.capture-17.sentence-2' class='sentence'><a class='index' id=':init-capture_pack'></a>An <a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_________'><span class='textsf'><i >init-capture</i></span></span></a> containing an ellipsis is a pack
expansion that declares an
<a href='#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture__________'><span class='textsf'><i >init-capture</i></span></span></a> pack (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#prim.lambda.capture-17.sentence-2'>.</a></div> <div id='prim.lambda.capture-example-12' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.lambda.capture-example-12'>12</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> lm <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span>, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> g<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
  lm<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

  <span class='keyword'>auto</span> lm2 <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>xs<span class='operator'>=</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> g<span class='parenthesis'>(</span>xs<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
  lm2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div></div><div id='prim.fold' class='section'><h3 ><a class='secnum' href='#prim.fold' style='min-width:80pt'>7.5.7</a> Fold expressions <a class='abbr_ref' href='expr.prim.fold'>[expr.prim.fold]</a></h3><div class='texpara'><a class='index' id=':expression,fold'></a></div><div class='para' id='prim.fold-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.fold-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3038'>#</a></div><div class='texpara'><div id='prim.fold-1.sentence-1' class='sentence'>A fold expression performs a fold of a
pack (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>) over a binary operator<a class='hidden_link' href='#prim.fold-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:fold-expression'>
<a class='hidden_link' href='#nt:fold-expression' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='nt:fold-expression'><span id=':fold-expression'>fold-expression<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><i >cast-expression</i></span></span></a> <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator'><span class='textsf'><i >fold-operator</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br><span class='terminal'><span class='parenthesis'>(</span></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator_'><span class='textsf'><i >fold-operator</i></span></span></a> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_'><span class='textsf'><i >cast-expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression__'><span class='textsf'><i >cast-expression</i></span></span></a> <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator__'><span class='textsf'><i >fold-operator</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator___'><span class='textsf'><i >fold-operator</i></span></span></a> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression___'><span class='textsf'><i >cast-expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:fold-operator'>

<a class='hidden_link' href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='nt:fold-operator'><span id=':fold-operator'>fold-operator<span class='textnormal'>:</span></span></span></a> <span class='textnormal'>one of</span><br><span class='terminal'><span class='operator'>+</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>-</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>*</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>/</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>%</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>^</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>&amp;</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>|</span> </span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> </span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> </span><br><span class='terminal'><span class='operator'>+</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>-</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>*</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>/</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>%</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>^</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>&amp;</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>|</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>=</span></span><br><span class='terminal'><span class='operator'>=</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>!</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&lt;</span> </span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&gt;</span> </span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&lt;</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='anglebracket'>&gt;</span><span class='operator'>=</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>&emsp;&ensp;<span class='terminal'><span class='operator'>|</span><span class='operator'>|</span></span>&emsp;&ensp;<span class='terminal'>,  </span>&emsp;&ensp;<span class='terminal'><span class='operator'>.</span><span class='operator'>*</span> </span>&emsp;&ensp;<span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span></span>
</div></div></div><div class='para' id='prim.fold-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.fold-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3058'>#</a></div><div class='texpara'><div id='prim.fold-2.sentence-1' class='sentence'><a class='index' id=':fold,unary'></a>An expression of the form
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <i >op</i> <span class='texttt'>e<span class='parenthesis'>)</span></span>
where <i >op</i> is a <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator____'><span class='textsf'><i >fold-operator</i></span></span></a>
is called a <a class='hidden_link' href='#def:unary_left_fold' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='def:unary_left_fold'><i >unary left fold</i></span></a><a class='hidden_link' href='#prim.fold-2.sentence-1'>.</a></div> <div id='prim.fold-2.sentence-2' class='sentence'>An expression of the form
<span class='texttt'><span class='parenthesis'>(</span>e</span> <i >op</i> <span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
where <i >op</i> is a <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator_____'><span class='textsf'><i >fold-operator</i></span></span></a>
is called a <a class='hidden_link' href='#def:unary_right_fold' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='def:unary_right_fold'><i >unary right fold</i></span></a><a class='hidden_link' href='#prim.fold-2.sentence-2'>.</a></div> <div id='prim.fold-2.sentence-3' class='sentence'>Unary left folds and unary right folds
are collectively called <a class='hidden_link' href='#def:unary_fold' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='def:unary_fold'><i >unary folds</i></span></a><a class='hidden_link' href='#prim.fold-2.sentence-3'>.</a></div> <div id='prim.fold-2.sentence-4' class='sentence'>In a unary fold,
the <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression____'><span class='textsf'><i >cast-expression</i></span></span></a>
shall contain an unexpanded pack (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#prim.fold-2.sentence-4'>.</a></div></div></div><div class='para' id='prim.fold-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.fold-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3074'>#</a></div><div class='texpara'><div id='prim.fold-3.sentence-1' class='sentence'><a class='index' id=':fold,binary'></a>An expression of the form
<span class='texttt'><span class='parenthesis'>(</span>e1</span> <i >op1</i> <span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <i >op2</i> <span class='texttt'>e2<span class='parenthesis'>)</span></span>
where <i >op1</i> and <i >op2</i> are <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator______'><span class='textsf'><i >fold-operator</i></span></span></a><i >s</i>
is called a <a class='hidden_link' href='#def:binary_fold' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='def:binary_fold'><i >binary fold</i></span></a><a class='hidden_link' href='#prim.fold-3.sentence-1'>.</a></div> <div id='prim.fold-3.sentence-2' class='sentence'>In a binary fold,
<i >op1</i> and <i >op2</i>
shall be the same <a href='#nt:fold-operator' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-operator_______'><span class='textsf'><i >fold-operator</i></span></span></a>,
and either <span class='texttt'>e1</span>
shall contain an unexpanded pack
or <span class='texttt'>e2</span>
shall contain an unexpanded pack,
but not both<a class='hidden_link' href='#prim.fold-3.sentence-2'>.</a></div> <div id='prim.fold-3.sentence-3' class='sentence'>If <span class='texttt'>e2</span> contains an unexpanded pack,
the expression is called a <a class='hidden_link' href='#def:binary_left_fold' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='def:binary_left_fold'><i >binary left fold</i></span></a><a class='hidden_link' href='#prim.fold-3.sentence-3'>.</a></div> <div id='prim.fold-3.sentence-4' class='sentence'>If <span class='texttt'>e1</span> contains an unexpanded pack,
the expression is called a <a class='hidden_link' href='#def:binary_right_fold' title='7.5.7&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='def:binary_right_fold'><i >binary right fold</i></span></a><a class='hidden_link' href='#prim.fold-3.sentence-4'>.</a></div> <div id='prim.fold-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.fold-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>Args<span class='anglebracket'>&gt;</span>
<span class='keyword'>bool</span> f<span class='parenthesis'>(</span>Args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='parenthesis'>(</span><span class='literal'>true</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> args<span class='parenthesis'>)</span>; <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>Args<span class='anglebracket'>&gt;</span>
<span class='keyword'>bool</span> f<span class='parenthesis'>(</span>Args <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='parenthesis'>(</span>args <span class='operator'>+</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='operator'>+</span> args<span class='parenthesis'>)</span>;   <span class='comment'>// error: both operands contain unexpanded packs</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.fold-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.fold-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3106'>#</a></div><div class='texpara'><div id='prim.fold-4.sentence-1' class='sentence'>A fold expression is a pack expansion<a class='hidden_link' href='#prim.fold-4.sentence-1'>.</a></div> </div></div></div><div id='prim.req' class='section'><h3 ><a class='secnum' href='#prim.req' style='min-width:80pt'>7.5.8</a> Requires expressions <a class='abbr_ref' href='expr.prim.req'>[expr.prim.req]</a></h3><div id='prim.req.general' class='section'><h4 ><a class='secnum' href='#prim.req.general' style='min-width:95pt'>7.5.8.1</a> General <a class='abbr_ref' href='expr.prim.req.general'>[expr.prim.req.general]</a></h4><div class='texpara'><a class='index' id=':expression,requires'></a></div><div class='para' id='prim.req.general-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3115'>#</a></div><div class='texpara'><div id='prim.req.general-1.sentence-1' class='sentence'>A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_'><span class='textsf'><i >requires-expression</i></span></span></a> provides a concise way to express
requirements on template arguments
that can be checked by <a href='basic.lookup' title='6.5&emsp;Name lookup&emsp;[basic.lookup]'>name lookup</a>
or by checking properties of types and expressions<a class='hidden_link' href='#prim.req.general-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:requires-expression'>
<a class='hidden_link' href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requires-expression'><span id=':requires-expression'>requires-expression<span class='textnormal'>:</span></span></span></a><br><span id=':requires'><span class='texttt'><span class='keyword'>requires</span></span></span> <a href='#nt:requirement-parameter-list' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-parameter-list'><span class='textsf'><i >requirement-parameter-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:requirement-body' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-body'><span class='textsf'><i >requirement-body</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement-parameter-list'>
<a class='hidden_link' href='#nt:requirement-parameter-list' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement-parameter-list'><span id=':requirement-parameter-list'>requirement-parameter-list<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__________'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement-body'>

<a class='hidden_link' href='#nt:requirement-body' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement-body'><span id=':requirement-body'>requirement-body<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='curlybracket'>{</span></span> <a href='#nt:requirement-seq' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-seq'><span class='textsf'><i >requirement-seq</i></span></span></a> <span class='terminal'><span class='curlybracket'>}</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement-seq'>
<a class='hidden_link' href='#nt:requirement-seq' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement-seq'><span id=':requirement-seq'>requirement-seq<span class='textnormal'>:</span></span></span></a><br><a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement'><span class='textsf'><i >requirement</i></span></span></a> <a href='#nt:requirement-seq' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-seq_'><span class='textsf'><i >requirement-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:requirement'>
<a class='hidden_link' href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='nt:requirement'><span id=':requirement'>requirement<span class='textnormal'>:</span></span></span></a><br><a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement'><span class='textsf'><i >simple-requirement</i></span></span></a><br><a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement'><span class='textsf'><i >type-requirement</i></span></span></a><br><a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement'><span class='textsf'><i >compound-requirement</i></span></span></a><br><a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement'><span class='textsf'><i >nested-requirement</i></span></span></a>
</div></div></div><div class='para' id='prim.req.general-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3150'>#</a></div><div class='texpara'><div id='prim.req.general-2.sentence-1' class='sentence'>A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression__'><span class='textsf'><i >requires-expression</i></span></span></a> is a prvalue of type <span class='texttt'><span class='keyword'>bool</span></span>
whose value is described below<a class='hidden_link' href='#prim.req.general-2.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='prim.req.general-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3154'>#</a></div><div class='texpara'><div id='prim.req.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.general-example-1'>1</a></i>:&ensp;<div id='prim.req.general-3.sentence-1' class='sentence'>A common use of <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression___'><span class='textsf'><i >requires-expression</i></span></span></a><i >s</i> is to define
requirements in concepts such as the one below:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>concept</span> R <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>typename</span> T<span class='operator'>::</span>type;
    <span class='curlybracket'>{</span><span class='operator'>*</span>i<span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> std<span class='operator'>::</span><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='tcode_in_codeblock'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>typename</span> T<span class='operator'>::</span>type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>;
  <span class='curlybracket'>}</span>;
</span></div> <div id='prim.req.general-3.sentence-2' class='sentence'>
A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression____'><span class='textsf'><i >requires-expression</i></span></span></a> can also be used in a
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_____________'><span class='textsf'><i >requires-clause</i></span></span></a> (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>) as a way of writing ad hoc
constraints on template arguments such as the one below:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> x <span class='operator'>+</span> x; <span class='curlybracket'>}</span>
    T add<span class='parenthesis'>(</span>T a, T b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a <span class='operator'>+</span> b; <span class='curlybracket'>}</span>
</span></div> <div id='prim.req.general-3.sentence-3' class='sentence'>
The first <span id=':requires_'><span class='texttt'><span class='keyword'>requires</span></span></span> introduces the
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause______________'><span class='textsf'><i >requires-clause</i></span></span></a>, and the second
introduces the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_____'><span class='textsf'><i >requires-expression</i></span></span></a><a class='hidden_link' href='#prim.req.general-3.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.req.general-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3178'>#</a></div><div class='texpara'><div id='prim.req.general-4.sentence-1' class='sentence'>A <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression______'><span class='textsf'><i >requires-expression</i></span></span></a> may introduce local parameters using a
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause___________'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a><a class='hidden_link' href='#prim.req.general-4.sentence-1'>.</a></div> <div id='prim.req.general-4.sentence-2' class='sentence'>A local parameter of a <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_______'><span class='textsf'><i >requires-expression</i></span></span></a> shall not have a
default argument<a class='hidden_link' href='#prim.req.general-4.sentence-2'>.</a></div> <div id='prim.req.general-4.sentence-3' class='sentence'>The type of such a parameter is determined as specified for
a function parameter in <a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a><a class='hidden_link' href='#prim.req.general-4.sentence-3'>.</a></div> <div id='prim.req.general-4.sentence-4' class='sentence'>These parameters have no linkage, storage, or lifetime; they are only used
as notation for the purpose of defining <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement_'><span class='textsf'><i >requirement</i></span></span></a><i >s</i><a class='hidden_link' href='#prim.req.general-4.sentence-4'>.</a></div> <div id='prim.req.general-4.sentence-5' class='sentence'>The <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause____________'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> of a
<a href='#nt:requirement-parameter-list' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-parameter-list_'><span class='textsf'><i >requirement-parameter-list</i></span></span></a>
shall not terminate with an ellipsis<a class='hidden_link' href='#prim.req.general-4.sentence-5'>.</a></div> <div id='prim.req.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.general-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T t, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>    <span class='comment'>// error: terminates with an ellipsis</span>
  t;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>concept</span> C2 <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T p<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>p<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='literal'>nullptr</span>;             <span class='comment'>// OK, <span class='tcode_in_codeblock'>p</span> has type “pointer to <span class='tcode_in_codeblock'>T</span>''</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.req.general-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3203'>#</a></div><div class='texpara'><div id='prim.req.general-5.sentence-1' class='sentence'>The substitution of template arguments into a <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression________'><span class='textsf'><i >requires-expression</i></span></span></a>
can result in
the formation of invalid types or expressions in the immediate context of
its <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement__'><span class='textsf'><i >requirement</i></span></span></a><i >s</i> (<a href='temp.deduct.general' title='13.10.3.1&emsp;General'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>general]</a>) or
the violation of the semantic constraints of those <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement___'><span class='textsf'><i >requirement</i></span></span></a><i >s</i><a class='hidden_link' href='#prim.req.general-5.sentence-1'>.</a></div> <div id='prim.req.general-5.sentence-2' class='sentence'>In such cases, the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_________'><span class='textsf'><i >requires-expression</i></span></span></a> evaluates to <span id=':false____'><span class='texttt'><span class='literal'>false</span></span></span>;
it does not cause the program to be ill-formed<a class='hidden_link' href='#prim.req.general-5.sentence-2'>.</a></div> <div id='prim.req.general-5.sentence-3' class='sentence'>The substitution and semantic constraint checking
proceeds in lexical order and stops when a condition that
determines the result of the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression__________'><span class='textsf'><i >requires-expression</i></span></span></a> is encountered<a class='hidden_link' href='#prim.req.general-5.sentence-3'>.</a></div> <div id='prim.req.general-5.sentence-4' class='sentence'>If substitution (if any) and semantic constraint checking succeed,
the <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression___________'><span class='textsf'><i >requires-expression</i></span></span></a> evaluates to <span id=':true____'><span class='texttt'><span class='literal'>true</span></span></span><a class='hidden_link' href='#prim.req.general-5.sentence-4'>.</a></div> <div id='prim.req.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.req.general-note-1'>1</a></i>:&ensp;<div id='prim.req.general-5.sentence-5' class='sentence'>If a <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression____________'><span class='textsf'><i >requires-expression</i></span></span></a> contains invalid types or expressions in
its <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement____'><span class='textsf'><i >requirement</i></span></span></a><i >s</i>, and it does not appear within the declaration of a templated
entity, then the program is ill-formed<a class='hidden_link' href='#prim.req.general-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.req.general-5.sentence-6' class='sentence'>
If the substitution of template arguments into a <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement_____'><span class='textsf'><i >requirement</i></span></span></a>
would always result in a substitution failure, the program is ill-formed;
no diagnostic required<a class='hidden_link' href='#prim.req.general-5.sentence-6'>.</a></div> <div id='prim.req.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.general-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span>
<span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='keyword'>new</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>)</span>T<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;      <span class='comment'>// ill-formed, no diagnostic required</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='prim.req.simple' class='section'><h4 ><a class='secnum' href='#prim.req.simple' style='min-width:95pt'>7.5.8.2</a> Simple requirements <a class='abbr_ref' href='expr.prim.req.simple'>[expr.prim.req.simple]</a></h4><div class='texpara'><a class='index' id=':requirement,simple'></a>
<div class='bnf' id='nt:simple-requirement'>
<a class='hidden_link' href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='nt:simple-requirement'><span id=':simple-requirement'>simple-requirement<span class='textnormal'>:</span></span></span></a><br><a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'>;</span>
</div></div><div class='para' id='prim.req.simple-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.simple-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3241'>#</a></div><div class='texpara'><div id='prim.req.simple-1.sentence-1' class='sentence'>A <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement_'><span class='textsf'><i >simple-requirement</i></span></span></a> asserts
the validity of an <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____'><span class='textsf'><i >expression</i></span></span></a><a class='hidden_link' href='#prim.req.simple-1.sentence-1'>.</a></div> <div id='prim.req.simple-1.sentence-2' class='sentence'>The <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____'><span class='textsf'><i >expression</i></span></span></a> is an unevaluated operand<a class='hidden_link' href='#prim.req.simple-1.sentence-2'>.</a></div> <div id='prim.req.simple-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.req.simple-note-1'>1</a></i>:&ensp;<div id='prim.req.simple-1.sentence-3' class='sentence'>The enclosing <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression_____________'><span class='textsf'><i >requires-expression</i></span></span></a> will evaluate to <span id=':false_____'><span class='texttt'><span class='literal'>false</span></span></span>
if substitution of template arguments into the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______'><span class='textsf'><i >expression</i></span></span></a> fails<a class='hidden_link' href='#prim.req.simple-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.req.simple-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.simple-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span>
  <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T a, T b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    a <span class='operator'>+</span> b;          <span class='comment'>// <span class='tcode_in_codeblock'>C&lt;T&gt;</span> is <span class='tcode_in_codeblock'>true</span> if <span class='tcode_in_codeblock'>a + b</span> is a valid expression</span>
  <span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.req.simple-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.simple-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3258'>#</a></div><div class='texpara'><div id='prim.req.simple-2.sentence-1' class='sentence'>A <a href='#nt:requirement' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement______'><span class='textsf'><i >requirement</i></span></span></a> that starts with a <span id=':requires__'><span class='texttt'><span class='keyword'>requires</span></span></span> token
is never interpreted as a <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement__'><span class='textsf'><i >simple-requirement</i></span></span></a><a class='hidden_link' href='#prim.req.simple-2.sentence-1'>.</a></div> <div id='prim.req.simple-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.req.simple-note-2'>2</a></i>:&ensp;<div id='prim.req.simple-2.sentence-2' class='sentence'>This simplifies distinguishing between a <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement___'><span class='textsf'><i >simple-requirement</i></span></span></a>
and a <a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement_'><span class='textsf'><i >nested-requirement</i></span></span></a><a class='hidden_link' href='#prim.req.simple-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='prim.req.type' class='section'><h4 ><a class='secnum' href='#prim.req.type' style='min-width:95pt'>7.5.8.3</a> Type requirements <a class='abbr_ref' href='expr.prim.req.type'>[expr.prim.req.type]</a></h4><div class='texpara'><a class='index' id=':requirement,type'></a>
<div class='bnf' id='nt:type-requirement'>
<a class='hidden_link' href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='nt:type-requirement'><span id=':type-requirement'>type-requirement<span class='textnormal'>:</span></span></span></a><br><span id=':typename'><span class='texttt'><span class='keyword'>typename</span></span></span> <a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier________________'><span class='textsf'><i >nested-name-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_______'><span class='textsf'><i >type-name</i></span></span></a> <span class='terminal'>;</span>
</div></div><div class='para' id='prim.req.type-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3274'>#</a></div><div class='texpara'><div id='prim.req.type-1.sentence-1' class='sentence'>A <a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement_'><span class='textsf'><i >type-requirement</i></span></span></a> asserts the validity of a type<a class='hidden_link' href='#prim.req.type-1.sentence-1'>.</a></div> <div id='prim.req.type-1.sentence-2' class='sentence'>The component names of a <a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement__'><span class='textsf'><i >type-requirement</i></span></span></a> are those of its
<a href='#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_________________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> (if any) and <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name________'><span class='textsf'><i >type-name</i></span></span></a><a class='hidden_link' href='#prim.req.type-1.sentence-2'>.</a></div> <div id='prim.req.type-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prim.req.type-note-1'>1</a></i>:&ensp;<div id='prim.req.type-1.sentence-3' class='sentence'>The enclosing <a href='#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression______________'><span class='textsf'><i >requires-expression</i></span></span></a> will evaluate to <span id=':false______'><span class='texttt'><span class='literal'>false</span></span></span>
if substitution of template arguments fails<a class='hidden_link' href='#prim.req.type-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='prim.req.type-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.type-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> T<span class='operator'>::</span>type <span class='operator'>=</span> <span class='literal'>0</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> Ref <span class='operator'>=</span> T<span class='operator'>&amp;</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>inner;    <span class='comment'>// required nested member name</span>
  <span class='keyword'>typename</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;        <span class='comment'>// required valid (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>) <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id___'><span class='textsf'><i >template-id</i></span></span></a>;</span>
                        <span class='comment'>// fails if <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;type</span> does not exist as a type to which <span class='tcode_in_codeblock'>0</span> can be implicitly converted</span>
  <span class='keyword'>typename</span> Ref<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;      <span class='comment'>// required alias template substitution, fails if <span class='tcode_in_codeblock'>T</span> is void</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prim.req.type-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3296'>#</a></div><div class='texpara'><div id='prim.req.type-2.sentence-1' class='sentence'>A <a href='#nt:type-requirement' title='7.5.8.3&emsp;Type requirements&emsp;[expr.prim.req.type]'><span id='ntref:type-requirement___'><span class='textsf'><i >type-requirement</i></span></span></a> that names a class template specialization
does not require that type to be complete (<a href='basic.types.general#term.incomplete.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#prim.req.type-2.sentence-1'>.</a></div></div></div></div><div id='prim.req.compound' class='section'><h4 ><a class='secnum' href='#prim.req.compound' style='min-width:95pt'>7.5.8.4</a> Compound requirements <a class='abbr_ref' href='expr.prim.req.compound'>[expr.prim.req.compound]</a></h4><div class='texpara'><a class='index' id=':requirement,compound'></a>
<div class='bnf' id='nt:compound-requirement'>
<a class='hidden_link' href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='nt:compound-requirement'><span id=':compound-requirement'>compound-requirement<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='curlybracket'>{</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_______'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='curlybracket'>}</span></span> <span id=':noexcept_______'><span class='texttt'><span class='keyword'>noexcept</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:return-type-requirement'><span class='textsf'><i >return-type-requirement</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</div></div><div class='texpara'><div class='bnf' id='nt:return-type-requirement'>
<a class='hidden_link' href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='nt:return-type-requirement'><span id=':return-type-requirement'>return-type-requirement<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint__'><span class='textsf'><i >type-constraint</i></span></span></a>
</div></div><div class='para' id='prim.req.compound-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.compound-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3313'>#</a></div><div class='texpara'><div id='prim.req.compound-1.sentence-1' class='sentence'>A <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement_'><span class='textsf'><i >compound-requirement</i></span></span></a> asserts properties
of the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression________'><span class='textsf'><i >expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#prim.req.compound-1.sentence-1'>.</a></div> <div id='prim.req.compound-1.sentence-2' class='sentence'>The <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_________'><span class='textsf'><i >expression</i></span></span></a> is an unevaluated operand<a class='hidden_link' href='#prim.req.compound-1.sentence-2'>.</a></div> <div id='prim.req.compound-1.sentence-3' class='sentence'>Substitution
of template arguments (if any) and verification of
semantic properties proceed in the following order:
<ul class='itemize'><li id='prim.req.compound-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.req.compound-1.1'>(1.1)</a></div><div class='texpara'><div id='prim.req.compound-1.1.sentence-1' class='sentence'>Substitution of template arguments (if any)
into the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__________'><span class='textsf'><i >expression</i></span></span></a> is performed<a class='hidden_link' href='#prim.req.compound-1.1.sentence-1'>.</a></div></div></li><li id='prim.req.compound-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.req.compound-1.2'>(1.2)</a></div><div class='texpara'><div id='prim.req.compound-1.2.sentence-1' class='sentence'>If the <span id=':noexcept________'><span class='texttt'><span class='keyword'>noexcept</span></span></span> specifier is present,
<span class='math'><span class='mathalpha'>E</span></span> shall not be a potentially-throwing expression (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#prim.req.compound-1.2.sentence-1'>.</a></div></div></li><li id='prim.req.compound-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prim.req.compound-1.3'>(1.3)</a></div><div class='texpara'><div id='prim.req.compound-1.3.sentence-1' class='sentence'>If the <a href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:return-type-requirement_'><span class='textsf'><i >return-type-requirement</i></span></span></a> is present, then:
<ul class='itemize'><li id='prim.req.compound-1.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#prim.req.compound-1.3.1'>(1.3.1)</a></div><div class='texpara'><div id='prim.req.compound-1.3.1.sentence-1' class='sentence'>Substitution of template arguments (if any)
into the <a href='#nt:return-type-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:return-type-requirement__'><span class='textsf'><i >return-type-requirement</i></span></span></a> is performed<a class='hidden_link' href='#prim.req.compound-1.3.1.sentence-1'>.</a></div></div></li><li id='prim.req.compound-1.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#prim.req.compound-1.3.2'>(1.3.2)</a></div><div class='texpara'><div id='prim.req.compound-1.3.2.sentence-1' class='sentence'>The immediately-declared constraint (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>)
of the <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint___'><span class='textsf'><i >type-constraint</i></span></span></a> for <span class='texttt'><span id=':decltype'><span class='texttt'><span class='keyword'>decltype</span></span></span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
shall be satisfied<a class='hidden_link' href='#prim.req.compound-1.3.2.sentence-1'>.</a></div></div></li></ul></div> <div id='prim.req.compound-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.compound-example-1'>1</a></i>:&ensp;<div id='prim.req.compound-1.3.sentence-2' class='sentence'>Given concepts <span class='texttt'>C</span> and <span class='texttt'>D</span>,
<span class='codeblock'><span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span> E1 <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C;
  <span class='curlybracket'>{</span> E2 <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> D<span class='anglebracket'>&lt;</span>A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>, <span class='math'>⋯</span>, A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span>
is equivalent to
<span class='codeblock'><span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  E1; <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>;
  E2; <span class='keyword'>requires</span> D<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>E2<span class='parenthesis'>)</span><span class='parenthesis'>)</span>, A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>, <span class='math'>⋯</span>, A<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span>
(including in the case where <span class='math'><span class='mathalpha'>n</span></span> is zero)<a class='hidden_link' href='#prim.req.compound-1.3.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para nonNormativeOnly' id='prim.req.compound-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.compound-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3359'>#</a></div><div class='texpara'><div id='prim.req.compound-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.compound-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C1 <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span>x<span class='operator'>+</span><span class='operator'>+</span><span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
</span> <div id='prim.req.compound-2.sentence-1' class='sentence'>
The <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement__'><span class='textsf'><i >compound-requirement</i></span></span></a> in <span class='texttt'>C1</span>
requires that <span class='texttt'>x<span class='operator'>+</span><span class='operator'>+</span></span> is a valid expression<a class='hidden_link' href='#prim.req.compound-2.sentence-1'>.</a></div> <div id='prim.req.compound-2.sentence-2' class='sentence'>It is equivalent to the <a href='#nt:simple-requirement' title='7.5.8.2&emsp;Simple requirements&emsp;[expr.prim.req.simple]'><span id='ntref:simple-requirement____'><span class='textsf'><i >simple-requirement</i></span></span></a>
<span class='texttt'>x<span class='operator'>+</span><span class='operator'>+</span>;</span><a class='hidden_link' href='#prim.req.compound-2.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C2 <span class='operator'>=</span> <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span><span class='operator'>*</span>x<span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> std<span class='operator'>::</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='operator'>::</span>inner<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='prim.req.compound-2.sentence-3' class='sentence'>The <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement___'><span class='textsf'><i >compound-requirement</i></span></span></a> in <span class='texttt'>C2</span>
requires that <span class='texttt'><span class='operator'>*</span>x</span> is a valid expression,
that <span class='texttt'><span class='keyword'>typename</span> T<span class='operator'>&#x200b;::&#x200b;</span>inner</span> is a valid type, and
that <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as_'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='operator'>*</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span>, <span class='keyword'>typename</span> T<span class='operator'>&#x200b;::&#x200b;</span>inner<span class='anglebracket'>&gt;</span></span> is satisfied<a class='hidden_link' href='#prim.req.compound-2.sentence-3'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C3 <span class='operator'>=</span>
  <span class='keyword'>requires</span><span class='parenthesis'>(</span>T x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='curlybracket'>{</span>g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='curlybracket'>}</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='prim.req.compound-2.sentence-4' class='sentence'>The <a href='#nt:compound-requirement' title='7.5.8.4&emsp;Compound requirements&emsp;[expr.prim.req.compound]'><span id='ntref:compound-requirement____'><span class='textsf'><i >compound-requirement</i></span></span></a> in <span class='texttt'>C3</span>
requires that <span class='texttt'>g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> is a valid expression and
that <span class='texttt'>g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> is non-throwing<a class='hidden_link' href='#prim.req.compound-2.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='prim.req.nested' class='section'><h4 ><a class='secnum' href='#prim.req.nested' style='min-width:95pt'>7.5.8.5</a> Nested requirements <a class='abbr_ref' href='expr.prim.req.nested'>[expr.prim.req.nested]</a></h4><div class='texpara'><a class='index' id=':requirement,nested'></a>
<div class='bnf' id='nt:nested-requirement'>
<a class='hidden_link' href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='nt:nested-requirement'><span id=':nested-requirement'>nested-requirement<span class='textnormal'>:</span></span></span></a><br><span id=':requires___'><span class='texttt'><span class='keyword'>requires</span></span></span> <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression_'><span class='textsf'><i >constraint-expression</i></span></span></a> <span class='terminal'>;</span>
</div></div><div class='para' id='prim.req.nested-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.nested-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3402'>#</a></div><div class='texpara'><div id='prim.req.nested-1.sentence-1' class='sentence'>A <a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement__'><span class='textsf'><i >nested-requirement</i></span></span></a> can be used
to specify additional constraints in terms of local parameters<a class='hidden_link' href='#prim.req.nested-1.sentence-1'>.</a></div> <div id='prim.req.nested-1.sentence-2' class='sentence'>The <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression__'><span class='textsf'><i >constraint-expression</i></span></span></a>
shall be satisfied (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>)
by the substituted template arguments, if any<a class='hidden_link' href='#prim.req.nested-1.sentence-2'>.</a></div> <div id='prim.req.nested-1.sentence-3' class='sentence'>Substitution of template arguments into a <a href='#nt:nested-requirement' title='7.5.8.5&emsp;Nested requirements&emsp;[expr.prim.req.nested]'><span id='ntref:nested-requirement___'><span class='textsf'><i >nested-requirement</i></span></span></a>
does not result in substitution into the <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression___'><span class='textsf'><i >constraint-expression</i></span></span></a>
other than as specified in <a href='temp.constr.constr' title='13.5.2&emsp;Constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>constr]</a><a class='hidden_link' href='#prim.req.nested-1.sentence-3'>.</a></div> <div id='prim.req.nested-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prim.req.nested-example-1'>1</a></i>:&ensp;<div id='prim.req.nested-1.sentence-4' class='sentence'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span> <span class='parenthesis'>(</span><span class='operator'>+</span>t<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;
</span>
<span class='texttt'>D<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is satisfied if <span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>decltype</span> <span class='parenthesis'>(</span><span class='operator'>+</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span></span> (<a href='temp.constr.atomic' title='13.5.2.3&emsp;Atomic constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>atomic]</a>)<a class='hidden_link' href='#prim.req.nested-1.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> 
</div></div></div></div></div><div id='compound' class='section'><h2 ><a class='secnum' href='#compound' style='min-width:65pt'>7.6</a> Compound expressions <a class='abbr_ref' href='expr.compound'>[expr.compound]</a></h2><div id='post' class='section'><h3 ><a class='secnum' href='#post' style='min-width:80pt'>7.6.1</a> Postfix expressions <a class='abbr_ref' href='expr.post'>[expr.post]</a></h3><div id='post.general' class='section'><h4 ><a class='secnum' href='#post.general' style='min-width:95pt'>7.6.1.1</a> General <a class='abbr_ref' href='expr.post.general'>[expr.post.general]</a></h4><div class='texpara'><a class='index' id=':expression,postfix'></a></div><div class='para' id='post.general-1'><div class='marginalizedparent'><a class='marginalized' href='#post.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3431'>#</a></div><div class='texpara'><div id='post.general-1.sentence-1' class='sentence'>Postfix expressions group left-to-right<a class='hidden_link' href='#post.general-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:postfix-expression'>
<a class='hidden_link' href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='nt:postfix-expression'><span id=':postfix-expression'>postfix-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:primary-expression' title='7.5.1&emsp;Grammar&emsp;[expr.prim.grammar]'><span id='ntref:primary-expression_'><span class='textsf'><i >primary-expression</i></span></span></a><br><a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='squarebracket'>[</span></span> <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='squarebracket'>]</span></span><br><a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression__'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><i >expression-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br><a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier'><span class='textsf'><i >simple-type-specifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__'><span class='textsf'><i >expression-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br><a href='temp.res.general#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier'><span class='textsf'><i >typename-specifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list___'><span class='textsf'><i >expression-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br><a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier_'><span class='textsf'><i >simple-type-specifier</i></span></span></a> <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><i >braced-init-list</i></span></span></a><br><a href='temp.res.general#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier_'><span class='textsf'><i >typename-specifier</i></span></span></a> <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__'><span class='textsf'><i >braced-init-list</i></span></span></a><br><a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression___'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='operator'>.</span></span> <span class='terminal'><span class='keyword'>template</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________________________________'><span class='textsf'><i >id-expression</i></span></span></a><br><a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression____'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='keyword'>template</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_________________________________'><span class='textsf'><i >id-expression</i></span></span></a><br><a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_____'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='operator'>+</span><span class='operator'>+</span></span><br><a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression______'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='operator'>-</span><span class='operator'>-</span></span><br><span id=':dynamic_cast'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span id=':static_cast_'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span id=':reinterpret_cast'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span id=':const_cast'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span id=':typeid_'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_______________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span id=':typeid__'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:expression-list'>
<a class='hidden_link' href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='nt:expression-list'><span id=':expression-list'>expression-list<span class='textnormal'>:</span></span></span></a><br><a href='dcl.init.general#nt:initializer-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list'><span class='textsf'><i >initializer-list</i></span></span></a>
</div></div></div><div class='para nonNormativeOnly' id='post.general-2'><div class='marginalizedparent'><a class='marginalized' href='#post.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3460'>#</a></div><div class='texpara'><div id='post.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#post.general-note-1'>1</a></i>:&ensp;<div id='post.general-2.sentence-1' class='sentence'>The <span class='texttt'><span class='anglebracket'>&gt;</span></span> token following the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______'><span class='textsf'><i >type-id</i></span></span></a> in a <span id=':dynamic_cast_'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>,
<span id=':static_cast__'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span>, <span id=':reinterpret_cast_'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span>, or
<span id=':const_cast_'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> can be the product of replacing a
<span class='texttt'><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> token by two consecutive <span class='texttt'><span class='anglebracket'>&gt;</span></span>
tokens (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>)<a class='hidden_link' href='#post.general-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='sub' class='section'><h4 ><a class='secnum' href='#sub' style='min-width:95pt'>7.6.1.2</a> Subscripting <a class='abbr_ref' href='expr.sub'>[expr.sub]</a></h4><div class='para' id='sub-1'><div class='marginalizedparent'><a class='marginalized' href='#sub-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3472'>#</a></div><div class='texpara'><div id='sub-1.sentence-1' class='sentence'><a class='index' id=':operator,subscripting'></a>A <a class='hidden_link' href='#def:expression,subscript' title='7.6.1.2&emsp;Subscripting&emsp;[expr.sub]'><span id='def:expression,subscript'><i >subscript expression</i></span></a> is a postfix expression
followed by square brackets containing
a possibly empty, comma-separated list of <a href='dcl.init.general#nt:initializer-clause' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
that constitute the arguments to the subscript operator<a class='hidden_link' href='#sub-1.sentence-1'>.</a></div> <div id='sub-1.sentence-2' class='sentence'>The <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_______'><span class='textsf'><i >postfix-expression</i></span></span></a> and
the initialization of the object parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of
any applicable subscript operator function (<a href='over.sub' title='12.4.5&emsp;Subscripting'>[over.<span class='shy'></span>sub]</a>) is sequenced before
each expression in the <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list____'><span class='textsf'><i >expression-list</i></span></span></a> and also before
any default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#sub-1.sentence-2'>.</a></div> <div id='sub-1.sentence-3' class='sentence'>The initialization of a non-object parameter of
a subscript operator function <span class='texttt'>S</span>,
including every associated value computation and side effect,
is indeterminately sequenced with respect to that of
any other non-object parameter of <span class='texttt'>S</span><a class='hidden_link' href='#sub-1.sentence-3'>.</a></div></div></div><div class='para' id='sub-2'><div class='marginalizedparent'><a class='marginalized' href='#sub-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3490'>#</a></div><div class='texpara'><div id='sub-2.sentence-1' class='sentence'>With the built-in subscript operator,
an <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_____'><span class='textsf'><i >expression-list</i></span></span></a> shall be present,
consisting of a single <a href='#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='ntref:assignment-expression'><span class='textsf'><i >assignment-expression</i></span></span></a><a class='hidden_link' href='#sub-2.sentence-1'>.</a></div> <div id='sub-2.sentence-2' class='sentence'>One of the expressions shall be a glvalue of type “array of
<span class='texttt'>T</span>” or a prvalue of type “pointer
to <span class='texttt'>T</span>” and the other shall be a prvalue of unscoped enumeration or integral type<a class='hidden_link' href='#sub-2.sentence-2'>.</a></div> <div id='sub-2.sentence-3' class='sentence'>The result is of type “<span class='texttt'>T</span>”<a class='hidden_link' href='#sub-2.sentence-3'>.</a></div> <div id='sub-2.sentence-4' class='sentence'><a class='index' id=':type,incomplete_'></a>The type “<span class='texttt'>T</span>” shall be a completely-defined object type<a class='hidden_link' href='#sub-2.sentence-4'>.</a><a class='footnoteref' href='#footnote-48' id='footnoteref-48' title='This is true even if the subscript operator is used in the following common idiom: &amp;x[0].'>48</a></div> <div id='sub-2.sentence-5' class='sentence'>
The expression <span class='texttt'>E1<span class='squarebracket'>[</span>E2<span class='squarebracket'>]</span></span> is identical (by definition) to
<span class='texttt'><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='operator'>+</span><span class='parenthesis'>(</span>E2<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>,
except that in the case of an array operand, the result is an lvalue
if that operand is an lvalue and an xvalue otherwise<a class='hidden_link' href='#sub-2.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='sub-3'><div class='marginalizedparent'><a class='marginalized' href='#sub-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3510'>#</a></div><div class='texpara'><div id='sub-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#sub-note-1'>1</a></i>:&ensp;<div id='sub-3.sentence-1' class='sentence'>Despite its asymmetric appearance, subscripting is a commutative
operation except for sequencing<a class='hidden_link' href='#sub-3.sentence-1'>.</a></div> <div id='sub-3.sentence-2' class='sentence'>See <a href='#unary' title='7.6.2&emsp;Unary expressions'>[expr.<span class='shy'></span>unary]</a> and <a href='#add' title='7.6.6&emsp;Additive operators'>[expr.<span class='shy'></span>add]</a> for details of <span class='texttt'><span class='operator'>*</span></span> and
<span class='texttt'><span class='operator'>+</span></span> and <a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a> for details of array types<a class='hidden_link' href='#sub-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-48'><div class='texpara'><a class='footnotenum' href='#footnote-48'>48)</a><a class='footnoteBacklink' href='#footnoteref-48'>48)</a> <div id='footnote-48.sentence-1' class='sentence'>This
is true even if the subscript operator is used in the following common idiom:
<span class='texttt'><span class='operator'>&amp;</span>x<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#footnote-48.sentence-1'>.</a></div></div></div></div><div id='call' class='section'><h4 ><a class='secnum' href='#call' style='min-width:95pt'>7.6.1.3</a> Function call <a class='abbr_ref' href='expr.call'>[expr.call]</a></h4><div class='para' id='call-1'><div class='marginalizedparent'><a class='marginalized' href='#call-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3520'>#</a></div><div class='texpara'><div id='call-1.sentence-1' class='sentence'><a class='index' id=':expression,function_call'></a><a class='index' id=':operator,function_call'></a>A function call is a postfix expression followed by parentheses
containing a possibly empty, comma-separated list of
<a href='dcl.init.general#nt:initializer-clause' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i> which
constitute the arguments to the function<a class='hidden_link' href='#call-1.sentence-1'>.</a></div> <div id='call-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-1'>1</a></i>:&ensp;<div id='call-1.sentence-2' class='sentence'>If the postfix expression is a function or member function name,
the appropriate function and the validity of the call
are determined according to the rules in <a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a><a class='hidden_link' href='#call-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='call-1.sentence-3' class='sentence'>
The postfix expression shall
have function type or function pointer type<a class='hidden_link' href='#call-1.sentence-3'>.</a></div> <div id='call-1.sentence-4' class='sentence'>For a call to a non-member function or to a static member function,
the postfix expression shall be either an lvalue that refers to a
function (in which case the function-to-pointer standard
conversion (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>) is suppressed on the postfix expression),
or a prvalue of function pointer type<a class='hidden_link' href='#call-1.sentence-4'>.</a></div></div></div><div class='para' id='call-2'><div class='marginalizedparent'><a class='marginalized' href='#call-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3541'>#</a></div><div class='texpara'><div id='call-2.sentence-1' class='sentence'>If the selected
function is non-virtual, or if the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__________________________________'><span class='textsf'><i >id-expression</i></span></span></a> in the class
member access expression is a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id______'><span class='textsf'><i >qualified-id</i></span></span></a>, that function is
called<a class='hidden_link' href='#call-2.sentence-1'>.</a></div> <div id='call-2.sentence-2' class='sentence'>Otherwise, its <a href='class.virtual#def:final_overrider' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'>final overrider</a> in the dynamic type
of the object expression is called; such a call is referred to as a
<a class='hidden_link' href='#def:function,virtual_function_call' title='7.6.1.3&emsp;Function call&emsp;[expr.call]'><span id='def:function,virtual_function_call'><i >virtual function call</i></span></a><a class='hidden_link' href='#call-2.sentence-2'>.</a></div> <div id='call-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-2'>2</a></i>:&ensp;<div id='call-2.sentence-3' class='sentence'>The dynamic type is the type of the object referred to by the
current value of the object expression<a class='hidden_link' href='#call-2.sentence-3'>.</a></div> <div id='call-2.sentence-4' class='sentence'><a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a> describes the
behavior of virtual function calls when the object expression
refers to
an object under construction or destruction<a class='hidden_link' href='#call-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='call-3'><div class='marginalizedparent'><a class='marginalized' href='#call-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3556'>#</a></div><div class='texpara'><div id='call-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-3'>3</a></i>:&ensp;<div id='call-3.sentence-1' class='sentence'>If a function or member function name is used, and <a href='basic.lookup' title='6.5&emsp;Name lookup&emsp;[basic.lookup]'>name
lookup</a> does not find a declaration of that name,
the program is ill-formed<a class='hidden_link' href='#call-3.sentence-1'>.</a></div> <div id='call-3.sentence-2' class='sentence'>No function is implicitly declared by such a
call<a class='hidden_link' href='#call-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='call-4'><div class='marginalizedparent'><a class='marginalized' href='#call-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3564'>#</a></div><div class='texpara'><div id='call-4.sentence-1' class='sentence'>If the <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression________'><span class='textsf'><i >postfix-expression</i></span></span></a> names
a destructor or pseudo-destructor (<a href='#prim.id.dtor' title='7.5.5.5&emsp;Destruction'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>dtor]</a>),
the type of the function call expression is <span id=':void_____________'><span class='texttt'><span class='keyword'>void</span></span></span>; otherwise, the
type of the function call expression is the return type of the
statically chosen function (i.e., ignoring the <span id=':virtual'><span class='texttt'><span class='keyword'>virtual</span></span></span> keyword),
even if the type of the function actually called is different<a class='hidden_link' href='#call-4.sentence-1'>.</a></div> <div id='call-4.sentence-2' class='sentence'><a class='index' id=':type,incomplete__'></a>If the <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_________'><span class='textsf'><i >postfix-expression</i></span></span></a> names a pseudo-destructor
(in which case the <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression__________'><span class='textsf'><i >postfix-expression</i></span></span></a>
is a possibly-parenthesized class member access),
the function call destroys
the object of scalar type
denoted by the object expression
of the class member access (<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <a href='basic.life' title='6.7.4&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#call-4.sentence-2'>.</a></div></div></div><div class='para' id='call-5'><div class='marginalizedparent'><a class='marginalized' href='#call-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3580'>#</a></div><div class='texpara'><div id='call-5.sentence-1' class='sentence'>A type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">call</span></span></span></span></span></span></span></span> is
<a class='hidden_link' href='#def:call-compatible' title='7.6.1.3&emsp;Function call&emsp;[expr.call]'><span id='def:call-compatible'><i >call-compatible</i></span></a> with a function type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">func</span></span></span></span></span></span></span></span>
if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">call</span></span></span></span></span></span></span></span> is the same type as <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">func</span></span></span></span></span></span></span></span> or
if the type “pointer to <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">func</span></span></span></span></span></span></span></span>” can be
converted to type “pointer to <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">call</span></span></span></span></span></span></span></span>”
via a function pointer conversion (<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>)<a class='hidden_link' href='#call-5.sentence-1'>.</a></div> <div id='call-5.sentence-2' class='sentence'>Calling a function through an
expression whose function type
is not call-compatible with the
type of the called function's
definition results in undefined behavior<a class='hidden_link' href='#call-5.sentence-2'>.</a></div> <div id='call-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-4'>4</a></i>:&ensp;<div id='call-5.sentence-3' class='sentence'>This requirement allows the case
when the expression has the type of a
potentially-throwing function, but the called function has
a non-throwing exception specification,
and the function types are otherwise the same<a class='hidden_link' href='#call-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='call-6'><div class='marginalizedparent'><a class='marginalized' href='#call-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3600'>#</a></div><div class='texpara'><div id='call-6.sentence-1' class='sentence'><a class='index' id=':initialization,parameter'></a>When a function is called, each parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) is
initialized (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, <a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>) with
its corresponding argument,
and each precondition assertion of the function
is evaluated (<a href='dcl.contract.func' title='9.4.1&emsp;General'>[dcl.<span class='shy'></span>contract.<span class='shy'></span>func]</a>)<a class='hidden_link' href='#call-6.sentence-1'>.</a></div> <div id='call-6.sentence-2' class='sentence'>If the function is an explicit object member function and
there is an implied object argument (<a href='over.call.func' title='12.2.2.2.2&emsp;Call to named function'>[over.<span class='shy'></span>call.<span class='shy'></span>func]</a>),
the list of provided arguments is preceded by the implied object argument
for the purposes of this correspondence<a class='hidden_link' href='#call-6.sentence-2'>.</a></div> <div id='call-6.sentence-3' class='sentence'>If there is no corresponding argument,
the default argument for the parameter is used<a class='hidden_link' href='#call-6.sentence-3'>.</a></div> <div id='call-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#call-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> n <span class='operator'>=</span> <span class='literal'>0</span>, T <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>t<span class='parenthesis'>)</span>;
<span class='keyword'>int</span> x <span class='operator'>=</span> f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// error: no argument for second function parameter</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='call-6.sentence-4' class='sentence'>
If the function is an implicit object member
function,
the object expression of the class member access shall be a glvalue and
the implicit object parameter of the function (<a href='over.match.funcs' title='12.2.2&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>)
is initialized with that glvalue,
converted as if by an <a href='#cast' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'>explicit type conversion</a><a class='hidden_link' href='#call-6.sentence-4'>.</a></div> <div id='call-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-5'>5</a></i>:&ensp;<div id='call-6.sentence-5' class='sentence'>There is no access or ambiguity checking on this conversion; the access
checking and disambiguation are done as part of the (possibly implicit)
class member access operator<a class='hidden_link' href='#call-6.sentence-5'>.</a></div> <div id='call-6.sentence-6' class='sentence'>See <a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>, <a href='class.access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a>,
and <a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a><a class='hidden_link' href='#call-6.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='call-6.sentence-7' class='sentence'>
When a function is called, the type of any parameter
shall not be a class type that is either incomplete or abstract<a class='hidden_link' href='#call-6.sentence-7'>.</a></div> <div id='call-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-6'>6</a></i>:&ensp;<div id='call-6.sentence-8' class='sentence'>This still allows a parameter to be a pointer or reference to such
a type<a class='hidden_link' href='#call-6.sentence-8'>.</a></div> <div id='call-6.sentence-9' class='sentence'>However, it prevents a passed-by-value parameter
to have an incomplete or abstract class type<a class='hidden_link' href='#call-6.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='call-6.sentence-10' class='sentence'>
It is <a class='index' id=':whether_a_parameter_is_destroyed_when_the_function_exits_or_at_the_end_of_the_enclosing_full-expression'></a>implementation-defined
whether a parameter is destroyed
when the function in which it is defined exits (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>, <a href='except.ctor' title='14.3&emsp;Stack unwinding'>[except.<span class='shy'></span>ctor]</a>, <a href='#await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>)
or at the end of the enclosing full-expression;
parameters are always destroyed in the reverse order of their construction<a class='hidden_link' href='#call-6.sentence-10'>.</a></div> <div id='call-6.sentence-11' class='sentence'>The initialization and destruction of each parameter occurs
within the context of the full-expression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)
where the function call appears<a class='hidden_link' href='#call-6.sentence-11'>.</a></div> <div id='call-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#call-example-2'>2</a></i>:&ensp;<div id='call-6.sentence-12' class='sentence'>The access (<a href='class.access.general' title='11.8.1&emsp;General'>[class.<span class='shy'></span>access.<span class='shy'></span>general]</a>) of the
constructor, conversion functions, or destructor is
checked at the point of call<a class='hidden_link' href='#call-6.sentence-12'>.</a></div> <div id='call-6.sentence-13' class='sentence'>If a constructor
or destructor for a function parameter throws an exception,
any <a href='except.pre#nt:function-try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:function-try-block_'><span class='textsf'><i >function-try-block</i></span></span></a> (<a href='except.pre' title='14.1&emsp;Preamble'>[except.<span class='shy'></span>pre]</a>)
of the called function
with a handler that can handle the exception
is not considered<a class='hidden_link' href='#call-6.sentence-13'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='call-7'><div class='marginalizedparent'><a class='marginalized' href='#call-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3661'>#</a></div><div class='texpara'><div id='call-7.sentence-1' class='sentence'><a class='index' id=':evaluation,order_of_argument'></a><a class='index' id=':evaluation,unspecified_order_of_function_call'></a><a class='index' id=':evaluation,unspecified_order_of_argument'></a>The <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression___________'><span class='textsf'><i >postfix-expression</i></span></span></a> is sequenced before
each <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression________________'><span class='textsf'><i >expression</i></span></span></a> in the <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list______'><span class='textsf'><i >expression-list</i></span></span></a>
and any default argument<a class='hidden_link' href='#call-7.sentence-1'>.</a></div> <div id='call-7.sentence-2' class='sentence'>The initialization of a parameter or,
if the implementation introduces any temporary objects
to hold the values of function parameters (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>),
the initialization of those temporaries,
including every associated value computation and side effect,
is indeterminately sequenced with respect to that of any other parameter<a class='hidden_link' href='#call-7.sentence-2'>.</a></div> <div id='call-7.sentence-3' class='sentence'>These evaluations are
sequenced before
the evaluation of the precondition assertions of the function,
which are evaluated in sequence (<a href='dcl.contract.func' title='9.4.1&emsp;General'>[dcl.<span class='shy'></span>contract.<span class='shy'></span>func]</a>)<a class='hidden_link' href='#call-7.sentence-3'>.</a></div> <div id='call-7.sentence-4' class='sentence'>For any temporaries
introduced to hold the values of function parameters,
the initialization of the parameter objects from those temporaries
is indeterminately sequenced with respect to
the evaluation of each precondition assertion<a class='hidden_link' href='#call-7.sentence-4'>.</a></div> <div id='call-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-7'>7</a></i>:&ensp;<div id='call-7.sentence-5' class='sentence'>All side effects of
argument evaluations are sequenced before the function is
entered (see <a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#call-7.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='call-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#call-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>string s <span class='operator'>=</span> <span class='literal'>"but I have heard it works even if you don't believe in it"</span>;
  s<span class='operator'>.</span>replace<span class='parenthesis'>(</span><span class='literal'>0</span>, <span class='literal'>4</span>, <span class='literal'>""</span><span class='parenthesis'>)</span><span class='operator'>.</span>replace<span class='parenthesis'>(</span>s<span class='operator'>.</span>find<span class='parenthesis'>(</span><span class='literal'>"even"</span><span class='parenthesis'>)</span>, <span class='literal'>4</span>, <span class='literal'>"only"</span><span class='parenthesis'>)</span><span class='operator'>.</span>replace<span class='parenthesis'>(</span>s<span class='operator'>.</span>find<span class='parenthesis'>(</span><span class='literal'>" don't"</span><span class='parenthesis'>)</span>, <span class='literal'>6</span>, <span class='literal'>""</span><span class='parenthesis'>)</span>;
  assert<span class='parenthesis'>(</span>s <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>"I have heard it works only if you believe in it"</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='call-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-8'>8</a></i>:&ensp;<div id='call-7.sentence-6' class='sentence'>If an operator function is invoked
using operator notation,
argument evaluation is sequenced
as specified for the built-in operator;
see <a href='over.match.oper' title='12.2.2.3&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a><a class='hidden_link' href='#call-7.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='call-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#call-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span>S, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> i, j;
<span class='keyword'>int</span> x <span class='operator'>=</span> S<span class='parenthesis'>(</span>i<span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='parenthesis'>(</span>i<span class='operator'>=</span><span class='literal'>2</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> y <span class='operator'>=</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span>S<span class='parenthesis'>(</span>j<span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span>, j<span class='operator'>=</span><span class='literal'>2</span><span class='parenthesis'>)</span>;
</span> <div id='call-7.sentence-7' class='sentence'>
After performing the initializations,
the value of <span class='texttt'>i</span> is 2 (see <a href='#shift' title='7.6.7&emsp;Shift operators'>[expr.<span class='shy'></span>shift]</a>),
but it is unspecified whether the value of <span class='texttt'>j</span> is 1 or 2<a class='hidden_link' href='#call-7.sentence-7'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='call-8'><div class='marginalizedparent'><a class='marginalized' href='#call-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3719'>#</a></div><div class='texpara'><div id='call-8.sentence-1' class='sentence'>The result of a function call is the result of the possibly-converted operand
of the <span id=':return__'><span class='texttt'><span class='keyword'>return</span></span></span> statement (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>)
that transferred control out of the called function (if any),
except in a virtual function call if the return type of the
final overrider is different from the return type of the statically
chosen function, the value returned from the final overrider is
converted to the return type of the statically chosen function<a class='hidden_link' href='#call-8.sentence-1'>.</a></div></div></div><div class='para' id='call-9'><div class='marginalizedparent'><a class='marginalized' href='#call-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3728'>#</a></div><div class='texpara'><div id='call-9.sentence-1' class='sentence'>When the called function exits normally (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>, <a href='#await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>),
all postcondition assertions of the function
are evaluated in sequence (<a href='dcl.contract.func' title='9.4.1&emsp;General'>[dcl.<span class='shy'></span>contract.<span class='shy'></span>func]</a>)<a class='hidden_link' href='#call-9.sentence-1'>.</a></div> <div id='call-9.sentence-2' class='sentence'>If the implementation introduces any temporary objects
to hold the result value as specified in <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>,
the evaluation of each postcondition assertion
is indeterminately sequenced with respect to
the initialization of any of those temporaries or the result object<a class='hidden_link' href='#call-9.sentence-2'>.</a></div> <div id='call-9.sentence-3' class='sentence'>These evaluations, in turn, are sequenced before
the destruction of any function parameters<a class='hidden_link' href='#call-9.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='call-10'><div class='marginalizedparent'><a class='marginalized' href='#call-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3740'>#</a></div><div class='texpara'><div id='call-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-9'>9</a></i>:&ensp;<div id='call-10.sentence-1' class='sentence'><a class='index' id=':type_checking,argument'></a><a class='index' id=':function_call'></a><a class='index' id=':argument_passing'></a><a class='index' id=':value,call_by'></a><a class='index' id=':reference,call_by'></a><a class='index' id=':argument,reference'></a>A function can change the values of its non-const parameters, but these
changes cannot affect the values of the arguments except where a
parameter is of a reference type (<a href='dcl.ref' title='9.3.4.3&emsp;References'>[dcl.<span class='shy'></span>ref]</a>); if the reference is to
a const-qualified type, <span id=':const_cast__'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> needs to be used to
cast away the constness in order to modify the argument's value<a class='hidden_link' href='#call-10.sentence-1'>.</a></div> <div id='call-10.sentence-2' class='sentence'>Where a
parameter is of <span id=':const_____________'><span class='texttt'><span class='keyword'>const</span></span></span> reference type a temporary object is
introduced if
needed (<a href='dcl.type' title='9.2.9&emsp;Type specifiers'>[dcl.<span class='shy'></span>type]</a>, <a href='lex.literal' title='5.13&emsp;Literals'>[lex.<span class='shy'></span>literal]</a>, <a href='lex.string' title='5.13.5&emsp;String literals'>[lex.<span class='shy'></span>string]</a>, <a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>, <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#call-10.sentence-2'>.</a></div> <div id='call-10.sentence-3' class='sentence'>In addition, it is possible to modify the values of non-constant objects through
pointer parameters<a class='hidden_link' href='#call-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='call-11'><div class='marginalizedparent'><a class='marginalized' href='#call-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3760'>#</a></div><div class='texpara'><div id='call-11.sentence-1' class='sentence'><a class='index' id=':declaration,ellipsis_in_function'></a><a class='index' id=':parameter_list,variable'></a>A function can be declared to accept fewer arguments (by declaring <a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments&emsp;[dcl.fct.default]'>default
arguments</a>) or more arguments (by using the ellipsis,
<span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span>, or a function parameter pack (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)) than the number of
parameters in the <a href='dcl.fct.def' title='9.6&emsp;Function definitions&emsp;[dcl.fct.def]'>function definition</a><a class='hidden_link' href='#call-11.sentence-1'>.</a></div> <div id='call-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-10'>10</a></i>:&ensp;<div id='call-11.sentence-2' class='sentence'>This implies that, except where the ellipsis (<span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span>) or a function
parameter pack is used, a parameter is available for each argument<a class='hidden_link' href='#call-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='call-12'><div class='marginalizedparent'><a class='marginalized' href='#call-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3772'>#</a></div><div class='texpara'><div id='call-12.sentence-1' class='sentence'><a class='index' id=':ellipsis,conversion_sequence'></a>When there is no parameter for a given argument, the argument is passed
in such a way that the receiving function can obtain the value of the
argument by invoking <span id='lib:va_arg'><span class='texttt'>va_<span class='shy'></span>arg</span></span> (<a href='support.runtime' title='17.14&emsp;Other runtime support'>[support.<span class='shy'></span>runtime]</a>)<a class='hidden_link' href='#call-12.sentence-1'>.</a></div> <div id='call-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#call-note-11'>11</a></i>:&ensp;<div id='call-12.sentence-2' class='sentence'>This paragraph does not apply to arguments passed to a function parameter pack<a class='hidden_link' href='#call-12.sentence-2'>.</a></div> <div id='call-12.sentence-3' class='sentence'>Function parameter packs are expanded during template instantiation (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>),
thus each such argument has a corresponding parameter when a function template
specialization is actually called<a class='hidden_link' href='#call-12.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='call-12.sentence-4' class='sentence'>
The
<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue</a>, <a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer</a>,
and <a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a> standard conversions are
performed on the argument expression<a class='hidden_link' href='#call-12.sentence-4'>.</a></div> <div id='call-12.sentence-5' class='sentence'>An argument that has type <span class='mathit'>cv</span> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span> is converted
to type <span class='texttt'><span id=':void______________'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span> (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>)<a class='hidden_link' href='#call-12.sentence-5'>.</a></div> <div id='call-12.sentence-6' class='sentence'>After these conversions, if the
argument does not have arithmetic, enumeration, pointer, pointer-to-member,
or class type, the program is ill-formed<a class='hidden_link' href='#call-12.sentence-6'>.</a></div> <div id='call-12.sentence-7' class='sentence'>Passing a potentially-evaluated argument
of a scoped enumeration type (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>) or
of a class type (<a href='class' title='11&emsp;Classes'>[class]</a>) having
an eligible non-trivial copy constructor (<a href='special' title='11.4.4&emsp;Special member functions'>[special]</a>, <a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
an eligible non-trivial move constructor, or
a non-trivial destructor (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>),
with no corresponding parameter, is conditionally-supported with
<a class='index' id=':passing_argument_of_class_type_through_ellipsis'></a>implementation-defined semantics<a class='hidden_link' href='#call-12.sentence-7'>.</a></div> <div id='call-12.sentence-8' class='sentence'>If the argument has
integral or enumeration type that is subject to the <a href='#conv.prom' title='7.3.7&emsp;Integral promotions&emsp;[conv.prom]'>integral
promotions</a>, or a floating-point type that is subject to the
<a href='#conv.fpprom' title='7.3.8&emsp;Floating-point promotion&emsp;[conv.fpprom]'>floating-point promotion</a>, the value of the argument is converted to the
promoted type before the call<a class='hidden_link' href='#call-12.sentence-8'>.</a></div> <div id='call-12.sentence-9' class='sentence'>These promotions are referred to as
the <a class='hidden_link' href='#def:promotion,default_argument_promotion' title='7.6.1.3&emsp;Function call&emsp;[expr.call]'><span id='def:promotion,default_argument_promotion'><i >default argument promotions</i></span></a><a class='hidden_link' href='#call-12.sentence-9'>.</a></div></div></div><div class='para' id='call-13'><div class='marginalizedparent'><a class='marginalized' href='#call-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3806'>#</a></div><div class='texpara'><div id='call-13.sentence-1' class='sentence'><a class='index' id=':function_call,recursive'></a>Recursive calls are permitted, except to the <a href='basic.start.main' title='6.9.3.1&emsp;main function&emsp;[basic.start.main]'><span class='texttt'>main</span>
function</a><a class='hidden_link' href='#call-13.sentence-1'>.</a></div></div></div><div class='para' id='call-14'><div class='marginalizedparent'><a class='marginalized' href='#call-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3811'>#</a></div><div class='texpara'><div id='call-14.sentence-1' class='sentence'>A function call is an lvalue
if the result type is an lvalue reference type or an rvalue reference to function type,
an xvalue if the result type is an rvalue reference to object type, and a prvalue
otherwise<a class='hidden_link' href='#call-14.sentence-1'>.</a></div> <div id='call-14.sentence-2' class='sentence'>If it is a non-void prvalue,
the type of the function call expression shall be complete,
except as specified in <a href='dcl.type.decltype' title='9.2.9.6&emsp;Decltype specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>decltype]</a><a class='hidden_link' href='#call-14.sentence-2'>.</a></div></div></div></div><div id='type.conv' class='section'><h4 ><a class='secnum' href='#type.conv' style='min-width:95pt'>7.6.1.4</a> Explicit type conversion (functional notation) <a class='abbr_ref' href='expr.type.conv'>[expr.type.conv]</a></h4><div class='para' id='type.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#type.conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3822'>#</a></div><div class='texpara'><div id='type.conv-1.sentence-1' class='sentence'><a class='index' id=':expression,cast'></a><a class='index' id=':casting'></a>A <a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier__'><span class='textsf'><i >simple-type-specifier</i></span></span></a></a> or
<a href='temp.res' title='13.8&emsp;Name resolution&emsp;[temp.res]'><a href='temp.res.general#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier__'><span class='textsf'><i >typename-specifier</i></span></span></a></a> followed
by a parenthesized optional <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_______'><span class='textsf'><i >expression-list</i></span></span></a> or
by a <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list___'><span class='textsf'><i >braced-init-list</i></span></span></a>
(the initializer)
constructs a value of the specified type
given the initializer<a class='hidden_link' href='#type.conv-1.sentence-1'>.</a></div> <div id='type.conv-1.sentence-2' class='sentence'><a class='index' id=':deduction,class_template_arguments'></a>If the type is a placeholder
for a deduced class type,
it is replaced by the return type
of the function selected by overload resolution
for <a href='over.match.class.deduct' title='12.2.2.9&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'>class template deduction</a>
for the remainder of this subclause<a class='hidden_link' href='#type.conv-1.sentence-2'>.</a></div> <div id='type.conv-1.sentence-3' class='sentence'>Otherwise, if the type contains a placeholder type,
it is replaced by the type
determined by placeholder type deduction (<a href='dcl.type.auto.deduct' title='9.2.9.7.2&emsp;Placeholder type deduction'>[dcl.<span class='shy'></span>type.<span class='shy'></span>auto.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#type.conv-1.sentence-3'>.</a></div> <div id='type.conv-1.sentence-4' class='sentence'>Let <span class='texttt'>T</span> denote the resulting type<a class='hidden_link' href='#type.conv-1.sentence-4'>.</a></div> <div id='type.conv-1.sentence-5' class='sentence'>Then:</div></div><div class='texpara'><ul class='itemize'><li id='type.conv-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type.conv-1.1'>(1.1)</a></div><div class='texpara'><div id='type.conv-1.1.sentence-1' class='sentence'>If the initializer is a parenthesized single expression,
the type conversion expression is equivalent
to the corresponding cast
expression (<a href='#cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#type.conv-1.1.sentence-1'>.</a></div></div></li><li id='type.conv-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type.conv-1.2'>(1.2)</a></div><div class='texpara'><div id='type.conv-1.2.sentence-1' class='sentence'><a class='index' id=':type,incomplete___'></a>Otherwise, if <span class='texttt'>T</span> is <span class='mathit'>cv</span> <span id=':void_______________'><span class='texttt'><span class='keyword'>void</span></span></span>,
the initializer shall be <span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> or <span class='texttt'><span class='curlybracket'>{</span><span class='curlybracket'>}</span></span>
(after pack expansion, if any), and
the expression is a prvalue of type <span id=':void________________'><span class='texttt'><span class='keyword'>void</span></span></span>
that performs no initialization<a class='hidden_link' href='#type.conv-1.2.sentence-1'>.</a></div></div></li><li id='type.conv-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type.conv-1.3'>(1.3)</a></div><div class='texpara'><div id='type.conv-1.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a reference type,
the expression has the same effect as
direct-initializing an invented variable <span class='texttt'>t</span> of type <span class='texttt'>T</span> from
the initializer and then
using <span class='texttt'>t</span> as the result of the expression;
the result is an lvalue if
<span class='texttt'>T</span> is an lvalue reference type or
an rvalue reference to function type and
an xvalue otherwise<a class='hidden_link' href='#type.conv-1.3.sentence-1'>.</a></div></div></li><li id='type.conv-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type.conv-1.4'>(1.4)</a></div><div class='texpara'><div id='type.conv-1.4.sentence-1' class='sentence'>Otherwise,
the expression is a prvalue of type <span class='texttt'>T</span>
whose result object is direct-initialized (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
with the initializer<a class='hidden_link' href='#type.conv-1.4.sentence-1'>.</a></div></div></li></ul></div><div class='texpara'><div id='type.conv-1.sentence-6' class='sentence'>If the initializer is a parenthesized optional <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list________'><span class='textsf'><i >expression-list</i></span></span></a>,
<span class='texttt'>T</span> shall not be an array type<a class='hidden_link' href='#type.conv-1.sentence-6'>.</a></div> <div id='type.conv-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#type.conv-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;             <span class='comment'>// #1</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// #2</span>
A<span class='operator'>&amp;</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;               <span class='comment'>// calls #1</span>
  f<span class='parenthesis'>(</span>A<span class='parenthesis'>(</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls #2 with a temporary object</span>
  f<span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>(</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;         <span class='comment'>// calls #2 with a temporary object</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='ref' class='section'><h4 ><a class='secnum' href='#ref' style='min-width:95pt'>7.6.1.5</a> Class member access <a class='abbr_ref' href='expr.ref'>[expr.ref]</a></h4><div class='para' id='ref-1'><div class='marginalizedparent'><a class='marginalized' href='#ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3899'>#</a></div><div class='texpara'><div id='ref-1.sentence-1' class='sentence'><a class='index' id=':expression,class_member_access'></a><a class='index' id=':access_control,class_member'></a><a class='index' id=':syntax,class_member'></a><a class='index' id=':semantics,class_member'></a><a class='index' id=':operator,class_member_access'></a><a class='index' id=':operator,class_member_access_'></a>A postfix expression followed by a dot <span class='texttt'><span class='operator'>.</span></span> or an arrow <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
optionally followed by the keyword
<span id=':template___'><span class='texttt'><span class='keyword'>template</span></span></span>, and then followed by an
<a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____________________________________'><span class='textsf'><i >id-expression</i></span></span></a>, is a postfix expression<a class='hidden_link' href='#ref-1.sentence-1'>.</a></div> <div id='ref-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-1'>1</a></i>:&ensp;<div id='ref-1.sentence-2' class='sentence'>If the keyword <span id=':template____'><span class='texttt'><span class='keyword'>template</span></span></span> is used,
the following unqualified name
is considered to refer to a template (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>)<a class='hidden_link' href='#ref-1.sentence-2'>.</a></div> <div id='ref-1.sentence-3' class='sentence'>If a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id____'><span class='textsf'><i >simple-template-id</i></span></span></a> results and is followed by a <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>,
the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____________________________________'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_______'><span class='textsf'><i >qualified-id</i></span></span></a><a class='hidden_link' href='#ref-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='ref-2'><div class='marginalizedparent'><a class='marginalized' href='#ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3922'>#</a></div><div class='texpara'><div id='ref-2.sentence-1' class='sentence'><a class='index' id=':type,incomplete____'></a>For the first option (dot),
if the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______________________________________'><span class='textsf'><i >id-expression</i></span></span></a> names a static member or an enumerator,
the first expression is a discarded-value expression (<a href='#context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>);
if the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______________________________________'><span class='textsf'><i >id-expression</i></span></span></a> names a non-static data member,
the first expression shall be a glvalue<a class='hidden_link' href='#ref-2.sentence-1'>.</a></div> <div id='ref-2.sentence-2' class='sentence'>For the second option (arrow), the first expression
shall be a prvalue having pointer type<a class='hidden_link' href='#ref-2.sentence-2'>.</a></div> <div id='ref-2.sentence-3' class='sentence'>The expression <span class='texttt'>E1<span class='operator'>-</span><span class='anglebracket'>&gt;</span>E2</span> is
converted to the equivalent form <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>E2</span>; the remainder of
<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a> will address only the first option (dot)<a class='hidden_link' href='#ref-2.sentence-3'>.</a><a class='footnoteref' href='#footnote-49' id='footnoteref-49' title='Note that (*(E1)) is an lvalue.'>49</a></div></div></div><div class='para' id='ref-3'><div class='marginalizedparent'><a class='marginalized' href='#ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3939'>#</a></div><div class='texpara'><div id='ref-3.sentence-1' class='sentence'>The postfix expression before the dot is evaluated;<a class='footnoteref' href='#footnote-50' id='footnoteref-50' title='If the class member access expression is evaluated, the subexpression evaluation happens even if the result is unnecessary to determine the value of the entire postfix expression, for example if the id-expression denotes a static member.'>50</a>
the result of that evaluation,
together with the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________________________________________'><span class='textsf'><i >id-expression</i></span></span></a>,
determines the result of the entire postfix expression<a class='hidden_link' href='#ref-3.sentence-1'>.</a></div></div></div><div class='para' id='ref-4'><div class='marginalizedparent'><a class='marginalized' href='#ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3952'>#</a></div><div class='texpara'><div id='ref-4.sentence-1' class='sentence'>Abbreviating
<a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression____________'><span class='textsf'><i >postfix-expression</i></span></span></a><span class='texttt'><span class='operator'>.</span></span><a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_________________________________________'><span class='textsf'><i >id-expression</i></span></span></a>
as <span class='texttt'>E1<span class='operator'>.</span>E2</span>, <span class='texttt'>E1</span> is called the <a class='hidden_link' href='#def:object_expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='def:object_expression'><i >object expression</i></span></a><a class='hidden_link' href='#ref-4.sentence-1'>.</a></div> <div id='ref-4.sentence-2' class='sentence'>If the object expression is of scalar type,
<span class='texttt'>E2</span> shall name the pseudo-destructor
of that same type (ignoring cv-qualifications) and
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is a prvalue of type “function of () returning <span id=':void_________________'><span class='texttt'><span class='keyword'>void</span></span></span>”<a class='hidden_link' href='#ref-4.sentence-2'>.</a></div> <div id='ref-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-2'>2</a></i>:&ensp;<div id='ref-4.sentence-3' class='sentence'>This value can only be used
for a notional function call (<a href='#prim.id.dtor' title='7.5.5.5&emsp;Destruction'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#ref-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='ref-5'><div class='marginalizedparent'><a class='marginalized' href='#ref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3965'>#</a></div><div class='texpara'><div id='ref-5.sentence-1' class='sentence'>Otherwise, the object expression shall be of class type<a class='hidden_link' href='#ref-5.sentence-1'>.</a></div> <div id='ref-5.sentence-2' class='sentence'>The class type shall be complete
unless the class member access appears in the definition of that class<a class='hidden_link' href='#ref-5.sentence-2'>.</a></div> <div id='ref-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-3'>3</a></i>:&ensp;<div id='ref-5.sentence-3' class='sentence'>The program is ill-formed if the result differs from that
when the class is complete (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#ref-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='ref-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-4'>4</a></i>:&ensp;<div id='ref-5.sentence-4' class='sentence'><a href='basic.lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a> describes how names are looked up after the
<span class='texttt'><span class='operator'>.</span></span> and <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> operators<a class='hidden_link' href='#ref-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='ref-6'><div class='marginalizedparent'><a class='marginalized' href='#ref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3978'>#</a></div><div class='texpara'><div id='ref-6.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a bit-field, <span class='texttt'>E1<span class='operator'>.</span>E2</span> is a bit-field<a class='hidden_link' href='#ref-6.sentence-1'>.</a></div> <div id='ref-6.sentence-2' class='sentence'>The
type and value category of <span class='texttt'>E1<span class='operator'>.</span>E2</span> are determined as follows<a class='hidden_link' href='#ref-6.sentence-2'>.</a></div> <div id='ref-6.sentence-3' class='sentence'>In the remainder of <a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <i >cq</i> represents either
<span id=':const______________'><span class='texttt'><span class='keyword'>const</span></span></span> or the absence of <span id=':const_______________'><span class='texttt'><span class='keyword'>const</span></span></span> and <i >vq</i> represents
either <span id=':volatile'><span class='texttt'><span class='keyword'>volatile</span></span></span> or the absence of <span id=':volatile_'><span class='texttt'><span class='keyword'>volatile</span></span></span><a class='hidden_link' href='#ref-6.sentence-3'>.</a></div> <div id='ref-6.sentence-4' class='sentence'><i >cv</i>
represents an arbitrary set of cv-qualifiers, as defined
in <a href='basic.type.qualifier' title='6.8.5&emsp;CV-qualifiers'>[basic.<span class='shy'></span>type.<span class='shy'></span>qualifier]</a><a class='hidden_link' href='#ref-6.sentence-4'>.</a></div></div></div><div class='para' id='ref-7'><div class='marginalizedparent'><a class='marginalized' href='#ref-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L3987'>#</a></div><div class='texpara'><div id='ref-7.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is declared to have type “reference to <span class='texttt'>T</span>”, then
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue of type <span class='texttt'>T</span><a class='hidden_link' href='#ref-7.sentence-1'>.</a></div> <div id='ref-7.sentence-2' class='sentence'>If <span class='texttt'>E2</span> is a static data member,
<span class='texttt'>E1<span class='operator'>.</span>E2</span> designates the object or function to which
the reference is bound,
otherwise <span class='texttt'>E1<span class='operator'>.</span>E2</span> designates the object or function to which
the corresponding reference member of <span class='texttt'>E1</span> is bound<a class='hidden_link' href='#ref-7.sentence-2'>.</a></div> <div id='ref-7.sentence-3' class='sentence'>Otherwise, one of the following rules applies<a class='hidden_link' href='#ref-7.sentence-3'>.</a></div> <ul class='itemize'><li id='ref-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-7.1'>(7.1)</a></div><div class='texpara'><div id='ref-7.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a static data member and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, then <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue; the expression designates
the named member of the class<a class='hidden_link' href='#ref-7.1.sentence-1'>.</a></div> <div id='ref-7.1.sentence-2' class='sentence'>The type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#ref-7.1.sentence-2'>.</a></div></div></li><li id='ref-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-7.2'>(7.2)</a></div><div class='texpara'><div id='ref-7.2.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static data member and the type of
<span class='texttt'>E1</span> is “<i >cq1 vq1</i> <span class='texttt'>X</span>”, and the type of <span class='texttt'>E2</span>
is “<i >cq2 vq2</i> <span class='texttt'>T</span>”, the expression designates the corresponding
member subobject of the object designated by the first expression<a class='hidden_link' href='#ref-7.2.sentence-1'>.</a></div> <div id='ref-7.2.sentence-2' class='sentence'>If <span class='texttt'>E1</span>
is an lvalue, then <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue;
otherwise <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an xvalue<a class='hidden_link' href='#ref-7.2.sentence-2'>.</a></div> <div id='ref-7.2.sentence-3' class='sentence'>Let the notation <i >vq12</i> stand for the “union” of
<i >vq1</i> and <i >vq2</i>; that is, if <i >vq1</i> or <i >vq2</i>
is <span class='texttt'><span class='keyword'>volatile</span></span>, then <i >vq12</i> is <span id=':volatile__'><span class='texttt'><span class='keyword'>volatile</span></span></span><a class='hidden_link' href='#ref-7.2.sentence-3'>.</a></div> <div id='ref-7.2.sentence-4' class='sentence'>Similarly,
let the notation <i >cq12</i> stand for the “union” of <i >cq1</i>
and <i >cq2</i>; that is, if <i >cq1</i> or <i >cq2</i> is
<span id=':const________________'><span class='texttt'><span class='keyword'>const</span></span></span>, then <i >cq12</i> is <span id=':const_________________'><span class='texttt'><span class='keyword'>const</span></span></span><a class='hidden_link' href='#ref-7.2.sentence-4'>.</a></div> <div id='ref-7.2.sentence-5' class='sentence'>If <span class='texttt'>E2</span> is
declared to be a <span id=':mutable______'><span class='texttt'><span class='keyword'>mutable</span></span></span> member, then the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span>
is “<i >vq12</i> <span class='texttt'>T</span>”<a class='hidden_link' href='#ref-7.2.sentence-5'>.</a></div> <div id='ref-7.2.sentence-6' class='sentence'>If <span class='texttt'>E2</span> is not declared to be a
<span id=':mutable_______'><span class='texttt'><span class='keyword'>mutable</span></span></span> member, then the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is
“<i >cq12</i> <i >vq12</i> <span class='texttt'>T</span>”<a class='hidden_link' href='#ref-7.2.sentence-6'>.</a></div></div></li><li id='ref-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-7.3'>(7.3)</a></div><div class='texpara'><div id='ref-7.3.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is an overload set,
the expression shall be the (possibly-parenthesized) left-hand operand of
a member function call (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>), and
function overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)
is used to select the function to which <span class='texttt'>E2</span> refers<a class='hidden_link' href='#ref-7.3.sentence-1'>.</a></div> <div id='ref-7.3.sentence-2' class='sentence'>The type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is the type of <span class='texttt'>E2</span>
and <span class='texttt'>E1<span class='operator'>.</span>E2</span> refers to the function referred to by <span class='texttt'>E2</span><a class='hidden_link' href='#ref-7.3.sentence-2'>.</a></div></div><div class='texpara'><ul class='itemize'><li id='ref-7.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-7.3.1'>(7.3.1)</a></div><div class='texpara'><div id='ref-7.3.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> refers to a static member function,
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue<a class='hidden_link' href='#ref-7.3.1.sentence-1'>.</a></div></div></li><li id='ref-7.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-7.3.2'>(7.3.2)</a></div><div class='texpara'><div id='ref-7.3.2.sentence-1' class='sentence'>Otherwise (when <span class='texttt'>E2</span> refers to a non-static member function),
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is a prvalue<a class='hidden_link' href='#ref-7.3.2.sentence-1'>.</a></div> <div id='ref-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-5'>5</a></i>:&ensp;<div id='ref-7.3.2.sentence-2' class='sentence'>Any redundant set of parentheses surrounding the expression
is ignored (<a href='#prim.paren' title='7.5.4&emsp;Parentheses'>[expr.<span class='shy'></span>prim.<span class='shy'></span>paren]</a>)<a class='hidden_link' href='#ref-7.3.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></li><li id='ref-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-7.4'>(7.4)</a></div><div class='texpara'><div id='ref-7.4.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a nested type, the expression <span class='texttt'>E1<span class='operator'>.</span>E2</span> is
ill-formed<a class='hidden_link' href='#ref-7.4.sentence-1'>.</a></div></div></li><li id='ref-7.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-7.5'>(7.5)</a></div><div class='texpara'><div id='ref-7.5.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a member enumerator and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, the expression <span class='texttt'>E1<span class='operator'>.</span>E2</span> is a prvalue of type <span class='texttt'>T</span>
whose value is the value of the enumerator<a class='hidden_link' href='#ref-7.5.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='ref-8'><div class='marginalizedparent'><a class='marginalized' href='#ref-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4046'>#</a></div><div class='texpara'><div id='ref-8.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static member,
the program is ill-formed if the class of which <span class='texttt'>E2</span> is
directly a member is an ambiguous base (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>) of
the naming class (<a href='class.access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a>) of <span class='texttt'>E2</span><a class='hidden_link' href='#ref-8.sentence-1'>.</a></div> <div id='ref-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-6'>6</a></i>:&ensp;<div id='ref-8.sentence-2' class='sentence'>The program is also ill-formed if the naming class is an ambiguous base of the class type
of the object expression; see <a href='class.access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a><a class='hidden_link' href='#ref-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='ref-9'><div class='marginalizedparent'><a class='marginalized' href='#ref-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4056'>#</a></div><div class='texpara'><div id='ref-9.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static member and
the result of <span class='texttt'>E1</span> is an object whose type
is not similar (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) to the type of <span class='texttt'>E1</span>,
the behavior is undefined<a class='hidden_link' href='#ref-9.sentence-1'>.</a></div> <div id='ref-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ref-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>int</span> j; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> A, B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D d;
  <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>d<span class='parenthesis'>)</span><span class='operator'>.</span>j;             <span class='comment'>// OK, object expression designates the <span class='tcode_in_codeblock'>B</span> subobject of <span class='tcode_in_codeblock'>d</span></span>
  <span class='keyword'>reinterpret_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>d<span class='parenthesis'>)</span><span class='operator'>.</span>j;        <span class='comment'>// undefined behavior</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-49'><div class='texpara'><a class='footnotenum' href='#footnote-49'>49)</a><a class='footnoteBacklink' href='#footnoteref-49'>49)</a> <div id='footnote-49.sentence-1' class='sentence'>Note that
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is an lvalue<a class='hidden_link' href='#footnote-49.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-50'><div class='texpara'><a class='footnotenum' href='#footnote-50'>50)</a><a class='footnoteBacklink' href='#footnoteref-50'>50)</a> <div id='footnote-50.sentence-1' class='sentence'>If the class member
access expression is evaluated, the subexpression evaluation happens even if the
result is unnecessary to determine
the value of the entire postfix expression, for example if the
<a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___________________________________'><span class='textsf'><i >id-expression</i></span></span></a> denotes a static member<a class='hidden_link' href='#footnote-50.sentence-1'>.</a></div></div></div></div><div id='post.incr' class='section'><h4 ><a class='secnum' href='#post.incr' style='min-width:95pt'>7.6.1.6</a> Increment and decrement <a class='abbr_ref' href='expr.post.incr'>[expr.post.incr]</a></h4><div class='para' id='post.incr-1'><div class='marginalizedparent'><a class='marginalized' href='#post.incr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4076'>#</a></div><div class='texpara'><div id='post.incr-1.sentence-1' class='sentence'><a class='index' id=':expression,increment'></a><a class='index' id=':operator,increment'></a><a class='index' id=':postfix_++'></a>The value of a postfix <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> expression is the value obtained by
applying the lvalue-to-rvalue conversion (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>) to its operand<a class='hidden_link' href='#post.incr-1.sentence-1'>.</a></div> <div id='post.incr-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#post.incr-note-1'>1</a></i>:&ensp;<div id='post.incr-1.sentence-2' class='sentence'>The value obtained is a copy of the original value<a class='hidden_link' href='#post.incr-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='post.incr-1.sentence-3' class='sentence'>
The operand shall be a modifiable lvalue<a class='hidden_link' href='#post.incr-1.sentence-3'>.</a></div> <div id='post.incr-1.sentence-4' class='sentence'>The type of the operand shall
be an arithmetic type other than <span class='mathit'>cv</span> <span id=':bool____________'><span class='texttt'><span class='keyword'>bool</span></span></span>,
or a pointer to a complete object type<a class='hidden_link' href='#post.incr-1.sentence-4'>.</a></div> <div id='post.incr-1.sentence-5' class='sentence'>An operand with volatile-qualified type is deprecated;
see <a href='depr.volatile.type' title='D.4&emsp;Deprecated volatile types'>[depr.<span class='shy'></span>volatile.<span class='shy'></span>type]</a><a class='hidden_link' href='#post.incr-1.sentence-5'>.</a></div> <div id='post.incr-1.sentence-6' class='sentence'>The value of the operand object is modified (<a href='defns.access' title='3.1&emsp;access'>[defns.<span class='shy'></span>access]</a>)
as if it were the operand of the prefix <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> operator (<a href='#pre.incr' title='7.6.2.3&emsp;Increment and decrement'>[expr.<span class='shy'></span>pre.<span class='shy'></span>incr]</a>)<a class='hidden_link' href='#post.incr-1.sentence-6'>.</a></div> <div id='post.incr-1.sentence-7' class='sentence'>The
<a class='index' id=':value_computation'></a>value computation of the <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> expression is sequenced before the
modification of the operand object<a class='hidden_link' href='#post.incr-1.sentence-7'>.</a></div> <div id='post.incr-1.sentence-8' class='sentence'>With respect to an
indeterminately-sequenced function call, the operation of postfix
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> is
a single evaluation<a class='hidden_link' href='#post.incr-1.sentence-8'>.</a></div> <div id='post.incr-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#post.incr-note-2'>2</a></i>:&ensp;<div id='post.incr-1.sentence-9' class='sentence'>Therefore, a function call cannot intervene between the
lvalue-to-rvalue conversion and the side effect associated with any
single postfix <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> operator<a class='hidden_link' href='#post.incr-1.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='post.incr-1.sentence-10' class='sentence'>
The result is a prvalue<a class='hidden_link' href='#post.incr-1.sentence-10'>.</a></div> <div id='post.incr-1.sentence-11' class='sentence'>The type of the result is the cv-unqualified
version of the type of the operand<a class='hidden_link' href='#post.incr-1.sentence-11'>.</a></div></div></div><div class='para' id='post.incr-2'><div class='marginalizedparent'><a class='marginalized' href='#post.incr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4108'>#</a></div><div class='texpara'><div id='post.incr-2.sentence-1' class='sentence'><a class='index' id=':expression,decrement'></a><a class='index' id=':operator,decrement'></a><a class='index' id=':postfix_--'></a>The operand of postfix <span class='texttt'><span class='operator'>-</span><span class='operator'>-</span></span> is decremented analogously to the
postfix <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> operator<a class='hidden_link' href='#post.incr-2.sentence-1'>.</a></div> <div id='post.incr-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#post.incr-note-3'>3</a></i>:&ensp;<div id='post.incr-2.sentence-2' class='sentence'>For prefix increment and decrement, see <a href='#pre.incr' title='7.6.2.3&emsp;Increment and decrement'>[expr.<span class='shy'></span>pre.<span class='shy'></span>incr]</a><a class='hidden_link' href='#post.incr-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='dynamic.cast' class='section'><h4 ><a class='secnum' href='#dynamic.cast' style='min-width:95pt'>7.6.1.7</a> Dynamic cast <a class='abbr_ref' href='expr.dynamic.cast'>[expr.dynamic.cast]</a></h4><div class='para' id='dynamic.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4121'>#</a></div><div class='texpara'><div id='dynamic.cast-1.sentence-1' class='sentence'><a class='index' id=':expression,dynamic_cast'></a><a class='index' id=':cast,dynamic'></a>The result of the expression <span class='texttt'><span id=':dynamic_cast__'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> is the result of
converting the expression <span class='texttt'>v</span> to type <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-1.sentence-1'>.</a></div> <div id='dynamic.cast-1.sentence-2' class='sentence'><a class='index' id=':type,incomplete_____'></a><span class='texttt'>T</span> shall be a pointer or reference to a complete class type, or
“pointer to <span class='mathit'>cv</span> <span id=':void__________________'><span class='texttt'><span class='keyword'>void</span></span></span>”<a class='hidden_link' href='#dynamic.cast-1.sentence-2'>.</a></div> <div id='dynamic.cast-1.sentence-3' class='sentence'>The <span id=':dynamic_cast___'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> operator shall not cast
away constness (<a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#dynamic.cast-1.sentence-3'>.</a></div></div></div><div class='para' id='dynamic.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4131'>#</a></div><div class='texpara'><div id='dynamic.cast-2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer type, <span class='texttt'>v</span> shall be a prvalue of a
pointer to complete class type, and the result is a prvalue of type
<span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-2.sentence-1'>.</a></div> <div id='dynamic.cast-2.sentence-2' class='sentence'>If <span class='texttt'>T</span> is an lvalue reference type, <span class='texttt'>v</span> shall be
an lvalue of a complete class type, and the result is an lvalue of the
type referred to by <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-2.sentence-2'>.</a></div> <div id='dynamic.cast-2.sentence-3' class='sentence'>If <span class='texttt'>T</span> is an rvalue reference type,
<span class='texttt'>v</span> shall be a glvalue having a complete class type, and the
result is an xvalue of the type referred to by <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-2.sentence-3'>.</a></div></div></div><div class='para' id='dynamic.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4140'>#</a></div><div class='texpara'><div id='dynamic.cast-3.sentence-1' class='sentence'>If the type of <span class='texttt'>v</span> is the same as <span class='texttt'>T</span> (ignoring cv-qualifications),
the result is
<span class='texttt'>v</span> (converted if necessary)<a class='hidden_link' href='#dynamic.cast-3.sentence-1'>.</a></div></div></div><div class='para' id='dynamic.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4145'>#</a></div><div class='texpara'><div id='dynamic.cast-4.sentence-1' class='sentence'>If <span class='texttt'>T</span> is “pointer to <i >cv1</i> <span class='texttt'>B</span>” and <span class='texttt'>v</span> has
type “pointer to <i >cv2</i> <span class='texttt'>D</span>” such that <span class='texttt'>B</span> is a base
class of <span class='texttt'>D</span>, the result is a pointer to the unique <span class='texttt'>B</span>
subobject of the <span class='texttt'>D</span> object pointed to by <span class='texttt'>v</span>, or
a null pointer value if <span class='texttt'>v</span> is a null pointer value<a class='hidden_link' href='#dynamic.cast-4.sentence-1'>.</a></div> <div id='dynamic.cast-4.sentence-2' class='sentence'>Similarly, if
<span class='texttt'>T</span> is “reference to <i >cv1</i> <span class='texttt'>B</span>” and <span class='texttt'>v</span> has
type <i >cv2</i> <span class='texttt'>D</span> such that <span class='texttt'>B</span> is a base class of
<span class='texttt'>D</span>, the result is the unique <span class='texttt'>B</span> subobject of the <span class='texttt'>D</span>
object referred to by <span class='texttt'>v</span><a class='hidden_link' href='#dynamic.cast-4.sentence-2'>.</a><a class='footnoteref' href='#footnote-51' id='footnoteref-51' title='The most derived object ([intro.object]) pointed or referred to by v can contain other B objects as base classes, but these are ignored.'>51</a></div> <div id='dynamic.cast-4.sentence-3' class='sentence'>
In both the pointer and
reference cases, the program is ill-formed if <span class='texttt'>B</span> is an inaccessible or
ambiguous base class of <span class='texttt'>D</span><a class='hidden_link' href='#dynamic.cast-4.sentence-3'>.</a></div> <div id='dynamic.cast-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#dynamic.cast-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> foo<span class='parenthesis'>(</span>D<span class='operator'>*</span> dp<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  B<span class='operator'>*</span>  bp <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>dp<span class='parenthesis'>)</span>;    <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>B* bp = dp;</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='dynamic.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4175'>#</a></div><div class='texpara'><div id='dynamic.cast-5.sentence-1' class='sentence'>Otherwise, <span class='texttt'>v</span> shall be a pointer to or a glvalue of a
<a href='class.virtual#def:class,polymorphic' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'>polymorphic type</a><a class='hidden_link' href='#dynamic.cast-5.sentence-1'>.</a></div></div></div><div class='para' id='dynamic.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4179'>#</a></div><div class='texpara'><div id='dynamic.cast-6.sentence-1' class='sentence'>If <span class='texttt'>v</span> is a null pointer value, the result is a null pointer value<a class='hidden_link' href='#dynamic.cast-6.sentence-1'>.</a></div></div></div><div class='para' id='dynamic.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4182'>#</a></div><div class='texpara'><div id='dynamic.cast-7.sentence-1' class='sentence'>If <span class='texttt'>v</span> has type “pointer to <span class='mathit'>cv</span> <span class='texttt'>U</span>” and
<span class='texttt'>v</span> does not point to an object
whose type is similar (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) to <span class='texttt'>U</span> and
that is
within its lifetime or
within its period of construction or destruction (<a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a>),
the behavior is undefined<a class='hidden_link' href='#dynamic.cast-7.sentence-1'>.</a></div> <div id='dynamic.cast-7.sentence-2' class='sentence'>If <span class='texttt'>v</span> is a glvalue of type <span class='texttt'>U</span> and
<span class='texttt'>v</span> does not refer to an object
whose type is similar to <span class='texttt'>U</span> and
that is
within its lifetime or
within its period of construction or destruction,
the behavior is undefined<a class='hidden_link' href='#dynamic.cast-7.sentence-2'>.</a></div></div></div><div class='para' id='dynamic.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4198'>#</a></div><div class='texpara'><div id='dynamic.cast-8.sentence-1' class='sentence'>If <span class='texttt'>T</span> is “pointer to <span class='mathit'>cv</span> <span id=':void___________________'><span class='texttt'><span class='keyword'>void</span></span></span>”, then the result
is a pointer to the most derived object pointed to by <span class='texttt'>v</span><a class='hidden_link' href='#dynamic.cast-8.sentence-1'>.</a></div> <div id='dynamic.cast-8.sentence-2' class='sentence'>Otherwise, a runtime check is applied to see if the object pointed or
referred to by <span class='texttt'>v</span> can be converted to the type pointed or
referred to by <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-8.sentence-2'>.</a></div></div></div><div class='para' id='dynamic.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4205'>#</a></div><div class='texpara'><div id='dynamic.cast-9.sentence-1' class='sentence'>Let <span class='texttt'>C</span> be the class type to which <span class='texttt'>T</span> points or refers<a class='hidden_link' href='#dynamic.cast-9.sentence-1'>.</a></div> <div id='dynamic.cast-9.sentence-2' class='sentence'>The runtime
check logically executes as follows:
<ul class='itemize'><li id='dynamic.cast-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dynamic.cast-9.1'>(9.1)</a></div><div class='texpara'><div id='dynamic.cast-9.1.sentence-1' class='sentence'>If, in the most derived object pointed (referred) to by <span class='texttt'>v</span>,
<span class='texttt'>v</span> points (refers) to a public base class subobject of a
<span class='texttt'>C</span> object, and if only one object of type <span class='texttt'>C</span> is derived
from the subobject pointed (referred) to by <span class='texttt'>v</span>,
the result points (refers) to that <span class='texttt'>C</span> object<a class='hidden_link' href='#dynamic.cast-9.1.sentence-1'>.</a></div></div></li><li id='dynamic.cast-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dynamic.cast-9.2'>(9.2)</a></div><div class='texpara'><div id='dynamic.cast-9.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>v</span> points (refers) to a public base
class subobject of the most derived object, and the type of the most
derived object has a base class, of type <span class='texttt'>C</span>, that is unambiguous
and public, the result points (refers) to the
<span class='texttt'>C</span> subobject of the most derived object<a class='hidden_link' href='#dynamic.cast-9.2.sentence-1'>.</a></div></div></li><li id='dynamic.cast-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dynamic.cast-9.3'>(9.3)</a></div><div class='texpara'><div id='dynamic.cast-9.3.sentence-1' class='sentence'>Otherwise, the
runtime check <a class='hidden_link' href='#def:fails' id='def:fails'><i>fails</i></a><a class='hidden_link' href='#dynamic.cast-9.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='dynamic.cast-10'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4225'>#</a></div><div class='texpara'><div id='dynamic.cast-10.sentence-1' class='sentence'>The value of a failed cast to pointer type is the null pointer value of
the required result type<a class='hidden_link' href='#dynamic.cast-10.sentence-1'>.</a></div> <div id='dynamic.cast-10.sentence-2' class='sentence'>A failed cast to reference type <a href='except.throw' title='14.2&emsp;Throwing an exception&emsp;[except.throw]'>throws
an exception</a> of a type that would match a
<a href='except.handle' title='14.4&emsp;Handling an exception&emsp;[except.handle]'>handler</a> of type <a href='bad.cast' title='17.7.4&emsp;Class bad_&shy;cast&emsp;[bad.cast]'><span class='texttt'>std&#x200b;::&#x200b;bad_<span class='shy'></span>cast</span></a><a class='hidden_link' href='#dynamic.cast-10.sentence-2'>.</a></div></div><div class='texpara'><a class='index' id=':bad_cast'></a><a class='index' id='lib:bad_cast'></a><div id='dynamic.cast-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#dynamic.cast-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> A, <span class='keyword'>private</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D   d;
  B<span class='operator'>*</span>  bp <span class='operator'>=</span> <span class='parenthesis'>(</span>B<span class='operator'>*</span><span class='parenthesis'>)</span><span class='operator'>&amp;</span>d;                  <span class='comment'>// cast needed to break protection</span>
  A<span class='operator'>*</span>  ap <span class='operator'>=</span> <span class='operator'>&amp;</span>d;                      <span class='comment'>// public derivation, no cast needed</span>
  D<span class='operator'>&amp;</span>  dr <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>D<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span>bp<span class='parenthesis'>)</span>;   <span class='comment'>// fails</span>
  ap <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>A<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>bp<span class='parenthesis'>)</span>;        <span class='comment'>// fails</span>
  bp <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>ap<span class='parenthesis'>)</span>;        <span class='comment'>// fails</span>
  ap <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>A<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;        <span class='comment'>// succeeds</span>
  bp <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;        <span class='comment'>// ill-formed (not a runtime check)</span>
<span class='curlybracket'>}</span>

<span class='keyword'>class</span> E <span class='operator'>:</span> <span class='keyword'>public</span> D, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> F <span class='operator'>:</span> <span class='keyword'>public</span> E, <span class='keyword'>public</span> D <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  F   f;
  A<span class='operator'>*</span>  ap  <span class='operator'>=</span> <span class='operator'>&amp;</span>f;                     <span class='comment'>// succeeds: finds unique <span class='tcode_in_codeblock'>A</span></span>
  D<span class='operator'>*</span>  dp  <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>D<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>ap<span class='parenthesis'>)</span>;   <span class='comment'>// fails: yields null; <span class='tcode_in_codeblock'>f</span> has two <span class='tcode_in_codeblock'>D</span> subobjects</span>
  E<span class='operator'>*</span>  ep  <span class='operator'>=</span> <span class='parenthesis'>(</span>E<span class='operator'>*</span><span class='parenthesis'>)</span>ap;                 <span class='comment'>// error: cast from virtual base</span>
  E<span class='operator'>*</span>  ep1 <span class='operator'>=</span> <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>E<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>ap<span class='parenthesis'>)</span>;   <span class='comment'>// succeeds</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div>
<div id='dynamic.cast-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dynamic.cast-note-1'>1</a></i>:&ensp;<div id='dynamic.cast-10.sentence-3' class='sentence'>Subclause <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a> describes the behavior of a <span id=':dynamic_cast____'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>
applied to an object under construction or destruction<a class='hidden_link' href='#dynamic.cast-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-51'><div class='texpara'><a class='footnotenum' href='#footnote-51'>51)</a><a class='footnoteBacklink' href='#footnoteref-51'>51)</a> <div id='footnote-51.sentence-1' class='sentence'>The most derived
object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) pointed or referred to by
<span class='texttt'>v</span> can contain other <span class='texttt'>B</span> objects as base classes, but these
are ignored<a class='hidden_link' href='#footnote-51.sentence-1'>.</a></div></div></div></div><div id='typeid' class='section'><h4 ><a class='secnum' href='#typeid' style='min-width:95pt'>7.6.1.8</a> Type identification <a class='abbr_ref' href='expr.typeid'>[expr.typeid]</a></h4><div class='para' id='typeid-1'><div class='marginalizedparent'><a class='marginalized' href='#typeid-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4267'>#</a></div><div class='texpara'><div id='typeid-1.sentence-1' class='sentence'><a class='index' id=':expression,type_identification'></a><a class='index' id=':typeid___'></a>The result of a <span id=':typeid____'><span class='texttt'><span class='keyword'>typeid</span></span></span> expression is an lvalue of static type
<a class='index' id=':type_info'></a><a class='index' id='lib:type_info'></a><span id=':const__________________'><span class='texttt'><span class='keyword'>const</span></span></span> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> (<a href='type.info' title='17.7.3&emsp;Class type_&shy;info'>[type.<span class='shy'></span>info]</a>) and dynamic type <span id=':const___________________'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> or <span id=':const____________________'><span class='texttt'><span class='keyword'>const</span></span></span> <a class='hidden_link' href='#def:name' id='def:name'><i>name</i></a> where <a class='hidden_link' href='#def:name' id='def:name'><i>name</i></a> is an
<a class='index' id=':derived_type_for_typeid'></a>implementation-defined class publicly derived from
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> which preserves the behavior described
in <a href='type.info' title='17.7.3&emsp;Class type_&shy;info'>[type.<span class='shy'></span>info]</a><a class='hidden_link' href='#typeid-1.sentence-1'>.</a><a class='footnoteref' href='#footnote-52' id='footnoteref-52' title='The recommended name for such a class is extended_&shy;type_&shy;info.'>52</a></div> <div id='typeid-1.sentence-2' class='sentence'>
The lifetime of the object referred to by the lvalue extends to the end
of the program<a class='hidden_link' href='#typeid-1.sentence-2'>.</a></div> <div id='typeid-1.sentence-3' class='sentence'>Whether or not the destructor is called for the
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> object at the end of the program is unspecified<a class='hidden_link' href='#typeid-1.sentence-3'>.</a></div></div></div><div class='para' id='typeid-2'><div class='marginalizedparent'><a class='marginalized' href='#typeid-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4286'>#</a></div><div class='texpara'><div id='typeid-2.sentence-1' class='sentence'>If the type of the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_________________'><span class='textsf'><i >expression</i></span></span></a> or <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_______'><span class='textsf'><i >type-id</i></span></span></a> operand is
a (possibly cv-qualified) class type or
a reference to (possibly cv-qualified) class type,
that class shall be completely defined<a class='hidden_link' href='#typeid-2.sentence-1'>.</a></div></div></div><div class='para' id='typeid-3'><div class='marginalizedparent'><a class='marginalized' href='#typeid-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4292'>#</a></div><div class='texpara'><div id='typeid-3.sentence-1' class='sentence'>If an <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__________________'><span class='textsf'><i >expression</i></span></span></a> operand of <span id=':typeid_____'><span class='texttt'><span class='keyword'>typeid</span></span></span> is
a possibly-parenthesized <a href='#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression'><span class='textsf'><i >unary-expression</i></span></span></a>
whose <a href='#nt:unary-operator' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-operator'><span class='textsf'><i >unary-operator</i></span></span></a> is <span class='texttt'><span class='operator'>*</span></span> and
whose operand evaluates to a null pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>),
the <span id=':typeid______'><span class='texttt'><span class='keyword'>typeid</span></span></span> expression throws an exception (<a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a>)
of a type that would match a handler of type
<a class='index' id=':bad_typeid'></a><a class='index' id='lib:bad_typeid'></a><span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>bad_<span class='shy'></span>typeid</span> (<a href='bad.typeid' title='17.7.5&emsp;Class bad_&shy;typeid'>[bad.<span class='shy'></span>typeid]</a>)<a class='hidden_link' href='#typeid-3.sentence-1'>.</a></div> <div id='typeid-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#typeid-note-1'>1</a></i>:&ensp;<div id='typeid-3.sentence-2' class='sentence'>In other contexts, evaluating such a <a href='#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression_'><span class='textsf'><i >unary-expression</i></span></span></a>
results in undefined behavior (<a href='#unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>)<a class='hidden_link' href='#typeid-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='typeid-4'><div class='marginalizedparent'><a class='marginalized' href='#typeid-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4307'>#</a></div><div class='texpara'><div id='typeid-4.sentence-1' class='sentence'>When <span id=':typeid_______'><span class='texttt'><span class='keyword'>typeid</span></span></span> is applied to a glvalue whose type is a
polymorphic class type (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>), the result refers to a
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> object representing the type of the most derived
object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) (that is, the dynamic type) to which the
glvalue refers<a class='hidden_link' href='#typeid-4.sentence-1'>.</a></div></div></div><div class='para' id='typeid-5'><div class='marginalizedparent'><a class='marginalized' href='#typeid-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4314'>#</a></div><div class='texpara'><div id='typeid-5.sentence-1' class='sentence'>When <span id=':typeid________'><span class='texttt'><span class='keyword'>typeid</span></span></span> is applied to an expression other than a glvalue of
a polymorphic class type, the result refers to a <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span>
object representing the static type of the expression<a class='hidden_link' href='#typeid-5.sentence-1'>.</a></div> <div id='typeid-5.sentence-2' class='sentence'><a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>Lvalue-to-rvalue</a>, <a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer</a>,
and <a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a> conversions are not applied to
the expression<a class='hidden_link' href='#typeid-5.sentence-2'>.</a></div> <div id='typeid-5.sentence-3' class='sentence'>If the expression is a prvalue,
the <a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion&emsp;[conv.rval]'>temporary materialization conversion</a>
is applied<a class='hidden_link' href='#typeid-5.sentence-3'>.</a></div> <div id='typeid-5.sentence-4' class='sentence'>The expression is an <a href='#def:unevaluated_operand' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'>unevaluated operand</a><a class='hidden_link' href='#typeid-5.sentence-4'>.</a></div></div></div><div class='para' id='typeid-6'><div class='marginalizedparent'><a class='marginalized' href='#typeid-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4326'>#</a></div><div class='texpara'><div id='typeid-6.sentence-1' class='sentence'>When <span id=':typeid_________'><span class='texttt'><span class='keyword'>typeid</span></span></span> is applied to a <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id________'><span class='textsf'><i >type-id</i></span></span></a>, the result
refers to a <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> object representing the type of the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_________'><span class='textsf'><i >type-id</i></span></span></a><a class='hidden_link' href='#typeid-6.sentence-1'>.</a></div> <div id='typeid-6.sentence-2' class='sentence'>If the type of the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__________'><span class='textsf'><i >type-id</i></span></span></a> is a reference
to a possibly cv-qualified type, the result of the
<span id=':typeid__________'><span class='texttt'><span class='keyword'>typeid</span></span></span> expression refers to a <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> object
representing the cv-unqualified referenced type<a class='hidden_link' href='#typeid-6.sentence-2'>.</a></div> <div id='typeid-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#typeid-note-2'>2</a></i>:&ensp;<div id='typeid-6.sentence-3' class='sentence'>The <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___________'><span class='textsf'><i >type-id</i></span></span></a> cannot denote a function type with
a <a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq___'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a> or a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#typeid-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='typeid-7'><div class='marginalizedparent'><a class='marginalized' href='#typeid-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4338'>#</a></div><div class='texpara'><div id='typeid-7.sentence-1' class='sentence'>If the type of the expression or <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____________'><span class='textsf'><i >type-id</i></span></span></a> is a
cv-qualified type, the result of the <span id=':typeid___________'><span class='texttt'><span class='keyword'>typeid</span></span></span> expression refers
to a <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> object representing the cv-unqualified
type<a class='hidden_link' href='#typeid-7.sentence-1'>.</a></div> <div id='typeid-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#typeid-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> D <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
D d1;
<span class='keyword'>const</span> D d2;

<span class='keyword'>typeid</span><span class='parenthesis'>(</span>d1<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span>d2<span class='parenthesis'>)</span>;       <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span></span>
<span class='keyword'>typeid</span><span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>  <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span><span class='keyword'>const</span> D<span class='parenthesis'>)</span>;  <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span></span>
<span class='keyword'>typeid</span><span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>  <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span>d2<span class='parenthesis'>)</span>;       <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span></span>
<span class='keyword'>typeid</span><span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>  <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span><span class='keyword'>const</span> D<span class='operator'>&amp;</span><span class='parenthesis'>)</span>; <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='typeid-8'><div class='marginalizedparent'><a class='marginalized' href='#typeid-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4356'>#</a></div><div class='texpara'><div id='typeid-8.sentence-1' class='sentence'>The type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> (<a href='type.info' title='17.7.3&emsp;Class type_&shy;info'>[type.<span class='shy'></span>info]</a>) is not predefined;
if a standard library declaration (<a href='typeinfo.syn' title='17.7.2&emsp;Header &lt;typeinfo&gt; synopsis'>[typeinfo.<span class='shy'></span>syn]</a>, <a href='std.modules' title='16.4.2.4&emsp;Modules'>[std.<span class='shy'></span>modules]</a>) of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span> does not precede (<a href='basic.lookup.general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>)
a <span class='texttt'><span class='keyword'>typeid</span></span> expression, the program is ill-formed<a class='hidden_link' href='#typeid-8.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='typeid-9'><div class='marginalizedparent'><a class='marginalized' href='#typeid-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4362'>#</a></div><div class='texpara'><div id='typeid-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#typeid-note-3'>3</a></i>:&ensp;<div id='typeid-9.sentence-1' class='sentence'>Subclause <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a> describes the behavior of <span id=':typeid____________'><span class='texttt'><span class='keyword'>typeid</span></span></span>
applied to an object under construction or destruction<a class='hidden_link' href='#typeid-9.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-52'><div class='texpara'><a class='footnotenum' href='#footnote-52'>52)</a><a class='footnoteBacklink' href='#footnoteref-52'>52)</a> <div id='footnote-52.sentence-1' class='sentence'>The recommended name for such a class is
<span class='texttt'>extended_<span class='shy'></span>type_<span class='shy'></span>info</span><a class='hidden_link' href='#footnote-52.sentence-1'>.</a></div></div></div></div><div id='static.cast' class='section'><h4 ><a class='secnum' href='#static.cast' style='min-width:95pt'>7.6.1.9</a> Static cast <a class='abbr_ref' href='expr.static.cast'>[expr.static.cast]</a></h4><div class='para' id='static.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4370'>#</a></div><div class='texpara'><div id='static.cast-1.sentence-1' class='sentence'><a class='index' id=':expression,static_cast'></a><a class='index' id=':cast,static'></a>The result of the expression <span class='texttt'><span id=':static_cast___'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> is the result of
converting the expression <span class='texttt'>v</span> to type <span class='texttt'>T</span><a class='hidden_link' href='#static.cast-1.sentence-1'>.</a></div> <div id='static.cast-1.sentence-2' class='sentence'><a class='index' id=':cast,static,lvalue'></a><a class='index' id=':cast,lvalue'></a>If <span class='texttt'>T</span> is an lvalue reference type
or an rvalue reference to function type, the result is an lvalue;
if <span class='texttt'>T</span> is an rvalue reference to object type, the result is an xvalue;
otherwise, the result is a prvalue<a class='hidden_link' href='#static.cast-1.sentence-2'>.</a></div> <div id='static.cast-1.sentence-3' class='sentence'>The <span id=':static_cast____'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> operator shall not cast
away constness (<a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#static.cast-1.sentence-3'>.</a></div></div></div><div class='para' id='static.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4383'>#</a></div><div class='texpara'><div id='static.cast-2.sentence-1' class='sentence'><a class='index' id=':cast,static,reference'></a><a class='index' id=':cast,reference'></a>An lvalue of type “<i >cv1</i> <span class='texttt'>B</span>”, where <span class='texttt'>B</span> is a class
type, can be cast to type “reference to <i >cv2</i> <span class='texttt'>D</span>”, where
<span class='texttt'>D</span> is a complete class derived (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>) from <span class='texttt'>B</span>,
if <i >cv2</i> is the
same cv-qualification as, or greater cv-qualification than,
<i >cv1</i><a class='hidden_link' href='#static.cast-2.sentence-1'>.</a></div> <div id='static.cast-2.sentence-2' class='sentence'>If <span class='texttt'>B</span> is a virtual base class of <span class='texttt'>D</span>
or a base class of a virtual base class of <span class='texttt'>D</span>,
or if no valid standard conversion from “pointer to <span class='texttt'>D</span>”
to “pointer to <span class='texttt'>B</span>” exists (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>), the program is ill-formed<a class='hidden_link' href='#static.cast-2.sentence-2'>.</a></div> <div id='static.cast-2.sentence-3' class='sentence'>An xvalue of type
“<i >cv1</i> <span class='texttt'>B</span>” can be cast to type “rvalue reference to
<i >cv2</i> <span class='texttt'>D</span>” with the same constraints as for an lvalue of
type “<i >cv1</i> <span class='texttt'>B</span>”<a class='hidden_link' href='#static.cast-2.sentence-3'>.</a></div> <div id='static.cast-2.sentence-4' class='sentence'>If the object
of type “<i >cv1</i> <span class='texttt'>B</span>” is actually a base class subobject of an object
of type <span class='texttt'>D</span>, the result refers to the enclosing object of type
<span class='texttt'>D</span><a class='hidden_link' href='#static.cast-2.sentence-4'>.</a></div> <div id='static.cast-2.sentence-5' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#static.cast-2.sentence-5'>.</a></div> <div id='static.cast-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#static.cast-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
D d;
B <span class='operator'>&amp;</span>br <span class='operator'>=</span> d;

<span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>D<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>br<span class='parenthesis'>)</span>;            <span class='comment'>// produces lvalue denoting the original <span class='tcode_in_codeblock'>d</span> object</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='static.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4413'>#</a></div><div class='texpara'><div id='static.cast-3.sentence-1' class='sentence'>An lvalue
of type <span class='texttt'>T1</span> can be cast to type “rvalue
reference to <span class='texttt'>T2</span>” if <span class='texttt'>T2</span> is reference-compatible with
<span class='texttt'>T1</span> (<a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#static.cast-3.sentence-1'>.</a></div> <div id='static.cast-3.sentence-2' class='sentence'>If the value is not a bit-field,
the result refers to the object or the specified base class subobject
thereof; otherwise, the <a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue conversion</a>
is applied to the bit-field and the resulting prvalue is used as the
operand of the <span id=':static_cast_____'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> for the remainder of this subclause<a class='hidden_link' href='#static.cast-3.sentence-2'>.</a></div> <div id='static.cast-3.sentence-3' class='sentence'>If <span class='texttt'>T2</span> is an inaccessible (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) or
ambiguous (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>) base class of <span class='texttt'>T1</span>,
a program that necessitates such a cast is ill-formed<a class='hidden_link' href='#static.cast-3.sentence-3'>.</a></div></div></div><div class='para' id='static.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4426'>#</a></div><div class='texpara'><div id='static.cast-4.sentence-1' class='sentence'>Any expression can be explicitly converted to type <span class='mathit'>cv</span> <span id=':void____________________'><span class='texttt'><span class='keyword'>void</span></span></span>,
in which case the operand is a discarded-value expression (<a href='#prop' title='7.2&emsp;Properties of expressions'>[expr.<span class='shy'></span>prop]</a>)<a class='hidden_link' href='#static.cast-4.sentence-1'>.</a></div> <div id='static.cast-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.cast-note-1'>1</a></i>:&ensp;<div id='static.cast-4.sentence-2' class='sentence'>Such a <span id=':static_cast______'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> has no result
as it is a prvalue of type <span id=':void_____________________'><span class='texttt'><span class='keyword'>void</span></span></span>; see <a href='#basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#static.cast-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='static.cast-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.cast-note-2'>2</a></i>:&ensp;<div id='static.cast-4.sentence-3' class='sentence'>However, if the value is in a temporary
object (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>), the destructor for that
object is
not executed until the usual time, and the value of the object is
preserved for the purpose of executing the destructor<a class='hidden_link' href='#static.cast-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='static.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4441'>#</a></div><div class='texpara'><div id='static.cast-5.sentence-1' class='sentence'>Otherwise, an expression <span class='math'><span class='mathalpha'>E</span></span> can be explicitly converted to a type <span class='texttt'>T</span>
if there is an implicit conversion sequence (<a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)
from <span class='math'><span class='mathalpha'>E</span></span> to <span class='texttt'>T</span>,
if overload resolution for a direct-initialization (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
of an object or reference of type <span class='texttt'>T</span> from <span class='math'><span class='mathalpha'>E</span></span>
would find at least one viable function (<a href='over.match.viable' title='12.2.3&emsp;Viable functions'>[over.<span class='shy'></span>match.<span class='shy'></span>viable]</a>), or
if <span class='texttt'>T</span> is an aggregate type (<a href='dcl.init.aggr' title='9.5.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)
having a first element <span class='texttt'>x</span> and
there is an implicit conversion sequence
from <span class='math'><span class='mathalpha'>E</span></span> to the type of <span class='texttt'>x</span><a class='hidden_link' href='#static.cast-5.sentence-1'>.</a></div> <div id='static.cast-5.sentence-2' class='sentence'>If <span class='texttt'>T</span> is a reference type, the effect is
the same as performing the declaration and initialization
<span class='codeblock'>T t<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>E</span></span><span class='parenthesis'>)</span>;
</span>
for some invented temporary variable <span class='texttt'>t</span> (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
and then using the temporary variable as the result of the conversion<a class='hidden_link' href='#static.cast-5.sentence-2'>.</a></div> <div id='static.cast-5.sentence-3' class='sentence'>Otherwise, the result object is direct-initialized from <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#static.cast-5.sentence-3'>.</a></div> <div id='static.cast-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.cast-note-3'>3</a></i>:&ensp;<div id='static.cast-5.sentence-4' class='sentence'>The conversion is ill-formed when attempting to convert an
expression of class type to an inaccessible or ambiguous base class<a class='hidden_link' href='#static.cast-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='static.cast-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.cast-note-4'>4</a></i>:&ensp;<div id='static.cast-5.sentence-5' class='sentence'>If <span class='texttt'>T</span> is “array of unknown bound of <span class='texttt'>U</span>”,
this direct-initialization defines the type of the expression as <span class='texttt'>U<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#static.cast-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='static.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4469'>#</a></div><div class='texpara'><div id='static.cast-6.sentence-1' class='sentence'>Otherwise,
the inverse of a standard conversion sequence (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>) not containing an
lvalue-to-rvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>),
array-to-pointer (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>),
function-to-pointer (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>),
null pointer (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>), null member pointer (<a href='#conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>),
boolean (<a href='#conv.bool' title='7.3.15&emsp;Boolean conversions'>[conv.<span class='shy'></span>bool]</a>), or
function pointer (<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>)
conversion, can be performed explicitly using <span id=':static_cast_______'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#static.cast-6.sentence-1'>.</a></div> <div id='static.cast-6.sentence-2' class='sentence'>A
program is ill-formed if it uses <span id=':static_cast________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> to perform the
inverse of an ill-formed standard conversion sequence<a class='hidden_link' href='#static.cast-6.sentence-2'>.</a></div> <div id='static.cast-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#static.cast-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>D<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>B<span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='parenthesis'>)</span>;               <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> is a private base of <span class='tcode_in_codeblock'>D</span></span>
  <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> B<span class='operator'>::</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='keyword'>int</span> D<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> is a private base of <span class='tcode_in_codeblock'>D</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='static.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4492'>#</a></div><div class='texpara'><div id='static.cast-7.sentence-1' class='sentence'>The lvalue-to-rvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>),
array-to-pointer (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>), and
function-to-pointer (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>) conversions are applied to the
operand<a class='hidden_link' href='#static.cast-7.sentence-1'>.</a></div> <div id='static.cast-7.sentence-2' class='sentence'>Such a <span id=':static_cast_________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> is subject to the restriction that
the explicit conversion does not cast away
constness (<a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>), and the following additional rules
for specific cases:</div></div></div><div class='para' id='static.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4501'>#</a></div><div class='texpara'><div id='static.cast-8.sentence-1' class='sentence'>A value of a scoped enumeration type (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>)
can be explicitly converted to an integral type;
the result is the same as that of converting
to the enumeration's underlying type and then to the destination type<a class='hidden_link' href='#static.cast-8.sentence-1'>.</a></div> <div id='static.cast-8.sentence-2' class='sentence'>A value of a scoped enumeration type
can also be explicitly converted to a floating-point type;
the result is the same as that of converting
from the original value to the floating-point type<a class='hidden_link' href='#static.cast-8.sentence-2'>.</a></div></div></div><div class='para' id='static.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4511'>#</a></div><div class='texpara'><div id='static.cast-9.sentence-1' class='sentence'><a class='index' id=':enumeration_type,conversion_to'></a><a class='index' id=':enumeration_type,static_cast,conversion_to'></a>A value of integral or enumeration type can be explicitly converted to
a complete enumeration type<a class='hidden_link' href='#static.cast-9.sentence-1'>.</a></div> <div id='static.cast-9.sentence-2' class='sentence'>If the enumeration type has a fixed underlying type,
the value is first converted to that type
by
integral promotion (<a href='#conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>) or integral conversion (<a href='#conv.integral' title='7.3.9&emsp;Integral conversions'>[conv.<span class='shy'></span>integral]</a>),
if necessary, and
then to the enumeration type<a class='hidden_link' href='#static.cast-9.sentence-2'>.</a></div> <div id='static.cast-9.sentence-3' class='sentence'>If the enumeration type does not have a fixed underlying type,
the value is unchanged
if the original value is within the range
of the enumeration values (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>), and
otherwise, the behavior is undefined<a class='hidden_link' href='#static.cast-9.sentence-3'>.</a></div> <div id='static.cast-9.sentence-4' class='sentence'>A value of floating-point type can also be explicitly converted to an enumeration type<a class='hidden_link' href='#static.cast-9.sentence-4'>.</a></div> <div id='static.cast-9.sentence-5' class='sentence'>The resulting value is the same as converting the original value to the
underlying type of the enumeration (<a href='#conv.fpint' title='7.3.11&emsp;Floating-integral conversions'>[conv.<span class='shy'></span>fpint]</a>), and subsequently to
the enumeration type<a class='hidden_link' href='#static.cast-9.sentence-5'>.</a></div></div></div><div class='para' id='static.cast-10'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4532'>#</a></div><div class='texpara'><div id='static.cast-10.sentence-1' class='sentence'>A prvalue of floating-point type can be explicitly converted to
any other floating-point type<a class='hidden_link' href='#static.cast-10.sentence-1'>.</a></div> <div id='static.cast-10.sentence-2' class='sentence'>If the source value can be exactly represented in the destination type,
the result of the conversion has that exact representation<a class='hidden_link' href='#static.cast-10.sentence-2'>.</a></div> <div id='static.cast-10.sentence-3' class='sentence'>If the source value is between two adjacent destination values,
the result of the conversion is
an <a class='index' id=':result_of_inexact_floating-point_conversion_'></a>implementation-defined choice of
either of those values<a class='hidden_link' href='#static.cast-10.sentence-3'>.</a></div> <div id='static.cast-10.sentence-4' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#static.cast-10.sentence-4'>.</a></div></div></div><div class='para' id='static.cast-11'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4543'>#</a></div><div class='texpara'><div id='static.cast-11.sentence-1' class='sentence'><a class='index' id=':cast,base_class'></a><a class='index' id=':cast,derived_class'></a>A prvalue of type “pointer to <i >cv1</i> <span class='texttt'>B</span>”, where <span class='texttt'>B</span>
is a class type, can be converted to a prvalue of type “pointer to
<i >cv2</i> <span class='texttt'>D</span>”,
where <span class='texttt'>D</span> is a complete class
<a href='class.derived' title='11.7&emsp;Derived classes&emsp;[class.derived]'>derived</a>
from <span class='texttt'>B</span>,
if <i >cv2</i> is the same cv-qualification as,
or greater cv-qualification than, <i >cv1</i><a class='hidden_link' href='#static.cast-11.sentence-1'>.</a></div> <div id='static.cast-11.sentence-2' class='sentence'>If <span class='texttt'>B</span> is a virtual base class of <span class='texttt'>D</span> or
a base class of a virtual base class of <span class='texttt'>D</span>, or
if no valid standard conversion from “pointer to <span class='texttt'>D</span>”
to “pointer to <span class='texttt'>B</span>” exists (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>), the program is ill-formed<a class='hidden_link' href='#static.cast-11.sentence-2'>.</a></div> <div id='static.cast-11.sentence-3' class='sentence'>The null pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) is converted
to the null pointer value of the destination type<a class='hidden_link' href='#static.cast-11.sentence-3'>.</a></div> <div id='static.cast-11.sentence-4' class='sentence'>If the prvalue of type
“pointer to <i >cv1</i> <span class='texttt'>B</span>” points to a <span class='texttt'>B</span> that is
actually a base class subobject of an object of type <span class='texttt'>D</span>, the resulting
pointer points to the enclosing object of type <span class='texttt'>D</span><a class='hidden_link' href='#static.cast-11.sentence-4'>.</a></div> <div id='static.cast-11.sentence-5' class='sentence'>Otherwise, the
behavior is undefined<a class='hidden_link' href='#static.cast-11.sentence-5'>.</a></div></div></div><div class='para' id='static.cast-12'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4565'>#</a></div><div class='texpara'><div id='static.cast-12.sentence-1' class='sentence'><a class='index' id=':cast,pointer-to-member'></a>A prvalue of type “pointer to member of <span class='texttt'>D</span> of type <i >cv1</i>
<span class='texttt'>T</span>” can be converted to a prvalue of type “pointer to member of
<span class='texttt'>B</span> of type <i >cv2</i> <span class='texttt'>T</span>”, where
<span class='texttt'>D</span> is a complete class type and
<span class='texttt'>B</span> is a <a href='class.derived' title='11.7&emsp;Derived classes&emsp;[class.derived]'>base class</a> of <span class='texttt'>D</span>,
if <i >cv2</i> is the same cv-qualification
as, or greater cv-qualification than, <i >cv1</i><a class='hidden_link' href='#static.cast-12.sentence-1'>.</a></div> <div id='static.cast-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.cast-note-5'>5</a></i>:&ensp;<div id='static.cast-12.sentence-2' class='sentence'>Function types (including those used in pointer-to-member-function types)
are never cv-qualified (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#static.cast-12.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='static.cast-12.sentence-3' class='sentence'>
If no valid standard conversion
from “pointer to member of <span class='texttt'>B</span> of type <span class='texttt'>T</span>”
to “pointer to member of <span class='texttt'>D</span> of type <span class='texttt'>T</span>”
exists (<a href='#conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>), the program is ill-formed<a class='hidden_link' href='#static.cast-12.sentence-3'>.</a></div> <div id='static.cast-12.sentence-4' class='sentence'>The <a href='#def:value,null_member_pointer' title='7.3.13&emsp;Pointer-to-member conversions&emsp;[conv.mem]'>null member pointer value</a> is converted to the null
member pointer value of the destination type<a class='hidden_link' href='#static.cast-12.sentence-4'>.</a></div> <div id='static.cast-12.sentence-5' class='sentence'>If class <span class='texttt'>B</span>
contains the original member, or is a base class of the class
containing the original member, the resulting pointer to member points
to the original member<a class='hidden_link' href='#static.cast-12.sentence-5'>.</a></div> <div id='static.cast-12.sentence-6' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#static.cast-12.sentence-6'>.</a></div> <div id='static.cast-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.cast-note-6'>6</a></i>:&ensp;<div id='static.cast-12.sentence-7' class='sentence'>Although class <span class='texttt'>B</span> need not contain the original member, the
dynamic type of the object with which indirection through the pointer
to member is performed must contain the original member;
see <a href='#mptr.oper' title='7.6.4&emsp;Pointer-to-member operators'>[expr.<span class='shy'></span>mptr.<span class='shy'></span>oper]</a><a class='hidden_link' href='#static.cast-12.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='static.cast-13'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4594'>#</a></div><div class='texpara'><div id='static.cast-13.sentence-1' class='sentence'>A prvalue of type “pointer to <i >cv1</i> <span id=':void______________________'><span class='texttt'><span class='keyword'>void</span></span></span>” can be
converted to a prvalue of type “pointer to <i >cv2</i> <span class='texttt'>T</span>”,
where <span class='texttt'>T</span> is an object type and <i >cv2</i> is the same
cv-qualification as, or greater cv-qualification than, <i >cv1</i><a class='hidden_link' href='#static.cast-13.sentence-1'>.</a></div> <div id='static.cast-13.sentence-2' class='sentence'>If the original pointer value represents the address
<span class='texttt'>A</span> of a byte in memory and
<span class='texttt'>A</span> does not satisfy the alignment requirement of <span class='texttt'>T</span>,
then the resulting pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) is unspecified<a class='hidden_link' href='#static.cast-13.sentence-2'>.</a></div> <div id='static.cast-13.sentence-3' class='sentence'>Otherwise, if the original pointer value points to an object <i >a</i>,
and there is an object <i >b</i> of type similar to <span class='texttt'>T</span>
that is <a href='basic.compound#def:pointer-interconvertible' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'>pointer-interconvertible</a> with <i >a</i>,
the result is a pointer to <i >b</i><a class='hidden_link' href='#static.cast-13.sentence-3'>.</a></div> <div id='static.cast-13.sentence-4' class='sentence'>Otherwise, the pointer value is unchanged by the conversion<a class='hidden_link' href='#static.cast-13.sentence-4'>.</a></div> <div id='static.cast-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#static.cast-example-3'>3</a></i>:&ensp;<span class='codeblock'>T<span class='operator'>*</span> p1 <span class='operator'>=</span> <span class='keyword'>new</span> T;
<span class='keyword'>const</span> T<span class='operator'>*</span> p2 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span> b <span class='operator'>=</span> p1 <span class='operator'>=</span><span class='operator'>=</span> p2;  <span class='comment'>// <span class='tcode_in_codeblock'>b</span> will have the value <span class='tcode_in_codeblock'>true</span>.</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='static.cast-14'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4616'>#</a></div><div class='texpara'><div id='static.cast-14.sentence-1' class='sentence'>No other conversion can be performed using <span id=':static_cast__________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#static.cast-14.sentence-1'>.</a></div></div></div></div><div id='reinterpret.cast' class='section'><h4 ><a class='secnum' href='#reinterpret.cast' style='min-width:95pt'>7.6.1.10</a> Reinterpret cast <a class='abbr_ref' href='expr.reinterpret.cast'>[expr.reinterpret.cast]</a></h4><div class='para' id='reinterpret.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4621'>#</a></div><div class='texpara'><div id='reinterpret.cast-1.sentence-1' class='sentence'><a class='index' id=':expression,reinterpret_cast'></a><a class='index' id=':cast,reinterpret'></a>The result of the expression <span class='texttt'><span id=':reinterpret_cast____'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> is the
result of converting the expression <span class='texttt'>v</span> to type <span class='texttt'>T</span><a class='hidden_link' href='#reinterpret.cast-1.sentence-1'>.</a></div> <div id='reinterpret.cast-1.sentence-2' class='sentence'><a class='index' id=':cast,reinterpret,lvalue'></a><a class='index' id=':cast,lvalue_'></a>If <span class='texttt'>T</span> is an lvalue reference type or an rvalue reference to function type, the result is an lvalue;
if <span class='texttt'>T</span> is an rvalue reference to object type, the result is an xvalue;
otherwise, the result is a prvalue and the
<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue</a>, <a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer</a>,
and <a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a> standard conversions are
performed on the expression <span class='texttt'>v</span><a class='hidden_link' href='#reinterpret.cast-1.sentence-2'>.</a></div> <div id='reinterpret.cast-1.sentence-3' class='sentence'>Conversions that can be performed explicitly
using <span id=':reinterpret_cast_____'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> are listed below<a class='hidden_link' href='#reinterpret.cast-1.sentence-3'>.</a></div> <div id='reinterpret.cast-1.sentence-4' class='sentence'>No other conversion can
be performed explicitly using <span id=':reinterpret_cast______'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#reinterpret.cast-1.sentence-4'>.</a></div></div></div><div class='para' id='reinterpret.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4637'>#</a></div><div class='texpara'><div id='reinterpret.cast-2.sentence-1' class='sentence'>The <span id=':reinterpret_cast_______'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> operator shall not cast away constness (<a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#reinterpret.cast-2.sentence-1'>.</a></div> <div id='reinterpret.cast-2.sentence-2' class='sentence'>An expression of integral, enumeration, pointer, or pointer-to-member type
can be explicitly converted to its own type; such a cast yields the value of
its operand<a class='hidden_link' href='#reinterpret.cast-2.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='reinterpret.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4643'>#</a></div><div class='texpara'><div id='reinterpret.cast-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#reinterpret.cast-note-1'>1</a></i>:&ensp;<div id='reinterpret.cast-3.sentence-1' class='sentence'>The mapping performed by <span id=':reinterpret_cast________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> might, or might not, produce a
representation different from the original value<a class='hidden_link' href='#reinterpret.cast-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='reinterpret.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4649'>#</a></div><div class='texpara'><div id='reinterpret.cast-4.sentence-1' class='sentence'><a class='index' id=':cast,reinterpret,pointer_to_integer'></a><a class='index' id=':cast,pointer_to_integer'></a>A pointer can be explicitly converted to any integral type large enough
to hold all values of its type<a class='hidden_link' href='#reinterpret.cast-4.sentence-1'>.</a></div> <div id='reinterpret.cast-4.sentence-2' class='sentence'><a class='index' id=':conversion,implementation-defined_pointer_integer'></a>The mapping function is <a class='index' id=':mapping_of_pointer_to_integer'></a>implementation-defined<a class='hidden_link' href='#reinterpret.cast-4.sentence-2'>.</a></div> <div id='reinterpret.cast-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#reinterpret.cast-note-2'>2</a></i>:&ensp;<div id='reinterpret.cast-4.sentence-3' class='sentence'>It is intended to be unsurprising to those who know the addressing
structure of the underlying machine<a class='hidden_link' href='#reinterpret.cast-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='reinterpret.cast-4.sentence-4' class='sentence'>
A value of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span> can be converted to an integral
type; the conversion has the same meaning and validity as a conversion of
<span class='texttt'><span class='parenthesis'>(</span><span id=':void_______________________'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span></span> to the integral type<a class='hidden_link' href='#reinterpret.cast-4.sentence-4'>.</a></div> <div id='reinterpret.cast-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#reinterpret.cast-note-3'>3</a></i>:&ensp;<div id='reinterpret.cast-4.sentence-5' class='sentence'>A <span id=':reinterpret_cast_________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span>
cannot be used to convert a value of any type to the type
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span><a class='hidden_link' href='#reinterpret.cast-4.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='reinterpret.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4669'>#</a></div><div class='texpara'><div id='reinterpret.cast-5.sentence-1' class='sentence'><a class='index' id=':cast,reinterpret,integer_to_pointer'></a><a class='index' id=':cast,integer_to_pointer'></a>A value of integral type or enumeration type can be explicitly converted
to a pointer<a class='hidden_link' href='#reinterpret.cast-5.sentence-1'>.</a></div> <div id='reinterpret.cast-5.sentence-2' class='sentence'>A pointer converted to an integer of sufficient size (if
any such exists on the implementation) and back to the same pointer type
will have its original value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>);
<a class='index' id=':conversion,implementation-defined_pointer_integer_'></a>mappings between pointers and integers are otherwise
<a class='index' id=':conversions_between_pointers_and_integers'></a>implementation-defined<a class='hidden_link' href='#reinterpret.cast-5.sentence-2'>.</a></div></div></div><div class='para' id='reinterpret.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4680'>#</a></div><div class='texpara'><div id='reinterpret.cast-6.sentence-1' class='sentence'><a class='index' id=':cast,reinterpret,pointer-to-function'></a><a class='index' id=':cast,pointer-to-function'></a><a class='index' id=':cast,undefined_pointer-to-function'></a>A function pointer can be explicitly converted
to a function pointer of a different type<a class='hidden_link' href='#reinterpret.cast-6.sentence-1'>.</a></div> <div id='reinterpret.cast-6.sentence-3' class='sentence'><a class='index' id=':function_call,undefined'></a><div id='reinterpret.cast-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#reinterpret.cast-note-4'>4</a></i>:&ensp;<div id='reinterpret.cast-6.sentence-2' class='sentence'>The effect of calling a function through a pointer to a function
type (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) that is not the same as the type used in the
definition of the function is undefined (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#reinterpret.cast-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
Except that converting
a prvalue of type “pointer to <span class='texttt'>T1</span>” to the type “pointer to
<span class='texttt'>T2</span>” (where <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are function types) and
back to its original type yields the original pointer value, the result
of such a pointer conversion is unspecified<a class='hidden_link' href='#reinterpret.cast-6.sentence-3'>.</a></div></div></div><div class='para' id='reinterpret.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4698'>#</a></div><div class='texpara'><div id='reinterpret.cast-7.sentence-1' class='sentence'>An object pointer
can be explicitly converted to an object pointer of a different type<a class='hidden_link' href='#reinterpret.cast-7.sentence-1'>.</a><a class='footnoteref' href='#footnote-53' id='footnoteref-53' title='The types can have different cv-qualifiers, subject to the overall restriction that a reinterpret_&shy;cast cannot cast away constness.'>53</a></div> <div id='reinterpret.cast-7.sentence-2' class='sentence'>
When a prvalue <span class='texttt'>v</span> of object pointer type is converted to
the object pointer type “pointer to <span class='mathit'>cv</span> <span class='texttt'>T</span>”, the result is <span class='texttt'><span id=':static_cast___________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span><span class='mathit'>cv</span> T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span id=':static_cast____________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span><span class='mathit'>cv</span><span class='operator'> </span><span id=':void________________________'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#reinterpret.cast-7.sentence-2'>.</a></div> <div id='reinterpret.cast-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#reinterpret.cast-note-5'>5</a></i>:&ensp;<div id='reinterpret.cast-7.sentence-3' class='sentence'>Converting a pointer of type “pointer to <span class='texttt'>T1</span>”
that points to an object of type <span class='texttt'>T1</span>
to the type “pointer to <span class='texttt'>T2</span>”
(where <span class='texttt'>T2</span> is an object type
and the alignment requirements of <span class='texttt'>T2</span>
are no stricter than those of <span class='texttt'>T1</span>)
and back to its original type yields the original pointer value<a class='hidden_link' href='#reinterpret.cast-7.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='reinterpret.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4719'>#</a></div><div class='texpara'><div id='reinterpret.cast-8.sentence-1' class='sentence'>Converting a function pointer to an object pointer
type or vice versa is
conditionally-supported<a class='hidden_link' href='#reinterpret.cast-8.sentence-1'>.</a></div> <div id='reinterpret.cast-8.sentence-2' class='sentence'>The meaning of such a conversion is
<a class='index' id=':converting_function_pointer_to_object_pointer_and_vice_versa'></a>implementation-defined,
except that if an implementation
supports conversions in both directions, converting a prvalue of one type to the other
type and back, possibly with different cv-qualification, shall yield the original
pointer value<a class='hidden_link' href='#reinterpret.cast-8.sentence-2'>.</a></div></div></div><div class='para' id='reinterpret.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4729'>#</a></div><div class='texpara'><div id='reinterpret.cast-9.sentence-1' class='sentence'>The null pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) is converted to the null pointer value
of the destination type<a class='hidden_link' href='#reinterpret.cast-9.sentence-1'>.</a></div> <div id='reinterpret.cast-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#reinterpret.cast-note-6'>6</a></i>:&ensp;<div id='reinterpret.cast-9.sentence-2' class='sentence'>A null pointer constant of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span> cannot be converted to a
pointer type, and a null pointer constant of integral type is not necessarily
converted to a null pointer value<a class='hidden_link' href='#reinterpret.cast-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='reinterpret.cast-10'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4738'>#</a></div><div class='texpara'><div id='reinterpret.cast-10.sentence-1' class='sentence'><a class='index' id=':cast,reinterpret,pointer-to-member'></a><a class='index' id=':cast,pointer-to-member_'></a>A prvalue of type “pointer to member of <span class='texttt'>X</span> of type <span class='texttt'>T1</span>”
can be explicitly converted to a prvalue of a different type “pointer to member of
<span class='texttt'>Y</span> of type <span class='texttt'>T2</span>” if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are both
function types or both object types<a class='hidden_link' href='#reinterpret.cast-10.sentence-1'>.</a><a class='footnoteref' href='#footnote-54' id='footnoteref-54' title='T1 and T2 can have different cv-qualifiers, subject to the overall restriction that a reinterpret_&shy;cast cannot cast away constness.'>54</a></div> <div id='reinterpret.cast-10.sentence-2' class='sentence'>
The null member pointer value (<a href='#conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>) is converted to the
null member pointer value of the destination type<a class='hidden_link' href='#reinterpret.cast-10.sentence-2'>.</a></div> <div id='reinterpret.cast-10.sentence-3' class='sentence'>The result of this
conversion is unspecified, except in the following cases:
<ul class='itemize'><li id='reinterpret.cast-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#reinterpret.cast-10.1'>(10.1)</a></div><div class='texpara'><div id='reinterpret.cast-10.1.sentence-1' class='sentence'>Converting a prvalue of type “pointer to member function” to a
different pointer-to-member-function type and back to its original type
yields the original pointer-to-member value<a class='hidden_link' href='#reinterpret.cast-10.1.sentence-1'>.</a></div></div></li><li id='reinterpret.cast-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#reinterpret.cast-10.2'>(10.2)</a></div><div class='texpara'><div id='reinterpret.cast-10.2.sentence-1' class='sentence'>Converting a prvalue of type “pointer to data member of <span class='texttt'>X</span>
of type <span class='texttt'>T1</span>” to the type “pointer to data member of <span class='texttt'>Y</span>
of type <span class='texttt'>T2</span>” (where the alignment requirements of <span class='texttt'>T2</span> are
no stricter than those of <span class='texttt'>T1</span>) and back to its original type
yields the original pointer-to-member value<a class='hidden_link' href='#reinterpret.cast-10.2.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='reinterpret.cast-11'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4766'>#</a></div><div class='texpara'><div id='reinterpret.cast-11.sentence-1' class='sentence'><a class='index' id=':cast,reinterpret,reference'></a><a class='index' id=':cast,reference_'></a><a class='index' id=':type_pun'></a>If <span class='texttt'>v</span> is a glvalue of type <span class='texttt'>T1</span>,
designating an object or function <i >x</i>,
it can be cast to the type “reference to <span class='texttt'>T2</span>”
if an expression of type “pointer to <span class='texttt'>T1</span>”
can be explicitly converted to the type “pointer to <span class='texttt'>T2</span>”
using a <span id=':reinterpret_cast__________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#reinterpret.cast-11.sentence-1'>.</a></div> <div id='reinterpret.cast-11.sentence-2' class='sentence'>The result is that of <span class='texttt'><span class='operator'>*</span><span class='keyword'>reinterpret_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>T2 <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>p<span class='parenthesis'>)</span></span>
where <span class='texttt'>p</span> is a pointer to <i >x</i>
of type “pointer to <span class='texttt'>T1</span>”<a class='hidden_link' href='#reinterpret.cast-11.sentence-2'>.</a></div> <div id='reinterpret.cast-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#reinterpret.cast-note-7'>7</a></i>:&ensp;<div id='reinterpret.cast-11.sentence-3' class='sentence'>No temporary is materialized (<a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>) or created,
no copy is made, and
no constructors (<a href='class.ctor' title='11.4.5&emsp;Constructors'>[class.<span class='shy'></span>ctor]</a>) or conversion
functions (<a href='class.conv' title='11.4.8&emsp;Conversions'>[class.<span class='shy'></span>conv]</a>) are called<a class='hidden_link' href='#reinterpret.cast-11.sentence-3'>.</a><a class='footnoteref' href='#footnote-55' id='footnoteref-55' title='This is sometimes referred to as a type pun when the result refers to the same object as the source glvalue.'>55</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-53'><div class='texpara'><a class='footnotenum' href='#footnote-53'>53)</a><a class='footnoteBacklink' href='#footnoteref-53'>53)</a> <div id='footnote-53.sentence-1' class='sentence'>The
types can have different <span class='mathit'>cv</span>-qualifiers, subject to
the overall
restriction that a <span id=':reinterpret_cast__'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> cannot cast away constness<a class='hidden_link' href='#footnote-53.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-54'><div class='texpara'><a class='footnotenum' href='#footnote-54'>54)</a><a class='footnoteBacklink' href='#footnoteref-54'>54)</a> <div id='footnote-54.sentence-1' class='sentence'><span class='texttt'>T1</span> and <span class='texttt'>T2</span> can have
different <span class='mathit'>cv</span>-qualifiers, subject to
the overall restriction that a <span id=':reinterpret_cast___'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> cannot cast away
constness<a class='hidden_link' href='#footnote-54.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-55'><div class='texpara'><a class='footnotenum' href='#footnote-55'>55)</a><a class='footnoteBacklink' href='#footnoteref-55'>55)</a> <div id='footnote-55.sentence-1' class='sentence'>This is sometimes referred to as a type pun
when the result refers to the same object as the source glvalue<a class='hidden_link' href='#footnote-55.sentence-1'>.</a></div></div></div></div><div id='const.cast' class='section'><h4 ><a class='secnum' href='#const.cast' style='min-width:95pt'>7.6.1.11</a> Const cast <a class='abbr_ref' href='expr.const.cast'>[expr.const.cast]</a></h4><div class='para' id='const.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4792'>#</a></div><div class='texpara'><div id='const.cast-1.sentence-1' class='sentence'><a class='index' id=':expression,const_cast'></a><a class='index' id=':cast,const'></a>The result of the expression <span class='texttt'><span id=':const_cast____'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> is of type
<span class='texttt'>T</span><a class='hidden_link' href='#const.cast-1.sentence-1'>.</a></div> <div id='const.cast-1.sentence-2' class='sentence'>If <span class='texttt'>T</span> is an lvalue reference to object type, the result is an
lvalue;
if <span class='texttt'>T</span> is an rvalue reference to object type, the result is an xvalue;
otherwise, the result is a prvalue and the
<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue</a>, <a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer</a>,
and <a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a> standard conversions are
performed on the expression <span class='texttt'>v</span><a class='hidden_link' href='#const.cast-1.sentence-2'>.</a></div> <div id='const.cast-1.sentence-3' class='sentence'>The <a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion&emsp;[conv.rval]'>temporary materialization conversion</a> is not
performed on <span class='texttt'>v</span>, other than as specified below<a class='hidden_link' href='#const.cast-1.sentence-3'>.</a></div> <div id='const.cast-1.sentence-4' class='sentence'>Conversions that can be performed explicitly using
<span id=':const_cast_____'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> are listed below<a class='hidden_link' href='#const.cast-1.sentence-4'>.</a></div> <div id='const.cast-1.sentence-5' class='sentence'>No other conversion shall be
performed explicitly using <span id=':const_cast______'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#const.cast-1.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='const.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4809'>#</a></div><div class='texpara'><div id='const.cast-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const.cast-note-1'>1</a></i>:&ensp;<div id='const.cast-2.sentence-1' class='sentence'>Subject to the restrictions in this subclause, an expression can be cast
to its own type using a <span id=':const_cast_______'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> operator<a class='hidden_link' href='#const.cast-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='const.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4815'>#</a></div><div class='texpara'><div id='const.cast-3.sentence-1' class='sentence'>For two similar object pointer or pointer to data member types
<span class='texttt'>T1</span> and <span class='texttt'>T2</span> (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>),
a prvalue of type <span class='texttt'>T1</span> can be explicitly
converted to the type <span class='texttt'>T2</span> using a <span id=':const_cast________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span>
if, considering the qualification-decompositions of both types,
each <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> is the same as <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#const.cast-3.sentence-1'>.</a></div> <div id='const.cast-3.sentence-2' class='sentence'>If <span class='texttt'>v</span> is a null pointer or null member pointer,
the result is a null pointer or null member pointer, respectively<a class='hidden_link' href='#const.cast-3.sentence-2'>.</a></div> <div id='const.cast-3.sentence-3' class='sentence'>Otherwise, the result points to or past the end of the same object, or
points to the same member, respectively, as <span class='texttt'>v</span><a class='hidden_link' href='#const.cast-3.sentence-3'>.</a></div></div></div><div class='para' id='const.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4827'>#</a></div><div class='texpara'><div id='const.cast-4.sentence-1' class='sentence'>For two object types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, if a pointer to <span class='texttt'>T1</span> can
be explicitly converted to the type “pointer to <span class='texttt'>T2</span>” using a
<span id=':const_cast_________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span>, then the following conversions can also be made:
<ul class='itemize'><li id='const.cast-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const.cast-4.1'>(4.1)</a></div>an lvalue of type <span class='texttt'>T1</span> can be explicitly converted to an lvalue
of type <span class='texttt'>T2</span> using the cast <span class='texttt'><span id=':const_cast__________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T2<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span>;</li><li id='const.cast-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const.cast-4.2'>(4.2)</a></div>a glvalue of type <span class='texttt'>T1</span> can be explicitly converted to an xvalue
of type <span class='texttt'>T2</span> using the cast <span class='texttt'><span id=':const_cast___________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T2<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span>; and</li><li id='const.cast-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const.cast-4.3'>(4.3)</a></div>if <span class='texttt'>T1</span> is a class or array type,
a prvalue of type <span class='texttt'>T1</span> can be
explicitly converted to an xvalue of type <span class='texttt'>T2</span> using the cast
<span class='texttt'><span id=':const_cast____________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T2<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#const.cast-4.sentence-1'>.</a> <div class='texpara'><div id='const.cast-4.3.sentence-2' class='sentence'>The temporary materialization conversion is performed on <span class='texttt'>v</span><a class='hidden_link' href='#const.cast-4.3.sentence-2'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='const.cast-4.sentence-2' class='sentence'>The result refers to the same object as the (possibly converted) operand<a class='hidden_link' href='#const.cast-4.sentence-2'>.</a></div> <div id='const.cast-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const.cast-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span> <span class='operator'>*</span>A<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span>;                  <span class='comment'>// array of 3 pointer to <span class='tcode_in_codeblock'>int</span></span>
<span class='keyword'>typedef</span> <span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>*</span><span class='keyword'>const</span> CA<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span>;     <span class='comment'>// array of 3 const pointer to <span class='tcode_in_codeblock'>const int</span></span>

<span class='keyword'>auto</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>r2 <span class='operator'>=</span> <span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>A<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>CA<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;  <span class='comment'>// OK, temporary materialization conversion is performed</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='const.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4855'>#</a></div><div class='texpara'><div id='const.cast-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const.cast-note-2'>2</a></i>:&ensp;<div id='const.cast-5.sentence-1' class='sentence'>Depending on the type of the object, a write operation through the
pointer, lvalue or pointer to data member resulting from a
<span id=':const_cast_____________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> that casts away a const-qualifier<a class='footnoteref' href='#footnote-56' id='footnoteref-56' title='const_&shy;cast is not limited to conversions that cast away a const-qualifier.'>56</a>
can produce undefined behavior (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>)<a class='hidden_link' href='#const.cast-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='const.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4868'>#</a></div><div class='texpara'><div id='const.cast-6.sentence-1' class='sentence'><a class='index' id=':const,cast_away'></a>A conversion from a type <span class='texttt'>T1</span> to a type <span class='texttt'>T2</span>
<a class='hidden_link' href='#def:casting_away_constness' title='7.6.1.11&emsp;Const cast&emsp;[expr.const.cast]'><span id='def:casting_away_constness'><i >casts away constness</i></span></a>
if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are different,
there is a qualification-decomposition (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) of <span class='texttt'>T1</span>
yielding <i >n</i> such that
<span class='texttt'>T2</span> has a qualification-decomposition of the form
<span class='indented'>
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='math'>⋯</span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.157em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span>,
</span>
and there is no qualification conversion that converts <span class='texttt'>T1</span> to
<span class='indented'>
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='math'>⋯</span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-stack" style="vertical-align: -0.157em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span></span> <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span><a class='hidden_link' href='#const.cast-6.sentence-1'>.</a></span></div></div></div><div class='para' id='const.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4884'>#</a></div><div class='texpara'><div id='const.cast-7.sentence-1' class='sentence'>Casting from an lvalue of type <span class='texttt'>T1</span> to an lvalue of type
<span class='texttt'>T2</span> using an lvalue reference cast
or casting from an expression of type <span class='texttt'>T1</span> to an xvalue of type <span class='texttt'>T2</span> using
an rvalue reference cast
casts away constness if a cast from a prvalue of type “pointer to <span class='texttt'>T1</span>” to the type “pointer to
<span class='texttt'>T2</span>” casts away constness<a class='hidden_link' href='#const.cast-7.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='const.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4892'>#</a></div><div class='texpara'><div id='const.cast-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const.cast-note-3'>3</a></i>:&ensp;<div id='const.cast-8.sentence-1' class='sentence'>Some conversions which involve only changes in cv-qualification cannot
be done using <span id=':const_cast______________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#const.cast-8.sentence-1'>.</a></div> <div id='const.cast-8.sentence-2' class='sentence'>For instance, conversions between
pointers to functions are not covered because such conversions lead to
values whose use causes undefined behavior<a class='hidden_link' href='#const.cast-8.sentence-2'>.</a></div> <div id='const.cast-8.sentence-3' class='sentence'>For the same reasons,
conversions between pointers to member functions, and in particular, the
conversion from a pointer to a const member function to a pointer to a
non-const member function, are not covered<a class='hidden_link' href='#const.cast-8.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-56'><div class='texpara'><a class='footnotenum' href='#footnote-56'>56)</a><a class='footnoteBacklink' href='#footnoteref-56'>56)</a> <div id='footnote-56.sentence-1' class='sentence'><span id=':const_cast___'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span>
is not limited to conversions that cast away a
const-qualifier<a class='hidden_link' href='#footnote-56.sentence-1'>.</a></div></div></div></div></div><div id='unary' class='section'><h3 ><a class='secnum' href='#unary' style='min-width:80pt'>7.6.2</a> Unary expressions <a class='abbr_ref' href='expr.unary'>[expr.unary]</a></h3><div id='unary.general' class='section'><h4 ><a class='secnum' href='#unary.general' style='min-width:95pt'>7.6.2.1</a> General <a class='abbr_ref' href='expr.unary.general'>[expr.unary.general]</a></h4><div class='para' id='unary.general-1'><div class='marginalizedparent'><a class='marginalized' href='#unary.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4908'>#</a></div><div class='texpara'><div id='unary.general-1.sentence-1' class='sentence'><a class='index' id=':expression,unary'></a>Expressions with unary operators group right-to-left<a class='hidden_link' href='#unary.general-1.sentence-1'>.</a></div></div><div class='texpara'><a class='index' id=':expression,unary_'></a><a class='index' id=':operator,unary'></a><a class='index' id=':operator,sizeof'></a><a class='index' id=':operator,cast'></a><div class='bnf' id='nt:unary-expression'>

<a class='hidden_link' href='#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='nt:unary-expression'><span id=':unary-expression'>unary-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_____________'><span class='textsf'><i >postfix-expression</i></span></span></a><br><a href='#nt:unary-operator' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-operator_'><span class='textsf'><i >unary-operator</i></span></span></a> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_____'><span class='textsf'><i >cast-expression</i></span></span></a><br><span class='terminal'><span class='operator'>+</span><span class='operator'>+</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression______'><span class='textsf'><i >cast-expression</i></span></span></a><br><span class='terminal'><span class='operator'>-</span><span class='operator'>-</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_______'><span class='textsf'><i >cast-expression</i></span></span></a><br><a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression'><span class='textsf'><i >await-expression</i></span></span></a><br><span id=':sizeof'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <a href='#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression__'><span class='textsf'><i >unary-expression</i></span></span></a><br><span id=':sizeof_'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span id=':sizeof__'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_______________'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><span id=':alignof'><span class='texttt'><span class='keyword'>alignof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br><a href='#nt:noexcept-expression' title='7.6.2.7&emsp;noexcept operator&emsp;[expr.unary.noexcept]'><span id='ntref:noexcept-expression'><span class='textsf'><i >noexcept-expression</i></span></span></a><br><a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression'><span class='textsf'><i >new-expression</i></span></span></a><br><a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression'><span class='textsf'><i >delete-expression</i></span></span></a>
</div></div><div class='texpara'><a class='index' id=':operator,indirection'></a><a class='index' id=':operator,address-of'></a><a class='index' id=':operator,unary_minus'></a><a class='index' id=':operator,unary_plus'></a><a class='index' id=':operator,logical_negation'></a><a class='index' id=':operator,ones&#39;_complement'></a><a class='index' id=':operator,increment_'></a><a class='index' id=':operator,decrement_'></a><div class='bnf' id='nt:unary-operator'>

<a class='hidden_link' href='#nt:unary-operator' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='nt:unary-operator'><span id=':unary-operator'>unary-operator<span class='textnormal'>:</span></span></span></a> <span class='textnormal'>one of</span><br><span class='terminal'><span class='operator'>*</span>  <span class='operator'>&amp;</span>  <span class='operator'>+</span>  <span class='operator'>-</span>  <span class='operator'>!</span>  <span class='operator'>~</span></span>
</div></div></div></div><div id='unary.op' class='section'><h4 ><a class='secnum' href='#unary.op' style='min-width:95pt'>7.6.2.2</a> Unary operators <a class='abbr_ref' href='expr.unary.op'>[expr.unary.op]</a></h4><div class='para' id='unary.op-1'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4959'>#</a></div><div class='texpara'><div id='unary.op-1.sentence-1' class='sentence'><a class='index' id=':expression,unary_operator'></a><a class='index' id=':operator,unary_'></a>The unary <span class='texttt'><span class='operator'>*</span></span> operator performs <a class='hidden_link' href='#def:indirection' title='7.6.2.2&emsp;Unary operators&emsp;[expr.unary.op]'><span id='def:indirection'><i >indirection</i></span></a><a class='hidden_link' href='#unary.op-1.sentence-1'>.</a></div> <div id='unary.op-1.sentence-2' class='sentence'>Its operand shall be a prvalue of type “pointer to <span class='texttt'>T</span>”,
where <span class='texttt'>T</span> is an object or function type<a class='hidden_link' href='#unary.op-1.sentence-2'>.</a></div> <div id='unary.op-1.sentence-3' class='sentence'>The operator yields an lvalue of type <span class='texttt'>T</span><a class='hidden_link' href='#unary.op-1.sentence-3'>.</a></div> <div id='unary.op-1.sentence-4' class='sentence'>If the operand points to an object or function,
the result denotes that object or function;
otherwise, the behavior is undefined except as specified in <a href='#typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a><a class='hidden_link' href='#unary.op-1.sentence-4'>.</a></div> <div id='unary.op-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-1'>1</a></i>:&ensp;<div id='unary.op-1.sentence-5' class='sentence'><a class='index' id=':type,incomplete______'></a>Indirection through a pointer to an incomplete type (other than
<span class='mathit'>cv</span> <span id=':void_________________________'><span class='texttt'><span class='keyword'>void</span></span></span>) is valid<a class='hidden_link' href='#unary.op-1.sentence-5'>.</a></div> <div id='unary.op-1.sentence-6' class='sentence'>The lvalue thus obtained can be
used in limited ways (to initialize a reference, for example); this
lvalue must not be converted to a prvalue, see <a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a><a class='hidden_link' href='#unary.op-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='unary.op-2'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4978'>#</a></div><div class='texpara'><div id='unary.op-2.sentence-1' class='sentence'>Each of the following unary operators yields a prvalue<a class='hidden_link' href='#unary.op-2.sentence-1'>.</a></div></div></div><div class='para' id='unary.op-3'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L4981'>#</a></div><div class='texpara'><div id='unary.op-3.sentence-1' class='sentence'><a class='index' id=':name,address_of_cv-qualified'></a><a class='index' id=':expression,pointer-to-member_constant'></a>The operand of the unary <span class='texttt'><span class='operator'>&amp;</span></span> operator
shall be an lvalue of some type <span class='texttt'>T</span><a class='hidden_link' href='#unary.op-3.sentence-1'>.</a></div> <ul class='itemize'><li id='unary.op-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#unary.op-3.1'>(3.1)</a></div><div class='texpara'><div id='unary.op-3.1.sentence-1' class='sentence'>If the operand is a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id________'><span class='textsf'><i >qualified-id</i></span></span></a> naming a non-static or variant member <span class='texttt'>m</span>
of some class <span class='texttt'>C</span>, other than an explicit object member function, the result has type “pointer to member
of class <span class='texttt'>C</span> of type <span class='texttt'>T</span>” and designates <span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span>m</span><a class='hidden_link' href='#unary.op-3.1.sentence-1'>.</a></div></div></li><li id='unary.op-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#unary.op-3.2'>(3.2)</a></div><div class='texpara'><div id='unary.op-3.2.sentence-1' class='sentence'>Otherwise, the result has type “pointer to <span class='texttt'>T</span>” and points to
the designated object (<a href='intro.memory' title='6.7.1&emsp;Memory model'>[intro.<span class='shy'></span>memory]</a>) or function (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>)<a class='hidden_link' href='#unary.op-3.2.sentence-1'>.</a></div> <div id='unary.op-3.2.sentence-2' class='sentence'>If the operand names an explicit object member function (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),
the operand shall be a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_________'><span class='textsf'><i >qualified-id</i></span></span></a><a class='hidden_link' href='#unary.op-3.2.sentence-2'>.</a></div> <div id='unary.op-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-2'>2</a></i>:&ensp;<div id='unary.op-3.2.sentence-3' class='sentence'>In particular, taking the address of a variable of type “<span class='mathit'>cv</span> <span class='texttt'>T</span>”
yields a pointer of type “pointer to <span class='mathit'>cv</span> <span class='texttt'>T</span>”<a class='hidden_link' href='#unary.op-3.2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul> <div id='unary.op-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#unary.op-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='operator'>&amp;</span>B<span class='operator'>::</span>i <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>       <span class='comment'>// has type <span class='tcode_in_codeblock'>int A&#x200b;::&#x200b;*</span></span>
<span class='keyword'>int</span> a;
<span class='keyword'>int</span><span class='operator'>*</span> p1 <span class='operator'>=</span> <span class='operator'>&amp;</span>a;
<span class='keyword'>int</span><span class='operator'>*</span> p2 <span class='operator'>=</span> p1 <span class='operator'>+</span> <span class='literal'>1</span>;   <span class='comment'>// defined behavior</span>
<span class='keyword'>bool</span> b <span class='operator'>=</span> p2 <span class='anglebracket'>&gt;</span> p1;   <span class='comment'>// defined behavior, with value <span class='tcode_in_codeblock'>true</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='unary.op-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-3'>3</a></i>:&ensp;<div id='unary.op-3.sentence-2' class='sentence'>A pointer to member formed from a <span id=':mutable________'><span class='texttt'><span class='keyword'>mutable</span></span></span> non-static data
member (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>) does not reflect the <span id=':mutable_________'><span class='texttt'><span class='keyword'>mutable</span></span></span> specifier
associated with the non-static data member<a class='hidden_link' href='#unary.op-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='unary.op-4'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5018'>#</a></div><div class='texpara'><div id='unary.op-4.sentence-1' class='sentence'>A pointer to member is only formed when an explicit <span class='texttt'><span class='operator'>&amp;</span></span> is used
and its operand is a <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id__________'><span class='textsf'><i >qualified-id</i></span></span></a> not enclosed in
parentheses<a class='hidden_link' href='#unary.op-4.sentence-1'>.</a></div> <div id='unary.op-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-4'>4</a></i>:&ensp;<div id='unary.op-4.sentence-2' class='sentence'>That is, the expression <span class='texttt'><span class='operator'>&amp;</span><span class='parenthesis'>(</span>qualified<span class='operator'>-</span>id<span class='parenthesis'>)</span></span>, where the
<a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id___________'><span class='textsf'><i >qualified-id</i></span></span></a> is enclosed in parentheses, does not form an
expression of type “pointer to member”<a class='hidden_link' href='#unary.op-4.sentence-2'>.</a></div> <div id='unary.op-4.sentence-3' class='sentence'>Neither does
<span class='texttt'>qualified<span class='operator'>-</span>id</span>, because there is no implicit conversion from a
<a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id____________'><span class='textsf'><i >qualified-id</i></span></span></a> for a non-static member function to the type
“pointer to member function” as there is from an lvalue of function
type to the type “pointer to function” (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>)<a class='hidden_link' href='#unary.op-4.sentence-3'>.</a></div> <div id='unary.op-4.sentence-4' class='sentence'>Nor is
<span class='texttt'><span class='operator'>&amp;</span>unqualified<span class='operator'>-</span>id</span> a pointer to member, even within the scope of
the <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_________'><span class='textsf'><i >unqualified-id</i></span></span></a>'s class<a class='hidden_link' href='#unary.op-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='unary.op-5'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5034'>#</a></div><div class='texpara'><div id='unary.op-5.sentence-1' class='sentence'>If <span class='texttt'><span class='operator'>&amp;</span></span> is applied to an lvalue of incomplete class type and the
complete type declares <span class='texttt'><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, it is unspecified whether
the operator has the built-in meaning or the operator function is
called<a class='hidden_link' href='#unary.op-5.sentence-1'>.</a></div> <div id='unary.op-5.sentence-2' class='sentence'>The operand of <span class='texttt'><span class='operator'>&amp;</span></span> shall not be a bit-field<a class='hidden_link' href='#unary.op-5.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='unary.op-6'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5040'>#</a></div><div class='texpara'><a class='index' id=':overloaded_function,address_of'></a><div id='unary.op-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-5'>5</a></i>:&ensp;<div id='unary.op-6.sentence-1' class='sentence'>The address of an overload set (<a href='over' title='12&emsp;Overloading'>[over]</a>) can be taken
only in a context that uniquely determines
which function is referred to (see <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#unary.op-6.sentence-1'>.</a></div> <div id='unary.op-6.sentence-2' class='sentence'>Since the context can affect whether the operand is a static or
non-static member function, the context can also affect whether the
expression has type “pointer to function” or “pointer to member
function”<a class='hidden_link' href='#unary.op-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='unary.op-7'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5052'>#</a></div><div class='texpara'><div id='unary.op-7.sentence-1' class='sentence'><a class='index' id=':operator,unary_plus_'></a>The operand of the unary <span class='texttt'><span class='operator'>+</span></span> operator shall be a prvalue of
arithmetic, unscoped
enumeration, or pointer type and the result is the value of the
argument<a class='hidden_link' href='#unary.op-7.sentence-1'>.</a></div> <div id='unary.op-7.sentence-2' class='sentence'>Integral promotion is performed on integral or enumeration
operands<a class='hidden_link' href='#unary.op-7.sentence-2'>.</a></div> <div id='unary.op-7.sentence-3' class='sentence'>The type of the result is the type of the promoted operand<a class='hidden_link' href='#unary.op-7.sentence-3'>.</a></div></div></div><div class='para' id='unary.op-8'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5060'>#</a></div><div class='texpara'><div id='unary.op-8.sentence-1' class='sentence'><a class='index' id=':operator,unary_minus_'></a>The operand of the unary <span class='texttt'><span class='operator'>-</span></span> operator shall be a prvalue of
arithmetic or unscoped
enumeration type and the result is the negative of its operand<a class='hidden_link' href='#unary.op-8.sentence-1'>.</a></div> <div id='unary.op-8.sentence-2' class='sentence'>Integral
promotion is performed on integral or enumeration operands<a class='hidden_link' href='#unary.op-8.sentence-2'>.</a></div> <div id='unary.op-8.sentence-3' class='sentence'>The negative
of an unsigned quantity is computed by subtracting its value from <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span>,
where <span class='math'><span class='mathalpha'>n</span></span> is the number of bits in the promoted operand<a class='hidden_link' href='#unary.op-8.sentence-3'>.</a></div> <div id='unary.op-8.sentence-4' class='sentence'>The type of the
result is the type of the promoted operand<a class='hidden_link' href='#unary.op-8.sentence-4'>.</a></div> <div id='unary.op-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-6'>6</a></i>:&ensp;<div id='unary.op-8.sentence-5' class='sentence'>The result is the two's complement of the operand
(where operand and result are considered as unsigned)<a class='hidden_link' href='#unary.op-8.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='unary.op-9'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5074'>#</a></div><div class='texpara'><div id='unary.op-9.sentence-1' class='sentence'><a class='index' id=':operator,logical_negation_'></a>The operand of the logical negation operator <span class='texttt'><span class='operator'>!</span></span> is contextually
converted to <span id=':bool_____________'><span class='texttt'><span class='keyword'>bool</span></span></span> (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>);
its value is <span id=':true_____'><span class='texttt'><span class='literal'>true</span></span></span>
if the converted operand is <span id=':false_______'><span class='texttt'><span class='literal'>false</span></span></span> and <span id=':false________'><span class='texttt'><span class='literal'>false</span></span></span> otherwise<a class='hidden_link' href='#unary.op-9.sentence-1'>.</a></div> <div id='unary.op-9.sentence-2' class='sentence'>The type of the result is <span id=':bool______________'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#unary.op-9.sentence-2'>.</a></div></div></div><div class='para' id='unary.op-10'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5082'>#</a></div><div class='texpara'><div id='unary.op-10.sentence-1' class='sentence'><a class='index' id=':operator,ones&#39;_complement_'></a>The operand of the <span class='texttt'><span class='operator'>~</span></span> operator shall be a prvalue of
integral or unscoped enumeration type<a class='hidden_link' href='#unary.op-10.sentence-1'>.</a></div> <div id='unary.op-10.sentence-2' class='sentence'>Integral promotions are performed<a class='hidden_link' href='#unary.op-10.sentence-2'>.</a></div> <div id='unary.op-10.sentence-3' class='sentence'>The type of the result is the type of the promoted operand<a class='hidden_link' href='#unary.op-10.sentence-3'>.</a></div> <div id='unary.op-10.sentence-4' class='sentence'>Given the coefficients <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
of the promoted operand <span class='texttt'>x</span>,
the coefficient <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">r</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation of the result <span class='texttt'>r</span>
is 1 if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is 0, and 0 otherwise<a class='hidden_link' href='#unary.op-10.sentence-4'>.</a></div> <div id='unary.op-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-7'>7</a></i>:&ensp;<div id='unary.op-10.sentence-5' class='sentence'>The result is the ones' complement of the operand
(where operand and result are considered as unsigned)<a class='hidden_link' href='#unary.op-10.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='unary.op-10.sentence-6' class='sentence'>
There is an ambiguity
in the grammar when <span class='texttt'><span class='operator'>~</span></span> is followed by
a <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_________'><span class='textsf'><i >type-name</i></span></span></a> or <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier________'><span class='textsf'><i >computed-type-specifier</i></span></span></a><a class='hidden_link' href='#unary.op-10.sentence-6'>.</a></div> <div id='unary.op-10.sentence-7' class='sentence'>The ambiguity is resolved by treating <span class='texttt'><span class='operator'>~</span></span> as the
operator rather than as the start of an <a href='#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__________'><span class='textsf'><i >unqualified-id</i></span></span></a>
naming a destructor<a class='hidden_link' href='#unary.op-10.sentence-7'>.</a></div> <div id='unary.op-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.op-note-8'>8</a></i>:&ensp;<div id='unary.op-10.sentence-8' class='sentence'>Because the grammar does not permit an operator to follow the
<span class='texttt'><span class='operator'>.</span></span>, <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>, or <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> tokens, a <span class='texttt'><span class='operator'>~</span></span> followed by
a <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name__________'><span class='textsf'><i >type-name</i></span></span></a> or <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier_________'><span class='textsf'><i >computed-type-specifier</i></span></span></a> in a
member access expression or <a href='#nt:qualified-id' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_____________'><span class='textsf'><i >qualified-id</i></span></span></a> is
unambiguously parsed as a destructor name<a class='hidden_link' href='#unary.op-10.sentence-8'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='pre.incr' class='section'><h4 ><a class='secnum' href='#pre.incr' style='min-width:95pt'>7.6.2.3</a> Increment and decrement <a class='abbr_ref' href='expr.pre.incr'>[expr.pre.incr]</a></h4><div class='para' id='pre.incr-1'><div class='marginalizedparent'><a class='marginalized' href='#pre.incr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5115'>#</a></div><div class='texpara'><div id='pre.incr-1.sentence-1' class='sentence'><a class='index' id=':expression,increment_'></a><a class='index' id=':expression,decrement_'></a><a class='index' id=':operator,increment__'></a><a class='index' id=':operator,decrement__'></a><a class='index' id=':prefix_++'></a><a class='index' id=':prefix_--'></a>The operand of prefix <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> or <span class='texttt'><span class='operator'>-</span><span class='operator'>-</span></span>
shall not be of type <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#pre.incr-1.sentence-1'>.</a></div> <div id='pre.incr-1.sentence-2' class='sentence'>An operand with volatile-qualified type is deprecated;
see <a href='depr.volatile.type' title='D.4&emsp;Deprecated volatile types'>[depr.<span class='shy'></span>volatile.<span class='shy'></span>type]</a><a class='hidden_link' href='#pre.incr-1.sentence-2'>.</a></div> <div id='pre.incr-1.sentence-3' class='sentence'>The expression <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span>x</span> is otherwise equivalent to <span class='texttt'>x<span class='operator'>+</span><span class='operator'>=</span><span class='literal'>1</span></span> and
the expression <span class='texttt'><span class='operator'>-</span><span class='operator'>-</span>x</span> is otherwise equivalent to <span class='texttt'>x<span class='operator'>-</span><span class='operator'>=</span><span class='literal'>1</span></span> (<a href='#assign' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>assign]</a>)<a class='hidden_link' href='#pre.incr-1.sentence-3'>.</a></div> <div id='pre.incr-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre.incr-note-1'>1</a></i>:&ensp;<div id='pre.incr-1.sentence-4' class='sentence'>For postfix increment and decrement, see <a href='#post.incr' title='7.6.1.6&emsp;Increment and decrement'>[expr.<span class='shy'></span>post.<span class='shy'></span>incr]</a><a class='hidden_link' href='#pre.incr-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='await' class='section'><h4 ><a class='secnum' href='#await' style='min-width:95pt'>7.6.2.4</a> Await <a class='abbr_ref' href='expr.await'>[expr.await]</a></h4><div class='texpara'><a class='index' id=':expression,await'></a><a class='index' id=':co_await'></a></div><div class='para' id='await-1'><div class='marginalizedparent'><a class='marginalized' href='#await-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5136'>#</a></div><div class='texpara'><div id='await-1.sentence-1' class='sentence'>The <span id=':co_await_'><span class='texttt'><span class='keyword'>co_<span class='shy'></span>await</span></span></span> expression is used to suspend evaluation of a
coroutine (<a href='dcl.fct.def.coroutine' title='9.6.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>) while awaiting completion of
the computation represented by the operand expression<a class='hidden_link' href='#await-1.sentence-1'>.</a></div> <div id='await-1.sentence-2' class='sentence'>Suspending the evaluation of a coroutine
transfers control to its caller or resumer<a class='hidden_link' href='#await-1.sentence-2'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:await-expression'>
<a class='hidden_link' href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='nt:await-expression'><span id=':await-expression'>await-expression<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='keyword'>co_await</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression________'><span class='textsf'><i >cast-expression</i></span></span></a>
</div></div></div><div class='para' id='await-2'><div class='marginalizedparent'><a class='marginalized' href='#await-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5148'>#</a></div><div class='texpara'><div id='await-2.sentence-1' class='sentence'>An <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression_'><span class='textsf'><i >await-expression</i></span></span></a> shall appear only as a potentially-evaluated
expression within the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement_______'><span class='textsf'><i >compound-statement</i></span></span></a> of a
<a href='dcl.fct.def.general#nt:function-body' title='9.6.1&emsp;General&emsp;[dcl.fct.def.general]'><span id='ntref:function-body_'><span class='textsf'><i >function-body</i></span></span></a> or <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>,
in either case
outside of a <a href='except.pre#nt:handler' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:handler'><span class='textsf'><i >handler</i></span></span></a> (<a href='except.pre' title='14.1&emsp;Preamble'>[except.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#await-2.sentence-1'>.</a></div> <div id='await-2.sentence-2' class='sentence'>In a <a href='stmt.dcl#nt:declaration-statement' title='8.9&emsp;Declaration statement&emsp;[stmt.dcl]'><span id='ntref:declaration-statement'><span class='textsf'><i >declaration-statement</i></span></span></a> or in the
<a href='dcl.pre#nt:simple-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:simple-declaration'><span class='textsf'><i >simple-declaration</i></span></span></a> (if any)
of an <a href='stmt.pre#nt:init-statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:init-statement'><span class='textsf'><i >init-statement</i></span></span></a>, an <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression__'><span class='textsf'><i >await-expression</i></span></span></a>
shall appear only in an <a href='dcl.init.general#nt:initializer' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer______'><span class='textsf'><i >initializer</i></span></span></a> of that
<a href='stmt.dcl#nt:declaration-statement' title='8.9&emsp;Declaration statement&emsp;[stmt.dcl]'><span id='ntref:declaration-statement_'><span class='textsf'><i >declaration-statement</i></span></span></a> or <a href='dcl.pre#nt:simple-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:simple-declaration_'><span class='textsf'><i >simple-declaration</i></span></span></a><a class='hidden_link' href='#await-2.sentence-2'>.</a></div> <div id='await-2.sentence-3' class='sentence'>An <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression___'><span class='textsf'><i >await-expression</i></span></span></a> shall not appear in a
default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#await-2.sentence-3'>.</a></div> <div id='await-2.sentence-4' class='sentence'>An <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression____'><span class='textsf'><i >await-expression</i></span></span></a> shall not appear in the initializer of
a block variable with static or thread storage duration<a class='hidden_link' href='#await-2.sentence-4'>.</a></div> <div id='await-2.sentence-5' class='sentence'>An <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression_____'><span class='textsf'><i >await-expression</i></span></span></a> shall not be
a potentially-evaluated subexpression
of the predicate of a contract assertion (<a href='basic.contract' title='6.10&emsp;Contract assertions'>[basic.<span class='shy'></span>contract]</a>)<a class='hidden_link' href='#await-2.sentence-5'>.</a></div> <div id='await-2.sentence-6' class='sentence'>A context within a function where an <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression______'><span class='textsf'><i >await-expression</i></span></span></a> can appear
is called a <a class='hidden_link' href='#def:suspension_context' id='def:suspension_context'><i>suspension context</i></a> of the function<a class='hidden_link' href='#await-2.sentence-6'>.</a></div></div></div><div class='para' id='await-3'><div class='marginalizedparent'><a class='marginalized' href='#await-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5169'>#</a></div><div class='texpara'><div id='await-3.sentence-1' class='sentence'>Evaluation of an <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression_______'><span class='textsf'><i >await-expression</i></span></span></a> involves the following
auxiliary types, expressions, and objects:
<ul class='itemize'><li id='await-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.1'>(3.1)</a></div><div class='texpara'><div id='await-3.1.sentence-1' class='sentence'><i >p</i> is an lvalue naming the promise
object (<a href='dcl.fct.def.coroutine' title='9.6.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>)
of the enclosing coroutine and <span class='texttt'>P</span> is the type of that object<a class='hidden_link' href='#await-3.1.sentence-1'>.</a></div></div></li><li id='await-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.2'>(3.2)</a></div><div class='texpara'><div id='await-3.2.sentence-1' class='sentence'>Unless
the <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression________'><span class='textsf'><i >await-expression</i></span></span></a> was implicitly produced by
a <a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression'><span class='textsf'><i >yield-expression</i></span></span></a> (<a href='#yield' title='7.6.17&emsp;Yielding a value'>[expr.<span class='shy'></span>yield]</a>),
an initial await expression,
or a final await expression (<a href='dcl.fct.def.coroutine' title='9.6.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>),
a search is performed for the name <span class='texttt'>await_<span class='shy'></span>transform</span>
in the scope of <span class='texttt'>P</span>  (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#await-3.2.sentence-1'>.</a></div> <div id='await-3.2.sentence-2' class='sentence'>If this search is performed and finds at least one declaration,
then <i >a</i> is
<span class='mbox'><i >p</i><span class='texttt'><span class='operator'>.</span>await_<span class='shy'></span>transform<span class='parenthesis'>(</span></span><a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_________'><span class='textsf'><i >cast-expression</i></span></span></a><span class='texttt'><span class='parenthesis'>)</span></span></span>;
otherwise, <i >a</i> is the  <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression__________'><span class='textsf'><i >cast-expression</i></span></span></a><a class='hidden_link' href='#await-3.2.sentence-2'>.</a></div></div></li><li id='await-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.3'>(3.3)</a></div><div class='texpara'><div id='await-3.3.sentence-1' class='sentence'><i >o</i> is determined by enumerating the applicable
<span class='texttt'><span id=':operator_'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':co_await__'><span class='texttt'><span class='keyword'>co_<span class='shy'></span>await</span></span></span></span> functions for an argument
<i >a</i> (<a href='over.match.oper' title='12.2.2.3&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>), and choosing the best one through
overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)<a class='hidden_link' href='#await-3.3.sentence-1'>.</a></div> <div id='await-3.3.sentence-2' class='sentence'>If overload resolution is ambiguous,
the program is ill-formed<a class='hidden_link' href='#await-3.3.sentence-2'>.</a></div> <div id='await-3.3.sentence-3' class='sentence'>If no viable functions are found, <i >o</i> is <i >a</i><a class='hidden_link' href='#await-3.3.sentence-3'>.</a></div> <div id='await-3.3.sentence-4' class='sentence'>Otherwise, <i >o</i> is a call to the selected function
with the argument <i >a</i><a class='hidden_link' href='#await-3.3.sentence-4'>.</a></div> <div id='await-3.3.sentence-5' class='sentence'>If <i >o</i> would be a prvalue,
the temporary materialization conversion (<a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>) is applied<a class='hidden_link' href='#await-3.3.sentence-5'>.</a></div></div></li><li id='await-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.4'>(3.4)</a></div><div class='texpara'><div id='await-3.4.sentence-1' class='sentence'><i >e</i> is an lvalue
referring to the result of evaluating
the (possibly-converted) <i >o</i><a class='hidden_link' href='#await-3.4.sentence-1'>.</a></div></div></li><li id='await-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.5'>(3.5)</a></div><div class='texpara'><div id='await-3.5.sentence-1' class='sentence'><i >h</i> is an object of type
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>coroutine_<span class='shy'></span>handle<span class='anglebracket'>&lt;</span>P<span class='anglebracket'>&gt;</span></span>
referring to the enclosing coroutine<a class='hidden_link' href='#await-3.5.sentence-1'>.</a></div></div></li><li id='await-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.6'>(3.6)</a></div><div class='texpara'><div id='await-3.6.sentence-1' class='sentence'><i >await-ready</i> is the expression
<i >e</i><span class='texttt'><span class='operator'>.</span>await_<span class='shy'></span>ready<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
contextually converted to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#await-3.6.sentence-1'>.</a></div></div></li><li id='await-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.7'>(3.7)</a></div><div class='texpara'><div id='await-3.7.sentence-1' class='sentence'><i >await-suspend</i> is the expression
<i >e</i><span class='texttt'><span class='operator'>.</span>await_<span class='shy'></span>suspend<span class='parenthesis'>(</span></span><i >h</i><span class='texttt'><span class='parenthesis'>)</span></span>,
which shall be a prvalue of type <span id=':void__________________________'><span class='texttt'><span class='keyword'>void</span></span></span>, <span id=':bool_______________'><span class='texttt'><span class='keyword'>bool</span></span></span>, or
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>coroutine_<span class='shy'></span>handle<span class='anglebracket'>&lt;</span>Z<span class='anglebracket'>&gt;</span></span> for some type <span class='texttt'>Z</span><a class='hidden_link' href='#await-3.7.sentence-1'>.</a></div></div></li><li id='await-3.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-3.8'>(3.8)</a></div><div class='texpara'><div id='await-3.8.sentence-1' class='sentence'><i >await-resume</i> is the expression
<i >e</i><span class='texttt'><span class='operator'>.</span>await_<span class='shy'></span>resume<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#await-3.8.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='await-4'><div class='marginalizedparent'><a class='marginalized' href='#await-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5232'>#</a></div><div class='texpara'><div id='await-4.sentence-1' class='sentence'>The <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression_________'><span class='textsf'><i >await-expression</i></span></span></a> has the same type and value category
as the <i >await-resume</i> expression<a class='hidden_link' href='#await-4.sentence-1'>.</a></div></div></div><div class='para' id='await-5'><div class='marginalizedparent'><a class='marginalized' href='#await-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5236'>#</a></div><div class='texpara'><div id='await-5.sentence-1' class='sentence'>The <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression__________'><span class='textsf'><i >await-expression</i></span></span></a> evaluates
the (possibly-converted) <i >o</i> expression and
the <i >await-ready</i> expression, then:
<ul class='itemize'><li id='await-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-5.1'>(5.1)</a></div><div class='texpara'><div id='await-5.1.sentence-1' class='sentence'>If the result of <i >await-ready</i> is <span id=':false_________'><span class='texttt'><span class='literal'>false</span></span></span>,
the coroutine is considered suspended<a class='hidden_link' href='#await-5.1.sentence-1'>.</a></div> <div id='await-5.1.sentence-2' class='sentence'>Then:
<ul class='itemize'><li id='await-5.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#await-5.1.1'>(5.1.1)</a></div><div class='texpara'><div id='await-5.1.1.sentence-1' class='sentence'>If the type of <i >await-suspend</i>
is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>coroutine_<span class='shy'></span>handle<span class='anglebracket'>&lt;</span>Z<span class='anglebracket'>&gt;</span></span>,
<i >await-suspend</i><span class='texttt'><span class='operator'>.</span>resume<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is evaluated<a class='hidden_link' href='#await-5.1.1.sentence-1'>.</a></div> <div id='await-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#await-note-1'>1</a></i>:&ensp;<div id='await-5.1.1.sentence-2' class='sentence'>This resumes the coroutine referred to
by the result of <i >await-suspend</i><a class='hidden_link' href='#await-5.1.1.sentence-2'>.</a></div> <div id='await-5.1.1.sentence-3' class='sentence'>Any number of coroutines can be successively resumed in this fashion,
eventually returning control flow to the current coroutine caller or
resumer (<a href='dcl.fct.def.coroutine' title='9.6.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>)<a class='hidden_link' href='#await-5.1.1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='await-5.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#await-5.1.2'>(5.1.2)</a></div><div class='texpara'><div id='await-5.1.2.sentence-1' class='sentence'>Otherwise, if the type of <i >await-suspend</i>
is <span id=':bool________________'><span class='texttt'><span class='keyword'>bool</span></span></span>,
<i >await-suspend</i> is evaluated,
and the coroutine is resumed if the result is <span id=':false__________'><span class='texttt'><span class='literal'>false</span></span></span><a class='hidden_link' href='#await-5.1.2.sentence-1'>.</a></div></div></li><li id='await-5.1.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#await-5.1.3'>(5.1.3)</a></div><div class='texpara'><div id='await-5.1.3.sentence-1' class='sentence'>Otherwise, <i >await-suspend</i> is evaluated<a class='hidden_link' href='#await-5.1.3.sentence-1'>.</a></div></div></li></ul></div> <div id='await-5.1.sentence-3' class='sentence'>
If the evaluation of <i >await-suspend</i>
exits via an exception, the exception is caught,
the coroutine is resumed, and the exception is immediately
rethrown (<a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a>)<a class='hidden_link' href='#await-5.1.sentence-3'>.</a></div> <div id='await-5.1.sentence-4' class='sentence'>Otherwise, control flow returns
to the current coroutine caller or resumer (<a href='dcl.fct.def.coroutine' title='9.6.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>)
without exiting any scopes (<a href='stmt.jump' title='8.7&emsp;Jump statements'>[stmt.<span class='shy'></span>jump]</a>)<a class='hidden_link' href='#await-5.1.sentence-4'>.</a></div> <div id='await-5.1.sentence-5' class='sentence'><a class='index' id=':coroutine,suspend_point'></a>The point in the coroutine
immediately prior to control returning to its caller or resumer
is a coroutine <a class='hidden_link' href='#def:suspend_point' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='def:suspend_point'><i >suspend point</i></span></a><a class='hidden_link' href='#await-5.1.sentence-5'>.</a></div></div></li><li id='await-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#await-5.2'>(5.2)</a></div><div class='texpara'><div id='await-5.2.sentence-1' class='sentence'>If the result of <i >await-ready</i> is <span id=':true______'><span class='texttt'><span class='literal'>true</span></span></span>,
or when the coroutine is resumed
other than by rethrowing an exception from <i >await-suspend</i>,
the <i >await-resume</i> expression is evaluated, and
its result is the result of the <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression___________'><span class='textsf'><i >await-expression</i></span></span></a><a class='hidden_link' href='#await-5.2.sentence-1'>.</a></div></div></li></ul></div> <div id='await-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#await-note-2'>2</a></i>:&ensp;<div id='await-5.sentence-2' class='sentence'>With respect to sequencing,
an <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression____________'><span class='textsf'><i >await-expression</i></span></span></a> is indivisible (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#await-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='await-6'><div class='marginalizedparent'><a class='marginalized' href='#await-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5290'>#</a></div><div class='texpara'><div id='await-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#await-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> my_future <span class='curlybracket'>{</span>
  <span class='comment'>/* ... */</span>
  <span class='keyword'>bool</span> await_ready<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> await_suspend<span class='parenthesis'>(</span>std<span class='operator'>::</span>coroutine_handle<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
  T await_resume<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Rep, <span class='keyword'>class</span> Period<span class='anglebracket'>&gt;</span>
<span class='keyword'>auto</span> <span class='keyword'>operator</span> <span class='keyword'>co_await</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>chrono<span class='operator'>::</span>duration<span class='anglebracket'>&lt;</span>Rep, Period<span class='anglebracket'>&gt;</span> d<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> awaiter <span class='curlybracket'>{</span>
    std<span class='operator'>::</span>chrono<span class='operator'>::</span>system_clock<span class='operator'>::</span>duration duration;
    <span class='comment'>/* ... */</span>
    awaiter<span class='parenthesis'>(</span>std<span class='operator'>::</span>chrono<span class='operator'>::</span>system_clock<span class='operator'>::</span>duration d<span class='parenthesis'>)</span> <span class='operator'>:</span> duration<span class='parenthesis'>(</span>d<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
    <span class='keyword'>bool</span> await_ready<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> duration<span class='operator'>.</span>count<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>
    <span class='keyword'>void</span> await_resume<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
    <span class='keyword'>void</span> await_suspend<span class='parenthesis'>(</span>std<span class='operator'>::</span>coroutine_handle<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> h<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
  <span class='keyword'>return</span> awaiter<span class='curlybracket'>{</span>d<span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>using</span> <span class='keyword'>namespace</span> std<span class='operator'>::</span>chrono;

my_future<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

my_future<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='anglebracket'>&gt;</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>"just about to go to sleep...\n"</span>;
  <span class='keyword'>co_await</span> <span class='literal'>10ms</span>;
  std<span class='operator'>::</span>cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>"resumed\n"</span>;
  <span class='keyword'>co_await</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>auto</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> x <span class='operator'>=</span> <span class='keyword'>co_await</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression_____________'><span class='textsf'><i >await-expression</i></span></span></a> outside of function suspension context</span>
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='keyword'>co_await</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>}</span>;     <span class='comment'>// error: <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression______________'><span class='textsf'><i >await-expression</i></span></span></a> outside of function suspension context</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='sizeof' class='section'><h4 ><a class='secnum' href='#sizeof' style='min-width:95pt'>7.6.2.5</a> Sizeof <a class='abbr_ref' href='expr.sizeof'>[expr.sizeof]</a></h4><div class='para' id='sizeof-1'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5332'>#</a></div><div class='texpara'><div id='sizeof-1.sentence-1' class='sentence'><a class='index' id=':expression,sizeof'></a><a class='index' id=':operator,sizeof_'></a><a class='index' id=':byte'></a>The <span id=':sizeof_____'><span class='texttt'><span class='keyword'>sizeof</span></span></span> operator yields the number of bytes
occupied by a non-potentially-overlapping object of the type
of its operand<a class='hidden_link' href='#sizeof-1.sentence-1'>.</a></div> <div id='sizeof-1.sentence-2' class='sentence'>The operand is either an expression,
which is an <a href='#def:unevaluated_operand' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'>unevaluated operand</a>, or a parenthesized
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_______________'><span class='textsf'><i >type-id</i></span></span></a><a class='hidden_link' href='#sizeof-1.sentence-2'>.</a></div> <div id='sizeof-1.sentence-3' class='sentence'><a class='index' id=':type,incomplete_______'></a>The <span id=':sizeof______'><span class='texttt'><span class='keyword'>sizeof</span></span></span> operator shall not be applied to an expression that
has function or incomplete type,
to the parenthesized name of such
types, or to a glvalue that designates a bit-field<a class='hidden_link' href='#sizeof-1.sentence-3'>.</a></div> <div id='sizeof-1.sentence-4' class='sentence'>The result of <span id=':sizeof_______'><span class='texttt'><span class='keyword'>sizeof</span></span></span>
applied to any of the narrow character types is <span class='texttt'><span class='literal'>1</span></span><a class='hidden_link' href='#sizeof-1.sentence-4'>.</a></div> <div id='sizeof-1.sentence-5' class='sentence'>The result of
<span id=':sizeof________'><span class='texttt'><span class='keyword'>sizeof</span></span></span> applied to any other fundamental
type (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>) is <a class='index' id=':sizeof_applied_to_fundamental_types_other_than_char,_signed_char,_and_unsigned_char'></a>implementation-defined<a class='hidden_link' href='#sizeof-1.sentence-5'>.</a></div> <div id='sizeof-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#sizeof-note-1'>1</a></i>:&ensp;<div id='sizeof-1.sentence-6' class='sentence'>In particular, the values of <span class='texttt'><span id=':sizeof_________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span><span id=':bool__________________'><span class='texttt'><span class='keyword'>bool</span></span></span><span class='parenthesis'>)</span></span>, <span class='texttt'><span id=':sizeof__________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span><span id=':char16_t___'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span><span class='parenthesis'>)</span></span>,
<span class='texttt'><span id=':sizeof___________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span><span id=':char32_t___'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span><span class='parenthesis'>)</span></span>, and <span class='texttt'><span id=':sizeof____________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span><span id=':wchar_t___'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span><span class='parenthesis'>)</span></span> are
implementation-defined<a class='hidden_link' href='#sizeof-1.sentence-6'>.</a><a class='footnoteref' href='#footnote-57' id='footnoteref-57' title='sizeof(bool) is not required to be 1.'>57</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='sizeof-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#sizeof-note-2'>2</a></i>:&ensp;<div id='sizeof-1.sentence-7' class='sentence'>See <a href='intro.memory' title='6.7.1&emsp;Memory model'>[intro.<span class='shy'></span>memory]</a> for the definition of byte
and <a href='basic.types.general#term.object.representation' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a> for the definition of object representation<a class='hidden_link' href='#sizeof-1.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='sizeof-2'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5366'>#</a></div><div class='texpara'><div id='sizeof-2.sentence-1' class='sentence'><a class='index' id=':reference,sizeof'></a>When applied to a reference type, the result is the size
of the referenced type<a class='hidden_link' href='#sizeof-2.sentence-1'>.</a></div> <div id='sizeof-2.sentence-2' class='sentence'><a class='index' id=':class_object,sizeof'></a>When applied to a class, the result is the number of bytes in an object
of that class including any padding required for placing objects of that
type in an array<a class='hidden_link' href='#sizeof-2.sentence-2'>.</a></div> <div id='sizeof-2.sentence-3' class='sentence'>The result of applying <span id=':sizeof_____________'><span class='texttt'><span class='keyword'>sizeof</span></span></span> to a
potentially-overlapping subobject is
the size of the type, not the size of the subobject<a class='hidden_link' href='#sizeof-2.sentence-3'>.</a><a class='footnoteref' href='#footnote-58' id='footnoteref-58' title='The actual size of a potentially-overlapping subobject can be less than the result of applying sizeof to the subobject, due to virtual base classes and less strict padding requirements on potentially-overlapping subobjects.'>58</a></div> <div id='sizeof-2.sentence-4' class='sentence'><a class='index' id=':array,sizeof'></a>When applied to an array, the result is the total number of bytes in the
array<a class='hidden_link' href='#sizeof-2.sentence-4'>.</a></div> <div id='sizeof-2.sentence-5' class='sentence'>This implies that the size of an array of <span class='math'><span class='mathalpha'>n</span></span> elements is
<span class='math'><span class='mathalpha'>n</span></span> times the size of an element<a class='hidden_link' href='#sizeof-2.sentence-5'>.</a></div></div></div><div class='para' id='sizeof-3'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5388'>#</a></div><div class='texpara'><div id='sizeof-3.sentence-1' class='sentence'>The lvalue-to-rvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>),
array-to-pointer (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>), and
function-to-pointer (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>) standard conversions are not
applied to the operand of <span id=':sizeof______________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><a class='hidden_link' href='#sizeof-3.sentence-1'>.</a></div> <div id='sizeof-3.sentence-2' class='sentence'>If the operand is a prvalue,
the <a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion&emsp;[conv.rval]'>temporary materialization conversion</a>
is applied<a class='hidden_link' href='#sizeof-3.sentence-2'>.</a></div></div></div><div class='para' id='sizeof-4'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5397'>#</a></div><div class='texpara'><div id='sizeof-4.sentence-1' class='sentence'>The <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier________________'><span class='textsf'><i >identifier</i></span></span></a> in a <span class='texttt'><span id=':sizeof_______________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> expression shall name a
pack<a class='hidden_link' href='#sizeof-4.sentence-1'>.</a></div> <div id='sizeof-4.sentence-2' class='sentence'>The <span class='texttt'><span id=':sizeof________________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> operator yields the number of elements
in the pack (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#sizeof-4.sentence-2'>.</a></div> <div id='sizeof-4.sentence-3' class='sentence'>A <span class='texttt'><span id=':sizeof_________________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> expression is a pack expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#sizeof-4.sentence-3'>.</a></div> <div id='sizeof-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#sizeof-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> count <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>constexpr</span> std<span class='operator'>::</span>size_t value <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='sizeof-5'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5411'>#</a></div><div class='texpara'><div id='sizeof-5.sentence-1' class='sentence'><a class='index' id=':size_t'></a><a class='index' id='lib:size_t'></a>The result of <span id=':sizeof__________________'><span class='texttt'><span class='keyword'>sizeof</span></span></span> and <span class='texttt'><span id=':sizeof___________________'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> is a prvalue of type
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span><a class='hidden_link' href='#sizeof-5.sentence-1'>.</a></div> <div id='sizeof-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#sizeof-note-3'>3</a></i>:&ensp;<div id='sizeof-5.sentence-2' class='sentence'>A <span id=':sizeof____________________'><span class='texttt'><span class='keyword'>sizeof</span></span></span> expression
is an integral constant expression (<a href='#const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#sizeof-5.sentence-2'>.</a></div> <div id='sizeof-5.sentence-3' class='sentence'>The <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> is declared in the standard header
<a href='cstddef.syn#header:%3ccstddef%3e' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis&emsp;[cstddef.syn]'><span id='headerref:<cstddef>'><span class='texttt'>&lt;cstddef&gt;</span></span></a> (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>, <a href='support.types.layout' title='17.2.4&emsp;Sizes, alignments, and offsets'>[support.<span class='shy'></span>types.<span class='shy'></span>layout]</a>)<a class='hidden_link' href='#sizeof-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-57'><div class='texpara'><a class='footnotenum' href='#footnote-57'>57)</a><a class='footnoteBacklink' href='#footnoteref-57'>57)</a> <div id='footnote-57.sentence-1' class='sentence'><span class='texttt'><span id=':sizeof___'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span><span id=':bool_________________'><span class='texttt'><span class='keyword'>bool</span></span></span><span class='parenthesis'>)</span></span> is not required to be <span class='texttt'><span class='literal'>1</span></span><a class='hidden_link' href='#footnote-57.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-58'><div class='texpara'><a class='footnotenum' href='#footnote-58'>58)</a><a class='footnoteBacklink' href='#footnoteref-58'>58)</a> <div id='footnote-58.sentence-1' class='sentence'>The actual size of a potentially-overlapping subobject
can be less than the result of
applying <span id=':sizeof____'><span class='texttt'><span class='keyword'>sizeof</span></span></span> to the subobject, due to virtual base classes
and less strict padding requirements on potentially-overlapping subobjects<a class='hidden_link' href='#footnote-58.sentence-1'>.</a></div></div></div></div><div id='alignof' class='section'><h4 ><a class='secnum' href='#alignof' style='min-width:95pt'>7.6.2.6</a> Alignof <a class='abbr_ref' href='expr.alignof'>[expr.alignof]</a></h4><div class='para' id='alignof-1'><div class='marginalizedparent'><a class='marginalized' href='#alignof-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5425'>#</a></div><div class='texpara'><div id='alignof-1.sentence-1' class='sentence'><a class='index' id=':alignof_'></a><a class='index' id=':expression,alignof'></a>An <span id=':alignof__'><span class='texttt'><span class='keyword'>alignof</span></span></span> expression yields the alignment requirement
of its operand type<a class='hidden_link' href='#alignof-1.sentence-1'>.</a></div> <div id='alignof-1.sentence-2' class='sentence'>The operand shall be a <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id________________'><span class='textsf'><i >type-id</i></span></span></a>
representing a complete object type, or an array thereof, or a reference
to one of those types<a class='hidden_link' href='#alignof-1.sentence-2'>.</a></div></div></div><div class='para' id='alignof-2'><div class='marginalizedparent'><a class='marginalized' href='#alignof-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5433'>#</a></div><div class='texpara'><div id='alignof-2.sentence-1' class='sentence'>The result is a prvalue of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span><a class='hidden_link' href='#alignof-2.sentence-1'>.</a></div> <div id='alignof-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#alignof-note-1'>1</a></i>:&ensp;<div id='alignof-2.sentence-2' class='sentence'>An <span id=':alignof___'><span class='texttt'><span class='keyword'>alignof</span></span></span> expression
is an integral constant expression (<a href='#const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#alignof-2.sentence-2'>.</a></div> <div id='alignof-2.sentence-3' class='sentence'>The <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> is declared in the standard header
<a href='cstddef.syn#header:%3ccstddef%3e' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis&emsp;[cstddef.syn]'><span id='headerref:<cstddef>_'><span class='texttt'>&lt;cstddef&gt;</span></span></a> (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>, <a href='support.types.layout' title='17.2.4&emsp;Sizes, alignments, and offsets'>[support.<span class='shy'></span>types.<span class='shy'></span>layout]</a>)<a class='hidden_link' href='#alignof-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='alignof-3'><div class='marginalizedparent'><a class='marginalized' href='#alignof-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5442'>#</a></div><div class='texpara'><div id='alignof-3.sentence-1' class='sentence'>When <span id=':alignof____'><span class='texttt'><span class='keyword'>alignof</span></span></span> is applied to a reference type, the result
is the alignment of the referenced type<a class='hidden_link' href='#alignof-3.sentence-1'>.</a></div> <div id='alignof-3.sentence-2' class='sentence'>When <span id=':alignof_____'><span class='texttt'><span class='keyword'>alignof</span></span></span>
is applied to an array type, the result is the alignment of the
element type<a class='hidden_link' href='#alignof-3.sentence-2'>.</a></div></div></div></div><div id='unary.noexcept' class='section'><h4 ><a class='secnum' href='#unary.noexcept' style='min-width:95pt'>7.6.2.7</a> <span class='texttt'>noexcept</span> operator <a class='abbr_ref' href='expr.unary.noexcept'>[expr.unary.noexcept]</a></h4><div class='texpara'><a class='index' id=':noexcept_________'></a><a class='index' id=':expression,noexcept'></a>
<div class='bnf' id='nt:noexcept-expression'>
<a class='hidden_link' href='#nt:noexcept-expression' title='7.6.2.7&emsp;noexcept operator&emsp;[expr.unary.noexcept]'><span id='nt:noexcept-expression'><span id=':noexcept-expression'>noexcept-expression<span class='textnormal'>:</span></span></span></a><br><span id=':noexcept__________'><span class='texttt'><span class='keyword'>noexcept</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___________________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='para' id='unary.noexcept-1'><div class='marginalizedparent'><a class='marginalized' href='#unary.noexcept-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5458'>#</a></div><div class='texpara'><div id='unary.noexcept-1.sentence-1' class='sentence'>The operand of the <span id=':noexcept___________'><span class='texttt'><span class='keyword'>noexcept</span></span></span> operator
is an unevaluated operand (<a href='#context#term.unevaluated.operand' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)<a class='hidden_link' href='#unary.noexcept-1.sentence-1'>.</a></div> <div id='unary.noexcept-1.sentence-2' class='sentence'>If the operand is a prvalue,
the temporary materialization conversion (<a href='#conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>) is applied<a class='hidden_link' href='#unary.noexcept-1.sentence-2'>.</a></div></div></div><div class='para' id='unary.noexcept-2'><div class='marginalizedparent'><a class='marginalized' href='#unary.noexcept-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5464'>#</a></div><div class='texpara'><div id='unary.noexcept-2.sentence-1' class='sentence'>The result of the <span id=':noexcept____________'><span class='texttt'><span class='keyword'>noexcept</span></span></span> operator is a prvalue of type <span id=':bool___________________'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#unary.noexcept-2.sentence-1'>.</a></div> <div id='unary.noexcept-2.sentence-2' class='sentence'>The result is <span class='texttt'><span class='literal'>false</span></span> if
the full-expression of the operand is potentially-throwing (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>), and
<span class='texttt'><span class='literal'>true</span></span> otherwise<a class='hidden_link' href='#unary.noexcept-2.sentence-2'>.</a></div> <div id='unary.noexcept-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unary.noexcept-note-1'>1</a></i>:&ensp;<div id='unary.noexcept-2.sentence-3' class='sentence'>A <a href='#nt:noexcept-expression' title='7.6.2.7&emsp;noexcept operator&emsp;[expr.unary.noexcept]'><span id='ntref:noexcept-expression_'><span class='textsf'><i >noexcept-expression</i></span></span></a>
is an integral constant expression (<a href='#const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#unary.noexcept-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div></div><div id='new' class='section'><h4 ><a class='secnum' href='#new' style='min-width:95pt'>7.6.2.8</a> New <a class='abbr_ref' href='expr.new'>[expr.new]</a></h4><div class='para' id='new-1'><div class='marginalizedparent'><a class='marginalized' href='#new-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5477'>#</a></div><div class='texpara'><div id='new-1.sentence-1' class='sentence'><a class='index' id=':expression,new'></a><a class='index' id=':new'></a>The <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_'><span class='textsf'><i >new-expression</i></span></span></a> attempts to create an object of the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_________________'><span class='textsf'><i >type-id</i></span></span></a> or <a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id'><span class='textsf'><i >new-type-id</i></span></span></a> (<a href='dcl.name' title='9.3.2&emsp;Type names'>[dcl.<span class='shy'></span>name]</a>) to which
it is applied<a class='hidden_link' href='#new-1.sentence-1'>.</a></div> <div id='new-1.sentence-2' class='sentence'>The type of that object is the <a class='hidden_link' href='#def:type,allocated' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='def:type,allocated'><i >allocated type</i></span></a><a class='hidden_link' href='#new-1.sentence-2'>.</a></div> <div id='new-1.sentence-3' class='sentence'><a class='index' id=':type,incomplete________'></a>This type shall be a complete object type (<a href='basic.types.general#term.incomplete.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>),
but not an abstract class type (<a href='class.abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>) or array
thereof (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)<a class='hidden_link' href='#new-1.sentence-3'>.</a></div> <div id='new-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-1'>1</a></i>:&ensp;<div id='new-1.sentence-4' class='sentence'>Because references are not objects, references cannot be created by
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__'><span class='textsf'><i >new-expression</i></span></span></a><i >s</i><a class='hidden_link' href='#new-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='new-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-2'>2</a></i>:&ensp;<div id='new-1.sentence-5' class='sentence'>The <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__________________'><span class='textsf'><i >type-id</i></span></span></a> can be a cv-qualified type, in which case the
object created by the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___'><span class='textsf'><i >new-expression</i></span></span></a> has a cv-qualified type<a class='hidden_link' href='#new-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='bnf' id='nt:new-expression'>
<a class='hidden_link' href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='nt:new-expression'><span id=':new-expression'>new-expression<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>::</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span id=':new_'><span class='texttt'><span class='keyword'>new</span></span></span> <a href='#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement'><span class='textsf'><i >new-placement</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id_'><span class='textsf'><i >new-type-id</i></span></span></a> <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer_'><span class='textsf'><i >new-initializer</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <br><span class='terminal'><span class='operator'>::</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span id=':new__'><span class='texttt'><span class='keyword'>new</span></span></span> <a href='#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement_'><span class='textsf'><i >new-placement</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___________________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer__'><span class='textsf'><i >new-initializer</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><a class='index' id=':new,storage_allocation'></a><div class='bnf' id='nt:new-placement'>
<a class='hidden_link' href='#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='nt:new-placement'><span id=':new-placement'>new-placement<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_________'><span class='textsf'><i >expression-list</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:new-type-id'>
<a class='hidden_link' href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='nt:new-type-id'><span id=':new-type-id'>new-type-id<span class='textnormal'>:</span></span></span></a><br><a href='dcl.type.general#nt:type-specifier-seq' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier-seq'><span class='textsf'><i >type-specifier-seq</i></span></span></a> <a href='#nt:new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-declarator'><span class='textsf'><i >new-declarator</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:new-declarator'>
<a class='hidden_link' href='#nt:new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='nt:new-declarator'><span id=':new-declarator'>new-declarator<span class='textnormal'>:</span></span></span></a><br><a href='dcl.decl.general#nt:ptr-operator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-operator'><span class='textsf'><i >ptr-operator</i></span></span></a> <a href='#nt:new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-declarator_'><span class='textsf'><i >new-declarator</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <br><a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator'><span class='textsf'><i >noptr-new-declarator</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:noptr-new-declarator'>
<a class='hidden_link' href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='nt:noptr-new-declarator'><span id=':noptr-new-declarator'>noptr-new-declarator<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='squarebracket'>[</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____________________'><span class='textsf'><i >expression</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='squarebracket'>]</span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq__________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><br><a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator_'><span class='textsf'><i >noptr-new-declarator</i></span></span></a> <span class='terminal'><span class='squarebracket'>[</span></span> <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression__'><span class='textsf'><i >constant-expression</i></span></span></a> <span class='terminal'><span class='squarebracket'>]</span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq___________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:new-initializer'>
<a class='hidden_link' href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='nt:new-initializer'><span id=':new-initializer'>new-initializer<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__________'><span class='textsf'><i >expression-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br><a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list____'><span class='textsf'><i >braced-init-list</i></span></span></a>
</div></div></div><div class='para' id='new-2'><div class='marginalizedparent'><a class='marginalized' href='#new-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5538'>#</a></div><div class='texpara'><div id='new-2.sentence-1' class='sentence'>If a <a href='dcl.spec.auto' title='9.2.9.7&emsp;Placeholder type specifiers&emsp;[dcl.spec.auto]'>placeholder type</a> or
a placeholder for a deduced class type (<a href='dcl.type.class.deduct' title='9.2.9.8&emsp;Deduced class template specialization types'>[dcl.<span class='shy'></span>type.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>)
appears in the
<a href='dcl.type.general#nt:type-specifier-seq' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier-seq_'><span class='textsf'><i >type-specifier-seq</i></span></span></a> of a <a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id__'><span class='textsf'><i >new-type-id</i></span></span></a> or
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____________________'><span class='textsf'><i >type-id</i></span></span></a> of a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression____'><span class='textsf'><i >new-expression</i></span></span></a>,
the allocated type is deduced as follows:
Let
<i >init</i> be the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer___'><span class='textsf'><i >new-initializer</i></span></span></a>, if any,
and
<span class='texttt'>T</span> be the <a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id___'><span class='textsf'><i >new-type-id</i></span></span></a> or <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____________________'><span class='textsf'><i >type-id</i></span></span></a> of
the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_____'><span class='textsf'><i >new-expression</i></span></span></a>, then the allocated type is the type
deduced for the variable <span class='texttt'>x</span> in the invented
declaration (<a href='dcl.spec.auto' title='9.2.9.7&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>):
<span class='codeblock'>T x <span class='textrm'><i >init</i></span> ;
</span></div></div><div class='texpara'><div id='new-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#new-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>new</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                    <span class='comment'>// allocated type is <span class='tcode_in_codeblock'>int</span></span>
<span class='keyword'>auto</span> x <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='literal'>'a'</span><span class='parenthesis'>)</span>;         <span class='comment'>// allocated type is <span class='tcode_in_codeblock'>char</span>, <span class='tcode_in_codeblock'>x</span> is of type <span class='tcode_in_codeblock'>char*</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span>T, T<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> y <span class='operator'>=</span> <span class='keyword'>new</span> A<span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;           <span class='comment'>// allocated type is <span class='tcode_in_codeblock'>A&lt;int&gt;</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='new-3'><div class='marginalizedparent'><a class='marginalized' href='#new-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5566'>#</a></div><div class='texpara'><div id='new-3.sentence-1' class='sentence'>The <a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id____'><span class='textsf'><i >new-type-id</i></span></span></a> in a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression______'><span class='textsf'><i >new-expression</i></span></span></a> is the longest
possible sequence of <a href='#nt:new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-declarator__'><span class='textsf'><i >new-declarator</i></span></span></a><i >s</i><a class='hidden_link' href='#new-3.sentence-1'>.</a></div> <div id='new-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-3'>3</a></i>:&ensp;<div id='new-3.sentence-2' class='sentence'>This prevents ambiguities between the declarator operators <span class='texttt'><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='operator'>*</span></span>, and <span class='texttt'><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span> and their expression counterparts<a class='hidden_link' href='#new-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='new-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#new-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>new</span> <span class='keyword'>int</span> <span class='operator'>*</span> i;                    <span class='comment'>// syntax error: parsed as <span class='tcode_in_codeblock'>(new int*) i</span>, not as <span class='tcode_in_codeblock'>(new int)*i</span></span>
</span> <div id='new-3.sentence-3' class='sentence'>
The <span class='texttt'><span class='operator'>*</span></span> is the pointer declarator and not the multiplication
operator<a class='hidden_link' href='#new-3.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='new-4'><div class='marginalizedparent'><a class='marginalized' href='#new-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5581'>#</a></div><div class='texpara'><div id='new-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-4'>4</a></i>:&ensp;<div id='new-4.sentence-1' class='sentence'><a class='index' id=':ambiguity,parentheses_and'></a>Parentheses in a <a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id_____'><span class='textsf'><i >new-type-id</i></span></span></a> of a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_______'><span class='textsf'><i >new-expression</i></span></span></a>
can have surprising effects<a class='hidden_link' href='#new-4.sentence-1'>.</a></div> <div id='new-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#new-example-3'>3</a></i>:&ensp;<div id='new-4.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>new</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// error</span>
</span>
is ill-formed because the binding is
<span class='codeblock'><span class='parenthesis'>(</span><span class='keyword'>new</span> <span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// error</span>
</span></div></div><div class='texpara'><div id='new-4.sentence-3' class='sentence'>Instead, the explicitly parenthesized version of the <span id=':new___'><span class='texttt'><span class='keyword'>new</span></span></span>
operator can be used to create objects of compound
types (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>):</div></div><div class='texpara'><div id='new-4.sentence-4' class='sentence'><span class='codeblock'><span class='keyword'>new</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span>
allocates an array of <span class='texttt'><span class='literal'>10</span></span> pointers to functions (taking no
argument and returning <span class='texttt'><span class='keyword'>int</span></span>)<a class='hidden_link' href='#new-4.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-5'><div class='marginalizedparent'><a class='marginalized' href='#new-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5607'>#</a></div><div class='texpara'><div id='new-5.sentence-1' class='sentence'>The <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.13.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq____________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> in a <a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator__'><span class='textsf'><i >noptr-new-declarator</i></span></span></a> appertains
to the associated array type<a class='hidden_link' href='#new-5.sentence-1'>.</a></div></div></div><div class='para' id='new-6'><div class='marginalizedparent'><a class='marginalized' href='#new-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5611'>#</a></div><div class='texpara'><div id='new-6.sentence-1' class='sentence'>Every <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression___'><span class='textsf'><i >constant-expression</i></span></span></a> in a
<a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator___'><span class='textsf'><i >noptr-new-declarator</i></span></span></a> shall be a converted constant
expression (<a href='#const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> and
its value shall be greater than zero<a class='hidden_link' href='#new-6.sentence-1'>.</a></div> <div id='new-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#new-example-4'>4</a></i>:&ensp;<div id='new-6.sentence-2' class='sentence'>Given the definition <span class='texttt'><span class='keyword'>int</span> n <span class='operator'>=</span> <span class='literal'>42</span></span>,
<span class='texttt'><span class='keyword'>new</span> <span class='keyword'>float</span><span class='squarebracket'>[</span>n<span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span></span> is well-formed (because <span class='texttt'>n</span> is the
<a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____________________'><span class='textsf'><i >expression</i></span></span></a> of a <a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator____'><span class='textsf'><i >noptr-new-declarator</i></span></span></a>), but
<span class='texttt'><span class='keyword'>new</span> <span class='keyword'>float</span><span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span>n<span class='squarebracket'>]</span></span> is ill-formed (because <span class='texttt'>n</span> is not a
constant expression)<a class='hidden_link' href='#new-6.sentence-2'>.</a></div> <div id='new-6.sentence-3' class='sentence'>Furthermore,
<span class='texttt'><span class='keyword'>new</span> <span class='keyword'>float</span><span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span> is well-formed
(because <span class='texttt'><span class='literal'>0</span></span> is the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______________________'><span class='textsf'><i >expression</i></span></span></a>
of a <a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator_____'><span class='textsf'><i >noptr-new-declarator</i></span></span></a>,
where a value of zero results in the allocation of an array with no elements),
but <span class='texttt'><span class='keyword'>new</span> <span class='keyword'>float</span><span class='squarebracket'>[</span>n<span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span> is ill-formed
(because <span class='texttt'><span class='literal'>0</span></span> is the <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression____'><span class='textsf'><i >constant-expression</i></span></span></a>
of a <a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator______'><span class='textsf'><i >noptr-new-declarator</i></span></span></a>,
where only values greater than zero are allowed)<a class='hidden_link' href='#new-6.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='new-7'><div class='marginalizedparent'><a class='marginalized' href='#new-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5633'>#</a></div><div class='texpara'><div id='new-7.sentence-1' class='sentence'>If the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______________________'><span class='textsf'><i >type-id</i></span></span></a> or <a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id______'><span class='textsf'><i >new-type-id</i></span></span></a>
denotes an array type of unknown bound (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>),
the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer____'><span class='textsf'><i >new-initializer</i></span></span></a> shall not be omitted;
the allocated object is an array with <span class='texttt'>n</span> elements,
where <span class='texttt'>n</span> is determined from the number of initial elements
supplied in
the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer_____'><span class='textsf'><i >new-initializer</i></span></span></a> (<a href='dcl.init.aggr' title='9.5.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>, <a href='dcl.init.string' title='9.5.3&emsp;Character arrays'>[dcl.<span class='shy'></span>init.<span class='shy'></span>string]</a>)<a class='hidden_link' href='#new-7.sentence-1'>.</a></div></div></div><div class='para' id='new-8'><div class='marginalizedparent'><a class='marginalized' href='#new-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5642'>#</a></div><div class='texpara'><div id='new-8.sentence-1' class='sentence'><a class='index' id=':new____'></a>If the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_______________________'><span class='textsf'><i >expression</i></span></span></a> in a <a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator_______'><span class='textsf'><i >noptr-new-declarator</i></span></span></a>
is present, it is implicitly converted to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span><a class='hidden_link' href='#new-8.sentence-1'>.</a></div> <div id='new-8.sentence-2' class='sentence'><a class='index' id=':function,allocation'></a>The value of the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression________________________'><span class='textsf'><i >expression</i></span></span></a> is invalid if
<ul class='itemize'><li id='new-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-8.1'>(8.1)</a></div>the expression is of non-class type and its value before converting to
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> is less than zero;</li><li id='new-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-8.2'>(8.2)</a></div>the expression is of class type and its value before application of the second
standard conversion (<a href='over.ics.user' title='12.2.4.2.3&emsp;User-defined conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>user]</a>)<a class='footnoteref' href='#footnote-59' id='footnoteref-59' title='If the conversion function returns a signed integer type, the second standard conversion converts to the unsigned type std&#x200b;::&#x200b;size_&shy;t and thus thwarts any attempt to detect a negative value afterwards.'>59</a>
is less than zero;</li><li id='new-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-8.3'>(8.3)</a></div>its value is such that the size of the allocated object would exceed the
<a class='index' id=':maximum_size_of_an_allocated_object'></a>implementation-defined <a href='implimits' title='Annex B&emsp;(informative)&emsp;Implementation quantities&emsp;[implimits]'>limit</a>; or</li><li id='new-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-8.4'>(8.4)</a></div>the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer______'><span class='textsf'><i >new-initializer</i></span></span></a> is a <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_____'><span class='textsf'><i >braced-init-list</i></span></span></a> and the
number of array elements for which initializers are provided (including the
terminating <span class='texttt'>'\<span class='literal'>0</span>'</span> in a <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal_'><span class='textsf'><i >string-literal</i></span></span></a> (<a href='lex.string' title='5.13.5&emsp;String literals'>[lex.<span class='shy'></span>string]</a>)) exceeds the
number of elements to initialize<a class='hidden_link' href='#new-8.sentence-2'>.</a></li></ul></div></div><div class='texpara'><div id='new-8.sentence-3' class='sentence'>If the value of the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_________________________'><span class='textsf'><i >expression</i></span></span></a> is invalid after converting to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span>:
<ul class='itemize'><li id='new-8.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-8.5'>(8.5)</a></div>if the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__________________________'><span class='textsf'><i >expression</i></span></span></a> is a potentially-evaluated core constant expression,
the program is ill-formed;</li><li id='new-8.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-8.6'>(8.6)</a></div>otherwise, an allocation function is not called; instead
<ul class='itemize'><li id='new-8.6.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#new-8.6.1'>(8.6.1)</a></div>if the allocation function that would have been called
has a non-throwing exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>),
the value of the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression________'><span class='textsf'><i >new-expression</i></span></span></a>
is the null pointer value of the required result type;</li><li id='new-8.6.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#new-8.6.2'>(8.6.2)</a></div>otherwise, the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_________'><span class='textsf'><i >new-expression</i></span></span></a> terminates by throwing an
exception of a type that would match a handler (<a href='except.handle' title='14.4&emsp;Handling an exception'>[except.<span class='shy'></span>handle]</a>) of type
<a href='new.badlength' title='17.6.4.2&emsp;Class bad_&shy;array_&shy;new_&shy;length&emsp;[new.badlength]'><span class='texttt'>std&#x200b;::&#x200b;bad_<span class='shy'></span>array_<span class='shy'></span>new_<span class='shy'></span>length</span></a><a class='hidden_link' href='#new-8.sentence-3'>.</a></li></ul></li></ul></div> <div id='new-8.sentence-4' class='sentence'>
When the value of the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___________________________'><span class='textsf'><i >expression</i></span></span></a> is zero, the allocation
function is called to allocate an array with no elements<a class='hidden_link' href='#new-8.sentence-4'>.</a></div></div></div><div class='para' id='new-9'><div class='marginalizedparent'><a class='marginalized' href='#new-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5697'>#</a></div><div class='texpara'><div id='new-9.sentence-1' class='sentence'>If the allocated type is an array,
the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer_______'><span class='textsf'><i >new-initializer</i></span></span></a> is a <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list______'><span class='textsf'><i >braced-init-list</i></span></span></a>, and
the <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____________________________'><span class='textsf'><i >expression</i></span></span></a>
is potentially-evaluated and not a core constant expression,
the semantic constraints of copy-initializing a hypothetical element of
the array from an empty initializer list
are checked (<a href='dcl.init.list' title='9.5.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#new-9.sentence-1'>.</a></div> <div id='new-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-5'>5</a></i>:&ensp;<div id='new-9.sentence-2' class='sentence'>The array can contain more elements than there are
elements in the <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_______'><span class='textsf'><i >braced-init-list</i></span></span></a>,
requiring initialization of the remainder of the array elements from
an empty initializer list<a class='hidden_link' href='#new-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-10'><div class='marginalizedparent'><a class='marginalized' href='#new-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5712'>#</a></div><div class='texpara'><div id='new-10.sentence-1' class='sentence'><a class='index' id=':storage_duration,dynamic'></a>Objects created by a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__________'><span class='textsf'><i >new-expression</i></span></span></a> have dynamic storage
duration (<a href='basic.stc.dynamic' title='6.7.6.5&emsp;Dynamic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic]</a>)<a class='hidden_link' href='#new-10.sentence-1'>.</a></div> <div id='new-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-6'>6</a></i>:&ensp;<div id='new-10.sentence-2' class='sentence'><a class='index' id=':new,scoping_and'></a>The lifetime of such an object is not necessarily restricted to the
scope in which it is created<a class='hidden_link' href='#new-10.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-11'><div class='marginalizedparent'><a class='marginalized' href='#new-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5722'>#</a></div><div class='texpara'><div id='new-11.sentence-1' class='sentence'><a class='index' id=':array,new'></a>When the allocated type is “array of <span class='texttt'>N</span> <span class='texttt'>T</span>”
(that is, the <a href='#nt:noptr-new-declarator' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:noptr-new-declarator________'><span class='textsf'><i >noptr-new-declarator</i></span></span></a> syntax is used or the
<a href='#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id_______'><span class='textsf'><i >new-type-id</i></span></span></a> or <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_______________________'><span class='textsf'><i >type-id</i></span></span></a> denotes an array type),
the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___________'><span class='textsf'><i >new-expression</i></span></span></a> yields a prvalue of type “pointer to <span class='texttt'>T</span>”
that points to the initial element (if any) of the array<a class='hidden_link' href='#new-11.sentence-1'>.</a></div> <div id='new-11.sentence-2' class='sentence'>Otherwise, let <span class='texttt'>T</span> be the allocated type;
the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression____________'><span class='textsf'><i >new-expression</i></span></span></a>
is a prvalue of type “pointer to T”
that points to the object created<a class='hidden_link' href='#new-11.sentence-2'>.</a></div> <div id='new-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-7'>7</a></i>:&ensp;<div id='new-11.sentence-3' class='sentence'>Both <span class='texttt'><span id=':new_____'><span class='texttt'><span class='keyword'>new</span></span></span> <span id=':int_____________________________'><span class='texttt'><span class='keyword'>int</span></span></span></span> and <span class='texttt'><span id=':new______'><span class='texttt'><span class='keyword'>new</span></span></span> <span id=':int______________________________'><span class='texttt'><span class='keyword'>int</span></span></span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span></span> have type <span class='texttt'><span id=':int_______________________________'><span class='texttt'><span class='keyword'>int</span></span></span><span class='operator'>*</span></span> and
the type of <span class='texttt'><span id=':new_______'><span class='texttt'><span class='keyword'>new</span></span></span> <span id=':int________________________________'><span class='texttt'><span class='keyword'>int</span></span></span><span class='squarebracket'>[</span>i<span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span></span> is <span class='texttt'><span id=':int_________________________________'><span class='texttt'><span class='keyword'>int</span></span></span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#new-11.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-12'><div class='marginalizedparent'><a class='marginalized' href='#new-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5738'>#</a></div><div class='texpara'><div id='new-12.sentence-1' class='sentence'>A <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_____________'><span class='textsf'><i >new-expression</i></span></span></a> may obtain storage for the object by calling an
allocation function (<a href='basic.stc.dynamic.allocation' title='6.7.6.5.2&emsp;Allocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>allocation]</a>)<a class='hidden_link' href='#new-12.sentence-1'>.</a></div> <div id='new-12.sentence-2' class='sentence'>If
the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression______________'><span class='textsf'><i >new-expression</i></span></span></a> terminates by throwing an exception, it
may release storage by calling a <a href='basic.stc.dynamic.deallocation' title='6.7.6.5.3&emsp;Deallocation functions&emsp;[basic.stc.dynamic.deallocation]'>deallocation
function</a><a class='hidden_link' href='#new-12.sentence-2'>.</a></div> <div id='new-12.sentence-3' class='sentence'>If the allocated type
is a non-array type, the allocation function's name is
<a class='index' id=':operator_new'></a><a class='index' id=':operator_delete'></a><span class='texttt'><span id=':operator__'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new________'><span class='texttt'><span class='keyword'>new</span></span></span></span> and the deallocation function's name is
<span class='texttt'><span id=':operator___'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete'><span class='texttt'><span class='keyword'>delete</span></span></span></span><a class='hidden_link' href='#new-12.sentence-3'>.</a></div> <div id='new-12.sentence-4' class='sentence'>If the allocated type is an array type, the
allocation function's name is
<a class='index' id=':operator_new_'></a><a class='index' id=':operator_delete_'></a><span class='texttt'><span id=':operator____'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new_________'><span class='texttt'><span class='keyword'>new</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
and the deallocation function's name is
<span class='texttt'><span id=':operator_____'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete_'><span class='texttt'><span class='keyword'>delete</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#new-12.sentence-4'>.</a></div> <div id='new-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-8'>8</a></i>:&ensp;<div id='new-12.sentence-5' class='sentence'>An implementation is expected to provide default definitions for the global
allocation
functions (<a href='basic.stc.dynamic' title='6.7.6.5&emsp;Dynamic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic]</a>, <a href='new.delete.single' title='17.6.3.2&emsp;Single-object forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>single]</a>, <a href='new.delete.array' title='17.6.3.3&emsp;Array forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#new-12.sentence-5'>.</a></div> <div id='new-12.sentence-6' class='sentence'>A C++ program can provide alternative definitions of
these functions (<a href='replacement.functions' title='16.4.5.6&emsp;Replacement functions'>[replacement.<span class='shy'></span>functions]</a>) and/or class-specific
versions (<a href='class.free' title='11.4.11&emsp;Allocation and deallocation functions'>[class.<span class='shy'></span>free]</a>)<a class='hidden_link' href='#new-12.sentence-6'>.</a></div> <div id='new-12.sentence-7' class='sentence'>The set of allocation and deallocation functions that can be called
by a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_______________'><span class='textsf'><i >new-expression</i></span></span></a>
can include functions that do not perform allocation or deallocation;
for example, see <a href='new.delete.placement' title='17.6.3.4&emsp;Non-allocating forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>placement]</a><a class='hidden_link' href='#new-12.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-13'><div class='marginalizedparent'><a class='marginalized' href='#new-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5768'>#</a></div><div class='texpara'><div id='new-13.sentence-1' class='sentence'><a class='index' id=':operator,scope_resolution__'></a>If the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression________________'><span class='textsf'><i >new-expression</i></span></span></a>
does not begin with a unary <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> operator and
the allocated type is a class type <span class='texttt'>T</span> or array thereof,
a search is performed for the allocation function's name in the scope
of <span class='texttt'>T</span> (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#new-13.sentence-1'>.</a></div> <div id='new-13.sentence-2' class='sentence'>Otherwise, or if nothing is found,
the allocation function's name is looked up by
searching for it in the global scope<a class='hidden_link' href='#new-13.sentence-2'>.</a></div></div></div><div class='para' id='new-14'><div class='marginalizedparent'><a class='marginalized' href='#new-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5779'>#</a></div><div class='texpara'><div id='new-14.sentence-1' class='sentence'>An implementation is allowed to omit a call to a replaceable global allocation
function (<a href='new.delete.single' title='17.6.3.2&emsp;Single-object forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>single]</a>, <a href='new.delete.array' title='17.6.3.3&emsp;Array forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#new-14.sentence-1'>.</a></div> <div id='new-14.sentence-2' class='sentence'>When it does so,
the storage is instead provided by the implementation or provided by extending
the allocation of another <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_________________'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#new-14.sentence-2'>.</a></div></div></div><div class='para' id='new-15'><div class='marginalizedparent'><a class='marginalized' href='#new-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5785'>#</a></div><div class='texpara'><div id='new-15.sentence-1' class='sentence'>During an evaluation of a constant expression,
a call to a replaceable allocation function is always omitted (<a href='#const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#new-15.sentence-1'>.</a></div></div></div><div class='para' id='new-16'><div class='marginalizedparent'><a class='marginalized' href='#new-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5789'>#</a></div><div class='texpara'><div id='new-16.sentence-1' class='sentence'>The implementation may
extend the allocation of a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__________________'><span class='textsf'><i >new-expression</i></span></span></a> <span class='texttt'>e1</span> to provide
storage for a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___________________'><span class='textsf'><i >new-expression</i></span></span></a> <span class='texttt'>e2</span> if the
following would be true were the allocation not extended:
<ul class='itemize'><li id='new-16.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-16.1'>(16.1)</a></div>the evaluation of <span class='texttt'>e1</span> is sequenced before the evaluation of
<span class='texttt'>e2</span>, and</li><li id='new-16.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-16.2'>(16.2)</a></div><span class='texttt'>e2</span> is evaluated whenever <span class='texttt'>e1</span> obtains storage, and</li><li id='new-16.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-16.3'>(16.3)</a></div>both <span class='texttt'>e1</span> and <span class='texttt'>e2</span> invoke the same replaceable global
allocation function, and</li><li id='new-16.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-16.4'>(16.4)</a></div>if the allocation function invoked by <span class='texttt'>e1</span> and <span class='texttt'>e2</span> is
throwing, any exceptions thrown in the evaluation of either <span class='texttt'>e1</span> or
<span class='texttt'>e2</span> would be first caught in the same handler, and</li><li id='new-16.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-16.5'>(16.5)</a></div>the pointer values produced by <span class='texttt'>e1</span> and <span class='texttt'>e2</span> are operands to
evaluated <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_'><span class='textsf'><i >delete-expression</i></span></span></a><i >s</i>, and</li><li id='new-16.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-16.6'>(16.6)</a></div>the evaluation of <span class='texttt'>e2</span> is sequenced before the evaluation of the
<a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression__'><span class='textsf'><i >delete-expression</i></span></span></a> whose operand is the pointer value produced
by <span class='texttt'>e1</span><a class='hidden_link' href='#new-16.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='new-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#new-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> can_merge<span class='parenthesis'>(</span><span class='keyword'>int</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='comment'>// These allocations are safe for merging:</span>
  std<span class='operator'>::</span>unique_ptr<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&gt;</span> a<span class='curlybracket'>{</span><span class='keyword'>new</span> <span class='parenthesis'>(</span>std<span class='operator'>::</span>nothrow<span class='parenthesis'>)</span> <span class='keyword'>char</span><span class='squarebracket'>[</span><span class='literal'>8</span><span class='squarebracket'>]</span><span class='curlybracket'>}</span>;
  std<span class='operator'>::</span>unique_ptr<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&gt;</span> b<span class='curlybracket'>{</span><span class='keyword'>new</span> <span class='parenthesis'>(</span>std<span class='operator'>::</span>nothrow<span class='parenthesis'>)</span> <span class='keyword'>char</span><span class='squarebracket'>[</span><span class='literal'>8</span><span class='squarebracket'>]</span><span class='curlybracket'>}</span>;
  std<span class='operator'>::</span>unique_ptr<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&gt;</span> c<span class='curlybracket'>{</span><span class='keyword'>new</span> <span class='parenthesis'>(</span>std<span class='operator'>::</span>nothrow<span class='parenthesis'>)</span> <span class='keyword'>char</span><span class='squarebracket'>[</span>x<span class='squarebracket'>]</span><span class='curlybracket'>}</span>;

  g<span class='parenthesis'>(</span>a<span class='operator'>.</span>get<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, b<span class='operator'>.</span>get<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, c<span class='operator'>.</span>get<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> cannot_merge<span class='parenthesis'>(</span><span class='keyword'>int</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>unique_ptr<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&gt;</span> a<span class='curlybracket'>{</span><span class='keyword'>new</span> <span class='keyword'>char</span><span class='squarebracket'>[</span><span class='literal'>8</span><span class='squarebracket'>]</span><span class='curlybracket'>}</span>;
  <span class='keyword'>try</span> <span class='curlybracket'>{</span>
    <span class='comment'>// Merging this allocation would change its catch handler.</span>
    std<span class='operator'>::</span>unique_ptr<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='anglebracket'>&gt;</span> b<span class='curlybracket'>{</span><span class='keyword'>new</span> <span class='keyword'>char</span><span class='squarebracket'>[</span>x<span class='squarebracket'>]</span><span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>catch</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> std<span class='operator'>::</span>bad_alloc<span class='operator'>&amp;</span> e<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    std<span class='operator'>::</span>cerr <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>"Allocation failed: "</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> e<span class='operator'>.</span>what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> std<span class='operator'>::</span>endl;
    <span class='keyword'>throw</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='new-17'><div class='marginalizedparent'><a class='marginalized' href='#new-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5839'>#</a></div><div class='texpara'><div id='new-17.sentence-1' class='sentence'>When a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression____________________'><span class='textsf'><i >new-expression</i></span></span></a> calls an allocation function and that
allocation has not been extended, the
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_____________________'><span class='textsf'><i >new-expression</i></span></span></a> passes the amount of space requested to the
allocation function as the first argument of type
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span><a class='hidden_link' href='#new-17.sentence-1'>.</a></div> <div id='new-17.sentence-2' class='sentence'>That argument shall be no less than the size
of the object being created; it may be greater than the size of the
object being created only if the object is an array and
the allocation function is not a non-allocating form (<a href='new.delete.placement' title='17.6.3.4&emsp;Non-allocating forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>placement]</a>)<a class='hidden_link' href='#new-17.sentence-2'>.</a></div> <div id='new-17.sentence-3' class='sentence'>For arrays of
<span id=':char__'><span class='texttt'><span class='keyword'>char</span></span></span>, <span class='texttt'><span id=':unsigned___________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char___'><span class='texttt'><span class='keyword'>char</span></span></span></span>, and <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span>,
the difference between the
result of the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression______________________'><span class='textsf'><i >new-expression</i></span></span></a> and the address returned by the
allocation function shall be an integral multiple of the
strictest fundamental
<a href='basic.align' title='6.7.3&emsp;Alignment&emsp;[basic.align]'>alignment requirement</a> of any object type whose size
is no greater than the size of the array being created<a class='hidden_link' href='#new-17.sentence-3'>.</a></div> <div id='new-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-9'>9</a></i>:&ensp;<div id='new-17.sentence-4' class='sentence'><a class='index' id=':allocation,alignment_storage'></a>Because allocation functions are assumed to return pointers to storage
that is appropriately aligned for objects of any type
with fundamental alignment, this constraint
on array allocation overhead permits the common idiom of allocating
character arrays into which objects of other types will later be placed<a class='hidden_link' href='#new-17.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-18'><div class='marginalizedparent'><a class='marginalized' href='#new-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5865'>#</a></div><div class='texpara'><div id='new-18.sentence-1' class='sentence'>When a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_______________________'><span class='textsf'><i >new-expression</i></span></span></a> calls an allocation function and that
allocation has been extended, the size argument to the allocation call shall
be no greater than the sum of the sizes for the omitted calls as specified
above, plus the size for the extended call had it not been extended, plus any
padding necessary to align the allocated objects within the allocated memory<a class='hidden_link' href='#new-18.sentence-1'>.</a></div></div></div><div class='para' id='new-19'><div class='marginalizedparent'><a class='marginalized' href='#new-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5872'>#</a></div><div class='texpara'><div id='new-19.sentence-1' class='sentence'>The <a href='#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement__'><span class='textsf'><i >new-placement</i></span></span></a> syntax is used to supply additional
arguments to an allocation function; such an expression is called
a <a class='hidden_link' href='#def:new-expression,placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='def:new-expression,placement'><i >placement <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression________________________'><span class='textsf'><i >new-expression</i></span></span></a></i></span></a><a class='hidden_link' href='#new-19.sentence-1'>.</a></div></div></div><div class='para' id='new-20'><div class='marginalizedparent'><a class='marginalized' href='#new-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5878'>#</a></div><div class='texpara'><div id='new-20.sentence-1' class='sentence'>Overload resolution is
performed on a function call created by assembling an argument list<a class='hidden_link' href='#new-20.sentence-1'>.</a></div> <div id='new-20.sentence-2' class='sentence'>The first argument is
the amount of space requested,
and has type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span><a class='hidden_link' href='#new-20.sentence-2'>.</a></div> <div id='new-20.sentence-3' class='sentence'>If the type of the allocated object has new-extended alignment,
the next argument is
the type's alignment,
and has type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span><a class='hidden_link' href='#new-20.sentence-3'>.</a></div> <div id='new-20.sentence-4' class='sentence'>If the <a href='#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement___'><span class='textsf'><i >new-placement</i></span></span></a> syntax is used,
the <a href='dcl.init.general#nt:initializer-clause' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause__'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
in its <a href='#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list___________'><span class='textsf'><i >expression-list</i></span></span></a>
are the succeeding arguments<a class='hidden_link' href='#new-20.sentence-4'>.</a></div> <div id='new-20.sentence-5' class='sentence'>If no matching function is found then
<ul class='itemize'><li id='new-20.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-20.1'>(20.1)</a></div>if the allocated object type has new-extended alignment,
the alignment argument is removed from the argument list;</li><li id='new-20.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-20.2'>(20.2)</a></div>otherwise, an argument that
is the type's alignment and has type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span>
is added into the argument list immediately after the first argument;</li></ul>
and then overload resolution is performed again<a class='hidden_link' href='#new-20.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='new-21'><div class='marginalizedparent'><a class='marginalized' href='#new-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5906'>#</a></div><div class='texpara'><div id='new-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#new-example-6'>6</a></i>:&ensp;<ul class='itemize'><li id='new-21.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-21.1'>(21.1)</a></div><span class='texttt'><span class='keyword'>new</span> T</span> results in one of the following calls:
<span class='codeblock'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
<span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>(</span><span class='keyword'>alignof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></li><li id='new-21.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-21.2'>(21.2)</a></div><span class='texttt'><span class='keyword'>new</span><span class='parenthesis'>(</span><span class='literal'>2</span>,f<span class='parenthesis'>)</span> T</span> results in one of the following calls:
<span class='codeblock'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>, <span class='literal'>2</span>, f<span class='parenthesis'>)</span>
<span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>(</span><span class='keyword'>alignof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='parenthesis'>)</span>, <span class='literal'>2</span>, f<span class='parenthesis'>)</span>
</span></li><li id='new-21.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-21.3'>(21.3)</a></div><span class='texttt'><span class='keyword'>new</span> T<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span></span> results in one of the following calls:
<span class='codeblock'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>*</span> <span class='literal'>5</span> <span class='operator'>+</span> x<span class='parenthesis'>)</span>
<span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>*</span> <span class='literal'>5</span> <span class='operator'>+</span> x, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>(</span><span class='keyword'>alignof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></li><li id='new-21.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-21.4'>(21.4)</a></div><span class='texttt'><span class='keyword'>new</span><span class='parenthesis'>(</span><span class='literal'>2</span>,f<span class='parenthesis'>)</span> T<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span></span> results in one of the following calls:
<span class='codeblock'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>*</span> <span class='literal'>5</span> <span class='operator'>+</span> x, <span class='literal'>2</span>, f<span class='parenthesis'>)</span>
<span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>*</span> <span class='literal'>5</span> <span class='operator'>+</span> x, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>(</span><span class='keyword'>alignof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='parenthesis'>)</span>, <span class='literal'>2</span>, f<span class='parenthesis'>)</span>
</span></li></ul>
Here, each instance of <span class='texttt'>x</span> is a non-negative unspecified value
representing array allocation overhead; the result of the
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_________________________'><span class='textsf'><i >new-expression</i></span></span></a> will be offset by this amount from the value
returned by <span class='texttt'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>. <div id='new-21.sentence-1' class='sentence'>This overhead may be applied in all
array <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__________________________'><span class='textsf'><i >new-expression</i></span></span></a><i >s</i>, including those referencing
a placement allocation function, except when referencing
the library function <span class='texttt'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t, <span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#new-21.sentence-1'>.</a></div> <div id='new-21.sentence-2' class='sentence'>The amount of overhead may vary from one
invocation of <span id=':new__________'><span class='texttt'><span class='keyword'>new</span></span></span> to another<a class='hidden_link' href='#new-21.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='new-22'><div class='marginalizedparent'><a class='marginalized' href='#new-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5941'>#</a></div><div class='texpara'><div id='new-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-10'>10</a></i>:&ensp;<div id='new-22.sentence-1' class='sentence'>Unless an allocation function has a non-throwing
<a href='except.spec' title='14.5&emsp;Exception specifications&emsp;[except.spec]'>exception specification</a>,
it indicates failure to allocate storage by throwing a
<a class='index' id=':bad_alloc'></a><a class='index' id='lib:bad_alloc'></a><span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>bad_<span class='shy'></span>alloc</span>
exception (<a href='basic.stc.dynamic.allocation' title='6.7.6.5.2&emsp;Allocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>allocation]</a>, <a href='except' title='14&emsp;Exception handling'>[except]</a>, <a href='bad.alloc' title='17.6.4.1&emsp;Class bad_&shy;alloc'>[bad.<span class='shy'></span>alloc]</a>);
it returns a non-null pointer otherwise<a class='hidden_link' href='#new-22.sentence-1'>.</a></div> <div id='new-22.sentence-2' class='sentence'>If the allocation function
has a non-throwing exception specification,
it returns null to indicate failure to allocate storage
and a non-null pointer otherwise<a class='hidden_link' href='#new-22.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='new-22.sentence-3' class='sentence'>
If the allocation function is a non-allocating
form (<a href='new.delete.placement' title='17.6.3.4&emsp;Non-allocating forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>placement]</a>) that returns null,
the behavior is undefined<a class='hidden_link' href='#new-22.sentence-3'>.</a></div> <div id='new-22.sentence-4' class='sentence'>Otherwise,
if the allocation function returns null, initialization shall not be
done, the deallocation function shall not be called, and the value of
the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___________________________'><span class='textsf'><i >new-expression</i></span></span></a> shall be null<a class='hidden_link' href='#new-22.sentence-4'>.</a></div></div></div><div class='para nonNormativeOnly' id='new-23'><div class='marginalizedparent'><a class='marginalized' href='#new-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5963'>#</a></div><div class='texpara'><div id='new-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-11'>11</a></i>:&ensp;<div id='new-23.sentence-1' class='sentence'>When the allocation function returns a value other than null, it must be
a pointer to a block of storage in which space for the object has been
reserved<a class='hidden_link' href='#new-23.sentence-1'>.</a></div> <div id='new-23.sentence-2' class='sentence'>The block of storage is assumed to be
appropriately aligned (<a href='basic.align' title='6.7.3&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>)
and of the requested size<a class='hidden_link' href='#new-23.sentence-2'>.</a></div> <div id='new-23.sentence-3' class='sentence'>The address of the created object will not
necessarily be the same as that of the block if the object is an array<a class='hidden_link' href='#new-23.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-24'><div class='marginalizedparent'><a class='marginalized' href='#new-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5973'>#</a></div><div class='texpara'><div id='new-24.sentence-1' class='sentence'><a class='index' id=':new,array_of_class_objects_and'></a><a class='index' id=':new,initialization_and'></a><a class='index' id=':new,constructor_and'></a><a class='index' id=':new,default_constructor_and'></a>A <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression____________________________'><span class='textsf'><i >new-expression</i></span></span></a> that creates an object of type <span class='texttt'>T</span>
initializes that object as follows:
<ul class='itemize'><li id='new-24.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-24.1'>(24.1)</a></div><div class='texpara'><div id='new-24.1.sentence-1' class='sentence'>If the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer________'><span class='textsf'><i >new-initializer</i></span></span></a> is omitted, the object is
default-initialized (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#new-24.1.sentence-1'>.</a></div> <div id='new-note-12' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-12'>12</a></i>:&ensp;<div id='new-24.1.sentence-2' class='sentence'>If no initialization
is performed, the object has an indeterminate value<a class='hidden_link' href='#new-24.1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='new-24.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#new-24.2'>(24.2)</a></div><div class='texpara'><div id='new-24.2.sentence-1' class='sentence'>Otherwise, the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer_________'><span class='textsf'><i >new-initializer</i></span></span></a> is interpreted according to
the initialization rules of <a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a> for direct-initialization<a class='hidden_link' href='#new-24.2.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='new-25'><div class='marginalizedparent'><a class='marginalized' href='#new-25'>25</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L5992'>#</a></div><div class='texpara'><div id='new-25.sentence-1' class='sentence'><a class='index' id=':new,unspecified_order_of_evaluation'></a><a class='index' id=':new,unspecified_constructor_and'></a>The invocation of the allocation function is sequenced before
the evaluations of expressions in the <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer__________'><span class='textsf'><i >new-initializer</i></span></span></a><a class='hidden_link' href='#new-25.sentence-1'>.</a></div> <div id='new-25.sentence-2' class='sentence'>Initialization of
the allocated object is sequenced before the
<a class='index' id=':value_computation_'></a>value computation of the
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_____________________________'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#new-25.sentence-2'>.</a></div></div></div><div class='para' id='new-26'><div class='marginalizedparent'><a class='marginalized' href='#new-26'>26</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6002'>#</a></div><div class='texpara'><div id='new-26.sentence-1' class='sentence'>If the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression______________________________'><span class='textsf'><i >new-expression</i></span></span></a>
creates an array of objects of class type, the destructor is potentially
invoked (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#new-26.sentence-1'>.</a></div></div></div><div class='para' id='new-27'><div class='marginalizedparent'><a class='marginalized' href='#new-27'>27</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6007'>#</a></div><div class='texpara'><div id='new-27.sentence-1' class='sentence'><a class='index' id=':new,exception_and'></a>If any part of the object initialization described above<a class='footnoteref' href='#footnote-60' id='footnoteref-60' title='This can include evaluating a new-initializer and/or calling a constructor.'>60</a>
terminates by throwing an exception and a suitable deallocation function
can be found, the deallocation function is called to free the memory in
which the object was being constructed, after which the exception
continues to propagate in the context of the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_______________________________'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#new-27.sentence-1'>.</a></div> <div id='new-27.sentence-2' class='sentence'>If no unambiguous matching deallocation function can be found,
propagating the exception does not cause the object's memory to be
freed<a class='hidden_link' href='#new-27.sentence-2'>.</a></div> <div id='new-note-13' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#new-note-13'>13</a></i>:&ensp;<div id='new-27.sentence-3' class='sentence'>This is appropriate when the called allocation function does not
allocate memory; otherwise, it is likely to result in a memory leak<a class='hidden_link' href='#new-27.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='new-28'><div class='marginalizedparent'><a class='marginalized' href='#new-28'>28</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6027'>#</a></div><div class='texpara'><div id='new-28.sentence-1' class='sentence'>If the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression________________________________'><span class='textsf'><i >new-expression</i></span></span></a> does not begin with
a unary <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> operator and
the allocated type is a class type <span class='texttt'>T</span> or an array thereof,
a search is performed for the deallocation function's name
in the scope of <span class='texttt'>T</span><a class='hidden_link' href='#new-28.sentence-1'>.</a></div> <div id='new-28.sentence-2' class='sentence'>Otherwise, or if nothing is found,
the deallocation function's name is looked up by
searching for it in the global scope<a class='hidden_link' href='#new-28.sentence-2'>.</a></div></div></div><div class='para' id='new-29'><div class='marginalizedparent'><a class='marginalized' href='#new-29'>29</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6037'>#</a></div><div class='texpara'><div id='new-29.sentence-1' class='sentence'>A declaration of a placement deallocation function matches the
declaration of a placement allocation function if it has the same number
of parameters and, after parameter transformations (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>), all
parameter types except the first are identical<a class='hidden_link' href='#new-29.sentence-1'>.</a></div> <div id='new-29.sentence-2' class='sentence'>If
the lookup finds a single matching deallocation function, that function
will be called; otherwise, no deallocation function will be called<a class='hidden_link' href='#new-29.sentence-2'>.</a></div> <div id='new-29.sentence-3' class='sentence'>If
the lookup finds a usual deallocation
function
and that function,
considered as a placement deallocation function, would have been
selected as a match for the allocation function, the program is
ill-formed<a class='hidden_link' href='#new-29.sentence-3'>.</a></div> <div id='new-29.sentence-4' class='sentence'>For a non-placement allocation function, the normal deallocation
function lookup is used to find the matching deallocation
function (<a href='#delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>)<a class='hidden_link' href='#new-29.sentence-4'>.</a></div> <div id='new-29.sentence-5' class='sentence'>In any case,
the matching deallocation function (if any) shall be non-deleted and
accessible from the point where the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_________________________________'><span class='textsf'><i >new-expression</i></span></span></a> appears<a class='hidden_link' href='#new-29.sentence-5'>.</a></div> <div id='new-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#new-example-7'>7</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='comment'>// Placement allocation function:</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;

  <span class='comment'>// Usual (non-placement) deallocation function:</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

S<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> <span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span> S;   <span class='comment'>// error: non-placement deallocation function matches</span>
                    <span class='comment'>// placement allocation function</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='new-30'><div class='marginalizedparent'><a class='marginalized' href='#new-30'>30</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6070'>#</a></div><div class='texpara'><div id='new-30.sentence-1' class='sentence'>If a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__________________________________'><span class='textsf'><i >new-expression</i></span></span></a> calls a deallocation function, it passes
the value returned from the allocation function call as the first
argument of type <span class='texttt'><span id=':void___________________________'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span><a class='hidden_link' href='#new-30.sentence-1'>.</a></div> <div id='new-30.sentence-2' class='sentence'>If a placement deallocation function is
called, it is passed the same additional arguments as were passed to the
placement allocation function, that is, the same arguments as those
specified with the <a href='#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement____'><span class='textsf'><i >new-placement</i></span></span></a> syntax<a class='hidden_link' href='#new-30.sentence-2'>.</a></div> <div id='new-30.sentence-3' class='sentence'>If the implementation is allowed
to introduce a temporary object or make a copy of any argument
as part of the call to the allocation function,
it is unspecified whether the same object is used in the call
to both the allocation and deallocation functions<a class='hidden_link' href='#new-30.sentence-3'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-59'><div class='texpara'><a class='footnotenum' href='#footnote-59'>59)</a><a class='footnoteBacklink' href='#footnoteref-59'>59)</a> <div id='footnote-59.sentence-1' class='sentence'>If the conversion function
returns a signed integer type, the second standard conversion converts to the
unsigned type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> and thus thwarts any attempt to detect a
negative value afterwards<a class='hidden_link' href='#footnote-59.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-60'><div class='texpara'><a class='footnotenum' href='#footnote-60'>60)</a><a class='footnoteBacklink' href='#footnoteref-60'>60)</a> <div id='footnote-60.sentence-1' class='sentence'>This can
include evaluating a <a href='#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer'><span class='textsf'><i >new-initializer</i></span></span></a> and/or calling
a constructor<a class='hidden_link' href='#footnote-60.sentence-1'>.</a></div></div></div></div><div id='delete' class='section'><h4 ><a class='secnum' href='#delete' style='min-width:95pt'>7.6.2.9</a> Delete <a class='abbr_ref' href='expr.delete'>[expr.delete]</a></h4><div class='para' id='delete-1'><div class='marginalizedparent'><a class='marginalized' href='#delete-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6085'>#</a></div><div class='texpara'><div id='delete-1.sentence-1' class='sentence'><a class='index' id=':expression,delete'></a><a class='index' id=':delete___'></a>The <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression___'><span class='textsf'><i >delete-expression</i></span></span></a> operator destroys a
<a href='intro.object#def:most_derived_object' title='6.7.2&emsp;Object model&emsp;[intro.object]'>most derived object</a> or array created by a
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression____________________________________'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#delete-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:delete-expression'>
<a class='hidden_link' href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='nt:delete-expression'><span id=':delete-expression'>delete-expression<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>::</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span id=':delete____'><span class='texttt'><span class='keyword'>delete</span></span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression___________'><span class='textsf'><i >cast-expression</i></span></span></a><br><span class='terminal'><span class='operator'>::</span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span id=':delete_____'><span class='texttt'><span class='keyword'>delete</span></span></span> <span class='terminal'><span class='squarebracket'>[</span></span> <span class='terminal'><span class='squarebracket'>]</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression____________'><span class='textsf'><i >cast-expression</i></span></span></a>
</div></div><div class='texpara'><div id='delete-1.sentence-2' class='sentence'>The first alternative is a
<a class='hidden_link' href='#def:delete,single-object' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='def:delete,single-object'><i >single-object delete expression</i></span></a>, and the
second is an <a class='hidden_link' href='#def:delete,array' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='def:delete,array'><i >array delete expression</i></span></a><a class='hidden_link' href='#delete-1.sentence-2'>.</a></div> <div id='delete-1.sentence-3' class='sentence'>Whenever the <span id=':delete______'><span class='texttt'><span class='keyword'>delete</span></span></span> keyword is immediately followed by empty square
brackets, it shall be interpreted as the second alternative<a class='hidden_link' href='#delete-1.sentence-3'>.</a><a class='footnoteref' href='#footnote-61' id='footnoteref-61' title='A lambda-expression with a lambda-introducer that consists of empty square brackets can follow the delete keyword if the lambda-expression is enclosed in parentheses.'>61</a></div> <div id='delete-1.sentence-4' class='sentence'>
If the operand is of
class type, it is contextually implicitly converted (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>)
to a pointer to object
type
and the converted operand is used in place of the original operand
for the remainder of this subclause<a class='hidden_link' href='#delete-1.sentence-4'>.</a></div> <div id='delete-1.sentence-5' class='sentence'>Otherwise, it shall be a prvalue of pointer to object type<a class='hidden_link' href='#delete-1.sentence-5'>.</a></div> <div id='delete-1.sentence-6' class='sentence'>The <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression____'><span class='textsf'><i >delete-expression</i></span></span></a> has type
<span id=':void____________________________'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#delete-1.sentence-6'>.</a></div></div></div><div class='para' id='delete-2'><div class='marginalizedparent'><a class='marginalized' href='#delete-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6119'>#</a></div><div class='texpara'><div id='delete-2.sentence-1' class='sentence'><a class='index' id=':delete,single-object'></a>In a single-object delete expression, the value of the operand of
<span id=':delete_______'><span class='texttt'><span class='keyword'>delete</span></span></span> may be a null pointer value,
a pointer value
that resulted from a previous non-array <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_____________________________________'><span class='textsf'><i >new-expression</i></span></span></a>, or
a pointer to a base class subobject
of an object created by such a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression______________________________________'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#delete-2.sentence-1'>.</a></div> <div id='delete-2.sentence-2' class='sentence'>If not, the behavior is undefined<a class='hidden_link' href='#delete-2.sentence-2'>.</a></div> <div id='delete-2.sentence-3' class='sentence'><a class='index' id=':array,delete'></a>In an array delete expression, the value of the operand of <span id=':delete________'><span class='texttt'><span class='keyword'>delete</span></span></span>
may be a null pointer value or a pointer value that resulted from
a previous array <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_______________________________________'><span class='textsf'><i >new-expression</i></span></span></a> whose
allocation function was not a non-allocating form (<a href='new.delete.placement' title='17.6.3.4&emsp;Non-allocating forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>placement]</a>)<a class='hidden_link' href='#delete-2.sentence-3'>.</a><a class='footnoteref' href='#footnote-62' id='footnoteref-62' title='For nonzero-length arrays, this is the same as a pointer to the first element of the array created by that new-expression. Zero-length arrays do not have a first element.'>62</a></div> <div id='delete-2.sentence-4' class='sentence'>
If not, the behavior is undefined<a class='hidden_link' href='#delete-2.sentence-4'>.</a></div> <div id='delete-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-1'>1</a></i>:&ensp;<div id='delete-2.sentence-5' class='sentence'>This means that the syntax of the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_____'><span class='textsf'><i >delete-expression</i></span></span></a> must
match the type of the object allocated by <span id=':new___________'><span class='texttt'><span class='keyword'>new</span></span></span>, not the syntax of the
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression________________________________________'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#delete-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='delete-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-2'>2</a></i>:&ensp;<div id='delete-2.sentence-6' class='sentence'>A pointer to a <span id=':const_____________________'><span class='texttt'><span class='keyword'>const</span></span></span> type can be the operand of a
<a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression______'><span class='textsf'><i >delete-expression</i></span></span></a>; it is not necessary to cast away the
constness (<a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>) of the pointer expression before it is
used as the operand of the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_______'><span class='textsf'><i >delete-expression</i></span></span></a><a class='hidden_link' href='#delete-2.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='delete-3'><div class='marginalizedparent'><a class='marginalized' href='#delete-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6152'>#</a></div><div class='texpara'><div id='delete-3.sentence-1' class='sentence'><a class='index' id=':delete,undefined'></a>In a single-object delete expression, if the static type of the object to be
deleted is not similar (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) to its dynamic type
and the selected deallocation function (see below)
is not a destroying operator delete,
the static type shall be a base
class of the dynamic type of the object to be deleted and the static type shall
have a virtual destructor or the behavior is undefined<a class='hidden_link' href='#delete-3.sentence-1'>.</a></div> <div id='delete-3.sentence-2' class='sentence'>In an array delete
expression, if the dynamic type of the object to be deleted is not similar to
its static type, the behavior is undefined<a class='hidden_link' href='#delete-3.sentence-2'>.</a></div></div></div><div class='para' id='delete-4'><div class='marginalizedparent'><a class='marginalized' href='#delete-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6164'>#</a></div><div class='texpara'><div id='delete-4.sentence-1' class='sentence'><a class='index' id=':type,incomplete_________'></a>If the object being deleted has incomplete class type at the point of deletion,
the program is ill-formed<a class='hidden_link' href='#delete-4.sentence-1'>.</a></div></div></div><div class='para' id='delete-5'><div class='marginalizedparent'><a class='marginalized' href='#delete-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6169'>#</a></div><div class='texpara'><div id='delete-5.sentence-1' class='sentence'><a class='index' id=':delete,destructor_and'></a>If the value of the operand of the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression________'><span class='textsf'><i >delete-expression</i></span></span></a> is not a
null pointer value
and the selected deallocation function (see below)
is not a destroying operator delete,
evaluating the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_________'><span class='textsf'><i >delete-expression</i></span></span></a> invokes the
destructor (if any) for the object or the elements of the array being
deleted<a class='hidden_link' href='#delete-5.sentence-1'>.</a></div> <div id='delete-5.sentence-2' class='sentence'>The destructor shall be accessible from the point where
the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression__________'><span class='textsf'><i >delete-expression</i></span></span></a> appears<a class='hidden_link' href='#delete-5.sentence-2'>.</a></div> <div id='delete-5.sentence-3' class='sentence'>In the case of an array, the elements are destroyed in
order of decreasing address (that is, in reverse order of the completion
of their constructor; see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#delete-5.sentence-3'>.</a></div></div></div><div class='para' id='delete-6'><div class='marginalizedparent'><a class='marginalized' href='#delete-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6184'>#</a></div><div class='texpara'><div id='delete-6.sentence-1' class='sentence'>If the value of the operand of the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression___________'><span class='textsf'><i >delete-expression</i></span></span></a> is not a
null pointer value, then:
<ul class='itemize'><li id='delete-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-6.1'>(6.1)</a></div><div class='texpara'><div id='delete-6.1.sentence-1' class='sentence'>If the allocation call for the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_________________________________________'><span class='textsf'><i >new-expression</i></span></span></a> for the object to
be deleted was not omitted and the allocation was not extended (<a href='#new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>), the
<a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression____________'><span class='textsf'><i >delete-expression</i></span></span></a> shall call a <a href='basic.stc.dynamic.deallocation' title='6.7.6.5.3&emsp;Deallocation functions&emsp;[basic.stc.dynamic.deallocation]'>deallocation
function</a><a class='hidden_link' href='#delete-6.1.sentence-1'>.</a></div> <div id='delete-6.1.sentence-2' class='sentence'>The value returned from the
allocation call of the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__________________________________________'><span class='textsf'><i >new-expression</i></span></span></a> shall be passed as the
first argument to the deallocation function<a class='hidden_link' href='#delete-6.1.sentence-2'>.</a></div></div></li><li id='delete-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-6.2'>(6.2)</a></div><div class='texpara'><div id='delete-6.2.sentence-1' class='sentence'>Otherwise, if the allocation was extended or was provided by extending the
allocation of another <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___________________________________________'><span class='textsf'><i >new-expression</i></span></span></a>, and the
<a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_____________'><span class='textsf'><i >delete-expression</i></span></span></a> for every other pointer value produced by a
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression____________________________________________'><span class='textsf'><i >new-expression</i></span></span></a> that had storage provided by the extended
<a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_____________________________________________'><span class='textsf'><i >new-expression</i></span></span></a> has been evaluated, the
<a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression______________'><span class='textsf'><i >delete-expression</i></span></span></a> shall call a deallocation function<a class='hidden_link' href='#delete-6.2.sentence-1'>.</a></div> <div id='delete-6.2.sentence-2' class='sentence'>The value
returned from the allocation call of the extended <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression______________________________________________'><span class='textsf'><i >new-expression</i></span></span></a>
shall be passed as the first argument to the deallocation function<a class='hidden_link' href='#delete-6.2.sentence-2'>.</a></div></div></li><li id='delete-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-6.3'>(6.3)</a></div><div class='texpara'><div id='delete-6.3.sentence-1' class='sentence'>Otherwise, the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_______________'><span class='textsf'><i >delete-expression</i></span></span></a> will not call a
deallocation function<a class='hidden_link' href='#delete-6.3.sentence-1'>.</a></div></div></li></ul></div> <div id='delete-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-3'>3</a></i>:&ensp;<div id='delete-6.sentence-2' class='sentence'>The deallocation function is called regardless of whether the destructor
for the object or some element of the array throws an exception<a class='hidden_link' href='#delete-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='delete-6.sentence-3' class='sentence'>
If the value of the operand of the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression________________'><span class='textsf'><i >delete-expression</i></span></span></a> is a
null pointer value, it is unspecified whether a deallocation function will be
called as described above<a class='hidden_link' href='#delete-6.sentence-3'>.</a></div></div></div><div class='para' id='delete-7'><div class='marginalizedparent'><a class='marginalized' href='#delete-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6218'>#</a></div><div class='texpara'><div id='delete-7.sentence-1' class='sentence'>If a deallocation function is called,
it is <span class='texttt'><span id=':operator______'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete_________'><span class='texttt'><span class='keyword'>delete</span></span></span></span> for a single-object delete expression or
<span class='texttt'><span id=':operator_______'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete__________'><span class='texttt'><span class='keyword'>delete</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span> for an array delete expression<a class='hidden_link' href='#delete-7.sentence-1'>.</a></div> <div id='delete-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-4'>4</a></i>:&ensp;<div id='delete-7.sentence-2' class='sentence'><a class='index' id=':operator_delete__'></a>An implementation provides default definitions of the global
deallocation functions (<a href='new.delete.single' title='17.6.3.2&emsp;Single-object forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>single]</a>, <a href='new.delete.array' title='17.6.3.3&emsp;Array forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#delete-7.sentence-2'>.</a></div> <div id='delete-7.sentence-3' class='sentence'>A C++ program can provide alternative definitions of these
functions (<a href='replacement.functions' title='16.4.5.6&emsp;Replacement functions'>[replacement.<span class='shy'></span>functions]</a>), and/or class-specific
versions (<a href='class.free' title='11.4.11&emsp;Allocation and deallocation functions'>[class.<span class='shy'></span>free]</a>)<a class='hidden_link' href='#delete-7.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='delete-8'><div class='marginalizedparent'><a class='marginalized' href='#delete-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6231'>#</a></div><div class='texpara'><div id='delete-8.sentence-1' class='sentence'>If the keyword <span id=':delete___________'><span class='texttt'><span class='keyword'>delete</span></span></span> in a <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_________________'><span class='textsf'><i >delete-expression</i></span></span></a>
is not preceded by the unary <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> operator and the type of the operand is
a pointer to a (possibly cv-qualified) class type <span class='texttt'>T</span>
or (possibly multidimensional) array thereof:
<ul class='itemize'><li id='delete-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-8.1'>(8.1)</a></div><div class='texpara'><div id='delete-8.1.sentence-1' class='sentence'>For a single-object delete expression,
if the operand is a pointer to <span class='mathit'>cv</span> <span class='texttt'>T</span> and
<span class='texttt'>T</span> has a virtual destructor,
the deallocation function is the one selected at the point of definition of
the dynamic type's virtual destructor (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#delete-8.1.sentence-1'>.</a></div></div></li><li id='delete-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-8.2'>(8.2)</a></div><div class='texpara'><div id='delete-8.2.sentence-1' class='sentence'>Otherwise,
a search is performed for the deallocation function's name
in the scope of <span class='texttt'>T</span><a class='hidden_link' href='#delete-8.2.sentence-1'>.</a></div></div></li></ul></div> <div id='delete-8.sentence-2' class='sentence'>
Otherwise, or if nothing is found,
the deallocation function's name is looked up by
searching for it in the global scope<a class='hidden_link' href='#delete-8.sentence-2'>.</a></div> <div id='delete-8.sentence-3' class='sentence'>In any case, any declarations
other than of usual deallocation functions (<a href='basic.stc.dynamic.deallocation' title='6.7.6.5.3&emsp;Deallocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>deallocation]</a>)
are discarded<a class='hidden_link' href='#delete-8.sentence-3'>.</a></div> <div id='delete-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-5'>5</a></i>:&ensp;<div id='delete-8.sentence-4' class='sentence'>If only a placement deallocation function is found in a class,
the program is ill-formed because the lookup set is empty (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#delete-8.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='delete-9'><div class='marginalizedparent'><a class='marginalized' href='#delete-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6259'>#</a></div><div class='texpara'><div id='delete-9.sentence-1' class='sentence'>The deallocation function to be called is selected as follows:
<ul class='itemize'><li id='delete-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-9.1'>(9.1)</a></div><div class='texpara'><div id='delete-9.1.sentence-1' class='sentence'>If any of the deallocation functions is a destroying operator delete,
all deallocation functions that are not destroying operator deletes
are eliminated from further consideration<a class='hidden_link' href='#delete-9.1.sentence-1'>.</a></div></div></li><li id='delete-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-9.2'>(9.2)</a></div><div class='texpara'><div id='delete-9.2.sentence-1' class='sentence'>If the type has new-extended alignment,
a function with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span> is preferred;
otherwise a function without such a parameter is preferred<a class='hidden_link' href='#delete-9.2.sentence-1'>.</a></div> <div id='delete-9.2.sentence-2' class='sentence'>If any preferred functions are found,
all non-preferred functions are eliminated from further consideration<a class='hidden_link' href='#delete-9.2.sentence-2'>.</a></div></div></li><li id='delete-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-9.3'>(9.3)</a></div><div class='texpara'><div id='delete-9.3.sentence-1' class='sentence'>If exactly one function remains,
that function is selected and the selection process terminates<a class='hidden_link' href='#delete-9.3.sentence-1'>.</a></div></div></li><li id='delete-9.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-9.4'>(9.4)</a></div><div class='texpara'><div id='delete-9.4.sentence-1' class='sentence'>If the deallocation functions belong to a class scope,
the one without a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> is selected<a class='hidden_link' href='#delete-9.4.sentence-1'>.</a></div></div></li><li id='delete-9.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-9.5'>(9.5)</a></div><div class='texpara'><div id='delete-9.5.sentence-1' class='sentence'>If the type is complete
and if, for an array delete expression only,
the operand is a pointer to a class type with a
non-trivial destructor or a (possibly multidimensional) array thereof,
the function with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> is selected<a class='hidden_link' href='#delete-9.5.sentence-1'>.</a></div></div></li><li id='delete-9.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#delete-9.6'>(9.6)</a></div><div class='texpara'><div id='delete-9.6.sentence-1' class='sentence'>Otherwise, it is unspecified
whether a deallocation function with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span>
is selected<a class='hidden_link' href='#delete-9.6.sentence-1'>.</a></div></div></li></ul></div> <div id='delete-9.sentence-2' class='sentence'>
Unless the deallocation function is selected
at the point of definition of the dynamic type's virtual destructor,
the selected deallocation function shall be accessible
from the point where the <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression__________________'><span class='textsf'><i >delete-expression</i></span></span></a> appears<a class='hidden_link' href='#delete-9.sentence-2'>.</a></div></div></div><div class='para' id='delete-10'><div class='marginalizedparent'><a class='marginalized' href='#delete-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6294'>#</a></div><div class='texpara'><div id='delete-10.sentence-1' class='sentence'>For a single-object delete expression,
the deleted object is
the object <span class='math'><span class='mathalpha'>A</span></span> pointed to by the operand
if the static type of <span class='math'><span class='mathalpha'>A</span></span> does not have a virtual destructor,
and the most-derived object of <span class='math'><span class='mathalpha'>A</span></span> otherwise<a class='hidden_link' href='#delete-10.sentence-1'>.</a></div> <div id='delete-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-6'>6</a></i>:&ensp;<div id='delete-10.sentence-2' class='sentence'>If the deallocation function is not a destroying operator delete
and the deleted object is not the most derived object in the former case,
the behavior is undefined,
as stated above<a class='hidden_link' href='#delete-10.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='delete-10.sentence-3' class='sentence'>
For an array delete expression,
the deleted object is
the array object<a class='hidden_link' href='#delete-10.sentence-3'>.</a></div> <div id='delete-10.sentence-4' class='sentence'>When a <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression___________________'><span class='textsf'><i >delete-expression</i></span></span></a>
is executed, the selected deallocation function shall be called with
the address of the deleted object
in a single-object delete expression, or
the address of the deleted object
suitably adjusted for the array allocation
overhead (<a href='#new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>) in an array delete expression,
as its first argument<a class='hidden_link' href='#delete-10.sentence-4'>.</a></div> <div id='delete-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-7'>7</a></i>:&ensp;<div id='delete-10.sentence-5' class='sentence'>Any cv-qualifiers in the type of the deleted object
are ignored when forming this argument<a class='hidden_link' href='#delete-10.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='delete-10.sentence-6' class='sentence'>
If a destroying operator delete is used,
an unspecified value
is passed as the argument
corresponding to the parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>destroying_<span class='shy'></span>delete_<span class='shy'></span>t</span><a class='hidden_link' href='#delete-10.sentence-6'>.</a></div> <div id='delete-10.sentence-7' class='sentence'>If a deallocation function
with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span>
is used,
the alignment of the type of the deleted object
is passed as the corresponding argument<a class='hidden_link' href='#delete-10.sentence-7'>.</a></div> <div id='delete-10.sentence-8' class='sentence'>If a deallocation function
with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> is used,
the size of the deleted object
in a single-object delete expression, or
of the array plus allocation overhead
in an array delete expression,
is passed as the corresponding argument<a class='hidden_link' href='#delete-10.sentence-8'>.</a></div> <div id='delete-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#delete-note-8'>8</a></i>:&ensp;<div id='delete-10.sentence-9' class='sentence'>If this results in a call to a replaceable deallocation function,
and either
the first argument was not the result of
a prior call to a replaceable allocation function or
the second or third argument was not the corresponding argument in said call,
the behavior is undefined (<a href='new.delete.single' title='17.6.3.2&emsp;Single-object forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>single]</a>, <a href='new.delete.array' title='17.6.3.3&emsp;Array forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#delete-10.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-61'><div class='texpara'><a class='footnotenum' href='#footnote-61'>61)</a><a class='footnoteBacklink' href='#footnoteref-61'>61)</a> <div id='footnote-61.sentence-1' class='sentence'>A
<a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> with a <a href='#nt:lambda-introducer' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-introducer___'><span class='textsf'><i >lambda-introducer</i></span></span></a>
that consists of empty square brackets can follow the <span id=':delete__'><span class='texttt'><span class='keyword'>delete</span></span></span> keyword
if the <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a> is enclosed in parentheses<a class='hidden_link' href='#footnote-61.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-62'><div class='texpara'><a class='footnotenum' href='#footnote-62'>62)</a><a class='footnoteBacklink' href='#footnoteref-62'>62)</a> <div id='footnote-62.sentence-1' class='sentence'>For nonzero-length
arrays, this is the same as a pointer to the first
element of the array created by that <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___________________________________'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#footnote-62.sentence-1'>.</a></div> <div id='footnote-62.sentence-2' class='sentence'>Zero-length arrays do not have a first element<a class='hidden_link' href='#footnote-62.sentence-2'>.</a></div></div></div></div></div><div id='cast' class='section'><h3 ><a class='secnum' href='#cast' style='min-width:80pt'>7.6.3</a> Explicit type conversion (cast notation) <a class='abbr_ref' href='expr.cast'>[expr.cast]</a></h3><div class='texpara'><a class='index' id=':expression,cast_'></a></div><div class='para' id='cast-1'><div class='marginalizedparent'><a class='marginalized' href='#cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6349'>#</a></div><div class='texpara'><div id='cast-1.sentence-1' class='sentence'>The result of the expression <span class='texttt'><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_____________'><span class='textsf'><i >cast-expression</i></span></span></a> is
of type <span class='texttt'>T</span><a class='hidden_link' href='#cast-1.sentence-1'>.</a></div> <div id='cast-1.sentence-2' class='sentence'>The result is an lvalue if <span class='texttt'>T</span> is an lvalue
reference type or an rvalue reference to function type and an xvalue if <span class='texttt'>T</span>
is an rvalue reference to object type; otherwise the result is a prvalue<a class='hidden_link' href='#cast-1.sentence-2'>.</a></div> <div id='cast-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#cast-note-1'>1</a></i>:&ensp;<div id='cast-1.sentence-3' class='sentence'>If <span class='texttt'>T</span> is a non-class type that is cv-qualified, the
<a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i> are discarded when determining the type of the
resulting prvalue; see <a href='#prop' title='7.2&emsp;Properties of expressions'>[expr.<span class='shy'></span>prop]</a><a class='hidden_link' href='#cast-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='cast-2'><div class='marginalizedparent'><a class='marginalized' href='#cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6360'>#</a></div><div class='texpara'><div id='cast-2.sentence-1' class='sentence'>An explicit type conversion can be expressed using functional
notation (<a href='#type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>), a type conversion operator
(<span id=':dynamic_cast_____'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>, <span id=':static_cast_____________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span>, <span id=':reinterpret_cast___________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span>,
<span id=':const_cast_______________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span>), or the <a class='hidden_link' href='#def:cast' id='def:cast'><i>cast</i></a> notation<a class='hidden_link' href='#cast-2.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:cast-expression'>
<a class='hidden_link' href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='nt:cast-expression'><span id=':cast-expression'>cast-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression___'><span class='textsf'><i >unary-expression</i></span></span></a><br><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id________________________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression______________'><span class='textsf'><i >cast-expression</i></span></span></a>
</div></div></div><div class='para' id='cast-3'><div class='marginalizedparent'><a class='marginalized' href='#cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6372'>#</a></div><div class='texpara'><div id='cast-3.sentence-1' class='sentence'>Any type conversion not mentioned below and not explicitly defined by
the user (<a href='class.conv' title='11.4.8&emsp;Conversions'>[class.<span class='shy'></span>conv]</a>) is ill-formed<a class='hidden_link' href='#cast-3.sentence-1'>.</a></div></div></div><div class='para' id='cast-4'><div class='marginalizedparent'><a class='marginalized' href='#cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6376'>#</a></div><div class='texpara'><div id='cast-4.sentence-1' class='sentence'>The conversions performed by
<ul class='itemize'><li id='cast-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.1'>(4.1)</a></div><a class='index' id=':cast,const_'></a><a class='index' id=':cast,static_'></a><a class='index' id=':cast,reinterpret_'></a>a <span id=':const_cast________________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> (<a href='#const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>),</li><li id='cast-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.2'>(4.2)</a></div>a <span id=':static_cast______________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> (<a href='#static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>),</li><li id='cast-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.3'>(4.3)</a></div>a <span id=':static_cast_______________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> followed by a <span id=':const_cast_________________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span>,</li><li id='cast-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.4'>(4.4)</a></div>a <span id=':reinterpret_cast____________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> (<a href='#reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>), or</li><li id='cast-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.5'>(4.5)</a></div>a <span id=':reinterpret_cast_____________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> followed by a <span id=':const_cast__________________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span>,</li></ul>
can be performed using the cast notation of explicit type conversion<a class='hidden_link' href='#cast-4.sentence-1'>.</a></div> <div id='cast-4.sentence-2' class='sentence'>The same semantic restrictions and behaviors apply, with the exception
that in performing a <span id=':static_cast________________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> in the following situations the
conversion is valid even if the base class is inaccessible:
<ul class='itemize'><li id='cast-4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.6'>(4.6)</a></div>a pointer to an object of derived class type or an lvalue or
rvalue of derived class type may be explicitly converted to a pointer or
reference to an unambiguous base class type, respectively;</li><li id='cast-4.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.7'>(4.7)</a></div>a pointer to member of derived class type may be explicitly
converted to a pointer to member of an unambiguous non-virtual base
class type;</li><li id='cast-4.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cast-4.8'>(4.8)</a></div>a pointer to an object of an unambiguous non-virtual base class
type, a glvalue of an unambiguous non-virtual base class type,
or a pointer to member of an unambiguous non-virtual base class type may
be explicitly converted to a pointer, a reference, or a pointer to
member of a derived class type, respectively<a class='hidden_link' href='#cast-4.sentence-2'>.</a></li></ul></div></div><div class='texpara'><div id='cast-4.sentence-3' class='sentence'>If a conversion can be interpreted in more than one of the ways listed
above, the interpretation that appears first in the list is used, even
if a cast resulting from that interpretation is ill-formed<a class='hidden_link' href='#cast-4.sentence-3'>.</a></div> <div id='cast-4.sentence-4' class='sentence'>If a
<span id=':static_cast_________________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> followed by a <span id=':const_cast___________________'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> is used and
the conversion can be interpreted in more than one way as such,
the conversion is
ill-formed<a class='hidden_link' href='#cast-4.sentence-4'>.</a></div> <div id='cast-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#cast-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> I1 <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> I2 <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> I1, I2 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
A<span class='operator'>*</span> foo<span class='parenthesis'>(</span> D<span class='operator'>*</span> p <span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span> p <span class='parenthesis'>)</span>;             <span class='comment'>// ill-formed <span id=':static_cast__________________'><span class='tcode_in_codeblock'>static_<span class='shy'></span>cast</span></span> interpretation</span>
<span class='curlybracket'>}</span>

<span class='keyword'>int</span><span class='operator'>*</span><span class='operator'>*</span><span class='operator'>*</span> ptr <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='keyword'>auto</span> t <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='keyword'>const</span><span class='operator'>*</span><span class='keyword'>const</span><span class='operator'>*</span><span class='keyword'>const</span><span class='operator'>*</span><span class='parenthesis'>)</span>ptr;   <span class='comment'>// OK, <span id=':const_cast____________________'><span class='tcode_in_codeblock'>const_<span class='shy'></span>cast</span></span> interpretation</span>

<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>volatile</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> <span class='operator'>*</span>p <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>)</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: two possible interpretations using <span id=':static_cast___________________'><span class='tcode_in_codeblock'>static_<span class='shy'></span>cast</span></span> followed by <span id=':const_cast_____________________'><span class='tcode_in_codeblock'>const_<span class='shy'></span>cast</span></span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='cast-5'><div class='marginalizedparent'><a class='marginalized' href='#cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6436'>#</a></div><div class='texpara'><div id='cast-5.sentence-1' class='sentence'><a class='index' id=':class,cast_to_incomplete'></a>The operand of a cast using the cast notation can be a prvalue of type
“pointer to incomplete class type”<a class='hidden_link' href='#cast-5.sentence-1'>.</a></div> <div id='cast-5.sentence-2' class='sentence'>The destination type of a cast
using the cast notation can be “pointer to incomplete class type”<a class='hidden_link' href='#cast-5.sentence-2'>.</a></div> <div id='cast-5.sentence-3' class='sentence'>If
both the operand and destination types are class types and one or both
are incomplete, it is unspecified whether the <span id=':static_cast____________________'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> or the
<span id=':reinterpret_cast______________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> interpretation is used, even if there is an
inheritance relationship between the two classes<a class='hidden_link' href='#cast-5.sentence-3'>.</a></div> <div id='cast-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#cast-note-2'>2</a></i>:&ensp;<div id='cast-5.sentence-4' class='sentence'>For example, if the classes were defined later in the translation unit,
a multi-pass compiler could validly interpret a cast between
pointers to the classes as if the class types were complete at the point
of the cast<a class='hidden_link' href='#cast-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div></div><div id='mptr.oper' class='section'><h3 ><a class='secnum' href='#mptr.oper' style='min-width:80pt'>7.6.4</a> Pointer-to-member operators <a class='abbr_ref' href='expr.mptr.oper'>[expr.mptr.oper]</a></h3><div class='para' id='mptr.oper-1'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6455'>#</a></div><div class='texpara'><div id='mptr.oper-1.sentence-1' class='sentence'><a class='index' id=':expression,pointer-to-member'></a><a class='index' id=':pointer_to_member'></a><a class='index' id=':operator,pointer_to_member'></a><a class='index' id=':operator,pointer_to_member_'></a>The pointer-to-member operators <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span></span> and <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> group
left-to-right<a class='hidden_link' href='#mptr.oper-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:pm-expression'>
<a class='hidden_link' href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='nt:pm-expression'><span id=':pm-expression'>pm-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_______________'><span class='textsf'><i >cast-expression</i></span></span></a><br><a href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='ntref:pm-expression'><span class='textsf'><i >pm-expression</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>*</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression________________'><span class='textsf'><i >cast-expression</i></span></span></a><br><a href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='ntref:pm-expression_'><span class='textsf'><i >pm-expression</i></span></span></a> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_________________'><span class='textsf'><i >cast-expression</i></span></span></a>
</div></div></div><div class='para' id='mptr.oper-2'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6472'>#</a></div><div class='texpara'><div id='mptr.oper-2.sentence-1' class='sentence'>The binary operator <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> binds its second operand, which shall be
a prvalue
of type “pointer to member of <span class='texttt'>T</span>” to its first operand, which shall be
a glvalue
of
class <span class='texttt'>T</span> or of a class of which <span class='texttt'>T</span> is an unambiguous and
accessible base class<a class='hidden_link' href='#mptr.oper-2.sentence-1'>.</a></div> <div id='mptr.oper-2.sentence-2' class='sentence'>The result is an object or a function of the type
specified by the second operand<a class='hidden_link' href='#mptr.oper-2.sentence-2'>.</a></div></div></div><div class='para' id='mptr.oper-3'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6482'>#</a></div><div class='texpara'><div id='mptr.oper-3.sentence-1' class='sentence'>The binary operator <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span></span> binds its second operand, which shall be
a prvalue
of type “pointer to member of <span class='texttt'>T</span>” to its first operand, which shall be of
type “pointer to <span class='texttt'>U</span>”
where <span class='texttt'>U</span> is either <span class='texttt'>T</span> or
a class of which <span class='texttt'>T</span>
is an unambiguous and accessible base class<a class='hidden_link' href='#mptr.oper-3.sentence-1'>.</a></div> <div id='mptr.oper-3.sentence-2' class='sentence'>The expression <span class='texttt'>E1<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span>E2</span> is converted into the equivalent form
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>*</span>E2</span><a class='hidden_link' href='#mptr.oper-3.sentence-2'>.</a></div></div></div><div class='para' id='mptr.oper-4'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6493'>#</a></div><div class='texpara'><div id='mptr.oper-4.sentence-1' class='sentence'>Abbreviating <a href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='ntref:pm-expression__'><span class='textsf'><i >pm-expression</i></span></span></a><span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span><a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression__________________'><span class='textsf'><i >cast-expression</i></span></span></a> as <span class='texttt'>E1<span class='operator'>.</span><span class='operator'>*</span>E2</span>, <span class='texttt'>E1</span>
is called the <a class='hidden_link' href='#def:object_expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='def:object_expression_'><i >object expression</i></span></a><a class='hidden_link' href='#mptr.oper-4.sentence-1'>.</a></div> <div id='mptr.oper-4.sentence-2' class='sentence'>If the result of <span class='texttt'>E1</span> is an object
whose type is not similar to the type of <span class='texttt'>E1</span>, or
whose most derived object does not
contain the member to which
<span class='texttt'>E2</span> refers, the behavior is undefined<a class='hidden_link' href='#mptr.oper-4.sentence-2'>.</a></div> <div id='mptr.oper-4.sentence-3' class='sentence'>The expression <span class='texttt'>E1</span> is sequenced before the expression <span class='texttt'>E2</span><a class='hidden_link' href='#mptr.oper-4.sentence-3'>.</a></div></div></div><div class='para' id='mptr.oper-5'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6503'>#</a></div><div class='texpara'><div id='mptr.oper-5.sentence-1' class='sentence'>The restrictions on cv-qualification, and the manner in which
the cv-qualifiers of the operands are combined to produce the
cv-qualifiers of the result, are the same as the rules for
<span class='texttt'>E1<span class='operator'>.</span>E2</span> given in <a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a><a class='hidden_link' href='#mptr.oper-5.sentence-1'>.</a></div> <div id='mptr.oper-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mptr.oper-note-1'>1</a></i>:&ensp;<div id='mptr.oper-5.sentence-2' class='sentence'>It is not possible to use a pointer to member that refers to a
<span id=':mutable__________'><span class='texttt'><span class='keyword'>mutable</span></span></span> member to modify a const class object<a class='hidden_link' href='#mptr.oper-5.sentence-2'>.</a></div> <div id='mptr.oper-5.sentence-3' class='sentence'>For
example,
<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> i<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>mutable</span> <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  <span class='keyword'>const</span> S cs;
  <span class='keyword'>int</span> S<span class='operator'>::</span><span class='operator'>*</span> pm <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>i;          <span class='comment'>// <span class='tcode_in_codeblock'>pm</span> refers to <span id=':mutable___________'><span class='tcode_in_codeblock'>mutable</span></span> member <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;i</span></span>
  cs<span class='operator'>.</span><span class='operator'>*</span>pm <span class='operator'>=</span> <span class='literal'>88</span>;                  <span class='comment'>// error: <span class='tcode_in_codeblock'>cs</span> is a const object</span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mptr.oper-6'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6526'>#</a></div><div class='texpara'><div id='mptr.oper-6.sentence-1' class='sentence'><a class='index' id=':function,pointer_to_member'></a>If the result of <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> or <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span></span> is a function, then that
result can be used only as the operand for the function call operator
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#mptr.oper-6.sentence-1'>.</a></div> <div id='mptr.oper-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mptr.oper-example-1'>1</a></i>:&ensp;<div id='mptr.oper-6.sentence-2' class='sentence'><span class='codeblock'><span class='parenthesis'>(</span>ptr_to_obj<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span>ptr_to_mfct<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='literal'>10</span><span class='parenthesis'>)</span>;
</span>
calls the member function denoted by <span class='texttt'>ptr_<span class='shy'></span>to_<span class='shy'></span>mfct</span> for the object
pointed to by <span class='texttt'>ptr_<span class='shy'></span>to_<span class='shy'></span>obj</span><a class='hidden_link' href='#mptr.oper-6.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='mptr.oper-6.sentence-3' class='sentence'>
In a <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> expression whose object expression is an rvalue, the program is
ill-formed if the second operand is a pointer to member function
whose <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a> is <span class='texttt'><span class='operator'>&amp;</span></span>,
unless its <a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq____'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a> is <span id=':const______________________'><span class='texttt'><span class='keyword'>const</span></span></span><a class='hidden_link' href='#mptr.oper-6.sentence-3'>.</a></div> <div id='mptr.oper-6.sentence-4' class='sentence'>In a <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span>
expression whose object expression is an lvalue, the program is ill-formed if the second
operand is
a pointer to member function
whose <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier__'><span class='textsf'><i >ref-qualifier</i></span></span></a> is <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span><a class='hidden_link' href='#mptr.oper-6.sentence-4'>.</a></div> <div id='mptr.oper-6.sentence-5' class='sentence'>The result of a <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> expression
whose second operand is a pointer to a data member is an lvalue if the first
operand is an lvalue and an xvalue otherwise<a class='hidden_link' href='#mptr.oper-6.sentence-5'>.</a></div> <div id='mptr.oper-6.sentence-6' class='sentence'>The result of a <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> expression whose
second operand is a pointer to a member function is a prvalue<a class='hidden_link' href='#mptr.oper-6.sentence-6'>.</a></div> <div id='mptr.oper-6.sentence-7' class='sentence'>If the second operand is the <a href='#def:value,null_member_pointer' title='7.3.13&emsp;Pointer-to-member conversions&emsp;[conv.mem]'>null member pointer value</a>,
the behavior is undefined<a class='hidden_link' href='#mptr.oper-6.sentence-7'>.</a></div></div></div></div><div id='mul' class='section'><h3 ><a class='secnum' href='#mul' style='min-width:80pt'>7.6.5</a> Multiplicative operators <a class='abbr_ref' href='expr.mul'>[expr.mul]</a></h3><div class='texpara'><a class='index' id=':expression,multiplicative_operators'></a><a class='index' id=':operator,multiplicative'></a></div><div class='para' id='mul-1'><div class='marginalizedparent'><a class='marginalized' href='#mul-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6558'>#</a></div><div class='texpara'><div id='mul-1.sentence-1' class='sentence'>The multiplicative operators <span class='texttt'><span class='operator'>*</span></span>, <span class='texttt'><span class='operator'>/</span></span>, and <span class='texttt'><span class='operator'>%</span></span> group
left-to-right<a class='hidden_link' href='#mul-1.sentence-1'>.</a></div></div><div class='texpara'><a class='index' id=':operator,multiplication'></a><a class='index' id=':operator,division'></a><a class='index' id=':operator,remainder'></a><div class='bnf' id='nt:multiplicative-expression'>
<a class='hidden_link' href='#nt:multiplicative-expression' title='7.6.5&emsp;Multiplicative operators&emsp;[expr.mul]'><span id='nt:multiplicative-expression'><span id=':multiplicative-expression'>multiplicative-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='ntref:pm-expression___'><span class='textsf'><i >pm-expression</i></span></span></a><br><a href='#nt:multiplicative-expression' title='7.6.5&emsp;Multiplicative operators&emsp;[expr.mul]'><span id='ntref:multiplicative-expression'><span class='textsf'><i >multiplicative-expression</i></span></span></a> <span class='terminal'><span class='operator'>*</span></span> <a href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='ntref:pm-expression____'><span class='textsf'><i >pm-expression</i></span></span></a><br><a href='#nt:multiplicative-expression' title='7.6.5&emsp;Multiplicative operators&emsp;[expr.mul]'><span id='ntref:multiplicative-expression_'><span class='textsf'><i >multiplicative-expression</i></span></span></a> <span class='terminal'><span class='operator'>/</span></span> <a href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='ntref:pm-expression_____'><span class='textsf'><i >pm-expression</i></span></span></a><br><a href='#nt:multiplicative-expression' title='7.6.5&emsp;Multiplicative operators&emsp;[expr.mul]'><span id='ntref:multiplicative-expression__'><span class='textsf'><i >multiplicative-expression</i></span></span></a> <span class='terminal'><span class='operator'>%</span></span> <a href='#nt:pm-expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='ntref:pm-expression______'><span class='textsf'><i >pm-expression</i></span></span></a>
</div></div></div><div class='para' id='mul-2'><div class='marginalizedparent'><a class='marginalized' href='#mul-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6578'>#</a></div><div class='texpara'><div id='mul-2.sentence-1' class='sentence'>The operands of <span class='texttt'><span class='operator'>*</span></span> and <span class='texttt'><span class='operator'>/</span></span> shall have arithmetic or unscoped
enumeration type; the operands of <span class='texttt'><span class='operator'>%</span></span> shall have integral or unscoped
enumeration type<a class='hidden_link' href='#mul-2.sentence-1'>.</a></div> <div id='mul-2.sentence-2' class='sentence'>The <a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions&emsp;[expr.arith.conv]'>usual arithmetic conversions</a> are performed on the
operands and determine the type of the result<a class='hidden_link' href='#mul-2.sentence-2'>.</a></div></div></div><div class='para' id='mul-3'><div class='marginalizedparent'><a class='marginalized' href='#mul-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6584'>#</a></div><div class='texpara'><div id='mul-3.sentence-1' class='sentence'>The binary <span class='texttt'><span class='operator'>*</span></span> operator indicates multiplication<a class='hidden_link' href='#mul-3.sentence-1'>.</a></div></div></div><div class='para' id='mul-4'><div class='marginalizedparent'><a class='marginalized' href='#mul-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6587'>#</a></div><div class='texpara'><div id='mul-4.sentence-1' class='sentence'>The binary <span class='texttt'><span class='operator'>/</span></span> operator yields the quotient, and the binary
<span class='texttt'><span class='operator'>%</span></span> operator yields the remainder from the division of the first
expression by the second<a class='hidden_link' href='#mul-4.sentence-1'>.</a></div> <div id='mul-4.sentence-2' class='sentence'><a class='index' id=':zero,undefined_division_by'></a>If the second operand of <span class='texttt'><span class='operator'>/</span></span> or <span class='texttt'><span class='operator'>%</span></span> is zero, the behavior is
undefined<a class='hidden_link' href='#mul-4.sentence-2'>.</a></div> <div id='mul-4.sentence-3' class='sentence'>For integral operands, the <span class='texttt'><span class='operator'>/</span></span> operator yields the algebraic quotient with
any fractional part discarded;<a class='footnoteref' href='#footnote-63' id='footnoteref-63' title='This is often called truncation towards zero.'>63</a>
if the quotient <span class='texttt'>a<span class='operator'>/</span>b</span> is representable in the type of the result,
<span class='texttt'><span class='parenthesis'>(</span>a<span class='operator'>/</span>b<span class='parenthesis'>)</span><span class='operator'>*</span>b <span class='operator'>+</span> a<span class='operator'>%</span>b</span> is equal to <span class='texttt'>a</span>; otherwise, the behavior
of both <span class='texttt'>a<span class='operator'>/</span>b</span> and <span class='texttt'>a<span class='operator'>%</span>b</span> is undefined<a class='hidden_link' href='#mul-4.sentence-3'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-63'><div class='texpara'><a class='footnotenum' href='#footnote-63'>63)</a><a class='footnoteBacklink' href='#footnoteref-63'>63)</a> <div id='footnote-63.sentence-1' class='sentence'>This is often called truncation towards zero<a class='hidden_link' href='#footnote-63.sentence-1'>.</a></div></div></div></div><div id='add' class='section'><h3 ><a class='secnum' href='#add' style='min-width:80pt'>7.6.6</a> Additive operators <a class='abbr_ref' href='expr.add'>[expr.add]</a></h3><div class='texpara'><a class='index' id=':expression,additive_operators'></a><a class='index' id=':operator,additive'></a></div><div class='para' id='add-1'><div class='marginalizedparent'><a class='marginalized' href='#add-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6607'>#</a></div><div class='texpara'><div id='add-1.sentence-1' class='sentence'>The additive operators <span class='texttt'><span class='operator'>+</span></span> and <span class='texttt'><span class='operator'>-</span></span> group left-to-right<a class='hidden_link' href='#add-1.sentence-1'>.</a></div> <div id='add-1.sentence-2' class='sentence'>Each operand shall be a prvalue<a class='hidden_link' href='#add-1.sentence-2'>.</a></div> <div id='add-1.sentence-3' class='sentence'>If both operands have arithmetic or unscoped enumeration type,
the usual arithmetic conversions (<a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) are performed<a class='hidden_link' href='#add-1.sentence-3'>.</a></div> <div id='add-1.sentence-4' class='sentence'>Otherwise, if one operand has arithmetic or unscoped enumeration type,
integral promotion is applied (<a href='#conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>) to that operand<a class='hidden_link' href='#add-1.sentence-4'>.</a></div> <div id='add-1.sentence-5' class='sentence'>A converted or promoted operand is used in place of
the corresponding original operand for the remainder of this section<a class='hidden_link' href='#add-1.sentence-5'>.</a></div></div><div class='texpara'><a class='index' id=':operator,addition'></a><a class='index' id=':operator,subtraction'></a><div class='bnf' id='nt:additive-expression'>
<a class='hidden_link' href='#nt:additive-expression' title='7.6.6&emsp;Additive operators&emsp;[expr.add]'><span id='nt:additive-expression'><span id=':additive-expression'>additive-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:multiplicative-expression' title='7.6.5&emsp;Multiplicative operators&emsp;[expr.mul]'><span id='ntref:multiplicative-expression___'><span class='textsf'><i >multiplicative-expression</i></span></span></a><br><a href='#nt:additive-expression' title='7.6.6&emsp;Additive operators&emsp;[expr.add]'><span id='ntref:additive-expression'><span class='textsf'><i >additive-expression</i></span></span></a> <span class='terminal'><span class='operator'>+</span></span> <a href='#nt:multiplicative-expression' title='7.6.5&emsp;Multiplicative operators&emsp;[expr.mul]'><span id='ntref:multiplicative-expression____'><span class='textsf'><i >multiplicative-expression</i></span></span></a><br><a href='#nt:additive-expression' title='7.6.6&emsp;Additive operators&emsp;[expr.add]'><span id='ntref:additive-expression_'><span class='textsf'><i >additive-expression</i></span></span></a> <span class='terminal'><span class='operator'>-</span></span> <a href='#nt:multiplicative-expression' title='7.6.5&emsp;Multiplicative operators&emsp;[expr.mul]'><span id='ntref:multiplicative-expression_____'><span class='textsf'><i >multiplicative-expression</i></span></span></a>
</div></div><div class='texpara'><div id='add-1.sentence-6' class='sentence'><a class='index' id=':incomplete'></a>For addition, either both operands shall have arithmetic
type, or one operand shall be a pointer to a completely-defined object
type and the other shall have integral type<a class='hidden_link' href='#add-1.sentence-6'>.</a></div></div></div><div class='para' id='add-2'><div class='marginalizedparent'><a class='marginalized' href='#add-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6636'>#</a></div><div class='texpara'><div id='add-2.sentence-1' class='sentence'>For subtraction, one of the following shall hold:
<ul class='itemize'><li id='add-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-2.1'>(2.1)</a></div>both operands have arithmetic type; or</li><li id='add-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-2.2'>(2.2)</a></div><a class='index' id=':arithmetic,pointer'></a>both operands are pointers to cv-qualified or cv-unqualified
versions of the same completely-defined object type; or</li><li id='add-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-2.3'>(2.3)</a></div>the left operand is a pointer to a completely-defined object type
and the right operand has integral type<a class='hidden_link' href='#add-2.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='add-3'><div class='marginalizedparent'><a class='marginalized' href='#add-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6650'>#</a></div><div class='texpara'><div id='add-3.sentence-1' class='sentence'>The result of the binary <span class='texttt'><span class='operator'>+</span></span> operator is the sum of the operands<a class='hidden_link' href='#add-3.sentence-1'>.</a></div> <div id='add-3.sentence-2' class='sentence'>The result of the binary <span class='texttt'><span class='operator'>-</span></span> operator is the difference resulting
from the subtraction of the second operand from the first<a class='hidden_link' href='#add-3.sentence-2'>.</a></div></div></div><div class='para' id='add-4'><div class='marginalizedparent'><a class='marginalized' href='#add-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6655'>#</a></div><div class='texpara'><div id='add-4.sentence-1' class='sentence'><a class='index' id=':arithmetic,pointer_'></a>When an expression <span class='texttt'>J</span> that has integral type
is added to or subtracted from an expression <span class='texttt'>P</span> of pointer type,
the result has the type of <span class='texttt'>P</span><a class='hidden_link' href='#add-4.sentence-1'>.</a></div> <ul class='itemize'><li id='add-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-4.1'>(4.1)</a></div><div class='texpara'><div id='add-4.1.sentence-1' class='sentence'>If <span class='texttt'>P</span> evaluates to a null pointer value and
<span class='texttt'>J</span> evaluates to 0, the result is a null pointer value<a class='hidden_link' href='#add-4.1.sentence-1'>.</a></div></div></li><li id='add-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-4.2'>(4.2)</a></div><div class='texpara'><div id='add-4.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>P</span> points to a (possibly-hypothetical) array element <span class='math'><span class='mathalpha'>i</span></span>
of an array object <span class='texttt'>x</span> with <span class='math'><span class='mathalpha'>n</span></span> elements (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>),<a class='footnoteref' href='#footnote-64' id='footnoteref-64' title='As specified in [basic.compound], an object that is not an array element is considered to belong to a single-element array for this purpose and a pointer past the last element of an array of n elements is considered to be equivalent to a pointer to a hypothetical array element n for this purpose.'>64</a>
the expressions <span class='texttt'>P <span class='operator'>+</span> J</span> and <span class='texttt'>J <span class='operator'>+</span> P</span>
(where <span class='texttt'>J</span> has the value <span class='math'><span class='mathalpha'>j</span></span>)
point to the (possibly-hypothetical) array element
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span> of <span class='texttt'>x</span> if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span>
and the expression <span class='texttt'>P <span class='operator'>-</span> J</span>
points to the (possibly-hypothetical) array element
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span> of <span class='texttt'>x</span> if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span><a class='hidden_link' href='#add-4.2.sentence-1'>.</a></div></div></li><li id='add-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-4.3'>(4.3)</a></div><div class='texpara'><div id='add-4.3.sentence-1' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#add-4.3.sentence-1'>.</a></div></div></li></ul> <div id='add-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#add-note-1'>1</a></i>:&ensp;<div id='add-4.sentence-2' class='sentence'>Adding a value other than <span class='math'>0</span> or <span class='math'>1</span>
to a pointer to a base class subobject, a member subobject,
or a complete object results in undefined behavior<a class='hidden_link' href='#add-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='add-5'><div class='marginalizedparent'><a class='marginalized' href='#add-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6688'>#</a></div><div class='texpara'><div id='add-5.sentence-1' class='sentence'><a class='index' id=':ptrdiff_t,implementation-defined_type_of'></a><a class='index' id=':subtraction,implementation-defined_pointer'></a><a class='index' id=':ptrdiff_t'></a><a class='index' id=':comparison,undefined_pointer'></a>When two pointer expressions <span class='texttt'>P</span> and <span class='texttt'>Q</span> are subtracted,
the type of the result is an <a class='index' id=':type_of_ptrdiff_t'></a>implementation-defined signed
integral type; this type shall be the same type that is named by
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>ptrdiff_<span class='shy'></span>t</span> in the <a href='cstddef.syn#header:%3ccstddef%3e' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis&emsp;[cstddef.syn]'><span id='headerref:<cstddef>__'><span class='texttt'>&lt;cstddef&gt;</span></span></a>
header (<a href='support.types.layout' title='17.2.4&emsp;Sizes, alignments, and offsets'>[support.<span class='shy'></span>types.<span class='shy'></span>layout]</a>)<a class='hidden_link' href='#add-5.sentence-1'>.</a></div> <ul class='itemize'><li id='add-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-5.1'>(5.1)</a></div><div class='texpara'><div id='add-5.1.sentence-1' class='sentence'>If <span class='texttt'>P</span> and <span class='texttt'>Q</span> both evaluate to null pointer values,
the result is 0<a class='hidden_link' href='#add-5.1.sentence-1'>.</a></div></div></li><li id='add-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-5.2'>(5.2)</a></div><div class='texpara'><div id='add-5.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>P</span> and <span class='texttt'>Q</span> point to, respectively,
array elements <span class='math'><span class='mathalpha'>i</span></span> and <span class='math'><span class='mathalpha'>j</span></span>
of the same array object <span class='texttt'>x</span>,
the expression <span class='texttt'>P <span class='operator'>-</span> Q</span> has the value <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span><a class='hidden_link' href='#add-5.2.sentence-1'>.</a></div> <div id='add-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#add-note-2'>2</a></i>:&ensp;<div id='add-5.2.sentence-2' class='sentence'>If the value <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span>
is not in the range of representable values
of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>ptrdiff_<span class='shy'></span>t</span>,
the behavior is undefined (<a href='#pre' title='7.1&emsp;Preamble'>[expr.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#add-5.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='add-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#add-5.3'>(5.3)</a></div><div class='texpara'><div id='add-5.3.sentence-1' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#add-5.3.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='add-6'><div class='marginalizedparent'><a class='marginalized' href='#add-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6714'>#</a></div><div class='texpara'><div id='add-6.sentence-1' class='sentence'>For addition or subtraction, if the expressions <span class='texttt'>P</span> or <span class='texttt'>Q</span> have
type “pointer to <span class='mathit'>cv</span> <span class='texttt'>T</span>”, where <span class='texttt'>T</span> and the array element type
are not <a href='#def:similar_types' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'>similar</a>, the behavior is undefined<a class='hidden_link' href='#add-6.sentence-1'>.</a></div> <div id='add-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#add-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> arr<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span>, <span class='literal'>4</span>, <span class='literal'>5</span><span class='curlybracket'>}</span>;
<span class='keyword'>unsigned</span> <span class='keyword'>int</span> <span class='operator'>*</span>p <span class='operator'>=</span> <span class='keyword'>reinterpret_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>arr <span class='operator'>+</span> <span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='keyword'>unsigned</span> <span class='keyword'>int</span> k <span class='operator'>=</span> <span class='operator'>*</span>p;            <span class='comment'>// OK, value of <span class='tcode_in_codeblock'>k</span> is <span class='math'>2</span> (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>)</span>
<span class='keyword'>unsigned</span> <span class='keyword'>int</span> <span class='operator'>*</span>q <span class='operator'>=</span> p <span class='operator'>+</span> <span class='literal'>1</span>;        <span class='comment'>// undefined behavior: <span class='tcode_in_codeblock'>p</span> points to an <span class='tcode_in_codeblock'>int</span>, not an <span class='tcode_in_codeblock'>unsigned int</span> object</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-64'><div class='texpara'><a class='footnotenum' href='#footnote-64'>64)</a><a class='footnoteBacklink' href='#footnoteref-64'>64)</a> <div id='footnote-64.sentence-1' class='sentence'>As specified in <a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>,
an object that is not an array element
is considered to belong to a single-element array for this purpose and
a pointer past the last element of an array of <span class='math'><span class='mathalpha'>n</span></span> elements
is considered to be equivalent to a pointer to a hypothetical array element
<span class='math'><span class='mathalpha'>n</span></span> for this purpose<a class='hidden_link' href='#footnote-64.sentence-1'>.</a></div></div></div></div><div id='shift' class='section'><h3 ><a class='secnum' href='#shift' style='min-width:80pt'>7.6.7</a> Shift operators <a class='abbr_ref' href='expr.shift'>[expr.shift]</a></h3><div class='para' id='shift-1'><div class='marginalizedparent'><a class='marginalized' href='#shift-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6729'>#</a></div><div class='texpara'><div id='shift-1.sentence-1' class='sentence'><a class='index' id=':expression,left-shift-operator'></a><a class='index' id=':expression,right-shift-operator'></a>The shift operators <span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span></span> and <span class='texttt'><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> group left-to-right<a class='hidden_link' href='#shift-1.sentence-1'>.</a></div></div><div class='texpara'><a class='index' id=':operator,left_shift'></a><a class='index' id=':operator,right_shift'></a><div class='bnf' id='nt:shift-expression'>
<a class='hidden_link' href='#nt:shift-expression' title='7.6.7&emsp;Shift operators&emsp;[expr.shift]'><span id='nt:shift-expression'><span id=':shift-expression'>shift-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:additive-expression' title='7.6.6&emsp;Additive operators&emsp;[expr.add]'><span id='ntref:additive-expression__'><span class='textsf'><i >additive-expression</i></span></span></a><br><a href='#nt:shift-expression' title='7.6.7&emsp;Shift operators&emsp;[expr.shift]'><span id='ntref:shift-expression'><span class='textsf'><i >shift-expression</i></span></span></a> <span class='terminal'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span></span> <a href='#nt:additive-expression' title='7.6.6&emsp;Additive operators&emsp;[expr.add]'><span id='ntref:additive-expression___'><span class='textsf'><i >additive-expression</i></span></span></a><br><a href='#nt:shift-expression' title='7.6.7&emsp;Shift operators&emsp;[expr.shift]'><span id='ntref:shift-expression_'><span class='textsf'><i >shift-expression</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> <a href='#nt:additive-expression' title='7.6.6&emsp;Additive operators&emsp;[expr.add]'><span id='ntref:additive-expression____'><span class='textsf'><i >additive-expression</i></span></span></a>
</div></div><div class='texpara'><div id='shift-1.sentence-2' class='sentence'>The operands shall be prvalues of integral or unscoped enumeration type and integral
promotions are performed<a class='hidden_link' href='#shift-1.sentence-2'>.</a></div> <div id='shift-1.sentence-3' class='sentence'>The type of the result is that of the promoted
left operand<a class='hidden_link' href='#shift-1.sentence-3'>.</a></div> <div id='shift-1.sentence-4' class='sentence'><a class='index' id=':left_shift,undefined'></a>The behavior is undefined if the right operand is negative, or greater
than or equal to the width of the promoted left operand<a class='hidden_link' href='#shift-1.sentence-4'>.</a></div></div></div><div class='para' id='shift-2'><div class='marginalizedparent'><a class='marginalized' href='#shift-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6757'>#</a></div><div class='texpara'><div id='shift-2.sentence-1' class='sentence'>The value of <span class='texttt'>E1 <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> E2</span> is the unique value congruent to
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.225em;">E1</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.225em;">E2</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span> modulo <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span></span>,
where <span class='math'><span class='mathalpha'>N</span></span> is the width of the type of the result<a class='hidden_link' href='#shift-2.sentence-1'>.</a></div> <div id='shift-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#shift-note-1'>1</a></i>:&ensp;<div id='shift-2.sentence-2' class='sentence'><span class='texttt'>E1</span> is left-shifted <span class='texttt'>E2</span> bit positions;
vacated bits are zero-filled<a class='hidden_link' href='#shift-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='shift-3'><div class='marginalizedparent'><a class='marginalized' href='#shift-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6766'>#</a></div><div class='texpara'><div id='shift-3.sentence-1' class='sentence'>The value of <span class='texttt'>E1 <span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> E2</span> is <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.225em;">E1</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">/</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.225em;">E2</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span>,
rounded towards negative infinity<a class='hidden_link' href='#shift-3.sentence-1'>.</a></div> <div id='shift-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#shift-note-2'>2</a></i>:&ensp;<div id='shift-3.sentence-2' class='sentence'><span class='texttt'>E1</span> is right-shifted <span class='texttt'>E2</span> bit positions<a class='hidden_link' href='#shift-3.sentence-2'>.</a></div> <div id='shift-3.sentence-3' class='sentence'>Right-shift on signed integral types is an arithmetic right shift,
which performs sign-extension<a class='hidden_link' href='#shift-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='shift-4'><div class='marginalizedparent'><a class='marginalized' href='#shift-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6775'>#</a></div><div class='texpara'><div id='shift-4.sentence-1' class='sentence'>The expression <span class='texttt'>E1</span> is sequenced before the expression <span class='texttt'>E2</span><a class='hidden_link' href='#shift-4.sentence-1'>.</a></div></div></div></div><div id='spaceship' class='section'><h3 ><a class='secnum' href='#spaceship' style='min-width:80pt'>7.6.8</a> Three-way comparison operator <a class='abbr_ref' href='expr.spaceship'>[expr.spaceship]</a></h3><div class='texpara'><a class='index' id=':expression,three-way_comparison'></a><a class='index' id=':expression,spaceship'></a></div><div class='para' id='spaceship-1'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6782'>#</a></div><div class='texpara'><div id='spaceship-1.sentence-1' class='sentence'>The three-way comparison operator groups left-to-right<a class='hidden_link' href='#spaceship-1.sentence-1'>.</a></div></div><div class='texpara'><a class='index' id=':operator,three-way_comparison'></a><a class='index' id=':operator,spaceship'></a>
<div class='bnf' id='nt:compare-expression'>
<a class='hidden_link' href='#nt:compare-expression' title='7.6.8&emsp;Three-way comparison operator&emsp;[expr.spaceship]'><span id='nt:compare-expression'><span id=':compare-expression'>compare-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:shift-expression' title='7.6.7&emsp;Shift operators&emsp;[expr.shift]'><span id='ntref:shift-expression__'><span class='textsf'><i >shift-expression</i></span></span></a><br><a href='#nt:compare-expression' title='7.6.8&emsp;Three-way comparison operator&emsp;[expr.spaceship]'><span id='ntref:compare-expression'><span class='textsf'><i >compare-expression</i></span></span></a> <span class='terminal'><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> <a href='#nt:shift-expression' title='7.6.7&emsp;Shift operators&emsp;[expr.shift]'><span id='ntref:shift-expression___'><span class='textsf'><i >shift-expression</i></span></span></a>
</div></div></div><div class='para' id='spaceship-2'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6795'>#</a></div><div class='texpara'><div id='spaceship-2.sentence-1' class='sentence'>The expression <span class='texttt'>p <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> q</span> is a prvalue indicating whether
<span class='texttt'>p</span> is less than, equal to, greater than, or incomparable with
<span class='texttt'>q</span><a class='hidden_link' href='#spaceship-2.sentence-1'>.</a></div></div></div><div class='para' id='spaceship-3'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6800'>#</a></div><div class='texpara'><div id='spaceship-3.sentence-1' class='sentence'>If one of the operands is of type <span id=':bool____________________'><span class='texttt'><span class='keyword'>bool</span></span></span>
and the other is not, the program is ill-formed<a class='hidden_link' href='#spaceship-3.sentence-1'>.</a></div></div></div><div class='para' id='spaceship-4'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6804'>#</a></div><div class='texpara'><div id='spaceship-4.sentence-1' class='sentence'>If both operands have arithmetic types,
or one operand has integral type and
the other operand has unscoped enumeration type,
the <a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions&emsp;[expr.arith.conv]'>usual arithmetic conversions</a> are applied to the operands<a class='hidden_link' href='#spaceship-4.sentence-1'>.</a></div> <div id='spaceship-4.sentence-2' class='sentence'>Then:
<ul class='itemize'><li id='spaceship-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-4.1'>(4.1)</a></div><div class='texpara'><div id='spaceship-4.1.sentence-1' class='sentence'>If a <a href='dcl.init.list#def:conversion,narrowing' title='9.5.5&emsp;List-initialization&emsp;[dcl.init.list]'>narrowing conversion</a> is required,
other than from an integral type to a floating-point type,
the program is ill-formed<a class='hidden_link' href='#spaceship-4.1.sentence-1'>.</a></div></div></li><li id='spaceship-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-4.2'>(4.2)</a></div><div class='texpara'><div id='spaceship-4.2.sentence-1' class='sentence'>Otherwise, if the operands have integral type,
the result is of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering</span><a class='hidden_link' href='#spaceship-4.2.sentence-1'>.</a></div> <div id='spaceship-4.2.sentence-2' class='sentence'>The result is
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>equal</span>
if both operands are arithmetically equal,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>less</span>
if the first operand is arithmetically
less than the second operand,
and
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>greater</span>
otherwise<a class='hidden_link' href='#spaceship-4.2.sentence-2'>.</a></div></div></li><li id='spaceship-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-4.3'>(4.3)</a></div><div class='texpara'><div id='spaceship-4.3.sentence-1' class='sentence'>Otherwise, the operands have floating-point type, and
the result is of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering</span><a class='hidden_link' href='#spaceship-4.3.sentence-1'>.</a></div> <div id='spaceship-4.3.sentence-2' class='sentence'>The expression <span class='texttt'>a <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> b</span> yields
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>less</span>
if <span class='texttt'>a</span> is less than <span class='texttt'>b</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>greater</span>
if <span class='texttt'>a</span> is greater than <span class='texttt'>b</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>equivalent</span>
if <span class='texttt'>a</span> is equivalent to <span class='texttt'>b</span>,
and
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>unordered</span> otherwise<a class='hidden_link' href='#spaceship-4.3.sentence-2'>.</a></div></div></li></ul></div></div></div><div class='para' id='spaceship-5'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6842'>#</a></div><div class='texpara'><div id='spaceship-5.sentence-1' class='sentence'>If both operands have the same enumeration type <span class='texttt'>E</span>,
the operator yields the result of
converting the operands to the underlying type of <span class='texttt'>E</span>
and applying <span class='texttt'><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> to the converted operands<a class='hidden_link' href='#spaceship-5.sentence-1'>.</a></div></div></div><div class='para' id='spaceship-6'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6848'>#</a></div><div class='texpara'><div id='spaceship-6.sentence-1' class='sentence'>If at least one of the operands is of object pointer type and
the other operand is of object pointer or array type,
array-to-pointer conversions (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>),
pointer conversions (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>),
and
<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'>qualification conversions</a>
are performed on both operands
to bring them to their composite pointer type (<a href='#type' title='7.2.2&emsp;Type'>[expr.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#spaceship-6.sentence-1'>.</a></div> <div id='spaceship-6.sentence-2' class='sentence'>After the conversions, the operands shall have the same type<a class='hidden_link' href='#spaceship-6.sentence-2'>.</a></div> <div id='spaceship-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#spaceship-note-1'>1</a></i>:&ensp;<div id='spaceship-6.sentence-3' class='sentence'>If both of the operands are arrays,
<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer conversions</a> are not applied<a class='hidden_link' href='#spaceship-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='spaceship-6.sentence-4' class='sentence'>
In this case,
<span class='texttt'>p <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> q</span> is of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering</span> and
the result is defined by the following rules:
<ul class='itemize'><li id='spaceship-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-6.1'>(6.1)</a></div>If two pointer operands <span class='texttt'>p</span> and <span class='texttt'>q</span> compare equal (<a href='#eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>),
<span class='texttt'>p <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> q</span> yields <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>equal</span>;</li><li id='spaceship-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-6.2'>(6.2)</a></div>otherwise, if <span class='texttt'>p</span> and <span class='texttt'>q</span> compare unequal,
<span class='texttt'>p <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> q</span> yields
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>less</span>
if <span class='texttt'>q</span> compares greater than <span class='texttt'>p</span>
and
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>greater</span>
if <span class='texttt'>p</span> compares greater than <span class='texttt'>q</span> (<a href='#rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>);</li><li id='spaceship-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-6.3'>(6.3)</a></div>otherwise, the result is unspecified<a class='hidden_link' href='#spaceship-6.sentence-4'>.</a></li></ul></div></div></div><div class='para' id='spaceship-7'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6881'>#</a></div><div class='texpara'><div id='spaceship-7.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#spaceship-7.sentence-1'>.</a></div></div></div><div class='para' id='spaceship-8'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6884'>#</a></div><div class='texpara'><div id='spaceship-8.sentence-1' class='sentence'>The three comparison category types (<a href='cmp.categories' title='17.12.2&emsp;Comparison category types'>[cmp.<span class='shy'></span>categories]</a>)
(the types
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>weak_<span class='shy'></span>ordering</span>, and
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering</span>)
are not predefined;
if a standard library declaration (<a href='compare.syn' title='17.12.1&emsp;Header &lt;compare&gt; synopsis'>[compare.<span class='shy'></span>syn]</a>, <a href='std.modules' title='16.4.2.4&emsp;Modules'>[std.<span class='shy'></span>modules]</a>)
of such a class type does not precede (<a href='basic.lookup.general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>)
a use of that type —
even an implicit use in which the type is not named
(e.g., via the <span id=':auto__'><span class='texttt'><span class='keyword'>auto</span></span></span> specifier (<a href='dcl.spec.auto' title='9.2.9.7&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>)
in a defaulted three-way comparison (<a href='class.spaceship' title='11.10.3&emsp;Three-way comparison'>[class.<span class='shy'></span>spaceship]</a>)
or use of the built-in operator) — the program is ill-formed<a class='hidden_link' href='#spaceship-8.sentence-1'>.</a></div></div></div></div><div id='rel' class='section'><h3 ><a class='secnum' href='#rel' style='min-width:80pt'>7.6.9</a> Relational operators <a class='abbr_ref' href='expr.rel'>[expr.rel]</a></h3><div class='texpara'><a class='index' id=':expression,relational_operators'></a><a class='index' id=':operator,relational'></a></div><div class='para' id='rel-1'><div class='marginalizedparent'><a class='marginalized' href='#rel-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6903'>#</a></div><div class='texpara'><div id='rel-1.sentence-1' class='sentence'>The relational operators group left-to-right<a class='hidden_link' href='#rel-1.sentence-1'>.</a></div> <div id='rel-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#rel-example-1'>1</a></i>:&ensp;<div id='rel-1.sentence-2' class='sentence'><span class='texttt'>a<span class='anglebracket'>&lt;</span>b<span class='anglebracket'>&lt;</span>c</span> means <span class='texttt'><span class='parenthesis'>(</span>a<span class='anglebracket'>&lt;</span>b<span class='parenthesis'>)</span><span class='anglebracket'>&lt;</span>c</span> and <span class='emph'>not</span>
<span class='texttt'><span class='parenthesis'>(</span>a<span class='anglebracket'>&lt;</span>b<span class='parenthesis'>)</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span>b<span class='anglebracket'>&lt;</span>c<span class='parenthesis'>)</span></span><a class='hidden_link' href='#rel-1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='rel-1.sentence-3' class='sentence'><a class='index' id=':operator,less_than'></a><a class='index' id=':operator,greater_than'></a><a class='index' id=':operator,less_than_or_equal_to'></a><a class='index' id=':operator,greater_than_or_equal_to'></a><div class='bnf' id='nt:relational-expression'>
<a class='hidden_link' href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='nt:relational-expression'><span id=':relational-expression'>relational-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:compare-expression' title='7.6.8&emsp;Three-way comparison operator&emsp;[expr.spaceship]'><span id='ntref:compare-expression_'><span class='textsf'><i >compare-expression</i></span></span></a><br><a href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='ntref:relational-expression'><span class='textsf'><i >relational-expression</i></span></span></a> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='#nt:compare-expression' title='7.6.8&emsp;Three-way comparison operator&emsp;[expr.spaceship]'><span id='ntref:compare-expression__'><span class='textsf'><i >compare-expression</i></span></span></a><br><a href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='ntref:relational-expression_'><span class='textsf'><i >relational-expression</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <a href='#nt:compare-expression' title='7.6.8&emsp;Three-way comparison operator&emsp;[expr.spaceship]'><span id='ntref:compare-expression___'><span class='textsf'><i >compare-expression</i></span></span></a><br><a href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='ntref:relational-expression__'><span class='textsf'><i >relational-expression</i></span></span></a> <span class='terminal'><span class='anglebracket'>&lt;</span><span class='operator'>=</span></span> <a href='#nt:compare-expression' title='7.6.8&emsp;Three-way comparison operator&emsp;[expr.spaceship]'><span id='ntref:compare-expression____'><span class='textsf'><i >compare-expression</i></span></span></a><br><a href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='ntref:relational-expression___'><span class='textsf'><i >relational-expression</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span><span class='operator'>=</span></span> <a href='#nt:compare-expression' title='7.6.8&emsp;Three-way comparison operator&emsp;[expr.spaceship]'><span id='ntref:compare-expression_____'><span class='textsf'><i >compare-expression</i></span></span></a>
</div>
The
lvalue-to-rvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>)
and function-to-pointer (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>)
standard conversions are performed on the operands<a class='hidden_link' href='#rel-1.sentence-3'>.</a></div> <div id='rel-1.sentence-4' class='sentence'>If one of the operands is a pointer, the
array-to-pointer conversion (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>) is performed on the other operand<a class='hidden_link' href='#rel-1.sentence-4'>.</a></div></div></div><div class='para' id='rel-2'><div class='marginalizedparent'><a class='marginalized' href='#rel-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6934'>#</a></div><div class='texpara'><div id='rel-2.sentence-1' class='sentence'>The converted operands shall have arithmetic, enumeration, or pointer type<a class='hidden_link' href='#rel-2.sentence-1'>.</a></div> <div id='rel-2.sentence-2' class='sentence'>The
operators <span class='texttt'><span class='anglebracket'>&lt;</span></span> (less than), <span class='texttt'><span class='anglebracket'>&gt;</span></span> (greater than), <span class='texttt'><span class='anglebracket'>&lt;</span><span class='operator'>=</span></span>
(less than or equal to), and <span class='texttt'><span class='anglebracket'>&gt;</span><span class='operator'>=</span></span> (greater than or equal to) all
yield <span id=':false___________'><span class='texttt'><span class='literal'>false</span></span></span> or <span id=':true_______'><span class='texttt'><span class='literal'>true</span></span></span><a class='hidden_link' href='#rel-2.sentence-2'>.</a></div> <div id='rel-2.sentence-3' class='sentence'>The type of the result is
<span id=':bool_____________________'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#rel-2.sentence-3'>.</a></div></div></div><div class='para' id='rel-3'><div class='marginalizedparent'><a class='marginalized' href='#rel-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6942'>#</a></div><div class='texpara'><div id='rel-3.sentence-1' class='sentence'>The usual arithmetic conversions (<a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) are performed on operands of arithmetic
or enumeration type<a class='hidden_link' href='#rel-3.sentence-1'>.</a></div> <div id='rel-3.sentence-2' class='sentence'>If both converted operands are pointers,
pointer conversions (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>),
function pointer conversions (<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>), and
qualification conversions (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)
are performed to bring
them to their <a href='#def:composite_pointer_type' title='7.2.2&emsp;Type&emsp;[expr.type]'>composite pointer type</a><a class='hidden_link' href='#rel-3.sentence-2'>.</a></div> <div id='rel-3.sentence-3' class='sentence'>After conversions, the operands shall have the same type<a class='hidden_link' href='#rel-3.sentence-3'>.</a></div></div></div><div class='para' id='rel-4'><div class='marginalizedparent'><a class='marginalized' href='#rel-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6952'>#</a></div><div class='texpara'><div id='rel-4.sentence-1' class='sentence'>The result of comparing unequal pointers to objects<a class='footnoteref' href='#footnote-65' id='footnoteref-65' title='As specified in [basic.compound], an object that is not an array element is considered to belong to a single-element array for this purpose and a pointer past the last element of an array of n elements is considered to be equivalent to a pointer to a hypothetical array element n for this purpose.'>65</a>
is defined in terms of a partial order consistent with the following rules:
<ul class='itemize'><li id='rel-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#rel-4.1'>(4.1)</a></div><div class='texpara'><div id='rel-4.1.sentence-1' class='sentence'>If two pointers point to different elements of the same array, or to
subobjects thereof, the pointer to the element with the higher subscript
is required to compare greater<a class='hidden_link' href='#rel-4.1.sentence-1'>.</a></div></div></li><li id='rel-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#rel-4.2'>(4.2)</a></div><div class='texpara'><div id='rel-4.2.sentence-1' class='sentence'>If two pointers point to different non-static data members of the same
object, or to subobjects of such members, recursively,
the pointer to the later declared member is required to compare greater provided
neither member is a subobject of zero size
and their class is not a union<a class='hidden_link' href='#rel-4.2.sentence-1'>.</a></div></div></li><li id='rel-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#rel-4.3'>(4.3)</a></div><div class='texpara'><div id='rel-4.3.sentence-1' class='sentence'>Otherwise, neither pointer is required to compare greater than the other<a class='hidden_link' href='#rel-4.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='rel-5'><div class='marginalizedparent'><a class='marginalized' href='#rel-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6978'>#</a></div><div class='texpara'><div id='rel-5.sentence-1' class='sentence'>If two operands <span class='texttt'>p</span> and <span class='texttt'>q</span> compare equal (<a href='#eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>),
<span class='texttt'>p<span class='anglebracket'>&lt;</span><span class='operator'>=</span>q</span> and <span class='texttt'>p<span class='anglebracket'>&gt;</span><span class='operator'>=</span>q</span> both yield <span id=':true________'><span class='texttt'><span class='literal'>true</span></span></span> and <span class='texttt'>p<span class='anglebracket'>&lt;</span>q</span> and
<span class='texttt'>p<span class='anglebracket'>&gt;</span>q</span> both yield <span id=':false____________'><span class='texttt'><span class='literal'>false</span></span></span><a class='hidden_link' href='#rel-5.sentence-1'>.</a></div> <div id='rel-5.sentence-2' class='sentence'>Otherwise, if a pointer to object <span class='texttt'>p</span>
compares greater than a pointer <span class='texttt'>q</span>, <span class='texttt'>p<span class='anglebracket'>&gt;</span><span class='operator'>=</span>q</span>, <span class='texttt'>p<span class='anglebracket'>&gt;</span>q</span>,
<span class='texttt'>q<span class='anglebracket'>&lt;</span><span class='operator'>=</span>p</span>, and <span class='texttt'>q<span class='anglebracket'>&lt;</span>p</span> all yield <span id=':true_________'><span class='texttt'><span class='literal'>true</span></span></span> and <span class='texttt'>p<span class='anglebracket'>&lt;</span><span class='operator'>=</span>q</span>,
<span class='texttt'>p<span class='anglebracket'>&lt;</span>q</span>, <span class='texttt'>q<span class='anglebracket'>&gt;</span><span class='operator'>=</span>p</span>, and <span class='texttt'>q<span class='anglebracket'>&gt;</span>p</span> all yield <span id=':false_____________'><span class='texttt'><span class='literal'>false</span></span></span><a class='hidden_link' href='#rel-5.sentence-2'>.</a></div> <div id='rel-5.sentence-3' class='sentence'>Otherwise, the result of each of the operators is unspecified<a class='hidden_link' href='#rel-5.sentence-3'>.</a></div> <div id='rel-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#rel-note-1'>1</a></i>:&ensp;<div id='rel-5.sentence-4' class='sentence'>A relational operator applied
to unequal function pointers
yields an unspecified result<a class='hidden_link' href='#rel-5.sentence-4'>.</a></div> <div id='rel-5.sentence-5' class='sentence'>A pointer value of type “pointer to <span class='mathit'>cv</span> <span id=':void_____________________________'><span class='texttt'><span class='keyword'>void</span></span></span>”
can point to an object (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>)<a class='hidden_link' href='#rel-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='rel-6'><div class='marginalizedparent'><a class='marginalized' href='#rel-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L6994'>#</a></div><div class='texpara'><div id='rel-6.sentence-1' class='sentence'>If both operands (after conversions) are of arithmetic or enumeration type, each
of the operators shall yield <span id=':true__________'><span class='texttt'><span class='literal'>true</span></span></span> if the specified relationship is true
and <span id=':false______________'><span class='texttt'><span class='literal'>false</span></span></span> if it is false<a class='hidden_link' href='#rel-6.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-65'><div class='texpara'><a class='footnotenum' href='#footnote-65'>65)</a><a class='footnoteBacklink' href='#footnoteref-65'>65)</a> <div id='footnote-65.sentence-1' class='sentence'>As specified in <a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>,
an object that is not an array element
is considered to belong to a
single-element array for this purpose and
a pointer past the last element of an array of <span class='math'><span class='mathalpha'>n</span></span> elements
is considered to be equivalent to a pointer to a hypothetical array element
<span class='math'><span class='mathalpha'>n</span></span> for this purpose<a class='hidden_link' href='#footnote-65.sentence-1'>.</a></div></div></div></div><div id='eq' class='section'><h3 ><a class='secnum' href='#eq' style='min-width:80pt'>7.6.10</a> Equality operators <a class='abbr_ref' href='expr.eq'>[expr.eq]</a></h3><div class='texpara'><a class='index' id=':expression,equality_operators'></a><a class='index' id=':operator,equality'></a><a class='index' id=':operator,inequality'></a></div><div class='texpara'><div class='bnf' id='nt:equality-expression'>
<a class='hidden_link' href='#nt:equality-expression' title='7.6.10&emsp;Equality operators&emsp;[expr.eq]'><span id='nt:equality-expression'><span id=':equality-expression'>equality-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='ntref:relational-expression____'><span class='textsf'><i >relational-expression</i></span></span></a><br><a href='#nt:equality-expression' title='7.6.10&emsp;Equality operators&emsp;[expr.eq]'><span id='ntref:equality-expression'><span class='textsf'><i >equality-expression</i></span></span></a> <span class='terminal'><span class='operator'>=</span><span class='operator'>=</span></span> <a href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='ntref:relational-expression_____'><span class='textsf'><i >relational-expression</i></span></span></a><br><a href='#nt:equality-expression' title='7.6.10&emsp;Equality operators&emsp;[expr.eq]'><span id='ntref:equality-expression_'><span class='textsf'><i >equality-expression</i></span></span></a> <span class='terminal'><span class='operator'>!</span><span class='operator'>=</span></span> <a href='#nt:relational-expression' title='7.6.9&emsp;Relational operators&emsp;[expr.rel]'><span id='ntref:relational-expression______'><span class='textsf'><i >relational-expression</i></span></span></a>
</div></div><div class='para' id='eq-1'><div class='marginalizedparent'><a class='marginalized' href='#eq-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7011'>#</a></div><div class='texpara'><div id='eq-1.sentence-1' class='sentence'>The <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> (equal to) and the <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> (not equal to) operators
group left-to-right<a class='hidden_link' href='#eq-1.sentence-1'>.</a></div> <div id='eq-1.sentence-2' class='sentence'>The
lvalue-to-rvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>)
and function-to-pointer (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>)
standard conversions are performed on the operands<a class='hidden_link' href='#eq-1.sentence-2'>.</a></div> <div id='eq-1.sentence-3' class='sentence'>If one of the operands is a pointer or a null pointer constant (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>),
the array-to-pointer conversion (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>) is performed
on the other operand<a class='hidden_link' href='#eq-1.sentence-3'>.</a></div></div></div><div class='para' id='eq-2'><div class='marginalizedparent'><a class='marginalized' href='#eq-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7022'>#</a></div><div class='texpara'><div id='eq-2.sentence-1' class='sentence'>The converted operands shall have scalar type<a class='hidden_link' href='#eq-2.sentence-1'>.</a></div> <div id='eq-2.sentence-2' class='sentence'>The operators
<span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> and <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> both yield <span id=':true___________'><span class='texttt'><span class='literal'>true</span></span></span> or <span id=':false_______________'><span class='texttt'><span class='literal'>false</span></span></span>, i.e., a
result of type <span id=':bool______________________'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#eq-2.sentence-2'>.</a></div> <div id='eq-2.sentence-3' class='sentence'>In each case below, the operands shall have the
same type after the specified conversions have been applied<a class='hidden_link' href='#eq-2.sentence-3'>.</a></div></div></div><div class='para' id='eq-3'><div class='marginalizedparent'><a class='marginalized' href='#eq-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7028'>#</a></div><div class='texpara'><div id='eq-3.sentence-1' class='sentence'><a class='index' id=':comparison,pointer'></a><a class='index' id=':comparison,pointer_to_function'></a>If at least one of the converted operands is a pointer,
<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions&emsp;[conv.ptr]'>pointer conversions</a>,
<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions&emsp;[conv.fctptr]'>function pointer conversions</a>, and
<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'>qualification conversions</a>
are performed on both operands to bring them to their <a href='#def:composite_pointer_type' title='7.2.2&emsp;Type&emsp;[expr.type]'>composite pointer type</a><a class='hidden_link' href='#eq-3.sentence-1'>.</a></div> <div id='eq-3.sentence-2' class='sentence'>Comparing pointers is defined as follows:
<ul class='itemize'><li id='eq-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-3.1'>(3.1)</a></div><div class='texpara'><div id='eq-3.1.sentence-1' class='sentence'>If one pointer represents the address of a complete object, and another
pointer represents the address one past the last element of a different
complete object,<a class='footnoteref' href='#footnote-66' id='footnoteref-66' title='As specified in [basic.compound], an object that is not an array element is considered to belong to a single-element array for this purpose.'>66</a>
the result of the comparison is unspecified<a class='hidden_link' href='#eq-3.1.sentence-1'>.</a></div></div></li><li id='eq-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-3.2'>(3.2)</a></div><div class='texpara'><div id='eq-3.2.sentence-1' class='sentence'>Otherwise, if the pointers are both null, both point to the same
<a class='index' id=':address'></a>function, or both
<a href='basic.compound#def:represents_the_address' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'>represent the same address</a>,
they compare equal<a class='hidden_link' href='#eq-3.2.sentence-1'>.</a></div></div></li><li id='eq-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-3.3'>(3.3)</a></div><div class='texpara'><div id='eq-3.3.sentence-1' class='sentence'>Otherwise, the pointers compare unequal<a class='hidden_link' href='#eq-3.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='eq-4'><div class='marginalizedparent'><a class='marginalized' href='#eq-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7058'>#</a></div><div class='texpara'><div id='eq-4.sentence-1' class='sentence'>If at least one of the operands is a pointer to member,
pointer-to-member conversions (<a href='#conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>),
function pointer conversions (<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>), and
qualification conversions (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)
are performed on both operands to bring them to
their composite pointer type (<a href='#type' title='7.2.2&emsp;Type'>[expr.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#eq-4.sentence-1'>.</a></div> <div id='eq-4.sentence-2' class='sentence'>Comparing pointers to members is defined as follows:
<ul class='itemize'><li id='eq-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-4.1'>(4.1)</a></div><div class='texpara'><div id='eq-4.1.sentence-1' class='sentence'>If two pointers to members are both the null member pointer value, they compare
equal<a class='hidden_link' href='#eq-4.1.sentence-1'>.</a></div></div></li><li id='eq-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-4.2'>(4.2)</a></div><div class='texpara'><div id='eq-4.2.sentence-1' class='sentence'>If only one of two pointers to members is the null member pointer value, they
compare unequal<a class='hidden_link' href='#eq-4.2.sentence-1'>.</a></div></div></li><li id='eq-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-4.3'>(4.3)</a></div><div class='texpara'><div id='eq-4.3.sentence-1' class='sentence'>If either is a pointer to a virtual member function, the result is unspecified<a class='hidden_link' href='#eq-4.3.sentence-1'>.</a></div></div></li><li id='eq-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-4.4'>(4.4)</a></div><div class='texpara'><div id='eq-4.4.sentence-1' class='sentence'>If one refers to a member of class <span class='texttt'>C1</span> and the other refers to a member
of a different class <span class='texttt'>C2</span>, where neither is a base class of the other,
the result is unspecified<a class='hidden_link' href='#eq-4.4.sentence-1'>.</a></div> <div id='eq-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#eq-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;

<span class='keyword'>int</span> A<span class='operator'>::</span><span class='operator'>*</span>bx <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>(</span>A<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>&amp;</span>B<span class='operator'>::</span>x;
<span class='keyword'>int</span> A<span class='operator'>::</span><span class='operator'>*</span>cx <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>(</span>A<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>&amp;</span>C<span class='operator'>::</span>x;

<span class='keyword'>bool</span> b1 <span class='operator'>=</span> <span class='parenthesis'>(</span>bx <span class='operator'>=</span><span class='operator'>=</span> cx<span class='parenthesis'>)</span>;   <span class='comment'>// unspecified</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='eq-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-4.5'>(4.5)</a></div><div class='texpara'><div id='eq-4.5.sentence-1' class='sentence'>If both refer to (possibly different) members of the same <a href='class.union' title='11.5&emsp;Unions&emsp;[class.union]'>union</a>,
they compare equal<a class='hidden_link' href='#eq-4.5.sentence-1'>.</a></div></div></li><li id='eq-4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#eq-4.6'>(4.6)</a></div><div class='texpara'><div id='eq-4.6.sentence-1' class='sentence'>Otherwise, two pointers to members compare equal if they would refer to the same member of
the same <a href='intro.object#def:most_derived_object' title='6.7.2&emsp;Object model&emsp;[intro.object]'>most derived object</a> or the same subobject if
indirection with a hypothetical object of the associated
class type were performed, otherwise they compare unequal<a class='hidden_link' href='#eq-4.6.sentence-1'>.</a></div> <div id='eq-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#eq-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> L <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> R <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> L, R <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>int</span> <span class='parenthesis'>(</span>B<span class='operator'>::</span><span class='operator'>*</span>pb<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>B<span class='operator'>::</span>f;
<span class='keyword'>int</span> <span class='parenthesis'>(</span>L<span class='operator'>::</span><span class='operator'>*</span>pl<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> pb;
<span class='keyword'>int</span> <span class='parenthesis'>(</span>R<span class='operator'>::</span><span class='operator'>*</span>pr<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> pb;
<span class='keyword'>int</span> <span class='parenthesis'>(</span>D<span class='operator'>::</span><span class='operator'>*</span>pdl<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> pl;
<span class='keyword'>int</span> <span class='parenthesis'>(</span>D<span class='operator'>::</span><span class='operator'>*</span>pdr<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> pr;
<span class='keyword'>bool</span> x <span class='operator'>=</span> <span class='parenthesis'>(</span>pdl <span class='operator'>=</span><span class='operator'>=</span> pdr<span class='parenthesis'>)</span>;          <span class='comment'>// <span class='tcode_in_codeblock'>false</span></span>
<span class='keyword'>bool</span> y <span class='operator'>=</span> <span class='parenthesis'>(</span>pb <span class='operator'>=</span><span class='operator'>=</span> pl<span class='parenthesis'>)</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>true</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='eq-5'><div class='marginalizedparent'><a class='marginalized' href='#eq-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7124'>#</a></div><div class='texpara'><div id='eq-5.sentence-1' class='sentence'>Two operands of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span> or one operand of type
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span> and the other a null pointer constant compare equal<a class='hidden_link' href='#eq-5.sentence-1'>.</a></div></div></div><div class='para' id='eq-6'><div class='marginalizedparent'><a class='marginalized' href='#eq-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7128'>#</a></div><div class='texpara'><div id='eq-6.sentence-1' class='sentence'>If two operands compare equal, the result is <span id=':true____________'><span class='texttt'><span class='literal'>true</span></span></span> for
the <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator and <span id=':false________________'><span class='texttt'><span class='literal'>false</span></span></span> for the <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> operator<a class='hidden_link' href='#eq-6.sentence-1'>.</a></div> <div id='eq-6.sentence-2' class='sentence'>If two operands
compare unequal, the result is <span id=':false_________________'><span class='texttt'><span class='literal'>false</span></span></span> for the <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator and
<span id=':true_____________'><span class='texttt'><span class='literal'>true</span></span></span> for the <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> operator<a class='hidden_link' href='#eq-6.sentence-2'>.</a></div> <div id='eq-6.sentence-3' class='sentence'>Otherwise, the result of each of the
operators is unspecified<a class='hidden_link' href='#eq-6.sentence-3'>.</a></div></div></div><div class='para' id='eq-7'><div class='marginalizedparent'><a class='marginalized' href='#eq-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7135'>#</a></div><div class='texpara'><div id='eq-7.sentence-1' class='sentence'>If both operands are of arithmetic or enumeration type, the usual arithmetic
conversions (<a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) are performed on both operands; each of the operators shall yield
<span id=':true______________'><span class='texttt'><span class='literal'>true</span></span></span> if the specified relationship is true and <span id=':false__________________'><span class='texttt'><span class='literal'>false</span></span></span> if it is
false<a class='hidden_link' href='#eq-7.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-66'><div class='texpara'><a class='footnotenum' href='#footnote-66'>66)</a><a class='footnoteBacklink' href='#footnoteref-66'>66)</a> <div id='footnote-66.sentence-1' class='sentence'>As specified in <a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>,
an object that is not an array element is
considered to belong to a single-element array for this purpose<a class='hidden_link' href='#footnote-66.sentence-1'>.</a></div></div></div></div><div id='bit.and' class='section'><h3 ><a class='secnum' href='#bit.and' style='min-width:80pt'>7.6.11</a> Bitwise AND operator <a class='abbr_ref' href='expr.bit.and'>[expr.bit.and]</a></h3><div class='texpara'><a class='index' id=':expression,bitwise_AND'></a><a class='index' id=':operator,bitwise'></a><a class='index' id=':operator,bitwise_AND'></a>
<div class='bnf' id='nt:and-expression'>
<a class='hidden_link' href='#nt:and-expression' title='7.6.11&emsp;Bitwise AND operator&emsp;[expr.bit.and]'><span id='nt:and-expression'><span id=':and-expression'>and-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:equality-expression' title='7.6.10&emsp;Equality operators&emsp;[expr.eq]'><span id='ntref:equality-expression__'><span class='textsf'><i >equality-expression</i></span></span></a><br><a href='#nt:and-expression' title='7.6.11&emsp;Bitwise AND operator&emsp;[expr.bit.and]'><span id='ntref:and-expression'><span class='textsf'><i >and-expression</i></span></span></a> <span class='terminal'><span class='operator'>&amp;</span></span> <a href='#nt:equality-expression' title='7.6.10&emsp;Equality operators&emsp;[expr.eq]'><span id='ntref:equality-expression___'><span class='textsf'><i >equality-expression</i></span></span></a>
</div></div><div class='para' id='bit.and-1'><div class='marginalizedparent'><a class='marginalized' href='#bit.and-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7153'>#</a></div><div class='texpara'><div id='bit.and-1.sentence-1' class='sentence'>The <span class='texttt'><span class='operator'>&amp;</span></span> operator groups left-to-right<a class='hidden_link' href='#bit.and-1.sentence-1'>.</a></div> <div id='bit.and-1.sentence-2' class='sentence'>The operands shall be of integral or unscoped enumeration type<a class='hidden_link' href='#bit.and-1.sentence-2'>.</a></div> <div id='bit.and-1.sentence-3' class='sentence'>The usual arithmetic conversions (<a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) are performed<a class='hidden_link' href='#bit.and-1.sentence-3'>.</a></div> <div id='bit.and-1.sentence-4' class='sentence'>Given the coefficients <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
of the converted operands <span class='texttt'>x</span> and <span class='texttt'>y</span>,
the coefficient <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">r</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation of the result <span class='texttt'>r</span>
is 1 if both <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> are 1, and 0 otherwise<a class='hidden_link' href='#bit.and-1.sentence-4'>.</a></div> <div id='bit.and-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#bit.and-note-1'>1</a></i>:&ensp;<div id='bit.and-1.sentence-5' class='sentence'>The result is the bitwise <span class='textsc'>and</span> function of the operands<a class='hidden_link' href='#bit.and-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='xor' class='section'><h3 ><a class='secnum' href='#xor' style='min-width:80pt'>7.6.12</a> Bitwise exclusive OR operator <a class='abbr_ref' href='expr.xor'>[expr.xor]</a></h3><div class='texpara'><a class='index' id=':expression,bitwise_exclusive_OR'></a><a class='index' id=':operator,bitwise_exclusive_OR'></a></div><div class='texpara'><div class='bnf' id='nt:exclusive-or-expression'>
<a class='hidden_link' href='#nt:exclusive-or-expression' title='7.6.12&emsp;Bitwise exclusive OR operator&emsp;[expr.xor]'><span id='nt:exclusive-or-expression'><span id=':exclusive-or-expression'>exclusive-or-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:and-expression' title='7.6.11&emsp;Bitwise AND operator&emsp;[expr.bit.and]'><span id='ntref:and-expression_'><span class='textsf'><i >and-expression</i></span></span></a><br><a href='#nt:exclusive-or-expression' title='7.6.12&emsp;Bitwise exclusive OR operator&emsp;[expr.xor]'><span id='ntref:exclusive-or-expression'><span class='textsf'><i >exclusive-or-expression</i></span></span></a> <span class='terminal'><span class='operator'>^</span></span> <a href='#nt:and-expression' title='7.6.11&emsp;Bitwise AND operator&emsp;[expr.bit.and]'><span id='ntref:and-expression__'><span class='textsf'><i >and-expression</i></span></span></a>
</div></div><div class='para' id='xor-1'><div class='marginalizedparent'><a class='marginalized' href='#xor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7178'>#</a></div><div class='texpara'><div id='xor-1.sentence-1' class='sentence'>The <span class='texttt'><span class='operator'>^</span></span> operator groups left-to-right<a class='hidden_link' href='#xor-1.sentence-1'>.</a></div> <div id='xor-1.sentence-2' class='sentence'>The operands shall be of integral or unscoped enumeration type<a class='hidden_link' href='#xor-1.sentence-2'>.</a></div> <div id='xor-1.sentence-3' class='sentence'>The usual arithmetic conversions (<a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) are performed<a class='hidden_link' href='#xor-1.sentence-3'>.</a></div> <div id='xor-1.sentence-4' class='sentence'>Given the coefficients <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
of the converted operands <span class='texttt'>x</span> and <span class='texttt'>y</span>,
the coefficient <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">r</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation of the result <span class='texttt'>r</span>
is 1 if either (but not both) of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is 1,
and 0 otherwise<a class='hidden_link' href='#xor-1.sentence-4'>.</a></div> <div id='xor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#xor-note-1'>1</a></i>:&ensp;<div id='xor-1.sentence-5' class='sentence'>The result is the bitwise exclusive <span class='textsc'>or</span> function of the operands<a class='hidden_link' href='#xor-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='or' class='section'><h3 ><a class='secnum' href='#or' style='min-width:80pt'>7.6.13</a> Bitwise inclusive OR operator <a class='abbr_ref' href='expr.or'>[expr.or]</a></h3><div class='texpara'><a class='index' id=':expression,bitwise_inclusive_OR'></a><a class='index' id=':operator,bitwise_inclusive_OR'></a></div><div class='texpara'><div class='bnf' id='nt:inclusive-or-expression'>
<a class='hidden_link' href='#nt:inclusive-or-expression' title='7.6.13&emsp;Bitwise inclusive OR operator&emsp;[expr.or]'><span id='nt:inclusive-or-expression'><span id=':inclusive-or-expression'>inclusive-or-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:exclusive-or-expression' title='7.6.12&emsp;Bitwise exclusive OR operator&emsp;[expr.xor]'><span id='ntref:exclusive-or-expression_'><span class='textsf'><i >exclusive-or-expression</i></span></span></a><br><a href='#nt:inclusive-or-expression' title='7.6.13&emsp;Bitwise inclusive OR operator&emsp;[expr.or]'><span id='ntref:inclusive-or-expression'><span class='textsf'><i >inclusive-or-expression</i></span></span></a> <span class='terminal'><span class='operator'>|</span></span> <a href='#nt:exclusive-or-expression' title='7.6.12&emsp;Bitwise exclusive OR operator&emsp;[expr.xor]'><span id='ntref:exclusive-or-expression__'><span class='textsf'><i >exclusive-or-expression</i></span></span></a>
</div></div><div class='para' id='or-1'><div class='marginalizedparent'><a class='marginalized' href='#or-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7204'>#</a></div><div class='texpara'><div id='or-1.sentence-1' class='sentence'>The <span class='texttt'><span class='operator'>|</span></span> operator groups left-to-right<a class='hidden_link' href='#or-1.sentence-1'>.</a></div> <div id='or-1.sentence-2' class='sentence'>The operands shall be of integral or unscoped enumeration type<a class='hidden_link' href='#or-1.sentence-2'>.</a></div> <div id='or-1.sentence-3' class='sentence'>The usual arithmetic conversions (<a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) are performed<a class='hidden_link' href='#or-1.sentence-3'>.</a></div> <div id='or-1.sentence-4' class='sentence'>Given the coefficients <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
of the converted operands <span class='texttt'>x</span> and <span class='texttt'>y</span>,
the coefficient <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">r</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>
of the base-2 representation of the result <span class='texttt'>r</span>
is 1 if at least one of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is 1, and 0 otherwise<a class='hidden_link' href='#or-1.sentence-4'>.</a></div> <div id='or-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#or-note-1'>1</a></i>:&ensp;<div id='or-1.sentence-5' class='sentence'>The result is the bitwise inclusive <span class='textsc'>or</span> function of the operands<a class='hidden_link' href='#or-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='log.and' class='section'><h3 ><a class='secnum' href='#log.and' style='min-width:80pt'>7.6.14</a> Logical AND operator <a class='abbr_ref' href='expr.log.and'>[expr.log.and]</a></h3><div class='texpara'><a class='index' id=':expression,logical_AND'></a><a class='index' id=':operator,logical_AND'></a>
<div class='bnf' id='nt:logical-and-expression'>
<a class='hidden_link' href='#nt:logical-and-expression' title='7.6.14&emsp;Logical AND operator&emsp;[expr.log.and]'><span id='nt:logical-and-expression'><span id=':logical-and-expression'>logical-and-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:inclusive-or-expression' title='7.6.13&emsp;Bitwise inclusive OR operator&emsp;[expr.or]'><span id='ntref:inclusive-or-expression_'><span class='textsf'><i >inclusive-or-expression</i></span></span></a><br><a href='#nt:logical-and-expression' title='7.6.14&emsp;Logical AND operator&emsp;[expr.log.and]'><span id='ntref:logical-and-expression'><span class='textsf'><i >logical-and-expression</i></span></span></a> <span class='terminal'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> <a href='#nt:inclusive-or-expression' title='7.6.13&emsp;Bitwise inclusive OR operator&emsp;[expr.or]'><span id='ntref:inclusive-or-expression__'><span class='textsf'><i >inclusive-or-expression</i></span></span></a>
</div></div><div class='para' id='log.and-1'><div class='marginalizedparent'><a class='marginalized' href='#log.and-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7229'>#</a></div><div class='texpara'><div id='log.and-1.sentence-1' class='sentence'>The <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> operator groups left-to-right<a class='hidden_link' href='#log.and-1.sentence-1'>.</a></div> <div id='log.and-1.sentence-2' class='sentence'>The operands are both
contextually converted to <span id=':bool_______________________'><span class='texttt'><span class='keyword'>bool</span></span></span> (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>)<a class='hidden_link' href='#log.and-1.sentence-2'>.</a></div> <div id='log.and-1.sentence-3' class='sentence'>The
result is <span id=':true_______________'><span class='texttt'><span class='literal'>true</span></span></span> if both operands are <span id=':true________________'><span class='texttt'><span class='literal'>true</span></span></span> and
<span id=':false___________________'><span class='texttt'><span class='literal'>false</span></span></span> otherwise<a class='hidden_link' href='#log.and-1.sentence-3'>.</a></div> <div id='log.and-1.sentence-4' class='sentence'>Unlike <span class='texttt'><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> guarantees
left-to-right evaluation: the second operand is not evaluated if the
first operand is <span id=':false____________________'><span class='texttt'><span class='literal'>false</span></span></span><a class='hidden_link' href='#log.and-1.sentence-4'>.</a></div></div></div><div class='para' id='log.and-2'><div class='marginalizedparent'><a class='marginalized' href='#log.and-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7238'>#</a></div><div class='texpara'><div id='log.and-2.sentence-1' class='sentence'>The result is a <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#log.and-2.sentence-1'>.</a></div> <div id='log.and-2.sentence-2' class='sentence'><a class='index' id=':operator,side_effects_and_logical_AND'></a>If the second expression is evaluated,
the first expression is sequenced before
the second expression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#log.and-2.sentence-2'>.</a></div></div></div></div><div id='log.or' class='section'><h3 ><a class='secnum' href='#log.or' style='min-width:80pt'>7.6.15</a> Logical OR operator <a class='abbr_ref' href='expr.log.or'>[expr.log.or]</a></h3><div class='texpara'><a class='index' id=':expression,logical_OR'></a><a class='index' id=':operator,logical_OR'></a>
<div class='bnf' id='nt:logical-or-expression'>
<a class='hidden_link' href='#nt:logical-or-expression' title='7.6.15&emsp;Logical OR operator&emsp;[expr.log.or]'><span id='nt:logical-or-expression'><span id=':logical-or-expression'>logical-or-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:logical-and-expression' title='7.6.14&emsp;Logical AND operator&emsp;[expr.log.and]'><span id='ntref:logical-and-expression_'><span class='textsf'><i >logical-and-expression</i></span></span></a><br><a href='#nt:logical-or-expression' title='7.6.15&emsp;Logical OR operator&emsp;[expr.log.or]'><span id='ntref:logical-or-expression'><span class='textsf'><i >logical-or-expression</i></span></span></a> <span class='terminal'><span class='operator'>|</span><span class='operator'>|</span></span> <a href='#nt:logical-and-expression' title='7.6.14&emsp;Logical AND operator&emsp;[expr.log.and]'><span id='ntref:logical-and-expression__'><span class='textsf'><i >logical-and-expression</i></span></span></a>
</div></div><div class='para' id='log.or-1'><div class='marginalizedparent'><a class='marginalized' href='#log.or-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7256'>#</a></div><div class='texpara'><div id='log.or-1.sentence-1' class='sentence'>The <span class='texttt'><span class='operator'>|</span><span class='operator'>|</span></span> operator groups left-to-right<a class='hidden_link' href='#log.or-1.sentence-1'>.</a></div> <div id='log.or-1.sentence-2' class='sentence'>The operands are both
contextually converted to <span id=':bool________________________'><span class='texttt'><span class='keyword'>bool</span></span></span> (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>)<a class='hidden_link' href='#log.or-1.sentence-2'>.</a></div> <div id='log.or-1.sentence-3' class='sentence'>The result is
<span id=':true_________________'><span class='texttt'><span class='literal'>true</span></span></span> if either of its operands is <span id=':true__________________'><span class='texttt'><span class='literal'>true</span></span></span>, and
<span id=':false_____________________'><span class='texttt'><span class='literal'>false</span></span></span> otherwise<a class='hidden_link' href='#log.or-1.sentence-3'>.</a></div> <div id='log.or-1.sentence-4' class='sentence'>Unlike <span class='texttt'><span class='operator'>|</span></span>, <span class='texttt'><span class='operator'>|</span><span class='operator'>|</span></span> guarantees
left-to-right evaluation; moreover, the second operand is not evaluated
if the first operand evaluates to <span id=':true___________________'><span class='texttt'><span class='literal'>true</span></span></span><a class='hidden_link' href='#log.or-1.sentence-4'>.</a></div></div></div><div class='para' id='log.or-2'><div class='marginalizedparent'><a class='marginalized' href='#log.or-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7265'>#</a></div><div class='texpara'><div id='log.or-2.sentence-1' class='sentence'>The result is a <span id=':bool_________________________'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#log.or-2.sentence-1'>.</a></div> <div id='log.or-2.sentence-2' class='sentence'><a class='index' id=':operator,side_effects_and_logical_OR'></a>If the second expression is evaluated,
the first expression is sequenced before
the second expression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#log.or-2.sentence-2'>.</a></div></div></div></div><div id='cond' class='section'><h3 ><a class='secnum' href='#cond' style='min-width:80pt'>7.6.16</a> Conditional operator <a class='abbr_ref' href='expr.cond'>[expr.cond]</a></h3><div class='texpara'><a class='index' id=':expression,conditional_operator'></a><a class='index' id=':operator,conditional_expression'></a>
<div class='bnf' id='nt:conditional-expression'>
<a class='hidden_link' href='#nt:conditional-expression' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'><span id='nt:conditional-expression'><span id=':conditional-expression'>conditional-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:logical-or-expression' title='7.6.15&emsp;Logical OR operator&emsp;[expr.log.or]'><span id='ntref:logical-or-expression_'><span class='textsf'><i >logical-or-expression</i></span></span></a><br><a href='#nt:logical-or-expression' title='7.6.15&emsp;Logical OR operator&emsp;[expr.log.or]'><span id='ntref:logical-or-expression__'><span class='textsf'><i >logical-or-expression</i></span></span></a> <span class='terminal'><span class='operator'>?</span></span> <a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____________________________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='operator'>:</span></span> <a href='#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='ntref:assignment-expression_'><span class='textsf'><i >assignment-expression</i></span></span></a>
</div></div><div class='para' id='cond-1'><div class='marginalizedparent'><a class='marginalized' href='#cond-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7283'>#</a></div><div class='texpara'><div id='cond-1.sentence-1' class='sentence'>Conditional expressions group right-to-left<a class='hidden_link' href='#cond-1.sentence-1'>.</a></div> <div id='cond-1.sentence-2' class='sentence'>The first expression is
contextually converted to <span id=':bool__________________________'><span class='texttt'><span class='keyword'>bool</span></span></span> (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>)<a class='hidden_link' href='#cond-1.sentence-2'>.</a></div> <div id='cond-1.sentence-3' class='sentence'>It is
evaluated and if it is <span id=':true____________________'><span class='texttt'><span class='literal'>true</span></span></span>, the result of the conditional
expression is the value of the second expression, otherwise that of the
third expression<a class='hidden_link' href='#cond-1.sentence-3'>.</a></div> <div id='cond-1.sentence-4' class='sentence'>Only one of the second and third expressions is
evaluated<a class='hidden_link' href='#cond-1.sentence-4'>.</a></div> <div id='cond-1.sentence-5' class='sentence'>The first expression is sequenced before
the second or third expression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#cond-1.sentence-5'>.</a></div></div></div><div class='para' id='cond-2'><div class='marginalizedparent'><a class='marginalized' href='#cond-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7294'>#</a></div><div class='texpara'><div id='cond-2.sentence-1' class='sentence'>If either the second or the third operand has type <span id=':void______________________________'><span class='texttt'><span class='keyword'>void</span></span></span>,
one of the following shall hold:
<ul class='itemize'><li id='cond-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-2.1'>(2.1)</a></div><div class='texpara'><div id='cond-2.1.sentence-1' class='sentence'><a class='index' id=':conditional-expression,throw-expression_in'></a>The second or the third operand (but not both) is a (possibly
parenthesized) <a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression__'><span class='textsf'><i >throw-expression</i></span></span></a> (<a href='#throw' title='7.6.18&emsp;Throwing an exception'>[expr.<span class='shy'></span>throw]</a>); the result
is of the type and value category of the other<a class='hidden_link' href='#cond-2.1.sentence-1'>.</a></div> <div id='cond-2.1.sentence-2' class='sentence'>The <a href='#nt:conditional-expression' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'><span id='ntref:conditional-expression'><span class='textsf'><i >conditional-expression</i></span></span></a>
is a bit-field if that operand is a bit-field<a class='hidden_link' href='#cond-2.1.sentence-2'>.</a></div></div></li><li id='cond-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-2.2'>(2.2)</a></div><div class='texpara'><div id='cond-2.2.sentence-1' class='sentence'>Both the second and the third operands have type <span id=':void_______________________________'><span class='texttt'><span class='keyword'>void</span></span></span>; the
result is of type <span id=':void________________________________'><span class='texttt'><span class='keyword'>void</span></span></span> and is a prvalue<a class='hidden_link' href='#cond-2.2.sentence-1'>.</a></div> <div id='cond-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#cond-note-1'>1</a></i>:&ensp;<div id='cond-2.2.sentence-2' class='sentence'>This
includes the case where both operands are <a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression___'><span class='textsf'><i >throw-expression</i></span></span></a><i >s</i><a class='hidden_link' href='#cond-2.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div><div class='para' id='cond-3'><div class='marginalizedparent'><a class='marginalized' href='#cond-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7314'>#</a></div><div class='texpara'><div id='cond-3.sentence-1' class='sentence'>Otherwise, if the second and third operand are glvalue bit-fields
of the same value category and
of types <i >cv1</i> <span class='texttt'>T</span> and <i >cv2</i> <span class='texttt'>T</span>, respectively,
the operands are considered to be of type <span class='mathit'>cv</span> <span class='texttt'>T</span>
for the remainder of this subclause,
where <span class='mathit'>cv</span> is the union of <i >cv1</i> and <i >cv2</i><a class='hidden_link' href='#cond-3.sentence-1'>.</a></div></div></div><div class='para' id='cond-4'><div class='marginalizedparent'><a class='marginalized' href='#cond-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7322'>#</a></div><div class='texpara'><div id='cond-4.sentence-1' class='sentence'>Otherwise, if the second and third operand have different types and
either has (possibly cv-qualified) class type, or if both
are glvalues of the same value category and the same type except for
cv-qualification, an attempt is made to
form an <a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences&emsp;[over.best.ics]'>implicit conversion sequence</a> from
each of those operands to the type of the other<a class='hidden_link' href='#cond-4.sentence-1'>.</a></div> <div id='cond-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#cond-note-2'>2</a></i>:&ensp;<div id='cond-4.sentence-2' class='sentence'>Properties such as access, whether an operand is a bit-field, or whether
a conversion function is deleted are ignored for that determination<a class='hidden_link' href='#cond-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='cond-4.sentence-3' class='sentence'>
Attempts are made to form an implicit conversion sequence
from an operand expression <span class='texttt'>E1</span> of type <span class='texttt'>T1</span>
to a target type related to the type <span class='texttt'>T2</span>
of the operand expression <span class='texttt'>E2</span> as follows:
<ul class='itemize'><li id='cond-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-4.1'>(4.1)</a></div><div class='texpara'><div id='cond-4.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is an lvalue, the target type is
“lvalue reference to <span class='texttt'>T2</span>”,
but an implicit conversion sequence can only be formed
if the reference would bind directly (<a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)
to a glvalue<a class='hidden_link' href='#cond-4.1.sentence-1'>.</a></div></div></li><li id='cond-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-4.2'>(4.2)</a></div><div class='texpara'><div id='cond-4.2.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is an xvalue, the target type is
“rvalue reference to <span class='texttt'>T2</span>”,
but an implicit conversion sequence can only be formed
if the reference would bind directly<a class='hidden_link' href='#cond-4.2.sentence-1'>.</a></div></div></li><li id='cond-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-4.3'>(4.3)</a></div><div class='texpara'><div id='cond-4.3.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a prvalue or if neither of the conversion sequences above can be
formed and at least one of the operands has (possibly cv-qualified) class type:
<ul class='itemize'><li id='cond-4.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#cond-4.3.1'>(4.3.1)</a></div>if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are the same class type
(ignoring cv-qualification):
  <ul class='itemize'><li id='cond-4.3.1.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#cond-4.3.1.1'>(4.3.1.1)</a></div>if <span class='texttt'>T2</span> is at least as cv-qualified as <span class='texttt'>T1</span>,
  the target type is <span class='texttt'>T2</span>,</li><li id='cond-4.3.1.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#cond-4.3.1.2'>(4.3.1.2)</a></div>otherwise, no conversion sequence is formed for this operand;</li></ul></li><li id='cond-4.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#cond-4.3.2'>(4.3.2)</a></div>otherwise, if <span class='texttt'>T2</span> is a base class of <span class='texttt'>T1</span>,
the target type is <i >cv1</i> <span class='texttt'>T2</span>, where <i >cv1</i>
denotes the cv-qualifiers of <span class='texttt'>T1</span>;</li><li id='cond-4.3.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#cond-4.3.3'>(4.3.3)</a></div>otherwise, the target type is the type that <span class='texttt'>E2</span> would have
after applying the
<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue</a>,
<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer</a>, and
<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a>
standard conversions<a class='hidden_link' href='#cond-4.3.sentence-1'>.</a></li></ul></div></div></li></ul></div></div><div class='texpara'><div id='cond-4.sentence-4' class='sentence'>Using this process, it is determined whether an implicit conversion
sequence can be formed from the second operand
to the target type determined for the third operand, and vice versa,
with the following outcome:
<ul class='itemize'><li id='cond-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-4.4'>(4.4)</a></div><div class='texpara'><div id='cond-4.4.sentence-1' class='sentence'>If both sequences can be formed, or one can be formed but it is the
ambiguous conversion sequence, the program is ill-formed<a class='hidden_link' href='#cond-4.4.sentence-1'>.</a></div></div></li><li id='cond-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-4.5'>(4.5)</a></div><div class='texpara'><div id='cond-4.5.sentence-1' class='sentence'>If no conversion sequence can be formed, the operands are left unchanged
and further checking is performed as described below<a class='hidden_link' href='#cond-4.5.sentence-1'>.</a></div></div></li><li id='cond-4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-4.6'>(4.6)</a></div><div class='texpara'><div id='cond-4.6.sentence-1' class='sentence'>Otherwise, if exactly one conversion sequence can be formed,
that conversion is applied to the chosen operand
and the converted operand is used in place of the original operand for
the remainder of this subclause<a class='hidden_link' href='#cond-4.6.sentence-1'>.</a></div> <div id='cond-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#cond-note-3'>3</a></i>:&ensp;<div id='cond-4.6.sentence-2' class='sentence'>The conversion might be ill-formed even if an implicit conversion
sequence could be formed<a class='hidden_link' href='#cond-4.6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div><div class='para' id='cond-5'><div class='marginalizedparent'><a class='marginalized' href='#cond-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7394'>#</a></div><div class='texpara'><div id='cond-5.sentence-1' class='sentence'>If the second and third operands are glvalues of the same value category
and have the same type, the
result is of that type and value category and it is a bit-field if the
second or the third operand is a bit-field, or if both are bit-fields<a class='hidden_link' href='#cond-5.sentence-1'>.</a></div></div></div><div class='para' id='cond-6'><div class='marginalizedparent'><a class='marginalized' href='#cond-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7400'>#</a></div><div class='texpara'><div id='cond-6.sentence-1' class='sentence'>Otherwise, the result is a prvalue<a class='hidden_link' href='#cond-6.sentence-1'>.</a></div> <div id='cond-6.sentence-2' class='sentence'>If the second and third operands do
not have the same type, and either has (possibly cv-qualified) class
type, overload resolution is used to determine the conversions (if any)
to be applied to the operands (<a href='over.match.oper' title='12.2.2.3&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>, <a href='over.built' title='12.5&emsp;Built-in operators'>[over.<span class='shy'></span>built]</a>)<a class='hidden_link' href='#cond-6.sentence-2'>.</a></div> <div id='cond-6.sentence-3' class='sentence'>If the overload resolution fails, the program is ill-formed<a class='hidden_link' href='#cond-6.sentence-3'>.</a></div> <div id='cond-6.sentence-4' class='sentence'>Otherwise,
the conversions thus determined are applied, and the converted operands
are used in place of the original operands for the remainder of this
subclause<a class='hidden_link' href='#cond-6.sentence-4'>.</a></div></div></div><div class='para' id='cond-7'><div class='marginalizedparent'><a class='marginalized' href='#cond-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7410'>#</a></div><div class='texpara'><div id='cond-7.sentence-1' class='sentence'><a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>Array-to-pointer</a>
and <a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a> standard conversions are
performed on the second and third operands<a class='hidden_link' href='#cond-7.sentence-1'>.</a></div> <div id='cond-7.sentence-2' class='sentence'>After those conversions, one
of the following shall hold:
<ul class='itemize'><li id='cond-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-7.1'>(7.1)</a></div><div class='texpara'><div id='cond-7.1.sentence-1' class='sentence'>The second and third operands have the same type; the result is of
that type and the result is copy-initialized using the selected operand<a class='hidden_link' href='#cond-7.1.sentence-1'>.</a></div></div></li><li id='cond-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-7.2'>(7.2)</a></div><div class='texpara'><div id='cond-7.2.sentence-1' class='sentence'>The second and third operands have arithmetic or enumeration type;
the <a href='#arith.conv' title='7.4&emsp;Usual arithmetic conversions&emsp;[expr.arith.conv]'>usual arithmetic conversions</a> are performed to bring them to a common
type, and the result is of that type<a class='hidden_link' href='#cond-7.2.sentence-1'>.</a></div></div></li><li id='cond-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-7.3'>(7.3)</a></div><div class='texpara'><div id='cond-7.3.sentence-1' class='sentence'>One or both of the second and third operands have pointer type;
<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue</a>,
<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions&emsp;[conv.ptr]'>pointer</a>,
<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions&emsp;[conv.fctptr]'>function pointer</a>, and
<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'>qualification conversions</a>
are performed to bring them to their
<a href='#def:composite_pointer_type' title='7.2.2&emsp;Type&emsp;[expr.type]'>composite pointer type</a><a class='hidden_link' href='#cond-7.3.sentence-1'>.</a></div> <div id='cond-7.3.sentence-2' class='sentence'>The result is of the composite
pointer type<a class='hidden_link' href='#cond-7.3.sentence-2'>.</a></div></div></li><li id='cond-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-7.4'>(7.4)</a></div><div class='texpara'><div id='cond-7.4.sentence-1' class='sentence'>One or both of the second and third operands have pointer-to-member type;
lvalue-to-rvalue (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>),
pointer to member (<a href='#conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>),
function pointer (<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>), and
qualification conversions (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)
are performed to bring them to their composite
pointer type (<a href='#type' title='7.2.2&emsp;Type'>[expr.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#cond-7.4.sentence-1'>.</a></div> <div id='cond-7.4.sentence-2' class='sentence'>The result is of the composite pointer type<a class='hidden_link' href='#cond-7.4.sentence-2'>.</a></div></div></li><li id='cond-7.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#cond-7.5'>(7.5)</a></div><div class='texpara'><div id='cond-7.5.sentence-1' class='sentence'>Both the second and third operands have type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span> or one has
that type and the other is a null pointer constant<a class='hidden_link' href='#cond-7.5.sentence-1'>.</a></div> <div id='cond-7.5.sentence-2' class='sentence'>The result is of type
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span><a class='hidden_link' href='#cond-7.5.sentence-2'>.</a></div></div></li></ul></div></div></div></div><div id='yield' class='section'><h3 ><a class='secnum' href='#yield' style='min-width:80pt'>7.6.17</a> Yielding a value <a class='abbr_ref' href='expr.yield'>[expr.yield]</a></h3><div class='texpara'><a class='index' id=':expression,yield'></a><a class='index' id=':co_yield'></a>
<div class='bnf' id='nt:yield-expression'>
  <a class='hidden_link' href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='nt:yield-expression'><span id=':yield-expression'>yield-expression<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='keyword'>co_yield</span></span> <a href='#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='ntref:assignment-expression__'><span class='textsf'><i >assignment-expression</i></span></span></a><br><span class='terminal'><span class='keyword'>co_yield</span></span> <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list________'><span class='textsf'><i >braced-init-list</i></span></span></a>
</div></div><div class='para' id='yield-1'><div class='marginalizedparent'><a class='marginalized' href='#yield-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7456'>#</a></div><div class='texpara'><div id='yield-1.sentence-1' class='sentence'>A <a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression_'><span class='textsf'><i >yield-expression</i></span></span></a> shall appear only within a suspension context
of a function (<a href='#await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>)<a class='hidden_link' href='#yield-1.sentence-1'>.</a></div> <div id='yield-1.sentence-2' class='sentence'>Let <i >e</i> be the operand of the <a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression__'><span class='textsf'><i >yield-expression</i></span></span></a> and
<i >p</i> be an lvalue naming the promise object of the enclosing
coroutine (<a href='dcl.fct.def.coroutine' title='9.6.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>), then the <a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression___'><span class='textsf'><i >yield-expression</i></span></span></a>
is equivalent to the expression
<span class='texttt'><span id=':co_await___'><span class='texttt'><span class='keyword'>co_<span class='shy'></span>await</span></span></span> <i >p</i><span class='operator'>.</span>yield_<span class='shy'></span>value<span class='parenthesis'>(</span><i >e</i><span class='parenthesis'>)</span></span><a class='hidden_link' href='#yield-1.sentence-2'>.</a></div></div><div class='texpara'><div id='yield-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#yield-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> my_generator <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> promise_type <span class='curlybracket'>{</span>
    T current_value;
    <span class='comment'>/* ... */</span>
    <span class='keyword'>auto</span> yield_value<span class='parenthesis'>(</span>T v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      current_value <span class='operator'>=</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;
      <span class='keyword'>return</span> std<span class='operator'>::</span>suspend_always<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
  <span class='keyword'>struct</span> iterator <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  iterator begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  iterator end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

my_generator<span class='anglebracket'>&lt;</span>pair<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>,<span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> g1<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>for</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>0</span>; i <span class='anglebracket'>&lt;</span> <span class='literal'>10</span>; <span class='operator'>+</span><span class='operator'>+</span>i<span class='parenthesis'>)</span> <span class='keyword'>co_yield</span> <span class='curlybracket'>{</span>i,i<span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
my_generator<span class='anglebracket'>&lt;</span>pair<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>,<span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> g2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>for</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>0</span>; i <span class='anglebracket'>&lt;</span> <span class='literal'>10</span>; <span class='operator'>+</span><span class='operator'>+</span>i<span class='parenthesis'>)</span> <span class='keyword'>co_yield</span> make_pair<span class='parenthesis'>(</span>i,i<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>auto</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> x <span class='operator'>=</span> <span class='keyword'>co_yield</span> <span class='literal'>5</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: <a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression____'><span class='textsf'><i >yield-expression</i></span></span></a> outside of function suspension context</span>
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='keyword'>co_yield</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;       <span class='comment'>// error: <a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression_____'><span class='textsf'><i >yield-expression</i></span></span></a> outside of function suspension context</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> r1 <span class='operator'>=</span> g1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>auto</span> r2 <span class='operator'>=</span> g2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  assert<span class='parenthesis'>(</span>std<span class='operator'>::</span>equal<span class='parenthesis'>(</span>r1<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, r1<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, r2<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, r2<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='throw' class='section'><h3 ><a class='secnum' href='#throw' style='min-width:80pt'>7.6.18</a> Throwing an exception <a class='abbr_ref' href='expr.throw'>[expr.throw]</a></h3><div class='texpara'><a class='index' id=':expression,throw'></a><a class='index' id=':exception_handling,throwing'></a><a class='index' id=':throw'></a><div class='bnf' id='nt:throw-expression'>
<a class='hidden_link' href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='nt:throw-expression'><span id=':throw-expression'>throw-expression<span class='textnormal'>:</span></span></span></a><br><span id=':throw_'><span class='texttt'><span class='keyword'>throw</span></span></span>  <a href='#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='ntref:assignment-expression___'><span class='textsf'><i >assignment-expression</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
</div></div><div class='para' id='throw-1'><div class='marginalizedparent'><a class='marginalized' href='#throw-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7510'>#</a></div><div class='texpara'><div id='throw-1.sentence-1' class='sentence'>A <a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression____'><span class='textsf'><i >throw-expression</i></span></span></a> is of type <span id=':void_________________________________'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#throw-1.sentence-1'>.</a></div></div></div><div class='para' id='throw-2'><div class='marginalizedparent'><a class='marginalized' href='#throw-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7513'>#</a></div><div class='texpara'><div id='throw-2.sentence-1' class='sentence'>A <a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression_____'><span class='textsf'><i >throw-expression</i></span></span></a> with an operand throws an
exception (<a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a>)<a class='hidden_link' href='#throw-2.sentence-1'>.</a></div> <div id='throw-2.sentence-2' class='sentence'>The array-to-pointer (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>) and function-to-pointer (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>)
standard conversions are performed on the operand<a class='hidden_link' href='#throw-2.sentence-2'>.</a></div> <div id='throw-2.sentence-3' class='sentence'>The type of the exception object is determined by removing
any top-level <a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier_'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i> from the type of the
(possibly converted) operand<a class='hidden_link' href='#throw-2.sentence-3'>.</a></div> <div id='throw-2.sentence-4' class='sentence'>The exception object is copy-initialized (<a href='dcl.init.general' title='9.5.1&emsp;General'>[dcl.<span class='shy'></span>init.<span class='shy'></span>general]</a>)
from the (possibly converted) operand<a class='hidden_link' href='#throw-2.sentence-4'>.</a></div></div></div><div class='para' id='throw-3'><div class='marginalizedparent'><a class='marginalized' href='#throw-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7524'>#</a></div><div class='texpara'><div id='throw-3.sentence-1' class='sentence'><a class='index' id=':exception_handling,rethrow'></a>A
<a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression______'><span class='textsf'><i >throw-expression</i></span></span></a>
with no operand rethrows the currently handled exception (<a href='except.handle' title='14.4&emsp;Handling an exception'>[except.<span class='shy'></span>handle]</a>)<a class='hidden_link' href='#throw-3.sentence-1'>.</a></div> <div id='throw-3.sentence-2' class='sentence'><a class='index' id=':exception_handling,terminate_called'></a><a class='index' id=':terminate,called'></a>If no exception is presently being handled,
the function <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>terminate</span> is invoked (<a href='except.terminate' title='14.6.2&emsp;The std&#x200b;::&#x200b;terminate function'>[except.<span class='shy'></span>terminate]</a>)<a class='hidden_link' href='#throw-3.sentence-2'>.</a></div> <div id='throw-3.sentence-3' class='sentence'>Otherwise, the exception is reactivated with the existing exception object;
no new exception object is created<a class='hidden_link' href='#throw-3.sentence-3'>.</a></div> <div id='throw-3.sentence-4' class='sentence'>The exception is no longer considered to be caught<a class='hidden_link' href='#throw-3.sentence-4'>.</a></div> <div id='throw-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#throw-example-1'>1</a></i>:&ensp;<div id='throw-3.sentence-5' class='sentence'>An exception handler that cannot completely handle the exception itself
can be written like this:
<span class='codeblock'><span class='keyword'>try</span> <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span> <span class='keyword'>catch</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>     <span class='comment'>// catch all exceptions</span>
  <span class='comment'>// respond (partially) to exception</span>
  <span class='keyword'>throw</span>;            <span class='comment'>// pass the exception to some other handler</span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='assign' class='section'><h3 ><a class='secnum' href='#assign' style='min-width:80pt'>7.6.19</a> Assignment and compound assignment operators <a class='abbr_ref' href='expr.assign'>[expr.assign]</a></h3><div class='texpara'><a class='index' id=':expression,assignment_and_compound_assignment'></a></div><div class='para' id='assign-1'><div class='marginalizedparent'><a class='marginalized' href='#assign-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7552'>#</a></div><div class='texpara'><div id='assign-1.sentence-1' class='sentence'><a class='index' id=':operator,assignment'></a><a class='index' id=':operator,+='></a><a class='index' id=':operator,-='></a><a class='index' id=':operator,*='></a><a class='index' id=':operator,/='></a><a class='index' id=':operator,%='></a><a class='index' id=':operator,>>='></a><a class='index' id=':operator,<<='></a><a class='index' id=':operator,&amp;='></a><a class='index' id=':operator,^='></a><a class='index' id=':operator,|='></a>The assignment operator (<span class='texttt'><span class='operator'>=</span></span>) and the compound assignment
operators all group right-to-left<a class='hidden_link' href='#assign-1.sentence-1'>.</a></div> <div id='assign-1.sentence-2' class='sentence'><a class='index' id=':assignment,and_lvalue'></a>All
require a modifiable lvalue as their left operand; their result is an lvalue
of the type of the left operand, referring to the left operand<a class='hidden_link' href='#assign-1.sentence-2'>.</a></div> <div id='assign-1.sentence-3' class='sentence'>The result in all cases is a bit-field if
the left operand is a bit-field<a class='hidden_link' href='#assign-1.sentence-3'>.</a></div> <div id='assign-1.sentence-4' class='sentence'>In all cases, the assignment is
sequenced after the
<a class='index' id=':value_computation__'></a>value computation of the right and left operands,
and before the
value computation of the assignment expression<a class='hidden_link' href='#assign-1.sentence-4'>.</a></div> <div id='assign-1.sentence-5' class='sentence'>The right operand is sequenced before the left operand<a class='hidden_link' href='#assign-1.sentence-5'>.</a></div> <div id='assign-1.sentence-6' class='sentence'>With
respect to an indeterminately-sequenced function call, the operation of
a compound assignment is a single evaluation<a class='hidden_link' href='#assign-1.sentence-6'>.</a></div> <div id='assign-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#assign-note-1'>1</a></i>:&ensp;<div id='assign-1.sentence-7' class='sentence'>Therefore, a function call cannot intervene between the
lvalue-to-rvalue conversion and the side effect associated with any
single compound assignment operator<a class='hidden_link' href='#assign-1.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='bnf' id='nt:assignment-expression'>
<a class='hidden_link' href='#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='nt:assignment-expression'><span id=':assignment-expression'>assignment-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:conditional-expression' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'><span id='ntref:conditional-expression_'><span class='textsf'><i >conditional-expression</i></span></span></a><br><a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression______'><span class='textsf'><i >yield-expression</i></span></span></a><br><a href='#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression_______'><span class='textsf'><i >throw-expression</i></span></span></a><br><a href='#nt:logical-or-expression' title='7.6.15&emsp;Logical OR operator&emsp;[expr.log.or]'><span id='ntref:logical-or-expression___'><span class='textsf'><i >logical-or-expression</i></span></span></a> <a href='#nt:assignment-operator' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='ntref:assignment-operator'><span class='textsf'><i >assignment-operator</i></span></span></a> <a href='dcl.init.general#nt:initializer-clause' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause___'><span class='textsf'><i >initializer-clause</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:assignment-operator'>
<a class='hidden_link' href='#nt:assignment-operator' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='nt:assignment-operator'><span id=':assignment-operator'>assignment-operator<span class='textnormal'>:</span></span></span></a> <span class='textnormal'>one of</span><br><span class='terminal'><span class='operator'>=</span>  <span class='operator'>*</span><span class='operator'>=</span>  <span class='operator'>/</span><span class='operator'>=</span>  <span class='operator'>%</span><span class='operator'>=</span>   <span class='operator'>+</span><span class='operator'>=</span>  <span class='operator'>-</span><span class='operator'>=</span>  <span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span>  <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span>  <span class='operator'>&amp;</span><span class='operator'>=</span>  <span class='operator'>^</span><span class='operator'>=</span>  <span class='operator'>|</span><span class='operator'>=</span></span>
</div></div></div><div class='para' id='assign-2'><div class='marginalizedparent'><a class='marginalized' href='#assign-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7600'>#</a></div><div class='texpara'><div id='assign-2.sentence-1' class='sentence'>In simple assignment (<span class='texttt'><span class='operator'>=</span></span>),
let <span class='texttt'>V</span> be the result of the right operand;
the object referred to by the left operand is
modified (<a href='defns.access' title='3.1&emsp;access'>[defns.<span class='shy'></span>access]</a>) by replacing its value
with <span class='texttt'>V</span> or,
if the object is of integer type,
with the value congruent (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>) to <span class='texttt'>V</span><a class='hidden_link' href='#assign-2.sentence-1'>.</a></div></div></div><div class='para' id='assign-3'><div class='marginalizedparent'><a class='marginalized' href='#assign-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7609'>#</a></div><div class='texpara'><div id='assign-3.sentence-1' class='sentence'><a class='index' id=':assignment,conversion_by'></a>If the right operand is an expression, it is implicitly
<a href='#conv' title='7.3&emsp;Standard conversions&emsp;[conv]'>converted</a> to the cv-unqualified type of the left
operand<a class='hidden_link' href='#assign-3.sentence-1'>.</a></div></div></div><div class='para' id='assign-4'><div class='marginalizedparent'><a class='marginalized' href='#assign-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7615'>#</a></div><div class='texpara'><div id='assign-4.sentence-1' class='sentence'><a class='index' id=':reference,assignment_to'></a>When the left operand of an assignment operator
is a bit-field that cannot represent the value of the expression, the
resulting value of the bit-field is
<a class='index' id=':value_of_bit-field_that_cannot_represent,assigned_value'></a>implementation-defined<a class='hidden_link' href='#assign-4.sentence-1'>.</a></div></div></div><div class='para' id='assign-5'><div class='marginalizedparent'><a class='marginalized' href='#assign-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7622'>#</a></div><div class='texpara'><div id='assign-5.sentence-1' class='sentence'>An assignment whose left operand is of
a volatile-qualified type is deprecated (<a href='depr.volatile.type' title='D.4&emsp;Deprecated volatile types'>[depr.<span class='shy'></span>volatile.<span class='shy'></span>type]</a>)
unless the (possibly parenthesized) assignment is a discarded-value expression or
an <a href='#def:unevaluated_operand' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'>unevaluated operand</a><a class='hidden_link' href='#assign-5.sentence-1'>.</a></div></div></div><div class='para' id='assign-6'><div class='marginalizedparent'><a class='marginalized' href='#assign-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7628'>#</a></div><div class='texpara'><div id='assign-6.sentence-1' class='sentence'>The behavior of an expression of the form <span class='texttt'>E1 <i >op</i><span class='operator'>=</span> E2</span>
is equivalent to <span class='texttt'>E1 <span class='operator'>=</span> E1 <i >op</i> E2</span> except
that <span class='texttt'>E1</span> is evaluated only once<a class='hidden_link' href='#assign-6.sentence-1'>.</a></div> <div id='assign-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#assign-note-2'>2</a></i>:&ensp;<div id='assign-6.sentence-2' class='sentence'>The object designated by <span class='texttt'>E1</span> is accessed twice<a class='hidden_link' href='#assign-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='assign-6.sentence-3' class='sentence'>
For <span class='texttt'><span class='operator'>+</span><span class='operator'>=</span></span> and <span class='texttt'><span class='operator'>-</span><span class='operator'>=</span></span>,
<span class='texttt'>E1</span> shall either have arithmetic type or be a pointer to a
possibly cv-qualified completely-defined object type<a class='hidden_link' href='#assign-6.sentence-3'>.</a></div> <div id='assign-6.sentence-4' class='sentence'>In all other
cases, <span class='texttt'>E1</span> shall have arithmetic type<a class='hidden_link' href='#assign-6.sentence-4'>.</a></div></div></div><div class='para' id='assign-7'><div class='marginalizedparent'><a class='marginalized' href='#assign-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7640'>#</a></div><div class='texpara'><div id='assign-7.sentence-1' class='sentence'>If the value being stored in an object is read via another object that
overlaps in any way the storage of the first object, then the overlap shall be
exact and the two objects shall have the same type, otherwise the behavior is
undefined<a class='hidden_link' href='#assign-7.sentence-1'>.</a></div> <div id='assign-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#assign-note-3'>3</a></i>:&ensp;<div id='assign-7.sentence-2' class='sentence'>This restriction applies to the relationship
between the left and right sides of the assignment operation; it is not a
statement about how the target of the assignment can be aliased in general<a class='hidden_link' href='#assign-7.sentence-2'>.</a></div> <div id='assign-7.sentence-3' class='sentence'>See <a href='#basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#assign-7.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='assign-8'><div class='marginalizedparent'><a class='marginalized' href='#assign-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7652'>#</a></div><div class='texpara'><div id='assign-8.sentence-1' class='sentence'>A <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_________'><span class='textsf'><i >braced-init-list</i></span></span></a> <span class='math'><span class='mathalpha'>B</span></span> may appear on the right-hand side of</div></div><div class='texpara'><ul class='itemize'><li id='assign-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#assign-8.1'>(8.1)</a></div><div class='texpara'><div id='assign-8.1.sentence-1' class='sentence'>an assignment to a scalar of type <span class='texttt'>T</span>, in which case <span class='math'><span class='mathalpha'>B</span></span>
shall have at most a single element<a class='hidden_link' href='#assign-8.1.sentence-1'>.</a></div> <div id='assign-8.1.sentence-2' class='sentence'>The meaning of <span class='texttt'>x <span class='operator'>=</span> <span class='math'><span class='mathalpha'>B</span></span></span> is <span class='texttt'>x <span class='operator'>=</span> t</span>,
where <span class='texttt'>t</span> is an invented temporary variable
declared and initialized as <span class='texttt'>T t <span class='operator'>=</span> <span class='math'><span class='mathalpha'>B</span></span></span><a class='hidden_link' href='#assign-8.1.sentence-2'>.</a></div></div></li><li id='assign-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#assign-8.2'>(8.2)</a></div><div class='texpara'><div id='assign-8.2.sentence-1' class='sentence'>an assignment to an object of class type, in which case <span class='math'><span class='mathalpha'>B</span></span>
is passed as the argument to the assignment operator function selected by
overload resolution (<a href='over.assign' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>assign]</a>, <a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)<a class='hidden_link' href='#assign-8.2.sentence-1'>.</a></div></div></li></ul></div><div class='texpara'><div id='assign-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#assign-example-1'>1</a></i>:&ensp;<span class='codeblock'>complex<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span> z;
z <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>,<span class='literal'>2</span> <span class='curlybracket'>}</span>;        <span class='comment'>// meaning <span class='tcode_in_codeblock'>z.operator=({1,2})</span></span>
z <span class='operator'>+</span><span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;      <span class='comment'>// meaning <span class='tcode_in_codeblock'>z.operator+=({1,2})</span></span>
<span class='keyword'>int</span> a, b;
a <span class='operator'>=</span> b <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;      <span class='comment'>// meaning <span class='tcode_in_codeblock'>a=b=1;</span></span>
a <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span> <span class='operator'>=</span> b;      <span class='comment'>// syntax error</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='comma' class='section'><h3 ><a class='secnum' href='#comma' style='min-width:80pt'>7.6.20</a> Comma operator <a class='abbr_ref' href='expr.comma'>[expr.comma]</a></h3><div class='texpara'><a class='index' id=':expression,comma'></a><a class='index' id=':operator,comma'></a></div><div class='para' id='comma-1'><div class='marginalizedparent'><a class='marginalized' href='#comma-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7687'>#</a></div><div class='texpara'><div id='comma-1.sentence-1' class='sentence'>The comma operator groups left-to-right<a class='hidden_link' href='#comma-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:expression'>
<a class='hidden_link' href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='nt:expression'><span id=':expression'>expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='ntref:assignment-expression____'><span class='textsf'><i >assignment-expression</i></span></span></a><br><a href='#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______________________________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.assign]'><span id='ntref:assignment-expression_____'><span class='textsf'><i >assignment-expression</i></span></span></a>
</div></div><div class='texpara'><div id='comma-1.sentence-2' class='sentence'>A pair of expressions separated by a comma is evaluated left-to-right;
the left expression is
a <a href='#def:discarded-value_expression' title='7.2&emsp;Properties of expressions&emsp;[expr.prop]'>discarded-value expression</a><a class='hidden_link' href='#comma-1.sentence-2'>.</a></div> <div id='comma-1.sentence-3' class='sentence'>The left expression is sequenced before
the right expression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#comma-1.sentence-3'>.</a></div> <div id='comma-1.sentence-4' class='sentence'><a class='index' id=':operator,side_effects_and_comma'></a>The type and value of the
result are the type and value of the right operand; the result is of the same
value category as its right operand, and is a bit-field if its
right operand is a bit-field<a class='hidden_link' href='#comma-1.sentence-4'>.</a></div></div></div><div class='para nonNormativeOnly' id='comma-2'><div class='marginalizedparent'><a class='marginalized' href='#comma-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7707'>#</a></div><div class='texpara'><div id='comma-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#comma-note-1'>1</a></i>:&ensp;<div id='comma-2.sentence-1' class='sentence'>In contexts where the comma token is given special meaning
(e.g., function calls (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),
subscript expressions (<a href='#sub' title='7.6.1.2&emsp;Subscripting'>[expr.<span class='shy'></span>sub]</a>),
lists of initializers (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),
or <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list'><span class='textsf'><i >template-argument-list</i></span></span></a><i >s</i> (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>)),
the comma operator as described in this subclause can appear only in parentheses<a class='hidden_link' href='#comma-2.sentence-1'>.</a></div> <div id='comma-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#comma-example-1'>1</a></i>:&ensp;<div id='comma-2.sentence-2' class='sentence'><span class='codeblock'>f<span class='parenthesis'>(</span>a, <span class='parenthesis'>(</span>t<span class='operator'>=</span><span class='literal'>3</span>, t<span class='operator'>+</span><span class='literal'>2</span><span class='parenthesis'>)</span>, c<span class='parenthesis'>)</span>;
</span>
has three arguments, the second of which has the value
<span class='texttt'><span class='literal'>5</span></span><a class='hidden_link' href='#comma-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div></div></div><div id='const' class='section'><h2 ><a class='secnum' href='#const' style='min-width:65pt'>7.7</a> Constant expressions <a class='abbr_ref' href='expr.const'>[expr.const]</a></h2><div class='texpara'><a class='index' id=':expression,constant'></a></div><div class='para' id='const-1'><div class='marginalizedparent'><a class='marginalized' href='#const-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7727'>#</a></div><div class='texpara'><div id='const-1.sentence-1' class='sentence'>Certain contexts require expressions that satisfy additional
requirements as detailed in this subclause; other contexts have different
semantics depending on whether or not an expression satisfies these requirements<a class='hidden_link' href='#const-1.sentence-1'>.</a></div> <div id='const-1.sentence-2' class='sentence'>Expressions that satisfy these requirements,
assuming that <a href='class.copy.elision' title='11.9.6&emsp;Copy/move elision&emsp;[class.copy.elision]'>copy elision</a> is not performed,
are called
<a class='index' id='def:expression,constant'></a><a class='hidden_link' href='#def:constant_expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constant_expression'><i >constant expressions</i></span></a><a class='hidden_link' href='#const-1.sentence-2'>.</a></div> <div id='const-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-1'>1</a></i>:&ensp;<div id='const-1.sentence-3' class='sentence'>Constant expressions can be evaluated
during translation<a class='hidden_link' href='#const-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='bnf' id='nt:constant-expression'>
<a class='hidden_link' href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='nt:constant-expression'><span id=':constant-expression'>constant-expression<span class='textnormal'>:</span></span></span></a><br><a href='#nt:conditional-expression' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'><span id='ntref:conditional-expression__'><span class='textsf'><i >conditional-expression</i></span></span></a>
</div></div></div><div class='para' id='const-2'><div class='marginalizedparent'><a class='marginalized' href='#const-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7746'>#</a></div><div class='texpara'><div id='const-2.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:constituent_value' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constituent_value'><i >constituent values</i></span></a> of an object <span class='math'><span class='mathalpha'>o</span></span> are
<ul class='itemize'><li id='const-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-2.1'>(2.1)</a></div>if <span class='math'><span class='mathalpha'>o</span></span> has scalar type, the value of <span class='math'><span class='mathalpha'>o</span></span>;</li><li id='const-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-2.2'>(2.2)</a></div>otherwise, the constituent values of any direct subobjects of <span class='math'><span class='mathalpha'>o</span></span>
other than inactive union members<a class='hidden_link' href='#const-2.sentence-1'>.</a></li></ul></div> <div id='const-2.sentence-2' class='sentence'>
The <a class='hidden_link' href='#def:constituent_reference' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constituent_reference'><i >constituent references</i></span></a> of an object <span class='math'><span class='mathalpha'>o</span></span> are
<ul class='itemize'><li id='const-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-2.3'>(2.3)</a></div>any direct members of <span class='math'><span class='mathalpha'>o</span></span> that have reference type, and</li><li id='const-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-2.4'>(2.4)</a></div>the constituent references of any direct subobjects of <span class='math'><span class='mathalpha'>o</span></span>
other than inactive union members<a class='hidden_link' href='#const-2.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='const-3'><div class='marginalizedparent'><a class='marginalized' href='#const-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7764'>#</a></div><div class='texpara'><div id='const-3.sentence-1' class='sentence'>The constituent values and constituent references of
a variable <span class='texttt'>x</span> are defined as follows:
<ul class='itemize'><li id='const-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-3.1'>(3.1)</a></div><div class='texpara'><div id='const-3.1.sentence-1' class='sentence'>If <span class='texttt'>x</span> declares an object,
the constituent values and references of that object are
constituent values and references of <span class='texttt'>x</span><a class='hidden_link' href='#const-3.1.sentence-1'>.</a></div></div></li><li id='const-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-3.2'>(3.2)</a></div><div class='texpara'><div id='const-3.2.sentence-1' class='sentence'>If <span class='texttt'>x</span> declares a reference,
that reference is a constituent reference of <span class='texttt'>x</span><a class='hidden_link' href='#const-3.2.sentence-1'>.</a></div></div></li></ul></div> <div id='const-3.sentence-2' class='sentence'>
For any constituent reference <span class='texttt'>r</span> of a variable <span class='texttt'>x</span>,
if <span class='texttt'>r</span> is bound to a temporary object or subobject thereof
whose lifetime is extended to that of <span class='texttt'>r</span>,
the constituent values and references of that temporary object
are also constituent values and references of <span class='texttt'>x</span>, recursively<a class='hidden_link' href='#const-3.sentence-2'>.</a></div></div></div><div class='para' id='const-4'><div class='marginalizedparent'><a class='marginalized' href='#const-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7782'>#</a></div><div class='texpara'><div id='const-4.sentence-1' class='sentence'>An object <span class='math'><span class='mathalpha'>o</span></span> is <a class='hidden_link' href='#def:constexpr-referenceable' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constexpr-referenceable'><i >constexpr-referenceable</i></span></a> from a point <span class='math'><span class='mathalpha'>P</span></span> if
<ul class='itemize'><li id='const-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-4.1'>(4.1)</a></div><span class='math'><span class='mathalpha'>o</span></span> has static storage duration, or</li><li id='const-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-4.2'>(4.2)</a></div><span class='math'><span class='mathalpha'>o</span></span> has automatic storage duration, and, letting <span class='texttt'>v</span> denote
<ul class='itemize'><li id='const-4.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-4.2.1'>(4.2.1)</a></div>the variable corresponding to <span class='math'><span class='mathalpha'>o</span></span>'s complete object or</li><li id='const-4.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-4.2.2'>(4.2.2)</a></div>the variable to whose lifetime that of <span class='math'><span class='mathalpha'>o</span></span> is extended,</li></ul>
the smallest scope enclosing <span class='texttt'>v</span> and the smallest scope enclosing <span class='math'><span class='mathalpha'>P</span></span>
that are neither
<ul class='itemize'><li id='const-4.2.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-4.2.3'>(4.2.3)</a></div>block scopes nor</li><li id='const-4.2.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-4.2.4'>(4.2.4)</a></div>function parameter scopes associated with
a <a href='#nt:requirement-parameter-list' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-parameter-list__'><span class='textsf'><i >requirement-parameter-list</i></span></span></a></li></ul>
are the same function parameter scope.</li></ul>
<div id='const-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> sx;
  <span class='keyword'>thread_local</span> <span class='keyword'>int</span> tx;                  <span class='comment'>// <span class='tcode_in_codeblock'>tx</span> is never constexpr-referenceable</span>
  <span class='keyword'>int</span> ax;
  A aa <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;
  <span class='keyword'>static</span> A sa <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>3</span>, <span class='literal'>4</span><span class='curlybracket'>}</span>;
  <span class='comment'>// The objects <span class='tcode_in_codeblock'>sx</span>, <span class='tcode_in_codeblock'>ax</span>, and <span class='tcode_in_codeblock'>aa.m</span>, <span class='tcode_in_codeblock'>sa.m</span>, and the temporaries to which <span class='tcode_in_codeblock'>aa.r</span> and <span class='tcode_in_codeblock'>sa.r</span> are bound, are constexpr-referenceable.</span>
  <span class='keyword'>auto</span> lambda <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> ay;
    <span class='comment'>// The objects <span class='tcode_in_codeblock'>sx</span>, <span class='tcode_in_codeblock'>sa.m</span>, and <span class='tcode_in_codeblock'>ay</span> (but not <span class='tcode_in_codeblock'>ax</span> or <span class='tcode_in_codeblock'>aa</span>), and the</span>
    <span class='comment'>// temporary to which <span class='tcode_in_codeblock'>sa.r</span> is bound, are constexpr-referenceable.</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div class='para' id='const-5'><div class='marginalizedparent'><a class='marginalized' href='#const-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7828'>#</a></div><div class='texpara'><div id='const-5.sentence-1' class='sentence'>An object or reference <span class='texttt'>x</span> is
<a class='hidden_link' href='#def:constexpr-representable' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constexpr-representable'><i >constexpr-representable</i></span></a> at a point <span class='math'><span class='mathalpha'>P</span></span> if,
for each constituent value of <span class='texttt'>x</span> that points to or past an object <span class='math'><span class='mathalpha'>o</span></span>,
and for each constituent reference of <span class='texttt'>x</span> that refers to an object <span class='math'><span class='mathalpha'>o</span></span>,
<span class='math'><span class='mathalpha'>o</span></span> is constexpr-referenceable from <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#const-5.sentence-1'>.</a></div></div></div><div class='para' id='const-6'><div class='marginalizedparent'><a class='marginalized' href='#const-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7835'>#</a></div><div class='texpara'><div id='const-6.sentence-1' class='sentence'><a class='index' id=':contract_evaluation_semantics,ignore'></a>
A variable <span class='texttt'>v</span> is <a class='hidden_link' href='#def:constant-initializable' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constant-initializable'><i >constant-initializable</i></span></a> if
<ul class='itemize'><li id='const-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-6.1'>(6.1)</a></div>the full-expression of its initialization is a constant expression
when interpreted as a <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression_____'><span class='textsf'><i >constant-expression</i></span></span></a>
with all contract assertions
using the ignore evaluation semantic (<a href='basic.contract.eval' title='6.10.2&emsp;Evaluation'>[basic.<span class='shy'></span>contract.<span class='shy'></span>eval]</a>),
<div id='const-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-2'>2</a></i>:&ensp;<div id='const-6.1.sentence-1' class='sentence'>Within this evaluation,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>is_<span class='shy'></span>constant_<span class='shy'></span>evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='meta.const.eval' title='21.3.11&emsp;Constant evaluation context'>[meta.<span class='shy'></span>const.<span class='shy'></span>eval]</a>)
returns <span id=':true_____________________'><span class='texttt'><span class='literal'>true</span></span></span><a class='hidden_link' href='#const-6.1.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='const-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-3'>3</a></i>:&ensp;<div id='const-6.1.sentence-2' class='sentence'>The initialization, when evaluated,
can still evaluate contract assertions
with other evaluation semantics,
resulting in a diagnostic or ill-formed program
if a contract violation occurs<a class='hidden_link' href='#const-6.1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></li><li id='const-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-6.2'>(6.2)</a></div>immediately after the initializing declaration of <span class='texttt'>v</span>,
the object or reference <span class='texttt'>x</span> declared by <span class='texttt'>v</span>
is constexpr-representable, and</li><li id='const-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-6.3'>(6.3)</a></div>if <span class='texttt'>x</span> has static or thread storage duration,
<span class='texttt'>x</span> is constexpr-representable at the nearest point
whose immediate scope is a namespace scope
that follows the initializing declaration of <span class='texttt'>v</span><a class='hidden_link' href='#const-6.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='const-7'><div class='marginalizedparent'><a class='marginalized' href='#const-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7867'>#</a></div><div class='texpara'><div id='const-7.sentence-1' class='sentence'>A constant-initializable variable is <a class='hidden_link' href='#def:constant-initialized' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constant-initialized'><i >constant-initialized</i></span></a>
if either it has an initializer or
its type is const-default-constructible (<a href='dcl.init.general' title='9.5.1&emsp;General'>[dcl.<span class='shy'></span>init.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#const-7.sentence-1'>.</a></div> <div id='const-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> ax <span class='operator'>=</span> <span class='literal'>0</span>;                   <span class='comment'>// <span class='tcode_in_codeblock'>ax</span> is constant-initialized</span>
  <span class='keyword'>thread_local</span> <span class='keyword'>int</span> tx <span class='operator'>=</span> <span class='literal'>0</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>tx</span> is constant-initialized</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> sx;                <span class='comment'>// <span class='tcode_in_codeblock'>sx</span> is not constant-initialized</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> rss <span class='operator'>=</span> sx;         <span class='comment'>// <span class='tcode_in_codeblock'>rss</span> is constant-initialized</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> rst <span class='operator'>=</span> tx;         <span class='comment'>// <span class='tcode_in_codeblock'>rst</span> is not constant-initialized</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> rsa <span class='operator'>=</span> ax;         <span class='comment'>// <span class='tcode_in_codeblock'>rsa</span> is not constant-initialized</span>
  <span class='keyword'>thread_local</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> rts <span class='operator'>=</span> sx;   <span class='comment'>// <span class='tcode_in_codeblock'>rts</span> is constant-initialized</span>
  <span class='keyword'>thread_local</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> rtt <span class='operator'>=</span> tx;   <span class='comment'>// <span class='tcode_in_codeblock'>rtt</span> is not constant-initialized</span>
  <span class='keyword'>thread_local</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> rta <span class='operator'>=</span> ax;   <span class='comment'>// <span class='tcode_in_codeblock'>rta</span> is not constant-initialized</span>
  <span class='keyword'>int</span><span class='operator'>&amp;</span> ras <span class='operator'>=</span> sx;                <span class='comment'>// <span class='tcode_in_codeblock'>ras</span> is constant-initialized</span>
  <span class='keyword'>int</span><span class='operator'>&amp;</span> rat <span class='operator'>=</span> tx;                <span class='comment'>// <span class='tcode_in_codeblock'>rat</span> is not constant-initialized</span>
  <span class='keyword'>int</span><span class='operator'>&amp;</span> raa <span class='operator'>=</span> ax;                <span class='comment'>// <span class='tcode_in_codeblock'>raa</span> is constant-initialized</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-8'><div class='marginalizedparent'><a class='marginalized' href='#const-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7890'>#</a></div><div class='texpara'><div id='const-8.sentence-1' class='sentence'>A variable is <a class='hidden_link' href='#def:potentially-constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:potentially-constant'><i >potentially-constant</i></span></a> if
it is constexpr or
it has reference or non-volatile const-qualified integral or enumeration type<a class='hidden_link' href='#const-8.sentence-1'>.</a></div></div></div><div class='para' id='const-9'><div class='marginalizedparent'><a class='marginalized' href='#const-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7895'>#</a></div><div class='texpara'><div id='const-9.sentence-1' class='sentence'>A constant-initialized potentially-constant variable <span class='math'><span class='mathalpha'>V</span></span> is
<a class='hidden_link' href='#def:usable_in_constant_expressions' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:usable_in_constant_expressions'><i >usable in constant expressions</i></span></a> at a point <span class='math'><span class='mathalpha'>P</span></span> if
<span class='math'><span class='mathalpha'>V</span></span>'s initializing declaration <span class='math'><span class='mathalpha'>D</span></span> is reachable from <span class='math'><span class='mathalpha'>P</span></span> and
<ul class='itemize'><li id='const-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.1'>(9.1)</a></div><span class='math'><span class='mathalpha'>V</span></span> is constexpr,</li><li id='const-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.2'>(9.2)</a></div><span class='math'><span class='mathalpha'>V</span></span> is not initialized to a TU-local value, or</li><li id='const-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.3'>(9.3)</a></div><span class='math'><span class='mathalpha'>P</span></span> is in the same translation unit as <span class='math'><span class='mathalpha'>D</span></span><a class='hidden_link' href='#const-9.sentence-1'>.</a></li></ul></div> <div id='const-9.sentence-2' class='sentence'>
An object or reference is
<a class='hidden_link' href='#def:potentially_usable_in_constant_expressions' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:potentially_usable_in_constant_expressions'><i >potentially usable in constant expressions</i></span></a> at point <span class='math'><span class='mathalpha'>P</span></span> if it is
<ul class='itemize'><li id='const-9.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.4'>(9.4)</a></div>the object or reference declared by a variable
that is usable in constant expressions at <span class='math'><span class='mathalpha'>P</span></span>,</li><li id='const-9.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.5'>(9.5)</a></div>a temporary object of non-volatile const-qualified literal type
whose lifetime is extended (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)
to that of a variable that is usable in constant expressions at <span class='math'><span class='mathalpha'>P</span></span>,</li><li id='const-9.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.6'>(9.6)</a></div>a <a href='temp.param' title='13.2&emsp;Template parameters&emsp;[temp.param]'>template parameter</a> object,</li><li id='const-9.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.7'>(9.7)</a></div>a <a href='lex.string' title='5.13.5&emsp;String literals&emsp;[lex.string]'>string literal</a> object,</li><li id='const-9.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.8'>(9.8)</a></div>a non-mutable subobject of any of the above, or</li><li id='const-9.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-9.9'>(9.9)</a></div>a reference member of any of the above<a class='hidden_link' href='#const-9.sentence-2'>.</a></li></ul></div> <div id='const-9.sentence-3' class='sentence'>
An object or reference is <a class='hidden_link' href='#def:usable_in_constant_expressions' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:usable_in_constant_expressions_'><i >usable in constant expressions</i></span></a> at point <span class='math'><span class='mathalpha'>P</span></span>
if it is an object or reference
that is potentially usable in constant expressions at <span class='math'><span class='mathalpha'>P</span></span> and
is constexpr-representable at <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#const-9.sentence-3'>.</a></div> <div id='const-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span><span class='operator'>*</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> r;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> A a <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='operator'>&amp;</span>x<span class='curlybracket'>}</span>;
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>a<span class='operator'>.</span>r <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>&amp;</span>x<span class='parenthesis'>)</span>;             <span class='comment'>// OK</span>
  <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>a<span class='operator'>.</span>r <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span><span class='parenthesis'>)</span>;      <span class='comment'>// error: <span class='tcode_in_codeblock'>a.r</span> is not usable in constant expressions at this point</span>
  <span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-10'><div class='marginalizedparent'><a class='marginalized' href='#const-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L7942'>#</a></div><div class='texpara'><div id='const-10.sentence-1' class='sentence'>An expression <span class='math'><span class='mathalpha'>E</span></span> is a <a class='hidden_link' href='#def:expression,core_constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,core_constant'><i >core constant expression</i></span></a>
unless the evaluation of <span class='math'><span class='mathalpha'>E</span></span>, following the rules of the abstract
machine (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>), would evaluate one of the following:
<ul class='itemize'><li id='const-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.1'>(10.1)</a></div><span id=':this___________________________'><span class='texttt'><span class='keyword'>this</span></span></span> (<a href='#prim.this' title='7.5.3&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>), except
<ul class='itemize'><li id='const-10.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-10.1.1'>(10.1.1)</a></div>in a constexpr function (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>)
that is being evaluated as part of <span class='math'><span class='mathalpha'>E</span></span> or</li><li id='const-10.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-10.1.2'>(10.1.2)</a></div>when appearing as the <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression______________'><span class='textsf'><i >postfix-expression</i></span></span></a> of
an implicit or explicit class member access expression (<a href='#ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>);</li></ul></li><li id='const-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.2'>(10.2)</a></div>a control flow that passes through
a declaration of a block variable (<a href='basic.scope.block' title='6.4.3&emsp;Block scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>block]</a>) with
static (<a href='basic.stc.static' title='6.7.6.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>) or
thread (<a href='basic.stc.thread' title='6.7.6.3&emsp;Thread storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>thread]</a>) storage duration,
unless that variable is usable in constant expressions;
<div id='const-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>constexpr</span> <span class='keyword'>char</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>5</span>;
  <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>char</span> c<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>"Hello World"</span>;
  <span class='keyword'>return</span> <span class='operator'>*</span><span class='parenthesis'>(</span>c <span class='operator'>+</span> x<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span><span class='literal'>' '</span> <span class='operator'>=</span><span class='operator'>=</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div></li><li id='const-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.3'>(10.3)</a></div>an invocation of a non-constexpr function;<a class='footnoteref' href='#footnote-67' id='footnoteref-67' title='Overload resolution ([over.match]) is applied as usual.'>67</a></li><li id='const-10.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.4'>(10.4)</a></div>an invocation of an undefined constexpr function;</li><li id='const-10.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.5'>(10.5)</a></div>an invocation of an instantiated constexpr function
that is not constexpr-suitable;</li><li id='const-10.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.6'>(10.6)</a></div>an invocation of a virtual function (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
for an object whose dynamic type is constexpr-unknown;</li><li id='const-10.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.7'>(10.7)</a></div>an expression that would exceed the implementation-defined
limits (see <a href='implimits' title='Annex B&emsp;(informative)&emsp;Implementation quantities'>[implimits]</a>);</li><li id='const-10.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.8'>(10.8)</a></div>an operation that would have undefined or erroneous behavior
as specified in <a href='intro' title='4&emsp;General principles'>[intro]</a> through <a href='cpp' title='15&emsp;Preprocessing directives'>[cpp]</a>;<a class='footnoteref' href='#footnote-68' id='footnoteref-68' title='This includes, for example, signed integer overflow ([expr.pre]), certain pointer arithmetic ([expr.add]), division by zero ([expr.mul]), or certain shift operations ([expr.shift]).'>68</a></li><li id='const-10.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.9'>(10.9)</a></div>an <a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue conversion</a> unless
it is applied to
<ul class='itemize'><li id='const-10.9.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-10.9.1'>(10.9.1)</a></div>a glvalue of type <span class='mathit'>cv</span> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>,</li><li id='const-10.9.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-10.9.2'>(10.9.2)</a></div>a non-volatile glvalue that refers to an object that is
  usable in constant expressions, or</li><li id='const-10.9.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-10.9.3'>(10.9.3)</a></div>a non-volatile glvalue of literal type that refers to a non-volatile object
  whose lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li></ul></li><li id='const-10.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.10'>(10.10)</a></div>an lvalue-to-rvalue conversion
that is applied to a glvalue
that refers to a non-active member of a union or a subobject thereof;</li><li id='const-10.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.11'>(10.11)</a></div>an lvalue-to-rvalue conversion that is applied to
an object with an <a href='basic.indet#def:value,indeterminate' title='6.7.5&emsp;Indeterminate and erroneous values&emsp;[basic.indet]'>indeterminate value</a>;</li><li id='const-10.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.12'>(10.12)</a></div>an invocation of an implicitly-defined copy/move constructor or
copy/move assignment operator
for a union whose active member (if any) is mutable,
unless the lifetime of the union object began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='const-10.13'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.13'>(10.13)</a></div>in a <a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>,
a reference to <span id=':this____________________________'><span class='texttt'><span class='keyword'>this</span></span></span> or to a variable with
automatic storage duration defined outside that
<a href='#nt:lambda-expression' title='7.5.6.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______________________________________________________'><span class='textsf'><i >lambda-expression</i></span></span></a>, where
the reference would be an odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>, <a href='#prim.lambda' title='7.5.6&emsp;Lambda expressions'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda]</a>);
<div id='const-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span> n <span class='operator'>=</span> <span class='literal'>0</span>;
  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>int</span> i <span class='operator'>=</span> n;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>n</span> is not odr-used here</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='operator'>*</span><span class='operator'>&amp;</span>n;      <span class='comment'>// error: <span class='tcode_in_codeblock'>&amp;n</span> would be an odr-use of <span class='tcode_in_codeblock'>n</span></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div>
<div id='const-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-4'>4</a></i>:&ensp;<div id='const-10.13.sentence-1' class='sentence'>If the odr-use occurs in an invocation
of a function call operator of a closure type,
it no longer refers to <span id=':this_____________________________'><span class='texttt'><span class='keyword'>this</span></span></span> or to an enclosing
variable with automatic storage duration
due to the transformation (<a href='#prim.lambda.capture' title='7.5.6.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>)
of the <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__________________________________________'><span class='textsf'><i >id-expression</i></span></span></a> into
an access of the corresponding data member<a class='hidden_link' href='#const-10.13.sentence-1'>.</a></div> <div id='const-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> monad <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v; <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> bind <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> m<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> fvm<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> fvm<span class='parenthesis'>(</span>m<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// OK to capture objects with automatic storage duration created during constant expression evaluation.</span>
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>bind<span class='parenthesis'>(</span>monad<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>monad<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> monad<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></li><li id='const-10.14'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.14'>(10.14)</a></div>a conversion
from a prvalue <span class='texttt'>P</span> of type “pointer to <span class='mathit'>cv</span> <span id=':void__________________________________'><span class='texttt'><span class='keyword'>void</span></span></span>”
to a type “<i >cv1</i> pointer to  <span class='texttt'>T</span>”,
where  <span class='texttt'>T</span> is not <i >cv2</i> <span id=':void___________________________________'><span class='texttt'><span class='keyword'>void</span></span></span>,
unless <span class='texttt'>P</span>
is a null pointer value or
points to an object whose type is similar to <span class='texttt'>T</span>;</li><li id='const-10.15'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.15'>(10.15)</a></div>a <span id=':reinterpret_cast_______________'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> (<a href='#reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>);</li><li id='const-10.16'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.16'>(10.16)</a></div>a modification of an object (<a href='#assign' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>assign]</a>, <a href='#post.incr' title='7.6.1.6&emsp;Increment and decrement'>[expr.<span class='shy'></span>post.<span class='shy'></span>incr]</a>, <a href='#pre.incr' title='7.6.2.3&emsp;Increment and decrement'>[expr.<span class='shy'></span>pre.<span class='shy'></span>incr]</a>)
unless it is applied to a non-volatile lvalue of literal type
that refers to a non-volatile object
whose lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='const-10.17'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.17'>(10.17)</a></div>an invocation of a destructor (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>) or a function call
whose <a href='#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_______________'><span class='textsf'><i >postfix-expression</i></span></span></a> names a pseudo-destructor (<a href='#call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),
in either case for an object whose lifetime did not begin within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='const-10.18'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.18'>(10.18)</a></div>a <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_______________________________________________'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='#new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>),
unless either
<ul class='itemize'><li id='const-10.18.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-10.18.1'>(10.18.1)</a></div>the selected allocation function is
a replaceable global allocation function (<a href='new.delete.single' title='17.6.3.2&emsp;Single-object forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>single]</a>, <a href='new.delete.array' title='17.6.3.3&emsp;Array forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>array]</a>) and
the allocated storage is deallocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>, or</li><li id='const-10.18.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#const-10.18.2'>(10.18.2)</a></div>the selected allocation function is
a non-allocating form (<a href='new.delete.placement' title='17.6.3.4&emsp;Non-allocating forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>placement]</a>)
with an allocated type <span class='texttt'>T</span>, where
<ul class='itemize'><li id='const-10.18.2.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#const-10.18.2.1'>(10.18.2.1)</a></div>the placement argument to the <a href='#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression________________________________________________'><span class='textsf'><i >new-expression</i></span></span></a> points to
an object whose type is similar to <span class='texttt'>T</span> (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) or,
if <span class='texttt'>T</span> is an array type,
to the first element of an object of a type similar to <span class='texttt'>T</span>, and</li><li id='const-10.18.2.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#const-10.18.2.2'>(10.18.2.2)</a></div>the placement argument points to storage
whose duration began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li></ul></li></ul></li><li id='const-10.19'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.19'>(10.19)</a></div>a <a href='#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression____________________'><span class='textsf'><i >delete-expression</i></span></span></a> (<a href='#delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>),
unless it deallocates a region of storage
allocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='const-10.20'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.20'>(10.20)</a></div>a call to an instance of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>allocate</span> (<a href='allocator.members' title='20.2.10.2&emsp;Members'>[allocator.<span class='shy'></span>members]</a>),
unless the allocated storage is deallocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='const-10.21'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.21'>(10.21)</a></div>a call to an instance of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>deallocate</span> (<a href='allocator.members' title='20.2.10.2&emsp;Members'>[allocator.<span class='shy'></span>members]</a>),
unless it deallocates a region of storage
allocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='const-10.22'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.22'>(10.22)</a></div>a construction of an exception object,
unless the exception object and
all of its implicit copies created by invocations of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>current_<span class='shy'></span>exception</span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>rethrow_<span class='shy'></span>exception</span> (<a href='propagation' title='17.9.7&emsp;Exception propagation'>[propagation]</a>)
are destroyed within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='const-10.23'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.23'>(10.23)</a></div>an <a href='#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression_______________'><span class='textsf'><i >await-expression</i></span></span></a> (<a href='#await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>);</li><li id='const-10.24'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.24'>(10.24)</a></div>a <a href='#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression_______'><span class='textsf'><i >yield-expression</i></span></span></a> (<a href='#yield' title='7.6.17&emsp;Yielding a value'>[expr.<span class='shy'></span>yield]</a>);</li><li id='const-10.25'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.25'>(10.25)</a></div>a three-way comparison (<a href='#spaceship' title='7.6.8&emsp;Three-way comparison operator'>[expr.<span class='shy'></span>spaceship]</a>),
relational (<a href='#rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>), or equality (<a href='#eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>)
operator where the result is unspecified;</li><li id='const-10.26'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.26'>(10.26)</a></div>a <span id=':dynamic_cast______'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> (<a href='#dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>) or
<span id=':typeid_____________'><span class='texttt'><span class='keyword'>typeid</span></span></span> (<a href='#typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>) expression
on a glvalue that refers to an object
whose dynamic type is constexpr-unknown;</li><li id='const-10.27'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.27'>(10.27)</a></div>a <span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span> (<a href='#dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>) expression,
<span class='texttt'><span class='keyword'>typeid</span></span> (<a href='#typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>) expression, or
<span class='texttt'><span class='keyword'>new</span><span class='operator'>-</span>expression</span> (<a href='#new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>)
that would throw an exception
where no definition of the exception type is reachable;</li><li id='const-10.28'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.28'>(10.28)</a></div>an <a href='dcl.asm#nt:asm-declaration' title='9.11&emsp;The asm declaration&emsp;[dcl.asm]'><span id='ntref:asm-declaration'><span class='textsf'><i >asm-declaration</i></span></span></a> (<a href='dcl.asm' title='9.11&emsp;The asm declaration'>[dcl.<span class='shy'></span>asm]</a>);</li><li id='const-10.29'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.29'>(10.29)</a></div>an invocation of the <span id='lib:va_arg_'><span class='texttt'>va_<span class='shy'></span>arg</span></span> macro (<a href='cstdarg.syn' title='17.14.2&emsp;Header &lt;cstdarg&gt; synopsis'>[cstdarg.<span class='shy'></span>syn]</a>);</li><li id='const-10.30'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.30'>(10.30)</a></div>a non-constant library call (<a href='defns.nonconst.libcall' title='3.35&emsp;non-constant library call'>[defns.<span class='shy'></span>nonconst.<span class='shy'></span>libcall]</a>);
or</li><li id='const-10.31'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-10.31'>(10.31)</a></div>a <span id=':goto'><span class='texttt'><span class='keyword'>goto</span></span></span> statement (<a href='stmt.goto' title='8.7.6&emsp;The goto statement'>[stmt.<span class='shy'></span>goto]</a>)<a class='hidden_link' href='#const-10.sentence-1'>.</a> <div class='texpara'><div id='const-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-5'>5</a></i>:&ensp;<div id='const-10.31.sentence-2' class='sentence'>A <span id=':goto_'><span class='texttt'><span class='keyword'>goto</span></span></span> statement introduced by equivalence (<a href='stmt' title='8&emsp;Statements'>[stmt]</a>)
is not in scope<a class='hidden_link' href='#const-10.31.sentence-2'>.</a></div> <div id='const-10.31.sentence-3' class='sentence'>For example, a <span id=':while'><span class='texttt'><span class='keyword'>while</span></span></span> statement (<a href='stmt.while' title='8.6.2&emsp;The while statement'>[stmt.<span class='shy'></span>while]</a>)
can be executed during constant evaluation<a class='hidden_link' href='#const-10.31.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div><div class='para' id='const-11'><div class='marginalizedparent'><a class='marginalized' href='#const-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8190'>#</a></div><div class='texpara'><div id='const-11.sentence-1' class='sentence'>It is
<a class='index' id=':whether_an_expression_is_a_core_constant_expression'></a>implementation-defined
whether <span class='math'><span class='mathalpha'>E</span></span> is a core constant expression
if <span class='math'><span class='mathalpha'>E</span></span> satisfies the constraints of a core constant expression, but
evaluation of <span class='math'><span class='mathalpha'>E</span></span> has runtime-undefined behavior<a class='hidden_link' href='#const-11.sentence-1'>.</a></div></div></div><div class='para' id='const-12'><div class='marginalizedparent'><a class='marginalized' href='#const-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8197'>#</a></div><div class='texpara'><div id='const-12.sentence-1' class='sentence'>It is unspecified whether <span class='math'><span class='mathalpha'>E</span></span> is a core constant expression
if <span class='math'><span class='mathalpha'>E</span></span> satisfies the constraints of a core constant expression, but
evaluation of <span class='math'><span class='mathalpha'>E</span></span> would evaluate
<ul class='itemize'><li id='const-12.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-12.1'>(12.1)</a></div>an operation that has undefined behavior
as specified in <a href='library' title='16&emsp;Library introduction'>[library]</a> through <a href='exec' title='33&emsp;Execution control library'>[exec]</a> or</li><li id='const-12.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-12.2'>(12.2)</a></div>an invocation of the <span id='lib:va_start'><span class='texttt'>va_<span class='shy'></span>start</span></span> macro (<a href='cstdarg.syn' title='17.14.2&emsp;Header &lt;cstdarg&gt; synopsis'>[cstdarg.<span class='shy'></span>syn]</a>)<a class='hidden_link' href='#const-12.sentence-1'>.</a></li></ul></div></div></div><div class='para nonNormativeOnly' id='const-13'><div class='marginalizedparent'><a class='marginalized' href='#const-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8209'>#</a></div><div class='texpara'><div id='const-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-7'>7</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x;                              <span class='comment'>// not constant</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> A<span class='parenthesis'>(</span><span class='keyword'>bool</span> b<span class='parenthesis'>)</span> <span class='operator'>:</span> m<span class='parenthesis'>(</span>b<span class='operator'>?</span><span class='literal'>42</span><span class='operator'>:</span>x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> v <span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='literal'>true</span><span class='parenthesis'>)</span><span class='operator'>.</span>m;        <span class='comment'>// OK, constructor call initializes <span class='tcode_in_codeblock'>m</span> with the value <span class='tcode_in_codeblock'>42</span></span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> w <span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='literal'>false</span><span class='parenthesis'>)</span><span class='operator'>.</span>m;       <span class='comment'>// error: initializer for <span class='tcode_in_codeblock'>m</span> is <span class='tcode_in_codeblock'>x</span>, which is non-constant</span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>int</span> x <span class='operator'>=</span> k;              <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is not initialized by a constant expression</span>
                                    <span class='comment'>// because lifetime of <span class='tcode_in_codeblock'>k</span> began outside the initializer of <span class='tcode_in_codeblock'>x</span></span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> f2<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x <span class='operator'>=</span> k;                        <span class='comment'>// OK, not required to be a constant expression</span>
                                    <span class='comment'>// because <span class='tcode_in_codeblock'>x</span> is not <span id=':constexpr____'><span class='tcode_in_codeblock'>constexpr</span></span></span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> incr<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>&amp;</span>n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='operator'>+</span><span class='operator'>+</span>n;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>int</span> x <span class='operator'>=</span> incr<span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>incr(k)</span> is not a core constant expression</span>
                                    <span class='comment'>// because lifetime of <span class='tcode_in_codeblock'>k</span> began outside the expression <span class='tcode_in_codeblock'>incr(k)</span></span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x <span class='operator'>=</span> incr<span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>;                  <span class='comment'>// OK, <span class='tcode_in_codeblock'>incr(k)</span> is not required to be a core constant expression</span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> y <span class='operator'>=</span> h<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, initializes <span class='tcode_in_codeblock'>y</span> with the value <span class='tcode_in_codeblock'>2</span></span>
                                    <span class='comment'>// <span class='tcode_in_codeblock'>h(1)</span> is a core constant expression because</span>
                                    <span class='comment'>// the lifetime of <span class='tcode_in_codeblock'>k</span> begins inside <span class='tcode_in_codeblock'>h(1)</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-14'><div class='marginalizedparent'><a class='marginalized' href='#const-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8250'>#</a></div><div class='texpara'><div id='const-14.sentence-1' class='sentence'>For the purposes of determining
whether an expression <span class='math'><span class='mathalpha'>E</span></span> is a core constant expression,
the evaluation of the body of a member function of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>
as defined in <a href='allocator.members' title='20.2.10.2&emsp;Members'>[allocator.<span class='shy'></span>members]</a>, where <span class='texttt'>T</span> is a literal type,
is ignored<a class='hidden_link' href='#const-14.sentence-1'>.</a></div></div></div><div class='para' id='const-15'><div class='marginalizedparent'><a class='marginalized' href='#const-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8257'>#</a></div><div class='texpara'><div id='const-15.sentence-1' class='sentence'>For the purposes of determining whether <span class='math'><span class='mathalpha'>E</span></span> is a core constant expression,
the evaluation of a call to
a trivial copy/move constructor or copy/move assignment operator of a union
is considered to copy/move the active member of the union, if any<a class='hidden_link' href='#const-15.sentence-1'>.</a></div> <div id='const-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-6'>6</a></i>:&ensp;<div id='const-15.sentence-2' class='sentence'>The copy/move of the active member is trivial<a class='hidden_link' href='#const-15.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='const-16'><div class='marginalizedparent'><a class='marginalized' href='#const-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8266'>#</a></div><div class='texpara'><div id='const-16.sentence-1' class='sentence'>For the purposes of determining whether <span class='math'><span class='mathalpha'>E</span></span> is a core constant expression,
the evaluation of an <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___________________________________________'><span class='textsf'><i >id-expression</i></span></span></a>
that names a structured binding <span class='texttt'>v</span> (<a href='dcl.struct.bind' title='9.7&emsp;Structured binding declarations'>[dcl.<span class='shy'></span>struct.<span class='shy'></span>bind]</a>) has the
following semantics:
<ul class='itemize'><li id='const-16.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-16.1'>(16.1)</a></div><div class='texpara'><div id='const-16.1.sentence-1' class='sentence'>If <span class='texttt'>v</span> is an lvalue referring to the object bound to an invented reference <span class='texttt'>r</span>,
the behavior is as if <span class='texttt'>r</span> were nominated<a class='hidden_link' href='#const-16.1.sentence-1'>.</a></div></div></li><li id='const-16.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-16.2'>(16.2)</a></div><div class='texpara'><div id='const-16.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>v</span> names an array element or class member,
the behavior is that of
evaluating <span class='texttt'><span class='math'><span class='mathalpha'>e</span></span><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>i</span></span><span class='squarebracket'>]</span></span> or <span class='texttt'><span class='math'><span class='mathalpha'>e</span></span><span class='operator'>.</span><span class='math'><span class='mathalpha'>m</span></span></span>, respectively,
where <span class='math'><span class='mathalpha'>e</span></span> is the name of the variable
initialized from the initializer of the structured binding declaration, and
<span class='math'><span class='mathalpha'>i</span></span> is the index of the element referred to by <span class='texttt'>v</span> or
<span class='math'><span class='mathalpha'>m</span></span> is the name of the member referred to by <span class='texttt'>v</span>, respectively<a class='hidden_link' href='#const-16.2.sentence-1'>.</a></div></div></li></ul></div> <div id='const-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-8'>8</a></i>:&ensp;<span class='codeblock'><span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>tuple<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>mutable</span> <span class='keyword'>int</span> m;
  <span class='keyword'>constexpr</span> S<span class='parenthesis'>(</span><span class='keyword'>int</span> m<span class='parenthesis'>)</span><span class='operator'>:</span> m<span class='parenthesis'>(</span>m<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
  <span class='keyword'>virtual</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>std<span class='operator'>::</span>tuple<span class='anglebracket'>&lt;</span>S<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span> t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> <span class='squarebracket'>[</span>r<span class='squarebracket'>]</span> <span class='operator'>=</span> t;
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>r<span class='operator'>.</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;            <span class='comment'>// error: dynamic type is constexpr-unknown</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> <span class='squarebracket'>[</span>m<span class='squarebracket'>]</span> <span class='operator'>=</span> S<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>m <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span>;                <span class='comment'>// error: lvalue-to-rvalue conversion on mutable</span>
                                        <span class='comment'>// subobject <span class='tcode_in_codeblock'>e.m</span>, where <span class='tcode_in_codeblock'>e</span> is a constexpr object of type <span class='tcode_in_codeblock'>S</span></span>
  <span class='keyword'>using</span> A <span class='operator'>=</span> <span class='keyword'>int</span><span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span>;
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> <span class='squarebracket'>[</span>v0, v1<span class='squarebracket'>]</span> <span class='operator'>=</span> A<span class='curlybracket'>{</span><span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>v0 <span class='operator'>+</span> v1 <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>5</span><span class='parenthesis'>)</span>;          <span class='comment'>// OK, equivalent to <span class='tcode_in_codeblock'>e[0] + e[1]</span> where <span class='tcode_in_codeblock'>e</span> is a constexpr array</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-17'><div class='marginalizedparent'><a class='marginalized' href='#const-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8305'>#</a></div><div class='texpara'><div id='const-17.sentence-1' class='sentence'>During the evaluation of an expression <span class='math'><span class='mathalpha'>E</span></span> as a core constant expression,
all <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____________________________________________'><span class='textsf'><i >id-expression</i></span></span></a><i >s</i> and uses of <span class='texttt'><span class='operator'>*</span><span id=':this______________________________'><span class='texttt'><span class='keyword'>this</span></span></span></span>
that refer to an object or reference
whose lifetime did not begin with the evaluation of <span class='math'><span class='mathalpha'>E</span></span>
are treated as referring to a specific instance of that object or reference
whose lifetime and that of all subobjects (including all union members)
includes the entire constant evaluation<a class='hidden_link' href='#const-17.sentence-1'>.</a></div> <div id='const-17.sentence-2' class='sentence'>For such an object that is not usable in constant expressions,
the dynamic type of the object is <a class='hidden_link' href='#def:constexpr-unknown' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constexpr-unknown'><i >constexpr-unknown</i></span></a><a class='hidden_link' href='#const-17.sentence-2'>.</a></div> <div id='const-17.sentence-3' class='sentence'>For such a reference that is not usable in constant expressions,
the reference is treated as binding to
an unspecified object of the referenced type
whose lifetime and that of all subobjects includes
the entire constant evaluation and whose dynamic type is constexpr-unknown<a class='hidden_link' href='#const-17.sentence-3'>.</a></div> <div id='const-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-9'>9</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, size_t N<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> size_t array_size<span class='parenthesis'>(</span>T <span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span>N<span class='squarebracket'>]</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> N;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> use_array<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='keyword'>const</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>gold_medal_mel<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> gold <span class='operator'>=</span> array_size<span class='parenthesis'>(</span>gold_medal_mel<span class='parenthesis'>)</span>;     <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>

<span class='keyword'>constexpr</span> <span class='keyword'>auto</span> olympic_mile<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span> ledecky <span class='operator'>=</span> <span class='literal'>1500</span>;
  <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> ledecky; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>olympic_mile<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1500</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK</span>

<span class='keyword'>struct</span> Swim <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>int</span> phelps<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>28</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>virtual</span> <span class='keyword'>constexpr</span> <span class='keyword'>int</span> lochte<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>12</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> coughlin <span class='operator'>=</span> <span class='literal'>12</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> how_many<span class='parenthesis'>(</span>Swim<span class='operator'>&amp;</span> swam<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Swim<span class='operator'>*</span> p <span class='operator'>=</span> <span class='operator'>&amp;</span>swam;
  <span class='keyword'>return</span> <span class='parenthesis'>(</span>p <span class='operator'>+</span> <span class='literal'>1</span> <span class='operator'>-</span> <span class='literal'>1</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>phelps<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> splash<span class='parenthesis'>(</span>Swim<span class='operator'>&amp;</span> swam<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>swam<span class='operator'>.</span>phelps<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>28</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK</span>
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>swam<span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>phelps<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>28</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK</span>

  Swim<span class='operator'>*</span> pswam <span class='operator'>=</span> <span class='operator'>&amp;</span>swam;
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>pswam<span class='operator'>-</span><span class='anglebracket'>&gt;</span>phelps<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>28</span><span class='parenthesis'>)</span>;         <span class='comment'>// error: lvalue-to-rvalue conversion on a pointer</span>
                                                <span class='comment'>// not usable in constant expressions</span>

  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>how_many<span class='parenthesis'>(</span>swam<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>28</span><span class='parenthesis'>)</span>;          <span class='comment'>// OK</span>
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>Swim<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>lochte<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>12</span><span class='parenthesis'>)</span>;         <span class='comment'>// OK</span>

  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>swam<span class='operator'>.</span>lochte<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>12</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: invoking virtual function on reference</span>
                                                <span class='comment'>// with constexpr-unknown dynamic type</span>

  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>swam<span class='operator'>.</span>coughlin <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>12</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: lvalue-to-rvalue conversion on an object</span>
                                                <span class='comment'>// not usable in constant expressions</span>
<span class='curlybracket'>}</span>

<span class='keyword'>extern</span> Swim dc;
<span class='keyword'>extern</span> Swim<span class='operator'>&amp;</span> trident;

<span class='keyword'>constexpr</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span> sandeno   <span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span>dc<span class='parenthesis'>)</span>;         <span class='comment'>// OK, can only be <span class='tcode_in_codeblock'>typeid(Swim)</span></span>
<span class='keyword'>constexpr</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span> gallagher <span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span>trident<span class='parenthesis'>)</span>;    <span class='comment'>// error: constexpr-unknown dynamic type</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-18'><div class='marginalizedparent'><a class='marginalized' href='#const-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8374'>#</a></div><div class='texpara'><div id='const-18.sentence-1' class='sentence'>An object <span class='texttt'>a</span> is said to have <a class='hidden_link' href='#def:destruction,constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:destruction,constant'><i >constant destruction</i></span></a> if
<ul class='itemize'><li id='const-18.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-18.1'>(18.1)</a></div>it is not of class type nor (possibly multidimensional) array thereof, or</li><li id='const-18.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-18.2'>(18.2)</a></div>it is of class type or (possibly multidimensional) array thereof,
  that class type has a constexpr destructor (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>), and
  for a hypothetical expression <span class='math'><span class='mathalpha'>E</span></span>
  whose only effect is to destroy <span class='texttt'>a</span>,
  <span class='math'><span class='mathalpha'>E</span></span> would be a core constant expression
  if the lifetime of <span class='texttt'>a</span> and its non-mutable subobjects
  (but not its mutable subobjects) were considered to start within <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#const-18.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='const-19'><div class='marginalizedparent'><a class='marginalized' href='#const-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8389'>#</a></div><div class='texpara'><div id='const-19.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:expression,integral_constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,integral_constant'><i >integral constant expression</i></span></a>
is an expression of integral or
unscoped enumeration type, implicitly converted to a prvalue, where the converted expression is a core constant expression<a class='hidden_link' href='#const-19.sentence-1'>.</a></div> <div id='const-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-7'>7</a></i>:&ensp;<div id='const-19.sentence-2' class='sentence'>Such expressions can be
used as bit-field lengths (<a href='class.bit' title='11.4.10&emsp;Bit-fields'>[class.<span class='shy'></span>bit]</a>), as enumerator
initializers if the underlying type is not fixed (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),
and as <a href='dcl.align' title='9.13.2&emsp;Alignment specifier&emsp;[dcl.align]'>alignments</a><a class='hidden_link' href='#const-19.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='const-20'><div class='marginalizedparent'><a class='marginalized' href='#const-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8400'>#</a></div><div class='texpara'><div id='const-20.sentence-1' class='sentence'>If an expression of literal class type is used in a context where an
integral constant expression is required, then that expression is
contextually implicitly converted (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>) to an integral or unscoped
enumeration type
and the selected conversion function shall be <span id=':constexpr_____'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#const-20.sentence-1'>.</a></div> <div id='const-example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-10'>10</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> A<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='operator'>:</span> val<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> val; <span class='curlybracket'>}</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>operator</span> <span class='keyword'>long</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span>
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> val;
<span class='curlybracket'>}</span>;
<span class='keyword'>constexpr</span> A a <span class='operator'>=</span> <span class='keyword'>alignof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>alignas</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='keyword'>int</span> n;               <span class='comment'>// error: ambiguous conversion</span>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>int</span> n <span class='operator'>:</span> a; <span class='curlybracket'>}</span>;        <span class='comment'>// error: ambiguous conversion</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-21'><div class='marginalizedparent'><a class='marginalized' href='#const-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8421'>#</a></div><div class='texpara'><div id='const-21.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:expression,converted_constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,converted_constant'><i >converted constant expression</i></span></a>
of type <span class='texttt'>T</span> is an
expression, implicitly converted to type <span class='texttt'>T</span>, where
the converted expression is a constant expression and the
implicit conversion sequence contains only
<ul class='itemize'><li id='const-21.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.1'>(21.1)</a></div>user-defined conversions,</li><li id='const-21.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.2'>(21.2)</a></div>lvalue-to-rvalue conversions (<a href='#conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>),</li><li id='const-21.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.3'>(21.3)</a></div>array-to-pointer conversions (<a href='#conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>),</li><li id='const-21.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.4'>(21.4)</a></div>function-to-pointer conversions (<a href='#conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>),</li><li id='const-21.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.5'>(21.5)</a></div>qualification conversions (<a href='#conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>),</li><li id='const-21.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.6'>(21.6)</a></div>integral promotions (<a href='#conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>),</li><li id='const-21.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.7'>(21.7)</a></div>integral conversions (<a href='#conv.integral' title='7.3.9&emsp;Integral conversions'>[conv.<span class='shy'></span>integral]</a>) other than narrowing conversions (<a href='dcl.init.list' title='9.5.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>),</li><li id='const-21.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.8'>(21.8)</a></div>floating-point promotions (<a href='#conv.fpprom' title='7.3.8&emsp;Floating-point promotion'>[conv.<span class='shy'></span>fpprom]</a>),</li><li id='const-21.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.9'>(21.9)</a></div>floating-point conversions (<a href='#conv.double' title='7.3.10&emsp;Floating-point conversions'>[conv.<span class='shy'></span>double]</a>) where
  the source value can be represented exactly in the destination type,</li><li id='const-21.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.10'>(21.10)</a></div>null pointer conversions (<a href='#conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>) from <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>,</li><li id='const-21.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.11'>(21.11)</a></div>null member pointer conversions (<a href='#conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>) from <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>, and</li><li id='const-21.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-21.12'>(21.12)</a></div>function pointer conversions (<a href='#conv.fctptr' title='7.3.14&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>),</li></ul>
and where the reference binding (if any) binds directly<a class='hidden_link' href='#const-21.sentence-1'>.</a></div> <div id='const-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-8'>8</a></i>:&ensp;<div id='const-21.sentence-2' class='sentence'>Such expressions can be used in <span id=':new____________'><span class='texttt'><span class='keyword'>new</span></span></span>
expressions (<a href='#new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>), as case expressions (<a href='stmt.switch' title='8.5.3&emsp;The switch statement'>[stmt.<span class='shy'></span>switch]</a>),
as enumerator initializers if the underlying type is
fixed (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>), as array bounds (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>), and
as constant template
arguments (<a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a>)<a class='hidden_link' href='#const-21.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='const-21.sentence-3' class='sentence'><a class='index' id=':conversion,contextual_to_constant_expression_of_type_bool'></a>A <a class='hidden_link' href='#def:contextually_converted_constant_expression_of_type_bool' id='def:contextually_converted_constant_expression_of_type_bool'><i>contextually converted constant expression of type <span class='texttt'><span class='keyword'>bool</span></span></i></a> is
an expression, contextually converted to <span id=':bool___________________________'><span class='texttt'><span class='keyword'>bool</span></span></span> (<a href='#conv' title='7.3&emsp;Standard conversions'>[conv]</a>),
where the converted expression is a constant expression and
the conversion sequence contains only the conversions above<a class='hidden_link' href='#const-21.sentence-3'>.</a></div></div></div><div class='para' id='const-22'><div class='marginalizedparent'><a class='marginalized' href='#const-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8458'>#</a></div><div class='texpara'><div id='const-22.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:expression,constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,constant_'><i >constant expression</i></span></a> is either
a glvalue core constant expression that refers to
an object or a non-immediate function, or
a prvalue core constant expression whose result object (<a href='#basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a>)
satisfies the following constraints:
<ul class='itemize'><li id='const-22.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-22.1'>(22.1)</a></div>each constituent reference refers to an object or a non-immediate function,</li><li id='const-22.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-22.2'>(22.2)</a></div>no constituent value of scalar type is an indeterminate or erroneous value (<a href='basic.indet' title='6.7.5&emsp;Indeterminate and erroneous values'>[basic.<span class='shy'></span>indet]</a>),</li><li id='const-22.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-22.3'>(22.3)</a></div>no constituent value of pointer type is a pointer to an immediate function or
an invalid pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>), and</li><li id='const-22.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-22.4'>(22.4)</a></div>no constituent value of pointer-to-member type designates an immediate function<a class='hidden_link' href='#const-22.sentence-1'>.</a></li></ul></div> <div id='const-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-9'>9</a></i>:&ensp;<div id='const-22.sentence-2' class='sentence'>A glvalue core constant expression
that either refers to or points to an unspecified object
is not a constant expression<a class='hidden_link' href='#const-22.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='const-example-11' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-11'>11</a></i>:&ensp;<span class='codeblock'><span class='keyword'>consteval</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span>
<span class='keyword'>consteval</span> <span class='keyword'>auto</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> f; <span class='curlybracket'>}</span>
<span class='keyword'>consteval</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> p<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> r <span class='operator'>=</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                          <span class='comment'>// OK</span>
<span class='keyword'>constexpr</span> <span class='keyword'>auto</span> e <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                         <span class='comment'>// error: a pointer to an immediate function is</span>
                                                <span class='comment'>// not a permitted result of a constant expression</span>

<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>constexpr</span> S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> i<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> S s;                                <span class='comment'>// error: <span class='tcode_in_codeblock'>s.x</span> has erroneous value</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-23'><div class='marginalizedparent'><a class='marginalized' href='#const-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8499'>#</a></div><div class='texpara'><div id='const-23.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should provide consistent results of floating-point evaluations,
irrespective of whether the evaluation is performed
during translation or during program execution<a class='hidden_link' href='#const-23.sentence-1'>.</a></div> <div id='const-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-10'>10</a></i>:&ensp;<div id='const-23.sentence-2' class='sentence'>Since this document
imposes no restrictions on the accuracy of floating-point operations, it is unspecified whether the
evaluation of a floating-point expression during translation yields the same result as the
evaluation of the same expression (or the same operations on the same values) during program
execution<a class='hidden_link' href='#const-23.sentence-2'>.</a></div> <div id='const-example-12' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-12'>12</a></i>:&ensp;<span class='codeblock'><span class='keyword'>bool</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>char</span> array<span class='squarebracket'>[</span><span class='literal'>1</span> <span class='operator'>+</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='literal'>1</span> <span class='operator'>+</span> <span class='literal'>0.2</span> <span class='operator'>-</span> <span class='literal'>0.1</span> <span class='operator'>-</span> <span class='literal'>0.1</span><span class='parenthesis'>)</span><span class='squarebracket'>]</span>;   <span class='comment'>// Must be evaluated during translation</span>
    <span class='keyword'>int</span> size <span class='operator'>=</span> <span class='literal'>1</span> <span class='operator'>+</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='literal'>1</span> <span class='operator'>+</span> <span class='literal'>0.2</span> <span class='operator'>-</span> <span class='literal'>0.1</span> <span class='operator'>-</span> <span class='literal'>0.1</span><span class='parenthesis'>)</span>;    <span class='comment'>// May be evaluated at runtime</span>
    <span class='keyword'>return</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>array<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> size;
<span class='curlybracket'>}</span>
</span> <div id='const-23.sentence-3' class='sentence'>
It is unspecified whether the value of <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> will be <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#const-23.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='const-24'><div class='marginalizedparent'><a class='marginalized' href='#const-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8522'>#</a></div><div class='texpara'><div id='const-24.sentence-1' class='sentence'>An expression or conversion is in an <a class='hidden_link' href='#def:immediate_function_context' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:immediate_function_context'><i >immediate function context</i></span></a>
if it is potentially evaluated and either:
<ul class='itemize'><li id='const-24.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-24.1'>(24.1)</a></div>its innermost enclosing non-block scope is
a function parameter scope of an immediate function,</li><li id='const-24.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-24.2'>(24.2)</a></div>it is a subexpression of a manifestly constant-evaluated expression
or conversion, or</li><li id='const-24.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-24.3'>(24.3)</a></div>its enclosing statement is enclosed (<a href='stmt.pre' title='8.1&emsp;Preamble'>[stmt.<span class='shy'></span>pre]</a>) by
the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement________'><span class='textsf'><i >compound-statement</i></span></span></a> of a consteval if statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>)<a class='hidden_link' href='#const-24.sentence-1'>.</a></li></ul></div> <div id='const-24.sentence-2' class='sentence'>
An invocation is an <a class='hidden_link' href='#def:immediate_invocation' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:immediate_invocation'><i >immediate invocation</i></span></a>
if it is a potentially-evaluated explicit or implicit invocation of
an immediate function and
is not in an immediate function context<a class='hidden_link' href='#const-24.sentence-2'>.</a></div> <div id='const-24.sentence-3' class='sentence'>An aggregate initialization is an immediate invocation
if it evaluates a default member initializer
that has a subexpression that is an immediate-escalating expression<a class='hidden_link' href='#const-24.sentence-3'>.</a></div></div></div><div class='para' id='const-25'><div class='marginalizedparent'><a class='marginalized' href='#const-25'>25</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8544'>#</a></div><div class='texpara'><div id='const-25.sentence-1' class='sentence'><a class='index' id='def:expression,immediate-escalating'></a><a class='index' id='def:conversion,immediate-escalating'></a><a class='index' id='def:immediate-escalating,expression|seeexpression,_immediate-escalating'></a><a class='index' id='def:immediate-escalating,conversion|seeconversion,_immediate-escalating'></a>An expression or conversion is <a class='hidden_link' href='#def:immediate-escalating' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:immediate-escalating'><i >immediate-escalating</i></span></a>
if it is not initially in an immediate function context
and it is either
<ul class='itemize'><li id='const-25.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-25.1'>(25.1)</a></div>a potentially-evaluated <a href='#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____________________________________________'><span class='textsf'><i >id-expression</i></span></span></a>
that denotes an immediate function
that is not a subexpression of an immediate invocation, or</li><li id='const-25.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-25.2'>(25.2)</a></div>an immediate invocation that is not a constant expression
and is not a subexpression of an immediate invocation<a class='hidden_link' href='#const-25.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='const-26'><div class='marginalizedparent'><a class='marginalized' href='#const-26'>26</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8562'>#</a></div><div class='texpara'><div id='const-26.sentence-1' class='sentence'><a class='index' id='def:immediate-escalating,function|seefunction,_immediate-escalating'></a>An <a class='hidden_link' href='#def:function,immediate-escalating' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:function,immediate-escalating'><i >immediate-escalating</i></span></a> function is
<ul class='itemize'><li id='const-26.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-26.1'>(26.1)</a></div>the call operator of a lambda that is not declared
with the <span id=':consteval____'><span class='texttt'><span class='keyword'>consteval</span></span></span> specifier,</li><li id='const-26.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-26.2'>(26.2)</a></div>a defaulted special member function
that is not declared with the <span id=':consteval_____'><span class='texttt'><span class='keyword'>consteval</span></span></span> specifier, or</li><li id='const-26.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-26.3'>(26.3)</a></div>a function that results from the instantiation
of a templated entity defined with the <span id=':constexpr______'><span class='texttt'><span class='keyword'>constexpr</span></span></span> specifier<a class='hidden_link' href='#const-26.sentence-1'>.</a></li></ul></div> <div id='const-26.sentence-2' class='sentence'>
An immediate-escalating expression shall appear only
in an immediate-escalating function<a class='hidden_link' href='#const-26.sentence-2'>.</a></div></div></div><div class='para' id='const-27'><div class='marginalizedparent'><a class='marginalized' href='#const-27'>27</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8579'>#</a></div><div class='texpara'><div id='const-27.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:function,immediate' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:function,immediate'><i >immediate function</i></span></a> is a function or constructor that is
<ul class='itemize'><li id='const-27.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-27.1'>(27.1)</a></div>declared with the <span id=':consteval______'><span class='texttt'><span class='keyword'>consteval</span></span></span> specifier, or</li><li id='const-27.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-27.2'>(27.2)</a></div>an immediate-escalating function <span class='texttt'><i >F</i></span>
whose function body contains an immediate-escalating expression <span class='texttt'><i >E</i></span>
such that <span class='texttt'><i >E</i></span>'s innermost enclosing non-block scope
is <span class='texttt'><i >F</i></span>'s function parameter scope<a class='hidden_link' href='#const-27.sentence-1'>.</a> <div class='texpara'><div id='const-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-11'>11</a></i>:&ensp;<div id='const-27.2.sentence-2' class='sentence'>Default member initializers used to initialize
a base or member subobject (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)
are considered to be part of the function body (<a href='dcl.fct.def.general' title='9.6.1&emsp;General'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#const-27.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='const-example-13' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-13'>13</a></i>:&ensp;<span class='codeblock'><span class='keyword'>consteval</span> <span class='keyword'>int</span> id<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>char</span> id<span class='parenthesis'>(</span><span class='keyword'>char</span> c<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> c; <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> t <span class='operator'>+</span> id<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>auto</span> a <span class='operator'>=</span> <span class='operator'>&amp;</span>f<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>f&lt;char&gt;</span> is not an immediate function</span>
<span class='keyword'>auto</span> b <span class='operator'>=</span> <span class='operator'>&amp;</span>f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>;               <span class='comment'>// error: <span class='tcode_in_codeblock'>f&lt;int&gt;</span> is an immediate function</span>

<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>6</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>          <span class='comment'>// <span class='tcode_in_codeblock'>g&lt;int&gt;</span> is not an immediate function</span>
  <span class='keyword'>return</span> t <span class='operator'>+</span> id<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// because <span class='tcode_in_codeblock'>id(42)</span> is already a constant</span>
<span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> is_not<span class='parenthesis'>(</span>T t, F f<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> not f<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>consteval</span> <span class='keyword'>bool</span> is_even<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i <span class='operator'>%</span> <span class='literal'>2</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>

<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>is_not<span class='parenthesis'>(</span><span class='literal'>5</span>, is_even<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;      <span class='comment'>// OK</span>

<span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>0</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> T h<span class='parenthesis'>(</span>T t <span class='operator'>=</span> id<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>    <span class='comment'>// <span class='tcode_in_codeblock'>h&lt;int&gt;</span> is not an immediate function</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>id(x)</span> is not evaluated when parsing the default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>, <a href='temp.inst' title='13.9.2&emsp;Implicit instantiation'>[temp.<span class='shy'></span>inst]</a>)</span>
    <span class='keyword'>return</span> t;
<span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> T hh<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>              <span class='comment'>// <span class='tcode_in_codeblock'>hh&lt;int&gt;</span> is an immediate function because of the invocation</span>
  <span class='keyword'>return</span> h<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// of the immediate function <span class='tcode_in_codeblock'>id</span> in the default argument of <span class='tcode_in_codeblock'>h&lt;int&gt;</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> i <span class='operator'>=</span> hh<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// error: <span class='tcode_in_codeblock'>hh&lt;int&gt;()</span> is an immediate-escalating expression</span>
                                <span class='comment'>// outside of an immediate-escalating function</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>int</span> y <span class='operator'>=</span> id<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> k<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>          <span class='comment'>// <span class='tcode_in_codeblock'>k&lt;int&gt;</span> is not an immediate function because <span class='tcode_in_codeblock'>A(42)</span> is a</span>
  <span class='keyword'>return</span> A<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span><span class='operator'>.</span>y;               <span class='comment'>// constant expression and thus not immediate-escalating</span>
<span class='curlybracket'>}</span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> l<span class='parenthesis'>(</span><span class='keyword'>int</span> c<span class='parenthesis'>)</span> pre<span class='parenthesis'>(</span>c <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='literal'>2</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='parenthesis'>(</span>c <span class='operator'>%</span> <span class='literal'>2</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='operator'>?</span> c <span class='operator'>/</span> <span class='literal'>0</span> <span class='operator'>:</span> c;
<span class='curlybracket'>}</span>

<span class='keyword'>const</span> <span class='keyword'>int</span> i0 <span class='operator'>=</span> l<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;    <span class='comment'>// dynamic initialization; contract violation or undefined behavior</span>
<span class='keyword'>const</span> <span class='keyword'>int</span> i1 <span class='operator'>=</span> l<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;    <span class='comment'>// static initialization; value of <span class='tcode_in_codeblock'>1</span> or contract violation at compile time</span>
<span class='keyword'>const</span> <span class='keyword'>int</span> i2 <span class='operator'>=</span> l<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span>;    <span class='comment'>// dynamic initialization; undefined behavior</span>
<span class='keyword'>const</span> <span class='keyword'>int</span> i3 <span class='operator'>=</span> l<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;    <span class='comment'>// static initialization; value of <span class='tcode_in_codeblock'>3</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='const-28'><div class='marginalizedparent'><a class='marginalized' href='#const-28'>28</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8662'>#</a></div><div class='texpara'><div id='const-28.sentence-1' class='sentence'>An expression or conversion is <a class='hidden_link' href='#def:manifestly_constant-evaluated' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:manifestly_constant-evaluated'><i >manifestly constant-evaluated</i></span></a>
if it is:
<ul class='itemize'><li id='const-28.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-28.1'>(28.1)</a></div>a <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression______'><span class='textsf'><i >constant-expression</i></span></span></a>, or</li><li id='const-28.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-28.2'>(28.2)</a></div>the condition of a constexpr if statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>), or</li><li id='const-28.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-28.3'>(28.3)</a></div>an immediate invocation, or</li><li id='const-28.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-28.4'>(28.4)</a></div>the result of substitution into an atomic constraint expression
to determine whether it is satisfied (<a href='temp.constr.atomic' title='13.5.2.3&emsp;Atomic constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>atomic]</a>), or</li><li id='const-28.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-28.5'>(28.5)</a></div>the initializer of a variable
that is usable in constant expressions or
has constant initialization (<a href='basic.start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#const-28.sentence-1'>.</a><a class='footnoteref' href='#footnote-69' id='footnoteref-69' title='Testing this condition can involve a trial evaluation of its initializer, with evaluations of contract assertions using the ignore evaluation semantic ([basic.contract.eval]), as described above.'>69</a> <div class='texpara'><div id='const-example-14' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#const-example-14'>14</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
X<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> x;                      <span class='comment'>// type <span class='tcode_in_codeblock'>X&lt;true&gt;</span></span>
<span class='keyword'>int</span> y;
<span class='keyword'>const</span> <span class='keyword'>int</span> a <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> y <span class='operator'>:</span> <span class='literal'>1</span>;     <span class='comment'>// dynamic initialization to 1</span>
<span class='keyword'>double</span> z<span class='squarebracket'>[</span>a<span class='squarebracket'>]</span>;                                            <span class='comment'>// error: <span class='tcode_in_codeblock'>a</span> is not usable</span>
                                                        <span class='comment'>// in constant expressions</span>
<span class='keyword'>const</span> <span class='keyword'>int</span> b <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>2</span> <span class='operator'>:</span> y;     <span class='comment'>// static initialization to 2</span>
<span class='keyword'>int</span> c <span class='operator'>=</span> y <span class='operator'>+</span> <span class='parenthesis'>(</span>std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>2</span> <span class='operator'>:</span> y<span class='parenthesis'>)</span>;     <span class='comment'>// dynamic initialization to <span class='tcode_in_codeblock'>y+y</span></span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span> n <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>13</span> <span class='operator'>:</span> <span class='literal'>17</span>; <span class='comment'>// <span class='tcode_in_codeblock'>n</span> is 13</span>
  <span class='keyword'>int</span> m <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>13</span> <span class='operator'>:</span> <span class='literal'>17</span>;       <span class='comment'>// <span class='tcode_in_codeblock'>m</span> can be 13 or 17 (see below)</span>
  <span class='keyword'>char</span> arr<span class='squarebracket'>[</span>n<span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>; <span class='comment'>// char[13]</span>
  <span class='keyword'>return</span> m <span class='operator'>+</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>arr<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>int</span> p <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                            <span class='comment'>// <span class='tcode_in_codeblock'>m</span> is 13; initialized to 26</span>
<span class='keyword'>int</span> q <span class='operator'>=</span> p <span class='operator'>+</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                        <span class='comment'>// <span class='tcode_in_codeblock'>m</span> is 17 for this call; initialized to 56</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div> <div id='const-note-12' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#const-note-12'>12</a></i>:&ensp;<div id='const-28.sentence-2' class='sentence'>Except for a <a href='dcl.pre#nt:static_assert-message' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-message'><span class='textsf'><i >static_assert-message</i></span></span></a>,
a manifestly constant-evaluated expression
is evaluated even in an unevaluated operand (<a href='#context#term.unevaluated.operand' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)<a class='hidden_link' href='#const-28.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='const-29'><div class='marginalizedparent'><a class='marginalized' href='#const-29'>29</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3bce8f7f15164dc455240e53acce596eeba97d45/source/expressions.tex#L8709'>#</a></div><div class='texpara'><div id='const-29.sentence-1' class='sentence'><a class='index' id=':expression,potentially_constant_evaluated'></a>An expression or conversion is <a class='hidden_link' href='#def:potentially_constant_evaluated' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:potentially_constant_evaluated'><i >potentially constant evaluated</i></span></a>
if it is:
<ul class='itemize'><li id='const-29.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-29.1'>(29.1)</a></div>a manifestly constant-evaluated expression,</li><li id='const-29.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-29.2'>(29.2)</a></div>a <a href='basic.def.odr#def:potentially_evaluated' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>potentially-evaluated</a> expression,</li><li id='const-29.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-29.3'>(29.3)</a></div>an immediate subexpression of a <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__________'><span class='textsf'><i >braced-init-list</i></span></span></a>,<a class='footnoteref' href='#footnote-70' id='footnoteref-70' title='In some cases, constant evaluation is needed to determine whether a narrowing conversion is performed ([dcl.init.list]).'>70</a></li><li id='const-29.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-29.4'>(29.4)</a></div>an expression of the form <span class='texttt'><span class='operator'>&amp;</span></span> <a href='#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression___________________'><span class='textsf'><i >cast-expression</i></span></span></a>
that occurs within a templated entity,<a class='footnoteref' href='#footnote-71' id='footnoteref-71' title='In some cases, constant evaluation is needed to determine whether such an expression is value-dependent ([temp.dep.constexpr]).'>71</a>
or</li><li id='const-29.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-29.5'>(29.5)</a></div>a potentially-evaluated subexpression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>) of one of the above<a class='hidden_link' href='#const-29.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='const-29.sentence-2' class='sentence'><a class='index' id=':function,needed_for_constant_evaluation'></a><a class='index' id=':variable,needed_for_constant_evaluation'></a>A function or variable is
<a class='hidden_link' href='#def:needed_for_constant_evaluation' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:needed_for_constant_evaluation'><i >needed for constant evaluation</i></span></a>
if it is:
<ul class='itemize'><li id='const-29.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-29.6'>(29.6)</a></div>a constexpr function that
<a href='basic.def.odr#def:function,named_by_expression_or_conversion' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>is named by</a>
an expression
that is potentially constant evaluated, or</li><li id='const-29.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#const-29.7'>(29.7)</a></div>a potentially-constant variable named by a potentially constant evaluated expression<a class='hidden_link' href='#const-29.sentence-2'>.</a></li></ul></div></div><div class='texpara'></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-67'><div class='texpara'><a class='footnotenum' href='#footnote-67'>67)</a><a class='footnoteBacklink' href='#footnoteref-67'>67)</a> <div id='footnote-67.sentence-1' class='sentence'>Overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)
is applied as usual<a class='hidden_link' href='#footnote-67.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-68'><div class='texpara'><a class='footnotenum' href='#footnote-68'>68)</a><a class='footnoteBacklink' href='#footnoteref-68'>68)</a> <div id='footnote-68.sentence-1' class='sentence'>This includes,
for example, signed integer overflow (<a href='#pre' title='7.1&emsp;Preamble'>[expr.<span class='shy'></span>pre]</a>), certain
pointer arithmetic (<a href='#add' title='7.6.6&emsp;Additive operators'>[expr.<span class='shy'></span>add]</a>), division by
zero (<a href='#mul' title='7.6.5&emsp;Multiplicative operators'>[expr.<span class='shy'></span>mul]</a>), or certain shift operations (<a href='#shift' title='7.6.7&emsp;Shift operators'>[expr.<span class='shy'></span>shift]</a>)<a class='hidden_link' href='#footnote-68.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-69'><div class='texpara'><a class='footnotenum' href='#footnote-69'>69)</a><a class='footnoteBacklink' href='#footnoteref-69'>69)</a> <div id='footnote-69.sentence-1' class='sentence'>Testing this condition
can involve a trial evaluation of its initializer,
with evaluations of contract assertions
using the ignore evaluation semantic (<a href='basic.contract.eval' title='6.10.2&emsp;Evaluation'>[basic.<span class='shy'></span>contract.<span class='shy'></span>eval]</a>),
as described above<a class='hidden_link' href='#footnote-69.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-70'><div class='texpara'><a class='footnotenum' href='#footnote-70'>70)</a><a class='footnoteBacklink' href='#footnoteref-70'>70)</a> <div id='footnote-70.sentence-1' class='sentence'>In some cases, constant evaluation is needed to determine whether a narrowing conversion is performed (<a href='dcl.init.list' title='9.5.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#footnote-70.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-71'><div class='texpara'><a class='footnotenum' href='#footnote-71'>71)</a><a class='footnoteBacklink' href='#footnoteref-71'>71)</a> <div id='footnote-71.sentence-1' class='sentence'>In some cases, constant evaluation is needed to determine whether such an expression is value-dependent (<a href='temp.dep.constexpr' title='13.8.3.4&emsp;Value-dependent expressions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#footnote-71.sentence-1'>.</a></div></div></div></div></div></body></html>