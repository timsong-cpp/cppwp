<!DOCTYPE html><html lang='en'><head><title>[class.compare]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>15</a> Special member functions <a class='abbr_ref' href='./#special'>[special]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>15.9</a> Comparisons <a class='abbr_ref'>[class.compare]</a></h2><div id='default' class='section'><h3 ><a class='secnum' href='#default' style='min-width:103pt'>15.9.1</a> Defaulted comparison operator functions <a class='abbr_ref' href='class.compare.default'>[class.compare.default]</a></h3><div class='para' id='default-1'><div class='marginalizedparent'><a class='marginalized' href='#default-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3321'>#</a></div><div id='default-1.sentence-1' class='sentence'>A defaulted comparison operator function (<a href='expr.spaceship'>[expr.spaceship]</a>, <a href='expr.rel'>[expr.rel]</a>, <a href='expr.eq'>[expr.eq]</a>)
for some class <span class='texttt'>C</span>
shall be a non-template function
declared in the <i ><a href='class.mem#nt:member-specification'>member-specification</a></i> of <span class='texttt'>C</span>
that is
<ul class='itemize'><li id='default-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#default-1.1'>(1.1)</a></div><div id='default-1.1.sentence-1' class='sentence'>a non-static member of <span class='texttt'>C</span> having one parameter of type <span class='texttt'>const C&amp;</span>, or</div></li><li id='default-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#default-1.2'>(1.2)</a></div><div id='default-1.2.sentence-1' class='sentence'>a friend of <span class='texttt'>C</span> having two parameters of type <span class='texttt'>const C&amp;</span><a class='hidden_link' href='#default-1.2.sentence-1'>.</a></div></li></ul></div></div></div><div id='class.spaceship' class='section'><h3 ><a class='secnum' href='#class.spaceship' style='min-width:103pt'>15.9.2</a> Three-way comparison <a class='abbr_ref' href='class.spaceship'>[class.spaceship]</a></h3><span class='indexparent'><a class='index' id=':operator,three-way_comparison,defaulted'></a></span><div class='para' id='class.spaceship-1'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3335'>#</a></div><div id='class.spaceship-1.sentence-1' class='sentence'>The direct base class subobjects of <span class='texttt'>C</span>,
in the order of their declaration in the <i ><a href='class.derived#nt:base-specifier-list'>base-specifier-list</a></i> of <span class='texttt'>C</span>,
followed by the non-static data members of <span class='texttt'>C</span>,
in the order of their declaration in the <i ><a href='class.mem#nt:member-specification'>member-specification</a></i> of <span class='texttt'>C</span>,
form a list of subobjects<a class='hidden_link' href='#class.spaceship-1.sentence-1'>.</a></div> <div id='class.spaceship-1.sentence-2' class='sentence'>In that list, any subobject of array type is recursively expanded
to the sequence of its elements, in the order of increasing subscript<a class='hidden_link' href='#class.spaceship-1.sentence-2'>.</a></div> <div id='class.spaceship-1.sentence-3' class='sentence'>Let <span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be an lvalue denoting the <span class="mjx-chtml"><span class="mjx-math" aria-label="i^\textrm{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span></span></span> element
in the expanded list of subobjects for an object <span class='texttt'>x</span>
(of length <span class='math'><span class='mathalpha'>n</span></span>),
where <span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is
formed by a sequence of
derived-to-base conversions (<a href='over.best.ics'>[over.best.ics]</a>),
<a href='expr.ref'>class member access expressions</a>, and
<a href='expr.sub'>array subscript</a> expressions applied to <span class='texttt'>x</span><a class='hidden_link' href='#class.spaceship-1.sentence-3'>.</a></div> <div id='class.spaceship-1.sentence-4' class='sentence'>The type of the expression <span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> <span class='texttt'>&lt;=&gt;</span> <span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is denoted by <span class='texttt'>R</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#class.spaceship-1.sentence-4'>.</a></div> <div id='class.spaceship-1.sentence-5' class='sentence'>It is unspecified
whether virtual base class subobjects are compared more than once<a class='hidden_link' href='#class.spaceship-1.sentence-5'>.</a></div></div><div class='para' id='class.spaceship-2'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3356'>#</a></div><div id='class.spaceship-2.sentence-1' class='sentence'>If the declared return type
of a defaulted three-way comparison operator function
is <span class='texttt'>auto</span>,
then the return type is deduced as
the common comparison type (see below) of
<span class='texttt'>R</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class='texttt'>R</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>⋯</span>, <span class='texttt'>R</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_{n-1}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#class.spaceship-2.sentence-1'>.</a></div> <div id='class.spaceship-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.spaceship-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.spaceship-2.sentence-3' class='sentence'>Otherwise,
the program will be ill-formed
if the expression <span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> <span class='texttt'>&lt;=&gt;</span> <span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is not implicitly convertible to the declared return type for any <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#class.spaceship-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='class.spaceship-2.sentence-2' class='sentence'>
If the return type is deduced as <span class='texttt'>void</span>,
the operator function is defined as deleted<a class='hidden_link' href='#class.spaceship-2.sentence-2'>.</a></div></div><div class='para' id='class.spaceship-3'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3372'>#</a></div><div id='class.spaceship-3.sentence-1' class='sentence'>The return value <span class='texttt'>V</span> of type <span class='texttt'>R</span>
of the defaulted three-way comparison operator function
with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span> of the same type
is determined by comparing corresponding elements
<span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class='texttt'>y</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
in the expanded lists of subobjects for <span class='texttt'>x</span> and <span class='texttt'>y</span>
until the first index <span class='math'><span class='mathalpha'>i</span></span>
where <span class='texttt'>x</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> <span class='texttt'>&lt;=&gt;</span> <span class='texttt'>y</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
yields a result value <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> where <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='texttt'> != 0</span>,
contextually converted to <span class='texttt'>bool</span>, yields <span class='texttt'>true</span>;
<span class='texttt'>V</span> is <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> converted to <span class='texttt'>R</span><a class='hidden_link' href='#class.spaceship-3.sentence-1'>.</a></div> <div id='class.spaceship-3.sentence-2' class='sentence'>If no such index exists, <span class='texttt'>V</span> is
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering&#x200b;::&#x200b;equal</span> converted to <span class='texttt'>R</span><a class='hidden_link' href='#class.spaceship-3.sentence-2'>.</a></div></div><div class='para' id='class.spaceship-4'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3387'>#</a></div><div id='class.spaceship-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:common_comparison_type' id='def:common_comparison_type'><i >common comparison type</i></a> <span class='texttt'>U</span>
of a possibly-empty list of <span class='math'><span class='mathalpha'>n</span></span> types
<span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>⋯</span>, <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_{n-1}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>
is defined as follows:</div><div id='class.spaceship-4.sentence-2' class='sentence'><ul class='itemize'><li id='class.spaceship-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.1'>(4.1)</a></div><div id='class.spaceship-4.1.sentence-1' class='sentence'>If any <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is not a <a href='cmp.categories#def:comparison_category_types'>comparison category type</a>,
<span class='texttt'>U</span> is <span class='texttt'>void</span><a class='hidden_link' href='#class.spaceship-4.1.sentence-1'>.</a></div></li><li id='class.spaceship-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.2'>(4.2)</a></div><div id='class.spaceship-4.2.sentence-1' class='sentence'>Otherwise, if
at least one <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='texttt'>std&#x200b;::&#x200b;weak_&shy;equality</span>, or
at least one <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='texttt'>std&#x200b;::&#x200b;strong_&shy;equality</span> and
at least one <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> is <span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering</span> or
                              <span class='texttt'>std&#x200b;::&#x200b;weak_&shy;ordering</span>,
<span class='texttt'>U</span> is <a href='cmp.weakeq'><span class='texttt'>std&#x200b;::&#x200b;weak_&shy;equality</span></a><a class='hidden_link' href='#class.spaceship-4.2.sentence-1'>.</a></div></li><li id='class.spaceship-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.3'>(4.3)</a></div><div id='class.spaceship-4.3.sentence-1' class='sentence'>Otherwise, if at least one <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <a href='cmp.strongeq'><span class='texttt'>std&#x200b;::&#x200b;strong_&shy;equality</span></a>,
<span class='texttt'>U</span> is <span class='texttt'>std&#x200b;::&#x200b;strong_&shy;equality</span><a class='hidden_link' href='#class.spaceship-4.3.sentence-1'>.</a></div></li><li id='class.spaceship-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.4'>(4.4)</a></div><div id='class.spaceship-4.4.sentence-1' class='sentence'>Otherwise, if at least one <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <a href='cmp.partialord'><span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering</span></a>,
<span class='texttt'>U</span> is <span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering</span><a class='hidden_link' href='#class.spaceship-4.4.sentence-1'>.</a></div></li><li id='class.spaceship-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.5'>(4.5)</a></div><div id='class.spaceship-4.5.sentence-1' class='sentence'>Otherwise, if at least one <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <a href='cmp.weakord'><span class='texttt'>std&#x200b;::&#x200b;weak_&shy;ordering</span></a>,
<span class='texttt'>U</span> is <span class='texttt'>std&#x200b;::&#x200b;weak_&shy;ordering</span><a class='hidden_link' href='#class.spaceship-4.5.sentence-1'>.</a></div></li><li id='class.spaceship-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.6'>(4.6)</a></div><div id='class.spaceship-4.6.sentence-1' class='sentence'>Otherwise, <span class='texttt'>U</span> is <a href='cmp.strongord'><span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering</span></a><a class='hidden_link' href='#class.spaceship-4.6.sentence-1'>.</a></div> <div id='class.spaceship-4.6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.spaceship-4.6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.spaceship-4.6.sentence-2' class='sentence'>In particular, this is the result when <span class='math'><span class='mathalpha'>n</span></span> is 0<a class='hidden_link' href='#class.spaceship-4.6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div></div><div id='class.rel.eq' class='section'><h3 ><a class='secnum' href='#class.rel.eq' style='min-width:103pt'>15.9.3</a> Other comparison operators <a class='abbr_ref' href='class.rel.eq'>[class.rel.eq]</a></h3><span class='indexparent'><a class='index' id=':operator,relational,defaulted'></a></span><span class='indexparent'><a class='index' id=':operator,equality,defaulted'></a></span><span class='indexparent'><a class='index' id=':operator,inequality,defaulted'></a></span><div class='para' id='class.rel.eq-1'><div class='marginalizedparent'><a class='marginalized' href='#class.rel.eq-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3431'>#</a></div><div id='class.rel.eq-1.sentence-1' class='sentence'>A defaulted relational (<a href='expr.rel'>[expr.rel]</a>) or equality (<a href='expr.eq'>[expr.eq]</a>) operator function
for some operator <span class='texttt'>@</span>
shall have a declared return type <span class='texttt'>bool</span><a class='hidden_link' href='#class.rel.eq-1.sentence-1'>.</a></div></div><div class='para' id='class.rel.eq-2'><div class='marginalizedparent'><a class='marginalized' href='#class.rel.eq-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3436'>#</a></div><div id='class.rel.eq-2.sentence-1' class='sentence'>The operator function with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span>
is defined as deleted if</div><div id='class.rel.eq-2.sentence-2' class='sentence'><ul class='itemize'><li id='class.rel.eq-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.rel.eq-2.1'>(2.1)</a></div><div id='class.rel.eq-2.1.sentence-1' class='sentence'>overload resolution (<a href='over.match'>[over.match]</a>),
as applied to <span class='texttt'>x &lt;=&gt; y</span>
(also considering synthesized candidates with reversed order of parameters (<a href='over.match.oper'>[over.match.oper]</a>)),
results in an ambiguity
or a function that is deleted or inaccessible from the operator function,
or</div></li><li id='class.rel.eq-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.rel.eq-2.2'>(2.2)</a></div><div id='class.rel.eq-2.2.sentence-1' class='sentence'>the operator <span class='texttt'>@</span>
cannot be applied to the return type of <span class='texttt'>x &lt;=&gt; y</span> or <span class='texttt'>y &lt;=&gt; x</span><a class='hidden_link' href='#class.rel.eq-2.2.sentence-1'>.</a></div></li></ul></div><div id='class.rel.eq-2.sentence-3' class='sentence'>Otherwise, the operator function yields
<span class='texttt'>x &lt;=&gt; y @ 0</span>
if an <span class='texttt'>operator&lt;=&gt;</span>
with the original order of parameters was selected, or
<span class='texttt'>0 @ y &lt;=&gt; x</span>
otherwise<a class='hidden_link' href='#class.rel.eq-2.sentence-3'>.</a></div></div><div class='para' id='class.rel.eq-3'><div class='marginalizedparent'><a class='marginalized' href='#class.rel.eq-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/487e870347a4c76c9b6dd664c4e5671e709c81d8/source/special.tex#L3461'>#</a></div><div id='class.rel.eq-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.rel.eq-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct C {
  friend std::strong_equality operator&lt;=&gt;(const C&amp;, const C&amp;);
  friend bool operator==(const C&amp; x, const C&amp; y) = default; <span class='comment'>// OK, returns <span class='tcode_in_codeblock'>x &lt;=&gt; y == 0</span>
</span>  bool operator&lt;(const C&amp;) = default;                       <span class='comment'>// OK, function is deleted
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div></body></html>