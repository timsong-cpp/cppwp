<!DOCTYPE html><html lang='en'><head><title>[basic.scope.class]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Basic concepts <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>6.3</a> Scope <a class='abbr_ref' href='basic.scope#class'>[basic.scope]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>6.3.7</a> Class scope <a class='abbr_ref'>[basic.scope.class]</a></h3><span class='indexparent'><a class='index' id=':scope,class'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/119b98d70d24612e425fb2ae1b6caffb93689b89/source/basic.tex#L861'>#</a></div><div id='1.sentence-1' class='sentence'>The potential scope of a name declared in a class consists not
only of the declarative region following the name's point of
declaration, but also of all function bodies, default arguments,
<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class='textit'>s</span>, and
<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i><span class='textit'>s</span> of non-static data members
in that class (including such
things in nested classes)<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/119b98d70d24612e425fb2ae1b6caffb93689b89/source/basic.tex#L870'>#</a></div><div id='2.sentence-1' class='sentence'>A name <span class='texttt'>N</span> used in a class <span class='texttt'>S</span> shall refer to the same
declaration in its context and when re-evaluated in the completed scope
of <span class='texttt'>S</span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>No diagnostic is required for a violation of this rule<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/119b98d70d24612e425fb2ae1b6caffb93689b89/source/basic.tex#L875'>#</a></div><div id='3.sentence-1' class='sentence'>A name declared within a member function hides a declaration of
the same name whose scope extends to or past the end of the member
function's class<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/119b98d70d24612e425fb2ae1b6caffb93689b89/source/basic.tex#L880'>#</a></div><div id='4.sentence-1' class='sentence'>The potential scope of a declaration that extends to or past the
end of a class definition also extends to the regions defined by its
member definitions, even if the members are defined lexically outside
the class (this includes static data member definitions, nested class
definitions, and member function definitions, including the member function
body and any portion of the
declarator part of such definitions which follows the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>,
including a <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> and any <a href='dcl.fct.default'>default
arguments</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/119b98d70d24612e425fb2ae1b6caffb93689b89/source/basic.tex#L891'>#</a></div><div id='5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int  c;
enum { i = 1 };

class X {
  char  v[i];                       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;i</span> but when reevaluated is <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;i</span>
</span>  int  f() { return sizeof(c); }    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;c</span>
</span>  char  c;
  enum { i = 2 };
};

typedef char*  T;
struct Y {
  T  a;                             <span class='comment'>// error: <span class='tcode_in_codeblock'>T</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;T</span> but when reevaluated is <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;T</span>
</span>  typedef long  T;
  T  b;
};

typedef int I;
class D {
  typedef I I;                      <span class='comment'>// error, even though no reordering involved
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/119b98d70d24612e425fb2ae1b6caffb93689b89/source/basic.tex#L918'>#</a></div><div id='6.sentence-1' class='sentence'>The name of a class member shall only be used as follows:
<ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.1'>(6.1)</a></div><div id='6.1.sentence-1' class='sentence'>in the scope of its class (as described above) or a class
<a href='class.derived'>derived</a> from its class,</div></li><li id='6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.2'>(6.2)</a></div><div id='6.2.sentence-1' class='sentence'>after the <span class='texttt'>.</span> operator applied to an expression of the type
of its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,</div></li><li id='6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.3'>(6.3)</a></div><div id='6.3.sentence-1' class='sentence'>after the <span class='texttt'>-&gt;</span> operator applied to a pointer to an object of
its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,</div></li><li id='6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.4'>(6.4)</a></div><div id='6.4.sentence-1' class='sentence'>after the <span class='texttt'>&#x200b;::&#x200b;</span> scope resolution operator (<a href='expr.prim'>[expr.prim]</a>)
applied to the name of its class or a class derived from its class<a class='hidden_link' href='#6.4.sentence-1'>.</a></div></li></ul></div></div></div></body></html>