<!DOCTYPE html><html lang='en'><head><title>[conv.mem]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>4</a> Standard conversions <a class='abbr_ref' href='./#conv'>[conv]</a></h1><div id='conv.mem'><h2 ><a class='secnum' style='min-width:88pt'>4.12</a> Pointer to member conversions <a class='abbr_ref'>[conv.mem]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/conversions.tex#L531'>#</a></div><p ><span class='indexparent'><a class='index' id='conversion,pointer_to_member'></a></span><span class='indexparent'><a class='index' id='constant,null_pointer'></a></span><span class='indexparent'><a class='index' id='value,null_member_pointer'></a></span>A <a href='conv.ptr'>null pointer constant</a> can be converted to a pointer
to member type; the result is the <a class='hidden_link' href='#def:null_member_pointer_value' id='def:null_member_pointer_value'><i>null member pointer value</i></a>
of that type and is distinguishable from any pointer to member not
created from a null pointer constant.
Such a conversion is called a <a class='hidden_link' href='#def:null_member_pointer_conversion' id='def:null_member_pointer_conversion'><i>null member pointer conversion</i></a>.
Two null member pointer values of
the same type shall compare equal. The conversion of a null pointer
constant to a pointer to member of cv-qualified type is a single
conversion, and not the sequence of a pointer to member conversion
followed by a <a href='conv.qual'>qualification conversion</a>.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/conversions.tex#L546'>#</a></div><p >A prvalue of type “pointer to member of <span class='texttt'>B</span> of type <span class='textit'>cv</span>
<span class='texttt'>T</span>”, where <span class='texttt'>B</span> is a class type, can be converted to
a prvalue of type “pointer to member of <span class='texttt'>D</span> of type <span class='textit'>cv</span>
<span class='texttt'>T</span>”, where <span class='texttt'>D</span> is a <a href='class.derived'>derived class</a>
of <span class='texttt'>B</span>. If <span class='texttt'>B</span> is an
<a href='class.access'>inaccessible</a>,
<a href='class.member.lookup'>ambiguous</a>, or <a href='class.mi'>virtual</a> base
class of <span class='texttt'>D</span>, or a base class of a virtual base class of
<span class='texttt'>D</span>, a program that necessitates this conversion is ill-formed.
The result of the conversion refers to the same member as the pointer to
member before the conversion took place, but it refers to the base class
member as if it were a member of the derived class. The result refers to
the member in <span class='texttt'>D</span>'s instance of <span class='texttt'>B</span>. Since the result has
type “pointer to member of <span class='texttt'>D</span> of type <span class='textit'>cv</span> <span class='texttt'>T</span>”,
indirection through it with a <span class='texttt'>D</span> object is valid. The result is the same
as if indirecting through the pointer to member of <span class='texttt'>B</span> with the
<span class='texttt'>B</span> subobject of <span class='texttt'>D</span>. The null member pointer value is
converted to the null member pointer value of the destination
type.<a class='footnotenum' href='#footnote-61'>61</a></p></div><div class='footnote' id='footnote-61'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-61'>61)</a></div><p >The rule for conversion of pointers to members (from pointer to member
of base to pointer to member of derived) appears inverted compared to
the rule for pointers to objects (from pointer to derived to pointer to
base) (<a href='conv.ptr'>[conv.ptr]</a>, Clause <a href='class.derived'>[class.derived]</a>). This inversion is
necessary to ensure type safety. Note that a pointer to member is not
an object pointer or a function pointer
and the rules for conversions
of such pointers do not apply to pointers to members.
<span class='indexparent'><a class='index' id='conversion,pointer_to_member,void*'></a></span>In particular, a pointer to member cannot be converted to a
<span class='texttt'>void*</span>.</p></div></div></div></body></html>