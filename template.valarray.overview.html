<!DOCTYPE html><html lang='en'><head><title>[template.valarray.overview]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>29</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>29.7</a> Numeric arrays <a class='abbr_ref' href='numarray#template.valarray.overview'>[numarray]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>29.7.2</a> Class template <span class='texttt'>valarray</span> <a class='abbr_ref' href='template.valarray#overview'>[template.valarray]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>29.7.2.1</a> Class template <span class='texttt'>valarray</span> overview <a class='abbr_ref'>[template.valarray.overview]</a></h4><span class='indexparent'><a class='index' id='lib:valarray'></a></span><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; class valarray {
  public:
    using value_type = T;

    <span class='comment'>// <a href='valarray.cons'>[valarray.cons]</a>, construct/destroy
</span>    valarray();
    explicit valarray(size_t);
    valarray(const T&amp;, size_t);
    valarray(const T*, size_t);
    valarray(const valarray&amp;);
    valarray(valarray&amp;&amp;) noexcept;
    valarray(const slice_array&lt;T&gt;&amp;);
    valarray(const gslice_array&lt;T&gt;&amp;);
    valarray(const mask_array&lt;T&gt;&amp;);
    valarray(const indirect_array&lt;T&gt;&amp;);
    valarray(initializer_list&lt;T&gt;);
    ~valarray();

    <span class='comment'>// <a href='valarray.assign'>[valarray.assign]</a>, assignment
</span>    valarray&amp; operator=(const valarray&amp;);
    valarray&amp; operator=(valarray&amp;&amp;) noexcept;
    valarray&amp; operator=(initializer_list&lt;T&gt;);
    valarray&amp; operator=(const T&amp;);
    valarray&amp; operator=(const slice_array&lt;T&gt;&amp;);
    valarray&amp; operator=(const gslice_array&lt;T&gt;&amp;);
    valarray&amp; operator=(const mask_array&lt;T&gt;&amp;);
    valarray&amp; operator=(const indirect_array&lt;T&gt;&amp;);

    <span class='comment'>// <a href='valarray.access'>[valarray.access]</a>, element access
</span>    const T&amp;          operator[](size_t) const;
    T&amp;                operator[](size_t);

    <span class='comment'>// <a href='valarray.sub'>[valarray.sub]</a>, subset operations
</span>    valarray          operator[](slice) const;
    slice_array&lt;T&gt;    operator[](slice);
    valarray          operator[](const gslice&amp;) const;
    gslice_array&lt;T&gt;   operator[](const gslice&amp;);
    valarray          operator[](const valarray&lt;bool&gt;&amp;) const;
    mask_array&lt;T&gt;     operator[](const valarray&lt;bool&gt;&amp;);
    valarray          operator[](const valarray&lt;size_t&gt;&amp;) const;
    indirect_array&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp;);

    <span class='comment'>// <a href='valarray.unary'>[valarray.unary]</a>, unary operators
</span>    valarray operator+() const;
    valarray operator-() const;
    valarray operator~() const;
    valarray&lt;bool&gt; operator!() const;

    <span class='comment'>// <a href='valarray.cassign'>[valarray.cassign]</a>, compound assignment
</span>    valarray&amp; operator*= (const T&amp;);
    valarray&amp; operator/= (const T&amp;);
    valarray&amp; operator%= (const T&amp;);
    valarray&amp; operator+= (const T&amp;);
    valarray&amp; operator-= (const T&amp;);
    valarray&amp; operator^= (const T&amp;);
    valarray&amp; operator&amp;= (const T&amp;);
    valarray&amp; operator|= (const T&amp;);
    valarray&amp; operator&lt;&lt;=(const T&amp;);
    valarray&amp; operator&gt;&gt;=(const T&amp;);

    valarray&amp; operator*= (const valarray&amp;);
    valarray&amp; operator/= (const valarray&amp;);
    valarray&amp; operator%= (const valarray&amp;);
    valarray&amp; operator+= (const valarray&amp;);
    valarray&amp; operator-= (const valarray&amp;);
    valarray&amp; operator^= (const valarray&amp;);
    valarray&amp; operator|= (const valarray&amp;);
    valarray&amp; operator&amp;= (const valarray&amp;);
    valarray&amp; operator&lt;&lt;=(const valarray&amp;);
    valarray&amp; operator&gt;&gt;=(const valarray&amp;);

    <span class='comment'>// <a href='valarray.members'>[valarray.members]</a>, member functions
</span>    void swap(valarray&amp;) noexcept;

    size_t size() const;

    T sum() const;
    T min() const;
    T max() const;

    valarray shift (int) const;
    valarray cshift(int) const;
    valarray apply(T func(T)) const;
    valarray apply(T func(const T&amp;)) const;
    void resize(size_t sz, T c = T());
  };

  template&lt;class T, size_t cnt&gt; valarray(const T(&amp;)[cnt], size_t) -&gt; valarray&lt;T&gt;;
}</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a257a072efe2b6f2fe2dbdc5529b14315b08fbd8/source/numerics.tex#L6749'>#</a></div><div id='1.sentence-1' class='sentence'>The
class template
<span class='texttt'>valarray&lt;T&gt;</span>
is a
one-dimensional smart array, with elements numbered sequentially from zero<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>It is a representation of the mathematical concept
of an ordered set of values<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>For convenience, an object of type <span class='texttt'>valarray&lt;T&gt;</span> is referred
to as an “array” throughout the remainder of <a href='numarray'>[numarray]</a><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>The illusion of higher dimensionality
may be produced by the familiar idiom of computed indices, together
with the powerful subsetting capabilities provided
by the generalized subscript operators<a class='hidden_link' href='#1.sentence-4'>.</a><a class='footnotenum' href='#footnote-279'>279</a></div></div><div class='footnote' id='footnote-279'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-279'>279)</a></div><div id='footnote-279.sentence-1' class='sentence'>The intent is to specify
an array template that has the minimum functionality
necessary to address aliasing ambiguities and the proliferation of
temporary objects<a class='hidden_link' href='#footnote-279.sentence-1'>.</a></div> <div id='footnote-279.sentence-2' class='sentence'>Thus, the
<span class='texttt'>valarray</span>
template is neither a
matrix class nor a field class<a class='hidden_link' href='#footnote-279.sentence-2'>.</a></div> <div id='footnote-279.sentence-3' class='sentence'>However, it is a very useful building block for designing such classes<a class='hidden_link' href='#footnote-279.sentence-3'>.</a></div></div></div></body></html>