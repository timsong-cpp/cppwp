<!DOCTYPE html><html lang='en'><head><title>[mdspan.layout.general]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>23</a> Containers library <a class='abbr_ref' href='./#containers'>[containers]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>23.7</a> Views <a class='abbr_ref' href='views#mdspan.layout.general'>[views]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>23.7.3</a> Multidimensional access <a class='abbr_ref' href='views.multidim#mdspan.layout.general'>[views.multidim]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>23.7.3.4</a> Layout mapping <a class='abbr_ref' href='mdspan.layout#general'>[mdspan.layout]</a></h4><h4 ><a class='secnum' style='min-width:110pt'>23.7.3.4.1</a> General <a class='abbr_ref'>[mdspan.layout.general]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/containers.tex#L21524'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>In <a href='mdspan.layout.reqmts' title='23.7.3.4.2&emsp;Requirements'>[mdspan.<span class='shy'></span>layout.<span class='shy'></span>reqmts]</a> and <a href='mdspan.layout.policy.reqmts' title='23.7.3.4.3&emsp;Layout mapping policy requirements'>[mdspan.<span class='shy'></span>layout.<span class='shy'></span>policy.<span class='shy'></span>reqmts]</a>:</div></div><div class='texpara'><ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div><div class='texpara'><div id='1.1.sentence-1' class='sentence'><span class='texttt'>M</span> denotes a layout mapping class<a class='hidden_link' href='#1.1.sentence-1'>.</a></div></div></li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div><div class='texpara'><div id='1.2.sentence-1' class='sentence'><span class='texttt'>m</span> denotes a (possibly const) value of type <span class='texttt'>M</span><a class='hidden_link' href='#1.2.sentence-1'>.</a></div></div></li><li id='1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.3'>(1.3)</a></div><div class='texpara'><div id='1.3.sentence-1' class='sentence'><span class='texttt'>i</span> and <span class='texttt'>j</span> are packs of (possibly const) integers
that are multidimensional indices in <span class='texttt'>m<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='mdspan.overview' title='23.7.3.1&emsp;Overview'>[mdspan.<span class='shy'></span>overview]</a>)<a class='hidden_link' href='#1.3.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='1.3.sentence-2' class='sentence'>The type of each element of the packs can be a different integer type<a class='hidden_link' href='#1.3.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></li><li id='1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.4'>(1.4)</a></div><div class='texpara'><div id='1.4.sentence-1' class='sentence'><span class='texttt'>r</span> is a (possibly const) rank index of <span class='texttt'><span class='keyword'>typename</span> M<span class='operator'>&#x200b;::&#x200b;</span>extents_<span class='shy'></span>type</span><a class='hidden_link' href='#1.4.sentence-1'>.</a></div></div></li><li id='1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.5'>(1.5)</a></div><div class='texpara'><div id='1.5.sentence-1' class='sentence'><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">d</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span></span></span></span></span></span></span> is a pack of (possibly const) integers
for which <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">d</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> M<span class='operator'>&#x200b;::&#x200b;</span>extents_<span class='shy'></span>type<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
the <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span></span> element is equal to 1, and
all other elements are equal to 0<a class='hidden_link' href='#1.5.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2f53f313f5b1aac5f9547b39e78863e23ca9c047/source/containers.tex#L21551'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>In <a href='mdspan.layout.reqmts' title='23.7.3.4.2&emsp;Requirements'>[mdspan.<span class='shy'></span>layout.<span class='shy'></span>reqmts]</a> through <a href='mdspan.layout.stride' title='23.7.3.4.7&emsp;Class template layout_&shy;stride&#x200b;::&#x200b;mapping'>[mdspan.<span class='shy'></span>layout.<span class='shy'></span>stride]</a>:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div>Let <span class='texttt'><i >is-mapping-of</i></span> be the exposition-only variable template defined as follows:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Layout, <span class='keyword'>class</span> Mapping<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-mapping-of</i> <span class='operator'>=</span>  <span class='comment'>// <i >exposition only</i></span>
  is_same_v<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> Layout<span class='operator'>::</span><span class='keyword'>template</span> mapping<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> Mapping<span class='operator'>::</span>extents_type<span class='anglebracket'>&gt;</span>, Mapping<span class='anglebracket'>&gt;</span>;
</span></li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div>Let <span class='texttt'><i >is-layout-left-padded-mapping-of</i></span> be
the exposition-only variable template defined as follows:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Mapping<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-layout-left-padded-mapping-of</i> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;   <span class='comment'>// <i >exposition only</i></span>
</span>
where <span class='texttt'><span class='texttt'><i >is-layout-left-padded-mapping-of</i></span><span class='anglebracket'>&lt;</span>Mapping<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>
if and only if <span class='texttt'>Mapping</span> denotes
a specialization of <span class='texttt'>layout_<span class='shy'></span>left_<span class='shy'></span>padded<span class='anglebracket'>&lt;</span>S<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>mapping</span>
for some value <span class='texttt'>S</span> of type <span class='texttt'>size_<span class='shy'></span>t</span>.</li><li id='2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.3'>(2.3)</a></div>Let <span class='texttt'><i >is-layout-right-padded-mapping-of</i></span> be
the exposition-only variable template defined as follows:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Mapping<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-layout-right-padded-mapping-of</i> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;   <span class='comment'>// <i >exposition only</i></span>
</span>
where <span class='texttt'><span class='texttt'><i >is-layout-right-padded-mapping-of</i></span><span class='anglebracket'>&lt;</span>Mapping<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>
if and only if <span class='texttt'>Mapping</span> denotes
a specialization of <span class='texttt'>layout_<span class='shy'></span>right_<span class='shy'></span>padded<span class='anglebracket'>&lt;</span>S<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>mapping</span>
for some value <span class='texttt'>S</span> of type <span class='texttt'>size_<span class='shy'></span>t</span>.</li><li id='2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.4'>(2.4)</a></div>For nonnegative integers <span class='math'><span class='mathalpha'>x</span></span> and <span class='math'><span class='mathalpha'>y</span></span>,
let <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom textit"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">LEAST<span class='operator'>-</span>MULTIPLE<span class='operator'>-</span>AT<span class='operator'>-</span>LEAST</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span> denote
<ul class='itemize'><li id='2.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#2.4.1'>(2.4.1)</a></div><span class='math'><span class='mathalpha'>y</span></span> if <span class='math'><span class='mathalpha'>x</span></span> is zero,</li><li id='2.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#2.4.2'>(2.4.2)</a></div>otherwise, the least multiple of <span class='math'><span class='mathalpha'>x</span></span> that is greater than or equal to <span class='math'><span class='mathalpha'>y</span></span>.</li></ul></li></ul></div></div></div></div></body></html>