<!DOCTYPE html><html lang='en'><head><title>[allocator.adaptor]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.13</a> Class template <span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span> <a class='abbr_ref'>[allocator.adaptor]</a></h2><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:103pt'>23.13.1</a> Header <span class='texttt'>&lt;scoped_&shy;allocator&gt;</span> synopsis <a class='abbr_ref' href='allocator.adaptor.syn'>[allocator.adaptor.syn]</a></h3><span class='indexparent'><a class='index' id=':<scoped_allocator>'></a></span><span class='indexparent'><a class='index' id=':<scoped_allocator>'></a></span><pre class='codeblock'>
namespace std {
  <span class='comment'>// class template <span class='tcode_in_codeblock'>scoped allocator adaptor</span>
</span>  template&lt;class OuterAlloc, class... InnerAlloc&gt;
    class scoped_allocator_adaptor;

  <span class='comment'>// <a href='scoped.adaptor.operators'>[scoped.adaptor.operators]</a>, scoped allocator operators
</span>  template&lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
    bool operator==(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                    const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
  template&lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
    bool operator!=(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                    const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
}</pre><div class='para' id='syn-1'><div class='marginalizedparent'><a class='marginalized' href='#syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12369'>#</a></div><div id='syn-1.sentence-1' class='sentence'>The class template <span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span> is an allocator template that
specifies the memory resource (the outer allocator) to be used by a container (as any
other allocator does) and also specifies an inner allocator resource to be passed to the
constructor of every element within the container<a class='hidden_link' href='#syn-1.sentence-1'>.</a></div> <div id='syn-1.sentence-2' class='sentence'>This adaptor is instantiated with one
outer and zero or more inner allocator types<a class='hidden_link' href='#syn-1.sentence-2'>.</a></div> <div id='syn-1.sentence-3' class='sentence'>If instantiated with only one allocator
type, the inner allocator becomes the <span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span> itself, thus
using the same allocator resource for the container and every element within the
container and, if the elements themselves are containers, each of their elements
recursively<a class='hidden_link' href='#syn-1.sentence-3'>.</a></div> <div id='syn-1.sentence-4' class='sentence'>If instantiated with more than one allocator, the first allocator is the
outer allocator for use by the container, the second allocator is passed to the
constructors of the container's elements, and, if the elements themselves are
containers, the third allocator is passed to the elements' elements, and so on<a class='hidden_link' href='#syn-1.sentence-4'>.</a></div> <div id='syn-1.sentence-5' class='sentence'>If
containers are nested to a depth greater than the number of allocators, the last
allocator is used repeatedly, as in the single-allocator case, for any remaining
recursions<a class='hidden_link' href='#syn-1.sentence-5'>.</a></div> <div id='syn-1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#syn-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='syn-1.sentence-6' class='sentence'>The <span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span> is derived from the outer
allocator type so it can be substituted for the outer allocator type in most
expressions<a class='hidden_link' href='#syn-1.sentence-6'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> <span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:outer_allocator_type,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,outer_allocator_type'></a></span><span class='indexparent'><a class='index' id='lib:value_type,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,value_type'></a></span><span class='indexparent'><a class='index' id='lib:size_type,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,size_type'></a></span><span class='indexparent'><a class='index' id='lib:difference_type,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,difference_type'></a></span><span class='indexparent'><a class='index' id='lib:pointer,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,pointer'></a></span><span class='indexparent'><a class='index' id='lib:const_pointer,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,const_pointer'></a></span><span class='indexparent'><a class='index' id='lib:void_pointer,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,void_pointer'></a></span><span class='indexparent'><a class='index' id='lib:const_void_pointer,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,const_void_pointer'></a></span><pre class='codeblock'>
namespace std {
  template&lt;class OuterAlloc, class... InnerAllocs&gt;
  class scoped_allocator_adaptor : public OuterAlloc {
  private:
    using OuterTraits = allocator_traits&lt;OuterAlloc&gt;;   <span class='comment'>// <span class='textit'>exposition only</span>
</span>    scoped_allocator_adaptor&lt;InnerAllocs...&gt; inner;     <span class='comment'>// <span class='textit'>exposition only</span>
</span>
  public:
    using outer_allocator_type = OuterAlloc;
    using inner_allocator_type = <span class='textit'><span class='texttt'>see below</span></span>;

    using value_type           = typename OuterTraits::value_type;
    using size_type            = typename OuterTraits::size_type;
    using difference_type      = typename OuterTraits::difference_type;
    using pointer              = typename OuterTraits::pointer;
    using const_pointer        = typename OuterTraits::const_pointer;
    using void_pointer         = typename OuterTraits::void_pointer;
    using const_void_pointer   = typename OuterTraits::const_void_pointer;

    using propagate_on_container_copy_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
    using propagate_on_container_move_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
    using propagate_on_container_swap            = <span class='textit'><span class='texttt'>see below</span></span>;
    using is_always_equal                        = <span class='textit'><span class='texttt'>see below</span></span>;

    template&lt;class Tp&gt; struct rebind {
      using other = scoped_allocator_adaptor&lt;
        OuterTraits::template rebind_alloc&lt;Tp&gt;, InnerAllocs...&gt;;
    };

    scoped_allocator_adaptor();
    template&lt;class OuterA2&gt;
      scoped_allocator_adaptor(OuterA2&amp;&amp; outerAlloc,
                               const InnerAllocs&amp;... innerAllocs) noexcept;

    scoped_allocator_adaptor(const scoped_allocator_adaptor&amp; other) noexcept;
    scoped_allocator_adaptor(scoped_allocator_adaptor&amp;&amp; other) noexcept;

    template&lt;class OuterA2&gt;
      scoped_allocator_adaptor(
        const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; other) noexcept;
    template&lt;class OuterA2&gt;
      scoped_allocator_adaptor(
        scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp;&amp; other) noexcept;

    scoped_allocator_adaptor&amp; operator=(const scoped_allocator_adaptor&amp;) = default;
    scoped_allocator_adaptor&amp; operator=(scoped_allocator_adaptor&amp;&amp;) = default;

    ~scoped_allocator_adaptor();

    inner_allocator_type&amp; inner_allocator() noexcept;
    const inner_allocator_type&amp; inner_allocator() const noexcept;
    outer_allocator_type&amp; outer_allocator() noexcept;
    const outer_allocator_type&amp; outer_allocator() const noexcept;

    [[nodiscard]] pointer allocate(size_type n);
    [[nodiscard]] pointer allocate(size_type n, const_void_pointer hint);
    void deallocate(pointer p, size_type n);
    size_type max_size() const;

    template&lt;class T, class... Args&gt;
      void construct(T* p, Args&amp;&amp;... args);
    template&lt;class T1, class T2, class... Args1, class... Args2&gt;
      void construct(pair&lt;T1, T2&gt;* p, piecewise_construct_t,
                     tuple&lt;Args1...&gt; x, tuple&lt;Args2...&gt; y);
    template&lt;class T1, class T2&gt;
      void construct(pair&lt;T1, T2&gt;* p);
    template&lt;class T1, class T2, class U, class V&gt;
      void construct(pair&lt;T1, T2&gt;* p, U&amp;&amp; x, V&amp;&amp; y);
    template&lt;class T1, class T2, class U, class V&gt;
      void construct(pair&lt;T1, T2&gt;* p, const pair&lt;U, V&gt;&amp; x);
    template&lt;class T1, class T2, class U, class V&gt;
      void construct(pair&lt;T1, T2&gt;* p, pair&lt;U, V&gt;&amp;&amp; x);

    template&lt;class T&gt;
      void destroy(T* p);

    scoped_allocator_adaptor select_on_container_copy_construction() const;
  };

  template&lt;class OuterAlloc, class... InnerAllocs&gt;
    scoped_allocator_adaptor(OuterAlloc, InnerAllocs...)
      -&gt; scoped_allocator_adaptor&lt;OuterAlloc, InnerAllocs...&gt;;
}</pre></div></div><div id='types' class='section'><h3 ><a class='secnum' href='#types' style='min-width:103pt'>23.13.2</a> Scoped allocator adaptor member types <a class='abbr_ref' href='allocator.adaptor.types'>[allocator.adaptor.types]</a></h3><span class='indexparent'><a class='index' id='lib:inner_allocator_type,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,inner_allocator_type'></a></span><div class='itemdecl' id='types-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#types-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>using inner_allocator_type = <span class='textit'><span class='texttt'>see below</span></span>;
</code></div><div class='itemdescr'></div><div class='para' id='types-1'><div class='marginalizedparent'><a class='marginalized' href='#types-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12491'>#</a></div><div id='types-1.sentence-1' class='sentence'><span class='textit'>Type:</span> <span class='texttt'>scoped_&shy;allocator_&shy;adaptor&lt;OuterAlloc&gt;</span> if <span class='texttt'>sizeof...(InnerAllocs)</span> is
zero; otherwise,<br/> <span class='texttt'>scoped_&shy;allocator_&shy;adaptor&lt;InnerAllocs...&gt;</span><a class='hidden_link' href='#types-1.sentence-1'>.</a></div></div></div><div id='lib:scoped_allocator_adaptor,propagate_on_container_copy_assignment'><div id='lib:propagate_on_container_copy_assignment,scoped_allocator_adaptor'>
<div class='itemdecl' id='types-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#types-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>using propagate_on_container_copy_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='types-2'><div class='marginalizedparent'><a class='marginalized' href='#types-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12503'>#</a></div><div id='types-2.sentence-1' class='sentence'><span class='textit'>Type:</span> <span class='texttt'>true_&shy;type</span> if
<span class='texttt'>allocator_&shy;traits&lt;A&gt;&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;copy_&shy;assignment&#x200b;::&#x200b;value</span> is
<span class='texttt'>true</span> for any <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_&shy;type</span><a class='hidden_link' href='#types-2.sentence-1'>.</a></div></div></div><div id='lib:scoped_allocator_adaptor,propagate_on_container_move_assignment'><div id='lib:propagate_on_container_move_assignment,scoped_allocator_adaptor'>
<div class='itemdecl' id='types-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#types-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>using propagate_on_container_move_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='types-3'><div class='marginalizedparent'><a class='marginalized' href='#types-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12517'>#</a></div><div id='types-3.sentence-1' class='sentence'><span class='textit'>Type:</span> <span class='texttt'>true_&shy;type</span> if
<span class='texttt'>allocator_&shy;traits&lt;A&gt;&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;move_&shy;assignment&#x200b;::&#x200b;value</span> is
<span class='texttt'>true</span> for any <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_&shy;type</span><a class='hidden_link' href='#types-3.sentence-1'>.</a></div></div></div><div id='lib:scoped_allocator_adaptor,propagate_on_container_swap'><div id='lib:propagate_on_container_swap,scoped_allocator_adaptor'>
<div class='itemdecl' id='types-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#types-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>using propagate_on_container_swap = <span class='textit'><span class='texttt'>see below</span></span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='types-4'><div class='marginalizedparent'><a class='marginalized' href='#types-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12531'>#</a></div><div id='types-4.sentence-1' class='sentence'><span class='textit'>Type:</span> <span class='texttt'>true_&shy;type</span> if
<span class='texttt'>allocator_&shy;traits&lt;A&gt;&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;swap&#x200b;::&#x200b;value</span> is
<span class='texttt'>true</span> for any <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_&shy;type</span><a class='hidden_link' href='#types-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:is_always_equal,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,is_always_equal'></a></span><div class='itemdecl' id='types-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#types-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>using is_always_equal = <span class='textit'><span class='texttt'>see below</span></span>;
</code></div><div class='itemdescr'></div><div class='para' id='types-5'><div class='marginalizedparent'><a class='marginalized' href='#types-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12544'>#</a></div><div id='types-5.sentence-1' class='sentence'><span class='textit'>Type:</span> <span class='texttt'>true_&shy;type</span> if
<span class='texttt'>allocator_&shy;traits&lt;A&gt;&#x200b;::&#x200b;is_&shy;always_&shy;equal&#x200b;::&#x200b;value</span> is
<span class='texttt'>true</span> for every <span class='texttt'>A</span> in the set of <span class='texttt'>OuterAlloc</span> and
<span class='texttt'>InnerAllocs...</span>; otherwise, <span class='texttt'>false_&shy;type</span><a class='hidden_link' href='#types-5.sentence-1'>.</a></div></div></div></div><div id='cnstr' class='section'><h3 ><a class='secnum' href='#cnstr' style='min-width:103pt'>23.13.3</a> Scoped allocator adaptor constructors <a class='abbr_ref' href='allocator.adaptor.cnstr'>[allocator.adaptor.cnstr]</a></h3><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,constructor'></a></span><div class='itemdecl' id='cnstr-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#cnstr-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>scoped_allocator_adaptor();
</code></div><div class='itemdescr'></div><div class='para' id='cnstr-1'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12559'>#</a></div><div id='cnstr-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> Value-initializes the <span class='texttt'>OuterAlloc</span> base class and the <span class='texttt'>inner</span> allocator
object<a class='hidden_link' href='#cnstr-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,constructor_'></a></span><div class='itemdecl' id='cnstr-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#cnstr-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class OuterA2&gt;
  scoped_allocator_adaptor(OuterA2&amp;&amp; outerAlloc, const InnerAllocs&amp;... innerAllocs) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='cnstr-2'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12571'>#</a></div><div id='cnstr-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Initializes the <span class='texttt'>OuterAlloc</span> base class with
<span class='texttt'>std&#x200b;::&#x200b;forward&lt;OuterA2&gt;(outerAlloc)</span> and <span class='texttt'>inner</span> with <span class='texttt'>innerAllocs...</span>
(hence recursively initializing each allocator within the adaptor with the corresponding
allocator from the argument list)<a class='hidden_link' href='#cnstr-2.sentence-1'>.</a></div></div></div><div class='para' id='cnstr-3'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12577'>#</a></div><div id='cnstr-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This constructor shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;OuterAlloc, OuterA2&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#cnstr-3.sentence-1'>.</a></div></div></div><div id='lib:scoped_allocator_adaptor,constructor'>
<div class='itemdecl' id='cnstr-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#cnstr-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>scoped_allocator_adaptor(const scoped_allocator_adaptor&amp; other) noexcept;
</code></div>
</div><div class='itemdescr'></div><div class='para' id='cnstr-4'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12589'>#</a></div><div id='cnstr-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Initializes each allocator within the adaptor with the corresponding allocator
from <span class='texttt'>other</span><a class='hidden_link' href='#cnstr-4.sentence-1'>.</a></div></div></div><div id='lib:scoped_allocator_adaptor,constructor'>
<div class='itemdecl' id='cnstr-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#cnstr-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>scoped_allocator_adaptor(scoped_allocator_adaptor&amp;&amp; other) noexcept;
</code></div>
</div><div class='itemdescr'></div><div class='para' id='cnstr-5'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12601'>#</a></div><div id='cnstr-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> Move constructs each allocator within the adaptor with the corresponding allocator
from <span class='texttt'>other</span><a class='hidden_link' href='#cnstr-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,constructor____'></a></span><div class='itemdecl' id='cnstr-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#cnstr-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class OuterA2&gt;
  scoped_allocator_adaptor(
    const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; other) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='cnstr-6'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12614'>#</a></div><div id='cnstr-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> Initializes each allocator within the adaptor with the corresponding allocator
from <span class='texttt'>other</span><a class='hidden_link' href='#cnstr-6.sentence-1'>.</a></div></div></div><div class='para' id='cnstr-7'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12618'>#</a></div><div id='cnstr-7.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This constructor shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;OuterAlloc, const OuterA2&amp;&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#cnstr-7.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,constructor_____'></a></span><div class='itemdecl' id='cnstr-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#cnstr-itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class OuterA2&gt;
  scoped_allocator_adaptor(scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp;&amp; other) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='cnstr-8'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12630'>#</a></div><div id='cnstr-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> Initializes each allocator within the adaptor with the corresponding allocator rvalue
from <span class='texttt'>other</span><a class='hidden_link' href='#cnstr-8.sentence-1'>.</a></div></div></div><div class='para' id='cnstr-9'><div class='marginalizedparent'><a class='marginalized' href='#cnstr-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12634'>#</a></div><div id='cnstr-9.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This constructor shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;OuterAlloc, OuterA2&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#cnstr-9.sentence-1'>.</a></div></div></div></div><div id='members' class='section'><h3 ><a class='secnum' href='#members' style='min-width:103pt'>23.13.4</a> Scoped allocator adaptor members <a class='abbr_ref' href='allocator.adaptor.members'>[allocator.adaptor.members]</a></h3><div class='para' id='members-1'><div class='marginalizedparent'><a class='marginalized' href='#members-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12641'>#</a></div><div id='members-1.sentence-1' class='sentence'>In the <span class='texttt'>construct</span> member functions,
<span class='texttt'><span class='textit'>OUTERMOST</span>(x)</span> is <span class='texttt'>x</span> if <span class='texttt'>x</span> does not have an
<span class='texttt'>outer_&shy;allocator()</span> member function and
<span class='texttt'><span class='textit'>OUTERMOST</span>(x.outer_&shy;allocator())</span>
otherwise;
<span class='texttt'><span class='textit'>OUTERMOST_&shy;ALLOC_&shy;TRAITS</span>(x)</span> is
<span class='texttt'>allocator_&shy;traits&lt;decltype(<span class='textit'>OUTERMOST</span>(x))&gt;</span><a class='hidden_link' href='#members-1.sentence-1'>.</a></div> <div id='members-1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#members-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='members-1.sentence-2' class='sentence'><span class='texttt'><span class='textit'>OUTERMOST</span>(x)</span> and
<span class='texttt'><span class='textit'>OUTERMOST_&shy;ALLOC_&shy;TRAITS</span>(x)</span> are recursive operations<a class='hidden_link' href='#members-1.sentence-2'>.</a></div> <div id='members-1.sentence-3' class='sentence'>It
is incumbent upon the definition of <span class='texttt'>outer_&shy;allocator()</span> to ensure that the
recursion terminates<a class='hidden_link' href='#members-1.sentence-3'>.</a></div> <div id='members-1.sentence-4' class='sentence'>It will terminate for all instantiations of
<span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span><a class='hidden_link' href='#members-1.sentence-4'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div>  <span class='indexparent'><a class='index' id='lib:inner_allocator,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,inner_allocator'></a></span></div><div class='itemdecl' id='members-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>inner_allocator_type&amp; inner_allocator() noexcept;
const inner_allocator_type&amp; inner_allocator() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='members-2'><div class='marginalizedparent'><a class='marginalized' href='#members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12662'>#</a></div><div id='members-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span> if <span class='texttt'>sizeof...(InnerAllocs)</span> is zero; otherwise,
<span class='texttt'>inner</span><a class='hidden_link' href='#members-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:outer_allocator,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,outer_allocator'></a></span><div class='itemdecl' id='members-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>outer_allocator_type&amp; outer_allocator() noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='members-3'><div class='marginalizedparent'><a class='marginalized' href='#members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12673'>#</a></div><div id='members-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>static_&shy;cast&lt;OuterAlloc&amp;&gt;(*this)</span><a class='hidden_link' href='#members-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:outer_allocator,scoped_allocator_adaptor_'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,outer_allocator_'></a></span><div class='itemdecl' id='members-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>const outer_allocator_type&amp; outer_allocator() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='members-4'><div class='marginalizedparent'><a class='marginalized' href='#members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12683'>#</a></div><div id='members-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>static_&shy;cast&lt;const OuterAlloc&amp;&gt;(*this)</span><a class='hidden_link' href='#members-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:allocate,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,allocate'></a></span><div class='itemdecl' id='members-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>[[nodiscard]] pointer allocate(size_type n);
</code></div><div class='itemdescr'></div><div class='para' id='members-5'><div class='marginalizedparent'><a class='marginalized' href='#members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12693'>#</a></div><div id='members-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>allocator_&shy;traits&lt;OuterAlloc&gt;&#x200b;::&#x200b;allocate(outer_&shy;allocator(), n)</span><a class='hidden_link' href='#members-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:allocate,scoped_allocator_adaptor_'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,allocate_'></a></span><div class='itemdecl' id='members-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>[[nodiscard]] pointer allocate(size_type n, const_void_pointer hint);
</code></div><div class='itemdescr'></div><div class='para' id='members-6'><div class='marginalizedparent'><a class='marginalized' href='#members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12703'>#</a></div><div id='members-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>allocator_&shy;traits&lt;OuterAlloc&gt;&#x200b;::&#x200b;allocate(outer_&shy;allocator(), n, hint)</span><a class='hidden_link' href='#members-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:deallocate,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,deallocate'></a></span><div class='itemdecl' id='members-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'>void deallocate(pointer p, size_type n) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='members-7'><div class='marginalizedparent'><a class='marginalized' href='#members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12713'>#</a></div><div id='members-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> As if by:
<span class='texttt'>allocator_&shy;traits&lt;OuterAlloc&gt;&#x200b;::&#x200b;deallocate(outer_&shy;allocator(), p, n);</span></div></div></div><span class='indexparent'><a class='index' id='lib:max_size,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,max_size'></a></span><div class='itemdecl' id='members-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:7'>ðŸ”—</a></div><code class='itemdeclcode'>size_type max_size() const;
</code></div><div class='itemdescr'></div><div class='para' id='members-8'><div class='marginalizedparent'><a class='marginalized' href='#members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12724'>#</a></div><div id='members-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>allocator_&shy;traits&lt;OuterAlloc&gt;&#x200b;::&#x200b;max_&shy;size(outer_&shy;allocator())</span><a class='hidden_link' href='#members-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct'></a></span><div class='itemdecl' id='members-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:8'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class T, class... Args&gt;
  void construct(T* p, Args&amp;&amp;... args);
</code></div><div class='itemdescr'></div><div class='para' id='members-9'><div class='marginalizedparent'><a class='marginalized' href='#members-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12735'>#</a></div><div id='members-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='members-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-9.1'>(9.1)</a></div><div id='members-9.1.sentence-1' class='sentence'>If <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T, inner_&shy;allocator_&shy;type&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T,<br/> Args...&gt;</span> is <span class='texttt'>true</span>, calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span>(*this)::construct(
    <span class='textit'>OUTERMOST</span>(*this), p, std::forward&lt;Args&gt;(args)...)</pre></div></li><li id='members-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-9.2'>(9.2)</a></div><div id='members-9.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T, inner_&shy;allocator_&shy;type&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, allocator_&shy;arg_&shy;t, inner_&shy;allocator_&shy;type&amp;, Args...&gt;</span> is <span class='texttt'>true</span>, calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span>(*this)::construct(
    <span class='textit'>OUTERMOST</span>(*this), p, allocator_arg, inner_allocator(), std::forward&lt;Args&gt;(args)...)</pre></div></li><li id='members-9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-9.3'>(9.3)</a></div><div id='members-9.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T, inner_&shy;allocator_&shy;type&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, Args..., inner_&shy;allocator_&shy;type&amp;&gt;</span> is <span class='texttt'>true</span>, calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span>(*this)::construct(
    <span class='textit'>OUTERMOST</span>(*this), p, std::forward&lt;Args&gt;(args)..., inner_allocator())</pre></div></li><li id='members-9.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-9.4'>(9.4)</a></div><div id='members-9.4.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#members-9.4.sentence-1'>.</a></div> <div id='members-9.4.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#members-9.4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='members-9.4.sentence-2' class='sentence'>An error will result if
<span class='texttt'>uses_&shy;allocator</span> evaluates to <span class='texttt'>true</span> but the specific constructor does not take an
allocator<a class='hidden_link' href='#members-9.4.sentence-2'>.</a></div> <div id='members-9.4.sentence-3' class='sentence'>This definition prevents a silent failure to pass an inner allocator to a
contained element<a class='hidden_link' href='#members-9.4.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </li></ul></div></div></div><div class='para' id='members-10'><div class='marginalizedparent'><a class='marginalized' href='#members-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12768'>#</a></div><div id='members-10.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution if
<span class='texttt'>T</span> is a specialization of <span class='texttt'>pair</span><a class='hidden_link' href='#members-10.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor_'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct_'></a></span><div class='itemdecl' id='members-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:9'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class T1, class T2, class... Args1, class... Args2&gt;
  void construct(pair&lt;T1, T2&gt;* p, piecewise_construct_t, tuple&lt;Args1...&gt; x, tuple&lt;Args2...&gt; y);
</code></div><div class='itemdescr'></div><div class='para' id='members-11'><div class='marginalizedparent'><a class='marginalized' href='#members-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12781'>#</a></div><div id='members-11.sentence-1' class='sentence'><span class='textit'>Requires:</span> All of the types in <span class='texttt'>Args1</span> and <span class='texttt'>Args2</span> shall be
<span class='texttt'>CopyConstructible</span> (Table <a href='utility.arg.requirements#tab:copyconstructible'>24</a>)<a class='hidden_link' href='#members-11.sentence-1'>.</a></div></div></div><div class='para' id='members-12'><div class='marginalizedparent'><a class='marginalized' href='#members-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12785'>#</a></div><div id='members-12.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a <span class='texttt'>tuple</span> object <span class='texttt'>xprime</span> from <span class='texttt'>x</span> by the
following rules:
<ul class='itemize'><li id='members-12.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.1'>(12.1)</a></div><div id='members-12.1.sentence-1' class='sentence'>If <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T1, inner_&shy;allocator_&shy;type&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T1,<br/> Args1...&gt;</span> is <span class='texttt'>true</span>,
then <span class='texttt'>xprime</span> is <span class='texttt'>x</span><a class='hidden_link' href='#members-12.1.sentence-1'>.</a></div></li><li id='members-12.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.2'>(12.2)</a></div><div id='members-12.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T1, inner_&shy;allocator_&shy;type&gt;</span> is <span class='texttt'>true</span>
and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T1, allocator_&shy;arg_&shy;t, inner_&shy;allocator_&shy;type&amp;, Args1...&gt;</span>
is
<span class='texttt'>true</span>, then <span class='texttt'>xprime</span> is:
<pre class='codeblock'>
tuple_cat(
    tuple&lt;allocator_arg_t, inner_allocator_type&amp;&gt;(allocator_arg, inner_allocator()),
    std::move(x))</pre></div></li><li id='members-12.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.3'>(12.3)</a></div><div id='members-12.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T1, inner_&shy;allocator_&shy;type&gt;</span> is
<span class='texttt'>true</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T1, Args1..., inner_&shy;allocator_&shy;type&amp;&gt;</span> is <span class='texttt'>true</span>,
then <span class='texttt'>xprime</span> is:
<pre class='codeblock'>
tuple_cat(std::move(x), tuple&lt;inner_allocator_type&amp;&gt;(inner_allocator()))</pre></div></li><li id='members-12.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.4'>(12.4)</a></div><div id='members-12.4.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#members-12.4.sentence-1'>.</a></div></li></ul></div> <div id='members-12.sentence-2' class='sentence'>
and constructs a <span class='texttt'>tuple</span> object <span class='texttt'>yprime</span> from <span class='texttt'>y</span> by the following rules:
<ul class='itemize'><li id='members-12.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.5'>(12.5)</a></div><div id='members-12.5.sentence-1' class='sentence'>If <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T2, inner_&shy;allocator_&shy;type&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T2,<br/> Args2...&gt;</span> is <span class='texttt'>true</span>, then <span class='texttt'>yprime</span> is <span class='texttt'>y</span><a class='hidden_link' href='#members-12.5.sentence-1'>.</a></div></li><li id='members-12.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.6'>(12.6)</a></div><div id='members-12.6.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T2, inner_&shy;allocator_&shy;type&gt;</span> is <span class='texttt'>true</span>
and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T2, allocator_&shy;arg_&shy;t, inner_&shy;allocator_&shy;type&amp;, Args2...&gt;</span>
is
<span class='texttt'>true</span>, then <span class='texttt'>yprime</span> is:
<pre class='codeblock'>
tuple_cat(
    tuple&lt;allocator_arg_t, inner_allocator_type&amp;&gt;(allocator_arg, inner_allocator()),
    std::move(y))</pre></div></li><li id='members-12.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.7'>(12.7)</a></div><div id='members-12.7.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T2, inner_&shy;allocator_&shy;type&gt;</span> is
<span class='texttt'>true</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T2, Args2..., inner_&shy;allocator_&shy;type&amp;&gt;</span> is <span class='texttt'>true</span>,
then <span class='texttt'>yprime</span> is:
<pre class='codeblock'>
tuple_cat(std::move(y), tuple&lt;inner_allocator_type&amp;&gt;(inner_allocator()))</pre></div></li><li id='members-12.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#members-12.8'>(12.8)</a></div><div id='members-12.8.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#members-12.8.sentence-1'>.</a></div></li></ul></div> <div id='members-12.sentence-3' class='sentence'>
then calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span>(*this)::construct(
    <span class='textit'>OUTERMOST</span>(*this), p, piecewise_construct, std::move(xprime), std::move(yprime))</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor__'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct__'></a></span><div class='itemdecl' id='members-itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:10'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class T1, class T2&gt;
  void construct(pair&lt;T1, T2&gt;* p);
</code></div><div class='itemdescr'></div><div class='para' id='members-13'><div class='marginalizedparent'><a class='marginalized' href='#members-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12854'>#</a></div><div id='members-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct(p, piecewise_construct, tuple&lt;&gt;(), tuple&lt;&gt;());</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor___'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct___'></a></span><div class='itemdecl' id='members-itemdecl:11'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:11'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1, T2&gt;* p, U&amp;&amp; x, V&amp;&amp; y);
</code></div><div class='itemdescr'></div><div class='para' id='members-14'><div class='marginalizedparent'><a class='marginalized' href='#members-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12868'>#</a></div><div id='members-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(std::forward&lt;U&gt;(x)),
          forward_as_tuple(std::forward&lt;V&gt;(y)));</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor____'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct____'></a></span><div class='itemdecl' id='members-itemdecl:12'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:12'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1, T2&gt;* p, const pair&lt;U, V&gt;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='members-15'><div class='marginalizedparent'><a class='marginalized' href='#members-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12884'>#</a></div><div id='members-15.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(x.first),
          forward_as_tuple(x.second));</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor_____'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct_____'></a></span><div class='itemdecl' id='members-itemdecl:13'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:13'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class T1, class T2, class U, class V&gt;
  void construct(pair&lt;T1, T2&gt;* p, pair&lt;U, V&gt;&amp;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='members-16'><div class='marginalizedparent'><a class='marginalized' href='#members-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12900'>#</a></div><div id='members-16.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct(p, piecewise_construct,
          forward_as_tuple(std::forward&lt;U&gt;(x.first)),
          forward_as_tuple(std::forward&lt;V&gt;(x.second)));</pre></div></div></div><span class='indexparent'><a class='index' id='lib:destroy,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,destroy'></a></span><div class='itemdecl' id='members-itemdecl:14'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:14'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class T&gt;
  void destroy(T* p);
</code></div><div class='itemdescr'></div><div class='para' id='members-17'><div class='marginalizedparent'><a class='marginalized' href='#members-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12916'>#</a></div><div id='members-17.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'><span class='textit'>OUTERMOST_&shy;ALLOC_&shy;TRAITS</span>(*this)&#x200b;::&#x200b;destroy(<span class='textit'>OUTERMOST</span>(*this), p)</span><a class='hidden_link' href='#members-17.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:select_on_container_copy_construction,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,select_on_container_copy_construction'></a></span><div class='itemdecl' id='members-itemdecl:15'><div class='marginalizedparent'><a class='itemDeclLink' href='#members-itemdecl:15'>ðŸ”—</a></div><code class='itemdeclcode'>scoped_allocator_adaptor select_on_container_copy_construction() const;
</code></div><div class='itemdescr'></div><div class='para' id='members-18'><div class='marginalizedparent'><a class='marginalized' href='#members-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12926'>#</a></div><div id='members-18.sentence-1' class='sentence'><span class='textit'>Returns:</span> A new <span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span> object where each allocator <span class='texttt'>A</span> in the
adaptor is initialized from the result of calling
<span class='texttt'>allocator_&shy;traits&lt;A&gt;&#x200b;::&#x200b;select_&shy;on_&shy;container_&shy;copy_&shy;construction()</span> on the
corresponding allocator in <span class='texttt'>*this</span><a class='hidden_link' href='#members-18.sentence-1'>.</a></div></div></div></div><div id='scoped.adaptor.operators' class='section'><h3 ><a class='secnum' href='#scoped.adaptor.operators' style='min-width:103pt'>23.13.5</a> Scoped allocator operators <a class='abbr_ref' href='scoped.adaptor.operators'>[scoped.adaptor.operators]</a></h3><span class='indexparent'><a class='index' id='lib:operator==,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,operator=='></a></span><div class='itemdecl' id='scoped.adaptor.operators-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#scoped.adaptor.operators-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
  bool operator==(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                  const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='scoped.adaptor.operators-1'><div class='marginalizedparent'><a class='marginalized' href='#scoped.adaptor.operators-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12943'>#</a></div><div id='scoped.adaptor.operators-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'>sizeof...(InnerAllocs)</span> is zero,
<pre class='codeblock'>
a.outer_allocator() == b.outer_allocator()</pre>
otherwise
<pre class='codeblock'>
a.outer_allocator() == b.outer_allocator() &amp;&amp; a.inner_allocator() == b.inner_allocator()</pre></div></div></div><span class='indexparent'><a class='index' id='lib:operator!=,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,operator!='></a></span><div class='itemdecl' id='scoped.adaptor.operators-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#scoped.adaptor.operators-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class OuterA1, class OuterA2, class... InnerAllocs&gt;
  bool operator!=(const scoped_allocator_adaptor&lt;OuterA1, InnerAllocs...&gt;&amp; a,
                  const scoped_allocator_adaptor&lt;OuterA2, InnerAllocs...&gt;&amp; b) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='scoped.adaptor.operators-2'><div class='marginalizedparent'><a class='marginalized' href='#scoped.adaptor.operators-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/06013de0d00e66204253d2f682b4b879f7686540/source/utilities.tex#L12962'>#</a></div><div id='scoped.adaptor.operators-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>!(a == b)</span><a class='hidden_link' href='#scoped.adaptor.operators-2.sentence-1'>.</a></div></div></div></div></div></body></html>