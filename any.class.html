<!DOCTYPE html><html lang='en'><head><title>[any.class]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.8</a> Storage for any type <a class='abbr_ref' href='any#class'>[any]</a></h2><div id='any.class'><h3 ><a class='secnum' style='min-width:103pt'>20.8.3</a> Class <span class='texttt'>any</span> <a class='abbr_ref'>[any.class]</a></h3><pre class='codeblock'>
class any {
public:
  <span class='comment'>// <a href='any.cons'>[any.cons]</a>, construction and destruction
</span>  constexpr any() noexcept;

  any(const any&amp; other);
  any(any&amp;&amp; other) noexcept;

  template &lt;class T&gt; any(T&amp;&amp; value);

  template &lt;class T, class... Args&gt;
    explicit any(in_place_type_t&lt;T&gt;, Args&amp;&amp;...);
  template &lt;class T, class U, class... Args&gt;
    explicit any(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt;, Args&amp;&amp;...);

  ~any();

  <span class='comment'>// <a href='any.assign'>[any.assign]</a>, assignments
</span>  any&amp; operator=(const any&amp; rhs);
  any&amp; operator=(any&amp;&amp; rhs) noexcept;

  template &lt;class T&gt; any&amp; operator=(T&amp;&amp; rhs);

  <span class='comment'>// <a href='any.modifiers'>[any.modifiers]</a>, modifiers
</span>  template &lt;class T, class... Args&gt;
    void emplace(Args&amp;&amp; ...);
  template &lt;class T, class U, class... Args&gt;
    void emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);
  void reset() noexcept;
  void swap(any&amp; rhs) noexcept;

  <span class='comment'>// <a href='any.observers'>[any.observers]</a>, observers
</span>  bool has_value() const noexcept;
  const type_info&amp; type() const noexcept;
};</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5405'>#</a></div><p >An object of class <span class='texttt'>any</span> stores an instance of any type that satisfies the constructor requirements or it has no value,
and this is referred to as the <a class='hidden_link' href='#def:state' id='def:state'><i>state</i></a> of the class <span class='texttt'>any</span> object.
The stored instance is called the <a class='hidden_link' href='#def:contained_object' id='def:contained_object'><i>contained object</i></a>.
Two states are equivalent if either they both have no value, or both have a value and the contained objects are equivalent.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5411'>#</a></div><p >The non-member <span class='texttt'>any_cast</span> functions provide type-safe access to the contained object.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5414'>#</a></div><p >Implementations should avoid the use of dynamically allocated memory for a small contained object.
[ <i>Example:</i>
where the object constructed is holding only an <span class='texttt'>int</span>.
<i> — end example</i> ]
Such small-object optimization shall only be applied to types <span class='texttt'>T</span> for which
<span class='texttt'>is_nothrow_move_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.</p></div><div id='any.cons'><h4 ><a class='secnum' href='#any.cons' style='min-width:118pt'>20.8.3.1</a> Construction and destruction <a class='abbr_ref' href='any.cons'>[any.cons]</a></h4><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
constexpr any() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5430'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>has_value()</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
any(const any&amp; other);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5441'>#</a></div><p ><i>Effects:</i>
Constructs an object of type <span class='texttt'>any</span> with an equivalent state as <span class='texttt'>other</span>.</p></div></div><div class='para' id='any.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5445'>#</a></div><p ><i>Throws:</i>
Any exceptions arising from calling the selected constructor of the contained object.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
any(any&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5456'>#</a></div><p ><i>Effects:</i>
Constructs an object of type <span class='texttt'>any</span> with a state equivalent to the original state of <span class='texttt'>other</span>.</p></div></div><div class='para' id='any.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5460'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>other</span> is left in a valid but otherwise unspecified state.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
template&lt;class T&gt;
  any(T&amp;&amp; value);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5472'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.cons-7'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5475'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.cons-8'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5479'>#</a></div><p ><i>Effects:</i>
Constructs an object of type <span class='texttt'>any</span> that contains an object of type <span class='texttt'>VT</span> direct-initialized with <span class='texttt'>std::forward&lt;T&gt;(value)</span>.</p></div></div><div class='para' id='any.cons-9'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5483'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>VT</span> is not the same type as <span class='texttt'>any</span>,
<span class='texttt'>VT</span> is not a specialization of <span class='texttt'>in_place_type_t</span>,
and <span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='any.cons-10'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5490'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  explicit any(in_place_type_t&lt;T&gt;, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-11'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5502'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.cons-12'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5505'>#</a></div><p ><i>Requires:</i> <span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.cons-13'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5508'>#</a></div><p ><i>Effects:</i> Initializes the contained value as if direct-non-list-initializing an object of
type <span class='texttt'>VT</span> with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='any.cons-14'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5512'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value of type <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.cons-15'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5515'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.cons-16'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5518'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,constructor'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt;
  explicit any(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-17'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5532'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.cons-18'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5535'>#</a></div><p ><i>Requires:</i> <span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.cons-19'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5538'>#</a></div><p ><i>Effects:</i> Initializes the contained value as if direct-non-list-initializing an object of
type <span class='texttt'>VT</span> with the arguments <span class='texttt'>il, std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='any.cons-20'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5542'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='any.cons-21'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5545'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.cons-22'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5548'>#</a></div><p ><i>Remarks:</i>
This constructor shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='any,destructor'></a></span>
<code class='itemdecl'>
~any();
</code></p><div class='itemdescr'></div><div class='para' id='any.cons-23'><div class='marginalizedparent'><a class='marginalized' href='#any.cons-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5561'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>reset()</span>.
</p></div></div></div><div id='any.assign'><h4 ><a class='secnum' href='#any.assign' style='min-width:118pt'>20.8.3.2</a> Assignment <a class='abbr_ref' href='any.assign'>[any.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,any'></a></span><span class='indexparent'><a class='index' id='any,operator='></a></span><code class='itemdecl'>
any&amp; operator=(const any&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='any.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5574'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>any(rhs).swap(*this)</span>.
No effects if an exception is thrown.</p></div></div><div class='para' id='any.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5579'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='any.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5583'>#</a></div><p ><i>Throws:</i>
Any exceptions arising from the copy constructor of the contained object.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,any'></a></span><span class='indexparent'><a class='index' id='any,operator='></a></span><code class='itemdecl'>
any&amp; operator=(any&amp;&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5594'>#</a></div><p ><i>Effects:</i>
As if by <span class='texttt'>any(std::move(rhs)).swap(*this)</span>.</p></div></div><div class='para' id='any.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5598'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='any.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5602'>#</a></div><p ><i>Postconditions:</i>
The state of <span class='texttt'>*this</span> is equivalent to the original state of <span class='texttt'>rhs</span>
and <span class='texttt'>rhs</span> is left in a valid but otherwise unspecified state.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,any'></a></span><span class='indexparent'><a class='index' id='any,operator='></a></span><code class='itemdecl'>
template&lt;class T&gt;
  any&amp; operator=(T&amp;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='any.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5615'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5618'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5622'>#</a></div><p ><i>Effects:</i>
Constructs an object <span class='texttt'>tmp</span> of type <span class='texttt'>any</span> that contains an object of type <span class='texttt'>VT</span> direct-initialized with <span class='texttt'>std::forward&lt;T&gt;(rhs)</span>, and <span class='texttt'>tmp.swap(*this)</span>.
No effects if an exception is thrown.</p></div></div><div class='para' id='any.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5627'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='any.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5631'>#</a></div><p ><i>Remarks:</i>
This operator shall not participate in overload resolution unless
<span class='texttt'>T</span> is not the same type as <span class='texttt'>any</span> and
<span class='texttt'>is_copy_constructible_v&lt;T&gt;</span> is <span class='texttt'>true</span>.</p></div></div><div class='para' id='any.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#any.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5637'>#</a></div><p ><i>Throws:</i>
Any exception thrown by the selected constructor of <span class='texttt'>T</span>.
</p></div></div></div><div id='any.modifiers'><h4 ><a class='secnum' href='#any.modifiers' style='min-width:118pt'>20.8.3.3</a> Modifiers <a class='abbr_ref' href='any.modifiers'>[any.modifiers]</a></h4><p ><span class='indexparent'><a class='index' id='emplace,any'></a></span><span class='indexparent'><a class='index' id='any,emplace'></a></span><code class='itemdecl'>
template &lt;class T, class... Args&gt;
  void emplace(Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-1'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5651'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.modifiers-2'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5654'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.modifiers-3'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5658'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>reset()</span>.
Then initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>VT</span> with the arguments <span class='texttt'>std::forward&lt;Args&gt;(args)...</span>.</p></div></div><div class='para' id='any.modifiers-4'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5663'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='any.modifiers-5'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5666'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.modifiers-6'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5669'>#</a></div><p ><i>Remarks:</i> If an exception is thrown during the call to <span class='texttt'>VT</span>'s constructor,
<span class='texttt'>*this</span> does not contain a value, and any previously contained object
has been destroyed.
This function shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='emplace,any'></a></span><span class='indexparent'><a class='index' id='any,emplace'></a></span><code class='itemdecl'>
template &lt;class T, class U, class... Args&gt;
  void emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-7'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5685'>#</a></div><p >Let <span class='texttt'>VT</span> be <span class='texttt'>decay_t&lt;T&gt;</span>.</p></div></div><div class='para' id='any.modifiers-8'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5688'>#</a></div><p ><i>Requires:</i>
<span class='texttt'>VT</span> shall satisfy the <span class='texttt'>CopyConstructible</span> requirements.</p></div></div><div class='para' id='any.modifiers-9'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5692'>#</a></div><p ><i>Effects:</i> Calls <span class='texttt'>reset()</span>. Then initializes the contained value
as if direct-non-list-initializing an object of type <span class='texttt'>VT</span> with the arguments
<span class='texttt'>il, std::forward&lt;Args&gt; (args)...</span>.</p></div></div><div class='para' id='any.modifiers-10'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5697'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>*this</span> contains a value.</p></div></div><div class='para' id='any.modifiers-11'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5700'>#</a></div><p ><i>Throws:</i> Any exception thrown by the selected constructor of <span class='texttt'>VT</span>.</p></div></div><div class='para' id='any.modifiers-12'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5703'>#</a></div><p ><i>Remarks:</i> If an exception is thrown during the call to <span class='texttt'>VT</span>'s constructor,
<span class='texttt'>*this</span> does not contain a value, and any previously contained object
has been destroyed.
The function shall not participate in overload resolution unless
<span class='texttt'>is_copy_constructible_v&lt;VT&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_constructible_v&lt;VT, initializer_list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='reset,any'></a></span><span class='indexparent'><a class='index' id='any,reset'></a></span><code class='itemdecl'>
void reset() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-13'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5718'>#</a></div><p ><i>Effects:</i>
If <span class='texttt'>has_value()</span> is <span class='texttt'>true</span>, destroys the contained object.</p></div></div><div class='para' id='any.modifiers-14'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5722'>#</a></div><p ><i>Postconditions:</i>
<span class='texttt'>has_value()</span> is <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='swap,any'></a></span><span class='indexparent'><a class='index' id='any,swap'></a></span><code class='itemdecl'>
void swap(any&amp; rhs) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.modifiers-15'><div class='marginalizedparent'><a class='marginalized' href='#any.modifiers-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5734'>#</a></div><p ><i>Effects:</i>
Exchanges the states of <span class='texttt'>*this</span> and <span class='texttt'>rhs</span>.
</p></div></div></div><div id='any.observers'><h4 ><a class='secnum' href='#any.observers' style='min-width:118pt'>20.8.3.4</a> Observers <a class='abbr_ref' href='any.observers'>[any.observers]</a></h4><p ><span class='indexparent'><a class='index' id='has_value,any'></a></span><span class='indexparent'><a class='index' id='any,has_value'></a></span><code class='itemdecl'>
bool has_value() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.observers-1'><div class='marginalizedparent'><a class='marginalized' href='#any.observers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5747'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>true</span> if <span class='texttt'>*this</span> contains an object, otherwise <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='type,any'></a></span><span class='indexparent'><a class='index' id='any,type'></a></span><code class='itemdecl'>
const type_info&amp; type() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='any.observers-2'><div class='marginalizedparent'><a class='marginalized' href='#any.observers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5758'>#</a></div><p ><i>Returns:</i>
<span class='texttt'>typeid(T)</span> if <span class='texttt'>*this</span> has a contained object of type <span class='texttt'>T</span>,
otherwise <span class='texttt'>typeid(void)</span>.</p></div></div><div class='para' id='any.observers-3'><div class='marginalizedparent'><a class='marginalized' href='#any.observers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/utilities.tex#L5763'>#</a></div><p >[ <i>Note:</i>
Useful for querying against types known either at compile time or only at runtime.
<i> — end note</i> ]
</p></div></div></div></div></div></body></html>