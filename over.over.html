<!DOCTYPE html><html lang='en'><head><title>[over.over]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>12.4</a> Address of overloaded function <a class='abbr_ref'>[over.over]</a></h2><span class='indexparent'><a class='index' id=':overloading,address_of_overloaded_function'></a></span><span class='indexparent'><a class='index' id=':overloaded_function,address_of'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/99fac6b19fd2dd2044240f2dc9f600ea408afb7b/source/overloading.tex#L3126'>#</a></div><div id='1.sentence-1' class='sentence'>A use of an overloaded function name without arguments is resolved
in certain contexts to a function, a pointer to function or a pointer to
member function for a specific function from the overload set<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>A function template name is considered to name a set of overloaded functions
in such contexts<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>A function with type <span class='texttt'>F</span> is selected for the function type <span class='texttt'>FT</span>
of the target type required in the context if <span class='texttt'>F</span>
(after possibly applying the <a href='conv.fctptr'>function pointer conversion</a>)
is identical to <span class='texttt'>FT</span><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-4' class='sentence'>That is, the class of which the function is a member is ignored when matching a
pointer-to-member-function type<a class='hidden_link' href='#1.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='1.sentence-5' class='sentence'>
The target can be
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div>an object or reference being initialized (<a href='dcl.init'>[dcl.init]</a>, <a href='dcl.init.ref'>[dcl.init.ref]</a>,
<a href='dcl.init.list'>[dcl.init.list]</a>),</li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div>the left side of an <a href='expr.ass'>assignment</a>,</li><li id='1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.3'>(1.3)</a></div>a parameter of a function (<a href='expr.call'>[expr.call]</a>),</li><li id='1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.4'>(1.4)</a></div>a parameter of a <a href='over.oper'>user-defined operator</a>,</li><li id='1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.5'>(1.5)</a></div>the return value of a function, operator function, or conversion (<a href='stmt.return'>[stmt.return]</a>),</li><li id='1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.6'>(1.6)</a></div>an explicit type conversion (<a href='expr.type.conv'>[expr.type.conv]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>,
<a href='expr.cast'>[expr.cast]</a>), or</li><li id='1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.7'>(1.7)</a></div>a non-type
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> (<a href='temp.arg.nontype'>[temp.arg.nontype]</a>)<a class='hidden_link' href='#1.sentence-5'>.</a></li></ul></div><div id='1.sentence-6' class='sentence'>The overloaded function name can be preceded by the
<span class='texttt'><span class='operator'>&amp;</span></span>
operator<a class='hidden_link' href='#1.sentence-6'>.</a></div> <div id='1.sentence-7' class='sentence'>An overloaded function name shall not be used without arguments in contexts
other than those listed<a class='hidden_link' href='#1.sentence-7'>.</a></div> <div id='1.note-2' class='note'>[&nbsp;<a class='note_link' href='#1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-8' class='sentence'>Any redundant set of parentheses surrounding the overloaded function name is
ignored (<a href='expr.prim.paren'>[expr.prim.paren]</a>)<a class='hidden_link' href='#1.sentence-8'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/99fac6b19fd2dd2044240f2dc9f600ea408afb7b/source/overloading.tex#L3171'>#</a></div><div id='2.sentence-1' class='sentence'>If the name is a function template, template argument deduction is
done (<a href='temp.deduct.funcaddr'>[temp.deduct.funcaddr]</a>), and if the argument deduction succeeds,
the
resulting template argument list is
used to generate a single
function template specialization,
which is added to the set of overloaded functions
considered<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'>As described in <a href='temp.arg.explicit'>[temp.arg.explicit]</a>, if deduction fails and the
function template name is followed by an explicit template argument list,
the
<i ><a href='temp.names#nt:template-id'>template-id</a></i>
is then examined to see whether it identifies a single function template
specialization<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>If it does, the
<i ><a href='temp.names#nt:template-id'>template-id</a></i>
is considered to be an lvalue for that function template specialization<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>The target type is not used in that determination<a class='hidden_link' href='#2.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/99fac6b19fd2dd2044240f2dc9f600ea408afb7b/source/overloading.tex#L3192'>#</a></div><div id='3.sentence-1' class='sentence'>Non-member functions and static member functions
match targets of function pointer type or
reference to function type<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Non-static member functions match targets of
pointer-to-member-function type<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>If a non-static member function is selected, the reference to the overloaded
function name is required to have the form of a pointer to member as
described in <a href='expr.unary.op'>[expr.unary.op]</a><a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/99fac6b19fd2dd2044240f2dc9f600ea408afb7b/source/overloading.tex#L3202'>#</a></div><div id='4.sentence-1' class='sentence'>All functions with
associated constraints
that are not satisfied (<a href='temp.constr.decl'>[temp.constr.decl]</a>)
are eliminated from the set of selected functions<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>If more than one function in the set remains,
all function template specializations
in the set
are eliminated if the set also contains a function that is not a
function template specialization<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>Any given non-template function
<span class='texttt'>F0</span>
is eliminated if the set contains a second
non-template function that
is more constrained than
<span class='texttt'>F0</span>
according to
the partial ordering rules of <a href='temp.constr.order'>[temp.constr.order]</a><a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>Any given
function template specialization
<span class='texttt'>F1</span>
is eliminated if the set contains a second
function template specialization whose function template
is more specialized than the
function template of
<span class='texttt'>F1</span>
according to
the partial ordering rules of <a href='temp.func.order'>[temp.func.order]</a><a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.sentence-5' class='sentence'>After such eliminations,
if any, there shall remain exactly one selected function<a class='hidden_link' href='#4.sentence-5'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/99fac6b19fd2dd2044240f2dc9f600ea408afb7b/source/overloading.tex#L3233'>#</a></div><div id='5.example-1' class='example'>[&nbsp;<a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pfd<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;        <span class='comment'>// selects <span class='tcode_in_codeblock'>f(double)</span></span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pfi<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;           <span class='comment'>// selects <span class='tcode_in_codeblock'>f(int)</span></span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pfe<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;           <span class='comment'>// error: type mismatch</span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>rfi<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> f;            <span class='comment'>// selects <span class='tcode_in_codeblock'>f(int)</span></span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>rfd<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span> <span class='operator'>=</span> f;         <span class='comment'>// selects <span class='tcode_in_codeblock'>f(double)</span></span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>&amp;</span>f;             <span class='comment'>// cast expression as selector</span>
<span class='curlybracket'>}</span>
</pre><div id='5.sentence-1' class='sentence'>The initialization of
<span class='texttt'>pfe</span>
is ill-formed because no
<span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
with type
<span class='texttt'><span class='keyword'>int</span><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
has been declared, and not because of any ambiguity<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>For another example,</div><pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>static</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> <span class='parenthesis'>(</span>X<span class='operator'>::</span><span class='operator'>*</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>  <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// OK</span>
<span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>*</span>p2<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>  <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// error: mismatch</span>
<span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>*</span>p3<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// OK</span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span>X<span class='operator'>::</span><span class='operator'>*</span>p4<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// error: mismatch</span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span>X<span class='operator'>::</span><span class='operator'>*</span>p5<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>  <span class='operator'>=</span> <span class='operator'>&amp;</span><span class='parenthesis'>(</span>X<span class='operator'>::</span>f<span class='parenthesis'>)</span>;   <span class='comment'>// error: wrong syntax for</span>
                                <span class='comment'>// pointer to member</span>
<span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>*</span>p6<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span><span class='parenthesis'>(</span>X<span class='operator'>::</span>f<span class='parenthesis'>)</span>;   <span class='comment'>// OK</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/99fac6b19fd2dd2044240f2dc9f600ea408afb7b/source/overloading.tex#L3273'>#</a></div><div id='6.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'>If
<span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are both overloaded functions, the
cross product of possibilities must be considered
to resolve
<span class='texttt'>f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>g<span class='parenthesis'>)</span></span>,
or the equivalent expression
<span class='texttt'>f<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span></span><a class='hidden_link' href='#6.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/99fac6b19fd2dd2044240f2dc9f600ea408afb7b/source/overloading.tex#L3287'>#</a></div><span class='indexparent'><a class='index' id=':conversion,overload_resolution_and_pointer'></a></span><div id='7.note-1' class='note'>[&nbsp;<a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-1' class='sentence'>Even if <span class='texttt'>B</span> is a public base of <span class='texttt'>D</span>,
we have
<pre class='codeblock'>
D<span class='operator'>*</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
B<span class='operator'>*</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;                <span class='comment'>// error</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>D<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p2<span class='parenthesis'>)</span><span class='parenthesis'>(</span>B<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>g;            <span class='comment'>// error</span>
</pre></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div></body></html>