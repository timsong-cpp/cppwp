<!DOCTYPE html><html lang='en'><head><title>[iterator.requirements.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>25</a> Iterators library <a class='abbr_ref' href='./#iterators'>[iterators]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>25.3</a> Iterator requirements <a class='abbr_ref' href='iterator.requirements#general'>[iterator.requirements]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>25.3.1</a> In general <a class='abbr_ref'>[iterator.requirements.general]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L524'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><a class='index' id=':requirements,iterator'></a>Iterators are a generalization of pointers that allow a C++ program to work with different data structures
(for example, containers and ranges) in a uniform manner<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>To be able to construct template algorithms that work correctly and
efficiently on different types of data structures, the library formalizes not just the interfaces but also the
semantics and complexity assumptions of iterators<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>An input iterator
<span class='texttt'>i</span>
supports the expression
<span class='texttt'><span class='operator'>*</span>i</span>,
resulting in a value of some object type
<span class='texttt'>T</span>,
called the
<a class='hidden_link' href='#def:value_type' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:value_type'><i >value type</i></span></a>
of the iterator<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>An output iterator <span class='texttt'>i</span> has a non-empty set of types that are
<a href='iterator.concept.writable#concept:indirectly_writable' title='25.3.4.3&emsp;Concept indirectly_&shy;writable&emsp;[iterator.concept.writable]'><span id='conceptref:indirectly_writable'><span class='texttt'>indirectly_<span class='shy'></span>writable</span></span></a> to the iterator;
for each such type <span class='texttt'>T</span>, the expression <span class='texttt'><span class='operator'>*</span>i <span class='operator'>=</span> o</span>
is valid where <span class='texttt'>o</span> is a value of type <span class='texttt'>T</span><a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>For every iterator type
<span class='texttt'>X</span>,
there is a corresponding signed integer-like type (<a href='iterator.concept.winc' title='25.3.4.4&emsp;Concept weakly_&shy;incrementable'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>winc]</a>) called the
<a class='hidden_link' href='#def:difference_type' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:difference_type'><i >difference type</i></span></a>
of the iterator<a class='hidden_link' href='#1.sentence-5'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L550'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>Since iterators are an abstraction of pointers, their semantics are
a generalization of most of the semantics of pointers in C++<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>This ensures that every
function template
that takes iterators
works as well with regular pointers<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>This document defines
six categories of iterators, according to the operations
defined on them:
<a class='hidden_link' href='#def:input_iterators' id='def:input_iterators'><i>input iterators</i></a>,
<a class='hidden_link' href='#def:output_iterators' id='def:output_iterators'><i>output iterators</i></a>,
<a class='hidden_link' href='#def:forward_iterators' id='def:forward_iterators'><i>forward iterators</i></a>,
<a class='hidden_link' href='#def:bidirectional_iterators' id='def:bidirectional_iterators'><i>bidirectional iterators</i></a>,
<a class='hidden_link' href='#def:random_access_iterators' id='def:random_access_iterators'><i>random access iterators</i></a>,
and
<a class='hidden_link' href='#def:contiguous_iterators' id='def:contiguous_iterators'><i>contiguous iterators</i></a>,
as shown in Table <a href='#tab:iterators.relations' title='Table 88: Relations among iterator categories'>88</a><a class='hidden_link' href='#2.sentence-3'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:iterators.relations'>Table <a href='#tab:iterators.relations'>88</a>: Relations among iterator categories&emsp;<a href='./tab:iterators.relations'>[tab:iterators.relations]</a><br><table ><tr id='tab:iterators.relations-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:iterators.relations-row-1'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:iterators.relations-row-1-column-1-sentence-1' class='sentence'><b>Contiguous</b></div></div></td><td class='left'><div class='texpara'><div id='tab:iterators.relations-row-1-column-2-sentence-1' class='sentence'><span class='math'>→</span> <b>Random Access</b></div></div></td><td class='left'><div class='texpara'><div id='tab:iterators.relations-row-1-column-3-sentence-1' class='sentence'><span class='math'>→</span> <b>Bidirectional</b></div></div></td><td class='left'><div class='texpara'><div id='tab:iterators.relations-row-1-column-4-sentence-1' class='sentence'><span class='math'>→</span> <b>Forward</b></div></div></td><td class='left'><div class='texpara'><div id='tab:iterators.relations-row-1-column-5-sentence-1' class='sentence'><span class='math'>→</span> <b>Input</b></div></div></td></tr><tr id='tab:iterators.relations-row-2'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:iterators.relations-row-2'>🔗</a></div></td><td class='empty left'></td><td class='empty left'></td><td class='empty left'></td><td class='empty left'></td><td class='left'><div class='texpara'><div id='tab:iterators.relations-row-2-column-5-sentence-1' class='sentence'><span class='math'>→</span> <b>Output</b></div></div></td></tr></table></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L581'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>The six categories of iterators correspond to the iterator concepts
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.1'>(3.1)</a></div><a href='iterator.concept.input#concept:input_iterator' title='25.3.4.9&emsp;Concept input_&shy;iterator&emsp;[iterator.concept.input]'><span id='conceptref:input_iterator'><span class='texttt'>input_<span class='shy'></span>iterator</span></span></a> (<a href='iterator.concept.input' title='25.3.4.9&emsp;Concept input_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>input]</a>),</li><li id='3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.2'>(3.2)</a></div><a href='iterator.concept.output#concept:output_iterator' title='25.3.4.10&emsp;Concept output_&shy;iterator&emsp;[iterator.concept.output]'><span id='conceptref:output_iterator'><span class='texttt'>output_<span class='shy'></span>iterator</span></span></a> (<a href='iterator.concept.output' title='25.3.4.10&emsp;Concept output_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>output]</a>),</li><li id='3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.3'>(3.3)</a></div><a href='iterator.concept.forward#concept:forward_iterator' title='25.3.4.11&emsp;Concept forward_&shy;iterator&emsp;[iterator.concept.forward]'><span id='conceptref:forward_iterator'><span class='texttt'>forward_<span class='shy'></span>iterator</span></span></a> (<a href='iterator.concept.forward' title='25.3.4.11&emsp;Concept forward_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>forward]</a>),</li><li id='3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.4'>(3.4)</a></div><a href='iterator.concept.bidir#concept:bidirectional_iterator' title='25.3.4.12&emsp;Concept bidirectional_&shy;iterator&emsp;[iterator.concept.bidir]'><span id='conceptref:bidirectional_iterator'><span class='texttt'>bidirectional_<span class='shy'></span>iterator</span></span></a> (<a href='iterator.concept.bidir' title='25.3.4.12&emsp;Concept bidirectional_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>bidir]</a>),</li><li id='3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.5'>(3.5)</a></div><a href='iterator.concept.random.access#concept:random_access_iterator' title='25.3.4.13&emsp;Concept random_&shy;access_&shy;iterator&emsp;[iterator.concept.random.access]'><span id='conceptref:random_access_iterator'><span class='texttt'>random_<span class='shy'></span>access_<span class='shy'></span>iterator</span></span></a> (<a href='iterator.concept.random.access' title='25.3.4.13&emsp;Concept random_&shy;access_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>random.<span class='shy'></span>access]</a>),
and</li><li id='3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.6'>(3.6)</a></div><a href='iterator.concept.contiguous#concept:contiguous_iterator' title='25.3.4.14&emsp;Concept contiguous_&shy;iterator&emsp;[iterator.concept.contiguous]'><span id='conceptref:contiguous_iterator'><span class='texttt'>contiguous_<span class='shy'></span>iterator</span></span></a> (<a href='iterator.concept.contiguous' title='25.3.4.14&emsp;Concept contiguous_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>contiguous]</a>),</li></ul>
respectively<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>The generic term <a class='hidden_link' href='#def:iterator' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:iterator'><i >iterator</i></span></a> refers to any type that models the
<a href='iterator.concept.iterator#concept:input_or_output_iterator' title='25.3.4.6&emsp;Concept input_&shy;or_&shy;output_&shy;iterator&emsp;[iterator.concept.iterator]'><span id='conceptref:input_or_output_iterator'><span class='texttt'>input_<span class='shy'></span>or_<span class='shy'></span>output_<span class='shy'></span>iterator</span></span></a> concept (<a href='iterator.concept.iterator' title='25.3.4.6&emsp;Concept input_&shy;or_&shy;output_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>iterator]</a>)<a class='hidden_link' href='#3.sentence-2'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L596'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Forward iterators meet all the requirements of input
iterators and can be used whenever
an input iterator is specified;
Bidirectional iterators also meet all the requirements of
forward iterators and can be used whenever a forward iterator is specified;
Random access iterators also meet all the requirements of bidirectional
iterators and can be used whenever a bidirectional iterator is specified;
Contiguous iterators also meet all the requirements of random access
iterators and can be used whenever a random access iterator is specified<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L607'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>Iterators that further meet the requirements of output iterators are
called <a class='hidden_link' href='#def:mutable_iterator' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:mutable_iterator'><i >mutable iterators</i></span></a><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>Nonmutable iterators are referred to
as <a class='hidden_link' href='#def:constant_iterator' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:constant_iterator'><i >constant iterators</i></span></a><a class='hidden_link' href='#5.sentence-2'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L612'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>In addition to the requirements in this subclause,
the nested <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> specified in <a href='iterator.traits' title='25.3.2.3&emsp;Iterator traits'>[iterator.<span class='shy'></span>traits]</a>
shall be provided for the iterator type<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='6.sentence-2' class='sentence'>Either the iterator type must provide the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> directly
(in which case <span class='texttt'>iterator_<span class='shy'></span>traits</span> pick them up automatically), or
an <span class='texttt'>iterator_<span class='shy'></span>traits</span> specialization must provide them<a class='hidden_link' href='#6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L622'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>Just as a regular pointer to an array guarantees that there is a pointer value pointing past the last element
of the array, so for any iterator type there is an iterator value that points past the last element of a
corresponding sequence<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>Such a value is called a <a class='hidden_link' href='#def:iterator,past-the-end' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:iterator,past-the-end'><i >past-the-end value</i></span></a><a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>Values of an iterator <span class='texttt'>i</span>
for which the expression <span class='texttt'><span class='operator'>*</span>i</span> is defined
are called <a class='hidden_link' href='#def:iterator,dereferenceable' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:iterator,dereferenceable'><i >dereferenceable</i></span></a><a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'>The library never assumes that past-the-end values are dereferenceable<a class='hidden_link' href='#7.sentence-4'>.</a></div> <div id='7.sentence-5' class='sentence'>Iterators can also have singular values that are not associated with any
sequence<a class='hidden_link' href='#7.sentence-5'>.</a></div> <div id='7.sentence-6' class='sentence'>Results of most expressions are undefined for singular values;
the only exceptions are destroying an iterator that holds a singular value,
the assignment of a non-singular value to
an iterator that holds a singular value, and, for iterators that meet the
<i >Cpp17DefaultConstructible</i> requirements, using a value-initialized iterator
as the source of a copy or move operation<a class='hidden_link' href='#7.sentence-6'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='7.sentence-7' class='sentence'>This guarantee is not
offered for default-initialization, although the distinction only matters for types
with trivial default constructors such as pointers or aggregates holding pointers<a class='hidden_link' href='#7.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='7.sentence-8' class='sentence'>
In these cases the singular
value is overwritten the same way as any other value<a class='hidden_link' href='#7.sentence-8'>.</a></div> <div id='7.sentence-9' class='sentence'>Dereferenceable
values are always non-singular<a class='hidden_link' href='#7.sentence-9'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L651'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>Most of the library's algorithmic templates that operate on data structures have
interfaces that use ranges<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:range' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:range'><i >range</i></span></a> is an iterator and a <a class='hidden_link' href='#def:sentinel' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:sentinel'><i >sentinel</i></span></a>
that designate the beginning and end of the computation, or an iterator and a
count that designate the beginning and the number of elements to which the
computation is to be applied<a class='hidden_link' href='#8.sentence-2'>.</a><a class='footnoteref' href='#footnote-208' id='footnoteref-208' title='The sentinel denoting the end of a range can have the same type as the iterator denoting the beginning of the range, or a different type.'>208</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L663'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>An iterator and a sentinel denoting a range are comparable<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>A range [<span class='texttt'>i, s</span>)
is empty if <span class='texttt'>i <span class='operator'>=</span><span class='operator'>=</span> s</span>;
otherwise, [<span class='texttt'>i, s</span>)
refers to the elements in the data structure starting with the element
pointed to by
<span class='texttt'>i</span>
and up to but not including the element, if any, pointed to by
the first iterator <span class='texttt'>j</span> such that <span class='texttt'>j <span class='operator'>=</span><span class='operator'>=</span> s</span><a class='hidden_link' href='#9.sentence-2'>.</a></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L674'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'>A sentinel <span class='texttt'>s</span> is called <a class='hidden_link' href='#def:reachable_from' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:reachable_from'><i >reachable from</i></span></a> an iterator <span class='texttt'>i</span> if
and only if there is a finite sequence of applications of the expression
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span>i</span> that makes <span class='texttt'>i <span class='operator'>=</span><span class='operator'>=</span> s</span><a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>If <span class='texttt'>s</span> is reachable from <span class='texttt'>i</span>,
[<span class='texttt'>i, s</span>) denotes a <a class='hidden_link' href='#def:range,valid' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:range,valid'><i >valid range</i></span></a><a class='hidden_link' href='#10.sentence-2'>.</a></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L680'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:range,counted' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:range,counted'><i >counted range</i></span></a> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">[</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.446em; padding-bottom: 0.151em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='literal'>0</span>, </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em;">n</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is empty if <span class='texttt'>n <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span>;
otherwise, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">[</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.446em; padding-bottom: 0.151em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='literal'>0</span>, </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em;">n</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> refers to
the <span class='texttt'>n</span> elements in the data structure
starting with the element pointed to by <span class='texttt'>i</span> and up to but not including
the element, if any, pointed to by
the result of <span class='texttt'>n</span> applications of <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span>i</span><a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>A counted range <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">[</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.446em; padding-bottom: 0.151em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='literal'>0</span>, </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em;">n</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is <a class='hidden_link' href='#def:range,counted,valid' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:range,counted,valid'><i >valid</i></span></a> if and only if <span class='texttt'>n <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span>;
or <span class='texttt'>n</span> is positive, <span class='texttt'>i</span> is dereferenceable,
and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;"><span class='operator'>+</span><span class='operator'>+</span>i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">[</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.446em; padding-bottom: 0.151em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='literal'>0</span>, </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em;"><span class='operator'>-</span><span class='operator'>-</span>n</span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is valid<a class='hidden_link' href='#11.sentence-2'>.</a></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L691'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'>The result of the application of library functions
to invalid ranges is undefined<a class='hidden_link' href='#12.sentence-1'>.</a></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L695'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'>All the categories of iterators require only those functions that are realizable for a given category in
constant time (amortized)<a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.sentence-2' class='sentence'>Therefore, requirement tables and concept definitions for the iterators
do not specify complexity<a class='hidden_link' href='#13.sentence-2'>.</a></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L701'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'>Destruction of an iterator may invalidate pointers and references previously
obtained from that iterator if its type does not meet the
<i >Cpp17ForwardIterator</i> requirements and does not model <a href='iterator.concept.forward#concept:forward_iterator' title='25.3.4.11&emsp;Concept forward_&shy;iterator&emsp;[iterator.concept.forward]'><span id='conceptref:forward_iterator_'><span class='texttt'>forward_<span class='shy'></span>iterator</span></span></a><a class='hidden_link' href='#14.sentence-1'>.</a></div></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L706'>#</a></div><div class='texpara'><div id='15.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:iterator,invalid' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:iterator,invalid'><i >invalid iterator</i></span></a>
is an iterator that may be singular<a class='hidden_link' href='#15.sentence-1'>.</a><a class='footnoteref' href='#footnote-209' id='footnoteref-209' title='This definition applies to pointers, since pointers are iterators. The effect of dereferencing an iterator that has been invalidated is undefined.'>209</a></div></div></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/85f4bb454effe50029de636d6f206f9c1153236a/source/iterators.tex#L715'>#</a></div><div class='texpara'><div id='16.sentence-1' class='sentence'><a class='index' id=':iterator,constexpr'></a>Iterators meet the <a class='hidden_link' href='#def:iterator,constexpr' title='25.3.1&emsp;In general&emsp;[iterator.requirements.general]'><span id='def:iterator,constexpr'><i >constexpr iterators</i></span></a> requirements
if all operations provided to meet iterator category requirements
are constexpr functions<a class='hidden_link' href='#16.sentence-1'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='16.sentence-2' class='sentence'>For example, the types “pointer to <span class='texttt'><span class='keyword'>int</span></span>” and
<span class='texttt'>reverse_<span class='shy'></span>iterator<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span></span> meet the constexpr iterator requirements<a class='hidden_link' href='#16.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-208'><div class='texpara'><a class='footnotenum' href='#footnote-208'>208)</a><a class='footnoteBacklink' href='#footnoteref-208'>208)</a> <div id='footnote-208.sentence-1' class='sentence'>The sentinel denoting the end of a range
can have the same type as the iterator denoting the beginning of the range, or a
different type<a class='hidden_link' href='#footnote-208.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-209'><div class='texpara'><a class='footnotenum' href='#footnote-209'>209)</a><a class='footnoteBacklink' href='#footnoteref-209'>209)</a> <div id='footnote-209.sentence-1' class='sentence'>This definition applies to pointers, since pointers are iterators<a class='hidden_link' href='#footnote-209.sentence-1'>.</a></div> <div id='footnote-209.sentence-2' class='sentence'>The effect of dereferencing an iterator that has been invalidated
is undefined<a class='hidden_link' href='#footnote-209.sentence-2'>.</a></div></div></div></div></body></html>