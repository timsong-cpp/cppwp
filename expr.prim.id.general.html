<!DOCTYPE html><html lang='en'><head><title>[expr.prim.id.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>7.5</a> Primary expressions <a class='abbr_ref' href='expr.prim#id.general'>[expr.prim]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>7.5.4</a> Names <a class='abbr_ref' href='expr.prim.id#general'>[expr.prim.id]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>7.5.4.1</a> General <a class='abbr_ref'>[expr.prim.id.general]</a></h4><div class='texpara'><div class='bnf' id='nt:id-expression'>
<a class='hidden_link' href='#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='nt:id-expression'><span id=':id-expression'>id-expression<span class='textnormal'>:</span></span></span></a><br/><a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a><br/><a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
</div></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/expressions.tex#L1325'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><a class='index' id=':name'></a><a class='index' id=':id-expression'></a>An <a href='#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> is a restricted form of a
<a href='expr.prim#nt:primary-expression' title='7.5&emsp;Primary expressions&emsp;[expr.prim]'><span id='ntref:primary-expression'><span class='textsf'><i >primary-expression</i></span></span></a><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='1.sentence-2' class='sentence'>An <a href='#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> can appear after
<a href='expr.ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'><span class='texttt'>.</span> and <span class='texttt'>-&gt;</span> operators</a><a class='hidden_link' href='#1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/expressions.tex#L1335'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>If an <a href='#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span> denotes
a member <span class='math'><span class='mathalpha'>M</span></span> of an anonymous union (<a href='class.union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>) <span class='math'><span class='mathalpha'>U</span></span>:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div><div class='texpara'><div id='2.1.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>U</span></span> is a non-static data member,
<span class='math'><span class='mathalpha'>E</span></span> refers to <span class='math'><span class='mathalpha'>M</span></span> as a member of the lookup context of the terminal name of <span class='math'><span class='mathalpha'>E</span></span> (after any transformation to
a class member access expression (<a href='class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>))<a class='hidden_link' href='#2.1.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>: <div id='2.1.sentence-2' class='sentence'><span class='texttt'>o<span class='operator'>.</span>x</span> is interpreted as <span class='texttt'>o<span class='operator'>.</span><span class='math'><span class='mathalpha'>u</span></span><span class='operator'>.</span>x</span>,
where <span class='math'><span class='mathalpha'>u</span></span> names the anonymous union member<a class='hidden_link' href='#2.1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div><div class='texpara'><div id='2.2.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>E</span></span> is interpreted as a class member access (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)
that designates the member subobject <span class='math'><span class='mathalpha'>M</span></span> of
the anonymous union variable for <span class='math'><span class='mathalpha'>U</span></span><a class='hidden_link' href='#2.2.sentence-1'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>: <div id='2.2.sentence-2' class='sentence'>Under this interpretation, <span class='math'><span class='mathalpha'>E</span></span> no longer denotes a non-static data member<a class='hidden_link' href='#2.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>: <div id='2.2.sentence-3' class='sentence'><span class='texttt'>N<span class='operator'>&#x200b;::&#x200b;</span>x</span> is interpreted as <span class='texttt'>N<span class='operator'>&#x200b;::&#x200b;</span><span class='math'><span class='mathalpha'>u</span></span><span class='operator'>.</span>x</span>,
where <span class='math'><span class='mathalpha'>u</span></span> names the anonymous union variable<a class='hidden_link' href='#2.2.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/expressions.tex#L1360'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>An <a href='#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a> that denotes a non-static data member or
implicit object member function of a class can only be used:
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.1'>(3.1)</a></div>as part of a <a href='expr.ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'>class member access</a> in which the
object expression
refers to the member's class<a class='footnoteref' href='#footnote-50' id='footnoteref-50' title='This also applies when the object expression is an implicit (*this) ([class.mfct.non.static]).'>50</a>
or a class derived from
that class, or</li><li id='3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.2'>(3.2)</a></div>to form a pointer to member (<a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>), or</li><li id='3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.3'>(3.3)</a></div>if that <a href='#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a> denotes a non-static data member
and it appears in an unevaluated operand<a class='hidden_link' href='#3.sentence-1'>.</a> <div class='texpara'><div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> i <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>S<span class='operator'>::</span>m<span class='parenthesis'>)</span>;           <span class='comment'>// OK</span>
<span class='keyword'>int</span> j <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>S<span class='operator'>::</span>m <span class='operator'>+</span> <span class='literal'>42</span><span class='parenthesis'>)</span>;      <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a4b1ffd9e65188ae19c29dffd2db42cb1558cee2/source/expressions.tex#L1389'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>For an <a href='#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____'><span class='textsf'><i >id-expression</i></span></span></a> that denotes an overload set,
overload resolution is performed
to select a unique function (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>: <div id='4.sentence-2' class='sentence'>A program cannot refer to a function
with a trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a>
whose <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a> is not satisfied,
because such functions are never selected by overload resolution<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='literal'>false</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                         <span class='comment'>// error: cannot call <span class='tcode_in_codeblock'>f</span></span>
  <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f;          <span class='comment'>// error: cannot take the address of <span class='tcode_in_codeblock'>f</span></span>
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>)</span><span class='operator'>*</span> p2 <span class='operator'>=</span> <span class='literal'>nullptr</span>;    <span class='comment'>// error: the type <span class='tcode_in_codeblock'>decltype(A&lt;int&gt;&#x200b;::&#x200b;f)</span> is invalid</span>
<span class='curlybracket'>}</span>
</span> <div id='4.sentence-3' class='sentence'>
In each case, the constraints of <span class='texttt'>f</span> are not satisfied<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>In the declaration of <span class='texttt'>p2</span>,
those constraints are required to be satisfied
even though
<span class='texttt'>f</span> is an <a href='expr.context#def:unevaluated_operand' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'>unevaluated operand</a><a class='hidden_link' href='#4.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-50'><div class='texpara'><a class='footnotenum' href='#footnote-50'>50)</a><a class='footnoteBacklink' href='#footnoteref-50'>50)</a> <div id='footnote-50.sentence-1' class='sentence'>This also applies when the object expression
is an implicit <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span><span class='parenthesis'>)</span></span> (<a href='class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#footnote-50.sentence-1'>.</a></div></div></div></div></body></html>