<!DOCTYPE html><html lang='en'><head><title>[cpp.stringize]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>15</a> Preprocessing directives <a class='abbr_ref' href='./#cpp'>[cpp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>15.6</a> Macro replacement <a class='abbr_ref' href='cpp.replace#cpp.stringize'>[cpp.replace]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>15.6.2</a> The <span class='texttt'>#</span> operator <a class='abbr_ref'>[cpp.stringize]</a></h3><span class='indexparent'><a class='index' id=':#_operator'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/preprocessor.tex#L1183'>#</a></div><div id='1.sentence-1' class='sentence'>Each
<span class='texttt'><span class='preprocessordirective'>#</span></span>
preprocessing token in the replacement list for a function-like
macro shall be followed by a parameter as the next preprocessing
token in the replacement list<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/cbbbbc53b68c18a611bf75c5e626ad2c6aa56a3c/source/preprocessor.tex#L1190'>#</a></div><div id='2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:character_string_literal' id='def:character_string_literal'><i >character string literal</i></a> is a <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a> with no prefix<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If, in the replacement list, a parameter is immediately
preceded by a
<span class='texttt'><span class='preprocessordirective'>#</span></span>
preprocessing token,
both are replaced by a single character string literal preprocessing token that
contains the spelling of the preprocessing token sequence for the
corresponding argument (excluding placemarker tokens)<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>Let the <a class='hidden_link' href='#def:stringizing_argument' id='def:stringizing_argument'><i >stringizing argument</i></a> be the preprocessing token sequence
for the corresponding argument with placemarker tokens removed<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>Each occurrence of white space between the stringizing argument's preprocessing
tokens becomes a single space character in the character string literal<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>White space before the first preprocessing token and after the last
preprocessing token comprising the stringizing argument is deleted<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.sentence-6' class='sentence'>Otherwise, the original spelling of each preprocessing token in the
stringizing argument is retained in the character string literal,
except for special handling for producing the spelling of
string literals and character literals:
a
<span class='texttt'>\</span>
character is inserted before each
<span class='texttt'>"</span>
and
<span class='texttt'>\</span>
character of a character literal or string literal
(including the delimiting
<span class='texttt'>"</span>
characters)<a class='hidden_link' href='#2.sentence-6'>.</a></div> <div id='2.sentence-7' class='sentence'>If the replacement that results is not a valid character string literal,
the behavior is undefined<a class='hidden_link' href='#2.sentence-7'>.</a></div> <div id='2.sentence-8' class='sentence'>The character string literal corresponding to
an empty stringizing argument is <span class='texttt'><span class='literal'>""</span></span><a class='hidden_link' href='#2.sentence-8'>.</a></div> <div id='2.sentence-9' class='sentence'>The order of evaluation of
<span class='texttt'><span class='preprocessordirective'>#</span></span>
and
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span>
operators is unspecified<a class='hidden_link' href='#2.sentence-9'>.</a></div></div></div></body></html>