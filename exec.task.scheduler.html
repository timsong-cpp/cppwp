<!DOCTYPE html><html lang='en'><head><title>[exec.task.scheduler]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>33</a> Execution control library <a class='abbr_ref' href='./#exec'>[exec]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>33.13</a> Coroutine utilities <a class='abbr_ref' href='exec.coro.util#exec.task.scheduler'>[exec.coro.util]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>33.13.5</a> <span class='texttt'>execution&#x200b;::&#x200b;task_<span class='shy'></span>scheduler</span> <a class='abbr_ref'>[exec.task.scheduler]</a></h3><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std<span class='operator'>::</span>execution <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> <span id='lib:task_scheduler'><a class='hidden_link' href='#lib:task_scheduler' title='33.13.5&emsp;execution&#x200b;::&#x200b;task_&shy;scheduler&emsp;[exec.task.scheduler]'>task_scheduler</a></span> <span class='curlybracket'>{</span>
    <span class='keyword'>class</span> <i >ts-sender</i>;                    <span class='comment'>// <i >exposition only</i></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><a href='exec.recv.concepts#concept:receiver' title='33.7.1&emsp;Receiver concepts&emsp;[exec.recv.concepts]'><span id='conceptref:receiver'><span class='tcode_in_codeblock'>receiver</span></span></a> R<span class='anglebracket'>&gt;</span>
      <span class='keyword'>class</span> <i >state</i>;                      <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> scheduler_concept <span class='operator'>=</span> scheduler_t;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Sch, <span class='keyword'>class</span> Allocator <span class='operator'>=</span> allocator<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
      <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>!</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>task_scheduler, remove_cvref_t<span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
        <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='exec.sched#concept:scheduler' title='33.6&emsp;Schedulers&emsp;[exec.sched]'><span id='conceptref:scheduler'><span class='tcode_in_codeblock'>scheduler</span></span></a><span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span>
    <span class='keyword'>explicit</span> task_scheduler<span class='parenthesis'>(</span>Sch<span class='operator'>&amp;</span><span class='operator'>&amp;</span> sch, Allocator alloc <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;

    <i >ts-sender</i> schedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> task_scheduler<span class='operator'>&amp;</span> lhs, <span class='keyword'>const</span> task_scheduler<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>
        <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Sch<span class='anglebracket'>&gt;</span>
      <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>!</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as_'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>task_scheduler, Sch<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
      <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='exec.sched#concept:scheduler' title='33.6&emsp;Schedulers&emsp;[exec.sched]'><span id='conceptref:scheduler_'><span class='tcode_in_codeblock'>scheduler</span></span></a><span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span>
    <span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> task_scheduler<span class='operator'>&amp;</span> lhs, <span class='keyword'>const</span> Sch<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    shared_ptr<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='anglebracket'>&gt;</span> <i >sch_</i>; <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7020'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><span class='texttt'>task_<span class='shy'></span>scheduler</span> is a class that models
<a href='exec.sched#concept:scheduler' title='33.6&emsp;Schedulers&emsp;[exec.sched]'><span id='conceptref:scheduler__'><span class='texttt'>scheduler</span></span></a> (<a href='exec.sched' title='33.6&emsp;Schedulers'>[exec.<span class='shy'></span>sched]</a>)<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Given an object <span class='texttt'>s</span> of type <span class='texttt'>task_<span class='shy'></span>scheduler</span>, let
<span class='texttt'><span class='texttt'><i >SCHED</i></span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span></span> be the object owned by <span class='texttt'>s<span class='operator'>.</span><span class='texttt'><i >sch_<span class='shy'></span></i></span></span><a class='hidden_link' href='#1.sentence-2'>.</a></div></div></div><div class='texpara'><div id='lib:task_scheduler,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:task_scheduler,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Sch, <span class='keyword'>class</span> Allocator <span class='operator'>=</span> allocator<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span><span class='parenthesis'>(</span><span class='operator'>!</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as__'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>task_scheduler, remove_cvref_t<span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='exec.sched#concept:scheduler' title='33.6&emsp;Schedulers&emsp;[exec.sched]'><span id='conceptref:scheduler___'><span class='texttt'>scheduler</span></span></a><span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span>
<span class='keyword'>explicit</span> task_scheduler<span class='parenthesis'>(</span>Sch<span class='operator'>&amp;</span><span class='operator'>&amp;</span> sch, Allocator alloc <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7033'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><i >Effects</i>: Initialize <span class='texttt'><i >sch_<span class='shy'></span></i></span> with
<span class='texttt'>allocate_<span class='shy'></span>shared<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>alloc,&#x200b; std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span>&#x200b;<span class='parenthesis'>(</span>sch<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#2.sentence-1'>.</a></div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7038'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should avoid the use of dynamically
allocated memory for small scheduler objects<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7043'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'><i >Remarks</i>: Any allocations performed by construction of <span class='texttt'><i >ts-sender</i></span> or
<span class='texttt'><i >state</i></span> objects resulting from calls on <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> are
performed using a copy of <span class='texttt'>alloc</span><a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:task_scheduler,scheduler'><div id='lib:scheduler,task_scheduler'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:scheduler,task_scheduler'>ðŸ”—</a></div><code class='itemdeclcode'><span class='texttt'><i >ts-sender</i></span> schedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7055'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><i >Effects</i>: Returns an object of type <span class='texttt'><i >ts-sender</i></span> containing a sender
initialized with <span class='texttt'>schedule<span class='parenthesis'>(</span>&#x200b;<span class='texttt'><i >SCHED</i></span>&#x200b;<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:task_scheduler,operator=='><div id='lib:operator==,task_scheduler'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,task_scheduler'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> task_scheduler<span class='operator'>&amp;</span> lhs, <span class='keyword'>const</span> task_scheduler<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7066'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> lhs <span class='operator'>=</span><span class='operator'>=</span> <span class='texttt'><i >SCHED</i></span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:task_scheduler,operator==_'><div id='lib:operator==,task_scheduler_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,task_scheduler_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Sch<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>!</span><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as___'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>task_scheduler, Sch<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
        <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='exec.sched#concept:scheduler' title='33.6&emsp;Schedulers&emsp;[exec.sched]'><span id='conceptref:scheduler____'><span class='texttt'>scheduler</span></span></a><span class='anglebracket'>&lt;</span>Sch<span class='anglebracket'>&gt;</span>
<span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> task_scheduler<span class='operator'>&amp;</span> lhs, <span class='keyword'>const</span> Sch<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7079'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>false</span></span> if type of <span class='texttt'><span class='texttt'><i >SCHED</i></span><span class='parenthesis'>(</span>lhs<span class='parenthesis'>)</span></span> is not <span class='texttt'>Sch</span>,
otherwise <span class='texttt'><span class='texttt'><i >SCHED</i></span><span class='parenthesis'>(</span>lhs<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs;</span></div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7085'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'><span class='codeblock'><span class='keyword'>namespace</span> std<span class='operator'>::</span>execution <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> task_scheduler<span class='operator'>::</span><i >ts-sender</i> <span class='curlybracket'>{</span>     <span class='comment'>// <i >exposition only</i></span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> sender_concept <span class='operator'>=</span> sender_t;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><a href='exec.recv.concepts#concept:receiver' title='33.7.1&emsp;Receiver concepts&emsp;[exec.recv.concepts]'><span id='conceptref:receiver_'><span class='tcode_in_codeblock'>receiver</span></span></a> Rcvr<span class='anglebracket'>&gt;</span>
      <i >state</i><span class='anglebracket'>&lt;</span>Rcvr<span class='anglebracket'>&gt;</span> connect<span class='parenthesis'>(</span>Rcvr<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rcvr<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span>
<span class='texttt'><i >ts-sender</i></span> is an exposition-only class that models
<a href='exec.snd.concepts#concept:sender' title='33.9.3&emsp;Sender concepts&emsp;[exec.snd.concepts]'><span id='conceptref:sender'><span class='texttt'>sender</span></span></a> (<a href='exec.snd' title='33.9&emsp;Senders'>[exec.<span class='shy'></span>snd]</a>) and for which
<span class='texttt'>completion_<span class='shy'></span>signatures_<span class='shy'></span>of_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='texttt'><i >ts-sender</i></span><span class='anglebracket'>&gt;</span></span> denotes:
<span class='codeblock'>completion_signatures<span class='anglebracket'>&lt;</span>
  set_value_t<span class='parenthesis'>(</span><span class='parenthesis'>)</span>,
  set_error_t<span class='parenthesis'>(</span>error_code<span class='parenthesis'>)</span>,
  set_error_t<span class='parenthesis'>(</span>exception_ptr<span class='parenthesis'>)</span>,
  set_stopped_t<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>
</span></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7108'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>Let <span class='texttt'><i >sch</i></span> be an object of type <span class='texttt'>task_<span class='shy'></span>scheduler</span>
and let <span class='texttt'>sndr</span> be an object of type <span class='texttt'><i >ts-sender</i></span> obtained
from <span class='texttt'>schedule<span class='parenthesis'>(</span><i >sch</i><span class='parenthesis'>)</span></span><a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>Then <span class='texttt'>get_<span class='shy'></span>completion_<span class='shy'></span>scheduler<span class='anglebracket'>&lt;</span>set_<span class='shy'></span>value_<span class='shy'></span>t<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>get_<span class='shy'></span>env<span class='parenthesis'>(</span>sndr<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <i >sch</i></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#9.sentence-2'>.</a></div> <div id='9.sentence-3' class='sentence'>The object <span class='texttt'><span class='texttt'><i >SENDER</i></span><span class='parenthesis'>(</span>sndr<span class='parenthesis'>)</span></span> is the sender object contained by
<span class='texttt'>sndr</span> or an object move constructed from it<a class='hidden_link' href='#9.sentence-3'>.</a></div></div></div><div class='texpara'><div id='lib:task_scheduler::ts-sender,connect'><div id='lib:connect,task_scheduler::ts-sender'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:connect,task_scheduler::ts-sender'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><a href='exec.recv.concepts#concept:receiver' title='33.7.1&emsp;Receiver concepts&emsp;[exec.recv.concepts]'><span id='conceptref:receiver__'><span class='texttt'>receiver</span></span></a> Rcvr<span class='anglebracket'>&gt;</span>
  <span class='texttt'><i >state</i></span><span class='anglebracket'>&lt;</span>Rcvr<span class='anglebracket'>&gt;</span> connect<span class='parenthesis'>(</span>Rcvr<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rcvr<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7123'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'><i >Effects</i>: Let <span class='texttt'><i >r</i></span> be an object of a type that models <a href='exec.recv.concepts#concept:receiver' title='33.7.1&emsp;Receiver concepts&emsp;[exec.recv.concepts]'><span id='conceptref:receiver___'><span class='texttt'>receiver</span></span></a>
and whose completion handlers result in invoking the corresponding
completion handlers of <span class='texttt'>rcvr</span> or copy thereof<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>Returns an object of type <span class='texttt'><span class='texttt'><i >state</i></span><span class='anglebracket'>&lt;</span>Rcvr<span class='anglebracket'>&gt;</span></span> containing
an operation state object initialized with <span class='texttt'>connect<span class='parenthesis'>(</span><span class='texttt'><i >SENDER</i></span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>,
std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><i >r</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#10.sentence-2'>.</a></div></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7133'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'><span class='codeblock'><span class='keyword'>namespace</span> std<span class='operator'>::</span>execution <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><a href='exec.recv.concepts#concept:receiver' title='33.7.1&emsp;Receiver concepts&emsp;[exec.recv.concepts]'><span id='conceptref:receiver____'><span class='tcode_in_codeblock'>receiver</span></span></a> R<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> task_scheduler<span class='operator'>::</span><i >state</i> <span class='curlybracket'>{</span>         <span class='comment'>// <i >exposition only</i></span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> operation_state_concept <span class='operator'>=</span> operation_state_t;

    <span class='keyword'>void</span> start<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span>
<span class='texttt'><i >state</i></span> is an exposition-only class template whose
specializations model <a href='exec.opstate.general#concept:operation_state' title='33.8.1&emsp;General&emsp;[exec.opstate.general]'><span id='conceptref:operation_state'><span class='texttt'>operation_<span class='shy'></span>state</span></span></a> (<a href='exec.opstate' title='33.8&emsp;Operation states'>[exec.<span class='shy'></span>opstate]</a>)<a class='hidden_link' href='#11.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:task_scheduler::state,start'><div id='lib:start,task_scheduler::state'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:start,task_scheduler::state'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> start<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/exec.tex#L7153'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>start<span class='parenthesis'>(</span>st<span class='parenthesis'>)</span></span> where <span class='texttt'>st</span> is the operation
state object contained by <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#12.sentence-1'>.</a></div></div></div></div></div></body></html>