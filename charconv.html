<!DOCTYPE html><html lang='en'><head><title>[charconv]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.20</a> Primitive numeric conversions <a class='abbr_ref'>[charconv]</a></h2><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:103pt'>23.20.1</a> Header <span class='texttt'>&lt;charconv&gt;</span> synopsis <a class='abbr_ref' href='charconv.syn'>[charconv.syn]</a></h3><span class='indexparent'><a class='index' id=':<charconv>'></a></span><span class='indexparent'><a class='index' id='lib:<charconv>'></a></span><pre class='codeblock'>
namespace std {

  <span class='comment'>// floating-point format for primitive numerical conversion
</span>  enum class <span id='lib:chars_format'><span class='tcode_in_codeblock'>chars_&shy;format</span></span> {
    <span id='lib:chars_format,scientific'><span id='lib:scientific,chars_format'><span class='tcode_in_codeblock'>scientific</span></span></span> = <span class='textit'><span class='texttt'>unspecified</span></span>,
    <span id='lib:chars_format,fixed'><span id='lib:fixed,chars_format'><span class='tcode_in_codeblock'>fixed</span></span></span> = <span class='textit'><span class='texttt'>unspecified</span></span>,
    <span id='lib:chars_format,hex'><span id='lib:hex,chars_format'><span class='tcode_in_codeblock'>hex</span></span></span> = <span class='textit'><span class='texttt'>unspecified</span></span>,
    <span id='lib:chars_format,general'><span id='lib:general,chars_format'><span class='tcode_in_codeblock'>general</span></span></span> = fixed | scientific
  };

  <span class='comment'>// <a href='charconv.to.chars'>[charconv.to.chars]</a>, primitive numerical output conversion
</span>  struct <span id='lib:to_chars_result'><span class='tcode_in_codeblock'>to_&shy;chars_&shy;result</span></span> {
    char* <span id='lib:to_chars_result,ptr'><span id='lib:ptr,to_chars_result'><span class='tcode_in_codeblock'>ptr</span></span></span>;
    errc <span id='lib:to_chars_result,ec'><span id='lib:ec,to_chars_result'><span class='tcode_in_codeblock'>ec</span></span></span>;
  };

  to_chars_result to_chars(char* first, char* last, <span class='textit'><span class='texttt'>see below</span></span> value, int base = 10);

  to_chars_result to_chars(char* first, char* last, float value);
  to_chars_result to_chars(char* first, char* last, double value);
  to_chars_result to_chars(char* first, char* last, long double value);

  to_chars_result to_chars(char* first, char* last, float value,
                           chars_format fmt);
  to_chars_result to_chars(char* first, char* last, double value,
                           chars_format fmt);
  to_chars_result to_chars(char* first, char* last, long double value,
                           chars_format fmt);

  to_chars_result to_chars(char* first, char* last, float value,
                           chars_format fmt, int precision);
  to_chars_result to_chars(char* first, char* last, double value,
                           chars_format fmt, int precision);
  to_chars_result to_chars(char* first, char* last, long double value,
                           chars_format fmt, int precision);

  <span class='comment'>// <a href='charconv.from.chars'>[charconv.from.chars]</a>, primitive numerical input conversion
</span>  struct <span id='lib:from_chars_result'><span class='tcode_in_codeblock'>from_&shy;chars_&shy;result</span></span> {
    const char* <span id='lib:from_chars_result,ptr'><span id='lib:ptr,from_chars_result'><span class='tcode_in_codeblock'>ptr</span></span></span>;
    errc <span id='lib:from_chars_result,ec'><span id='lib:ec,from_chars_result'><span class='tcode_in_codeblock'>ec</span></span></span>;
  };

  from_chars_result from_chars(const char* first, const char* last,
                               <span class='textit'><span class='texttt'>see below</span></span>&amp; value, int base = 10);

  from_chars_result from_chars(const char* first, const char* last, float&amp; value,
                               chars_format fmt = chars_format::general);
  from_chars_result from_chars(const char* first, const char* last, double&amp; value,
                               chars_format fmt = chars_format::general);
  from_chars_result from_chars(const char* first, const char* last, long double&amp; value,
                               chars_format fmt = chars_format::general);
}</pre></div><div id='to.chars' class='section'><h3 ><a class='secnum' href='#to.chars' style='min-width:103pt'>23.20.2</a> Primitive numeric output conversion <a class='abbr_ref' href='charconv.to.chars'>[charconv.to.chars]</a></h3><div class='para' id='to.chars-1'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19269'>#</a></div><div id='to.chars-1.sentence-1' class='sentence'>All functions named <span class='texttt'>to_&shy;chars</span>
convert <span class='texttt'>value</span> into a character string
by successively filling the range
<span class='texttt'>[first, last)</span>,
where <span class='texttt'>[first, last)</span> is required to be a valid range<a class='hidden_link' href='#to.chars-1.sentence-1'>.</a></div> <div id='to.chars-1.sentence-2' class='sentence'>If the member <span class='texttt'>ec</span>
of the return value
is such that the value
is equal to the value of a value-initialized <span class='texttt'>errc</span>,
the conversion was successful
and the member <span class='texttt'>ptr</span>
is the one-past-the-end pointer of the characters written<a class='hidden_link' href='#to.chars-1.sentence-2'>.</a></div> <div id='to.chars-1.sentence-3' class='sentence'>Otherwise,
the member <span class='texttt'>ec</span> has the value <span class='texttt'>errc&#x200b;::&#x200b;value_&shy;too_&shy;large</span>,
the member <span class='texttt'>ptr</span> has the value <span class='texttt'>last</span>,
and the contents of the range <span class='texttt'>[first, last)</span> are unspecified<a class='hidden_link' href='#to.chars-1.sentence-3'>.</a></div></div><div class='para' id='to.chars-2'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19287'>#</a></div><div id='to.chars-2.sentence-1' class='sentence'>The functions that take a floating-point <span class='texttt'>value</span>
but not a <span class='texttt'>precision</span> parameter
ensure that the string representation
consists of the smallest number of characters
such that
there is at least one digit before the radix point (if present) and
parsing the representation using the corresponding <span class='texttt'>from_&shy;chars</span> function
recovers <span class='texttt'>value</span> exactly<a class='hidden_link' href='#to.chars-2.sentence-1'>.</a></div> <div id='to.chars-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#to.chars-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='to.chars-2.sentence-3' class='sentence'>This guarantee applies only if
<span class='texttt'>to_&shy;chars</span> and <span class='texttt'>from_&shy;chars</span>
are executed on the same implementation<a class='hidden_link' href='#to.chars-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='to.chars-2.sentence-2' class='sentence'>
If there are several such representations,
the representation with the smallest difference from
the floating-point argument value is chosen,
resolving any remaining ties using rounding according to
<a href='round.style#lib:round_to_nearest'><span class='texttt'>round_&shy;to_&shy;nearest</span></a><a class='hidden_link' href='#to.chars-2.sentence-2'>.</a></div></div><div class='para' id='to.chars-3'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19307'>#</a></div><div id='to.chars-3.sentence-1' class='sentence'>The functions taking a <span class='texttt'>chars_&shy;format</span> parameter
determine the conversion specifier for <span class='texttt'>printf</span> as follows:
The conversion specifier is
<span class='texttt'>f</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;fixed</span>,
<span class='texttt'>e</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;scientific</span>,
<span class='texttt'>a</span> (without leading <span class='texttt'>"0x"</span> in the result)
if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;hex</span>,
and
<span class='texttt'>g</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;general</span><a class='hidden_link' href='#to.chars-3.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='to.chars-3.sentence-2' class='sentence'><div id='lib:to_chars'>
<code class='itemdecl'>to_chars_result to_chars(char* first, char* last, <span class='textit'><span class='texttt'>see below</span></span> value, int base = 10);
</code>
</div></div></div><div class='itemdescr'></div><div class='para' id='to.chars-4'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19325'>#</a></div><div id='to.chars-4.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>base</span> has a value between 2 and 36 (inclusive)<a class='hidden_link' href='#to.chars-4.sentence-1'>.</a></div></div></div><div class='para' id='to.chars-5'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19328'>#</a></div><div id='to.chars-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> The value of <span class='texttt'>value</span> is converted
to a string of digits in the given base
(with no redundant leading zeroes)<a class='hidden_link' href='#to.chars-5.sentence-1'>.</a></div> <div id='to.chars-5.sentence-2' class='sentence'>Digits in the range 10<a class='hidden_link' href='#to.chars-5.sentence-2'>.</a></div> <div id='to.chars-5.sentence-3' class='sentence'><a class='hidden_link' href='#to.chars-5.sentence-3'>.</a></div> <div id='to.chars-5.sentence-4' class='sentence'>35 (inclusive)
are represented as lowercase characters <span class='texttt'>a</span><a class='hidden_link' href='#to.chars-5.sentence-4'>.</a></div> <div id='to.chars-5.sentence-5' class='sentence'><a class='hidden_link' href='#to.chars-5.sentence-5'>.</a></div> <div id='to.chars-5.sentence-6' class='sentence'><span class='texttt'>z</span><a class='hidden_link' href='#to.chars-5.sentence-6'>.</a></div> <div id='to.chars-5.sentence-7' class='sentence'>If <span class='texttt'>value</span> is less than zero,
the representation starts with a minus sign<a class='hidden_link' href='#to.chars-5.sentence-7'>.</a></div></div></div><div class='para' id='to.chars-6'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19337'>#</a></div><div id='to.chars-6.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#to.chars-6.sentence-1'>.</a></div></div></div><div class='para' id='to.chars-7'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19340'>#</a></div><div id='to.chars-7.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The implementation shall provide overloads
for all signed and unsigned integer types
and <span class='texttt'>char</span>
as the type of the parameter <span class='texttt'>value</span><a class='hidden_link' href='#to.chars-7.sentence-1'>.</a></div></div></div><div id='to.chars-sentence-1' class='sentence'><div id='lib:to_chars'>
<code class='itemdecl'>to_chars_result to_chars(char* first, char* last, float value);
to_chars_result to_chars(char* first, char* last, double value);
to_chars_result to_chars(char* first, char* last, long double value);
</code>
</div></div><div class='itemdescr'></div><div class='para' id='to.chars-8'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19357'>#</a></div><div id='to.chars-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale<a class='hidden_link' href='#to.chars-8.sentence-1'>.</a></div> <div id='to.chars-8.sentence-2' class='sentence'>The conversion specifier is <span class='texttt'>f</span> or <span class='texttt'>e</span>,
chosen according to the requirement for a shortest representation
(see above);
a tie is resolved in favor of <span class='texttt'>f</span><a class='hidden_link' href='#to.chars-8.sentence-2'>.</a></div></div></div><div class='para' id='to.chars-9'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19366'>#</a></div><div id='to.chars-9.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#to.chars-9.sentence-1'>.</a></div></div></div><div id='to.chars-sentence-1' class='sentence'><div id='lib:to_chars'>
<code class='itemdecl'>to_chars_result to_chars(char* first, char* last, float value, chars_format fmt);
to_chars_result to_chars(char* first, char* last, double value, chars_format fmt);
to_chars_result to_chars(char* first, char* last, long double value, chars_format fmt);
</code>
</div></div><div class='itemdescr'></div><div class='para' id='to.chars-10'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19379'>#</a></div><div id='to.chars-10.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_&shy;format</span><a class='hidden_link' href='#to.chars-10.sentence-1'>.</a></div></div></div><div class='para' id='to.chars-11'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19383'>#</a></div><div id='to.chars-11.sentence-1' class='sentence'><span class='textit'>Effects:</span> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale<a class='hidden_link' href='#to.chars-11.sentence-1'>.</a></div></div></div><div class='para' id='to.chars-12'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19388'>#</a></div><div id='to.chars-12.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#to.chars-12.sentence-1'>.</a></div></div></div><div id='to.chars-sentence-1' class='sentence'><div id='lib:to_chars'>
<code class='itemdecl'>to_chars_result to_chars(char* first, char* last, float value,
                         chars_format fmt, int precision);
to_chars_result to_chars(char* first, char* last, double value,
                         chars_format fmt, int precision);
to_chars_result to_chars(char* first, char* last, long double value,
                         chars_format fmt, int precision);
</code>
</div></div><div class='itemdescr'></div><div class='para' id='to.chars-13'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19404'>#</a></div><div id='to.chars-13.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_&shy;format</span><a class='hidden_link' href='#to.chars-13.sentence-1'>.</a></div></div></div><div class='para' id='to.chars-14'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19408'>#</a></div><div id='to.chars-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale
with the given precision<a class='hidden_link' href='#to.chars-14.sentence-1'>.</a></div></div></div><div class='para' id='to.chars-15'><div class='marginalizedparent'><a class='marginalized' href='#to.chars-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19414'>#</a></div><div id='to.chars-15.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#to.chars-15.sentence-1'>.</a></div></div></div><div id='to.chars-sentence-1' class='sentence'><span class='textsc'>See also:</span> ISO C 7.21.6.1</div></div><div id='from.chars' class='section'><h3 ><a class='secnum' href='#from.chars' style='min-width:103pt'>23.20.3</a> Primitive numeric input conversion <a class='abbr_ref' href='charconv.from.chars'>[charconv.from.chars]</a></h3><div class='para' id='from.chars-1'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19422'>#</a></div><div id='from.chars-1.sentence-1' class='sentence'>All functions named <span class='texttt'>from_&shy;chars</span>
analyze the string <span class='texttt'>[first, last)</span>
for a pattern,
where <span class='texttt'>[first, last)</span> is required to be a valid range<a class='hidden_link' href='#from.chars-1.sentence-1'>.</a></div> <div id='from.chars-1.sentence-2' class='sentence'>If no characters match the pattern,
<span class='texttt'>value</span> is unmodified,
the member <span class='texttt'>ptr</span> of the return value is <span class='texttt'>first</span> and
the member <span class='texttt'>ec</span> is equal to <span class='texttt'>errc&#x200b;::&#x200b;invalid_&shy;argument</span><a class='hidden_link' href='#from.chars-1.sentence-2'>.</a></div> <div id='from.chars-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#from.chars-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='from.chars-1.sentence-7' class='sentence'>If the pattern allows for an optional sign,
but the string has no digit characters following the sign,
no characters match the pattern<a class='hidden_link' href='#from.chars-1.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='from.chars-1.sentence-3' class='sentence'>
Otherwise,
the characters matching the pattern
are interpreted as a representation
of a value of the type of <span class='texttt'>value</span><a class='hidden_link' href='#from.chars-1.sentence-3'>.</a></div> <div id='from.chars-1.sentence-4' class='sentence'>The member <span class='texttt'>ptr</span>
of the return value
points to the first character
not matching the pattern,
or has the value <span class='texttt'>last</span>
if all characters match<a class='hidden_link' href='#from.chars-1.sentence-4'>.</a></div> <div id='from.chars-1.sentence-5' class='sentence'>If the parsed value
is not in the range
representable by the type of <span class='texttt'>value</span>,
<span class='texttt'>value</span> is unmodified and
the member <span class='texttt'>ec</span> of the return value
is equal to <span class='texttt'>errc&#x200b;::&#x200b;result_&shy;out_&shy;of_&shy;range</span><a class='hidden_link' href='#from.chars-1.sentence-5'>.</a></div> <div id='from.chars-1.sentence-6' class='sentence'>Otherwise,
<span class='texttt'>value</span> is set to the parsed value,
after rounding according to <a href='round.style#lib:round_to_nearest'><span class='texttt'>round_&shy;to_&shy;nearest</span></a>, and
the member <span class='texttt'>ec</span> is value-initialized<a class='hidden_link' href='#from.chars-1.sentence-6'>.</a></div><div style='height:0.6em;display:block'></div><div id='from.chars-1.sentence-8' class='sentence'><div id='lib:from_chars'>
<code class='itemdecl'>from_chars_result from_chars(const char* first, const char* last,
                             <span class='textit'><span class='texttt'>see below</span></span>&amp; value, int base = 10);
</code>
</div></div></div><div class='itemdescr'></div><div class='para' id='from.chars-2'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19463'>#</a></div><div id='from.chars-2.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>base</span> has a value between 2 and 36 (inclusive)<a class='hidden_link' href='#from.chars-2.sentence-1'>.</a></div></div></div><div class='para' id='from.chars-3'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19466'>#</a></div><div id='from.chars-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> The pattern is the expected form of the subject sequence
in the <span class='texttt'>"C"</span> locale
for the given nonzero base,
as described for <span class='texttt'>strtol</span>,
except that no <span class='texttt'>"0x"</span> or <span class='texttt'>"0X"</span> prefix shall appear
if the value of <span class='texttt'>base</span> is 16,
and except that a minus sign
is the only sign that may appear,
and only if <span class='texttt'>value</span> has a signed type<a class='hidden_link' href='#from.chars-3.sentence-1'>.</a></div></div></div><div class='para' id='from.chars-4'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19477'>#</a></div><div id='from.chars-4.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#from.chars-4.sentence-1'>.</a></div></div></div><div class='para' id='from.chars-5'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19480'>#</a></div><div id='from.chars-5.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The implementation shall provide overloads
for all signed and unsigned integer types
and <span class='texttt'>char</span>
as the referenced type of the parameter <span class='texttt'>value</span><a class='hidden_link' href='#from.chars-5.sentence-1'>.</a></div></div></div><div id='from.chars-sentence-1' class='sentence'><div id='lib:from_chars'>
<code class='itemdecl'>from_chars_result from_chars(const char* first, const char* last, float&amp; value,
                             chars_format fmt = chars_format::general);
from_chars_result from_chars(const char* first, const char* last, double&amp; value,
                             chars_format fmt = chars_format::general);
from_chars_result from_chars(const char* first, const char* last, long double&amp; value,
                             chars_format fmt = chars_format::general);
</code>
</div></div><div class='itemdescr'></div><div class='para' id='from.chars-6'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19500'>#</a></div><div id='from.chars-6.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_&shy;format</span><a class='hidden_link' href='#from.chars-6.sentence-1'>.</a></div></div></div><div class='para' id='from.chars-7'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19504'>#</a></div><div id='from.chars-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> The pattern is the expected form of the subject sequence
in the <span class='texttt'>"C"</span> locale,
as described for <span class='texttt'>strtod</span>,
except that
<ul class='itemize'><li id='from.chars-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#from.chars-7.1'>(7.1)</a></div><div id='from.chars-7.1.sentence-1' class='sentence'>the only sign that may appear is a minus sign;</div></li><li id='from.chars-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#from.chars-7.2'>(7.2)</a></div><div id='from.chars-7.2.sentence-1' class='sentence'>if <span class='texttt'>fmt</span> has <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;scientific</span> set
but not <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;fixed</span>,
the otherwise optional exponent part shall appear;</div></li><li id='from.chars-7.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#from.chars-7.3'>(7.3)</a></div><div id='from.chars-7.3.sentence-1' class='sentence'>if <span class='texttt'>fmt</span> has <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;fixed</span> set
but not <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;scientific</span>,
the optional exponent part shall not appear; and</div></li><li id='from.chars-7.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#from.chars-7.4'>(7.4)</a></div><div id='from.chars-7.4.sentence-1' class='sentence'>if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;hex</span>,
the prefix <span class='texttt'>"0x"</span> or <span class='texttt'>"0X"</span> is assumed<a class='hidden_link' href='#from.chars-7.4.sentence-1'>.</a></div> <div id='from.chars-7.4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#from.chars-7.4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='from.chars-7.4.sentence-2' class='sentence'>The string <span class='texttt'>0x123</span>
is parsed to have the value
<span class='texttt'>0</span>
with remaining characters <span class='texttt'>x123</span><a class='hidden_link' href='#from.chars-7.4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul>
In any case, the resulting <span class='texttt'>value</span> is one of
at most two floating-point values
closest to the value of the string matching the pattern<a class='hidden_link' href='#from.chars-7.sentence-1'>.</a></div></div></div><div class='para' id='from.chars-8'><div class='marginalizedparent'><a class='marginalized' href='#from.chars-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/utilities.tex#L19534'>#</a></div><div id='from.chars-8.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#from.chars-8.sentence-1'>.</a></div></div></div><div id='from.chars-sentence-1' class='sentence'><span class='textsc'>See also:</span> ISO C 7.22.1.3, 7.22.1.4</div></div></div></body></html>