<!DOCTYPE html><html lang='en'><head><title>[dcl.init]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>9.4</a> Initializers <a class='abbr_ref'>[dcl.init]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>9.4.1</a> General <a class='abbr_ref' href='dcl.init.general'>[dcl.init.general]</a></h3><div class='texpara'><a class='index' id=':initialization'></a></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4301'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>The process of initialization described in [dcl.<span class='shy'></span>init] applies to
all initializations regardless of syntactic context, including the
initialization of a function parameter (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>), the
initialization of a return value (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>), or when an
initializer follows a declarator<a class='hidden_link' href='#general-1.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:initializer'>
<a class='hidden_link' href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:initializer'><span id=':initializer'>initializer<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><br/><span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:brace-or-equal-initializer'>
<a class='hidden_link' href='#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:brace-or-equal-initializer'><span id=':brace-or-equal-initializer'>brace-or-equal-initializer<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='operator'>=</span></span> <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause'><span class='textsf'><i >initializer-clause</i></span></span></a><br/><a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:initializer-clause'>
<a class='hidden_link' href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:initializer-clause'><span id=':initializer-clause'>initializer-clause<span class='textnormal'>:</span></span></span></a><br/><a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression'><span class='textsf'><i >assignment-expression</i></span></span></a><br/><a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><i >braced-init-list</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:braced-init-list'>
<a class='hidden_link' href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:braced-init-list'><span id=':braced-init-list'>braced-init-list<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='curlybracket'>{</span></span> <a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list'><span class='textsf'><i >initializer-list</i></span></span></a> <span class='terminal'>,</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span><br/><span class='terminal'><span class='curlybracket'>{</span></span> <a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list'><span class='textsf'><i >designated-initializer-list</i></span></span></a> <span class='terminal'>,</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span><br/><span class='terminal'><span class='curlybracket'>{</span></span> <span class='terminal'><span class='curlybracket'>}</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:initializer-list'>
<a class='hidden_link' href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:initializer-list'><span id=':initializer-list'>initializer-list<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_'><span class='textsf'><i >initializer-clause</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list_'><span class='textsf'><i >initializer-list</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause__'><span class='textsf'><i >initializer-clause</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:designated-initializer-list'>
<a class='hidden_link' href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:designated-initializer-list'><span id=':designated-initializer-list'>designated-initializer-list<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause'><span class='textsf'><i >designated-initializer-clause</i></span></span></a><br/><a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list_'><span class='textsf'><i >designated-initializer-list</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause_'><span class='textsf'><i >designated-initializer-clause</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:designated-initializer-clause'>
<a class='hidden_link' href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:designated-initializer-clause'><span id=':designated-initializer-clause'>designated-initializer-clause<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:designator' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designator'><span class='textsf'><i >designator</i></span></span></a> <a href='#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:designator'>
<a class='hidden_link' href='#nt:designator' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:designator'><span id=':designator'>designator<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='operator'>.</span></span> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:expr-or-braced-init-list'>
<a class='hidden_link' href='#nt:expr-or-braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='nt:expr-or-braced-init-list'><span id=':expr-or-braced-init-list'>expr-or-braced-init-list<span class='textnormal'>:</span></span></span></a><br/><a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><i >expression</i></span></span></a><br/><a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__'><span class='textsf'><i >braced-init-list</i></span></span></a>
</div></div><div class='texpara'><div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>: <div id='general-1.sentence-2' class='sentence'>The rules in [dcl.<span class='shy'></span>init] apply even if the grammar permits only
the <a href='#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer__'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> form
of <a href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer'><span class='textsf'><i >initializer</i></span></span></a> in a given context<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4367'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>Except for objects declared with the <span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span> specifier, for which see <a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>,
an <a href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_'><span class='textsf'><i >initializer</i></span></span></a> in the definition of a variable can consist of
arbitrary expressions involving literals and previously declared
variables and functions,
regardless of the variable's storage duration<a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> a <span class='operator'>=</span> <span class='literal'>2</span>;
<span class='keyword'>int</span> b <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;
<span class='keyword'>int</span> c<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4382'>#</a></div><div class='texpara'><div id='general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-2'>2</a></i>: <div id='general-3.sentence-1' class='sentence'>Default arguments are more restricted; see <a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a><a class='hidden_link' href='#general-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4387'>#</a></div><div class='texpara'><div id='general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-3'>3</a></i>: <div id='general-4.sentence-1' class='sentence'>The order of initialization of variables with static storage duration is described in <a href='basic.start' title='6.9.3&emsp;Start and termination'>[basic.<span class='shy'></span>start]</a>
and <a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a><a class='hidden_link' href='#general-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-5'><div class='marginalizedparent'><a class='marginalized' href='#general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4393'>#</a></div><div class='texpara'><div id='general-5.sentence-1' class='sentence'>A declaration <span class='math'><span class='mathalpha'>D</span></span> of a variable with linkage
shall not have an <a href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer__'><span class='textsf'><i >initializer</i></span></span></a>
if <span class='math'><span class='mathalpha'>D</span></span> inhabits a block scope<a class='hidden_link' href='#general-5.sentence-1'>.</a></div></div></div><div class='para' id='general-6'><div class='marginalizedparent'><a class='marginalized' href='#general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4398'>#</a></div><div class='texpara'><div id='general-6.sentence-1' class='sentence'><a class='index' id=':initialization,default'></a><a class='index' id=':variable,indeterminate_uninitialized'></a><a class='index' id=':initialization,zero-initialization'></a>To
<a class='hidden_link' href='#def:zero-initialization' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='def:zero-initialization'><i >zero-initialize</i></span></a>
an object or reference of type
<span class='texttt'>T</span>
means:
<ul class='itemize'><li id='general-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.1'>(6.1)</a></div>if
<span class='texttt'>T</span>
is a scalar type (<a href='basic.types.general#term.scalar.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>), the
object
is initialized to the value obtained by converting the integer literal <span class='texttt'><span class='literal'>0</span></span>
(zero) to
<span class='texttt'>T</span>;<a class='footnoteref' href='#footnote-83' id='footnoteref-83' title='As specified in [conv.ptr], converting an integer literal whose value is 0 to a pointer type results in a null pointer value.'>83</a></li><li id='general-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.2'>(6.2)</a></div>if
<span class='texttt'>T</span>
is a (possibly cv-qualified) non-union class type,
its padding bits (<a href='basic.types.general#term.padding.bits' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>) are initialized to zero bits and
each non-static data member,
each non-virtual base class subobject, and,
if the object is not a base class subobject,
each virtual base class subobject
is zero-initialized;</li><li id='general-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.3'>(6.3)</a></div>if
<span class='texttt'>T</span>
is a (possibly cv-qualified) union type,
its padding bits (<a href='basic.types.general#term.padding.bits' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>) are initialized to zero bits and
the
object's first non-static named
data member
is zero-initialized;</li><li id='general-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.4'>(6.4)</a></div>if
<span class='texttt'>T</span>
is an array type,
each element is zero-initialized;</li><li id='general-6.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.5'>(6.5)</a></div>if
<span class='texttt'>T</span>
is a reference type, no initialization is performed<a class='hidden_link' href='#general-6.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='general-7'><div class='marginalizedparent'><a class='marginalized' href='#general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4455'>#</a></div><div class='texpara'><div id='general-7.sentence-1' class='sentence'>To
<a class='hidden_link' href='#def:default-initialization' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='def:default-initialization'><i >default-initialize</i></span></a>
an object of type
<span class='texttt'>T</span>
means:
<ul class='itemize'><li id='general-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.1'>(7.1)</a></div><div class='texpara'><div id='general-7.1.sentence-1' class='sentence'>If
<span class='texttt'>T</span>
is a (possibly cv-qualified) class type (<a href='class' title='11&emsp;Classes'>[class]</a>),
constructors are considered<a class='hidden_link' href='#general-7.1.sentence-1'>.</a></div> <div id='general-7.1.sentence-2' class='sentence'>The applicable constructors are
enumerated (<a href='over.match.ctor' title='12.2.2.4&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>), and the best one for the
<a href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer___'><span class='textsf'><i >initializer</i></span></span></a> <span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is chosen through
overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)<a class='hidden_link' href='#general-7.1.sentence-2'>.</a></div> <div id='general-7.1.sentence-3' class='sentence'>The constructor thus selected
is called, with an empty argument list, to initialize the object<a class='hidden_link' href='#general-7.1.sentence-3'>.</a></div></div></li><li id='general-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.2'>(7.2)</a></div><div class='texpara'><div id='general-7.2.sentence-1' class='sentence'>If
<span class='texttt'>T</span>
is an array type, each element is default-initialized<a class='hidden_link' href='#general-7.2.sentence-1'>.</a></div></div></li><li id='general-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.3'>(7.3)</a></div><div class='texpara'><div id='general-7.3.sentence-1' class='sentence'>Otherwise,
no initialization is performed<a class='hidden_link' href='#general-7.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='general-8'><div class='marginalizedparent'><a class='marginalized' href='#general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4482'>#</a></div><div class='texpara'><div id='general-8.sentence-1' class='sentence'>A class type <span class='texttt'>T</span> is <a class='hidden_link' href='#def:const-default-constructible' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='def:const-default-constructible'><i >const-default-constructible</i></span></a> if
default-initialization of <span class='texttt'>T</span> would invoke
a user-provided constructor of <span class='texttt'>T</span> (not inherited from a base class)
or if
<ul class='itemize'><li id='general-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-8.1'>(8.1)</a></div>each direct non-variant non-static data member <span class='texttt'>M</span> of <span class='texttt'>T</span>
has a default member initializer
or, if <span class='texttt'>M</span> is of class type <span class='texttt'>X</span> (or array thereof),
<span class='texttt'>X</span> is const-default-constructible,</li><li id='general-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-8.2'>(8.2)</a></div>if <span class='texttt'>T</span> is a union with at least one non-static data member,
exactly one variant member has a default member initializer,</li><li id='general-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-8.3'>(8.3)</a></div>if <span class='texttt'>T</span> is not a union,
for each anonymous union member with at least one non-static data member (if any),
exactly one non-static data member has a default member initializer, and</li><li id='general-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-8.4'>(8.4)</a></div>each potentially constructed base class of <span class='texttt'>T</span> is const-default-constructible<a class='hidden_link' href='#general-8.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='general-8.sentence-2' class='sentence'>If a program calls for the default-initialization of an object of a
const-qualified type <span class='texttt'>T</span>,
<span class='texttt'>T</span> shall be a const-default-constructible class type or array thereof<a class='hidden_link' href='#general-8.sentence-2'>.</a></div></div></div><div class='para' id='general-9'><div class='marginalizedparent'><a class='marginalized' href='#general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4508'>#</a></div><div class='texpara'><div id='general-9.sentence-1' class='sentence'>To
<a class='hidden_link' href='#def:value-initialization' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='def:value-initialization'><i >value-initialize</i></span></a>
an object of type
<span class='texttt'>T</span>
means:
<ul class='itemize'><li id='general-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-9.1'>(9.1)</a></div>if
<span class='texttt'>T</span>
is a (possibly cv-qualified) class type (<a href='class' title='11&emsp;Classes'>[class]</a>), then
<ul class='itemize'><li id='general-9.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-9.1.1'>(9.1.1)</a></div>if <span class='texttt'>T</span> has
either no default constructor (<a href='class.default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>) or a default
constructor that is user-provided or deleted, then the object is default-initialized;</li><li id='general-9.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-9.1.2'>(9.1.2)</a></div>otherwise,
the object is zero-initialized and the semantic constraints for
default-initialization are checked, and if <span class='texttt'>T</span> has a
non-trivial default constructor, the object is default-initialized;</li></ul></li><li id='general-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-9.2'>(9.2)</a></div>if
<span class='texttt'>T</span>
is an array type, then each element is value-initialized;</li><li id='general-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-9.3'>(9.3)</a></div>otherwise, the object is zero-initialized<a class='hidden_link' href='#general-9.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='general-10'><div class='marginalizedparent'><a class='marginalized' href='#general-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4539'>#</a></div><div class='texpara'><div id='general-10.sentence-1' class='sentence'>A program that calls for default-initialization
or value-initialization
of an entity
of reference type is ill-formed<a class='hidden_link' href='#general-10.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='general-11'><div class='marginalizedparent'><a class='marginalized' href='#general-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4545'>#</a></div><div class='texpara'><div id='general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-4'>4</a></i>: <div id='general-11.sentence-1' class='sentence'>For every object of static storage duration,
static initialization (<a href='basic.start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>) is performed
at program startup before any other initialization takes place<a class='hidden_link' href='#general-11.sentence-1'>.</a></div> <div id='general-11.sentence-2' class='sentence'>In some cases, additional initialization is done later<a class='hidden_link' href='#general-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-12'><div class='marginalizedparent'><a class='marginalized' href='#general-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4553'>#</a></div><div class='texpara'><div id='general-12.sentence-1' class='sentence'>If no initializer is specified for an object, the object is default-initialized<a class='hidden_link' href='#general-12.sentence-1'>.</a></div></div></div><div class='para' id='general-13'><div class='marginalizedparent'><a class='marginalized' href='#general-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4556'>#</a></div><div class='texpara'><div id='general-13.sentence-1' class='sentence'>If the entity being initialized does not have class or array type, the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><i >expression-list</i></span></span></a> in a
parenthesized initializer shall be a single expression<a class='hidden_link' href='#general-13.sentence-1'>.</a></div></div></div><div class='para' id='general-14'><div class='marginalizedparent'><a class='marginalized' href='#general-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4561'>#</a></div><div class='texpara'><div id='general-14.sentence-1' class='sentence'><a class='index' id=':initialization,copy'></a><a class='index' id=':initialization,direct'></a>The initialization that occurs in the <span class='texttt'><span class='operator'>=</span></span> form of a
<a href='#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer___'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> or
<a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition'><span class='textsf'><i >condition</i></span></span></a> (<a href='stmt.select' title='8.5&emsp;Selection statements'>[stmt.<span class='shy'></span>select]</a>),
as well as in argument passing, function return,
throwing an exception (<a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a>),
handling an exception (<a href='except.handle' title='14.4&emsp;Handling an exception'>[except.<span class='shy'></span>handle]</a>),
and aggregate member initialization other than by a
<a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause__'><span class='textsf'><i >designated-initializer-clause</i></span></span></a> (<a href='#aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>),
is called
<a class='hidden_link' href='#def:copy-initialization' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='def:copy-initialization'><i >copy-initialization</i></span></a><a class='hidden_link' href='#general-14.sentence-1'>.</a></div> <div id='general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-5'>5</a></i>: <div id='general-14.sentence-2' class='sentence'>Copy-initialization can invoke a move (<a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#general-14.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-15'><div class='marginalizedparent'><a class='marginalized' href='#general-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4578'>#</a></div><div class='texpara'><div id='general-15.sentence-1' class='sentence'>The initialization that occurs
<ul class='itemize'><li id='general-15.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-15.1'>(15.1)</a></div>for an <a href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer____'><span class='textsf'><i >initializer</i></span></span></a> that is a
parenthesized <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__'><span class='textsf'><i >expression-list</i></span></span></a> or a <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list___'><span class='textsf'><i >braced-init-list</i></span></span></a>,</li><li id='general-15.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-15.2'>(15.2)</a></div>for a <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer'><span class='textsf'><i >new-initializer</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>),</li><li id='general-15.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-15.3'>(15.3)</a></div>in a <span id=':static_cast'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> expression (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>),</li><li id='general-15.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-15.4'>(15.4)</a></div>in a functional notation type conversion (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>), and</li><li id='general-15.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-15.5'>(15.5)</a></div>in the <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list____'><span class='textsf'><i >braced-init-list</i></span></span></a> form of a <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition_'><span class='textsf'><i >condition</i></span></span></a></li></ul>
is called
<a class='hidden_link' href='#def:direct-initialization' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='def:direct-initialization'><i >direct-initialization</i></span></a><a class='hidden_link' href='#general-15.sentence-1'>.</a></div></div></div><div class='para' id='general-16'><div class='marginalizedparent'><a class='marginalized' href='#general-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4591'>#</a></div><div class='texpara'><div id='general-16.sentence-1' class='sentence'>The semantics of initializers are as follows<a class='hidden_link' href='#general-16.sentence-1'>.</a></div> <div id='general-16.sentence-2' class='sentence'>The
<a class='index' id=':type,destination'></a><a class='hidden_link' href='#def:destination_type' id='def:destination_type'><i>destination type</i></a>
is the type of the object or reference being initialized and the
<a class='hidden_link' href='#def:source_type' id='def:source_type'><i>source type</i></a>
is the type of the initializer expression<a class='hidden_link' href='#general-16.sentence-2'>.</a></div> <div id='general-16.sentence-3' class='sentence'>If the initializer is not a single (possibly parenthesized) expression, the
source type is not defined<a class='hidden_link' href='#general-16.sentence-3'>.</a></div> <ul class='itemize'><li id='general-16.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.1'>(16.1)</a></div><div class='texpara'><div id='general-16.1.sentence-1' class='sentence'>If the initializer is a (non-parenthesized) <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_____'><span class='textsf'><i >braced-init-list</i></span></span></a>
or is <span class='texttt'><span class='operator'>=</span></span> <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list______'><span class='textsf'><i >braced-init-list</i></span></span></a>, the object or reference
is list-initialized (<a href='#list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#general-16.1.sentence-1'>.</a></div></div></li><li id='general-16.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.2'>(16.2)</a></div><div class='texpara'><div id='general-16.2.sentence-1' class='sentence'>If the destination type is a reference type, see <a href='#ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a><a class='hidden_link' href='#general-16.2.sentence-1'>.</a></div></div></li><li id='general-16.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.3'>(16.3)</a></div><div class='texpara'><div id='general-16.3.sentence-1' class='sentence'>If the destination type is an array of characters,
an array of <span id=':char8_t'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>,
an array of <span id=':char16_t'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>,
an array of <span id=':char32_t'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>,
or an array of
<span id=':wchar_t'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span>,
and the initializer is a <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><i >string-literal</i></span></span></a>, see <a href='#string' title='9.4.3&emsp;Character arrays'>[dcl.<span class='shy'></span>init.<span class='shy'></span>string]</a><a class='hidden_link' href='#general-16.3.sentence-1'>.</a></div></div></li><li id='general-16.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.4'>(16.4)</a></div><div class='texpara'><div id='general-16.4.sentence-1' class='sentence'>If the initializer is <span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, the object is value-initialized<a class='hidden_link' href='#general-16.4.sentence-1'>.</a></div> <a class='index' id=':ambiguity,function_declaration'></a><div id='general-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-6'>6</a></i>: <div id='general-16.4.sentence-2' class='sentence'>Since
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is not permitted by the syntax for
<a href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_____'><span class='textsf'><i >initializer</i></span></span></a>,
<span class='codeblock'>X a<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span>
is not the declaration of an object of class
<span class='texttt'>X</span>,
but the declaration of a function taking no arguments and returning an
<span class='texttt'>X</span><a class='hidden_link' href='#general-16.4.sentence-2'>.</a></div> <div id='general-16.4.sentence-3' class='sentence'>The form
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is permitted in certain other initialization contexts (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>, <a href='
expr.type.conv'>[
expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#general-16.4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='general-16.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.5'>(16.5)</a></div><div class='texpara'><div id='general-16.5.sentence-1' class='sentence'>Otherwise, if the destination type is an array,
the object is initialized as follows<a class='hidden_link' href='#general-16.5.sentence-1'>.</a></div> <div id='general-16.5.sentence-2' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> be
the elements of the <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list___'><span class='textsf'><i >expression-list</i></span></span></a><a class='hidden_link' href='#general-16.5.sentence-2'>.</a></div> <div id='general-16.5.sentence-3' class='sentence'>If the destination type is an array of unknown bound,
it is defined as having <span class='math'><span class='mathalpha'>k</span></span> elements<a class='hidden_link' href='#general-16.5.sentence-3'>.</a></div> <div id='general-16.5.sentence-4' class='sentence'>Let <span class='math'><span class='mathalpha'>n</span></span> denote the array size after this potential adjustment<a class='hidden_link' href='#general-16.5.sentence-4'>.</a></div> <div id='general-16.5.sentence-5' class='sentence'>If <span class='math'><span class='mathalpha'>k</span></span> is greater than <span class='math'><span class='mathalpha'>n</span></span>,
the program is ill-formed<a class='hidden_link' href='#general-16.5.sentence-5'>.</a></div> <div id='general-16.5.sentence-6' class='sentence'>Otherwise, the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> array element is copy-initialized with
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span>, and
value-initialized for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span><a class='hidden_link' href='#general-16.5.sentence-6'>.</a></div> <div id='general-16.5.sentence-7' class='sentence'>For each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span>,
every value computation and side effect associated with
the initialization of the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element of the array
is sequenced before those associated with
the initialization of the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element<a class='hidden_link' href='#general-16.5.sentence-7'>.</a></div></div></li><li id='general-16.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.6'>(16.6)</a></div><div class='texpara'><div id='general-16.6.sentence-1' class='sentence'>Otherwise, if the destination type is a (possibly cv-qualified) class type:
<ul class='itemize'><li id='general-16.6.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-16.6.1'>(16.6.1)</a></div><div class='texpara'><div id='general-16.6.1.sentence-1' class='sentence'>If the initializer expression is a prvalue
and the cv-unqualified version of the source type
is the same class as the class of the destination,
the initializer expression is used to initialize the destination object<a class='hidden_link' href='#general-16.6.1.sentence-1'>.</a></div> <div id='general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-2'>2</a></i>: <div id='general-16.6.1.sentence-2' class='sentence'><span class='texttt'>T x <span class='operator'>=</span> T<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;</span> value-initializes <span class='texttt'>x</span><a class='hidden_link' href='#general-16.6.1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li><li id='general-16.6.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-16.6.2'>(16.6.2)</a></div><div class='texpara'><div id='general-16.6.2.sentence-1' class='sentence'>Otherwise, if the initialization is direct-initialization,
or if it is copy-initialization where the cv-unqualified version of the source
type is the same class as, or a derived class of, the class of the destination,
constructors are considered<a class='hidden_link' href='#general-16.6.2.sentence-1'>.</a></div> <div id='general-16.6.2.sentence-2' class='sentence'>The applicable constructors
are enumerated (<a href='over.match.ctor' title='12.2.2.4&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>), and the best one is chosen
through overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)<a class='hidden_link' href='#general-16.6.2.sentence-2'>.</a></div> <div id='general-16.6.2.sentence-3' class='sentence'>Then:
<ul class='itemize'><li id='general-16.6.2.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#general-16.6.2.1'>(16.6.2.1)</a></div><div class='texpara'><div id='general-16.6.2.1.sentence-1' class='sentence'>If overload resolution is successful,
the selected constructor
is called to initialize the object, with the initializer
expression or <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list____'><span class='textsf'><i >expression-list</i></span></span></a> as its argument(s)<a class='hidden_link' href='#general-16.6.2.1.sentence-1'>.</a></div></div></li><li id='general-16.6.2.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#general-16.6.2.2'>(16.6.2.2)</a></div><div class='texpara'><div id='general-16.6.2.2.sentence-1' class='sentence'>Otherwise, if no constructor is viable,
the destination type is
an aggregate class, and
the initializer is a parenthesized <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_____'><span class='textsf'><i >expression-list</i></span></span></a>,
the object is initialized as follows<a class='hidden_link' href='#general-16.6.2.2.sentence-1'>.</a></div> <div id='general-16.6.2.2.sentence-2' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> be the elements of the aggregate (<a href='#aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)<a class='hidden_link' href='#general-16.6.2.2.sentence-2'>.</a></div> <div id='general-16.6.2.2.sentence-3' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> be the elements of the <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list______'><span class='textsf'><i >expression-list</i></span></span></a><a class='hidden_link' href='#general-16.6.2.2.sentence-3'>.</a></div> <div id='general-16.6.2.2.sentence-4' class='sentence'>If <span class='math'><span class='mathalpha'>k</span></span> is greater than <span class='math'><span class='mathalpha'>n</span></span>, the program is ill-formed<a class='hidden_link' href='#general-16.6.2.2.sentence-4'>.</a></div> <div id='general-16.6.2.2.sentence-5' class='sentence'>The element <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is copy-initialized with
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span><a class='hidden_link' href='#general-16.6.2.2.sentence-5'>.</a></div> <div id='general-16.6.2.2.sentence-6' class='sentence'>The remaining elements are initialized with
their default member initializers, if any, and
otherwise are value-initialized<a class='hidden_link' href='#general-16.6.2.2.sentence-6'>.</a></div> <div id='general-16.6.2.2.sentence-7' class='sentence'>For each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span>,
every value computation and side effect
associated with the initialization of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is sequenced before those associated with the initialization of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><a class='hidden_link' href='#general-16.6.2.2.sentence-7'>.</a></div> <div id='general-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-7'>7</a></i>: <div id='general-16.6.2.2.sentence-8' class='sentence'>By contrast with direct-list-initialization,
narrowing conversions (<a href='#list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>) are permitted,
designators are not permitted,
a temporary object bound to a reference
does not have its lifetime extended (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>), and
there is no brace elision<a class='hidden_link' href='#general-16.6.2.2.sentence-8'>.</a></div> <div id='general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> r;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> n <span class='operator'>=</span> <span class='literal'>10</span>;

A a1<span class='curlybracket'>{</span><span class='literal'>1</span>, f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='curlybracket'>}</span>;                   <span class='comment'>// OK, lifetime is extended</span>
A a2<span class='parenthesis'>(</span><span class='literal'>1</span>, f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;                   <span class='comment'>// well-formed, but dangling reference</span>
A a3<span class='curlybracket'>{</span><span class='literal'>1.0</span>, <span class='literal'>1</span><span class='curlybracket'>}</span>;                   <span class='comment'>// error: narrowing conversion</span>
A a4<span class='parenthesis'>(</span><span class='literal'>1.0</span>, <span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// well-formed, but dangling reference</span>
A a5<span class='parenthesis'>(</span><span class='literal'>1.0</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='general-16.6.2.3'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#general-16.6.2.3'>(16.6.2.3)</a></div><div class='texpara'><div id='general-16.6.2.3.sentence-1' class='sentence'>Otherwise, the initialization is ill-formed<a class='hidden_link' href='#general-16.6.2.3.sentence-1'>.</a></div></div></li></ul></div></div></li><li id='general-16.6.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-16.6.3'>(16.6.3)</a></div><div class='texpara'><div id='general-16.6.3.sentence-1' class='sentence'>Otherwise (i.e., for the remaining copy-initialization cases),
user-defined conversions that can convert from the
source type to the destination type or (when a conversion function
is used) to a derived class thereof are enumerated as described in <a href='over.match.copy' title='12.2.2.5&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>,
and the best one is chosen through overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)<a class='hidden_link' href='#general-16.6.3.sentence-1'>.</a></div> <div id='general-16.6.3.sentence-2' class='sentence'>If the conversion cannot be done or
is ambiguous, the initialization is ill-formed<a class='hidden_link' href='#general-16.6.3.sentence-2'>.</a></div> <div id='general-16.6.3.sentence-3' class='sentence'>The function
selected is called with the initializer expression as its
argument; if the function is a constructor, the call is a prvalue
of the cv-unqualified version of the
destination type whose result object is initialized by the constructor<a class='hidden_link' href='#general-16.6.3.sentence-3'>.</a></div> <div id='general-16.6.3.sentence-4' class='sentence'>The call is used
to direct-initialize, according to the rules above, the object
that is the destination of the copy-initialization<a class='hidden_link' href='#general-16.6.3.sentence-4'>.</a></div></div></li></ul></div></div></li><li id='general-16.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.7'>(16.7)</a></div><div class='texpara'><div id='general-16.7.sentence-1' class='sentence'>Otherwise, if the source type
is a (possibly cv-qualified) class type, conversion functions are
considered<a class='hidden_link' href='#general-16.7.sentence-1'>.</a></div> <div id='general-16.7.sentence-2' class='sentence'>The applicable conversion functions are enumerated (<a href='over.match.conv' title='12.2.2.6&emsp;Initialization by conversion function'>[over.<span class='shy'></span>match.<span class='shy'></span>conv]</a>),
and the best one is chosen through overload
resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)<a class='hidden_link' href='#general-16.7.sentence-2'>.</a></div> <div id='general-16.7.sentence-3' class='sentence'>The user-defined conversion so selected
is called to convert the initializer expression into the
object being initialized<a class='hidden_link' href='#general-16.7.sentence-3'>.</a></div> <div id='general-16.7.sentence-4' class='sentence'>If the conversion cannot be done or is
ambiguous, the initialization is ill-formed<a class='hidden_link' href='#general-16.7.sentence-4'>.</a></div></div></li><li id='general-16.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.8'>(16.8)</a></div><div class='texpara'><div id='general-16.8.sentence-1' class='sentence'>Otherwise, if the initialization is direct-initialization,
the source type is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>, and
the destination type is <span class='texttt'><span class='keyword'>bool</span></span>,
the initial value of the object being initialized is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#general-16.8.sentence-1'>.</a></div></div></li><li id='general-16.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-16.9'>(16.9)</a></div><div class='texpara'><div id='general-16.9.sentence-1' class='sentence'>Otherwise, the initial value of the object being initialized is
the (possibly converted) value of the initializer expression<a class='hidden_link' href='#general-16.9.sentence-1'>.</a></div> <div id='general-16.9.sentence-2' class='sentence'>A standard conversion sequence (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>) is used
to convert the initializer expression to
a prvalue of the cv-unqualified version of
the destination type;
no user-defined conversions are considered<a class='hidden_link' href='#general-16.9.sentence-2'>.</a></div> <div id='general-16.9.sentence-3' class='sentence'>If the conversion cannot
be done, the initialization is ill-formed<a class='hidden_link' href='#general-16.9.sentence-3'>.</a></div> <div id='general-16.9.sentence-4' class='sentence'>When initializing a bit-field with a value that it cannot represent, the
resulting value of the bit-field is
<a class='index' id=':value_of_bit-field_that_cannot_represent,initializer'></a>implementation-defined<a class='hidden_link' href='#general-16.9.sentence-4'>.</a></div> <a class='index' id=':initialization,const'></a><div id='general-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-8'>8</a></i>: <div id='general-16.9.sentence-5' class='sentence'>An expression of type
“<i >cv1</i> <span class='texttt'>T</span>”
can initialize an object of type
“<i >cv2</i> <span class='texttt'>T</span>”
independently of
the cv-qualifiers
<i >cv1</i>
and <i >cv2</i><a class='hidden_link' href='#general-16.9.sentence-5'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>int</span> a;
<span class='keyword'>const</span> <span class='keyword'>int</span> b <span class='operator'>=</span> a;
<span class='keyword'>int</span> c <span class='operator'>=</span> b;
</span> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div><div class='para' id='general-17'><div class='marginalizedparent'><a class='marginalized' href='#general-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4792'>#</a></div><div class='texpara'><div id='general-17.sentence-1' class='sentence'>An immediate invocation (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) that is not evaluated where
it appears (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>, <a href='class.mem.general' title='11.4.1&emsp;General'>[class.<span class='shy'></span>mem.<span class='shy'></span>general]</a>)
is evaluated and checked for whether it is
a constant expression at the point where
the enclosing <a href='#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer______'><span class='textsf'><i >initializer</i></span></span></a> is used in
a function call, a constructor definition, or an aggregate initialization<a class='hidden_link' href='#general-17.sentence-1'>.</a></div></div></div><div class='para' id='general-18'><div class='marginalizedparent'><a class='marginalized' href='#general-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4800'>#</a></div><div class='texpara'><div id='general-18.sentence-1' class='sentence'>An <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause___'><span class='textsf'><i >initializer-clause</i></span></span></a> followed by an ellipsis is a
pack expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#general-18.sentence-1'>.</a></div></div></div><div class='para' id='general-19'><div class='marginalizedparent'><a class='marginalized' href='#general-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4804'>#</a></div><div class='texpara'><div id='general-19.sentence-1' class='sentence'>Initialization includes
the evaluation of all subexpressions of
each <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause____'><span class='textsf'><i >initializer-clause</i></span></span></a> of
the initializer (possibly nested within <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_______'><span class='textsf'><i >braced-init-list</i></span></span></a><i >s</i>) and
the creation of any temporary objects for
function arguments or return values (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#general-19.sentence-1'>.</a></div></div></div><div class='para' id='general-20'><div class='marginalizedparent'><a class='marginalized' href='#general-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4812'>#</a></div><div class='texpara'><div id='general-20.sentence-1' class='sentence'>If the initializer is a parenthesized <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_______'><span class='textsf'><i >expression-list</i></span></span></a>,
the expressions are evaluated in the order
specified for function calls (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#general-20.sentence-1'>.</a></div></div></div><div class='para' id='general-21'><div class='marginalizedparent'><a class='marginalized' href='#general-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4817'>#</a></div><div class='texpara'><div id='general-21.sentence-1' class='sentence'>The same <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a>
shall not appear in multiple <a href='#nt:designator' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designator_'><span class='textsf'><i >designator</i></span></span></a><i >s</i> of a
<a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list__'><span class='textsf'><i >designated-initializer-list</i></span></span></a><a class='hidden_link' href='#general-21.sentence-1'>.</a></div></div></div><div class='para' id='general-22'><div class='marginalizedparent'><a class='marginalized' href='#general-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4822'>#</a></div><div class='texpara'><div id='general-22.sentence-1' class='sentence'>An object whose initialization has completed
is deemed to be constructed,
even if the object is of non-class type or
no constructor of the object's class
is invoked for the initialization<a class='hidden_link' href='#general-22.sentence-1'>.</a></div> <div id='general-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-9'>9</a></i>: <div id='general-22.sentence-2' class='sentence'>Such an object might have been value-initialized
or initialized by aggregate initialization (<a href='#aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)
or by an inherited constructor (<a href='class.inhctor.init' title='11.9.4&emsp;Initialization by inherited constructor'>[class.<span class='shy'></span>inhctor.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#general-22.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-22.sentence-3' class='sentence'>
Destroying an object of class type invokes the destructor of the class<a class='hidden_link' href='#general-22.sentence-3'>.</a></div> <div id='general-22.sentence-4' class='sentence'>Destroying a scalar type has no effect other than
ending the lifetime of the object (<a href='basic.life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#general-22.sentence-4'>.</a></div> <div id='general-22.sentence-5' class='sentence'>Destroying an array destroys each element in reverse subscript order<a class='hidden_link' href='#general-22.sentence-5'>.</a></div></div></div><div class='para' id='general-23'><div class='marginalizedparent'><a class='marginalized' href='#general-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4838'>#</a></div><div class='texpara'><div id='general-23.sentence-1' class='sentence'>A declaration that specifies the initialization of a variable,
whether from an explicit initializer or by default-initialization,
is called the <a class='hidden_link' href='#def:initializing_declaration' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='def:initializing_declaration'><i >initializing declaration</i></span></a> of that variable<a class='hidden_link' href='#general-23.sentence-1'>.</a></div> <div id='general-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-10'>10</a></i>: <div id='general-23.sentence-2' class='sentence'>In most cases
this is the defining declaration (<a href='basic.def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>) of the variable,
but the initializing declaration
of a non-inline static data member (<a href='class.static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>)
can be the declaration within the class definition
and not the definition (if any) outside it<a class='hidden_link' href='#general-23.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-83'><div class='texpara'><a class='footnotenum' href='#footnote-83'>83)</a><a class='footnoteBacklink' href='#footnoteref-83'>83)</a> <div id='footnote-83.sentence-1' class='sentence'>As specified in <a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>, converting an integer
literal whose value is
<span class='texttt'><span class='literal'>0</span></span>
to a pointer type results in a null pointer value<a class='hidden_link' href='#footnote-83.sentence-1'>.</a></div></div></div></div><div id='aggr' class='section'><h3 ><a class='secnum' href='#aggr' style='min-width:80pt'>9.4.2</a> Aggregates <a class='abbr_ref' href='dcl.init.aggr'>[dcl.init.aggr]</a></h3><div class='texpara'><a class='index' id=':aggregate'></a><a class='index' id=':initialization,aggregate'></a><a class='index' id=':aggregate_initialization'></a><a class='index' id=':initialization,array'></a><a class='index' id=':initialization,class_object'></a><a class='index' id=':{},initializer_list'></a></div><div class='para' id='aggr-1'><div class='marginalizedparent'><a class='marginalized' href='#aggr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4860'>#</a></div><div class='texpara'><div id='aggr-1.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:aggregate' title='9.4.2&emsp;Aggregates&emsp;[dcl.init.aggr]'><span id='def:aggregate'><i >aggregate</i></span></a> is an array or a class (<a href='class' title='11&emsp;Classes'>[class]</a>) with
<ul class='itemize'><li id='aggr-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-1.1'>(1.1)</a></div>no user-declared or inherited constructors (<a href='class.ctor' title='11.4.5&emsp;Constructors'>[class.<span class='shy'></span>ctor]</a>),</li><li id='aggr-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-1.2'>(1.2)</a></div>no private or protected direct non-static data members (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>),</li><li id='aggr-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-1.3'>(1.3)</a></div>no private or protected direct base classes (<a href='class.access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a>), and</li><li id='aggr-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-1.4'>(1.4)</a></div>no virtual functions (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) or virtual base classes (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>)<a class='hidden_link' href='#aggr-1.sentence-1'>.</a></li></ul></div> <div id='aggr-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-1'>1</a></i>: <div id='aggr-1.sentence-2' class='sentence'>Aggregate initialization does not allow accessing
protected and private base class' members or constructors<a class='hidden_link' href='#aggr-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='aggr-2'><div class='marginalizedparent'><a class='marginalized' href='#aggr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4877'>#</a></div><div class='texpara'><div id='aggr-2.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:aggregate,elements' title='9.4.2&emsp;Aggregates&emsp;[dcl.init.aggr]'><span id='def:aggregate,elements'><i >elements</i></span></a> of an aggregate are:
<ul class='itemize'><li id='aggr-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-2.1'>(2.1)</a></div>for an array, the array elements in increasing subscript order, or</li><li id='aggr-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-2.2'>(2.2)</a></div>for a class, the direct base classes in declaration order,
followed by the direct non-static data members (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
that are not members of an anonymous union, in declaration order<a class='hidden_link' href='#aggr-2.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='aggr-3'><div class='marginalizedparent'><a class='marginalized' href='#aggr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4888'>#</a></div><div class='texpara'><div id='aggr-3.sentence-1' class='sentence'>When an aggregate is initialized by an initializer list
as specified in <a href='#list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>,
the elements of the initializer list are taken as initializers
for the elements of the aggregate<a class='hidden_link' href='#aggr-3.sentence-1'>.</a></div> <div id='aggr-3.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:explicitly_initialized_elements,aggregate' title='9.4.2&emsp;Aggregates&emsp;[dcl.init.aggr]'><span id='def:explicitly_initialized_elements,aggregate'><i >explicitly initialized elements</i></span></a>
of the aggregate are determined as follows:
<ul class='itemize'><li id='aggr-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-3.1'>(3.1)</a></div><div class='texpara'><div id='aggr-3.1.sentence-1' class='sentence'>If the initializer list is
a brace-enclosed <a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list___'><span class='textsf'><i >designated-initializer-list</i></span></span></a>,
the aggregate shall be of class type,
the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a> in each <a href='#nt:designator' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designator__'><span class='textsf'><i >designator</i></span></span></a>
shall name a direct non-static data member of the class, and
the explicitly initialized elements of the aggregate
are the elements that are, or contain, those members<a class='hidden_link' href='#aggr-3.1.sentence-1'>.</a></div></div></li><li id='aggr-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-3.2'>(3.2)</a></div><div class='texpara'><div id='aggr-3.2.sentence-1' class='sentence'>If the initializer list is a brace-enclosed <a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list__'><span class='textsf'><i >initializer-list</i></span></span></a>,
the explicitly initialized elements of the aggregate
are the first <span class='math'><span class='mathalpha'>n</span></span> elements of the aggregate,
where <span class='math'><span class='mathalpha'>n</span></span> is the number of elements in the initializer list<a class='hidden_link' href='#aggr-3.2.sentence-1'>.</a></div></div></li><li id='aggr-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-3.3'>(3.3)</a></div><div class='texpara'><div id='aggr-3.3.sentence-1' class='sentence'>Otherwise, the initializer list must be <span class='texttt'><span class='curlybracket'>{</span><span class='curlybracket'>}</span></span>,
and there are no explicitly initialized elements<a class='hidden_link' href='#aggr-3.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='aggr-4'><div class='marginalizedparent'><a class='marginalized' href='#aggr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L4914'>#</a></div><div class='texpara'><div id='aggr-4.sentence-1' class='sentence'>For each explicitly initialized element:
<ul class='itemize'><li id='aggr-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-4.1'>(4.1)</a></div><div class='texpara'><div id='aggr-4.1.sentence-1' class='sentence'>If the element is an anonymous union member and
the initializer list is
a brace-enclosed <a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list____'><span class='textsf'><i >designated-initializer-list</i></span></span></a>,
the element is initialized by the
<a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_________'><span class='textsf'><i >braced-init-list</i></span></span></a> <span class='texttt'><span class='curlybracket'>{</span> </span><i >D</i><span class='texttt'> <span class='curlybracket'>}</span></span>,
where <i >D</i> is the <a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause___'><span class='textsf'><i >designated-initializer-clause</i></span></span></a>
naming a member of the anonymous union member<a class='hidden_link' href='#aggr-4.1.sentence-1'>.</a></div> <div id='aggr-4.1.sentence-2' class='sentence'>There shall be only one such <a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause____'><span class='textsf'><i >designated-initializer-clause</i></span></span></a><a class='hidden_link' href='#aggr-4.1.sentence-2'>.</a></div> <div id='aggr-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-1'>1</a></i>: <div id='aggr-4.1.sentence-3' class='sentence'><span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>union</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> a;
    <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> p;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> x;
<span class='curlybracket'>}</span> c <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='operator'>.</span>a <span class='operator'>=</span> <span class='literal'>1</span>, <span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>3</span> <span class='curlybracket'>}</span>;
</span>
initializes <span class='texttt'>c<span class='operator'>.</span>a</span> with 1 and <span class='texttt'>c<span class='operator'>.</span>x</span> with 3<a class='hidden_link' href='#aggr-4.1.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li><li id='aggr-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-4.2'>(4.2)</a></div><div class='texpara'><div id='aggr-4.2.sentence-1' class='sentence'>Otherwise, the element is copy-initialized
from the corresponding <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_____'><span class='textsf'><i >initializer-clause</i></span></span></a>
or is initialized with the <a href='#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer____'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>
of the corresponding <a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause_____'><span class='textsf'><i >designated-initializer-clause</i></span></span></a><a class='hidden_link' href='#aggr-4.2.sentence-1'>.</a></div> <div id='aggr-4.2.sentence-2' class='sentence'>If that initializer is of the form
<a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression_'><span class='textsf'><i >assignment-expression</i></span></span></a> or
<span class='texttt'><span class='operator'>=</span> </span><a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression__'><span class='textsf'><i >assignment-expression</i></span></span></a>
and
a narrowing conversion (<a href='#list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>) is required
to convert the expression, the program is ill-formed<a class='hidden_link' href='#aggr-4.2.sentence-2'>.</a></div> <div id='aggr-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-2'>2</a></i>: <div id='aggr-4.2.sentence-3' class='sentence'>If the initialization is by <a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause______'><span class='textsf'><i >designated-initializer-clause</i></span></span></a>,
its form determines whether copy-initialization or direct-initialization
is performed<a class='hidden_link' href='#aggr-4.2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='aggr-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-3'>3</a></i>: <div id='aggr-4.2.sentence-4' class='sentence'>If an initializer is itself an initializer list,
the element is list-initialized, which will result in a recursive application
of the rules in this subclause if the element is an aggregate<a class='hidden_link' href='#aggr-4.2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='aggr-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-2'>2</a></i>: <div id='aggr-4.2.sentence-5' class='sentence'><span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> i;
    <span class='keyword'>int</span> j;
  <span class='curlybracket'>}</span> b;
<span class='curlybracket'>}</span> a <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='curlybracket'>{</span> <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;
</span>
initializes
<span class='texttt'>a<span class='operator'>.</span>x</span>
with 1,
<span class='texttt'>a<span class='operator'>.</span>b<span class='operator'>.</span>i</span>
with 2,
<span class='texttt'>a<span class='operator'>.</span>b<span class='operator'>.</span>j</span>
with 3<a class='hidden_link' href='#aggr-4.2.sentence-5'>.</a></div></div><div class='texpara'><div id='aggr-4.2.sentence-6' class='sentence'><span class='codeblock'><span class='keyword'>struct</span> base1 <span class='curlybracket'>{</span> <span class='keyword'>int</span> b1, b2 <span class='operator'>=</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> base2 <span class='curlybracket'>{</span>
  base2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    b3 <span class='operator'>=</span> <span class='literal'>42</span>;
  <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> b3;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> derived <span class='operator'>:</span> base1, base2 <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> d;
<span class='curlybracket'>}</span>;

derived d1<span class='curlybracket'>{</span><span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='literal'>4</span><span class='curlybracket'>}</span>;
derived d2<span class='curlybracket'>{</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='literal'>4</span><span class='curlybracket'>}</span>;
</span>
initializes
<span class='texttt'>d1<span class='operator'>.</span>b1</span> with 1,
<span class='texttt'>d1<span class='operator'>.</span>b2</span> with 2,
<span class='texttt'>d1<span class='operator'>.</span>b3</span> with 42,
<span class='texttt'>d1<span class='operator'>.</span>d</span> with 4, and
<span class='texttt'>d2<span class='operator'>.</span>b1</span> with 0,
<span class='texttt'>d2<span class='operator'>.</span>b2</span> with 42,
<span class='texttt'>d2<span class='operator'>.</span>b3</span> with 42,
<span class='texttt'>d2<span class='operator'>.</span>d</span> with 4<a class='hidden_link' href='#aggr-4.2.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='aggr-5'><div class='marginalizedparent'><a class='marginalized' href='#aggr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5004'>#</a></div><div class='texpara'><div id='aggr-5.sentence-1' class='sentence'>For a non-union aggregate,
each element that is not an explicitly initialized element
is initialized as follows:
<ul class='itemize'><li id='aggr-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-5.1'>(5.1)</a></div><div class='texpara'><div id='aggr-5.1.sentence-1' class='sentence'>If the element has a default member initializer (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>),
the element is initialized from that initializer<a class='hidden_link' href='#aggr-5.1.sentence-1'>.</a></div></div></li><li id='aggr-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-5.2'>(5.2)</a></div><div class='texpara'><div id='aggr-5.2.sentence-1' class='sentence'>Otherwise, if the element is not a reference, the element
is copy-initialized from an empty initializer list (<a href='#list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#aggr-5.2.sentence-1'>.</a></div></div></li><li id='aggr-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-5.3'>(5.3)</a></div><div class='texpara'><div id='aggr-5.3.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#aggr-5.3.sentence-1'>.</a></div></div></li></ul></div> <div id='aggr-5.sentence-2' class='sentence'>
If the aggregate is a union and the initializer list is empty, then
<ul class='itemize'><li id='aggr-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-5.4'>(5.4)</a></div>if any variant member has a default member initializer,
that member is initialized from its default member initializer;</li><li id='aggr-5.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-5.5'>(5.5)</a></div>otherwise, the first member of the union (if any)
is copy-initialized from an empty initializer list<a class='hidden_link' href='#aggr-5.sentence-2'>.</a></li></ul></div></div></div><div class='para nonNormativeOnly' id='aggr-6'><div class='marginalizedparent'><a class='marginalized' href='#aggr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5028'>#</a></div><div class='texpara'><div id='aggr-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-3'>3</a></i>: <div id='aggr-6.sentence-1' class='sentence'><span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> b; <span class='keyword'>int</span> c; <span class='keyword'>int</span> d <span class='operator'>=</span> b<span class='squarebracket'>[</span>a<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>;
S ss <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>"asdf"</span> <span class='curlybracket'>}</span>;
</span>
initializes
<span class='texttt'>ss<span class='operator'>.</span>a</span>
with 1,
<span class='texttt'>ss<span class='operator'>.</span>b</span>
with <span class='texttt'><span class='literal'>"asdf"</span></span>,
<span class='texttt'>ss<span class='operator'>.</span>c</span>
with the value of an expression of the form
<span class='texttt'><span class='keyword'>int</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span></span>
(that is, <span class='texttt'><span class='literal'>0</span></span>), and <span class='texttt'>ss<span class='operator'>.</span>d</span> with the value of <span class='texttt'>ss<span class='operator'>.</span>b<span class='squarebracket'>[</span>ss<span class='operator'>.</span>a<span class='squarebracket'>]</span></span>
(that is, <span class='texttt'>'s'</span>), and in
<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> i, j, k <span class='operator'>=</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span>;
X a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span>, <span class='literal'>4</span>, <span class='literal'>5</span>, <span class='literal'>6</span> <span class='curlybracket'>}</span>;
X b<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>, <span class='curlybracket'>{</span> <span class='literal'>4</span>, <span class='literal'>5</span>, <span class='literal'>6</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;
</span>
<span class='texttt'>a</span> and <span class='texttt'>b</span> have the same value</div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  string a;
  <span class='keyword'>int</span> b <span class='operator'>=</span> <span class='literal'>42</span>;
  <span class='keyword'>int</span> c <span class='operator'>=</span> <span class='operator'>-</span><span class='literal'>1</span>;
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='aggr-6.sentence-2' class='sentence'><span class='texttt'>A<span class='curlybracket'>{</span><span class='operator'>.</span>c<span class='operator'>=</span><span class='literal'>21</span><span class='curlybracket'>}</span></span> has the following steps:
<ul class='itemize'><li id='aggr-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-6.1'>(6.1)</a></div>Initialize <span class='texttt'>a</span> with <span class='texttt'><span class='curlybracket'>{</span><span class='curlybracket'>}</span></span></li><li id='aggr-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-6.2'>(6.2)</a></div>Initialize <span class='texttt'>b</span> with <span class='texttt'><span class='operator'>=</span> <span class='literal'>42</span></span></li><li id='aggr-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#aggr-6.3'>(6.3)</a></div>Initialize <span class='texttt'>c</span> with <span class='texttt'><span class='operator'>=</span> <span class='literal'>21</span></span></li></ul></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='aggr-7'><div class='marginalizedparent'><a class='marginalized' href='#aggr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5067'>#</a></div><div class='texpara'><div id='aggr-7.sentence-1' class='sentence'>The initializations of the elements of the aggregate
are evaluated in the element order<a class='hidden_link' href='#aggr-7.sentence-1'>.</a></div> <div id='aggr-7.sentence-2' class='sentence'>That is,
all value computations and side effects associated with a given element
are sequenced before
those of any element that follows it in order<a class='hidden_link' href='#aggr-7.sentence-2'>.</a></div></div></div><div class='para' id='aggr-8'><div class='marginalizedparent'><a class='marginalized' href='#aggr-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5075'>#</a></div><div class='texpara'><div id='aggr-8.sentence-1' class='sentence'>An aggregate that is a class can also be initialized with a single
expression not enclosed in braces, as described in [dcl.<span class='shy'></span>init]<a class='hidden_link' href='#aggr-8.sentence-1'>.</a></div></div></div><div class='para' id='aggr-9'><div class='marginalizedparent'><a class='marginalized' href='#aggr-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5079'>#</a></div><div class='texpara'><div id='aggr-9.sentence-1' class='sentence'>The destructor for each element of class type
is potentially invoked (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)
from the context where the aggregate initialization occurs<a class='hidden_link' href='#aggr-9.sentence-1'>.</a></div> <div id='aggr-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-4'>4</a></i>: <div id='aggr-9.sentence-2' class='sentence'>This provision ensures that destructors can be called
for fully-constructed subobjects
in case an exception is thrown (<a href='except.ctor' title='14.3&emsp;Constructors and destructors'>[except.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#aggr-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='aggr-10'><div class='marginalizedparent'><a class='marginalized' href='#aggr-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5089'>#</a></div><div class='texpara'><div id='aggr-10.sentence-1' class='sentence'>An array of unknown bound initialized with a
brace-enclosed
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list___'><span class='textsf'><i >initializer-list</i></span></span></a>
containing
<span class='texttt'>n</span>
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause______'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
is defined as having
<span class='texttt'>n</span>
elements (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#aggr-10.sentence-1'>.</a></div> <div id='aggr-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-4'>4</a></i>: <div id='aggr-10.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>int</span> x<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>3</span>, <span class='literal'>5</span> <span class='curlybracket'>}</span>;
</span>
declares and initializes
<span class='texttt'>x</span>
as a one-dimensional array that has three elements
since no size was specified and there are three initializers<a class='hidden_link' href='#aggr-10.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='aggr-10.sentence-3' class='sentence'>
An array of unknown bound shall not be initialized with
an empty <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__________'><span class='textsf'><i >braced-init-list</i></span></span></a> <span class='texttt'><span class='curlybracket'>{</span><span class='curlybracket'>}</span></span><a class='hidden_link' href='#aggr-10.sentence-3'>.</a><a class='footnoteref' href='#footnote-84' id='footnoteref-84' title='The syntax provides for empty braced-init-lists, but nonetheless C++ does not have zero length arrays.'>84</a></div> <div id='aggr-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-5'>5</a></i>: <div id='aggr-10.sentence-4' class='sentence'>A default member initializer does not determine the bound for a member
array of unknown bound<a class='hidden_link' href='#aggr-10.sentence-4'>.</a></div> <div id='aggr-10.sentence-5' class='sentence'>Since the default member initializer is
ignored if a suitable <a href='class.base.init#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer'><span class='textsf'><i >mem-initializer</i></span></span></a> is present (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>),
the default member initializer is not
considered to initialize the array of unknown bound<a class='hidden_link' href='#aggr-10.sentence-5'>.</a></div> <div id='aggr-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> y<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>0</span> <span class='curlybracket'>}</span>;          <span class='comment'>// error: non-static data member of incomplete type</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='aggr-11'><div class='marginalizedparent'><a class='marginalized' href='#aggr-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5129'>#</a></div><div class='texpara'><div id='aggr-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-6'>6</a></i>: <div id='aggr-11.sentence-1' class='sentence'>Static data members,
non-static data members of anonymous union members,
and
unnamed bit-fields
are not considered elements of the aggregate<a class='hidden_link' href='#aggr-11.sentence-1'>.</a></div> <div id='aggr-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;
  <span class='keyword'>int</span> j;
  <span class='keyword'>int</span> <span class='operator'>:</span><span class='literal'>17</span>;
  <span class='keyword'>int</span> k;
<span class='curlybracket'>}</span> a <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='aggr-11.sentence-2' class='sentence'>Here, the second initializer 2 initializes
<span class='texttt'>a<span class='operator'>.</span>j</span>
and not the static data member
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>s</span>, and the third initializer 3 initializes <span class='texttt'>a<span class='operator'>.</span>k</span>
and not the unnamed bit-field before it<a class='hidden_link' href='#aggr-11.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='aggr-12'><div class='marginalizedparent'><a class='marginalized' href='#aggr-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5155'>#</a></div><div class='texpara'><div id='aggr-12.sentence-1' class='sentence'>An
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list____'><span class='textsf'><i >initializer-list</i></span></span></a>
is ill-formed if the number of
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_______'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
exceeds the number of elements of the aggregate<a class='hidden_link' href='#aggr-12.sentence-1'>.</a></div> <div id='aggr-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-7'>7</a></i>: <div id='aggr-12.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>char</span> cv<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>'a'</span>, <span class='literal'>'s'</span>, <span class='literal'>'d'</span>, <span class='literal'>'f'</span>, <span class='literal'>0</span> <span class='curlybracket'>}</span>;     <span class='comment'>// error</span>
</span>
is ill-formed<a class='hidden_link' href='#aggr-12.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='aggr-13'><div class='marginalizedparent'><a class='marginalized' href='#aggr-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5168'>#</a></div><div class='texpara'><div id='aggr-13.sentence-1' class='sentence'>If a member has a default member initializer
and a potentially-evaluated subexpression thereof is an aggregate
initialization that would use that default member initializer,
the program is ill-formed<a class='hidden_link' href='#aggr-13.sentence-1'>.</a></div> <div id='aggr-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-8'>8</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A;
<span class='keyword'>extern</span> A a;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> A<span class='operator'>&amp;</span> a1 <span class='curlybracket'>{</span> A<span class='curlybracket'>{</span>a,a<span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;       <span class='comment'>// OK</span>
  <span class='keyword'>const</span> A<span class='operator'>&amp;</span> a2 <span class='curlybracket'>{</span> A<span class='curlybracket'>{</span><span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;          <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;
A a<span class='curlybracket'>{</span>a,a<span class='curlybracket'>}</span>;                       <span class='comment'>// OK</span>

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> n <span class='operator'>=</span> B<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='operator'>.</span>n;                <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='aggr-14'><div class='marginalizedparent'><a class='marginalized' href='#aggr-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5189'>#</a></div><div class='texpara'><div id='aggr-14.sentence-1' class='sentence'>If an aggregate class <span class='texttt'>C</span> contains a subaggregate element
<span class='texttt'>e</span> with no elements,
the <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause________'><span class='textsf'><i >initializer-clause</i></span></span></a> for <span class='texttt'>e</span> shall not be
omitted from an <a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list_____'><span class='textsf'><i >initializer-list</i></span></span></a> for an object of type
<span class='texttt'>C</span> unless the <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i> for all
elements of <span class='texttt'>C</span> following <span class='texttt'>e</span> are also omitted<a class='hidden_link' href='#aggr-14.sentence-1'>.</a></div> <div id='aggr-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-9'>9</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> s;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  S s1;
  <span class='keyword'>int</span> i1;
  S s2;
  <span class='keyword'>int</span> i2;
  S s3;
  <span class='keyword'>int</span> i3;
<span class='curlybracket'>}</span> a <span class='operator'>=</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>,              <span class='comment'>// Required initialization</span>
  <span class='literal'>0</span>,
  s,                <span class='comment'>// Required initialization</span>
  <span class='literal'>0</span>
<span class='curlybracket'>}</span>;                  <span class='comment'>// Initialization not required for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;s3</span> because <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i3</span> is also not initialized</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='aggr-15'><div class='marginalizedparent'><a class='marginalized' href='#aggr-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5215'>#</a></div><div class='texpara'><div id='aggr-15.sentence-1' class='sentence'>When initializing a multidimensional array,
the
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause__________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
initialize the elements with the last (rightmost) index of the array
varying the fastest (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#aggr-15.sentence-1'>.</a></div> <div id='aggr-example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-10'>10</a></i>: <div id='aggr-15.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>int</span> x<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>3</span>, <span class='literal'>1</span>, <span class='literal'>4</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;
</span>
initializes
<span class='texttt'>x<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span>
to
<span class='texttt'><span class='literal'>3</span></span>,
<span class='texttt'>x<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span>
to
<span class='texttt'><span class='literal'>1</span></span>,
<span class='texttt'>x<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span>
to
<span class='texttt'><span class='literal'>4</span></span>,
and
<span class='texttt'>x<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span>
to
<span class='texttt'><span class='literal'>2</span></span><a class='hidden_link' href='#aggr-15.sentence-2'>.</a></div> <div id='aggr-15.sentence-3' class='sentence'>On the other hand,
<span class='codeblock'><span class='keyword'>float</span> y<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>, <span class='curlybracket'>{</span> <span class='literal'>2</span> <span class='curlybracket'>}</span>, <span class='curlybracket'>{</span> <span class='literal'>3</span> <span class='curlybracket'>}</span>, <span class='curlybracket'>{</span> <span class='literal'>4</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span>
initializes the first column of
<span class='texttt'>y</span>
(regarded as a two-dimensional array)
and leaves the rest zero<a class='hidden_link' href='#aggr-15.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='aggr-16'><div class='marginalizedparent'><a class='marginalized' href='#aggr-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5251'>#</a></div><div class='texpara'><div id='aggr-16.sentence-1' class='sentence'>Braces can be elided in an
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list______'><span class='textsf'><i >initializer-list</i></span></span></a>
as follows<a class='hidden_link' href='#aggr-16.sentence-1'>.</a></div> <div id='aggr-16.sentence-2' class='sentence'>If the
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list_______'><span class='textsf'><i >initializer-list</i></span></span></a>
begins with a left brace,
then the succeeding comma-separated list of
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause___________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
initializes the elements of a subaggregate;
it is erroneous for there to be more
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause____________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
than elements<a class='hidden_link' href='#aggr-16.sentence-2'>.</a></div> <div id='aggr-16.sentence-3' class='sentence'>If, however, the
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list________'><span class='textsf'><i >initializer-list</i></span></span></a>
for a subaggregate does not begin with a left brace,
then only enough
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_____________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
from the list are taken to initialize the elements of the subaggregate;
any remaining
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause______________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
are left to initialize the next element of the aggregate
of which the current subaggregate is an element<a class='hidden_link' href='#aggr-16.sentence-3'>.</a></div> <div id='aggr-example-11' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-11'>11</a></i>: <div id='aggr-16.sentence-4' class='sentence'><span class='codeblock'><span class='keyword'>float</span> y<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>3</span>, <span class='literal'>5</span> <span class='curlybracket'>}</span>,
  <span class='curlybracket'>{</span> <span class='literal'>2</span>, <span class='literal'>4</span>, <span class='literal'>6</span> <span class='curlybracket'>}</span>,
  <span class='curlybracket'>{</span> <span class='literal'>3</span>, <span class='literal'>5</span>, <span class='literal'>7</span> <span class='curlybracket'>}</span>,
<span class='curlybracket'>}</span>;
</span>
is a completely-braced initialization:
1, 3, and 5 initialize the first row of the array
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span>,
namely
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span>,
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span>,
and
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#aggr-16.sentence-4'>.</a></div> <div id='aggr-16.sentence-5' class='sentence'>Likewise the next two lines initialize
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span>
and
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#aggr-16.sentence-5'>.</a></div> <div id='aggr-16.sentence-6' class='sentence'>The initializer ends early and therefore
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span></span>'s
elements are initialized as if explicitly initialized with an
expression of the form
<span class='texttt'><span class='keyword'>float</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
that is, are initialized with
<span class='texttt'><span class='literal'>0.0</span></span><a class='hidden_link' href='#aggr-16.sentence-6'>.</a></div> <div id='aggr-16.sentence-7' class='sentence'>In the following example, braces in the
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list_________'><span class='textsf'><i >initializer-list</i></span></span></a>
are elided;
however the
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list__________'><span class='textsf'><i >initializer-list</i></span></span></a>
has the same effect as the completely-braced
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list___________'><span class='textsf'><i >initializer-list</i></span></span></a>
of the above example,
<span class='codeblock'><span class='keyword'>float</span> y<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span>
  <span class='literal'>1</span>, <span class='literal'>3</span>, <span class='literal'>5</span>, <span class='literal'>2</span>, <span class='literal'>4</span>, <span class='literal'>6</span>, <span class='literal'>3</span>, <span class='literal'>5</span>, <span class='literal'>7</span>
<span class='curlybracket'>}</span>;
</span></div></div><div class='texpara'><div id='aggr-16.sentence-8' class='sentence'>The initializer for
<span class='texttt'>y</span>
begins with a left brace, but the one for
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span>
does not,
therefore three elements from the list are used<a class='hidden_link' href='#aggr-16.sentence-8'>.</a></div> <div id='aggr-16.sentence-9' class='sentence'>Likewise the next three are taken successively for
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span>
and
<span class='texttt'>y<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#aggr-16.sentence-9'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='aggr-17'><div class='marginalizedparent'><a class='marginalized' href='#aggr-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5327'>#</a></div><div class='texpara'><div id='aggr-17.sentence-1' class='sentence'>All implicit type conversions (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>) are considered when
initializing the element with an <a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression___'><span class='textsf'><i >assignment-expression</i></span></span></a><a class='hidden_link' href='#aggr-17.sentence-1'>.</a></div> <div id='aggr-17.sentence-2' class='sentence'>If the
<a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression____'><span class='textsf'><i >assignment-expression</i></span></span></a>
can initialize an element, the element is initialized<a class='hidden_link' href='#aggr-17.sentence-2'>.</a></div> <div id='aggr-17.sentence-3' class='sentence'>Otherwise, if the element is itself a subaggregate,
brace elision is assumed and the
<a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression_____'><span class='textsf'><i >assignment-expression</i></span></span></a>
is considered for the initialization of the first element of the subaggregate<a class='hidden_link' href='#aggr-17.sentence-3'>.</a></div> <div id='aggr-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-7'>7</a></i>: <div id='aggr-17.sentence-4' class='sentence'>As specified above, brace elision cannot apply to
subaggregates with no elements; an
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_______________'><span class='textsf'><i >initializer-clause</i></span></span></a> for the entire subobject is
required<a class='hidden_link' href='#aggr-17.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='aggr-example-12' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-12'>12</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  A a1, a2;
  <span class='keyword'>int</span> z;
<span class='curlybracket'>}</span>;
A a;
B b <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>4</span>, a, a <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='aggr-17.sentence-5' class='sentence'>Braces are elided around the
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause________________'><span class='textsf'><i >initializer-clause</i></span></span></a>
for
<span class='texttt'>b<span class='operator'>.</span>a1<span class='operator'>.</span>i</span><a class='hidden_link' href='#aggr-17.sentence-5'>.</a></div> <div id='aggr-17.sentence-6' class='sentence'><span class='texttt'>b<span class='operator'>.</span>a1<span class='operator'>.</span>i</span>
is initialized with 4,
<span class='texttt'>b<span class='operator'>.</span>a2</span>
is initialized with
<span class='texttt'>a</span>,
<span class='texttt'>b<span class='operator'>.</span>z</span>
is initialized with whatever
<span class='texttt'>a<span class='operator'>.</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
returns<a class='hidden_link' href='#aggr-17.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='aggr-18'><div class='marginalizedparent'><a class='marginalized' href='#aggr-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5373'>#</a></div><div class='texpara'><a class='index' id=':initialization,array_of_class_objects'></a><div id='aggr-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-8'>8</a></i>: <div id='aggr-18.sentence-1' class='sentence'>An aggregate array or an aggregate class can contain elements of a
class type with a user-declared constructor (<a href='class.ctor' title='11.4.5&emsp;Constructors'>[class.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#aggr-18.sentence-1'>.</a></div> <div id='aggr-18.sentence-2' class='sentence'>Initialization of these aggregate objects is described in <a href='class.expl.init' title='11.9.2&emsp;Explicit initialization'>[class.<span class='shy'></span>expl.<span class='shy'></span>init]</a><a class='hidden_link' href='#aggr-18.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='aggr-19'><div class='marginalizedparent'><a class='marginalized' href='#aggr-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5381'>#</a></div><div class='texpara'><div id='aggr-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-9'>9</a></i>: <div id='aggr-19.sentence-1' class='sentence'>Whether the initialization of aggregates with static storage duration
is static or dynamic is specified
in <a href='basic.start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>, <a href='basic.start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a>, and <a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a><a class='hidden_link' href='#aggr-19.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='aggr-20'><div class='marginalizedparent'><a class='marginalized' href='#aggr-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5388'>#</a></div><div class='texpara'><div id='aggr-20.sentence-1' class='sentence'><a class='index' id=':initialization,union'></a>When a union is initialized with an initializer list,
there shall not be more than one
explicitly initialized element<a class='hidden_link' href='#aggr-20.sentence-1'>.</a></div> <div id='aggr-example-13' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#aggr-example-13'>13</a></i>: <span class='codeblock'><span class='keyword'>union</span> u <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> b; <span class='curlybracket'>}</span>;
u a <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;
u b <span class='operator'>=</span> a;
u c <span class='operator'>=</span> <span class='literal'>1</span>;                        <span class='comment'>// error</span>
u d <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>0</span>, <span class='literal'>"asdf"</span> <span class='curlybracket'>}</span>;            <span class='comment'>// error</span>
u e <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"asdf"</span> <span class='curlybracket'>}</span>;               <span class='comment'>// error</span>
u f <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='operator'>.</span>b <span class='operator'>=</span> <span class='literal'>"asdf"</span> <span class='curlybracket'>}</span>;
u g <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='operator'>.</span>a <span class='operator'>=</span> <span class='literal'>1</span>, <span class='operator'>.</span>b <span class='operator'>=</span> <span class='literal'>"asdf"</span> <span class='curlybracket'>}</span>;  <span class='comment'>// error</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='aggr-21'><div class='marginalizedparent'><a class='marginalized' href='#aggr-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5406'>#</a></div><div class='texpara'><div id='aggr-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#aggr-note-10'>10</a></i>: <div id='aggr-21.sentence-1' class='sentence'>As described above,
the braces around the
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_________________'><span class='textsf'><i >initializer-clause</i></span></span></a>
for a union member can be omitted if the
union is a member of another aggregate<a class='hidden_link' href='#aggr-21.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-84'><div class='texpara'><a class='footnotenum' href='#footnote-84'>84)</a><a class='footnoteBacklink' href='#footnoteref-84'>84)</a> <div id='footnote-84.sentence-1' class='sentence'>The syntax provides for empty <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list________'><span class='textsf'><i >braced-init-list</i></span></span></a><i >s</i>,
but nonetheless C++ does not have zero length arrays<a class='hidden_link' href='#footnote-84.sentence-1'>.</a></div></div></div></div><div id='string' class='section'><h3 ><a class='secnum' href='#string' style='min-width:80pt'>9.4.3</a> Character arrays <a class='abbr_ref' href='dcl.init.string'>[dcl.init.string]</a></h3><div class='texpara'><a class='index' id=':initialization,character_array'></a></div><div class='para' id='string-1'><div class='marginalizedparent'><a class='marginalized' href='#string-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5418'>#</a></div><div class='texpara'><div id='string-1.sentence-1' class='sentence'><a class='index' id=':UTF-8'></a><a class='index' id=':UTF-16'></a><a class='index' id=':UTF-32'></a>An array of ordinary character type (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>),
<span id=':char8_t_'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span> array,
<span id=':char16_t_'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span> array,
<span id=':char32_t_'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span> array,
or <span id=':wchar_t_'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span> array
may be initialized by
an ordinary string literal,
UTF-8 string literal,
UTF-16 string literal,
UTF-32 string literal, or
wide string literal,
respectively, or by an appropriately-typed <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal_'><span class='textsf'><i >string-literal</i></span></span></a> enclosed in
braces (<a href='lex.string' title='5.13.5&emsp;String literals'>[lex.<span class='shy'></span>string]</a>)<a class='hidden_link' href='#string-1.sentence-1'>.</a></div> <div id='string-1.sentence-2' class='sentence'>Additionally, an array of <span id=':char'><span class='texttt'><span class='keyword'>char</span></span></span> or
<span class='texttt'><span id=':unsigned'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char_'><span class='texttt'><span class='keyword'>char</span></span></span></span>
may be initialized by
a UTF-8 string literal, or by
such a string literal enclosed in braces<a class='hidden_link' href='#string-1.sentence-2'>.</a></div> <div id='string-1.sentence-3' class='sentence'><a class='index' id=':initialization,character_array_'></a>Successive
characters of the
value of the <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal__'><span class='textsf'><i >string-literal</i></span></span></a>
initialize the elements of the array,
with an integral conversion (<a href='conv.integral' title='7.3.9&emsp;Integral conversions'>[conv.<span class='shy'></span>integral]</a>)
if necessary for the source and destination value<a class='hidden_link' href='#string-1.sentence-3'>.</a></div> <div id='string-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string-example-1'>1</a></i>: <div id='string-1.sentence-4' class='sentence'><span class='codeblock'><span class='keyword'>char</span> msg<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>"Syntax error on line %s\n"</span>;
</span>
shows a character array whose members are initialized
with a
<a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal___'><span class='textsf'><i >string-literal</i></span></span></a><a class='hidden_link' href='#string-1.sentence-4'>.</a></div> <div id='string-1.sentence-5' class='sentence'>Note that because
<span class='texttt'>'\n'</span>
is a single character and
because a trailing
<span class='texttt'>'\<span class='literal'>0</span>'</span>
is appended,
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>msg<span class='parenthesis'>)</span></span>
is
<span class='texttt'><span class='literal'>25</span></span><a class='hidden_link' href='#string-1.sentence-5'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='string-2'><div class='marginalizedparent'><a class='marginalized' href='#string-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5465'>#</a></div><div class='texpara'><div id='string-2.sentence-1' class='sentence'>There shall not be more initializers than there are array elements<a class='hidden_link' href='#string-2.sentence-1'>.</a></div> <div id='string-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string-example-2'>2</a></i>: <div id='string-2.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>char</span> cv<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>"asdf"</span>;            <span class='comment'>// error</span>
</span>
is ill-formed since there is no space for the implied trailing
<span class='texttt'>'\<span class='literal'>0</span>'</span><a class='hidden_link' href='#string-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='string-3'><div class='marginalizedparent'><a class='marginalized' href='#string-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5475'>#</a></div><div class='texpara'><div id='string-3.sentence-1' class='sentence'>If there are fewer initializers than there are array elements, each element not
explicitly initialized shall be zero-initialized ([dcl.<span class='shy'></span>init])<a class='hidden_link' href='#string-3.sentence-1'>.</a></div></div></div></div><div id='ref' class='section'><h3 ><a class='secnum' href='#ref' style='min-width:80pt'>9.4.4</a> References <a class='abbr_ref' href='dcl.init.ref'>[dcl.init.ref]</a></h3><div class='texpara'><a class='index' id=':initialization,reference'></a></div><div class='para' id='ref-1'><div class='marginalizedparent'><a class='marginalized' href='#ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5482'>#</a></div><div class='texpara'><div id='ref-1.sentence-1' class='sentence'>A variable whose declared type is
“reference to <span class='texttt'>T</span>” (<a href='dcl.ref' title='9.3.4.3&emsp;References'>[dcl.<span class='shy'></span>ref]</a>)
shall be initialized<a class='hidden_link' href='#ref-1.sentence-1'>.</a></div> <div id='ref-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ref-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span><span class='operator'>&amp;</span> r <span class='operator'>=</span> i;                   <span class='comment'>// <span class='tcode_in_codeblock'>r</span> refers to <span class='tcode_in_codeblock'>i</span></span>
  r <span class='operator'>=</span> <span class='literal'>1</span>;                        <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> becomes <span class='tcode_in_codeblock'>1</span></span>
  <span class='keyword'>int</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='operator'>&amp;</span>r;                  <span class='comment'>// <span class='tcode_in_codeblock'>p</span> points to <span class='tcode_in_codeblock'>i</span></span>
  <span class='keyword'>int</span><span class='operator'>&amp;</span> rr <span class='operator'>=</span> r;                  <span class='comment'>// <span class='tcode_in_codeblock'>rr</span> refers to what <span class='tcode_in_codeblock'>r</span> refers to, that is, to <span class='tcode_in_codeblock'>i</span></span>
  <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>rg<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> g;           <span class='comment'>// <span class='tcode_in_codeblock'>rg</span> refers to the function <span class='tcode_in_codeblock'>g</span></span>
  rg<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>;                        <span class='comment'>// calls function <span class='tcode_in_codeblock'>g</span></span>
  <span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>ra<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> a;             <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to the array <span class='tcode_in_codeblock'>a</span></span>
  ra<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span> <span class='operator'>=</span> i;                    <span class='comment'>// modifies <span class='tcode_in_codeblock'>a[1]</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='ref-2'><div class='marginalizedparent'><a class='marginalized' href='#ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5504'>#</a></div><div class='texpara'><div id='ref-2.sentence-1' class='sentence'>A reference cannot be changed to refer to another object after initialization<a class='hidden_link' href='#ref-2.sentence-1'>.</a></div> <div id='ref-2.sentence-3' class='sentence'><a class='index' id=':assignment,reference'></a><div id='ref-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-1'>1</a></i>: <div id='ref-2.sentence-2' class='sentence'>Assignment to a reference assigns to the object referred to by the reference (<a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>ass]</a>)<a class='hidden_link' href='#ref-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<a class='index' id=':argument_passing,reference_and'></a>Argument passing (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)
<a class='index' id=':return,reference_and'></a>and function value return (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>) are initializations<a class='hidden_link' href='#ref-2.sentence-3'>.</a></div></div></div><div class='para' id='ref-3'><div class='marginalizedparent'><a class='marginalized' href='#ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5515'>#</a></div><div class='texpara'><div id='ref-3.sentence-1' class='sentence'>The initializer can be omitted for a reference only in a parameter declaration (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),
in the declaration of a function return type, in the declaration of
a class member within its class definition (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>), and where the
<span id=':extern'><span class='texttt'><span class='keyword'>extern</span></span></span>
specifier is explicitly used<a class='hidden_link' href='#ref-3.sentence-1'>.</a></div> <a class='index' id=':declaration,extern_reference'></a><div id='ref-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ref-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>int</span><span class='operator'>&amp;</span> r1;                        <span class='comment'>// error: initializer missing</span>
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r2;                 <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='ref-4'><div class='marginalizedparent'><a class='marginalized' href='#ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5529'>#</a></div><div class='texpara'><div id='ref-4.sentence-1' class='sentence'>Given types “<i >cv1</i> <span class='texttt'>T1</span>” and “<i >cv2</i> <span class='texttt'>T2</span>”,
“<i >cv1</i> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-related' title='9.4.4&emsp;References&emsp;[dcl.init.ref]'><span id='def:reference-related'><i >reference-related</i></span></a> to
“<i >cv2</i> <span class='texttt'>T2</span>” if
<span class='texttt'>T1</span> is similar (<a href='conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) to <span class='texttt'>T2</span>, or
<span class='texttt'>T1</span> is a base class of <span class='texttt'>T2</span><a class='hidden_link' href='#ref-4.sentence-1'>.</a></div> <div id='ref-4.sentence-2' class='sentence'>“<i >cv1</i> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-compatible' title='9.4.4&emsp;References&emsp;[dcl.init.ref]'><span id='def:reference-compatible'><i >reference-compatible</i></span></a>
with “<i >cv2</i> <span class='texttt'>T2</span>” if
a prvalue of type “pointer to <i >cv2</i> <span class='texttt'>T2</span>” can be converted to
the type “pointer to <i >cv1</i> <span class='texttt'>T1</span>”
via a standard conversion sequence (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>)<a class='hidden_link' href='#ref-4.sentence-2'>.</a></div> <div id='ref-4.sentence-3' class='sentence'>In all cases where the reference-compatible relationship
of two types is used to establish the validity of a reference binding and
the standard conversion sequence would be ill-formed,
a program that necessitates such a binding is ill-formed<a class='hidden_link' href='#ref-4.sentence-3'>.</a></div></div></div><div class='para' id='ref-5'><div class='marginalizedparent'><a class='marginalized' href='#ref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5545'>#</a></div><div class='texpara'><div id='ref-5.sentence-1' class='sentence'>A reference to type “<i >cv1</i> <span class='texttt'>T1</span>” is initialized by
an expression of type “<i >cv2</i> <span class='texttt'>T2</span>” as follows:<a class='index' id=':binding,reference'></a>
<ul class='itemize'><li id='ref-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-5.1'>(5.1)</a></div><div class='texpara'><div id='ref-5.1.sentence-1' class='sentence'>If the reference is an lvalue reference and the initializer expression
<ul class='itemize'><li id='ref-5.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.1.1'>(5.1.1)</a></div>is an lvalue (but is not a
bit-field), and
“<i >cv1</i> <span class='texttt'>T1</span>” is reference-compatible with
“<i >cv2</i> <span class='texttt'>T2</span>”, or</li><li id='ref-5.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.1.2'>(5.1.2)</a></div>has a class type (i.e.,
<span class='texttt'>T2</span>
is a class type), where <span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>, and can be converted
to an lvalue of type “<i >cv3</i> <span class='texttt'>T3</span>”, where
“<i >cv1</i> <span class='texttt'>T1</span>” is reference-compatible with
“<i >cv3</i> <span class='texttt'>T3</span>”<a class='footnoteref' href='#footnote-85' id='footnoteref-85' title='This requires a conversion function ([class.conv.fct]) returning a reference type.'>85</a>
(this conversion is selected by enumerating the applicable conversion
functions (<a href='over.match.ref' title='12.2.2.7&emsp;Initialization by conversion function for direct reference binding'>[over.<span class='shy'></span>match.<span class='shy'></span>ref]</a>) and choosing the best one through <a href='over.match' title='12.2&emsp;Overload resolution&emsp;[over.match]'>overload
resolution</a>),</li></ul>
then the reference binds to the initializer expression lvalue in the
first case and to the lvalue result of the conversion
in the second case (or, in either case, to the appropriate base class subobject of the object)<a class='hidden_link' href='#ref-5.1.sentence-1'>.</a></div> <div id='ref-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-2'>2</a></i>: <div id='ref-5.1.sentence-2' class='sentence'>The usual <a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue</a>, <a href='conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer</a>,
and <a href='conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer</a> standard
conversions are not needed, and therefore are suppressed, when such
direct bindings to lvalues are done<a class='hidden_link' href='#ref-5.1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='ref-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ref-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>double</span> d <span class='operator'>=</span> <span class='literal'>2.0</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span> rd <span class='operator'>=</span> d;                 <span class='comment'>// <span class='tcode_in_codeblock'>rd</span> refers to <span class='tcode_in_codeblock'>d</span></span>
<span class='keyword'>const</span> <span class='keyword'>double</span><span class='operator'>&amp;</span> rcd <span class='operator'>=</span> d;          <span class='comment'>// <span class='tcode_in_codeblock'>rcd</span> refers to <span class='tcode_in_codeblock'>d</span></span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span> b;
A<span class='operator'>&amp;</span> ra <span class='operator'>=</span> b;                      <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span></span>
<span class='keyword'>const</span> A<span class='operator'>&amp;</span> rca <span class='operator'>=</span> b;               <span class='comment'>// <span class='tcode_in_codeblock'>rca</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span></span>
<span class='keyword'>int</span><span class='operator'>&amp;</span> ir <span class='operator'>=</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// <span class='tcode_in_codeblock'>ir</span> refers to the result of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator int&amp;</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='ref-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-5.2'>(5.2)</a></div><div class='texpara'><div id='ref-5.2.sentence-1' class='sentence'>Otherwise,
if the reference is an lvalue reference to a
type that is not const-qualified or is volatile-qualified,
the program is ill-formed<a class='hidden_link' href='#ref-5.2.sentence-1'>.</a></div> <div id='ref-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ref-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>double</span><span class='operator'>&amp;</span> rd2 <span class='operator'>=</span> <span class='literal'>2.0</span>;              <span class='comment'>// error: not an lvalue and reference not <span id=':const'><span class='tcode_in_codeblock'>const</span></span></span>
<span class='keyword'>int</span>  i <span class='operator'>=</span> <span class='literal'>2</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span> rd3 <span class='operator'>=</span> i;                <span class='comment'>// error: type mismatch and reference not <span id=':const_'><span class='tcode_in_codeblock'>const</span></span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='ref-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-5.3'>(5.3)</a></div><div class='texpara'><div id='ref-5.3.sentence-1' class='sentence'>Otherwise, if the initializer expression
<ul class='itemize'><li id='ref-5.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.3.1'>(5.3.1)</a></div>is an rvalue (but not a bit-field) or function lvalue and
“<i >cv1</i> <span class='texttt'>T1</span>” is
reference-compatible with “<i >cv2</i> <span class='texttt'>T2</span>”, or</li><li id='ref-5.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.3.2'>(5.3.2)</a></div>has a class type (i.e., <span class='texttt'>T2</span> is a class type), where <span class='texttt'>T1</span>
is not reference-related to <span class='texttt'>T2</span>, and can be converted to
an rvalue or function lvalue of type “<i >cv3</i> <span class='texttt'>T3</span>”,
where “<i >cv1</i> <span class='texttt'>T1</span>” is
reference-compatible with “<i >cv3</i> <span class='texttt'>T3</span>” (see <a href='over.match.ref' title='12.2.2.7&emsp;Initialization by conversion function for direct reference binding'>[over.<span class='shy'></span>match.<span class='shy'></span>ref]</a>),</li></ul>
then
the initializer expression in the first case and
the converted expression in the second case
is called the converted initializer<a class='hidden_link' href='#ref-5.3.sentence-1'>.</a></div> <div id='ref-5.3.sentence-2' class='sentence'>If the converted initializer is a prvalue,
its type <span class='texttt'>T4</span> is adjusted to type “<i >cv1</i> <span class='texttt'>T4</span>” (<a href='conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)
and the temporary materialization conversion (<a href='conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>) is applied<a class='hidden_link' href='#ref-5.3.sentence-2'>.</a></div> <div id='ref-5.3.sentence-3' class='sentence'>In any case,
the reference binds to the resulting glvalue
(or to an appropriate base class subobject)<a class='hidden_link' href='#ref-5.3.sentence-3'>.</a></div></div><div class='texpara'><div id='ref-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ref-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> b;
<span class='keyword'>extern</span> B f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>const</span> A<span class='operator'>&amp;</span> rca2 <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// binds to the <span class='tcode_in_codeblock'>A</span> subobject of the <span class='tcode_in_codeblock'>B</span> rvalue.</span>
A<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rra <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// same as above</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> x;
<span class='keyword'>const</span> A<span class='operator'>&amp;</span> r <span class='operator'>=</span> x;                     <span class='comment'>// binds to the <span class='tcode_in_codeblock'>A</span> subobject of the result of the conversion</span>
<span class='keyword'>int</span> i2 <span class='operator'>=</span> <span class='literal'>42</span>;
<span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rri <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>i2<span class='parenthesis'>)</span>; <span class='comment'>// binds directly to <span class='tcode_in_codeblock'>i2</span></span>
B<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrb <span class='operator'>=</span> x;                        <span class='comment'>// binds directly to the result of <span class='tcode_in_codeblock'>operator B</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='ref-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref-5.4'>(5.4)</a></div><div class='texpara'><div id='ref-5.4.sentence-1' class='sentence'>Otherwise:
<ul class='itemize'><li id='ref-5.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.4.1'>(5.4.1)</a></div><div class='texpara'><div id='ref-5.4.1.sentence-1' class='sentence'>If <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is a class type and
<span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>,
user-defined conversions are considered
using the rules for copy-initialization of an object of type
“<i >cv1</i> <span class='texttt'>T1</span>” by
user-defined conversion ([dcl.<span class='shy'></span>init], <a href='over.match.copy' title='12.2.2.5&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>, <a href='over.match.conv' title='12.2.2.6&emsp;Initialization by conversion function'>[over.<span class='shy'></span>match.<span class='shy'></span>conv]</a>);
the program is ill-formed if the corresponding non-reference
copy-initialization would be ill-formed<a class='hidden_link' href='#ref-5.4.1.sentence-1'>.</a></div> <div id='ref-5.4.1.sentence-2' class='sentence'>The result of the call to the
conversion function, as described for the non-reference
copy-initialization, is then used to direct-initialize the reference<a class='hidden_link' href='#ref-5.4.1.sentence-2'>.</a></div> <div id='ref-5.4.1.sentence-3' class='sentence'>For this direct-initialization, user-defined conversions are not considered<a class='hidden_link' href='#ref-5.4.1.sentence-3'>.</a></div></div></li><li id='ref-5.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.4.2'>(5.4.2)</a></div><div class='texpara'><div id='ref-5.4.2.sentence-1' class='sentence'>Otherwise,
the initializer expression is implicitly converted to a prvalue
of type “<span class='texttt'>T1</span>”<a class='hidden_link' href='#ref-5.4.2.sentence-1'>.</a></div> <div id='ref-5.4.2.sentence-2' class='sentence'>The temporary materialization conversion is applied,
considering the type of the prvalue to be “<i >cv1</i> <span class='texttt'>T1</span>”,
and the reference is bound to the result<a class='hidden_link' href='#ref-5.4.2.sentence-2'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='ref-5.4.sentence-2' class='sentence'>If
<span class='texttt'>T1</span>
is reference-related to
<span class='texttt'>T2</span>:
<ul class='itemize'><li id='ref-5.4.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.4.3'>(5.4.3)</a></div><i >cv1</i>
shall be the same cv-qualification as, or greater cv-qualification than,
<i >cv2</i>; and</li><li id='ref-5.4.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#ref-5.4.4'>(5.4.4)</a></div>if the reference is an rvalue reference,
the initializer expression shall not be an lvalue<a class='hidden_link' href='#ref-5.4.sentence-2'>.</a> <div class='texpara'><div id='ref-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-3'>3</a></i>: <div id='ref-5.4.4.sentence-2' class='sentence'>This can be affected by
whether the initializer expression is move-eligible (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>)<a class='hidden_link' href='#ref-5.4.4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div><div class='texpara'><div id='ref-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ref-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>struct</span> Banana <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Enigma <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>const</span> Banana<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Alaska <span class='curlybracket'>{</span> <span class='keyword'>operator</span> Banana<span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> enigmatic<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>const</span> Banana ConstBanana;
  Banana <span class='operator'>&amp;</span><span class='operator'>&amp;</span>banana1 <span class='operator'>=</span> ConstBanana<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='comment'>// error</span>
  Banana <span class='operator'>&amp;</span><span class='operator'>&amp;</span>banana2 <span class='operator'>=</span> Enigma<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// error</span>
  Banana <span class='operator'>&amp;</span><span class='operator'>&amp;</span>banana3 <span class='operator'>=</span> Alaska<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// error</span>
<span class='curlybracket'>}</span>

<span class='keyword'>const</span> <span class='keyword'>double</span><span class='operator'>&amp;</span> rcd2 <span class='operator'>=</span> <span class='literal'>2</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>rcd2</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span></span>
<span class='keyword'>double</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrd <span class='operator'>=</span> <span class='literal'>2</span>;                   <span class='comment'>// <span class='tcode_in_codeblock'>rrd</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span></span>
<span class='keyword'>const</span> <span class='keyword'>volatile</span> <span class='keyword'>int</span> cvi <span class='operator'>=</span> <span class='literal'>1</span>;
<span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r2 <span class='operator'>=</span> cvi;                <span class='comment'>// error: cv-qualifier dropped</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>volatile</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span> a;
<span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r3 <span class='operator'>=</span> a;                  <span class='comment'>// error: cv-qualifier dropped</span>
                                    <span class='comment'>// from result of conversion function</span>
<span class='keyword'>double</span> d2 <span class='operator'>=</span> <span class='literal'>1.0</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrd2 <span class='operator'>=</span> d2;                 <span class='comment'>// error: initializer is lvalue of related type</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rri2 <span class='operator'>=</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// error: result of conversion function is lvalue of related type</span>
<span class='keyword'>int</span> i3 <span class='operator'>=</span> <span class='literal'>2</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrd3 <span class='operator'>=</span> i3;                 <span class='comment'>// <span class='tcode_in_codeblock'>rrd3</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div><div class='texpara'><div id='ref-5.sentence-2' class='sentence'>In all cases except the last
(i.e., implicitly converting the initializer expression
to the referenced type),
the reference is said to <a class='hidden_link' href='#def:bind_directly' title='9.4.4&emsp;References&emsp;[dcl.init.ref]'><span id='def:bind_directly'><i >bind directly</i></span></a> to the
initializer expression<a class='hidden_link' href='#ref-5.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='ref-6'><div class='marginalizedparent'><a class='marginalized' href='#ref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5728'>#</a></div><div class='texpara'><div id='ref-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ref-note-4'>4</a></i>: <div id='ref-6.sentence-1' class='sentence'><a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a> describes the lifetime of temporaries bound to references<a class='hidden_link' href='#ref-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-85'><div class='texpara'><a class='footnotenum' href='#footnote-85'>85)</a><a class='footnoteBacklink' href='#footnoteref-85'>85)</a> <div id='footnote-85.sentence-1' class='sentence'>This requires a conversion
function (<a href='class.conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>) returning a reference type<a class='hidden_link' href='#footnote-85.sentence-1'>.</a></div></div></div></div><div id='list' class='section'><h3 ><a class='secnum' href='#list' style='min-width:80pt'>9.4.5</a> List-initialization <a class='abbr_ref' href='dcl.init.list'>[dcl.init.list]</a></h3><div class='texpara'><a class='index' id=':initialization,list-initialization'></a></div><div class='para' id='list-1'><div class='marginalizedparent'><a class='marginalized' href='#list-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5736'>#</a></div><div class='texpara'><div id='list-1.sentence-1' class='sentence'><a class='hidden_link' href='#def:list-initialization' title='9.4.5&emsp;List-initialization&emsp;[dcl.init.list]'><span id='def:list-initialization'><i >List-initialization</i></span></a> is initialization of an object or reference from a
<a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list___________'><span class='textsf'><i >braced-init-list</i></span></span></a><a class='hidden_link' href='#list-1.sentence-1'>.</a></div> <div id='list-1.sentence-2' class='sentence'>Such an initializer is called an <a class='hidden_link' href='#def:initializer_list' id='def:initializer_list'><i>initializer list</i></a>, and
the comma-separated
<a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause__________________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>
of the <a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list____________'><span class='textsf'><i >initializer-list</i></span></span></a>
or
<a href='#nt:designated-initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-clause_______'><span class='textsf'><i >designated-initializer-clause</i></span></span></a><i >s</i>
of the <a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list_____'><span class='textsf'><i >designated-initializer-list</i></span></span></a>
are called the <a class='hidden_link' href='#def:elements' id='def:elements'><i>elements</i></a> of the initializer list<a class='hidden_link' href='#list-1.sentence-2'>.</a></div> <div id='list-1.sentence-3' class='sentence'>An initializer list may be empty<a class='hidden_link' href='#list-1.sentence-3'>.</a></div> <div id='list-1.sentence-4' class='sentence'>List-initialization can occur in direct-initialization or copy-initialization contexts;
list-initialization in a direct-initialization context is called
<a class='hidden_link' href='#def:direct-list-initialization' title='9.4.5&emsp;List-initialization&emsp;[dcl.init.list]'><span id='def:direct-list-initialization'><i >direct-list-initialization</i></span></a> and list-initialization in a
copy-initialization context is called <a class='hidden_link' href='#def:copy-list-initialization' title='9.4.5&emsp;List-initialization&emsp;[dcl.init.list]'><span id='def:copy-list-initialization'><i >copy-list-initialization</i></span></a><a class='hidden_link' href='#list-1.sentence-4'>.</a></div> <div id='list-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#list-note-1'>1</a></i>: <div id='list-1.sentence-5' class='sentence'>List-initialization can be used
<ul class='itemize'><li id='list-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.1'>(1.1)</a></div>as the initializer in a variable definition ([dcl.<span class='shy'></span>init])</li><li id='list-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.2'>(1.2)</a></div>as the initializer in a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>)</li><li id='list-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.3'>(1.3)</a></div>in a <span class='texttt'><span class='keyword'>return</span></span> statement (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>)</li><li id='list-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.4'>(1.4)</a></div>as a <a href='stmt.iter.general#nt:for-range-initializer' title='8.6.1&emsp;General&emsp;[stmt.iter.general]'><span id='ntref:for-range-initializer'><span class='textsf'><i >for-range-initializer</i></span></span></a> (<a href='stmt.iter' title='8.6&emsp;Iteration statements'>[stmt.<span class='shy'></span>iter]</a>)</li><li id='list-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.5'>(1.5)</a></div>as a function argument (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)</li><li id='list-1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.6'>(1.6)</a></div>as a subscript (<a href='expr.sub' title='7.6.1.2&emsp;Subscripting'>[expr.<span class='shy'></span>sub]</a>)</li><li id='list-1.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.7'>(1.7)</a></div>as an argument to a constructor invocation ([dcl.<span class='shy'></span>init], <a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>)</li><li id='list-1.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.8'>(1.8)</a></div>as an initializer for a non-static data member (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)</li><li id='list-1.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.9'>(1.9)</a></div>in a <a href='class.base.init#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_'><span class='textsf'><i >mem-initializer</i></span></span></a> (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)</li><li id='list-1.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-1.10'>(1.10)</a></div>on the right-hand side of an assignment (<a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>ass]</a>)</li></ul></div></div><div class='texpara'><div id='list-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>int</span> a <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>;
std<span class='operator'>::</span>complex<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span> z<span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span><span class='curlybracket'>}</span>;
<span class='keyword'>new</span> std<span class='operator'>::</span>vector<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>string<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='literal'>"once"</span>, <span class='literal'>"upon"</span>, <span class='literal'>"a"</span>, <span class='literal'>"time"</span><span class='curlybracket'>}</span>;  <span class='comment'>// 4 string elements</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>"Nicholas"</span>,<span class='literal'>"Annemarie"</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;  <span class='comment'>// pass list of two elements</span>
<span class='keyword'>return</span> <span class='curlybracket'>{</span> <span class='literal'>"Norah"</span> <span class='curlybracket'>}</span>;             <span class='comment'>// return list of one element</span>
<span class='keyword'>int</span><span class='operator'>*</span> e <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                      <span class='comment'>// initialization to zero / null pointer</span>
x <span class='operator'>=</span> <span class='keyword'>double</span><span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>;                  <span class='comment'>// explicitly construct a <span class='tcode_in_codeblock'>double</span></span>
std<span class='operator'>::</span>map<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>string,<span class='keyword'>int</span><span class='anglebracket'>&gt;</span> anim <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>{</span><span class='literal'>"bear"</span>,<span class='literal'>4</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='literal'>"cassowary"</span>,<span class='literal'>2</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='literal'>"tiger"</span>,<span class='literal'>7</span><span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='list-2'><div class='marginalizedparent'><a class='marginalized' href='#list-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5780'>#</a></div><div class='texpara'><div id='list-2.sentence-1' class='sentence'>A constructor is an <a class='hidden_link' href='#def:initializer-list_constructor' title='9.4.5&emsp;List-initialization&emsp;[dcl.init.list]'><span id='def:initializer-list_constructor'><i >initializer-list constructor</i></span></a> if its first parameter is
of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> or reference to
<span class='mathit'>cv</span> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> for some type <span class='texttt'>E</span>, and either there are no other
parameters or else all other parameters have default arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#list-2.sentence-1'>.</a></div> <div id='list-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#list-note-2'>2</a></i>: <div id='list-2.sentence-2' class='sentence'>Initializer-list constructors are favored over other constructors in
list-initialization (<a href='over.match.list' title='12.2.2.8&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#list-2.sentence-2'>.</a></div> <div id='list-2.sentence-3' class='sentence'>Passing an initializer list as the argument
to the constructor template <span class='texttt'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> C<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span> of a class <span class='texttt'>C</span> does not
create an initializer-list constructor, because an initializer list argument causes the
corresponding parameter to be a non-deduced context (<a href='temp.deduct.call' title='13.10.3.2&emsp;Deducing template arguments from a function call'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#list-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='list-2.sentence-4' class='sentence'>
The template
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list</span> is not predefined;
if a standard library declaration (<a href='initializer.list.syn' title='17.10.2&emsp;Header &lt;initializer_&shy;list&gt; synopsis'>[initializer.<span class='shy'></span>list.<span class='shy'></span>syn]</a>, <a href='std.modules' title='16.4.2.4&emsp;Modules'>[std.<span class='shy'></span>modules]</a>)
of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list</span> is not reachable from (<a href='module.reach' title='10.7&emsp;Reachability'>[module.<span class='shy'></span>reach]</a>)
a use of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list</span> —
even an implicit use in which the type is not named (<a href='dcl.spec.auto' title='9.2.9.6&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>) —
the program is ill-formed<a class='hidden_link' href='#list-2.sentence-4'>.</a></div></div></div><div class='para' id='list-3'><div class='marginalizedparent'><a class='marginalized' href='#list-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L5800'>#</a></div><div class='texpara'><div id='list-3.sentence-1' class='sentence'>List-initialization of an object or reference of type <span class='texttt'>T</span> is defined as follows:
<ul class='itemize'><li id='list-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.1'>(3.1)</a></div><div class='texpara'><div id='list-3.1.sentence-1' class='sentence'>If the <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list____________'><span class='textsf'><i >braced-init-list</i></span></span></a>
contains a <a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list______'><span class='textsf'><i >designated-initializer-list</i></span></span></a> and
<span class='texttt'>T</span> is not a reference type,
<span class='texttt'>T</span> shall be an aggregate class<a class='hidden_link' href='#list-3.1.sentence-1'>.</a></div> <div id='list-3.1.sentence-2' class='sentence'>The ordered <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a><i >s</i>
in the <a href='#nt:designator' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designator___'><span class='textsf'><i >designator</i></span></span></a><i >s</i>
of the <a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list_______'><span class='textsf'><i >designated-initializer-list</i></span></span></a>
shall form a subsequence
of the ordered <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a><i >s</i>
in the direct non-static data members of <span class='texttt'>T</span><a class='hidden_link' href='#list-3.1.sentence-2'>.</a></div> <div id='list-3.1.sentence-3' class='sentence'>Aggregate initialization is performed (<a href='#aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)<a class='hidden_link' href='#list-3.1.sentence-3'>.</a></div> <div id='list-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='keyword'>int</span> y; <span class='keyword'>int</span> z; <span class='curlybracket'>}</span>;
A a<span class='curlybracket'>{</span><span class='operator'>.</span>y <span class='operator'>=</span> <span class='literal'>2</span>, <span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>1</span><span class='curlybracket'>}</span>;                <span class='comment'>// error: designator order does not match declaration order</span>
A b<span class='curlybracket'>{</span><span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>1</span>, <span class='operator'>.</span>z <span class='operator'>=</span> <span class='literal'>2</span><span class='curlybracket'>}</span>;                <span class='comment'>// OK, <span class='tcode_in_codeblock'>b.y</span> initialized to <span class='tcode_in_codeblock'>0</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='list-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.2'>(3.2)</a></div><div class='texpara'><div id='list-3.2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is an aggregate class and the initializer list has a single element
of type <i >cv</i> <span class='texttt'>U</span>,
where <span class='texttt'>U</span> is <span class='texttt'>T</span> or a class derived from <span class='texttt'>T</span>,
the object is initialized from that element (by copy-initialization for
copy-list-initialization, or by direct-initialization for
direct-list-initialization)<a class='hidden_link' href='#list-3.2.sentence-1'>.</a></div></div></li><li id='list-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.3'>(3.3)</a></div><div class='texpara'><div id='list-3.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a character array and the initializer list has a
single element that is an appropriately-typed <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal____'><span class='textsf'><i >string-literal</i></span></span></a> (<a href='#string' title='9.4.3&emsp;Character arrays'>[dcl.<span class='shy'></span>init.<span class='shy'></span>string]</a>),
initialization is performed as described in that subclause<a class='hidden_link' href='#list-3.3.sentence-1'>.</a></div></div></li><li id='list-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.4'>(3.4)</a></div><div class='texpara'><div id='list-3.4.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is an aggregate, aggregate initialization is
performed (<a href='#aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)<a class='hidden_link' href='#list-3.4.sentence-1'>.</a></div></div><div class='texpara'><div id='list-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>double</span> ad<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2.0</span> <span class='curlybracket'>}</span>;           <span class='comment'>// OK</span>
<span class='keyword'>int</span> ai<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2.0</span> <span class='curlybracket'>}</span>;              <span class='comment'>// error: narrowing</span>

<span class='keyword'>struct</span> S2 <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m1;
  <span class='keyword'>double</span> m2, m3;
<span class='curlybracket'>}</span>;
S2 s21 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3.0</span> <span class='curlybracket'>}</span>;             <span class='comment'>// OK</span>
S2 s22 <span class='curlybracket'>{</span> <span class='literal'>1.0</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;               <span class='comment'>// error: narrowing</span>
S2 s23 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                         <span class='comment'>// OK, default to 0,0,0</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='list-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.5'>(3.5)</a></div><div class='texpara'><div id='list-3.5.sentence-1' class='sentence'>Otherwise, if the initializer list has no elements and <span class='texttt'>T</span> is a class type with a
default constructor, the object is value-initialized<a class='hidden_link' href='#list-3.5.sentence-1'>.</a></div></div></li><li id='list-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.6'>(3.6)</a></div><div class='texpara'><div id='list-3.6.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a specialization of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>,
the object is constructed as described below<a class='hidden_link' href='#list-3.6.sentence-1'>.</a></div></div></li><li id='list-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.7'>(3.7)</a></div><div class='texpara'><div id='list-3.7.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a class type, constructors are considered<a class='hidden_link' href='#list-3.7.sentence-1'>.</a></div> <div id='list-3.7.sentence-2' class='sentence'>The applicable constructors are enumerated and
the best one is chosen through overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.match.list' title='12.2.2.8&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#list-3.7.sentence-2'>.</a></div> <div id='list-3.7.sentence-3' class='sentence'>If a narrowing
conversion (see below) is required to convert any of the arguments, the program is
ill-formed<a class='hidden_link' href='#list-3.7.sentence-3'>.</a></div></div><div class='texpara'><div id='list-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='comment'>// #1</span>
  S<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;    <span class='comment'>// #2</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                              <span class='comment'>// #3</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>;
S s1 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1.0</span>, <span class='literal'>2.0</span>, <span class='literal'>3.0</span> <span class='curlybracket'>}</span>;           <span class='comment'>// invoke #1</span>
S s2 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// invoke #2</span>
S s3 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                         <span class='comment'>// invoke #3</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div id='list-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> Map <span class='curlybracket'>{</span>
  Map<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>pair<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>string,<span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
Map ship <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>{</span><span class='literal'>"Sophie"</span>,<span class='literal'>14</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='literal'>"Surprise"</span>,<span class='literal'>28</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div id='list-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='comment'>// no initializer-list constructors</span>
  S<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>double</span>, <span class='keyword'>double</span><span class='parenthesis'>)</span>;           <span class='comment'>// #1</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                              <span class='comment'>// #2</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>;
S s1 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3.0</span> <span class='curlybracket'>}</span>;               <span class='comment'>// OK, invoke #1</span>
S s2 <span class='curlybracket'>{</span> <span class='literal'>1.0</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// error: narrowing</span>
S s3 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                           <span class='comment'>// OK, invoke #2</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='list-3.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.8'>(3.8)</a></div><div class='texpara'><div id='list-3.8.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is an enumeration
with a fixed underlying type (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>) <span class='texttt'>U</span>,
the <a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list_____________'><span class='textsf'><i >initializer-list</i></span></span></a> has a single element <span class='texttt'>v</span>,
<span class='texttt'>v</span> can be implicitly converted to <span class='texttt'>U</span>, and
the initialization is direct-list-initialization,
the object is initialized with the value <span class='texttt'>T<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>);
if a narrowing conversion is required to convert <span class='texttt'>v</span>
to <span class='texttt'>U</span>, the program is ill-formed<a class='hidden_link' href='#list-3.8.sentence-1'>.</a></div> <div id='list-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-7'>7</a></i>: <span class='codeblock'><span class='keyword'>enum</span> byte <span class='operator'>:</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
byte b <span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span>;                      <span class='comment'>// OK</span>
byte c <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span>;                    <span class='comment'>// error</span>
byte d <span class='operator'>=</span> byte<span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span>;                <span class='comment'>// OK; same value as <span class='tcode_in_codeblock'>b</span></span>
byte e <span class='curlybracket'>{</span> <span class='operator'>-</span><span class='literal'>1</span> <span class='curlybracket'>}</span>;                      <span class='comment'>// error</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> byte b; <span class='curlybracket'>}</span>;
A a1 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;                  <span class='comment'>// error</span>
A a2 <span class='operator'>=</span> <span class='curlybracket'>{</span> byte<span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;              <span class='comment'>// OK</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>byte<span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span><span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;                          <span class='comment'>// error</span>

<span class='keyword'>enum</span> <span class='keyword'>class</span> Handle <span class='operator'>:</span> uint32_t <span class='curlybracket'>{</span> Invalid <span class='operator'>=</span> <span class='literal'>0</span> <span class='curlybracket'>}</span>;
Handle h <span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span>;                    <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='list-3.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.9'>(3.9)</a></div><div class='texpara'><div id='list-3.9.sentence-1' class='sentence'>Otherwise, if
the initializer list
is not a <a href='#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list________'><span class='textsf'><i >designated-initializer-list</i></span></span></a> and
has a single element of type <span class='texttt'>E</span> and either
<span class='texttt'>T</span> is not a reference type or its referenced type is
reference-related to <span class='texttt'>E</span>, the object or reference is initialized
from that element (by copy-initialization for copy-list-initialization,
or by direct-initialization for direct-list-initialization);
if a narrowing conversion (see below) is required
to convert the element to <span class='texttt'>T</span>, the program is ill-formed<a class='hidden_link' href='#list-3.9.sentence-1'>.</a></div></div><div class='texpara'><div id='list-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-8'>8</a></i>: <span class='codeblock'><span class='keyword'>int</span> x1 <span class='curlybracket'>{</span><span class='literal'>2</span><span class='curlybracket'>}</span>;                         <span class='comment'>// OK</span>
<span class='keyword'>int</span> x2 <span class='curlybracket'>{</span><span class='literal'>2.0</span><span class='curlybracket'>}</span>;                       <span class='comment'>// error: narrowing</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='list-3.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.10'>(3.10)</a></div><div class='texpara'><div id='list-3.10.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a reference type, a prvalue is generated<a class='hidden_link' href='#list-3.10.sentence-1'>.</a></div> <div id='list-3.10.sentence-2' class='sentence'>The prvalue initializes its result object by copy-list-initialization from the initializer list<a class='hidden_link' href='#list-3.10.sentence-2'>.</a></div> <div id='list-3.10.sentence-3' class='sentence'>The prvalue is then used to direct-initialize the reference<a class='hidden_link' href='#list-3.10.sentence-3'>.</a></div> <div id='list-3.10.sentence-4' class='sentence'>The type of the prvalue is the type referenced by <span class='texttt'>T</span>,
unless <span class='texttt'>T</span> is “reference to array of unknown bound of <span class='texttt'>U</span>”,
in which case the type of the prvalue is
the type of <span class='texttt'>x</span> in the declaration <span class='texttt'>U x<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='math'><span class='mathalpha'>H</span></span></span>,
where <span class='math'><span class='mathalpha'>H</span></span> is the initializer list<a class='hidden_link' href='#list-3.10.sentence-4'>.</a></div> <div id='list-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#list-note-3'>3</a></i>: <div id='list-3.10.sentence-5' class='sentence'>As usual, the binding will fail and the program is ill-formed if
the reference type is an lvalue reference to a non-const type<a class='hidden_link' href='#list-3.10.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='list-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-9'>9</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='comment'>// #1</span>
  S<span class='parenthesis'>(</span><span class='keyword'>const</span> std<span class='operator'>::</span>string<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// #2</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> S<span class='operator'>&amp;</span> r1 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3.0</span> <span class='curlybracket'>}</span>;        <span class='comment'>// OK, invoke #1</span>
<span class='keyword'>const</span> S<span class='operator'>&amp;</span> r2 <span class='curlybracket'>{</span> <span class='literal'>"Spinach"</span> <span class='curlybracket'>}</span>;          <span class='comment'>// OK, invoke #2</span>
S<span class='operator'>&amp;</span> r3 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;                <span class='comment'>// error: initializer is not an lvalue</span>
<span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> i1 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;              <span class='comment'>// OK</span>
<span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> i2 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1.1</span> <span class='curlybracket'>}</span>;            <span class='comment'>// error: narrowing</span>
<span class='keyword'>const</span> <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>iar<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>iar</span> is bound to temporary array</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> a;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>explicit</span> B<span class='parenthesis'>(</span><span class='keyword'>const</span> A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>const</span> B<span class='operator'>&amp;</span> b2<span class='curlybracket'>{</span>a<span class='curlybracket'>}</span>;                     <span class='comment'>// error: cannot copy-list-initialize <span class='tcode_in_codeblock'>B</span> temporary from <span class='tcode_in_codeblock'>A</span></span>

<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;
C<span class='operator'>&amp;</span><span class='operator'>&amp;</span> c <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='list-3.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.11'>(3.11)</a></div><div class='texpara'><div id='list-3.11.sentence-1' class='sentence'>Otherwise, if the initializer list has no elements, the object is
value-initialized<a class='hidden_link' href='#list-3.11.sentence-1'>.</a></div></div><div class='texpara'><div id='list-example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-10'>10</a></i>: <span class='codeblock'><span class='keyword'>int</span><span class='operator'>*</span><span class='operator'>*</span> pp <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                        <span class='comment'>// initialized to null pointer</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='list-3.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-3.12'>(3.12)</a></div><div class='texpara'><div id='list-3.12.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#list-3.12.sentence-1'>.</a></div></div><div class='texpara'><div id='list-example-11' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-11'>11</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='keyword'>int</span> j; <span class='curlybracket'>}</span>;
A a1 <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;                      <span class='comment'>// aggregate initialization</span>
A a2 <span class='curlybracket'>{</span> <span class='literal'>1.2</span> <span class='curlybracket'>}</span>;                       <span class='comment'>// error: narrowing</span>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
B b1 <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;                      <span class='comment'>// creates <span class='tcode_in_codeblock'>initializer_<span class='shy'></span>list&lt;int&gt;</span> and calls constructor</span>
B b2 <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2.0</span> <span class='curlybracket'>}</span>;                    <span class='comment'>// error: narrowing</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span><span class='keyword'>int</span> i, <span class='keyword'>double</span> j<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
C c1 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2.2</span> <span class='curlybracket'>}</span>;                  <span class='comment'>// calls constructor with arguments (1, 2.2)</span>
C c2 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1.1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;                  <span class='comment'>// error: narrowing</span>

<span class='keyword'>int</span> j <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;                        <span class='comment'>// initialize to 1</span>
<span class='keyword'>int</span> k <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                          <span class='comment'>// initialize to 0</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='list-4'><div class='marginalizedparent'><a class='marginalized' href='#list-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L6016'>#</a></div><div class='texpara'><div id='list-4.sentence-1' class='sentence'>Within the <a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list______________'><span class='textsf'><i >initializer-list</i></span></span></a> of a <a href='#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_____________'><span class='textsf'><i >braced-init-list</i></span></span></a>,
the <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause___________________'><span class='textsf'><i >initializer-clause</i></span></span></a><i >s</i>, including any that result from pack
expansions (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>), are evaluated in the order in which they
appear<a class='hidden_link' href='#list-4.sentence-1'>.</a></div> <div id='list-4.sentence-2' class='sentence'>That is, every value computation and side effect associated with a
given <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause____________________'><span class='textsf'><i >initializer-clause</i></span></span></a> is sequenced before every value
computation and side effect associated with any <a href='#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_____________________'><span class='textsf'><i >initializer-clause</i></span></span></a>
that follows it in the comma-separated list of the <a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list_______________'><span class='textsf'><i >initializer-list</i></span></span></a><a class='hidden_link' href='#list-4.sentence-2'>.</a></div> <div id='list-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#list-note-4'>4</a></i>: <div id='list-4.sentence-3' class='sentence'>This evaluation ordering holds regardless of the semantics of the
initialization; for example, it applies when the elements of the
<a href='#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list________________'><span class='textsf'><i >initializer-list</i></span></span></a> are interpreted as arguments of a constructor
call, even though ordinarily there are no sequencing constraints on the
arguments of a call<a class='hidden_link' href='#list-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='list-5'><div class='marginalizedparent'><a class='marginalized' href='#list-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L6032'>#</a></div><div class='texpara'><div id='list-5.sentence-1' class='sentence'>An object of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is constructed from
an initializer list as if
the implementation generated and materialized (<a href='conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>)
a prvalue of type “array of <span class='math'><span class='mathalpha'>N</span></span> <span class='texttt'><span class='keyword'>const</span> E</span>”,
where <span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the initializer list;
this is called the initializer list's <a class='hidden_link' href='#def:array,backing' title='9.4.5&emsp;List-initialization&emsp;[dcl.init.list]'><span id='def:array,backing'><i >backing array</i></span></a><a class='hidden_link' href='#list-5.sentence-1'>.</a></div> <div id='list-5.sentence-2' class='sentence'>Each element of the backing array is copy-initialized with the
corresponding element of the initializer list, and the
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> object is constructed to refer to that array<a class='hidden_link' href='#list-5.sentence-2'>.</a></div> <div id='list-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#list-note-5'>5</a></i>: <div id='list-5.sentence-3' class='sentence'>A constructor or conversion function selected for the copy is required to be
accessible (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) in the context of the initializer list<a class='hidden_link' href='#list-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='list-5.sentence-4' class='sentence'>
If a narrowing conversion is required to initialize any of the elements,
the program is ill-formed<a class='hidden_link' href='#list-5.sentence-4'>.</a></div> <div id='list-5.sentence-5' class='sentence'>Whether all backing arrays are distinct
(that is, are stored in non-overlapping objects) is unspecified<a class='hidden_link' href='#list-5.sentence-5'>.</a></div></div></div><div class='para' id='list-6'><div class='marginalizedparent'><a class='marginalized' href='#list-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L6051'>#</a></div><div class='texpara'><div id='list-6.sentence-1' class='sentence'>The backing array has the same lifetime as any other temporary
object (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>), except that initializing an
<span class='texttt'>initializer_<span class='shy'></span>list</span> object from the array extends the lifetime of
the array exactly like binding a reference to a temporary<a class='hidden_link' href='#list-6.sentence-1'>.</a></div> <div id='list-example-12' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-12'>12</a></i>: <span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span> il<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>float</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>1</span>, x, <span class='literal'>3</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>mutable</span> <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> q<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> r<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  q<span class='parenthesis'>(</span><span class='curlybracket'>{</span>A<span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>, A<span class='curlybracket'>{</span><span class='literal'>2</span><span class='curlybracket'>}</span>, A<span class='curlybracket'>{</span><span class='literal'>3</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='list-6.sentence-2' class='sentence'>The initialization will be implemented in a way roughly equivalent to this:
<span class='codeblock'><span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>float</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>double</span> __a<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='keyword'>double</span><span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>, <span class='keyword'>double</span><span class='curlybracket'>{</span>x<span class='curlybracket'>}</span>, <span class='keyword'>double</span><span class='curlybracket'>{</span><span class='literal'>3</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;              <span class='comment'>// backing array</span>
  f<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>__a, __a<span class='operator'>+</span><span class='literal'>3</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>double</span> __b<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='keyword'>double</span><span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>, <span class='keyword'>double</span><span class='curlybracket'>{</span><span class='literal'>2</span><span class='curlybracket'>}</span>, <span class='keyword'>double</span><span class='curlybracket'>{</span><span class='literal'>3</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;   <span class='comment'>// backing array</span>
  f<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>__b, __b<span class='operator'>+</span><span class='literal'>3</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> r<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> A __c<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span>A<span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>, A<span class='curlybracket'>{</span><span class='literal'>2</span><span class='curlybracket'>}</span>, A<span class='curlybracket'>{</span><span class='literal'>3</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;                                  <span class='comment'>// backing array</span>
  q<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>__c, __c<span class='operator'>+</span><span class='literal'>3</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span>
assuming that the implementation
can construct an <span class='texttt'>initializer_<span class='shy'></span>list</span> object with a pair of pointers, and
with the understanding that <span class='texttt'>__b</span> does not outlive the call to <span class='texttt'>f</span><a class='hidden_link' href='#list-6.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div id='list-example-13' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-13'>13</a></i>: <span class='codeblock'><span class='keyword'>typedef</span> std<span class='operator'>::</span>complex<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span> cmplx;
std<span class='operator'>::</span>vector<span class='anglebracket'>&lt;</span>cmplx<span class='anglebracket'>&gt;</span> v1 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>vector<span class='anglebracket'>&lt;</span>cmplx<span class='anglebracket'>&gt;</span> v2<span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;
  std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> i3 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> i4;
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> i4<span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>            <span class='comment'>// ill-formed, would create a dangling reference</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='list-6.sentence-3' class='sentence'>For <span class='texttt'>v1</span> and <span class='texttt'>v2</span>, the <span class='texttt'>initializer_<span class='shy'></span>list</span> object
is a parameter in a function call, so the array created for
<span class='texttt'><span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span></span> has full-expression lifetime<a class='hidden_link' href='#list-6.sentence-3'>.</a></div> <div id='list-6.sentence-4' class='sentence'>For <span class='texttt'>i3</span>, the <span class='texttt'>initializer_<span class='shy'></span>list</span> object is a variable,
so the array persists for the lifetime of the variable<a class='hidden_link' href='#list-6.sentence-4'>.</a></div> <div id='list-6.sentence-5' class='sentence'>For <span class='texttt'>i4</span>, the <span class='texttt'>initializer_<span class='shy'></span>list</span> object is initialized in
the constructor's <a href='class.base.init#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer'><span class='textsf'><i >ctor-initializer</i></span></span></a> as if by binding
a temporary array to a reference member, so the program is
ill-formed (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#list-6.sentence-5'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='list-7'><div class='marginalizedparent'><a class='marginalized' href='#list-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/declarations.tex#L6122'>#</a></div><div class='texpara'><div id='list-7.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:conversion,narrowing' title='9.4.5&emsp;List-initialization&emsp;[dcl.init.list]'><span id='def:conversion,narrowing'><i >narrowing conversion</i></span></a> is an implicit conversion
<ul class='itemize'><li id='list-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-7.1'>(7.1)</a></div>from a floating-point type to an integer type, or</li><li id='list-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-7.2'>(7.2)</a></div>from a floating-point type <span class='texttt'>T</span> to another floating-point type
whose floating-point conversion rank is neither greater than nor equal to
that of <span class='texttt'>T</span>,
except where the source is a constant expression and
the actual value after conversion
is within the range of values that can be represented (even if it cannot be represented exactly),
or</li><li id='list-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-7.3'>(7.3)</a></div>from an integer type or unscoped enumeration type to a floating-point type, except
where the source is a constant expression and the actual value after conversion will fit
into the target type and will produce the original value when converted back to the
original type, or</li><li id='list-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-7.4'>(7.4)</a></div>from an integer type or unscoped enumeration type to an integer type that cannot
represent all the values of the original type, except where
<ul class='itemize'><li id='list-7.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#list-7.4.1'>(7.4.1)</a></div>the source is a bit-field whose width <span class='math'><span class='mathalpha'>w</span></span> is less than that of its type
(or, for an enumeration type, its underlying type) and
the target type can represent all the values
of a hypothetical extended integer type
with width <span class='math'><span class='mathalpha'>w</span></span> and with the same signedness as the original type or</li><li id='list-7.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#list-7.4.2'>(7.4.2)</a></div>the source is a constant
expression whose value after integral promotions will fit into the target type, or</li></ul></li><li id='list-7.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#list-7.5'>(7.5)</a></div>from a pointer type or a pointer-to-member type to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#list-7.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='list-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#list-note-6'>6</a></i>: <div id='list-7.sentence-2' class='sentence'>As indicated above, such conversions are not allowed at the top level in
list-initializations<a class='hidden_link' href='#list-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='list-example-14' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#list-example-14'>14</a></i>: <span class='codeblock'><span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>999</span>;                    <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is not a constant expression</span>
<span class='keyword'>const</span> <span class='keyword'>int</span> y <span class='operator'>=</span> <span class='literal'>999</span>;
<span class='keyword'>const</span> <span class='keyword'>int</span> z <span class='operator'>=</span> <span class='literal'>99</span>;
<span class='keyword'>char</span> c1 <span class='operator'>=</span> x;                    <span class='comment'>// OK, though it potentially narrows (in this case, it does narrow)</span>
<span class='keyword'>char</span> c2<span class='curlybracket'>{</span>x<span class='curlybracket'>}</span>;                     <span class='comment'>// error: potentially narrows</span>
<span class='keyword'>char</span> c3<span class='curlybracket'>{</span>y<span class='curlybracket'>}</span>;                     <span class='comment'>// error: narrows (assuming <span class='tcode_in_codeblock'>char</span> is 8 bits)</span>
<span class='keyword'>char</span> c4<span class='curlybracket'>{</span>z<span class='curlybracket'>}</span>;                     <span class='comment'>// OK, no narrowing needed</span>
<span class='keyword'>unsigned</span> <span class='keyword'>char</span> uc1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>5</span><span class='curlybracket'>}</span>;        <span class='comment'>// OK, no narrowing needed</span>
<span class='keyword'>unsigned</span> <span class='keyword'>char</span> uc2 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='operator'>-</span><span class='literal'>1</span><span class='curlybracket'>}</span>;       <span class='comment'>// error: narrows</span>
<span class='keyword'>unsigned</span> <span class='keyword'>int</span> ui1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='operator'>-</span><span class='literal'>1</span><span class='curlybracket'>}</span>;        <span class='comment'>// error: narrows</span>
<span class='keyword'>signed</span> <span class='keyword'>int</span> si1 <span class='operator'>=</span>
  <span class='curlybracket'>{</span> <span class='parenthesis'>(</span><span class='keyword'>unsigned</span> <span class='keyword'>int</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='literal'>1</span> <span class='curlybracket'>}</span>;         <span class='comment'>// error: narrows</span>
<span class='keyword'>int</span> ii <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>2.0</span><span class='curlybracket'>}</span>;                 <span class='comment'>// error: narrows</span>
<span class='keyword'>float</span> f1 <span class='curlybracket'>{</span> x <span class='curlybracket'>}</span>;                 <span class='comment'>// error: potentially narrows</span>
<span class='keyword'>float</span> f2 <span class='curlybracket'>{</span> <span class='literal'>7</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// OK, 7 can be exactly represented as a <span class='tcode_in_codeblock'>float</span></span>
<span class='keyword'>bool</span> b <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>"meow"</span><span class='curlybracket'>}</span>;              <span class='comment'>// error: narrows</span>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>2</span>, f<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span>, f<span class='parenthesis'>(</span><span class='literal'>2.0</span><span class='parenthesis'>)</span> <span class='curlybracket'>}</span>;  <span class='comment'>// OK, the <span class='tcode_in_codeblock'>double</span>-to-<span class='tcode_in_codeblock'>int</span> conversion is not at the top level</span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div></div></body></html>