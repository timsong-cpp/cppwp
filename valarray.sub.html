<!DOCTYPE html><html lang='en'><head><title>[valarray.sub]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>26</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>26.7</a> Numeric arrays <a class='abbr_ref' href='numarray#valarray.sub'>[numarray]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>26.7.2</a> Class template <span class='texttt'>valarray</span> <a class='abbr_ref' href='template.valarray#valarray.sub'>[template.valarray]</a></h3><div id='valarray.sub'><h4 ><a class='secnum' style='min-width:118pt'>26.7.2.5</a> <span class='texttt'>valarray</span> subset operations <a class='abbr_ref'>[valarray.sub]</a></h4><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7052'>#</a></div><p >The member <span class='texttt'>operator[]</span> is overloaded to provide several ways to select
sequences of elements from among those controlled by <span class='texttt'>*this</span>. Each of these
operations returns a subset of the array. The const-qualified versions return this
subset as a new <span class='texttt'>valarray</span> object. The non-const versions return a class
template object which has reference semantics to the original array, working in
conjunction with various overloads of <span class='texttt'>operator=</span> and other assigning
operators to allow selective replacement (slicing) of the controlled sequence.
In each case the selected element(s) must exist.</p><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p></div><p ><code class='itemdecl'>valarray operator[](slice slicearr) const;
</code></p><div class='itemdescr'></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7068'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>slicearr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
<span class='comment'>// <span class='tcode_in_codeblock'>v0[slice(2, 5, 3)]</span> returns <span class='tcode_in_codeblock'>valarray&lt;char&gt;("cfilo", 5)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>slice_array&lt;T&gt; operator[](slice slicearr);
</code></p><div class='itemdescr'></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7085'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>slicearr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
v0[slice(2, 5, 3)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abAdeBghCjkDmnEp", 16);</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>valarray operator[](const gslice&amp; gslicearr) const;
</code></p><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7103'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>gslicearr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
<span class='comment'>// <span class='tcode_in_codeblock'>v0[gslice(3, len, str)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("dfhkmo", 6)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>gslice_array&lt;T&gt; operator[](const gslice&amp; gslicearr);
</code></p><div class='itemdescr'></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7124'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>gslicearr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDEF", 6);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
v0[gslice(3, len, str)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abcAeBgCijDlEnFp", 16)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>valarray operator[](const valarray&lt;bool&gt;&amp; boolarr) const;
</code></p><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7145'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>boolarr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const bool vb[] = { false, false, true, true, false, true };
<span class='comment'>// <span class='tcode_in_codeblock'>v0[valarray&lt;bool&gt;(vb, 6)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("cdf", 3)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>mask_array&lt;T&gt; operator[](const valarray&lt;bool&gt;&amp; boolarr);
</code></p><div class='itemdescr'></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7164'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>boolarr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABC", 3);
const bool vb[] = { false, false, true, true, false, true };
v0[valarray&lt;bool&gt;(vb, 6)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abABeCghijklmnop", 16)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>valarray operator[](const valarray&lt;size_t&gt;&amp; indarr) const;
</code></p><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7183'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>indarr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t vi[] = { 7, 5, 2, 3, 8 };
<span class='comment'>// <span class='tcode_in_codeblock'>v0[valarray&lt;size_&shy;t&gt;(vi, 5)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("hfcdi", 5)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>indirect_array&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp; indarr);
</code></p><div class='itemdescr'></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/numerics.tex#L7202'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>indarr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
const size_t vi[] = { 7, 5, 2, 3, 8 };
v0[valarray&lt;size_t&gt;(vi, 5)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abCDeBgAEjklmnop", 16)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div></div></div></body></html>