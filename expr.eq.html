<!DOCTYPE html><html lang='en'><head><title>[expr.eq]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>8</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>8.10</a> Equality operators <a class='abbr_ref'>[expr.eq]</a></h2><span class='indexparent'><a class='index' id=':expression,equality_operators'></a></span><span class='indexparent'><a class='index' id=':operator,equality'></a></span><span class='indexparent'><a class='index' id=':operator,inequality'></a></span><pre class='bnf'><a class='nontermdef' id='nt:equality-expression'>equality-expression:</a>
&#9;<i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i>
&#9;<i ><a href='expr.eq#nt:equality-expression'>equality-expression</a></i> <span class='terminal'>==</span> <i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i>
&#9;<i ><a href='expr.eq#nt:equality-expression'>equality-expression</a></i> <span class='terminal'>!=</span> <i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i>
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/expressions.tex#L4301'>#</a></div><div id='1.sentence-1' class='sentence'>The <span class='texttt'>==</span> (equal to) and the <span class='texttt'>!=</span> (not equal to) operators
group left-to-right<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The operands shall have arithmetic, enumeration, pointer,
or pointer to member type, or type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>The operators
<span class='texttt'>==</span> and <span class='texttt'>!=</span> both yield <span class='texttt'>true</span> or <span class='texttt'>false</span>, i.e., a
result of type <span class='texttt'>bool</span><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>In each case below, the operands shall have the
same type after the specified conversions have been applied<a class='hidden_link' href='#1.sentence-4'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/expressions.tex#L4309'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':comparison,pointer'></a></span><span class='indexparent'><a class='index' id=':comparison,pointer_to_function'></a></span>If at least one of the operands is a pointer,
<a href='conv.ptr'>pointer conversions</a>,
<a href='conv.fctptr'>function pointer conversions</a>, and
<a href='conv.qual'>qualification conversions</a>
are performed on both operands to bring them to their
<a href='expr#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>Comparing pointers is defined as follows:</div><div id='2.sentence-3' class='sentence'><ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div><div id='2.1.sentence-1' class='sentence'>If one pointer represents the address of a complete object, and another
pointer represents the address one past the last element of a different
complete object,<a class='footnotenum' href='#footnote-88'>88</a> the result of the comparison is unspecified<a class='hidden_link' href='#2.1.sentence-1'>.</a></div></li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div><div id='2.2.sentence-1' class='sentence'>Otherwise, if the pointers are both null, both point to the same
<span class='indexparent'><a class='index' id=':address'></a></span>function, or both
<a href='basic.compound#def:represents_the_address'>represent the same address</a>,
they compare equal<a class='hidden_link' href='#2.2.sentence-1'>.</a></div></li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div><div id='2.3.sentence-1' class='sentence'>Otherwise, the pointers compare unequal<a class='hidden_link' href='#2.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/expressions.tex#L4337'>#</a></div><div id='3.sentence-1' class='sentence'>If at least one of the operands is a pointer to member, <a href='conv.mem'>pointer to member
conversions</a> and <a href='conv.qual'>qualification
conversions</a> are performed on both operands to bring them to
their <a href='expr#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Comparing pointers to members is defined as follows:</div><div id='3.sentence-3' class='sentence'><ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><div id='3.1.sentence-1' class='sentence'>If two pointers to members are both the null member pointer value, they compare
equal<a class='hidden_link' href='#3.1.sentence-1'>.</a></div></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><div id='3.2.sentence-1' class='sentence'>If only one of two pointers to members is the null member pointer value, they
compare unequal<a class='hidden_link' href='#3.2.sentence-1'>.</a></div></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><div id='3.3.sentence-1' class='sentence'>If either is a pointer to a virtual member function, the result is unspecified<a class='hidden_link' href='#3.3.sentence-1'>.</a></div></li><li id='3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.4'>(3.4)</a></div><div id='3.4.sentence-1' class='sentence'>If one refers to a member of class <span class='texttt'>C1</span> and the other refers to a member
of a different class <span class='texttt'>C2</span>, where neither is a base class of the other,
the result is unspecified<a class='hidden_link' href='#3.4.sentence-1'>.</a></div> <div id='3.4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {};
struct B : A { int x; };
struct C : A { int x; };

int A::*bx = (int(A::*))&amp;B::x;
int A::*cx = (int(A::*))&amp;C::x;

bool b1 = (bx == cx);   <span class='comment'>// unspecified
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.5'>(3.5)</a></div><div id='3.5.sentence-1' class='sentence'>If both refer to (possibly different) members of the same <a href='class.union'>union</a>,
they compare equal<a class='hidden_link' href='#3.5.sentence-1'>.</a></div></li><li id='3.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.6'>(3.6)</a></div><div id='3.6.sentence-1' class='sentence'>Otherwise, two pointers to members compare equal if they would refer to the same member of
the same <a href='intro.object#def:most_derived_object'>most derived object</a> or the same subobject if
indirection with a hypothetical object of the associated
class type were performed, otherwise they compare unequal<a class='hidden_link' href='#3.6.sentence-1'>.</a></div> <div id='3.6.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.6.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  int f();
};
struct L : B { };
struct R : B { };
struct D : L, R { };

int (B::*pb)() = &amp;B::f;
int (L::*pl)() = pb;
int (R::*pr)() = pb;
int (D::*pdl)() = pl;
int (D::*pdr)() = pr;
bool x = (pdl == pdr);          <span class='comment'>// <span class='tcode_in_codeblock'>false</span>
</span>bool y = (pb == pl);            <span class='comment'>// <span class='tcode_in_codeblock'>true</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/expressions.tex#L4403'>#</a></div><div id='4.sentence-1' class='sentence'>Two operands of type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> or one operand of type
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> and the other a null pointer constant compare equal<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/expressions.tex#L4407'>#</a></div><div id='5.sentence-1' class='sentence'>If two operands compare equal, the result is <span class='texttt'>true</span> for
the <span class='texttt'>==</span> operator and <span class='texttt'>false</span> for the <span class='texttt'>!=</span> operator<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>If two operands
compare unequal, the result is <span class='texttt'>false</span> for the <span class='texttt'>==</span> operator and
<span class='texttt'>true</span> for the <span class='texttt'>!=</span> operator<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>Otherwise, the result of each of the
operators is unspecified<a class='hidden_link' href='#5.sentence-3'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/expressions.tex#L4414'>#</a></div><div id='6.sentence-1' class='sentence'>If both operands are of arithmetic or enumeration type, the usual arithmetic
conversions are performed on both operands; each of the operators shall yield
<span class='texttt'>true</span> if the specified relationship is true and <span class='texttt'>false</span> if it is
false<a class='hidden_link' href='#6.sentence-1'>.</a></div></div><div class='footnote' id='footnote-88'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-88'>88)</a></div><div id='footnote-88.sentence-1' class='sentence'>An object that is not an array element is
considered to belong to a single-element array for this purpose;
see <a href='expr.unary.op'>[expr.unary.op]</a><a class='hidden_link' href='#footnote-88.sentence-1'>.</a></div></div></div></body></html>