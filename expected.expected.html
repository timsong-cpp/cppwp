<!DOCTYPE html><html lang='en'><head><title>[expected.expected]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>22</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>22.8</a> Expected objects <a class='abbr_ref' href='expected#expected'>[expected]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>22.8.6</a> Class template <span class='texttt'>expected</span> <a class='abbr_ref'>[expected.expected]</a></h3><div id='expected.object.general' class='section'><h4 ><a class='secnum' href='#expected.object.general' style='min-width:95pt'>22.8.6.1</a> General <a class='abbr_ref' href='expected.object.general'>[expected.object.general]</a></h4><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> E<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> expected <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> <span id='lib:expected,value_type'><span id='lib:value_type,expected'>value_type</span></span> <span class='operator'>=</span> T;
    <span class='keyword'>using</span> <span id='lib:expected,error_type'><span id='lib:error_type,expected'>error_type</span></span> <span class='operator'>=</span> E;
    <span class='keyword'>using</span> <span id='lib:expected,unexpected_type'><span id='lib:unexpected_type,expected'>unexpected_type</span></span> <span class='operator'>=</span> unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> <span id='lib:expected,rebind'><span id='lib:rebind,expected'>rebind</span></span> <span class='operator'>=</span> expected<span class='anglebracket'>&lt;</span>U, error_type<span class='anglebracket'>&gt;</span>;

    <span class='comment'>// <a href='#expected.object.cons' title='22.8.6.2&emsp;Constructors'>[expected.<span class='shy'></span>object.<span class='shy'></span>cons]</a>, constructors</span>
    <span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#expected.object.dtor' title='22.8.6.3&emsp;Destructor'>[expected.<span class='shy'></span>object.<span class='shy'></span>dtor]</a>, destructor</span>
    <span class='keyword'>constexpr</span> <span class='operator'>~</span>expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#expected.object.assign' title='22.8.6.4&emsp;Assignment'>[expected.<span class='shy'></span>object.<span class='shy'></span>assign]</a>, assignment</span>
    <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='comment'>// <a href='#expected.object.swap' title='22.8.6.5&emsp;Swap'>[expected.<span class='shy'></span>object.<span class='shy'></span>swap]</a>, swap</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
    <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span> x, expected<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#expected.object.obs' title='22.8.6.6&emsp;Observers'>[expected.<span class='shy'></span>object.<span class='shy'></span>obs]</a>, observers</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;                                     <span class='comment'>// freestanding-deleted</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;                                                 <span class='comment'>// freestanding-deleted</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;                                   <span class='comment'>// freestanding-deleted</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;                                               <span class='comment'>// freestanding-deleted</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G <span class='operator'>=</span> E<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> E error_or<span class='parenthesis'>(</span>G<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G <span class='operator'>=</span> E<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> E error_or<span class='parenthesis'>(</span>G<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;

    <span class='comment'>// <a href='#expected.object.monadic' title='22.8.6.7&emsp;Monadic operations'>[expected.<span class='shy'></span>object.<span class='shy'></span>monadic]</a>, monadic operations</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;

    <span class='comment'>// <a href='#expected.object.eq' title='22.8.6.8&emsp;Equality operators'>[expected.<span class='shy'></span>object.<span class='shy'></span>eq]</a>, equality operators</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>!</span>is_void_v<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
      <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>T2, E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
      <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span>, <span class='keyword'>const</span> T2<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span>
      <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span>, <span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>bool</span> <i >has_val</i>;       <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>union</span> <span class='curlybracket'>{</span>
      T <i >val</i>;            <span class='comment'>// <i >exposition only</i></span>
      E <i >unex</i>;           <span class='comment'>// <i >exposition only</i></span>
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='para' id='expected.object.general-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7531'>#</a></div><div class='texpara'><div id='expected.object.general-1.sentence-1' class='sentence'>Any object of type <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span> either
contains a value of type <span class='texttt'>T</span> or
a value of type <span class='texttt'>E</span> within its own storage<a class='hidden_link' href='#expected.object.general-1.sentence-1'>.</a></div> <div id='expected.object.general-1.sentence-2' class='sentence'>Implementations are not permitted to use additional storage,
such as dynamic memory,
to allocate the object of type <span class='texttt'>T</span> or the object of type <span class='texttt'>E</span><a class='hidden_link' href='#expected.object.general-1.sentence-2'>.</a></div> <div id='expected.object.general-1.sentence-3' class='sentence'>Member <span class='texttt'><i >has_<span class='shy'></span>val</i></span> indicates whether the <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span> object
contains an object of type <span class='texttt'>T</span><a class='hidden_link' href='#expected.object.general-1.sentence-3'>.</a></div></div></div><div class='para' id='expected.object.general-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7541'>#</a></div><div class='texpara'><div id='expected.object.general-2.sentence-1' class='sentence'>A type <span class='texttt'>T</span> is a <a class='hidden_link' href='#def:valid_value_type_for_expected' id='def:valid_value_type_for_expected'><i>valid value type for <span class='texttt'>expected</span></i></a>,
if <span class='texttt'>remove_<span class='shy'></span>cv_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='keyword'>void</span></span>
or a complete non-array object type that is not <span class='texttt'>in_<span class='shy'></span>place_<span class='shy'></span>t</span>,
<span class='texttt'>unexpect_<span class='shy'></span>t</span>,
or a specialization of <span class='texttt'>unexpected</span><a class='hidden_link' href='#expected.object.general-2.sentence-1'>.</a></div> <div id='expected.object.general-2.sentence-2' class='sentence'>A program which instantiates class template <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span>
with an argument <span class='texttt'>T</span> that is not a valid value
type for <span class='texttt'>expected</span> is ill-formed<a class='hidden_link' href='#expected.object.general-2.sentence-2'>.</a></div> <div id='expected.object.general-2.sentence-3' class='sentence'>A program that instantiates
the definition of the template <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span>
with a type for the <span class='texttt'>E</span> parameter
that is not a valid template argument for <span class='texttt'>unexpected</span> is ill-formed<a class='hidden_link' href='#expected.object.general-2.sentence-3'>.</a></div></div></div><div class='para' id='expected.object.general-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7555'>#</a></div><div class='texpara'><div id='expected.object.general-3.sentence-1' class='sentence'>When <span class='texttt'>T</span> is not <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>void</span></span>, it shall meet
the <i >Cpp17Destructible</i> requirements (Table <a href='utility.arg.requirements#tab:cpp17.destructible' title='Table 35: Cpp17Destructible requirements'>35</a>)<a class='hidden_link' href='#expected.object.general-3.sentence-1'>.</a></div> <div id='expected.object.general-3.sentence-2' class='sentence'><span class='texttt'>E</span> shall meet
the <i >Cpp17Destructible</i> requirements<a class='hidden_link' href='#expected.object.general-3.sentence-2'>.</a></div></div></div></div><div id='expected.object.cons' class='section'><h4 ><a class='secnum' href='#expected.object.cons' style='min-width:95pt'>22.8.6.2</a> Constructors <a class='abbr_ref' href='expected.object.cons'>[expected.object.cons]</a></h4><div class='para' id='expected.object.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7563'>#</a></div><div class='texpara'><div id='expected.object.cons-1.sentence-1' class='sentence'>The exposition-only variable template <span class='texttt'><i >converts-from-any-cvref</i></span>
defined in <a href='optional.ctor' title='22.5.3.2&emsp;Constructors'>[optional.<span class='shy'></span>ctor]</a>
is used by some constructors for <span class='texttt'>expected</span><a class='hidden_link' href='#expected.object.cons-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:expected,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7574'>#</a></div><div class='texpara'><div id='expected.object.cons-2.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>default_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-2.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7578'>#</a></div><div class='texpara'><div id='expected.object.cons-3.sentence-1' class='sentence'><i >Effects</i>: Value-initializes <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.cons-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7582'>#</a></div><div class='texpara'><div id='expected.object.cons-4.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-4.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7586'>#</a></div><div class='texpara'><div id='expected.object.cons-5.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.cons-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7597'>#</a></div><div class='texpara'><div id='expected.object.cons-6.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'><span class='operator'>*</span>rhs</span><a class='hidden_link' href='#expected.object.cons-6.sentence-1'>.</a></div> <div id='expected.object.cons-6.sentence-2' class='sentence'>Otherwise, direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-6.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.cons-7'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7603'>#</a></div><div class='texpara'><div id='expected.object.cons-7.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-7.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-8'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7607'>#</a></div><div class='texpara'><div id='expected.object.cons-8.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span> or <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.cons-8.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-9'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7611'>#</a></div><div class='texpara'><div id='expected.object.cons-9.sentence-1' class='sentence'><i >Remarks</i>: This constructor is defined as deleted unless
<ul class='itemize'><li id='expected.object.cons-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-9.1'>(9.1)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.cons-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-9.2'>(9.2)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-9.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.cons-10'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7621'>#</a></div><div class='texpara'><div id='expected.object.cons-10.sentence-1' class='sentence'>This constructor is trivial if
<ul class='itemize'><li id='expected.object.cons-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-10.1'>(10.1)</a></div><span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.cons-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-10.2'>(10.2)</a></div><span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-10.sentence-1'>.</a></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-11'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7637'>#</a></div><div class='texpara'><div id='expected.object.cons-11.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.cons-11.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-11.1'>(11.1)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.cons-11.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-11.2'>(11.2)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-11.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.cons-12'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7646'>#</a></div><div class='texpara'><div id='expected.object.cons-12.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-12.sentence-1'>.</a></div> <div id='expected.object.cons-12.sentence-2' class='sentence'>Otherwise,
direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-12.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.cons-13'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7653'>#</a></div><div class='texpara'><div id='expected.object.cons-13.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is unchanged;
<span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-13.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-14'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7658'>#</a></div><div class='texpara'><div id='expected.object.cons-14.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span> or <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.cons-14.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-15'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7662'>#</a></div><div class='texpara'><div id='expected.object.cons-15.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to
<span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.cons-15.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-16'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7668'>#</a></div><div class='texpara'><div id='expected.object.cons-16.sentence-1' class='sentence'>This constructor is trivial if
<ul class='itemize'><li id='expected.object.cons-16.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-16.1'>(16.1)</a></div><span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.cons-16.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-16.2'>(16.2)</a></div><span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-16.sentence-1'>.</a></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-17'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7687'>#</a></div><div class='texpara'><div id='expected.object.cons-17.sentence-1' class='sentence'>Let:
<ul class='itemize'><li id='expected.object.cons-17.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-17.1'>(17.1)</a></div><div class='texpara'><div id='expected.object.cons-17.1.sentence-1' class='sentence'><span class='texttt'>UF</span> be <span class='texttt'><span class='keyword'>const</span> U<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>U</span> for the second overload<a class='hidden_link' href='#expected.object.cons-17.1.sentence-1'>.</a></div></div></li><li id='expected.object.cons-17.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-17.2'>(17.2)</a></div><div class='texpara'><div id='expected.object.cons-17.2.sentence-1' class='sentence'><span class='texttt'>GF</span> be <span class='texttt'><span class='keyword'>const</span> G<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>G</span> for the second overload<a class='hidden_link' href='#expected.object.cons-17.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='expected.object.cons-18'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7698'>#</a></div><div class='texpara'><div id='expected.object.cons-18.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.cons-18.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-18.1'>(18.1)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, UF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.cons-18.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-18.2'>(18.2)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.cons-18.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-18.3'>(18.3)</a></div>if <span class='texttt'>T</span> is not <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>bool</span></span>,
<span class='texttt'><span class='texttt'><i >converts-from-any-cvref</i></span><span class='anglebracket'>&lt;</span>T, expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.cons-18.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-18.4'>(18.4)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.cons-18.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-18.5'>(18.5)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.cons-18.6'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-18.6'>(18.6)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.cons-18.7'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-18.7'>(18.7)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.cons-18.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.cons-19'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7718'>#</a></div><div class='texpara'><div id='expected.object.cons-19.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>UF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-19.sentence-1'>.</a></div> <div id='expected.object.cons-19.sentence-2' class='sentence'>Otherwise,
direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-19.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.cons-20'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7725'>#</a></div><div class='texpara'><div id='expected.object.cons-20.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is unchanged;
<span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-20.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-21'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7730'>#</a></div><div class='texpara'><div id='expected.object.cons-21.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span> or <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.cons-21.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-22'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7734'>#</a></div><div class='texpara'><div id='expected.object.cons-22.sentence-1' class='sentence'><i >Remarks</i>: The expression inside <span class='texttt'><span class='keyword'>explicit</span></span> is equivalent to
<span class='texttt'><span class='operator'>!</span>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>UF, T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='operator'>!</span>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>GF, E<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.cons-22.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor____'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-23'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7747'>#</a></div><div class='texpara'><div id='expected.object.cons-23.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.cons-23.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-23.1'>(23.1)</a></div><span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, in_<span class='shy'></span>place_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.cons-23.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-23.2'>(23.2)</a></div><span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>expected, remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.cons-23.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-23.3'>(23.3)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is not a specialization of <span class='texttt'>unexpected</span>; and</li><li id='expected.object.cons-23.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-23.4'>(23.4)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.cons-23.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.cons-23.5'>(23.5)</a></div>if <span class='texttt'>T</span> is <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>bool</span></span>,
<span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is not a specialization of <span class='texttt'>expected</span><a class='hidden_link' href='#expected.object.cons-23.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.cons-24'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7763'>#</a></div><div class='texpara'><div id='expected.object.cons-24.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-24.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-25'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7767'>#</a></div><div class='texpara'><div id='expected.object.cons-25.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-25.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-26'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7771'>#</a></div><div class='texpara'><div id='expected.object.cons-26.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.cons-26.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_____'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> G<span class='operator'>&amp;</span>, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span>G, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-27'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7785'>#</a></div><div class='texpara'><div id='expected.object.cons-27.sentence-1' class='sentence'>Let <span class='texttt'>GF</span> be <span class='texttt'><span class='keyword'>const</span> G<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>G</span> for the second overload<a class='hidden_link' href='#expected.object.cons-27.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-28'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7789'>#</a></div><div class='texpara'><div id='expected.object.cons-28.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-28.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-29'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7793'>#</a></div><div class='texpara'><div id='expected.object.cons-29.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.cons-29.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-30'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7797'>#</a></div><div class='texpara'><div id='expected.object.cons-30.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.cons-30.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-31'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7801'>#</a></div><div class='texpara'><div id='expected.object.cons-31.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.cons-31.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor______'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-32'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7813'>#</a></div><div class='texpara'><div id='expected.object.cons-32.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-32.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-33'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7817'>#</a></div><div class='texpara'><div id='expected.object.cons-33.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.cons-33.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-34'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7821'>#</a></div><div class='texpara'><div id='expected.object.cons-34.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-34.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-35'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7825'>#</a></div><div class='texpara'><div id='expected.object.cons-35.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.cons-35.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_______'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-36'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7837'>#</a></div><div class='texpara'><div id='expected.object.cons-36.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-36.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-37'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-37'>37</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7841'>#</a></div><div class='texpara'><div id='expected.object.cons-37.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >val</i></span> with
<span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.cons-37.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-38'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-38'>38</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7846'>#</a></div><div class='texpara'><div id='expected.object.cons-38.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-38.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-39'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-39'>39</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7850'>#</a></div><div class='texpara'><div id='expected.object.cons-39.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.cons-39.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor________'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor________'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-40'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-40'>40</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7862'>#</a></div><div class='texpara'><div id='expected.object.cons-40.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-40.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-41'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-41'>41</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7866'>#</a></div><div class='texpara'><div id='expected.object.cons-41.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >unex</i></span> with
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.cons-41.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-42'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-42'>42</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7871'>#</a></div><div class='texpara'><div id='expected.object.cons-42.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.cons-42.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-43'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-43'>43</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7875'>#</a></div><div class='texpara'><div id='expected.object.cons-43.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.cons-43.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_________'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_________'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.cons-44'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-44'>44</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7887'>#</a></div><div class='texpara'><div id='expected.object.cons-44.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.cons-44.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-45'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-45'>45</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7891'>#</a></div><div class='texpara'><div id='expected.object.cons-45.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >unex</i></span> with
<span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.cons-45.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-46'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-46'>46</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7896'>#</a></div><div class='texpara'><div id='expected.object.cons-46.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.cons-46.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.cons-47'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.cons-47'>47</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7900'>#</a></div><div class='texpara'><div id='expected.object.cons-47.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.cons-47.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.dtor' class='section'><h4 ><a class='secnum' href='#expected.object.dtor' style='min-width:95pt'>22.8.6.3</a> Destructor <a class='abbr_ref' href='expected.object.dtor'>[expected.object.dtor]</a></h4><div class='texpara'><div id='lib:expected,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,destructor'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='operator'>~</span>expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7913'>#</a></div><div class='texpara'><div id='expected.object.dtor-1.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, destroys <span class='texttt'><i >val</i></span>,
otherwise destroys <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.dtor-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7918'>#</a></div><div class='texpara'><div id='expected.object.dtor-2.sentence-1' class='sentence'><i >Remarks</i>: If <span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>destructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and
<span class='texttt'>is_<span class='shy'></span>trivially_<span class='shy'></span>destructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then this destructor is a trivial destructor<a class='hidden_link' href='#expected.object.dtor-2.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.assign' class='section'><h4 ><a class='secnum' href='#expected.object.assign' style='min-width:95pt'>22.8.6.4</a> Assignment <a class='abbr_ref' href='expected.object.assign'>[expected.object.assign]</a></h4><div class='para' id='expected.object.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7927'>#</a></div><div class='texpara'><div id='expected.object.assign-1.sentence-1' class='sentence'>This subclause makes use of the following exposition-only function template:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>void</span> <i >reinit-expected</i><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> newval, U<span class='operator'>&amp;</span> oldval, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>  <span class='comment'>// <i >exposition only</i></span>
  <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_nothrow_constructible_v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>newval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    T tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>newval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
    U tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>try</span> <span class='curlybracket'>{</span>
      construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>newval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='curlybracket'>}</span> <span class='keyword'>catch</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
      <span class='keyword'>throw</span>;
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span></div></div></div><div class='texpara'><div id='lib:expected,operator='><div id='lib:operator=,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7958'>#</a></div><div class='texpara'><div id='expected.object.assign-2.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.1'>(2.1)</a></div><div class='texpara'><div id='expected.object.assign-2.1.sentence-1' class='sentence'>If <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to <span class='texttt'><span class='texttt'><i >val</i></span> <span class='operator'>=</span> <span class='operator'>*</span>rhs</span><a class='hidden_link' href='#expected.object.assign-2.1.sentence-1'>.</a></div></div></li><li id='expected.object.assign-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.2'>(2.2)</a></div><div class='texpara'><div id='expected.object.assign-2.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >unex</i>, <i >val</i>, rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-2.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.3'>(2.3)</a></div><div class='texpara'><div id='expected.object.assign-2.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >val</i>, <i >unex</i>, <span class='operator'>*</span>rhs<span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-2.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.4'>(2.4)</a></div><div class='texpara'><div id='expected.object.assign-2.4.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'><span class='texttt'><i >unex</i></span> <span class='operator'>=</span> rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.assign-2.4.sentence-1'>.</a></div></div></li></ul></div> <div id='expected.object.assign-2.sentence-2' class='sentence'>
Then, if no exception was thrown,
equivalent to: <span class='texttt'><span class='texttt'><i >has_<span class='shy'></span>val</i></span> <span class='operator'>=</span> rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;</span></div></div></div></div><div class='para' id='expected.object.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7980'>#</a></div><div class='texpara'><div id='expected.object.assign-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#expected.object.assign-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L7984'>#</a></div><div class='texpara'><div id='expected.object.assign-4.sentence-1' class='sentence'><i >Remarks</i>: This operator is defined as deleted unless:
<ul class='itemize'><li id='expected.object.assign-4.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.1'>(4.1)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.2'>(4.2)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.3'>(4.3)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.4'>(4.4)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.5'>(4.5)</a></div><span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-4.sentence-1'>.</a></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,operator=_'><div id='lib:operator=,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8008'>#</a></div><div class='texpara'><div id='expected.object.assign-5.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.assign-5.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.1'>(5.1)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-5.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.2'>(5.2)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-5.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.3'>(5.3)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-5.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.4'>(5.4)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-5.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.5'>(5.5)</a></div><span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-5.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8024'>#</a></div><div class='texpara'><div id='expected.object.assign-6.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-6.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-6.1'>(6.1)</a></div><div class='texpara'><div id='expected.object.assign-6.1.sentence-1' class='sentence'>If <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to <span class='texttt'><span class='texttt'><i >val</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.assign-6.1.sentence-1'>.</a></div></div></li><li id='expected.object.assign-6.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-6.2'>(6.2)</a></div><div class='texpara'><div id='expected.object.assign-6.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >unex</i>, <i >val</i>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-6.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-6.3'>(6.3)</a></div><div class='texpara'><div id='expected.object.assign-6.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >val</i>, <i >unex</i>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-6.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-6.4'>(6.4)</a></div><div class='texpara'><div id='expected.object.assign-6.4.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'><span class='texttt'><i >unex</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.assign-6.4.sentence-1'>.</a></div></div></li></ul></div> <div id='expected.object.assign-6.sentence-2' class='sentence'>
Then, if no exception was thrown,
equivalent to: <span class='texttt'>has_<span class='shy'></span>val <span class='operator'>=</span> rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;</span></div></div></div></div><div class='para' id='expected.object.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8046'>#</a></div><div class='texpara'><div id='expected.object.assign-7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#expected.object.assign-7.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8050'>#</a></div><div class='texpara'><div id='expected.object.assign-8.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to:
<span class='codeblock'>is_nothrow_move_assignable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_nothrow_move_assignable_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>
</span></div></div></div></div><div class='texpara'><div id='lib:expected,operator=__'><div id='lib:operator=,expected__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8066'>#</a></div><div class='texpara'><div id='expected.object.assign-9.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.assign-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-9.1'>(9.1)</a></div><span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>expected, remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.assign-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-9.2'>(9.2)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is not a specialization of <span class='texttt'>unexpected</span>; and</li><li id='expected.object.assign-9.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-9.3'>(9.3)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-9.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-9.4'>(9.4)</a></div><span class='texttt'>is_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-9.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-9.5'>(9.5)</a></div><span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span><br>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-9.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8083'>#</a></div><div class='texpara'><div id='expected.object.assign-10.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-10.1'>(10.1)</a></div>If <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to: <span class='texttt'><span class='texttt'><i >val</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;</span></li><li id='expected.object.assign-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-10.2'>(10.2)</a></div>Otherwise, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >val</i>, <i >unex</i>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
</span></li></ul></div></div></div></div><div class='para' id='expected.object.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8097'>#</a></div><div class='texpara'><div id='expected.object.assign-11.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#expected.object.assign-11.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator=___'><div id='lib:operator=,expected___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8111'>#</a></div><div class='texpara'><div id='expected.object.assign-12.sentence-1' class='sentence'>Let <span class='texttt'>GF</span> be <span class='texttt'><span class='keyword'>const</span> G<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>G</span> for the second overload<a class='hidden_link' href='#expected.object.assign-12.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8115'>#</a></div><div class='texpara'><div id='expected.object.assign-13.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.assign-13.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-13.1'>(13.1)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-13.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-13.2'>(13.2)</a></div><span class='texttt'>is_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='operator'>&amp;</span>, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-13.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-13.3'>(13.3)</a></div><span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span><br>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-13.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8127'>#</a></div><div class='texpara'><div id='expected.object.assign-14.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-14.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-14.1'>(14.1)</a></div>If <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >unex</i>, <i >val</i>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<i >has_val</i> <span class='operator'>=</span> <span class='literal'>false</span>;
</span></li><li id='expected.object.assign-14.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-14.2'>(14.2)</a></div>Otherwise, equivalent to:
<span class='texttt'><span class='texttt'><i >unex</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;</span></li></ul></div></div></div></div><div class='para' id='expected.object.assign-15'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8141'>#</a></div><div class='texpara'><div id='expected.object.assign-15.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#expected.object.assign-15.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,emplace'><div id='lib:emplace,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-16'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8153'>#</a></div><div class='texpara'><div id='expected.object.assign-16.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-16.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-17'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8157'>#</a></div><div class='texpara'><div id='expected.object.assign-17.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>return</span> <span class='operator'>*</span>construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:expected,emplace_'><div id='lib:emplace,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-18'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8178'>#</a></div><div class='texpara'><div id='expected.object.assign-18.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-18.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-19'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8183'>#</a></div><div class='texpara'><div id='expected.object.assign-19.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>return</span> <span class='operator'>*</span>construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span>, il, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span></div></div></div></div></div><div id='expected.object.swap' class='section'><h4 ><a class='secnum' href='#expected.object.swap' style='min-width:95pt'>22.8.6.5</a> Swap <a class='abbr_ref' href='expected.object.swap'>[expected.object.swap]</a></h4><div class='texpara'><div id='lib:expected,swap'><div id='lib:swap,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8205'>#</a></div><div class='texpara'><div id='expected.object.swap-1.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.swap-1.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.1'>(1.1)</a></div><span class='texttt'>is_<span class='shy'></span>swappable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.swap-1.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.2'>(1.2)</a></div><span class='texttt'>is_<span class='shy'></span>swappable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.swap-1.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.3'>(1.3)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='expected.object.swap-1.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.4'>(1.4)</a></div><span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.swap-1.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8220'>#</a></div><div class='texpara'><div id='expected.object.swap-2.sentence-1' class='sentence'><i >Effects</i>: See Table <a href='#tab:expected.object.swap' title='Table 67: swap(expected&amp;) effects'>67</a><a class='hidden_link' href='#expected.object.swap-2.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:expected.object.swap'>Table <a href='#tab:expected.object.swap'>67</a>: <span class='texttt'>swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> effects&emsp;<a href='./tab:expected.object.swap'>[tab:expected.object.swap]</a><br><table ><tr id='tab:expected.object.swap-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:expected.object.swap-row-1'>🔗</a></div></td><td class='empty left'></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-1-column-2-sentence-1' class='sentence'><b><span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-1-column-3-sentence-1' class='sentence'><b><span class='texttt'><span class='operator'>!</span><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td></tr><tr id='tab:expected.object.swap-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:expected.object.swap-row-2'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-2-column-1-sentence-1' class='sentence'><b><span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-2-column-2-sentence-1' class='sentence'>equivalent to: <span class='texttt'><span class='keyword'>using</span> std<span class='operator'>&#x200b;::&#x200b;</span>swap; swap<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span>, rhs<span class='operator'>.</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span>;</span></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-2-column-3-sentence-1' class='sentence'>calls <span class='texttt'>rhs<span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:expected.object.swap-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:expected.object.swap-row-3'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-3-column-1-sentence-1' class='sentence'><b><span class='texttt'><span class='operator'>!</span>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-3-column-2-sentence-1' class='sentence'><i ><span class='texttt'>see below</span></i></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-3-column-3-sentence-1' class='sentence'>equivalent to: <span class='texttt'><span class='keyword'>using</span> std<span class='operator'>&#x200b;::&#x200b;</span>swap; swap<span class='parenthesis'>(</span><span class='texttt'><i >unex</i></span>, rhs<span class='operator'>.</span><span class='texttt'><i >unex</i></span><span class='parenthesis'>)</span>;</span></div></div></td></tr></table></div>
 </div><div class='texpara'><div id='expected.object.swap-2.sentence-2' class='sentence'>For the case where <span class='texttt'>rhs<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span> and
<span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  E tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='keyword'>try</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>catch</span><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>throw</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
  T tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='keyword'>try</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>catch</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>throw</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
<i >has_val</i> <span class='operator'>=</span> <span class='literal'>false</span>;
rhs<span class='operator'>.</span><i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
</span></div></div></div></div><div class='para' id='expected.object.swap-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8266'>#</a></div><div class='texpara'><div id='expected.object.swap-3.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the expressions in the <i >Effects</i><a class='hidden_link' href='#expected.object.swap-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.swap-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8270'>#</a></div><div class='texpara'><div id='expected.object.swap-4.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to:
<span class='codeblock'>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_swappable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_swappable_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>
</span></div></div></div></div><div class='texpara'><div id='lib:expected,swap_'><div id='lib:swap,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span> x, expected<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.swap-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8285'>#</a></div><div class='texpara'><div id='expected.object.swap-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.swap-5.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.obs' class='section'><h4 ><a class='secnum' href='#expected.object.obs' style='min-width:95pt'>22.8.6.6</a> Observers <a class='abbr_ref' href='expected.object.obs'>[expected.object.obs]</a></h4><div class='texpara'><div id='lib:expected,operator->'><div id='lib:operator->,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator-%3e,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8299'>#</a></div><div class='texpara'><div id='expected.object.obs-1.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8303'>#</a></div><div class='texpara'><div id='expected.object.obs-2.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>addressof<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator*'><div id='lib:operator*,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator*,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8315'>#</a></div><div class='texpara'><div id='expected.object.obs-3.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8319'>#</a></div><div class='texpara'><div id='expected.object.obs-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.obs-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator*_'><div id='lib:operator*,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator*,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8331'>#</a></div><div class='texpara'><div id='expected.object.obs-5.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-5.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8335'>#</a></div><div class='texpara'><div id='expected.object.obs-6.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-6.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,has_value'><div id='lib:has_value,expected'><div id='lib:expected,operator_bool'><div id='lib:operator_bool,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator_bool,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div></div></div><div class='para' id='expected.object.obs-7'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8348'>#</a></div><div class='texpara'><div id='expected.object.obs-7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >has_<span class='shy'></span>val</i></span><a class='hidden_link' href='#expected.object.obs-7.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value'><div id='lib:value,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-8'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8360'>#</a></div><div class='texpara'><div id='expected.object.obs-8.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-8.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-9'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8364'>#</a></div><div class='texpara'><div id='expected.object.obs-9.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >val</i></span>, if <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-9.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-10'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8368'>#</a></div><div class='texpara'><div id='expected.object.obs-10.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>bad_<span class='shy'></span>expected_<span class='shy'></span>access<span class='parenthesis'>(</span>as_<span class='shy'></span>const<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> if <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-10.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value_'><div id='lib:value,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-11'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8380'>#</a></div><div class='texpara'><div id='expected.object.obs-11.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-11.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-12'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8385'>#</a></div><div class='texpara'><div id='expected.object.obs-12.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span>, if <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-12.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-13'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8389'>#</a></div><div class='texpara'><div id='expected.object.obs-13.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>bad_<span class='shy'></span>expected_<span class='shy'></span>access<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
if <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-13.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,error'><div id='lib:error,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:error,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-14'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8402'>#</a></div><div class='texpara'><div id='expected.object.obs-14.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-14.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-15'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8406'>#</a></div><div class='texpara'><div id='expected.object.obs-15.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.obs-15.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,error_'><div id='lib:error,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:error,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-16'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8418'>#</a></div><div class='texpara'><div id='expected.object.obs-16.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-16.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-17'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8422'>#</a></div><div class='texpara'><div id='expected.object.obs-17.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >unex</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-17.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value_or'><div id='lib:value_or,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value_or,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-18'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8433'>#</a></div><div class='texpara'><div id='expected.object.obs-18.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-18.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-19'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8438'>#</a></div><div class='texpara'><div id='expected.object.obs-19.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='operator'>*</span><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>:</span> <span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-19.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value_or_'><div id='lib:value_or,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value_or,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-20'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8449'>#</a></div><div class='texpara'><div id='expected.object.obs-20.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-20.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-21'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8454'>#</a></div><div class='texpara'><div id='expected.object.obs-21.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='operator'>:</span> <span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-21.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,error_or'><div id='lib:error_or,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:error_or,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G <span class='operator'>=</span> E<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> E error_or<span class='parenthesis'>(</span>G<span class='operator'>&amp;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-22'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8465'>#</a></div><div class='texpara'><div id='expected.object.obs-22.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>G, E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-22.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-23'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8470'>#</a></div><div class='texpara'><div id='expected.object.obs-23.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='parenthesis'>)</span></span> if <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> otherwise<a class='hidden_link' href='#expected.object.obs-23.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,error_or_'><div id='lib:error_or,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:error_or,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G <span class='operator'>=</span> E<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> E error_or<span class='parenthesis'>(</span>G<span class='operator'>&amp;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-24'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8482'>#</a></div><div class='texpara'><div id='expected.object.obs-24.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>G, E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-24.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-25'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8487'>#</a></div><div class='texpara'><div id='expected.object.obs-25.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='parenthesis'>)</span></span> if <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> otherwise<a class='hidden_link' href='#expected.object.obs-25.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.monadic' class='section'><h4 ><a class='secnum' href='#expected.object.monadic' style='min-width:95pt'>22.8.6.7</a> Monadic operations <a class='abbr_ref' href='expected.object.monadic'>[expected.object.monadic]</a></h4><div class='texpara'><div id='lib:expected,and_then'><div id='lib:and_then,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:and_then,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8502'>#</a></div><div class='texpara'><div id='expected.object.monadic-1.sentence-1' class='sentence'>Let <span class='texttt'>U</span> be <span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8505'>#</a></div><div class='texpara'><div id='expected.object.monadic-2.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-2.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8509'>#</a></div><div class='texpara'><div id='expected.object.monadic-3.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>U</span> is a specialization of <span class='texttt'>expected</span> and
<span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='operator'>&#x200b;::&#x200b;</span>error_<span class='shy'></span>type, E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8514'>#</a></div><div class='texpara'><div id='expected.object.monadic-4.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, <i >val</i><span class='parenthesis'>)</span>;
<span class='keyword'>else</span>
  <span class='keyword'>return</span> U<span class='parenthesis'>(</span>unexpect, error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:expected,and_then_'><div id='lib:and_then,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:and_then,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> and_then<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8532'>#</a></div><div class='texpara'><div id='expected.object.monadic-5.sentence-1' class='sentence'>Let <span class='texttt'>U</span> be
<span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-5.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8536'>#</a></div><div class='texpara'><div id='expected.object.monadic-6.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-6.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-7'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8540'>#</a></div><div class='texpara'><div id='expected.object.monadic-7.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>U</span> is a specialization of <span class='texttt'>expected</span> and
<span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='operator'>&#x200b;::&#x200b;</span>error_<span class='shy'></span>type, E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-7.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-8'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8545'>#</a></div><div class='texpara'><div id='expected.object.monadic-8.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='keyword'>else</span>
  <span class='keyword'>return</span> U<span class='parenthesis'>(</span>unexpect, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:expected,or_else'><div id='lib:or_else,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:or_else,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-9'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8563'>#</a></div><div class='texpara'><div id='expected.object.monadic-9.sentence-1' class='sentence'>Let <span class='texttt'>G</span> be <span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-9.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-10'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8566'>#</a></div><div class='texpara'><div id='expected.object.monadic-10.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-10.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-11'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8570'>#</a></div><div class='texpara'><div id='expected.object.monadic-11.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>G</span> is a specialization of <span class='texttt'>expected</span> and
<span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>G<span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-11.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-12'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8575'>#</a></div><div class='texpara'><div id='expected.object.monadic-12.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> G<span class='parenthesis'>(</span>in_place, <i >val</i><span class='parenthesis'>)</span>;
<span class='keyword'>else</span>
  <span class='keyword'>return</span> invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:expected,or_else_'><div id='lib:or_else,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:or_else,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> or_else<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-13'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8593'>#</a></div><div class='texpara'><div id='expected.object.monadic-13.sentence-1' class='sentence'>Let <span class='texttt'>G</span> be
<span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-13.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-14'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8597'>#</a></div><div class='texpara'><div id='expected.object.monadic-14.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-14.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-15'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8601'>#</a></div><div class='texpara'><div id='expected.object.monadic-15.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>G</span> is a specialization of <span class='texttt'>expected</span> and
<span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>G<span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-15.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-16'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8606'>#</a></div><div class='texpara'><div id='expected.object.monadic-16.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> G<span class='parenthesis'>(</span>in_place, std<span class='operator'>::</span>move<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='keyword'>else</span>
  <span class='keyword'>return</span> invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:expected,transform'><div id='lib:transform,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:transform,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-17'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8624'>#</a></div><div class='texpara'><div id='expected.object.monadic-17.sentence-1' class='sentence'>Let <span class='texttt'>U</span> be
<span class='texttt'>remove_<span class='shy'></span>cv_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-17.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-18'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8628'>#</a></div><div class='texpara'><div id='expected.object.monadic-18.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-18.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-19'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8632'>#</a></div><div class='texpara'><div id='expected.object.monadic-19.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>U</span> is a valid value type for <span class='texttt'>expected</span><a class='hidden_link' href='#expected.object.monadic-19.sentence-1'>.</a></div> <div id='expected.object.monadic-19.sentence-2' class='sentence'>If <span class='texttt'>is_<span class='shy'></span>void_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,
the declaration
<span class='codeblock'>U u<span class='parenthesis'>(</span>invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, <i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span>
is well-formed<a class='hidden_link' href='#expected.object.monadic-19.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-20'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8642'>#</a></div><div class='texpara'><div id='expected.object.monadic-20.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.monadic-20.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.monadic-20.1'>(20.1)</a></div><div class='texpara'><div id='expected.object.monadic-20.1.sentence-1' class='sentence'>If <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span>, returns
<span class='texttt'>expected<span class='anglebracket'>&lt;</span>U, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>unexpect, error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-20.1.sentence-1'>.</a></div></div></li><li id='expected.object.monadic-20.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.monadic-20.2'>(20.2)</a></div><div class='texpara'><div id='expected.object.monadic-20.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>is_<span class='shy'></span>void_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, returns an
<span class='texttt'>expected<span class='anglebracket'>&lt;</span>U, E<span class='anglebracket'>&gt;</span></span> object whose <span class='texttt'><i >has_<span class='shy'></span>val</i></span> member is <span class='texttt'><span class='literal'>true</span></span>
and <span class='texttt'><i >val</i></span> member is direct-non-list-initialized with
<span class='texttt'>invoke<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, <span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-20.2.sentence-1'>.</a></div></div></li><li id='expected.object.monadic-20.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.monadic-20.3'>(20.3)</a></div><div class='texpara'><div id='expected.object.monadic-20.3.sentence-1' class='sentence'>Otherwise, evaluates <span class='texttt'>invoke<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, <span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span> and then
returns <span class='texttt'>expected<span class='anglebracket'>&lt;</span>U, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-20.3.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,transform_'><div id='lib:transform,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:transform,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-21'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8666'>#</a></div><div class='texpara'><div id='expected.object.monadic-21.sentence-1' class='sentence'>Let <span class='texttt'>U</span> be
<span class='texttt'>remove_<span class='shy'></span>cv_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-21.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-22'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8670'>#</a></div><div class='texpara'><div id='expected.object.monadic-22.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>E, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-22.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-23'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8674'>#</a></div><div class='texpara'><div id='expected.object.monadic-23.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>U</span> is a valid value type for <span class='texttt'>expected</span><a class='hidden_link' href='#expected.object.monadic-23.sentence-1'>.</a></div> <div id='expected.object.monadic-23.sentence-2' class='sentence'>If <span class='texttt'>is_<span class='shy'></span>void_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is
<span class='texttt'><span class='literal'>false</span></span>, the declaration
<span class='codeblock'>U u<span class='parenthesis'>(</span>invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span>
is well-formed<a class='hidden_link' href='#expected.object.monadic-23.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-24'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8683'>#</a></div><div class='texpara'><div id='expected.object.monadic-24.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.monadic-24.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.monadic-24.1'>(24.1)</a></div><div class='texpara'><div id='expected.object.monadic-24.1.sentence-1' class='sentence'>If <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span>, returns
<span class='texttt'>expected<span class='anglebracket'>&lt;</span>U, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>unexpect, std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-24.1.sentence-1'>.</a></div></div></li><li id='expected.object.monadic-24.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.monadic-24.2'>(24.2)</a></div><div class='texpara'><div id='expected.object.monadic-24.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>is_<span class='shy'></span>void_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, returns an
<span class='texttt'>expected<span class='anglebracket'>&lt;</span>U, E<span class='anglebracket'>&gt;</span></span> object whose <span class='texttt'><i >has_<span class='shy'></span>val</i></span> member is <span class='texttt'><span class='literal'>true</span></span>
and <span class='texttt'><i >val</i></span> member is direct-non-list-initialized with
<span class='texttt'>invoke<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-24.2.sentence-1'>.</a></div></div></li><li id='expected.object.monadic-24.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.monadic-24.3'>(24.3)</a></div><div class='texpara'><div id='expected.object.monadic-24.3.sentence-1' class='sentence'>Otherwise, evaluates <span class='texttt'>invoke<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> and
then returns <span class='texttt'>expected<span class='anglebracket'>&lt;</span>U, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-24.3.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,transform_error'><div id='lib:transform_error,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:transform_error,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-25'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8707'>#</a></div><div class='texpara'><div id='expected.object.monadic-25.sentence-1' class='sentence'>Let <span class='texttt'>G</span> be <span class='texttt'>remove_<span class='shy'></span>cv_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-25.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-26'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8710'>#</a></div><div class='texpara'><div id='expected.object.monadic-26.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-26.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-27'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8714'>#</a></div><div class='texpara'><div id='expected.object.monadic-27.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>G</span> is a valid template argument
for <span class='texttt'>unexpected</span> (<a href='expected.un.general' title='22.8.3.1&emsp;General'>[expected.<span class='shy'></span>un.<span class='shy'></span>general]</a>) and the declaration
<span class='codeblock'>G g<span class='parenthesis'>(</span>invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span>
is well-formed<a class='hidden_link' href='#expected.object.monadic-27.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-28'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8723'>#</a></div><div class='texpara'><div id='expected.object.monadic-28.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, G<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>in_<span class='shy'></span>place, <span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span>; otherwise, an <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, G<span class='anglebracket'>&gt;</span></span>
object whose <span class='texttt'><i >has_<span class='shy'></span>val</i></span> member is <span class='texttt'><span class='literal'>false</span></span> and <span class='texttt'><i >unex</i></span> member
is direct-non-list-initialized with <span class='texttt'>invoke<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-28.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,transform_error_'><div id='lib:transform_error,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:transform_error,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> transform_error<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.monadic-29'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8738'>#</a></div><div class='texpara'><div id='expected.object.monadic-29.sentence-1' class='sentence'>Let <span class='texttt'>G</span> be
<span class='texttt'>remove_<span class='shy'></span>cv_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.monadic-29.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-30'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8742'>#</a></div><div class='texpara'><div id='expected.object.monadic-30.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.monadic-30.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-31'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8746'>#</a></div><div class='texpara'><div id='expected.object.monadic-31.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>G</span> is a valid template argument
for <span class='texttt'>unexpected</span> (<a href='expected.un.general' title='22.8.3.1&emsp;General'>[expected.<span class='shy'></span>un.<span class='shy'></span>general]</a>) and the declaration
<span class='codeblock'>G g<span class='parenthesis'>(</span>invoke<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span>
is well-formed<a class='hidden_link' href='#expected.object.monadic-31.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.monadic-32'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.monadic-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8755'>#</a></div><div class='texpara'><div id='expected.object.monadic-32.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, G<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>in_<span class='shy'></span>place, std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>; otherwise, an
<span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, G<span class='anglebracket'>&gt;</span></span> object whose <span class='texttt'><i >has_<span class='shy'></span>val</i></span> member is <span class='texttt'><span class='literal'>false</span></span>
and <span class='texttt'><i >unex</i></span> member is direct-non-list-initialized with
<span class='texttt'>invoke<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.monadic-32.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.eq' class='section'><h4 ><a class='secnum' href='#expected.object.eq' style='min-width:95pt'>22.8.6.8</a> Equality operators <a class='abbr_ref' href='expected.object.eq'>[expected.object.eq]</a></h4><div class='texpara'><div id='lib:expected,operator=='><div id='lib:operator==,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,expected'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>!</span>is_void_v<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>T2, E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.eq-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8773'>#</a></div><div class='texpara'><div id='expected.object.eq-1.sentence-1' class='sentence'><i >Mandates</i>: The expressions <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> and <span class='texttt'>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> y<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are well-formed and their results are convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#expected.object.eq-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.eq-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8778'>#</a></div><div class='texpara'><div id='expected.object.eq-2.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>x<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> does not equal <span class='texttt'>y<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>x<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>y</span>;
otherwise <span class='texttt'>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> y<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.eq-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator==_'><div id='lib:operator==,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,expected_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> T2<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.eq-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8791'>#</a></div><div class='texpara'><div id='expected.object.eq-3.sentence-1' class='sentence'><i >Mandates</i>: The expression <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#expected.object.eq-3.sentence-1'>.</a></div> <div id='expected.object.eq-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#expected.object.eq-note-1'>1</a></i>:&ensp;<div id='expected.object.eq-3.sentence-2' class='sentence'><span class='texttt'>T</span> need not be <i >Cpp17EqualityComparable</i><a class='hidden_link' href='#expected.object.eq-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='expected.object.eq-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8799'>#</a></div><div class='texpara'><div id='expected.object.eq-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>x<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> v<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.eq-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator==__'><div id='lib:operator==,expected__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,expected__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.eq-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8810'>#</a></div><div class='texpara'><div id='expected.object.eq-5.sentence-1' class='sentence'><i >Mandates</i>: The expression <span class='texttt'>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> e<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#expected.object.eq-5.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.eq-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/utilities.tex#L8815'>#</a></div><div class='texpara'><div id='expected.object.eq-6.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>!</span>x<span class='operator'>.</span>has_<span class='shy'></span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> e<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.eq-6.sentence-1'>.</a></div></div></div></div></div></div></body></html>