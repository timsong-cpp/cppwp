<!DOCTYPE html><html lang='en'><head><title>[expected.expected]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>22</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>22.8</a> Expected objects <a class='abbr_ref' href='expected#expected'>[expected]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>22.8.6</a> Class template <span class='texttt'>expected</span> <a class='abbr_ref'>[expected.expected]</a></h3><div id='expected.object.general' class='section'><h4 ><a class='secnum' href='#expected.object.general' style='min-width:95pt'>22.8.6.1</a> General <a class='abbr_ref' href='expected.object.general'>[expected.object.general]</a></h4><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> E<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> expected <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> <span id='lib:expected,value_type'><span id='lib:value_type,expected'>value_type</span></span> <span class='operator'>=</span> T;
    <span class='keyword'>using</span> <span id='lib:expected,error_type'><span id='lib:error_type,expected'>error_type</span></span> <span class='operator'>=</span> E;
    <span class='keyword'>using</span> <span id='lib:expected,unexpected_type'><span id='lib:unexpected_type,expected'>unexpected_type</span></span> <span class='operator'>=</span> unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> <span id='lib:expected,rebind'><span id='lib:rebind,expected'>rebind</span></span> <span class='operator'>=</span> expected<span class='anglebracket'>&lt;</span>U, error_type<span class='anglebracket'>&gt;</span>;

    <span class='comment'>// <a href='#expected.object.ctor' title='22.8.6.2&emsp;Constructors'>[expected.<span class='shy'></span>object.<span class='shy'></span>ctor]</a>, constructors</span>
    <span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#expected.object.dtor' title='22.8.6.3&emsp;Destructor'>[expected.<span class='shy'></span>object.<span class='shy'></span>dtor]</a>, destructor</span>
    <span class='keyword'>constexpr</span> <span class='operator'>~</span>expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#expected.object.assign' title='22.8.6.4&emsp;Assignment'>[expected.<span class='shy'></span>object.<span class='shy'></span>assign]</a>, assignment</span>
    <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='comment'>// <a href='#expected.object.swap' title='22.8.6.5&emsp;Swap'>[expected.<span class='shy'></span>object.<span class='shy'></span>swap]</a>, swap</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
    <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span> x, expected<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#expected.object.obs' title='22.8.6.6&emsp;Observers'>[expected.<span class='shy'></span>object.<span class='shy'></span>obs]</a>, observers</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;

    <span class='comment'>// <a href='#expected.object.eq' title='22.8.6.7&emsp;Equality operators'>[expected.<span class='shy'></span>object.<span class='shy'></span>eq]</a>, equality operators</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>!</span>is_void_v<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
      <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>T2, E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
      <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span>, <span class='keyword'>const</span> T2<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span>
      <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span>, <span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>bool</span> <i >has_val</i>;       <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>union</span> <span class='curlybracket'>{</span>
      T <i >val</i>;            <span class='comment'>// <i >exposition only</i></span>
      E <i >unex</i>;           <span class='comment'>// <i >exposition only</i></span>
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='para' id='expected.object.general-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6932'>#</a></div><div class='texpara'><div id='expected.object.general-1.sentence-1' class='sentence'>Any object of type <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span> either
contains a value of type <span class='texttt'>T</span> or
a value of type <span class='texttt'>E</span> within its own storage<a class='hidden_link' href='#expected.object.general-1.sentence-1'>.</a></div> <div id='expected.object.general-1.sentence-2' class='sentence'>Implementations are not permitted to use additional storage,
such as dynamic memory,
to allocate the object of type <span class='texttt'>T</span> or the object of type E.
These objects are allocated in a region of the <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span> storage
suitably aligned for the types <span class='texttt'>T</span> and <span class='texttt'>E</span><a class='hidden_link' href='#expected.object.general-1.sentence-2'>.</a></div> <div id='expected.object.general-1.sentence-3' class='sentence'>Members <span class='texttt'><i >has_&shy;val</i></span>, <span class='texttt'><i >val</i></span>, and <span class='texttt'><i >unex</i></span>
are provided for exposition only<a class='hidden_link' href='#expected.object.general-1.sentence-3'>.</a></div> <div id='expected.object.general-1.sentence-4' class='sentence'><span class='texttt'><i >has_&shy;val</i></span> indicates whether the <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span> object
contains an object of type <span class='texttt'>T</span><a class='hidden_link' href='#expected.object.general-1.sentence-4'>.</a></div></div></div><div class='para' id='expected.object.general-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6946'>#</a></div><div class='texpara'><div id='expected.object.general-2.sentence-1' class='sentence'>A program
that instantiates the definition of template <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span>
for a reference type, a function type, or
for possibly cv-qualified types <span class='texttt'>in_&shy;place_&shy;t</span>, <span class='texttt'>unexpect_&shy;t</span>, or
a specialization of <span class='texttt'>unexpected</span> for the <span class='texttt'>T</span> parameter
is ill-formed<a class='hidden_link' href='#expected.object.general-2.sentence-1'>.</a></div> <div id='expected.object.general-2.sentence-2' class='sentence'>A program that instantiates
the definition of the template <span class='texttt'>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span></span>
with a type for the <span class='texttt'>E</span> parameter
that is not a valid template argument for <span class='texttt'>unexpected</span> is ill-formed<a class='hidden_link' href='#expected.object.general-2.sentence-2'>.</a></div></div></div><div class='para' id='expected.object.general-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6958'>#</a></div><div class='texpara'><div id='expected.object.general-3.sentence-1' class='sentence'>When <span class='texttt'>T</span> is not <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>void</span></span>, it shall meet
the <i >Cpp17Destructible</i> requirements (Table <a href='utility.arg.requirements#tab:cpp17.destructible' title='Table 34: Cpp17Destructible requirements'>34</a>)<a class='hidden_link' href='#expected.object.general-3.sentence-1'>.</a></div> <div id='expected.object.general-3.sentence-2' class='sentence'><span class='texttt'>E</span> shall meet
the <i >Cpp17Destructible</i> requirements<a class='hidden_link' href='#expected.object.general-3.sentence-2'>.</a></div></div></div></div><div id='expected.object.ctor' class='section'><h4 ><a class='secnum' href='#expected.object.ctor' style='min-width:95pt'>22.8.6.2</a> Constructors <a class='abbr_ref' href='expected.object.ctor'>[expected.object.ctor]</a></h4><div class='texpara'><div id='lib:expected,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6972'>#</a></div><div class='texpara'><div id='expected.object.ctor-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;default_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6976'>#</a></div><div class='texpara'><div id='expected.object.ctor-2.sentence-1' class='sentence'><i >Effects</i>: Value-initializes <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.ctor-2.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6980'>#</a></div><div class='texpara'><div id='expected.object.ctor-3.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6984'>#</a></div><div class='texpara'><div id='expected.object.ctor-4.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.ctor-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L6995'>#</a></div><div class='texpara'><div id='expected.object.ctor-5.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'><span class='operator'>*</span>rhs</span><a class='hidden_link' href='#expected.object.ctor-5.sentence-1'>.</a></div> <div id='expected.object.ctor-5.sentence-2' class='sentence'>Otherwise, direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-5.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7001'>#</a></div><div class='texpara'><div id='expected.object.ctor-6.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-6.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7005'>#</a></div><div class='texpara'><div id='expected.object.ctor-7.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span> or <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.ctor-7.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7009'>#</a></div><div class='texpara'><div id='expected.object.ctor-8.sentence-1' class='sentence'><i >Remarks</i>: This constructor is defined as deleted unless
<ul class='itemize'><li id='expected.object.ctor-8.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-8.1'>(8.1)</a></div><span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.ctor-8.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-8.2'>(8.2)</a></div><span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-8.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7019'>#</a></div><div class='texpara'><div id='expected.object.ctor-9.sentence-1' class='sentence'>This constructor is trivial if
<ul class='itemize'><li id='expected.object.ctor-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-9.1'>(9.1)</a></div><span class='texttt'>is_&shy;trivially_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.ctor-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-9.2'>(9.2)</a></div><span class='texttt'>is_&shy;trivially_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-9.sentence-1'>.</a></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7035'>#</a></div><div class='texpara'><div id='expected.object.ctor-10.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.ctor-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-10.1'>(10.1)</a></div><span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.ctor-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-10.2'>(10.2)</a></div><span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-10.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7044'>#</a></div><div class='texpara'><div id='expected.object.ctor-11.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-11.sentence-1'>.</a></div> <div id='expected.object.ctor-11.sentence-2' class='sentence'>Otherwise,
direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-11.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7051'>#</a></div><div class='texpara'><div id='expected.object.ctor-12.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is unchanged;
<span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-12.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7056'>#</a></div><div class='texpara'><div id='expected.object.ctor-13.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span> or <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.ctor-13.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7060'>#</a></div><div class='texpara'><div id='expected.object.ctor-14.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.ctor-14.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7066'>#</a></div><div class='texpara'><div id='expected.object.ctor-15.sentence-1' class='sentence'>This constructor is trivial if
<ul class='itemize'><li id='expected.object.ctor-15.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-15.1'>(15.1)</a></div><span class='texttt'>is_&shy;trivially_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.ctor-15.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-15.2'>(15.2)</a></div><span class='texttt'>is_&shy;trivially_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-15.sentence-1'>.</a></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor___'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7085'>#</a></div><div class='texpara'><div id='expected.object.ctor-16.sentence-1' class='sentence'>Let:
<ul class='itemize'><li id='expected.object.ctor-16.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-16.1'>(16.1)</a></div><div class='texpara'><div id='expected.object.ctor-16.1.sentence-1' class='sentence'><span class='texttt'>UF</span> be <span class='texttt'><span class='keyword'>const</span> U<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>U</span> for the second overload<a class='hidden_link' href='#expected.object.ctor-16.1.sentence-1'>.</a></div></div></li><li id='expected.object.ctor-16.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-16.2'>(16.2)</a></div><div class='texpara'><div id='expected.object.ctor-16.2.sentence-1' class='sentence'><span class='texttt'>GF</span> be <span class='texttt'><span class='keyword'>const</span> G<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>G</span> for the second overload<a class='hidden_link' href='#expected.object.ctor-16.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='expected.object.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7096'>#</a></div><div class='texpara'><div id='expected.object.ctor-17.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.ctor-17.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.1'>(17.1)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, UF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.ctor-17.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.2'>(17.2)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.ctor-17.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.3'>(17.3)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.4'>(17.4)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.5'>(17.5)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.6'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.6'>(17.6)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.7'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.7'>(17.7)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.8'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.8'>(17.8)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.9'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.9'>(17.9)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.10'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.10'>(17.10)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.11'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.11'>(17.11)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.12'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.12'>(17.12)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.13'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.13'>(17.13)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-17.14'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-17.14'>(17.14)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>unexpected<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>U, G<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.ctor-17.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7129'>#</a></div><div class='texpara'><div id='expected.object.ctor-18.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>UF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-18.sentence-1'>.</a></div> <div id='expected.object.ctor-18.sentence-2' class='sentence'>Otherwise,
direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-18.sentence-2'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7136'>#</a></div><div class='texpara'><div id='expected.object.ctor-19.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is unchanged;
<span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-19.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7141'>#</a></div><div class='texpara'><div id='expected.object.ctor-20.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span> or <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.ctor-20.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7145'>#</a></div><div class='texpara'><div id='expected.object.ctor-21.sentence-1' class='sentence'><i >Remarks</i>: The expression inside <span class='texttt'><span class='keyword'>explicit</span></span> is equivalent to
<span class='texttt'><span class='operator'>!</span>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>UF, T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='operator'>!</span>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>GF, E<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#expected.object.ctor-21.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7158'>#</a></div><div class='texpara'><div id='expected.object.ctor-22.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.ctor-22.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-22.1'>(22.1)</a></div><span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, in_&shy;place_&shy;t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-22.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-22.2'>(22.2)</a></div><span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>expected<span class='anglebracket'>&lt;</span>T, E<span class='anglebracket'>&gt;</span>, remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.ctor-22.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-22.3'>(22.3)</a></div><span class='texttt'>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is not a specialization of <span class='texttt'>unexpected</span>; and</li><li id='expected.object.ctor-22.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.ctor-22.4'>(22.4)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-22.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7171'>#</a></div><div class='texpara'><div id='expected.object.ctor-23.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-23.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7175'>#</a></div><div class='texpara'><div id='expected.object.ctor-24.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-24.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7179'>#</a></div><div class='texpara'><div id='expected.object.ctor-25.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.ctor-25.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> G<span class='operator'>&amp;</span>, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span>G, E<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> expected<span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7193'>#</a></div><div class='texpara'><div id='expected.object.ctor-26.sentence-1' class='sentence'>Let <span class='texttt'>GF</span> be <span class='texttt'><span class='keyword'>const</span> G<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>G</span> for the second overload<a class='hidden_link' href='#expected.object.ctor-26.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7197'>#</a></div><div class='texpara'><div id='expected.object.ctor-27.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-27.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7201'>#</a></div><div class='texpara'><div id='expected.object.ctor-28.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >unex</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='operator'>.</span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.ctor-28.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7205'>#</a></div><div class='texpara'><div id='expected.object.ctor-29.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.ctor-29.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7209'>#</a></div><div class='texpara'><div id='expected.object.ctor-30.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.ctor-30.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor______'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-31'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7221'>#</a></div><div class='texpara'><div id='expected.object.ctor-31.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-31.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-32'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7225'>#</a></div><div class='texpara'><div id='expected.object.ctor-32.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >val</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.ctor-32.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-33'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7229'>#</a></div><div class='texpara'><div id='expected.object.ctor-33.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-33.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-34'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7233'>#</a></div><div class='texpara'><div id='expected.object.ctor-34.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.ctor-34.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_______'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>in_place_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-35'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7245'>#</a></div><div class='texpara'><div id='expected.object.ctor-35.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-35.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-36'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7249'>#</a></div><div class='texpara'><div id='expected.object.ctor-36.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >val</i></span> with
<span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.ctor-36.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-37'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-37'>37</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7254'>#</a></div><div class='texpara'><div id='expected.object.ctor-37.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-37.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-38'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-38'>38</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7258'>#</a></div><div class='texpara'><div id='expected.object.ctor-38.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.ctor-38.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor________'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor________'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-39'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-39'>39</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7270'>#</a></div><div class='texpara'><div id='expected.object.ctor-39.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-39.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-40'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-40'>40</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7274'>#</a></div><div class='texpara'><div id='expected.object.ctor-40.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >unex</i></span> with
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.ctor-40.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-41'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-41'>41</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7279'>#</a></div><div class='texpara'><div id='expected.object.ctor-41.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.ctor-41.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-42'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-42'>42</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7283'>#</a></div><div class='texpara'><div id='expected.object.ctor-42.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.ctor-42.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,constructor_________'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,constructor_________'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> expected<span class='parenthesis'>(</span>unexpect_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.ctor-43'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-43'>43</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7295'>#</a></div><div class='texpara'><div id='expected.object.ctor-43.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.ctor-43.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-44'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-44'>44</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7299'>#</a></div><div class='texpara'><div id='expected.object.ctor-44.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >unex</i></span> with
<span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#expected.object.ctor-44.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-45'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-45'>45</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7304'>#</a></div><div class='texpara'><div id='expected.object.ctor-45.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.ctor-45.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.ctor-46'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.ctor-46'>46</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7308'>#</a></div><div class='texpara'><div id='expected.object.ctor-46.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.ctor-46.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.dtor' class='section'><h4 ><a class='secnum' href='#expected.object.dtor' style='min-width:95pt'>22.8.6.3</a> Destructor <a class='abbr_ref' href='expected.object.dtor'>[expected.object.dtor]</a></h4><div class='texpara'><div id='lib:expected,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:expected,destructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='operator'>~</span>expected<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='expected.object.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7321'>#</a></div><div class='texpara'><div id='expected.object.dtor-1.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, destroys <span class='texttt'><i >val</i></span>,
otherwise destroys <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.dtor-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7326'>#</a></div><div class='texpara'><div id='expected.object.dtor-2.sentence-1' class='sentence'><i >Remarks</i>: If <span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and
<span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then this destructor is a trivial destructor<a class='hidden_link' href='#expected.object.dtor-2.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.assign' class='section'><h4 ><a class='secnum' href='#expected.object.assign' style='min-width:95pt'>22.8.6.4</a> Assignment <a class='abbr_ref' href='expected.object.assign'>[expected.object.assign]</a></h4><div class='para' id='expected.object.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7335'>#</a></div><div class='texpara'><div id='expected.object.assign-1.sentence-1' class='sentence'>This subclause makes use of the following exposition-only function:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
<span class='keyword'>constexpr</span> <span class='keyword'>void</span> <i >reinit-expected</i><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> newval, U<span class='operator'>&amp;</span> oldval, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>  <span class='comment'>// <i >exposition only</i></span>
  <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_nothrow_constructible_v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>newval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    T tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>newval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
    U tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>try</span> <span class='curlybracket'>{</span>
      construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>newval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='curlybracket'>}</span> <span class='keyword'>catch</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>oldval<span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
      <span class='keyword'>throw</span>;
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span></div></div></div><div class='texpara'><div id='lib:expected,operator='><div id='lib:operator=,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7366'>#</a></div><div class='texpara'><div id='expected.object.assign-2.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.1'>(2.1)</a></div><div class='texpara'><div id='expected.object.assign-2.1.sentence-1' class='sentence'>If <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to <span class='texttt'><span class='texttt'><i >val</i></span> <span class='operator'>=</span> <span class='operator'>*</span>rhs</span><a class='hidden_link' href='#expected.object.assign-2.1.sentence-1'>.</a></div></div></li><li id='expected.object.assign-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.2'>(2.2)</a></div><div class='texpara'><div id='expected.object.assign-2.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >unex</i>, <i >val</i>, rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-2.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.3'>(2.3)</a></div><div class='texpara'><div id='expected.object.assign-2.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >val</i>, <i >unex</i>, <span class='operator'>*</span>rhs<span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-2.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-2.4'>(2.4)</a></div><div class='texpara'><div id='expected.object.assign-2.4.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'><span class='texttt'><i >unex</i></span> <span class='operator'>=</span> rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.assign-2.4.sentence-1'>.</a></div></div></li></ul></div> <div id='expected.object.assign-2.sentence-2' class='sentence'>
Then, if no exception was thrown,
equivalent to: <span class='texttt'><span class='texttt'><i >has_&shy;val</i></span> <span class='operator'>=</span> rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;</span></div></div></div></div><div class='para' id='expected.object.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7388'>#</a></div><div class='texpara'><div id='expected.object.assign-3.sentence-1' class='sentence'><i >Remarks</i>: This operator is defined as deleted unless:
<ul class='itemize'><li id='expected.object.assign-3.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-3.1'>(3.1)</a></div><span class='texttt'>is_&shy;copy_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-3.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-3.2'>(3.2)</a></div><span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-3.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-3.3'>(3.3)</a></div><span class='texttt'>is_&shy;copy_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-3.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-3.4'>(3.4)</a></div><span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-3.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-3.5'>(3.5)</a></div><span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-3.sentence-1'>.</a></li></ul></div></div></div></div><div class='texpara'><div id='lib:expected,operator=_'><div id='lib:operator=,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7412'>#</a></div><div class='texpara'><div id='expected.object.assign-4.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.assign-4.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.1'>(4.1)</a></div><span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.2'>(4.2)</a></div><span class='texttt'>is_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.3'>(4.3)</a></div><span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.4'>(4.4)</a></div><span class='texttt'>is_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.assign-4.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-4.5'>(4.5)</a></div><span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-4.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7428'>#</a></div><div class='texpara'><div id='expected.object.assign-5.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-5.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.1'>(5.1)</a></div><div class='texpara'><div id='expected.object.assign-5.1.sentence-1' class='sentence'>If <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to <span class='texttt'><span class='texttt'><i >val</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.assign-5.1.sentence-1'>.</a></div></div></li><li id='expected.object.assign-5.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.2'>(5.2)</a></div><div class='texpara'><div id='expected.object.assign-5.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >unex</i>, <i >val</i>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-5.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.3'>(5.3)</a></div><div class='texpara'><div id='expected.object.assign-5.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >val</i>, <i >unex</i>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></li><li id='expected.object.assign-5.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-5.4'>(5.4)</a></div><div class='texpara'><div id='expected.object.assign-5.4.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'><span class='texttt'><i >unex</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.assign-5.4.sentence-1'>.</a></div></div></li></ul></div> <div id='expected.object.assign-5.sentence-2' class='sentence'>
Then, if no exception was thrown,
equivalent to: <span class='texttt'>has_&shy;val <span class='operator'>=</span> rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;</span></div></div></div></div><div class='para' id='expected.object.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7450'>#</a></div><div class='texpara'><div id='expected.object.assign-6.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to:
<span class='codeblock'>is_nothrow_move_assignable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_nothrow_move_assignable_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>
</span></div></div></div></div><div class='texpara'><div id='lib:expected,operator=__'><div id='lib:operator=,expected__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7466'>#</a></div><div class='texpara'><div id='expected.object.assign-7.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.assign-7.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-7.1'>(7.1)</a></div><span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>expected, remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>; and</li><li id='expected.object.assign-7.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-7.2'>(7.2)</a></div><span class='texttt'>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> is not a specialization of <span class='texttt'>unexpected</span>; and</li><li id='expected.object.assign-7.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-7.3'>(7.3)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-7.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-7.4'>(7.4)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-7.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-7.5'>(7.5)</a></div><span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span><br>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-7.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7483'>#</a></div><div class='texpara'><div id='expected.object.assign-8.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-8.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-8.1'>(8.1)</a></div>If <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to: <span class='texttt'><span class='texttt'><i >val</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;</span></li><li id='expected.object.assign-8.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-8.2'>(8.2)</a></div>Otherwise, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >val</i>, <i >unex</i>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
</span></li></ul></div></div></div></div><div class='para' id='expected.object.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7497'>#</a></div><div class='texpara'><div id='expected.object.assign-9.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#expected.object.assign-9.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator=___'><div id='lib:operator=,expected___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,expected___'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> G<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> expected<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>unexpected<span class='anglebracket'>&lt;</span>G<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7511'>#</a></div><div class='texpara'><div id='expected.object.assign-10.sentence-1' class='sentence'>Let <span class='texttt'>GF</span> be <span class='texttt'><span class='keyword'>const</span> G<span class='operator'>&amp;</span></span> for the first overload and
<span class='texttt'>G</span> for the second overload<a class='hidden_link' href='#expected.object.assign-10.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7515'>#</a></div><div class='texpara'><div id='expected.object.assign-11.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.assign-11.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-11.1'>(11.1)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-11.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-11.2'>(11.2)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>E<span class='operator'>&amp;</span>, GF<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='expected.object.assign-11.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-11.3'>(11.3)</a></div><span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E, GF<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span><br>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-11.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7527'>#</a></div><div class='texpara'><div id='expected.object.assign-12.sentence-1' class='sentence'><i >Effects</i>: <ul class='itemize'><li id='expected.object.assign-12.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-12.1'>(12.1)</a></div>If <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><i >reinit-expected</i><span class='parenthesis'>(</span><i >unex</i>, <i >val</i>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='operator'>.</span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<i >has_val</i> <span class='operator'>=</span> <span class='literal'>false</span>;
</span></li><li id='expected.object.assign-12.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.assign-12.2'>(12.2)</a></div>Otherwise, equivalent to:
<span class='texttt'><span class='texttt'><i >unex</i></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>GF<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>e<span class='operator'>.</span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;</span></li></ul></div></div></div></div><div class='para' id='expected.object.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7541'>#</a></div><div class='texpara'><div id='expected.object.assign-13.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#expected.object.assign-13.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,emplace'><div id='lib:emplace,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7553'>#</a></div><div class='texpara'><div id='expected.object.assign-14.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-14.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-15'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7557'>#</a></div><div class='texpara'><div id='expected.object.assign-15.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>return</span> <span class='operator'>*</span>construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:expected,emplace_'><div id='lib:emplace,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.assign-16'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7578'>#</a></div><div class='texpara'><div id='expected.object.assign-16.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.assign-16.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.assign-17'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.assign-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7583'>#</a></div><div class='texpara'><div id='expected.object.assign-17.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>return</span> <span class='operator'>*</span>construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span>, il, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span></div></div></div></div></div><div id='expected.object.swap' class='section'><h4 ><a class='secnum' href='#expected.object.swap' style='min-width:95pt'>22.8.6.5</a> Swap <a class='abbr_ref' href='expected.object.swap'>[expected.object.swap]</a></h4><div class='texpara'><div id='lib:expected,swap'><div id='lib:swap,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7605'>#</a></div><div class='texpara'><div id='expected.object.swap-1.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='expected.object.swap-1.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.1'>(1.1)</a></div><span class='texttt'>is_&shy;swappable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.swap-1.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.2'>(1.2)</a></div><span class='texttt'>is_&shy;swappable_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and</li><li id='expected.object.swap-1.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.3'>(1.3)</a></div><span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='expected.object.swap-1.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#expected.object.swap-1.4'>(1.4)</a></div><span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.swap-1.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='expected.object.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7620'>#</a></div><div class='texpara'><div id='expected.object.swap-2.sentence-1' class='sentence'><i >Effects</i>: See Table <a href='#tab:expected.object.swap' title='Table 64: swap(expected&amp;) effects'>64</a><a class='hidden_link' href='#expected.object.swap-2.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:expected.object.swap'>Table <a href='#tab:expected.object.swap'>64</a>: <span class='texttt'>swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> effects&emsp;<a href='./tab:expected.object.swap'>[tab:expected.object.swap]</a><br><table ><tr id='tab:expected.object.swap-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:expected.object.swap-row-1'>ðŸ”—</a></div></td><td class='empty left'></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-1-column-2-sentence-1' class='sentence'><b><span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-1-column-3-sentence-1' class='sentence'><b><span class='texttt'><span class='operator'>!</span><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td></tr><tr id='tab:expected.object.swap-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:expected.object.swap-row-2'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-2-column-1-sentence-1' class='sentence'><b><span class='texttt'>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-2-column-2-sentence-1' class='sentence'>equivalent to: <span class='texttt'><span class='keyword'>using</span> std<span class='operator'>&#x200b;::&#x200b;</span>swap; swap<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span>, rhs<span class='operator'>.</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span>;</span></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-2-column-3-sentence-1' class='sentence'>calls <span class='texttt'>rhs<span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:expected.object.swap-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:expected.object.swap-row-3'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:expected.object.swap-row-3-column-1-sentence-1' class='sentence'><b><span class='texttt'><span class='operator'>!</span>rhs<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></b></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-3-column-2-sentence-1' class='sentence'><i ><span class='texttt'>see below</span></i></div></div></td><td class='left' style='width:35%'><div class='texpara'><div id='tab:expected.object.swap-row-3-column-3-sentence-1' class='sentence'>equivalent to: <span class='texttt'><span class='keyword'>using</span> std<span class='operator'>&#x200b;::&#x200b;</span>swap; swap<span class='parenthesis'>(</span><span class='texttt'><i >unex</i></span>, rhs<span class='operator'>.</span><span class='texttt'><i >unex</i></span><span class='parenthesis'>)</span>;</span></div></div></td></tr></table></div>
 </div><div class='texpara'><div id='expected.object.swap-2.sentence-2' class='sentence'>For the case where <span class='texttt'>rhs<span class='operator'>.</span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span> and
<span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  E tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='keyword'>try</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>catch</span><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>throw</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
  T tmp<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='keyword'>try</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >unex</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    destroy_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >unex</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>catch</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    construct_at<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span><i >val</i><span class='parenthesis'>)</span>, std<span class='operator'>::</span>move<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>throw</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
<i >has_val</i> <span class='operator'>=</span> <span class='literal'>false</span>;
rhs<span class='operator'>.</span><i >has_val</i> <span class='operator'>=</span> <span class='literal'>true</span>;
</span></div></div></div></div><div class='para' id='expected.object.swap-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7666'>#</a></div><div class='texpara'><div id='expected.object.swap-3.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the expressions in the <i >Effects</i><a class='hidden_link' href='#expected.object.swap-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.swap-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7670'>#</a></div><div class='texpara'><div id='expected.object.swap-4.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to:
<span class='codeblock'>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_swappable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_swappable_v<span class='anglebracket'>&lt;</span>E<span class='anglebracket'>&gt;</span>
</span></div></div></div></div><div class='texpara'><div id='lib:expected,swap_'><div id='lib:swap,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>expected<span class='operator'>&amp;</span> x, expected<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.swap-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.swap-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7685'>#</a></div><div class='texpara'><div id='expected.object.swap-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.swap-5.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.obs' class='section'><h4 ><a class='secnum' href='#expected.object.obs' style='min-width:95pt'>22.8.6.6</a> Observers <a class='abbr_ref' href='expected.object.obs'>[expected.object.obs]</a></h4><div class='texpara'><div id='lib:expected,operator->'><div id='lib:operator->,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator-%3e,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7699'>#</a></div><div class='texpara'><div id='expected.object.obs-1.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7703'>#</a></div><div class='texpara'><div id='expected.object.obs-2.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>addressof<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator*'><div id='lib:operator*,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator*,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7715'>#</a></div><div class='texpara'><div id='expected.object.obs-3.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-3.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7719'>#</a></div><div class='texpara'><div id='expected.object.obs-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >val</i></span><a class='hidden_link' href='#expected.object.obs-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator*_'><div id='lib:operator*,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator*,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7731'>#</a></div><div class='texpara'><div id='expected.object.obs-5.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-5.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7735'>#</a></div><div class='texpara'><div id='expected.object.obs-6.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-6.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,has_value'><div id='lib:has_value,expected'><div id='lib:expected,operator_bool'><div id='lib:operator_bool,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator_bool,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div></div></div><div class='para' id='expected.object.obs-7'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7748'>#</a></div><div class='texpara'><div id='expected.object.obs-7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >has_&shy;val</i></span><a class='hidden_link' href='#expected.object.obs-7.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value'><div id='lib:value,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-8'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7760'>#</a></div><div class='texpara'><div id='expected.object.obs-8.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >val</i></span>, if <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-8.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-9'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7764'>#</a></div><div class='texpara'><div id='expected.object.obs-9.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>bad_&shy;expected_&shy;access<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> if <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-9.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value_'><div id='lib:value,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-10'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7776'>#</a></div><div class='texpara'><div id='expected.object.obs-10.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >val</i></span><span class='parenthesis'>)</span></span>, if <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-10.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-11'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7780'>#</a></div><div class='texpara'><div id='expected.object.obs-11.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>bad_&shy;expected_&shy;access<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
if <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-11.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,error'><div id='lib:error,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:error,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-12'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7793'>#</a></div><div class='texpara'><div id='expected.object.obs-12.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-12.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-13'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7797'>#</a></div><div class='texpara'><div id='expected.object.obs-13.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >unex</i></span><a class='hidden_link' href='#expected.object.obs-13.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,error_'><div id='lib:error,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:error,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> E<span class='operator'>&amp;</span><span class='operator'>&amp;</span> error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-14'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7809'>#</a></div><div class='texpara'><div id='expected.object.obs-14.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#expected.object.obs-14.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-15'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7813'>#</a></div><div class='texpara'><div id='expected.object.obs-15.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='texttt'><i >unex</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-15.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value_or'><div id='lib:value_or,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value_or,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-16'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7824'>#</a></div><div class='texpara'><div id='expected.object.obs-16.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-16.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-17'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7829'>#</a></div><div class='texpara'><div id='expected.object.obs-17.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='operator'>*</span><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>:</span> <span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-17.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,value_or_'><div id='lib:value_or,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value_or,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div></div><div class='para' id='expected.object.obs-18'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7840'>#</a></div><div class='texpara'><div id='expected.object.obs-18.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#expected.object.obs-18.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.obs-19'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.obs-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7845'>#</a></div><div class='texpara'><div id='expected.object.obs-19.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='operator'>:</span> <span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.obs-19.sentence-1'>.</a></div></div></div></div></div><div id='expected.object.eq' class='section'><h4 ><a class='secnum' href='#expected.object.eq' style='min-width:95pt'>22.8.6.7</a> Equality operators <a class='abbr_ref' href='expected.object.eq'>[expected.object.eq]</a></h4><div class='texpara'><div id='lib:expected,operator=='><div id='lib:operator==,expected'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,expected'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>!</span>is_void_v<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> expected<span class='anglebracket'>&lt;</span>T2, E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.eq-1'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7859'>#</a></div><div class='texpara'><div id='expected.object.eq-1.sentence-1' class='sentence'><i >Mandates</i>: The expressions <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> and <span class='texttt'>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> y<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are well-formed and their results are convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#expected.object.eq-1.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.eq-2'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7864'>#</a></div><div class='texpara'><div id='expected.object.eq-2.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>x<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> does not equal <span class='texttt'>y<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>x<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>y</span>;
otherwise <span class='texttt'>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> y<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.eq-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator==_'><div id='lib:operator==,expected_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,expected_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> T2<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.eq-3'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7877'>#</a></div><div class='texpara'><div id='expected.object.eq-3.sentence-1' class='sentence'><i >Mandates</i>: The expression <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#expected.object.eq-3.sentence-1'>.</a></div> <div id='expected.object.eq-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#expected.object.eq-note-1'>1</a></i>: <div id='expected.object.eq-3.sentence-2' class='sentence'><span class='texttt'>T1</span> need not be <i >Cpp17EqualityComparable</i><a class='hidden_link' href='#expected.object.eq-3.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='expected.object.eq-4'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7885'>#</a></div><div class='texpara'><div id='expected.object.eq-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>x<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> v<span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.eq-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:expected,operator==__'><div id='lib:operator==,expected__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,expected__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> E2<span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> expected<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> unexpected<span class='anglebracket'>&lt;</span>E2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> e<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='expected.object.eq-5'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7896'>#</a></div><div class='texpara'><div id='expected.object.eq-5.sentence-1' class='sentence'><i >Mandates</i>: The expression <span class='texttt'>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> e<span class='operator'>.</span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#expected.object.eq-5.sentence-1'>.</a></div></div></div></div><div class='para' id='expected.object.eq-6'><div class='marginalizedparent'><a class='marginalized' href='#expected.object.eq-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c88b6bdafb2eb128e7da05815f3b30fa52d3710/source/utilities.tex#L7901'>#</a></div><div class='texpara'><div id='expected.object.eq-6.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>!</span>x<span class='operator'>.</span>has_&shy;value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>error<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> e<span class='operator'>.</span>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#expected.object.eq-6.sentence-1'>.</a></div></div></div></div></div></div></body></html>