<!DOCTYPE html><html lang='en'><head><title>[func.wrap]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>22</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>22.10</a> Function objects <a class='abbr_ref' href='function.objects#func.wrap'>[function.objects]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>22.10.17</a> Polymorphic function wrappers <a class='abbr_ref'>[func.wrap]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>22.10.17.1</a> General <a class='abbr_ref' href='func.wrap.general'>[func.wrap.general]</a></h4><div class='texpara'><a class='index' id=':function_object,wrapper'></a></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13000'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>Subclause [func.<span class='shy'></span>wrap] describes polymorphic wrapper classes that
encapsulate arbitrary callable objects<a class='hidden_link' href='#general-1.sentence-1'>.</a></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13004'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>Let <span class='texttt'>t</span> be an object of a type that is a specialization of
<span class='texttt'>function</span>, <span class='texttt'>copyable_<span class='shy'></span>function</span>, or <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function</span>,
such that the target object <span class='texttt'>x</span> of <span class='texttt'>t</span> has a type that
is a specialization of
<span class='texttt'>function</span>, <span class='texttt'>copyable_<span class='shy'></span>function</span>, or <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function</span><a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-2.sentence-2' class='sentence'>Each argument of the
invocation of <span class='texttt'>x</span> evaluated as part of the invocation of <span class='texttt'>t</span>
may alias an argument in the same position in the invocation of <span class='texttt'>t</span> that
has the same type, even if the corresponding parameter is not of reference type<a class='hidden_link' href='#general-2.sentence-2'>.</a></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<span class='codeblock'>move_only_function<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>
  f<span class='curlybracket'>{</span>copyable_function<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;
T t;
f<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;                               <span class='comment'>// it is unspecified how many copies of <span class='tcode_in_codeblock'>T</span> are made</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13023'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should avoid double wrapping when
constructing polymorphic wrappers from one another<a class='hidden_link' href='#general-3.sentence-1'>.</a></div></div></div></div><div id='badcall' class='section'><h4 ><a class='secnum' href='#badcall' style='min-width:95pt'>22.10.17.2</a> Class <span class='texttt'>bad_<span class='shy'></span>function_<span class='shy'></span>call</span> <a class='abbr_ref' href='func.wrap.badcall'>[func.wrap.badcall]</a></h4><div class='texpara'><a class='index' id='lib:bad_function_call'></a></div><div class='para' id='badcall-1'><div class='marginalizedparent'><a class='marginalized' href='#badcall-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13031'>#</a></div><div class='texpara'><div id='badcall-1.sentence-1' class='sentence'>An exception of type <span class='texttt'>bad_<span class='shy'></span>function_<span class='shy'></span>call</span> is thrown by
<span class='texttt'>function<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#func.inv' title='22.10.17.3.5&emsp;Invocation'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func.<span class='shy'></span>inv]</a>)
when the function wrapper object has no target<a class='hidden_link' href='#badcall-1.sentence-1'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> bad_function_call <span class='operator'>:</span> <span class='keyword'>public</span> exception <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='comment'>// see <a href='exception' title='17.9.3&emsp;Class exception'>[exception]</a> for the specification of the special member functions</span>
    <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div></div><div class='texpara'><div id='lib:bad_function_call,what'><div id='lib:what,bad_function_call'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:what,bad_function_call'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='badcall-2'><div class='marginalizedparent'><a class='marginalized' href='#badcall-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13052'>#</a></div><div class='texpara'><div id='badcall-2.sentence-1' class='sentence'><i >Returns</i>: An
<a class='index' id=':return_value_of_bad_function_call::what'></a>implementation-defined <span class='textsc'>ntbs</span><a class='hidden_link' href='#badcall-2.sentence-1'>.</a></div></div></div></div></div><div id='func' class='section'><h4 ><a class='secnum' href='#func' style='min-width:95pt'>22.10.17.3</a> Class template <span class='texttt'>function</span> <a class='abbr_ref' href='func.wrap.func'>[func.wrap.func]</a></h4><div id='func.general' class='section'><h4 ><a class='secnum' href='#func.general' style='min-width:110pt'>22.10.17.3.1</a> General <a class='abbr_ref' href='func.wrap.func.general'>[func.wrap.func.general]</a></h4><div class='texpara'><a class='index' id='lib:function'></a>
<span id='lib:function,result_type'><span id='lib:result_type,function'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:result_type,function'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> result_type <span class='operator'>=</span> R;

    <span class='comment'>// <a href='#func.con' title='22.10.17.3.2&emsp;Constructors and destructor'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func.<span class='shy'></span>con]</a>, construct/copy/destroy</span>
    function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    function<span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    function<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>reference_wrapper<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='operator'>~</span>function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#func.mod' title='22.10.17.3.3&emsp;Modifiers'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func.<span class='shy'></span>mod]</a>, function modifiers</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='comment'>// <a href='#func.cap' title='22.10.17.3.4&emsp;Capacity'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func.<span class='shy'></span>cap]</a>, function capacity</span>
    <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='comment'>// <a href='#func.inv' title='22.10.17.3.5&emsp;Invocation'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func.<span class='shy'></span>inv]</a>, function invocation</span>
    R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;

    <span class='comment'>// <a href='#func.targ' title='22.10.17.3.6&emsp;Target access'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func.<span class='shy'></span>targ]</a>, function target access</span>
    <span class='keyword'>const</span> type_info<span class='operator'>&amp;</span> target_type<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>       T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>const</span> T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
    function<span class='parenthesis'>(</span>R<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function<span class='anglebracket'>&lt;</span><i ><span class='texttt'>see below</span></i><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</span></span></span></div><div class='para' id='func.general-1'><div class='marginalizedparent'><a class='marginalized' href='#func.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13108'>#</a></div><div class='texpara'><div id='func.general-1.sentence-1' class='sentence'>The <span class='texttt'>function</span> class template provides polymorphic wrappers that
generalize the notion of a function pointer<a class='hidden_link' href='#func.general-1.sentence-1'>.</a></div> <div id='func.general-1.sentence-2' class='sentence'>Wrappers can store, copy,
and call arbitrary callable objects (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>), given a call
signature (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#func.general-1.sentence-2'>.</a></div></div></div><div class='para' id='func.general-2'><div class='marginalizedparent'><a class='marginalized' href='#func.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13114'>#</a></div><div class='texpara'><div id='func.general-2.sentence-1' class='sentence'><a class='index' id=':callable_type'></a>A callable type (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>) <span class='texttt'>F</span>
is <a class='hidden_link' href='#def:Lvalue-Callable' title='22.10.17.3.1&emsp;General&emsp;[func.wrap.func.general]'><span id='def:Lvalue-Callable'><i >Lvalue-Callable</i></span></a> for argument
types <span class='texttt'>ArgTypes</span>
and return type <span class='texttt'>R</span>
if the expression
<span class='texttt'><i >INVOKE</i><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>declval<span class='anglebracket'>&lt;</span>F<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>, declval<span class='anglebracket'>&lt;</span>ArgTypes<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>,
considered as an unevaluated operand (<a href='expr.context#term.unevaluated.operand' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>), is
well-formed (<a href='func.require' title='22.10.4&emsp;Requirements'>[func.<span class='shy'></span>require]</a>)<a class='hidden_link' href='#func.general-2.sentence-1'>.</a></div></div></div><div class='para' id='func.general-3'><div class='marginalizedparent'><a class='marginalized' href='#func.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13125'>#</a></div><div class='texpara'><div id='func.general-3.sentence-1' class='sentence'>The <span class='texttt'>function</span> class template is a call
wrapper (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>) whose call signature (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>)
is <span class='texttt'>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.general-3.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='func.general-4'><div class='marginalizedparent'><a class='marginalized' href='#func.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13130'>#</a></div><div class='texpara'><div id='func.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#func.general-note-1'>1</a></i>:&ensp;<div id='func.general-4.sentence-1' class='sentence'>The types deduced by the deduction guides for <span class='texttt'>function</span>
might change in future revisions of C++<a class='hidden_link' href='#func.general-4.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div id='func.con' class='section'><h4 ><a class='secnum' href='#func.con' style='min-width:110pt'>22.10.17.3.2</a> Constructors and destructor <a class='abbr_ref' href='func.wrap.func.con'>[func.wrap.func.con]</a></h4><div class='texpara'><div id='lib:function,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function,constructor'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='func.con-1'><div class='marginalizedparent'><a class='marginalized' href='#func.con-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13144'>#</a></div><div class='texpara'><div id='func.con-1.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='func.con-2'><div class='marginalizedparent'><a class='marginalized' href='#func.con-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13155'>#</a></div><div class='texpara'><div id='func.con-2.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function,constructor__'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='func.con-3'><div class='marginalizedparent'><a class='marginalized' href='#func.con-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13166'>#</a></div><div class='texpara'><div id='func.con-3.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span> if <span class='texttt'><span class='operator'>!</span>f</span>; otherwise,
the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> is a copy of the target object of <span class='texttt'>f</span><a class='hidden_link' href='#func.con-3.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-4'><div class='marginalizedparent'><a class='marginalized' href='#func.con-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13171'>#</a></div><div class='texpara'><div id='func.con-4.sentence-1' class='sentence'><i >Throws</i>: Nothing if <span class='texttt'>f</span>'s target is
a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span> or
a function pointer<a class='hidden_link' href='#func.con-4.sentence-1'>.</a></div> <div id='func.con-4.sentence-2' class='sentence'>Otherwise, may throw <span class='texttt'>bad_<span class='shy'></span>alloc</span>
or any exception thrown by the copy constructor of the stored callable object<a class='hidden_link' href='#func.con-4.sentence-2'>.</a></div></div></div></div><div class='para' id='func.con-5'><div class='marginalizedparent'><a class='marginalized' href='#func.con-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13178'>#</a></div><div class='texpara'><div id='func.con-5.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example, where
<span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer<a class='hidden_link' href='#func.con-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function,constructor___'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='func.con-6'><div class='marginalizedparent'><a class='marginalized' href='#func.con-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13192'>#</a></div><div class='texpara'><div id='func.con-6.sentence-1' class='sentence'><i >Postconditions</i>: If <span class='texttt'><span class='operator'>!</span>f</span>, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has no target;
otherwise, the target of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> is equivalent to
the target of <span class='texttt'>f</span> before the construction, and
<span class='texttt'>f</span> is in a valid state with an unspecified value<a class='hidden_link' href='#func.con-6.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-7'><div class='marginalizedparent'><a class='marginalized' href='#func.con-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13199'>#</a></div><div class='texpara'><div id='func.con-7.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer<a class='hidden_link' href='#func.con-7.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function,constructor____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='func.con-8'><div class='marginalizedparent'><a class='marginalized' href='#func.con-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13213'>#</a></div><div class='texpara'><div id='func.con-8.sentence-1' class='sentence'>Let <span class='texttt'>FD</span> be <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#func.con-8.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-9'><div class='marginalizedparent'><a class='marginalized' href='#func.con-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13216'>#</a></div><div class='texpara'><div id='func.con-9.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='func.con-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-9.1'>(9.1)</a></div><span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span>, function<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='func.con-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-9.2'>(9.2)</a></div><span class='texttt'>FD</span> is Lvalue-Callable (<a href='#func' title='22.10.17.3&emsp;Class template function'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func]</a>) for argument types
<span class='texttt'>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and return type <span class='texttt'>R</span><a class='hidden_link' href='#func.con-9.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='func.con-10'><div class='marginalizedparent'><a class='marginalized' href='#func.con-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13226'>#</a></div><div class='texpara'><div id='func.con-10.sentence-1' class='sentence'><i >Mandates</i>: <ul class='itemize'><li id='func.con-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-10.1'>(10.1)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>FD<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='func.con-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-10.2'>(10.2)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>FD, F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#func.con-10.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='func.con-11'><div class='marginalizedparent'><a class='marginalized' href='#func.con-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13235'>#</a></div><div class='texpara'><div id='func.con-11.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>FD</span> meets the <a href='utility.arg.requirements#:Cpp17CopyConstructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17CopyConstructible</i></a> requirements<a class='hidden_link' href='#func.con-11.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-12'><div class='marginalizedparent'><a class='marginalized' href='#func.con-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13239'>#</a></div><div class='texpara'><div id='func.con-12.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span> is <span class='texttt'><span class='literal'>true</span></span> if any of the following hold:
<ul class='itemize'><li id='func.con-12.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-12.1'>(12.1)</a></div><div class='texpara'><div id='func.con-12.1.sentence-1' class='sentence'><span class='texttt'>f</span> is a null function pointer value<a class='hidden_link' href='#func.con-12.1.sentence-1'>.</a></div></div></li><li id='func.con-12.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-12.2'>(12.2)</a></div><div class='texpara'><div id='func.con-12.2.sentence-1' class='sentence'><span class='texttt'>f</span> is a null member pointer value<a class='hidden_link' href='#func.con-12.2.sentence-1'>.</a></div></div></li><li id='func.con-12.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-12.3'>(12.3)</a></div><div class='texpara'><div id='func.con-12.3.sentence-1' class='sentence'><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is
a specialization of the <span class='texttt'>function</span> class template, and
<span class='texttt'><span class='operator'>!</span>f</span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#func.con-12.3.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='func.con-13'><div class='marginalizedparent'><a class='marginalized' href='#func.con-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13250'>#</a></div><div class='texpara'><div id='func.con-13.sentence-1' class='sentence'>Otherwise, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object of type <span class='texttt'>FD</span>
direct-non-list-initialized with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.con-13.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-14'><div class='marginalizedparent'><a class='marginalized' href='#func.con-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13254'>#</a></div><div class='texpara'><div id='func.con-14.sentence-1' class='sentence'><i >Throws</i>: Nothing if <span class='texttt'>FD</span> is
a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span> or
a function pointer type<a class='hidden_link' href='#func.con-14.sentence-1'>.</a></div> <div id='func.con-14.sentence-2' class='sentence'>Otherwise, may throw <span class='texttt'>bad_<span class='shy'></span>alloc</span> or
any exception thrown by the initialization of the target object<a class='hidden_link' href='#func.con-14.sentence-2'>.</a></div></div></div></div><div class='para' id='func.con-15'><div class='marginalizedparent'><a class='marginalized' href='#func.con-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13262'>#</a></div><div class='texpara'><div id='func.con-15.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span> refers to an object holding only a pointer or
reference to an object and a member function pointer<a class='hidden_link' href='#func.con-15.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='func.con-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function<span class='anglebracket'>&lt;</span><i ><span class='texttt'>see below</span></i><span class='anglebracket'>&gt;</span>;
</code></div></div><div class='para' id='func.con-16'><div class='marginalizedparent'><a class='marginalized' href='#func.con-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13276'>#</a></div><div class='texpara'><div id='func.con-16.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='operator'>&amp;</span>F<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is well-formed when treated as an unevaluated operand and either
<ul class='itemize'><li id='func.con-16.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-16.1'>(16.1)</a></div><span class='texttt'>F<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a non-static member function and
<span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>&#x200b;<span class='operator'>&amp;</span>F<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is either of the form
<span class='texttt'>R<span class='parenthesis'>(</span>G<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> <span class='mathit'>cv</span> <span class='texttt'><span class='operator'>&amp;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span><span class='operator'> </span><span class='keyword'>noexcept</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span></span>
or of the form
<span class='texttt'>R<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>G, A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='operator'> </span><span class='keyword'>noexcept</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span></span>
for a type <span class='texttt'>G</span>, or</li><li id='func.con-16.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#func.con-16.2'>(16.2)</a></div><span class='texttt'>F<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a static member function and
<span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>F<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is of the form
<span class='texttt'>R<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#func.con-16.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='func.con-17'><div class='marginalizedparent'><a class='marginalized' href='#func.con-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13293'>#</a></div><div class='texpara'><div id='func.con-17.sentence-1' class='sentence'><i >Remarks</i>: The deduced type is <span class='texttt'>function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#func.con-17.sentence-1'>.</a></div></div></div></div><div class='para nonNormativeOnly' id='func.con-18'><div class='marginalizedparent'><a class='marginalized' href='#func.con-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13297'>#</a></div><div class='texpara'><div id='func.con-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#func.con-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i<span class='curlybracket'>{</span><span class='literal'>5</span><span class='curlybracket'>}</span>;
  function g <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span>;       <span class='comment'>// deduces <span class='tcode_in_codeblock'>function&lt;int(double)&gt;</span></span>
<span class='curlybracket'>}</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div></div><div class='texpara'><div id='lib:function,operator='><div id='lib:operator=,function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,function'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='func.con-19'><div class='marginalizedparent'><a class='marginalized' href='#func.con-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13314'>#</a></div><div class='texpara'><div id='func.con-19.sentence-1' class='sentence'><i >Effects</i>: As if by <span class='texttt'>function<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='func.con-20'><div class='marginalizedparent'><a class='marginalized' href='#func.con-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13318'>#</a></div><div class='texpara'><div id='func.con-20.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-20.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,operator=_'><div id='lib:operator=,function_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,function_'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='func.con-21'><div class='marginalizedparent'><a class='marginalized' href='#func.con-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13329'>#</a></div><div class='texpara'><div id='func.con-21.sentence-1' class='sentence'><i >Effects</i>: Replaces the target of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
with the target of <span class='texttt'>f</span><a class='hidden_link' href='#func.con-21.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-22'><div class='marginalizedparent'><a class='marginalized' href='#func.con-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13334'>#</a></div><div class='texpara'><div id='func.con-22.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-22.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,operator=__'><div id='lib:operator=,function__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,function__'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.con-23'><div class='marginalizedparent'><a class='marginalized' href='#func.con-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13345'>#</a></div><div class='texpara'><div id='func.con-23.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span>, destroys the target of <span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span><a class='hidden_link' href='#func.con-23.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-24'><div class='marginalizedparent'><a class='marginalized' href='#func.con-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13349'>#</a></div><div class='texpara'><div id='func.con-24.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.con-24.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-25'><div class='marginalizedparent'><a class='marginalized' href='#func.con-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13353'>#</a></div><div class='texpara'><div id='func.con-25.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-25.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,operator=___'><div id='lib:operator=,function___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,function___'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='func.con-26'><div class='marginalizedparent'><a class='marginalized' href='#func.con-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13364'>#</a></div><div class='texpara'><div id='func.con-26.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is Lvalue-Callable (<a href='#func' title='22.10.17.3&emsp;Class template function'>[func.<span class='shy'></span>wrap.<span class='shy'></span>func]</a>)
for argument types <span class='texttt'>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and return type <span class='texttt'>R</span><a class='hidden_link' href='#func.con-26.sentence-1'>.</a></div></div></div></div><div class='para' id='func.con-27'><div class='marginalizedparent'><a class='marginalized' href='#func.con-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13369'>#</a></div><div class='texpara'><div id='func.con-27.sentence-1' class='sentence'><i >Effects</i>: As if by: <span class='texttt'>function<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='func.con-28'><div class='marginalizedparent'><a class='marginalized' href='#func.con-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13373'>#</a></div><div class='texpara'><div id='func.con-28.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-28.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,operator=____'><div id='lib:operator=,function____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,function____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>reference_wrapper<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.con-29'><div class='marginalizedparent'><a class='marginalized' href='#func.con-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13384'>#</a></div><div class='texpara'><div id='func.con-29.sentence-1' class='sentence'><i >Effects</i>: As if by: <span class='texttt'>function<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='func.con-30'><div class='marginalizedparent'><a class='marginalized' href='#func.con-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13388'>#</a></div><div class='texpara'><div id='func.con-30.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-30.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function,destructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='operator'>~</span>function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='func.con-31'><div class='marginalizedparent'><a class='marginalized' href='#func.con-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13399'>#</a></div><div class='texpara'><div id='func.con-31.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span>, destroys the target of <span id=':this_'><span class='texttt'><span class='keyword'>this</span></span></span><a class='hidden_link' href='#func.con-31.sentence-1'>.</a></div></div></div></div></div><div id='func.mod' class='section'><h4 ><a class='secnum' href='#func.mod' style='min-width:110pt'>22.10.17.3.3</a> Modifiers <a class='abbr_ref' href='func.wrap.func.mod'>[func.wrap.func.mod]</a></h4><div class='texpara'><div id='lib:function,swap'><div id='lib:swap,function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span> other<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#func.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13412'>#</a></div><div class='texpara'><div id='func.mod-1.sentence-1' class='sentence'><i >Effects</i>: Interchanges the target objects of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and <span class='texttt'>other</span><a class='hidden_link' href='#func.mod-1.sentence-1'>.</a></div></div></div></div></div><div id='func.cap' class='section'><h4 ><a class='secnum' href='#func.cap' style='min-width:110pt'>22.10.17.3.4</a> Capacity <a class='abbr_ref' href='func.wrap.func.cap'>[func.wrap.func.cap]</a></h4><div class='texpara'><div id='lib:function,operator_bool'><div id='lib:operator_bool,function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator_bool,function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.cap-1'><div class='marginalizedparent'><a class='marginalized' href='#func.cap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13425'>#</a></div><div class='texpara'><div id='func.cap-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target, otherwise <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#func.cap-1.sentence-1'>.</a></div></div></div></div></div><div id='func.inv' class='section'><h4 ><a class='secnum' href='#func.inv' style='min-width:110pt'>22.10.17.3.5</a> Invocation <a class='abbr_ref' href='func.wrap.func.inv'>[func.wrap.func.inv]</a></h4><div class='texpara'><div id='lib:function,operator()'><div id='lib:operator(),function'><div id='lib:function,invocation'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function,invocation'>ðŸ”—</a></div><code class='itemdeclcode'>R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div></div><div class='para' id='func.inv-1'><div class='marginalizedparent'><a class='marginalized' href='#func.inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13439'>#</a></div><div class='texpara'><div id='func.inv-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><i >INVOKE</i><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>ArgTypes<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> (<a href='func.require' title='22.10.4&emsp;Requirements'>[func.<span class='shy'></span>require]</a>),
where <span class='texttt'>f</span> is the target object (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>) of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.inv-1.sentence-1'>.</a></div></div></div></div><div class='para' id='func.inv-2'><div class='marginalizedparent'><a class='marginalized' href='#func.inv-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13444'>#</a></div><div class='texpara'><div id='func.inv-2.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>bad_<span class='shy'></span>function_<span class='shy'></span>call</span> if <span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span>; otherwise, any
exception thrown by the target object<a class='hidden_link' href='#func.inv-2.sentence-1'>.</a></div></div></div></div></div><div id='func.targ' class='section'><h4 ><a class='secnum' href='#func.targ' style='min-width:110pt'>22.10.17.3.6</a> Target access <a class='abbr_ref' href='func.wrap.func.targ'>[func.wrap.func.targ]</a></h4><div class='texpara'><div id='lib:function,target_type'><div id='lib:target_type,function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:target_type,function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>const</span> type_info<span class='operator'>&amp;</span> target_type<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.targ-1'><div class='marginalizedparent'><a class='marginalized' href='#func.targ-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13458'>#</a></div><div class='texpara'><div id='func.targ-1.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target of type <span class='texttt'>T</span>,
  <span class='texttt'><span class='keyword'>typeid</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span>; otherwise, <span class='texttt'><span class='keyword'>typeid</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.targ-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function,target'><div id='lib:target,function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:target,function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>       T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>const</span> T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.targ-2'><div class='marginalizedparent'><a class='marginalized' href='#func.targ-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13471'>#</a></div><div class='texpara'><div id='func.targ-2.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>target_<span class='shy'></span>type<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span>
a pointer to the stored function target; otherwise a null pointer<a class='hidden_link' href='#func.targ-2.sentence-1'>.</a></div></div></div></div></div><div id='func.nullptr' class='section'><h4 ><a class='secnum' href='#func.nullptr' style='min-width:110pt'>22.10.17.3.7</a> Null pointer comparison operator functions <a class='abbr_ref' href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a></h4><div class='texpara'><div id='lib:function,operator=='><div id='lib:operator==,function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> f, nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.nullptr-1'><div class='marginalizedparent'><a class='marginalized' href='#func.nullptr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13486'>#</a></div><div class='texpara'><div id='func.nullptr-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>!</span>f</span><a class='hidden_link' href='#func.nullptr-1.sentence-1'>.</a></div></div></div></div></div><div id='func.alg' class='section'><h4 ><a class='secnum' href='#func.alg' style='min-width:110pt'>22.10.17.3.8</a> Specialized algorithms <a class='abbr_ref' href='func.wrap.func.alg'>[func.wrap.func.alg]</a></h4><div class='texpara'><div id='lib:function,swap_'><div id='lib:swap,function_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,function_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> f1, function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> f2<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='func.alg-1'><div class='marginalizedparent'><a class='marginalized' href='#func.alg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13500'>#</a></div><div class='texpara'><div id='func.alg-1.sentence-1' class='sentence'><i >Effects</i>: As if by: <span class='texttt'>f1<span class='operator'>.</span>swap<span class='parenthesis'>(</span>f2<span class='parenthesis'>)</span>;</span></div></div></div></div></div></div><div id='move' class='section'><h4 ><a class='secnum' href='#move' style='min-width:95pt'>22.10.17.4</a> Move-only wrapper <a class='abbr_ref' href='func.wrap.move'>[func.wrap.move]</a></h4><div id='move.general' class='section'><h4 ><a class='secnum' href='#move.general' style='min-width:110pt'>22.10.17.4.1</a> General <a class='abbr_ref' href='func.wrap.move.general'>[func.wrap.move.general]</a></h4><div class='para' id='move.general-1'><div class='marginalizedparent'><a class='marginalized' href='#move.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13509'>#</a></div><div class='texpara'><div id='move.general-1.sentence-1' class='sentence'>The header provides partial specializations of <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function</span>
for each combination of the possible replacements
of the placeholders <span class='mathit'>cv</span>, <i >ref</i>, and <i >noex</i> where
<ul class='itemize'><li id='move.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#move.general-1.1'>(1.1)</a></div><span class='mathit'>cv</span> is either const or empty,</li><li id='move.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#move.general-1.2'>(1.2)</a></div><i >ref</i> is either <span class='texttt'><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or empty, and</li><li id='move.general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#move.general-1.3'>(1.3)</a></div><i >noex</i> is either <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#move.general-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='move.general-2'><div class='marginalizedparent'><a class='marginalized' href='#move.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13522'>#</a></div><div class='texpara'><div id='move.general-2.sentence-1' class='sentence'>For each of the possible combinations of the placeholders mentioned above,
there is a placeholder <i >inv-quals</i> defined as follows:
<ul class='itemize'><li id='move.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#move.general-2.1'>(2.1)</a></div>If <i >ref</i> is empty, let <i >inv-quals</i> be <span class='mathit'>cv</span><span class='texttt'><span class='operator'>&amp;</span></span>,</li><li id='move.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#move.general-2.2'>(2.2)</a></div>otherwise, let <i >inv-quals</i> be <span class='mathit'>cv</span> <i >ref</i><a class='hidden_link' href='#move.general-2.sentence-1'>.</a></li></ul></div></div></div></div><div id='move.class' class='section'><h4 ><a class='secnum' href='#move.class' style='min-width:110pt'>22.10.17.4.2</a> Class template <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function</span> <a class='abbr_ref' href='func.wrap.move.class'>[func.wrap.move.class]</a></h4><div class='texpara'><span id='lib:move_only_function'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_only_function'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> move_only_function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='mathit'>cv</span> <i >ref</i> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> result_type <span class='operator'>=</span> R;

    <span class='comment'>// <a href='#move.ctor' title='22.10.17.4.3&emsp;Constructors, assignment, and destructor'>[func.<span class='shy'></span>wrap.<span class='shy'></span>move.<span class='shy'></span>ctor]</a>, constructors, assignment, and destructor</span>
    move_only_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    move_only_function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    move_only_function<span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> move_only_function<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> move_only_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> move_only_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    move_only_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    move_only_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> move_only_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='operator'>~</span>move_only_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#move.inv' title='22.10.17.4.4&emsp;Invocation'>[func.<span class='shy'></span>wrap.<span class='shy'></span>move.<span class='shy'></span>inv]</a>, invocation</span>
    <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='mathit'>cv</span> <i >ref</i> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#move.util' title='22.10.17.4.5&emsp;Utility'>[func.<span class='shy'></span>wrap.<span class='shy'></span>move.<span class='shy'></span>util]</a>, utility</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>friend</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span>, move_only_function<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> move_only_function<span class='operator'>&amp;</span>, nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> VT<span class='anglebracket'>&gt;</span>
      <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-callable-from</i> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;       <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='move.class-1'><div class='marginalizedparent'><a class='marginalized' href='#move.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13574'>#</a></div><div class='texpara'><div id='move.class-1.sentence-1' class='sentence'>The <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function</span> class template provides polymorphic wrappers
that generalize the notion of a callable object (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#move.class-1.sentence-1'>.</a></div> <div id='move.class-1.sentence-2' class='sentence'>These wrappers can store, move, and call arbitrary callable objects,
given a call signature<a class='hidden_link' href='#move.class-1.sentence-2'>.</a></div></div></div><div class='para' id='move.class-2'><div class='marginalizedparent'><a class='marginalized' href='#move.class-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13580'>#</a></div><div class='texpara'><div id='move.class-2.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should avoid the use of dynamically allocated memory
for a small contained value<a class='hidden_link' href='#move.class-2.sentence-1'>.</a></div> <div id='move.class-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#move.class-note-1'>1</a></i>:&ensp;<div id='move.class-2.sentence-2' class='sentence'>Such small-object optimization can only be applied to a type <span class='texttt'>T</span>
for which <span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#move.class-2.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div id='move.ctor' class='section'><h4 ><a class='secnum' href='#move.ctor' style='min-width:110pt'>22.10.17.4.3</a> Constructors, assignment, and destructor <a class='abbr_ref' href='func.wrap.move.ctor'>[func.wrap.move.ctor]</a></h4><div class='texpara'><div id=':move_only_function::is-callable-from'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#:move_only_function::is-callable-from'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> VT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='texttt'><i >is-callable-from</i></span> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
</code></div></div></div><div class='para' id='move.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13598'>#</a></div><div class='texpara'><div id='move.ctor-1.sentence-1' class='sentence'>If <i >noex</i> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is equal to:
<span class='codeblock'>is_nothrow_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <span class='mathit'>cv</span> <i >ref</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_nothrow_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <i >inv-quals</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
</span></div> <div id='move.ctor-1.sentence-2' class='sentence'>
Otherwise, <span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is equal to:
<span class='codeblock'>is_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <span class='mathit'>cv</span> <i >ref</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <i >inv-quals</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
</span></div></div></div></div><div class='texpara'><div id='lib:move_only_function,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_only_function,constructor'>ðŸ”—</a></div><code class='itemdeclcode'>move_only_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
move_only_function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='move.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13619'>#</a></div><div class='texpara'><div id='move.ctor-2.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has no target object<a class='hidden_link' href='#move.ctor-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_only_function,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'>move_only_function<span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='move.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13630'>#</a></div><div class='texpara'><div id='move.ctor-3.sentence-1' class='sentence'><i >Postconditions</i>: The target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> is
the target object <span class='texttt'>f</span> had before construction, and
<span class='texttt'>f</span> is in a valid state with an unspecified value<a class='hidden_link' href='#move.ctor-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_only_function,constructor__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> move_only_function<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='move.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13643'>#</a></div><div class='texpara'><div id='move.ctor-4.sentence-1' class='sentence'>Let <span class='texttt'>VT</span> be <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#move.ctor-4.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13646'>#</a></div><div class='texpara'><div id='move.ctor-5.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='move.ctor-5.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-5.1'>(5.1)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is not the same type as <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function</span>, and</li><li id='move.ctor-5.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-5.2'>(5.2)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is not a specialization of <span class='texttt'>in_<span class='shy'></span>place_<span class='shy'></span>type_<span class='shy'></span>t</span>, and</li><li id='move.ctor-5.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-5.3'>(5.3)</a></div><span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#move.ctor-5.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='move.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13657'>#</a></div><div class='texpara'><div id='move.ctor-6.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT, F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#move.ctor-6.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13661'>#</a></div><div class='texpara'><div id='move.ctor-7.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17Destructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17Destructible</i></a> requirements, and
if <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17MoveConstructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17MoveConstructible</i></a> requirements<a class='hidden_link' href='#move.ctor-7.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13667'>#</a></div><div class='texpara'><div id='move.ctor-8.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has no target object if any of the following hold:
<ul class='itemize'><li id='move.ctor-8.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-8.1'>(8.1)</a></div><span class='texttt'>f</span> is a null function pointer value, or</li><li id='move.ctor-8.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-8.2'>(8.2)</a></div><span class='texttt'>f</span> is a null member pointer value, or</li><li id='move.ctor-8.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-8.3'>(8.3)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is a specialization of
the <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function</span> class template,
and <span class='texttt'>f</span> has no target object<a class='hidden_link' href='#move.ctor-8.sentence-1'>.</a></li></ul></div> <div id='move.ctor-8.sentence-2' class='sentence'>
Otherwise, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object of type <span class='texttt'>VT</span>
direct-non-list-initialized with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#move.ctor-8.sentence-2'>.</a></div></div></div></div><div class='para' id='move.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13683'>#</a></div><div class='texpara'><div id='move.ctor-9.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the target object<a class='hidden_link' href='#move.ctor-9.sentence-1'>.</a></div> <div id='move.ctor-9.sentence-2' class='sentence'>May throw <span class='texttt'>bad_<span class='shy'></span>alloc</span> unless <span class='texttt'>VT</span> is
a function pointer or a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span><a class='hidden_link' href='#move.ctor-9.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_only_function,constructor___'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> move_only_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='move.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13697'>#</a></div><div class='texpara'><div id='move.ctor-10.sentence-1' class='sentence'>Let <span class='texttt'>VT</span> be <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#move.ctor-10.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13700'>#</a></div><div class='texpara'><div id='move.ctor-11.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='move.ctor-11.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-11.1'>(11.1)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='move.ctor-11.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-11.2'>(11.2)</a></div><span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#move.ctor-11.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='move.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13709'>#</a></div><div class='texpara'><div id='move.ctor-12.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>VT</span> is the same type as <span class='texttt'>T</span><a class='hidden_link' href='#move.ctor-12.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13713'>#</a></div><div class='texpara'><div id='move.ctor-13.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17Destructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17Destructible</i></a> requirements, and
if <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17MoveConstructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17MoveConstructible</i></a> requirements<a class='hidden_link' href='#move.ctor-13.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13719'>#</a></div><div class='texpara'><div id='move.ctor-14.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object of type <span class='texttt'>VT</span>
direct-non-list-initialized with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span>&#x200b;<span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#move.ctor-14.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13724'>#</a></div><div class='texpara'><div id='move.ctor-15.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the target object<a class='hidden_link' href='#move.ctor-15.sentence-1'>.</a></div> <div id='move.ctor-15.sentence-2' class='sentence'>May throw <span class='texttt'>bad_<span class='shy'></span>alloc</span> unless <span class='texttt'>VT</span> is
a function pointer or a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span><a class='hidden_link' href='#move.ctor-15.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_only_function,constructor____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> move_only_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> ilist, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='move.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13738'>#</a></div><div class='texpara'><div id='move.ctor-16.sentence-1' class='sentence'>Let <span class='texttt'>VT</span> be <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#move.ctor-16.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13741'>#</a></div><div class='texpara'><div id='move.ctor-17.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='move.ctor-17.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-17.1'>(17.1)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is
<span class='texttt'><span class='literal'>true</span></span>, and</li><li id='move.ctor-17.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#move.ctor-17.2'>(17.2)</a></div><span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#move.ctor-17.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='move.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13751'>#</a></div><div class='texpara'><div id='move.ctor-18.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>VT</span> is the same type as <span class='texttt'>T</span><a class='hidden_link' href='#move.ctor-18.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13755'>#</a></div><div class='texpara'><div id='move.ctor-19.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17Destructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17Destructible</i></a> requirements, and
if <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17MoveConstructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17MoveConstructible</i></a> requirements<a class='hidden_link' href='#move.ctor-19.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13761'>#</a></div><div class='texpara'><div id='move.ctor-20.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object of type <span class='texttt'>VT</span>
direct-non-list-initialized with
<span class='texttt'>ilist, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#move.ctor-20.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13767'>#</a></div><div class='texpara'><div id='move.ctor-21.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the target object<a class='hidden_link' href='#move.ctor-21.sentence-1'>.</a></div> <div id='move.ctor-21.sentence-2' class='sentence'>May throw <span class='texttt'>bad_<span class='shy'></span>alloc</span> unless <span class='texttt'>VT</span> is
a function pointer or a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span><a class='hidden_link' href='#move.ctor-21.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,operator='><div id='lib:operator=,move_only_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,move_only_function'>ðŸ”—</a></div><code class='itemdeclcode'>move_only_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='move.ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13780'>#</a></div><div class='texpara'><div id='move.ctor-22.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='move.ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13784'>#</a></div><div class='texpara'><div id='move.ctor-23.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#move.ctor-23.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,operator=_'><div id='lib:operator=,move_only_function_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,move_only_function_'>ðŸ”—</a></div><code class='itemdeclcode'>move_only_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='move.ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13795'>#</a></div><div class='texpara'><div id='move.ctor-24.sentence-1' class='sentence'><i >Effects</i>: Destroys the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>, if any<a class='hidden_link' href='#move.ctor-24.sentence-1'>.</a></div></div></div></div><div class='para' id='move.ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13799'>#</a></div><div class='texpara'><div id='move.ctor-25.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#move.ctor-25.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,operator=__'><div id='lib:operator=,move_only_function__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,move_only_function__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> move_only_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='move.ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13810'>#</a></div><div class='texpara'><div id='move.ctor-26.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>move_<span class='shy'></span>only_<span class='shy'></span>function<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='move.ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13814'>#</a></div><div class='texpara'><div id='move.ctor-27.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#move.ctor-27.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_only_function,destructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='operator'>~</span>move_only_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='move.ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#move.ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13825'>#</a></div><div class='texpara'><div id='move.ctor-28.sentence-1' class='sentence'><i >Effects</i>: Destroys the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>, if any<a class='hidden_link' href='#move.ctor-28.sentence-1'>.</a></div></div></div></div></div><div id='move.inv' class='section'><h4 ><a class='secnum' href='#move.inv' style='min-width:110pt'>22.10.17.4.4</a> Invocation <a class='abbr_ref' href='func.wrap.move.inv'>[func.wrap.move.inv]</a></h4><div class='texpara'><div id='lib:move_only_function,operator_bool'><div id='lib:operator_bool,move_only_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator_bool,move_only_function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='move.inv-1'><div class='marginalizedparent'><a class='marginalized' href='#move.inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13838'>#</a></div><div class='texpara'><div id='move.inv-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object, otherwise <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#move.inv-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,operator()'><div id='lib:operator(),move_only_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator(),move_only_function'>ðŸ”—</a></div><code class='itemdeclcode'>R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='mathit'>cv</span> <i >ref</i> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='move.inv-2'><div class='marginalizedparent'><a class='marginalized' href='#move.inv-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13849'>#</a></div><div class='texpara'><div id='move.inv-2.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object<a class='hidden_link' href='#move.inv-2.sentence-1'>.</a></div></div></div></div><div class='para' id='move.inv-3'><div class='marginalizedparent'><a class='marginalized' href='#move.inv-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13853'>#</a></div><div class='texpara'><div id='move.inv-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> <i >INVOKE</i><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>F <i >inv-quals</i><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>ArgTypes<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span>
where <span class='texttt'>f</span> is an lvalue designating the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and
<span class='texttt'>F</span> is the type of <span class='texttt'>f</span><a class='hidden_link' href='#move.inv-3.sentence-1'>.</a></div></div></div></div></div><div id='move.util' class='section'><h4 ><a class='secnum' href='#move.util' style='min-width:110pt'>22.10.17.4.5</a> Utility <a class='abbr_ref' href='func.wrap.move.util'>[func.wrap.move.util]</a></h4><div class='texpara'><div id='lib:move_only_function,swap'><div id='lib:swap,move_only_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,move_only_function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span> other<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='move.util-1'><div class='marginalizedparent'><a class='marginalized' href='#move.util-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13871'>#</a></div><div class='texpara'><div id='move.util-1.sentence-1' class='sentence'><i >Effects</i>: Exchanges the target objects of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and <span class='texttt'>other</span><a class='hidden_link' href='#move.util-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,swap_'><div id='lib:swap,move_only_function_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,move_only_function_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>friend</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>move_only_function<span class='operator'>&amp;</span> f1, move_only_function<span class='operator'>&amp;</span> f2<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='move.util-2'><div class='marginalizedparent'><a class='marginalized' href='#move.util-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13882'>#</a></div><div class='texpara'><div id='move.util-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>f1<span class='operator'>.</span>swap<span class='parenthesis'>(</span>f2<span class='parenthesis'>)</span></span><a class='hidden_link' href='#move.util-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:move_only_function,operator=='><div id='lib:operator==,move_only_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,move_only_function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> move_only_function<span class='operator'>&amp;</span> f, nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='move.util-3'><div class='marginalizedparent'><a class='marginalized' href='#move.util-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13893'>#</a></div><div class='texpara'><div id='move.util-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'>f</span> has no target object, otherwise <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#move.util-3.sentence-1'>.</a></div></div></div></div></div></div><div id='copy' class='section'><h4 ><a class='secnum' href='#copy' style='min-width:95pt'>22.10.17.5</a> Copyable wrapper <a class='abbr_ref' href='func.wrap.copy'>[func.wrap.copy]</a></h4><div id='copy.general' class='section'><h4 ><a class='secnum' href='#copy.general' style='min-width:110pt'>22.10.17.5.1</a> General <a class='abbr_ref' href='func.wrap.copy.general'>[func.wrap.copy.general]</a></h4><div class='para' id='copy.general-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13902'>#</a></div><div class='texpara'><div id='copy.general-1.sentence-1' class='sentence'>The header provides partial specializations of <span class='texttt'>copyable_<span class='shy'></span>function</span>
for each combination of the possible replacements
of the placeholders <span class='mathit'>cv</span>, <i >ref</i>, and <i >noex</i> where
<ul class='itemize'><li id='copy.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.general-1.1'>(1.1)</a></div><span class='mathit'>cv</span> is either const or empty,</li><li id='copy.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.general-1.2'>(1.2)</a></div><i >ref</i> is either <span class='texttt'><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or empty, and</li><li id='copy.general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.general-1.3'>(1.3)</a></div><i >noex</i> is either <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#copy.general-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='copy.general-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13915'>#</a></div><div class='texpara'><div id='copy.general-2.sentence-1' class='sentence'>For each of the possible combinations of the placeholders mentioned above,
there is a placeholder <i >inv-quals</i> defined as follows:
<ul class='itemize'><li id='copy.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.general-2.1'>(2.1)</a></div>If <i >ref</i> is empty, let <i >inv-quals</i> be <span class='mathit'>cv</span><span class='texttt'><span class='operator'>&amp;</span></span>,</li><li id='copy.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.general-2.2'>(2.2)</a></div>otherwise, let <i >inv-quals</i> be <span class='mathit'>cv</span> <i >ref</i><a class='hidden_link' href='#copy.general-2.sentence-1'>.</a></li></ul></div></div></div></div><div id='copy.class' class='section'><h4 ><a class='secnum' href='#copy.class' style='min-width:110pt'>22.10.17.5.2</a> Class template <span class='texttt'>copyable_<span class='shy'></span>function</span> <a class='abbr_ref' href='func.wrap.copy.class'>[func.wrap.copy.class]</a></h4><div class='texpara'><span id='lib:copyable_function'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> copyable_function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='mathit'>cv</span> <i >ref</i> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> result_type <span class='operator'>=</span> R;

    <span class='comment'>// <a href='#copy.ctor' title='22.10.17.5.3&emsp;Constructors, assignments, and destructors'>[func.<span class='shy'></span>wrap.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>, constructors, assignments, and destructors</span>
    copyable_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    copyable_function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    copyable_function<span class='parenthesis'>(</span><span class='keyword'>const</span> copyable_function<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    copyable_function<span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> copyable_function<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> copyable_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> copyable_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> copyable_function<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='operator'>~</span>copyable_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#copy.inv' title='22.10.17.5.4&emsp;Invocation'>[func.<span class='shy'></span>wrap.<span class='shy'></span>copy.<span class='shy'></span>inv]</a>, invocation</span>
    <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='mathit'>cv</span> <i >ref</i> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#copy.util' title='22.10.17.5.5&emsp;Utility'>[func.<span class='shy'></span>wrap.<span class='shy'></span>copy.<span class='shy'></span>util]</a>, utility</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>friend</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span>, copyable_function<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> copyable_function<span class='operator'>&amp;</span>, nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> VT<span class='anglebracket'>&gt;</span>
      <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-callable-from</i> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;       <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='copy.class-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13969'>#</a></div><div class='texpara'><div id='copy.class-1.sentence-1' class='sentence'>The <span class='texttt'>copyable_<span class='shy'></span>function</span> class template provides polymorphic wrappers
that generalize the notion of a callable object (<a href='func.def' title='22.10.3&emsp;Definitions'>[func.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#copy.class-1.sentence-1'>.</a></div> <div id='copy.class-1.sentence-2' class='sentence'>These wrappers can store, copy, move, and call arbitrary callable objects,
given a call signature<a class='hidden_link' href='#copy.class-1.sentence-2'>.</a></div></div></div><div class='para' id='copy.class-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.class-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13975'>#</a></div><div class='texpara'><div id='copy.class-2.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should avoid the use of dynamically allocated memory
for a small contained value<a class='hidden_link' href='#copy.class-2.sentence-1'>.</a></div> <div id='copy.class-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.class-note-1'>1</a></i>:&ensp;<div id='copy.class-2.sentence-2' class='sentence'>Such small-object optimization can only be applied to a type <span class='texttt'>T</span>
for which <span class='texttt'>is_<span class='shy'></span>nothrow_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#copy.class-2.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div id='copy.ctor' class='section'><h4 ><a class='secnum' href='#copy.ctor' style='min-width:110pt'>22.10.17.5.3</a> Constructors, assignments, and destructors <a class='abbr_ref' href='func.wrap.copy.ctor'>[func.wrap.copy.ctor]</a></h4><div class='texpara'><div id=':copyable_function::is-callable-from'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#:copyable_function::is-callable-from'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> VT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='texttt'><i >is-callable-from</i></span> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
</code></div></div></div><div class='para' id='copy.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L13993'>#</a></div><div class='texpara'><div id='copy.ctor-1.sentence-1' class='sentence'>If <i >noex</i> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is equal to:
<span class='codeblock'>is_nothrow_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <span class='mathit'>cv</span> <i >ref</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_nothrow_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <i >inv-quals</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
</span></div> <div id='copy.ctor-1.sentence-2' class='sentence'>
Otherwise, <span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is equal to:
<span class='codeblock'>is_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <span class='mathit'>cv</span> <i >ref</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
is_invocable_r_v<span class='anglebracket'>&lt;</span>R, VT <i >inv-quals</i>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
</span></div></div></div></div><div class='texpara'><div id='lib:copyable_function,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function,constructor'>ðŸ”—</a></div><code class='itemdeclcode'>copyable_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
copyable_function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='copy.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14014'>#</a></div><div class='texpara'><div id='copy.ctor-2.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has no target object<a class='hidden_link' href='#copy.ctor-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'>copyable_function<span class='parenthesis'>(</span><span class='keyword'>const</span> copyable_function<span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='copy.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14025'>#</a></div><div class='texpara'><div id='copy.ctor-3.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has no target object if <span class='texttt'>f</span> had no target object<a class='hidden_link' href='#copy.ctor-3.sentence-1'>.</a></div> <div id='copy.ctor-3.sentence-2' class='sentence'>Otherwise, the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
is a copy of the target object of <span class='texttt'>f</span><a class='hidden_link' href='#copy.ctor-3.sentence-2'>.</a></div></div></div></div><div class='para' id='copy.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14031'>#</a></div><div class='texpara'><div id='copy.ctor-4.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the target object<a class='hidden_link' href='#copy.ctor-4.sentence-1'>.</a></div> <div id='copy.ctor-4.sentence-2' class='sentence'>May throw <span class='texttt'>bad_<span class='shy'></span>alloc</span><a class='hidden_link' href='#copy.ctor-4.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function,constructor__'>ðŸ”—</a></div><code class='itemdeclcode'>copyable_function<span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='copy.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14043'>#</a></div><div class='texpara'><div id='copy.ctor-5.sentence-1' class='sentence'><i >Postconditions</i>: The target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> is
the target object <span class='texttt'>f</span> had before construction, and
<span class='texttt'>f</span> is in a valid state with an unspecified value<a class='hidden_link' href='#copy.ctor-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function,constructor___'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> copyable_function<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='copy.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14056'>#</a></div><div class='texpara'><div id='copy.ctor-6.sentence-1' class='sentence'>Let <span class='texttt'>VT</span> be <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#copy.ctor-6.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14059'>#</a></div><div class='texpara'><div id='copy.ctor-7.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='copy.ctor-7.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-7.1'>(7.1)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is not the same type as <span class='texttt'>copyable_<span class='shy'></span>function</span>, and</li><li id='copy.ctor-7.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-7.2'>(7.2)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is not a specialization of <span class='texttt'>in_<span class='shy'></span>place_<span class='shy'></span>type_<span class='shy'></span>t</span>, and</li><li id='copy.ctor-7.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-7.3'>(7.3)</a></div><span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#copy.ctor-7.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='copy.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14070'>#</a></div><div class='texpara'><div id='copy.ctor-8.sentence-1' class='sentence'><i >Mandates</i>: <ul class='itemize'><li id='copy.ctor-8.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-8.1'>(8.1)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT, F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='copy.ctor-8.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-8.2'>(8.2)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#copy.ctor-8.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='copy.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14079'>#</a></div><div class='texpara'><div id='copy.ctor-9.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17Destructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17Destructible</i></a> and
<a href='utility.arg.requirements#:Cpp17CopyConstructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17CopyConstructible</i></a> requirements<a class='hidden_link' href='#copy.ctor-9.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14084'>#</a></div><div class='texpara'><div id='copy.ctor-10.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has no target object if any of the following hold:
<ul class='itemize'><li id='copy.ctor-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-10.1'>(10.1)</a></div><span class='texttt'>f</span> is a null function pointer value, or</li><li id='copy.ctor-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-10.2'>(10.2)</a></div><span class='texttt'>f</span> is a null member pointer value, or</li><li id='copy.ctor-10.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-10.3'>(10.3)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is a specialization of
the <span class='texttt'>copyable_<span class='shy'></span>function</span> class template,
and <span class='texttt'>f</span> has no target object<a class='hidden_link' href='#copy.ctor-10.sentence-1'>.</a></li></ul></div> <div id='copy.ctor-10.sentence-2' class='sentence'>
Otherwise, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object of type <span class='texttt'>VT</span>
direct-non-list-initialized with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#copy.ctor-10.sentence-2'>.</a></div></div></div></div><div class='para' id='copy.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14100'>#</a></div><div class='texpara'><div id='copy.ctor-11.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the target object<a class='hidden_link' href='#copy.ctor-11.sentence-1'>.</a></div> <div id='copy.ctor-11.sentence-2' class='sentence'>May throw <span class='texttt'>bad_<span class='shy'></span>alloc</span> unless <span class='texttt'>VT</span> is
a function pointer or a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span><a class='hidden_link' href='#copy.ctor-11.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function,constructor____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> copyable_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='copy.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14114'>#</a></div><div class='texpara'><div id='copy.ctor-12.sentence-1' class='sentence'>Let <span class='texttt'>VT</span> be <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#copy.ctor-12.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14117'>#</a></div><div class='texpara'><div id='copy.ctor-13.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='copy.ctor-13.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-13.1'>(13.1)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='copy.ctor-13.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-13.2'>(13.2)</a></div><span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#copy.ctor-13.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='copy.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14126'>#</a></div><div class='texpara'><div id='copy.ctor-14.sentence-1' class='sentence'><i >Mandates</i>: <ul class='itemize'><li id='copy.ctor-14.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-14.1'>(14.1)</a></div><span class='texttt'>VT</span> is the same type as <span class='texttt'>T</span>, and</li><li id='copy.ctor-14.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-14.2'>(14.2)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#copy.ctor-14.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='copy.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14135'>#</a></div><div class='texpara'><div id='copy.ctor-15.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17Destructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17Destructible</i></a> and
<a href='utility.arg.requirements#:Cpp17CopyConstructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17CopyConstructible</i></a> requirements<a class='hidden_link' href='#copy.ctor-15.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14140'>#</a></div><div class='texpara'><div id='copy.ctor-16.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object of type <span class='texttt'>VT</span>
direct-non-list-initialized with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span>&#x200b;<span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#copy.ctor-16.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14145'>#</a></div><div class='texpara'><div id='copy.ctor-17.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the target object<a class='hidden_link' href='#copy.ctor-17.sentence-1'>.</a></div> <div id='copy.ctor-17.sentence-2' class='sentence'>May throw <span class='texttt'>bad_<span class='shy'></span>alloc</span> unless <span class='texttt'>VT</span> is
a pointer or a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span><a class='hidden_link' href='#copy.ctor-17.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,constructor_____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function,constructor_____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> copyable_function<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> ilist, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='copy.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14159'>#</a></div><div class='texpara'><div id='copy.ctor-18.sentence-1' class='sentence'>Let <span class='texttt'>VT</span> be <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#copy.ctor-18.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14162'>#</a></div><div class='texpara'><div id='copy.ctor-19.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='copy.ctor-19.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-19.1'>(19.1)</a></div><span class='texttt'>is_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT, initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is
<span class='texttt'><span class='literal'>true</span></span>, and</li><li id='copy.ctor-19.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-19.2'>(19.2)</a></div><span class='texttt'><span class='texttt'><i >is-callable-from</i></span><span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#copy.ctor-19.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='copy.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14172'>#</a></div><div class='texpara'><div id='copy.ctor-20.sentence-1' class='sentence'><i >Mandates</i>: <ul class='itemize'><li id='copy.ctor-20.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-20.1'>(20.1)</a></div><span class='texttt'>VT</span> is the same type as <span class='texttt'>T</span>, and</li><li id='copy.ctor-20.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#copy.ctor-20.2'>(20.2)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>VT<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#copy.ctor-20.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='copy.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14181'>#</a></div><div class='texpara'><div id='copy.ctor-21.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>VT</span> meets the <a href='utility.arg.requirements#:Cpp17Destructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17Destructible</i></a> and
<a href='utility.arg.requirements#:Cpp17CopyConstructible' title='16.4.4.2&emsp;Template argument requirements&emsp;[utility.arg.requirements]'><i >Cpp17CopyConstructible</i></a> requirements<a class='hidden_link' href='#copy.ctor-21.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14186'>#</a></div><div class='texpara'><div id='copy.ctor-22.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object of type <span class='texttt'>VT</span>
direct-non-list-initialized with
<span class='texttt'>ilist, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#copy.ctor-22.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14192'>#</a></div><div class='texpara'><div id='copy.ctor-23.sentence-1' class='sentence'><i >Throws</i>: Any exception thrown by the initialization of the target object<a class='hidden_link' href='#copy.ctor-23.sentence-1'>.</a></div> <div id='copy.ctor-23.sentence-2' class='sentence'>May throw <span class='texttt'>bad_<span class='shy'></span>alloc</span> unless <span class='texttt'>VT</span> is
a pointer or a specialization of <span class='texttt'>reference_<span class='shy'></span>wrapper</span><a class='hidden_link' href='#copy.ctor-23.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,operator='><div id='lib:operator=,copyable_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,copyable_function'>ðŸ”—</a></div><code class='itemdeclcode'>copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> copyable_function<span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='copy.ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14205'>#</a></div><div class='texpara'><div id='copy.ctor-24.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>copyable_<span class='shy'></span>function<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='copy.ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14209'>#</a></div><div class='texpara'><div id='copy.ctor-25.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#copy.ctor-25.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,operator=_'><div id='lib:operator=,copyable_function_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,copyable_function_'>ðŸ”—</a></div><code class='itemdeclcode'>copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='copy.ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14220'>#</a></div><div class='texpara'><div id='copy.ctor-26.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>copyable_<span class='shy'></span>function<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='copy.ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14224'>#</a></div><div class='texpara'><div id='copy.ctor-27.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#copy.ctor-27.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,operator=__'><div id='lib:operator=,copyable_function__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,copyable_function__'>ðŸ”—</a></div><code class='itemdeclcode'>copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='copy.ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14235'>#</a></div><div class='texpara'><div id='copy.ctor-28.sentence-1' class='sentence'><i >Effects</i>: Destroys the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>, if any<a class='hidden_link' href='#copy.ctor-28.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14239'>#</a></div><div class='texpara'><div id='copy.ctor-29.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#copy.ctor-29.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,operator=___'><div id='lib:operator=,copyable_function___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,copyable_function___'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> copyable_function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='copy.ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14250'>#</a></div><div class='texpara'><div id='copy.ctor-30.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>copyable_<span class='shy'></span>function<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='para' id='copy.ctor-31'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14254'>#</a></div><div class='texpara'><div id='copy.ctor-31.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#copy.ctor-31.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:copyable_function,destructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='operator'>~</span>copyable_function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='copy.ctor-32'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14265'>#</a></div><div class='texpara'><div id='copy.ctor-32.sentence-1' class='sentence'><i >Effects</i>: Destroys the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>, if any<a class='hidden_link' href='#copy.ctor-32.sentence-1'>.</a></div></div></div></div></div><div id='copy.inv' class='section'><h4 ><a class='secnum' href='#copy.inv' style='min-width:110pt'>22.10.17.5.4</a> Invocation <a class='abbr_ref' href='func.wrap.copy.inv'>[func.wrap.copy.inv]</a></h4><div class='texpara'><div id='lib:copyable_function,operator_bool'><div id='lib:operator_bool,copyable_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator_bool,copyable_function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='copy.inv-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14278'>#</a></div><div class='texpara'><div id='copy.inv-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object, otherwise <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#copy.inv-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,operator()'><div id='lib:operator(),copyable_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator(),copyable_function'>ðŸ”—</a></div><code class='itemdeclcode'>R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='mathit'>cv</span> <i >ref</i> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='copy.inv-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.inv-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14289'>#</a></div><div class='texpara'><div id='copy.inv-2.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target object<a class='hidden_link' href='#copy.inv-2.sentence-1'>.</a></div></div></div></div><div class='para' id='copy.inv-3'><div class='marginalizedparent'><a class='marginalized' href='#copy.inv-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14293'>#</a></div><div class='texpara'><div id='copy.inv-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> <i >INVOKE</i><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>F <i >inv-quals</i><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>ArgTypes<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
</span>
where <span class='texttt'>f</span> is an lvalue designating the target object of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and
<span class='texttt'>F</span> is the type of <span class='texttt'>f</span><a class='hidden_link' href='#copy.inv-3.sentence-1'>.</a></div></div></div></div></div><div id='copy.util' class='section'><h4 ><a class='secnum' href='#copy.util' style='min-width:110pt'>22.10.17.5.5</a> Utility <a class='abbr_ref' href='func.wrap.copy.util'>[func.wrap.copy.util]</a></h4><div class='texpara'><div id='lib:copyable_function,swap'><div id='lib:swap,copyable_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,copyable_function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span> other<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='copy.util-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.util-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14311'>#</a></div><div class='texpara'><div id='copy.util-1.sentence-1' class='sentence'><i >Effects</i>: Exchanges the target objects of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and <span class='texttt'>other</span><a class='hidden_link' href='#copy.util-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,swap_'><div id='lib:swap,copyable_function_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,copyable_function_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>friend</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>copyable_function<span class='operator'>&amp;</span> f1, copyable_function<span class='operator'>&amp;</span> f2<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='copy.util-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.util-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14322'>#</a></div><div class='texpara'><div id='copy.util-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>f1<span class='operator'>.</span>swap<span class='parenthesis'>(</span>f2<span class='parenthesis'>)</span></span><a class='hidden_link' href='#copy.util-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:copyable_function,operator=='><div id='lib:operator==,copyable_function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,copyable_function'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> copyable_function<span class='operator'>&amp;</span> f, nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='copy.util-3'><div class='marginalizedparent'><a class='marginalized' href='#copy.util-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14333'>#</a></div><div class='texpara'><div id='copy.util-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'>f</span> has no target object, otherwise <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#copy.util-3.sentence-1'>.</a></div></div></div></div></div></div><div id='ref' class='section'><h4 ><a class='secnum' href='#ref' style='min-width:95pt'>22.10.17.6</a> Non-owning wrapper <a class='abbr_ref' href='func.wrap.ref'>[func.wrap.ref]</a></h4><div id='ref.general' class='section'><h4 ><a class='secnum' href='#ref.general' style='min-width:110pt'>22.10.17.6.1</a> General <a class='abbr_ref' href='func.wrap.ref.general'>[func.wrap.ref.general]</a></h4><div class='para' id='ref.general-1'><div class='marginalizedparent'><a class='marginalized' href='#ref.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14342'>#</a></div><div class='texpara'><div id='ref.general-1.sentence-1' class='sentence'>The header provides partial specializations of <span class='texttt'>function_<span class='shy'></span>ref</span>
for each combination of the possible replacements of
the placeholders <span class='mathit'>cv</span> and <i >noex</i> where:
<ul class='itemize'><li id='ref.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref.general-1.1'>(1.1)</a></div><span class='mathit'>cv</span> is either const or empty, and</li><li id='ref.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ref.general-1.2'>(1.2)</a></div><i >noex</i> is either <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#ref.general-1.sentence-1'>.</a></li></ul></div></div></div></div><div id='ref.class' class='section'><h4 ><a class='secnum' href='#ref.class' style='min-width:110pt'>22.10.17.6.2</a> Class template <span class='texttt'>function_<span class='shy'></span>ref</span> <a class='abbr_ref' href='func.wrap.ref.class'>[func.wrap.ref.class]</a></h4><div class='texpara'><span id='lib:function_ref'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function_ref'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> function_ref<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='mathit'>cv</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='comment'>// <a href='#ref.ctor' title='22.10.17.6.3&emsp;Constructors and assignment operators'>[func.<span class='shy'></span>wrap.<span class='shy'></span>ref.<span class='shy'></span>ctor]</a>, constructors and assignment operators</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function_ref<span class='parenthesis'>(</span>F<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span>, U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span>, <span class='mathit'>cv</span> T<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span><span class='keyword'>const</span> function_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
    <span class='keyword'>constexpr</span> function_ref<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> function_ref<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='comment'>// <a href='#ref.inv' title='22.10.17.6.4&emsp;Invocation'>[func.<span class='shy'></span>wrap.<span class='shy'></span>ref.<span class='shy'></span>inv]</a>, invocation</span>
    R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-invocable-using</i> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;     <span class='comment'>// <i >exposition only</i></span>

    R <span class='parenthesis'>(</span><span class='operator'>*</span><i >thunk-ptr</i><span class='parenthesis'>)</span><span class='parenthesis'>(</span><i >BoundEntityType</i>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span>;  <span class='comment'>// <i >exposition only</i></span>
    <i >BoundEntityType</i> <i >bound-entity</i>;                               <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;

  <span class='comment'>// <a href='#ref.deduct' title='22.10.17.6.5&emsp;Deduction guides'>[func.<span class='shy'></span>wrap.<span class='shy'></span>ref.<span class='shy'></span>deduct]</a>, deduction guides</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span>
    function_ref<span class='parenthesis'>(</span>F<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function_ref<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f<span class='anglebracket'>&gt;</span>
    function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function_ref<span class='anglebracket'>&lt;</span><i ><span class='texttt'>see below</span></i><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span>, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function_ref<span class='anglebracket'>&lt;</span><i ><span class='texttt'>see below</span></i><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='ref.class-1'><div class='marginalizedparent'><a class='marginalized' href='#ref.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14391'>#</a></div><div class='texpara'><div id='ref.class-1.sentence-1' class='sentence'>An object of class
<span class='texttt'>function_<span class='shy'></span>ref<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='mathit'>cv</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span>
stores a pointer to function <span class='texttt'><i >thunk-ptr</i></span> and
an object <span class='texttt'><i >bound-entity</i></span><a class='hidden_link' href='#ref.class-1.sentence-1'>.</a></div> <div id='ref.class-1.sentence-2' class='sentence'><span class='texttt'><i >bound-entity</i></span> has
an unspecified trivially copyable type <span class='texttt'><i >BoundEntityType</i></span>, that
models <a href='concepts.object#concept:copyable' title='18.6&emsp;Object concepts&emsp;[concepts.object]'><span id='conceptref:copyable'><span class='texttt'>copyable</span></span></a> and
is capable of storing a pointer to object value or a pointer to function value<a class='hidden_link' href='#ref.class-1.sentence-2'>.</a></div> <div id='ref.class-1.sentence-3' class='sentence'>The type of <span class='texttt'><i >thunk-ptr</i></span> is
<span class='texttt'>R<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='texttt'><i >BoundEntityType</i></span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.class-1.sentence-3'>.</a></div></div></div><div class='para' id='ref.class-2'><div class='marginalizedparent'><a class='marginalized' href='#ref.class-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14403'>#</a></div><div class='texpara'><div id='ref.class-2.sentence-1' class='sentence'>Each specialization of <span class='texttt'>function_<span class='shy'></span>ref</span> is
a trivially copyable type (<a href='basic.types.general#term.trivially.copyable.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)
that models <a href='concepts.object#concept:copyable' title='18.6&emsp;Object concepts&emsp;[concepts.object]'><span id='conceptref:copyable_'><span class='texttt'>copyable</span></span></a><a class='hidden_link' href='#ref.class-2.sentence-1'>.</a></div></div></div><div class='para' id='ref.class-3'><div class='marginalizedparent'><a class='marginalized' href='#ref.class-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14408'>#</a></div><div class='texpara'><div id='ref.class-3.sentence-1' class='sentence'>Within <a href='#ref' title='22.10.17.6&emsp;Non-owning wrapper'>[func.<span class='shy'></span>wrap.<span class='shy'></span>ref]</a>,
<span class='texttt'><i >call-args</i></span> is an argument pack with elements such that
<span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><i >call-args</i><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> denote
<span class='texttt'>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> respectively<a class='hidden_link' href='#ref.class-3.sentence-1'>.</a></div></div></div></div><div id='ref.ctor' class='section'><h4 ><a class='secnum' href='#ref.ctor' style='min-width:110pt'>22.10.17.6.3</a> Constructors and assignment operators <a class='abbr_ref' href='func.wrap.ref.ctor'>[func.wrap.ref.ctor]</a></h4><div class='texpara'><div id=':function_ref::is-invocable-using'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#:function_ref::is-invocable-using'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='texttt'><i >is-invocable-using</i></span> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
</code></div></div></div><div class='para' id='ref.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14423'>#</a></div><div class='texpara'><div id='ref.ctor-1.sentence-1' class='sentence'>If <i >noex</i> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'><span class='texttt'><i >is-invocable-using</i></span><span class='anglebracket'>&lt;</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is equal to:
<span class='codeblock'>is_nothrow_invocable_r_v<span class='anglebracket'>&lt;</span>R, T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
</span></div> <div id='ref.ctor-1.sentence-2' class='sentence'>
Otherwise, <span class='texttt'><span class='texttt'><i >is-invocable-using</i></span><span class='anglebracket'>&lt;</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is equal to:
<span class='codeblock'>is_invocable_r_v<span class='anglebracket'>&lt;</span>R, T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>, ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
</span></div></div></div></div><div class='texpara'><div id='lib:function_ref,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function_ref,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function_ref<span class='parenthesis'>(</span>F<span class='operator'>*</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='ref.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14441'>#</a></div><div class='texpara'><div id='ref.ctor-2.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ref.ctor-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-2.1'>(2.1)</a></div><span class='texttt'>is_<span class='shy'></span>function_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and</li><li id='ref.ctor-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-2.2'>(2.2)</a></div><span class='texttt'><span class='texttt'><i >is-invocable-using</i></span><span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-2.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ref.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14448'>#</a></div><div class='texpara'><div id='ref.ctor-3.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>f</span> is not a null pointer<a class='hidden_link' href='#ref.ctor-3.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14452'>#</a></div><div class='texpara'><div id='ref.ctor-4.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'><i >bound-entity</i></span> with <span class='texttt'>f</span>, and
<span class='texttt'><i >thunk-ptr</i></span> with the address of a function <span class='texttt'><i >thunk</i></span>
such that
<span class='texttt'><i >thunk</i><span class='parenthesis'>(</span><span class='texttt'><i >bound-entity</i></span>, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is expression-equivalent (<a href='defns.expression.equivalent' title='3.21&emsp;expression-equivalent'>[defns.<span class='shy'></span>expression.<span class='shy'></span>equivalent]</a>) to
<span class='texttt'>invoke_<span class='shy'></span>r<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function_ref,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function_ref,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='ref.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14469'>#</a></div><div class='texpara'><div id='ref.ctor-5.sentence-1' class='sentence'>Let <span class='texttt'>T</span> be <span class='texttt'>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ref.ctor-5.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14472'>#</a></div><div class='texpara'><div id='ref.ctor-6.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ref.ctor-6.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-6.1'>(6.1)</a></div><span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is not the same type as <span class='texttt'>function_<span class='shy'></span>ref</span>,</li><li id='ref.ctor-6.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-6.2'>(6.2)</a></div><span class='texttt'>is_<span class='shy'></span>member_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='ref.ctor-6.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-6.3'>(6.3)</a></div><span class='texttt'><span class='texttt'><i >is-invocable-using</i></span><span class='anglebracket'>&lt;</span><span class='mathit'>cv</span> T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-6.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ref.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14480'>#</a></div><div class='texpara'><div id='ref.ctor-7.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'><i >bound-entity</i></span> with <span class='texttt'>addressof<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span>, and
<span class='texttt'><i >thunk-ptr</i></span> with the address of a function <span class='texttt'><i >thunk</i></span>
such that
<span class='texttt'><i >thunk</i><span class='parenthesis'>(</span><span class='texttt'><i >bound-entity</i></span>, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is expression-equivalent (<a href='defns.expression.equivalent' title='3.21&emsp;expression-equivalent'>[defns.<span class='shy'></span>expression.<span class='shy'></span>equivalent]</a>) to
<span class='texttt'>invoke_<span class='shy'></span>r<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='mathit'>cv</span> T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span>, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-7.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function_ref,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function_ref,constructor__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='ref.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14497'>#</a></div><div class='texpara'><div id='ref.ctor-8.sentence-1' class='sentence'>Let <span class='texttt'>F</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-8.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14500'>#</a></div><div class='texpara'><div id='ref.ctor-9.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >is-invocable-using</i></span><span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-9.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14504'>#</a></div><div class='texpara'><div id='ref.ctor-10.sentence-1' class='sentence'><i >Mandates</i>: If <span class='texttt'>is_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>member_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then <span class='texttt'>f <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-10.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14509'>#</a></div><div class='texpara'><div id='ref.ctor-11.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'><i >bound-entity</i></span> with a pointer to an unspecified object or
null pointer value, and
<span class='texttt'><i >thunk-ptr</i></span> with the address of a function <span class='texttt'><i >thunk</i></span>
such that
<span class='texttt'><i >thunk</i><span class='parenthesis'>(</span><span class='texttt'><i >bound-entity</i></span>, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is expression-equivalent (<a href='defns.expression.equivalent' title='3.21&emsp;expression-equivalent'>[defns.<span class='shy'></span>expression.<span class='shy'></span>equivalent]</a>) to
<span class='texttt'>invoke_<span class='shy'></span>r<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-11.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function_ref,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function_ref,constructor___'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span>, U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='ref.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14528'>#</a></div><div class='texpara'><div id='ref.ctor-12.sentence-1' class='sentence'>Let <span class='texttt'>T</span> be <span class='texttt'>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span> and
<span class='texttt'>F</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-12.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14532'>#</a></div><div class='texpara'><div id='ref.ctor-13.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ref.ctor-13.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-13.1'>(13.1)</a></div><span class='texttt'>is_<span class='shy'></span>rvalue_<span class='shy'></span>reference_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='ref.ctor-13.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-13.2'>(13.2)</a></div><span class='texttt'><span class='texttt'><i >is-invocable-using</i></span><span class='anglebracket'>&lt;</span>F, <span class='mathit'>cv</span> T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-13.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ref.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14539'>#</a></div><div class='texpara'><div id='ref.ctor-14.sentence-1' class='sentence'><i >Mandates</i>: If <span class='texttt'>is_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>member_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then <span class='texttt'>f <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-14.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14544'>#</a></div><div class='texpara'><div id='ref.ctor-15.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'><i >bound-entity</i></span> with <span class='texttt'>addressof<span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span></span>, and
<span class='texttt'><i >thunk-ptr</i></span> with the address of a function <span class='texttt'><i >thunk</i></span>
such that
<span class='texttt'><i >thunk</i><span class='parenthesis'>(</span><span class='texttt'><i >bound-entity</i></span>, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is expression-equivalent (<a href='defns.expression.equivalent' title='3.21&emsp;expression-equivalent'>[defns.<span class='shy'></span>expression.<span class='shy'></span>equivalent]</a>) to
<span class='texttt'>invoke_<span class='shy'></span>r<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f, <span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='mathit'>cv</span> T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span>, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-15.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function_ref,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:function_ref,constructor____'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span>, <span class='mathit'>cv</span> T<span class='operator'>*</span> obj<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='ref.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14562'>#</a></div><div class='texpara'><div id='ref.ctor-16.sentence-1' class='sentence'>Let <span class='texttt'>F</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-16.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14565'>#</a></div><div class='texpara'><div id='ref.ctor-17.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='texttt'><i >is-invocable-using</i></span><span class='anglebracket'>&lt;</span>F, <span class='mathit'>cv</span> T<span class='operator'>*</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-17.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14569'>#</a></div><div class='texpara'><div id='ref.ctor-18.sentence-1' class='sentence'><i >Mandates</i>: If <span class='texttt'>is_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span> is_<span class='shy'></span>member_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then <span class='texttt'>f <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.ctor-18.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14574'>#</a></div><div class='texpara'><div id='ref.ctor-19.sentence-1' class='sentence'><i >Preconditions</i>: If <span class='texttt'>is_<span class='shy'></span>member_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>obj</span> is not a null pointer<a class='hidden_link' href='#ref.ctor-19.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14579'>#</a></div><div class='texpara'><div id='ref.ctor-20.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'><i >bound-entity</i></span> with <span class='texttt'>obj</span>, and
<span class='texttt'><i >thunk-ptr</i></span> with the address of a function <span class='texttt'><i >thunk</i></span>
such that
<span class='texttt'><i >thunk</i><span class='parenthesis'>(</span><span class='texttt'><i >bound-entity</i></span>, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is expression-equivalent (<a href='defns.expression.equivalent' title='3.21&emsp;expression-equivalent'>[defns.<span class='shy'></span>expression.<span class='shy'></span>equivalent]</a>) to
<span class='texttt'>invoke_<span class='shy'></span>r<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f, obj, <i >call-args</i><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.ctor-20.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:function_ref,operator='><div id='lib:operator=,function_ref'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,function_ref'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> function_ref<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
</code></div></div></div></div><div class='para' id='ref.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#ref.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14596'>#</a></div><div class='texpara'><div id='ref.ctor-21.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ref.ctor-21.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-21.1'>(21.1)</a></div><span class='texttt'>T</span> is not the same type as <span class='texttt'>function_<span class='shy'></span>ref</span>,</li><li id='ref.ctor-21.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-21.2'>(21.2)</a></div><span class='texttt'>is_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='ref.ctor-21.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.ctor-21.3'>(21.3)</a></div><span class='texttt'>T</span> is not a specialization of <span class='texttt'>nontype_<span class='shy'></span>t</span><a class='hidden_link' href='#ref.ctor-21.sentence-1'>.</a></li></ul></div></div></div></div></div><div id='ref.inv' class='section'><h4 ><a class='secnum' href='#ref.inv' style='min-width:110pt'>22.10.17.6.4</a> Invocation <a class='abbr_ref' href='func.wrap.ref.inv'>[func.wrap.ref.inv]</a></h4><div class='texpara'><div id='lib:function_ref,operator()'><div id='lib:operator(),function_ref'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator(),function_ref'>ðŸ”—</a></div><code class='itemdeclcode'>R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i >noex</i><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ref.inv-1'><div class='marginalizedparent'><a class='marginalized' href='#ref.inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14613'>#</a></div><div class='texpara'><div id='ref.inv-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >thunk-ptr</i></span><span class='parenthesis'>(</span><span class='texttt'><i >bound-entity</i></span>, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>ArgTypes<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;</span></div></div></div></div></div><div id='ref.deduct' class='section'><h4 ><a class='secnum' href='#ref.deduct' style='min-width:110pt'>22.10.17.6.5</a> Deduction guides <a class='abbr_ref' href='func.wrap.ref.deduct'>[func.wrap.ref.deduct]</a></h4><div class='texpara'><div class='itemdecl' id='ref.deduct-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ref.deduct-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span>
  function_ref<span class='parenthesis'>(</span>F<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function_ref<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span>;
</code></div></div><div class='para' id='ref.deduct-1'><div class='marginalizedparent'><a class='marginalized' href='#ref.deduct-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14627'>#</a></div><div class='texpara'><div id='ref.deduct-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>function_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.deduct-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='ref.deduct-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#ref.deduct-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f<span class='anglebracket'>&gt;</span>
  function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function_ref<span class='anglebracket'>&lt;</span><i ><span class='texttt'>see below</span></i><span class='anglebracket'>&gt;</span>;
</code></div></div><div class='para' id='ref.deduct-2'><div class='marginalizedparent'><a class='marginalized' href='#ref.deduct-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14638'>#</a></div><div class='texpara'><div id='ref.deduct-2.sentence-1' class='sentence'>Let <span class='texttt'>F</span> be <span class='texttt'>remove_<span class='shy'></span>pointer_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ref.deduct-2.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.deduct-3'><div class='marginalizedparent'><a class='marginalized' href='#ref.deduct-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14641'>#</a></div><div class='texpara'><div id='ref.deduct-3.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>function_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ref.deduct-3.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.deduct-4'><div class='marginalizedparent'><a class='marginalized' href='#ref.deduct-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14645'>#</a></div><div class='texpara'><div id='ref.deduct-4.sentence-1' class='sentence'><i >Remarks</i>: The deduced type is <span class='texttt'>function_<span class='shy'></span>ref<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ref.deduct-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='ref.deduct-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#ref.deduct-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> f, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  function_ref<span class='parenthesis'>(</span>nontype_t<span class='anglebracket'>&lt;</span>f<span class='anglebracket'>&gt;</span>, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function_ref<span class='anglebracket'>&lt;</span><i ><span class='texttt'>see below</span></i><span class='anglebracket'>&gt;</span>;
</code></div></div><div class='para' id='ref.deduct-5'><div class='marginalizedparent'><a class='marginalized' href='#ref.deduct-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14656'>#</a></div><div class='texpara'><div id='ref.deduct-5.sentence-1' class='sentence'>Let <span class='texttt'>F</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ref.deduct-5.sentence-1'>.</a></div></div></div></div><div class='para' id='ref.deduct-6'><div class='marginalizedparent'><a class='marginalized' href='#ref.deduct-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14659'>#</a></div><div class='texpara'><div id='ref.deduct-6.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='ref.deduct-6.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.deduct-6.1'>(6.1)</a></div><span class='texttt'>F</span> is of the form
<span class='texttt'>R<span class='parenthesis'>(</span>G<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='mathit'>cv</span> <span class='operator'>&amp;</span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span></span> for a type <span class='texttt'>G</span>, or</li><li id='ref.deduct-6.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.deduct-6.2'>(6.2)</a></div><span class='texttt'>F</span> is of the form
<span class='texttt'>M G<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span> for a type <span class='texttt'>G</span> and an object type <span class='texttt'>M</span>,
in which case
let <span class='texttt'>R</span> be <span class='texttt'>invoke_<span class='shy'></span>result_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>F, T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span>,
<span class='texttt'>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> be an empty pack, and
<span class='texttt'>E</span> be <span class='texttt'><span class='literal'>false</span></span>, or</li><li id='ref.deduct-6.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#ref.deduct-6.3'>(6.3)</a></div><span class='texttt'>F</span> is of the form
<span class='texttt'>R<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>G, A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span></span> for a type <span class='texttt'>G</span><a class='hidden_link' href='#ref.deduct-6.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='ref.deduct-7'><div class='marginalizedparent'><a class='marginalized' href='#ref.deduct-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/utilities.tex#L14679'>#</a></div><div class='texpara'><div id='ref.deduct-7.sentence-1' class='sentence'><i >Remarks</i>: The deduced type is <span class='texttt'>function_<span class='shy'></span>ref<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ref.deduct-7.sentence-1'>.</a></div></div></div></div><div class='texpara'></div></div></div></div></body></html>