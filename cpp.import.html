<!DOCTYPE html><html lang='en'><head><title>[cpp.import]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>15</a> Preprocessing directives <a class='abbr_ref' href='./#cpp'>[cpp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>15.5</a> Header unit importation <a class='abbr_ref'>[cpp.import]</a></h2><div class='texpara'><a class='index' id=':header_unit,preprocessing'></a><a class='index' id=':preprocessing_directive,import'></a><a class='index' id=':macro,import'></a>
<div class='bnf' id='nt:pp-import'>
<a class='hidden_link' href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='nt:pp-import'><span id=':pp-import'>pp-import<span class='textnormal'>:</span></span></span></a><br/><span id=':export'><span class='texttt'><span class='keyword'>export</span></span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':import'><span class='texttt'><span class='keyword'>import</span></span></span> <a href='lex.header#nt:header-name' title='5.8&emsp;Header names&emsp;[lex.header]'><span id='ntref:header-name'><span class='textsf'><i >header-name</i></span></span></a> <a href='cpp.pre#nt:pp-tokens' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:pp-tokens'><span class='textsf'><i >pp-tokens</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span> <a href='cpp.pre#nt:new-line' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:new-line'><span class='textsf'><i >new-line</i></span></span></a><br/><span id=':export_'><span class='texttt'><span class='keyword'>export</span></span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':import_'><span class='texttt'><span class='keyword'>import</span></span></span> <a href='cpp.cond#nt:header-name-tokens' title='15.2&emsp;Conditional inclusion&emsp;[cpp.cond]'><span id='ntref:header-name-tokens'><span class='textsf'><i >header-name-tokens</i></span></span></a> <a href='cpp.pre#nt:pp-tokens' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:pp-tokens_'><span class='textsf'><i >pp-tokens</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span> <a href='cpp.pre#nt:new-line' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:new-line_'><span class='textsf'><i >new-line</i></span></span></a><br/><span id=':export__'><span class='texttt'><span class='keyword'>export</span></span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':import__'><span class='texttt'><span class='keyword'>import</span></span></span> <a href='cpp.pre#nt:pp-tokens' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:pp-tokens__'><span class='textsf'><i >pp-tokens</i></span></span></a> <span class='terminal'>;</span> <a href='cpp.pre#nt:new-line' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:new-line__'><span class='textsf'><i >new-line</i></span></span></a>
</div></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L786'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>A <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import'><span class='textsf'><i >pp-import</i></span></span></a> shall not
appear in a context where <span class='texttt'><span class='keyword'>import</span></span>
or (if it is the first token of the <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import_'><span class='textsf'><i >pp-import</i></span></span></a>) <span class='texttt'><span class='keyword'>export</span></span>
is an identifier defined as an object-like macro<a class='hidden_link' href='#1.sentence-1'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L792'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>The preprocessing tokens after the <span class='texttt'><span class='keyword'>import</span></span> preprocessing token
in the <span class='texttt'><span class='keyword'>import</span></span> <a href='cpp.pre#nt:control-line' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:control-line'><span class='textsf'><i >control-line</i></span></span></a>
are processed just as in normal text
(i.e., each identifier currently defined as a macro name
is replaced by its replacement list of preprocessing tokens)<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='2.sentence-2' class='sentence'>An <span class='texttt'><span class='keyword'>import</span></span> directive
matching the first two forms of a <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import__'><span class='textsf'><i >pp-import</i></span></span></a>
instructs the preprocessor to import macros
from the header unit (<a href='module.import' title='10.3&emsp;Import declaration'>[module.<span class='shy'></span>import]</a>)
denoted by the <a href='lex.header#nt:header-name' title='5.8&emsp;Header names&emsp;[lex.header]'><span id='ntref:header-name_'><span class='textsf'><i >header-name</i></span></span></a>,
as described below<a class='hidden_link' href='#2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='2.sentence-3' class='sentence'>The <a class='hidden_link' href='#def:macro,point_of_import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='def:macro,point_of_import'><i >point of macro import</i></span></a> for the
first two forms of <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import___'><span class='textsf'><i >pp-import</i></span></span></a> is
immediately after the <a href='cpp.pre#nt:new-line' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:new-line___'><span class='textsf'><i >new-line</i></span></span></a> terminating
the <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import____'><span class='textsf'><i >pp-import</i></span></span></a><a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>The last form of <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import_____'><span class='textsf'><i >pp-import</i></span></span></a> is only considered
if the first two forms did not match, and
does not have a point of macro import<a class='hidden_link' href='#2.sentence-4'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L815'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>If a <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import______'><span class='textsf'><i >pp-import</i></span></span></a> is produced by source file inclusion
(including by the rewrite produced
when a <span class='texttt'><span class='preprocessordirective'>#include</span></span> directive names an importable header)
while processing the <a href='cpp.pre#nt:group' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:group'><span class='textsf'><i >group</i></span></span></a> of a <a href='cpp.pre#nt:module-file' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:module-file'><span class='textsf'><i >module-file</i></span></span></a>,
the program is ill-formed<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L822'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>In all three forms of <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import_______'><span class='textsf'><i >pp-import</i></span></span></a>,
the <span class='texttt'><span class='keyword'>import</span></span> and <span class='texttt'><span class='keyword'>export</span></span> (if it exists) preprocessing tokens
are replaced by the <span id='ntref:import-keyword'><span class='textsf'><i >import-keyword</i></span></span> and
<span id='ntref:export-keyword'><span class='textsf'><i >export-keyword</i></span></span> preprocessing tokens respectively<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='4.sentence-2' class='sentence'>This makes the line no longer a directive
so it is not removed at the end of phase 4<a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='4.sentence-3' class='sentence'>
Additionally, in the second form of <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import________'><span class='textsf'><i >pp-import</i></span></span></a>,
a <a href='lex.header#nt:header-name' title='5.8&emsp;Header names&emsp;[lex.header]'><span id='ntref:header-name__'><span class='textsf'><i >header-name</i></span></span></a> token is formed as if
the <a href='cpp.cond#nt:header-name-tokens' title='15.2&emsp;Conditional inclusion&emsp;[cpp.cond]'><span id='ntref:header-name-tokens_'><span class='textsf'><i >header-name-tokens</i></span></span></a>
were the <a href='cpp.pre#nt:pp-tokens' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:pp-tokens___'><span class='textsf'><i >pp-tokens</i></span></span></a> of a <span class='texttt'><span class='preprocessordirective'>#include</span></span> directive<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>The <a href='cpp.cond#nt:header-name-tokens' title='15.2&emsp;Conditional inclusion&emsp;[cpp.cond]'><span id='ntref:header-name-tokens__'><span class='textsf'><i >header-name-tokens</i></span></span></a> are replaced by
the <a href='lex.header#nt:header-name' title='5.8&emsp;Header names&emsp;[lex.header]'><span id='ntref:header-name___'><span class='textsf'><i >header-name</i></span></span></a> token<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='4.sentence-5' class='sentence'>This ensures that imports are treated consistently by
the preprocessor and later phases of translation<a class='hidden_link' href='#4.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L842'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>Each <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive encountered when preprocessing
each translation unit in a program results in a distinct
<a class='hidden_link' href='#def:macro,definition' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='def:macro,definition'><i >macro definition</i></span></a><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>:&ensp;<div id='5.sentence-2' class='sentence'>A predefined macro name (<a href='cpp.predefined' title='15.11&emsp;Predefined macro names'>[cpp.<span class='shy'></span>predefined]</a>)
is not introduced by a <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>Implementations providing mechanisms to predefine additional macros
are encouraged to not treat them
as being introduced by a <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive<a class='hidden_link' href='#5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='5.sentence-4' class='sentence'>
Each macro definition has at most one point of definition in
each translation unit and at most one point of undefinition, as follows:
<ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.1'>(5.1)</a></div><div class='texpara'><div id='5.1.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:macro,point_of_definition' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='def:macro,point_of_definition'><i >point of definition</i></span></a>
of a macro definition within a translation unit <span class='math'><span class='mathalpha'>T</span></span> is
<ul class='itemize'><li id='5.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.1.1'>(5.1.1)</a></div>if the <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive of the macro definition occurs within <span class='math'><span class='mathalpha'>T</span></span>,
the point at which that directive occurs, or otherwise,</li><li id='5.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.1.2'>(5.1.2)</a></div>if the macro name is not lexically identical to a keyword (<a href='lex.key' title='5.11&emsp;Keywords'>[lex.<span class='shy'></span>key]</a>)
or to the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a><i >s</i> <span class='texttt'><span class='keyword'>module</span></span> or <span class='texttt'><span class='keyword'>import</span></span>,
the first point of macro import in <span class='math'><span class='mathalpha'>T</span></span> of a header unit
containing a point of definition for the macro definition, if any<a class='hidden_link' href='#5.1.sentence-1'>.</a></li></ul></div> <div id='5.1.sentence-2' class='sentence'>
In the latter case, the macro is said
to be <a class='hidden_link' href='#def:macro,import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='def:macro,import'><i >imported</i></span></a> from the header unit<a class='hidden_link' href='#5.1.sentence-2'>.</a></div></div></li><li id='5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.2'>(5.2)</a></div><div class='texpara'><div id='5.2.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:macro,point_of_undefinition' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='def:macro,point_of_undefinition'><i >point of undefinition</i></span></a>
of a macro definition within a translation unit
is the first point at which a <span class='texttt'><span class='preprocessordirective'>#undef</span></span> directive naming the macro occurs
after its point of definition, or the first point
of macro import of a header unit containing a point of undefinition for the
macro definition, whichever (if any) occurs first<a class='hidden_link' href='#5.2.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L883'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>A macro directive is <a class='hidden_link' href='#def:macro,active' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='def:macro,active'><i >active</i></span></a> at a source location
if it has a point of definition in that translation unit preceding the location,
and does not have a point of undefinition in that translation unit preceding
the location<a class='hidden_link' href='#6.sentence-1'>.</a></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L890'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>If a macro would be replaced or redefined, and multiple macro definitions
are active for that macro name, the active macro definitions shall all be
valid redefinitions of the same macro (<a href='cpp.replace' title='15.6&emsp;Macro replacement'>[cpp.<span class='shy'></span>replace]</a>)<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-5'>5</a></i>:&ensp;<div id='7.sentence-2' class='sentence'>The relative order of <a href='#nt:pp-import' title='15.5&emsp;Header unit importation&emsp;[cpp.import]'><span id='ntref:pp-import_________'><span class='textsf'><i >pp-import</i></span></span></a><i >s</i> has no bearing on whether a
particular macro definition is active<a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/preprocessor.tex#L899'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<p>Importable header <span class='texttt'><span class='literal'>"a.h"</span></span>:<span class='codeblock'><span class='preprocessordirective'>#define</span> X <span class='literal'>123</span>   <span class='comment'>// #1</span>
<span class='preprocessordirective'>#define</span> Y <span class='literal'>45</span>    <span class='comment'>// #2</span>
<span class='preprocessordirective'>#define</span> Z a     <span class='comment'>// #3</span>
<span class='preprocessordirective'>#undef</span> X        <span class='comment'>// point of undefinition of #1 in <span class='tcode_in_codeblock'>"a.h"</span></span>
</span></div><div class='texpara'><p>Importable header <span class='texttt'><span class='literal'>"b.h"</span></span>:<span class='codeblock'><span class='keyword'>import</span> <span class='literal'>"a.h"</span>;   <span class='comment'>// point of definition of #1, #2, and #3, point of undefinition of #1 in <span class='tcode_in_codeblock'>"b.h"</span></span>
<span class='preprocessordirective'>#define</span> X <span class='literal'>456</span>   <span class='comment'>// OK, #1 is not active</span>
<span class='preprocessordirective'>#define</span> Y <span class='literal'>6</span>     <span class='comment'>// error: #2 is active</span>
</span></div><div class='texpara'><p>Importable header <span class='texttt'><span class='literal'>"c.h"</span></span>:<span class='codeblock'><span class='preprocessordirective'>#define</span> Y <span class='literal'>45</span>    <span class='comment'>// #4</span>
<span class='preprocessordirective'>#define</span> Z c     <span class='comment'>// #5</span>
</span></div><div class='texpara'><p>Importable header <span class='texttt'><span class='literal'>"d.h"</span></span>:<span class='codeblock'><span class='keyword'>import</span> <span class='literal'>"c.h"</span>;   <span class='comment'>// point of definition of #4 and #5 in <span class='tcode_in_codeblock'>"d.h"</span></span>
</span></div><div class='texpara'><p>Importable header <span class='texttt'><span class='literal'>"e.h"</span></span>:<span class='codeblock'><span class='keyword'>import</span> <span class='literal'>"a.h"</span>;   <span class='comment'>// point of definition of #1, #2, and #3, point of undefinition of #1 in <span class='tcode_in_codeblock'>"e.h"</span></span>
<span class='keyword'>import</span> <span class='literal'>"d.h"</span>;   <span class='comment'>// point of definition of #4 and #5 in <span class='tcode_in_codeblock'>"e.h"</span></span>
<span class='keyword'>int</span> a <span class='operator'>=</span> Y;      <span class='comment'>// OK, active macro definitions #2 and #4 are valid redefinitions</span>
<span class='keyword'>int</span> c <span class='operator'>=</span> Z;      <span class='comment'>// error: active macro definitions #3 and #5 are not valid redefinitions of <span class='tcode_in_codeblock'>Z</span></span>
</span></div><div class='texpara'><p>Module unit <span class='texttt'>f</span>:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> f;
<span class='keyword'>export</span> <span class='keyword'>import</span> <span class='literal'>"a.h"</span>;

<span class='keyword'>int</span> a <span class='operator'>=</span> Y;      <span class='comment'>// OK</span>
</span></div><div class='texpara'><p>Translation unit <span class='texttt'><span class='preprocessordirective'>#</span><span class='literal'>1</span></span>:<span class='codeblock'><span class='keyword'>import</span> f;
<span class='keyword'>int</span> x <span class='operator'>=</span> Y;      <span class='comment'>// error: <span class='tcode_in_codeblock'>Y</span> is neither a defined macro nor a declared name</span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div></body></html>