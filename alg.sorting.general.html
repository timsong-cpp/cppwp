<!DOCTYPE html><html lang='en'><head><title>[alg.sorting.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>27</a> Algorithms library <a class='abbr_ref' href='./#algorithms'>[algorithms]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>27.8</a> Sorting and related operations <a class='abbr_ref' href='alg.sorting#general'>[alg.sorting]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>27.8.1</a> General <a class='abbr_ref'>[alg.sorting.general]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6643'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The operations in <a href='alg.sorting' title='27.8&emsp;Sorting and related operations'>[alg.<span class='shy'></span>sorting]</a> defined directly in namespace <span class='texttt'>std</span>
have two versions:
one that takes a function object of type <span class='texttt'>Compare</span> and
one that uses an <span class='texttt'><span class='keyword'>operator</span><span class='anglebracket'>&lt;</span></span><a class='hidden_link' href='#1.sentence-1'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6649'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><span class='texttt'>Compare</span> is a function object type (<a href='function.objects' title='22.10&emsp;Function objects'>[function.<span class='shy'></span>objects]</a>)
that meets the requirements for a template parameter
named <span class='texttt'>BinaryPredicate</span>  (<a href='algorithms.requirements' title='27.2&emsp;Algorithms requirements'>[algorithms.<span class='shy'></span>requirements]</a>)<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The return value of the function call operation
applied to an object of type <span class='texttt'>Compare</span>,
when converted to <span class='texttt'><span class='keyword'>bool</span></span>,
yields <span class='texttt'><span class='literal'>true</span></span>
if the first argument of the call is less than the second, and
<span class='texttt'><span class='literal'>false</span></span> otherwise<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'><span class='texttt'>Compare comp</span> is used throughout
for algorithms assuming an ordering relation<a class='hidden_link' href='#2.sentence-3'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6662'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>For all algorithms that take <span class='texttt'>Compare</span>,
there is a version that uses <span class='texttt'><span class='keyword'>operator</span><span class='anglebracket'>&lt;</span></span> instead<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>That is, <span class='texttt'>comp<span class='parenthesis'>(</span><span class='operator'>*</span>i, <span class='operator'>*</span>j<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>false</span></span> defaults to <span class='texttt'><span class='operator'>*</span>i <span class='anglebracket'>&lt;</span> <span class='operator'>*</span>j <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>false</span></span><a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>For algorithms other than those described in <a href='alg.binary.search' title='27.8.4&emsp;Binary search'>[alg.<span class='shy'></span>binary.<span class='shy'></span>search]</a>,
<span class='texttt'>comp</span> shall induce a strict weak ordering on the values<a class='hidden_link' href='#3.sentence-3'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6669'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>The term <a class='hidden_link' href='#def:strict' id='def:strict'><i>strict</i></a> refers to the requirement
of an irreflexive relation (<span class='texttt'><span class='operator'>!</span>comp<span class='parenthesis'>(</span>x, x<span class='parenthesis'>)</span></span> for all <span class='texttt'>x</span>),
and the term <a class='hidden_link' href='#def:weak' id='def:weak'><i>weak</i></a> to requirements
that are not as strong as those for a total ordering,
but stronger than those for a partial ordering<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-3' class='sentence'>If we define <span class='texttt'>equiv<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span></span> as <span class='texttt'><span class='operator'>!</span>comp<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='operator'>!</span>comp<span class='parenthesis'>(</span>b, a<span class='parenthesis'>)</span></span>,
then the requirements are that <span class='texttt'>comp</span> and <span class='texttt'>equiv</span>
both be transitive relations:
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.1'>(4.1)</a></div><span class='texttt'>comp<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> comp<span class='parenthesis'>(</span>b, c<span class='parenthesis'>)</span></span> implies <span class='texttt'>comp<span class='parenthesis'>(</span>a, c<span class='parenthesis'>)</span></span></li><li id='4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.2'>(4.2)</a></div><span class='texttt'>equiv<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> equiv<span class='parenthesis'>(</span>b, c<span class='parenthesis'>)</span></span> implies <span class='texttt'>equiv<span class='parenthesis'>(</span>a, c<span class='parenthesis'>)</span></span></li></ul>
<div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='4.sentence-2' class='sentence'>Under these conditions, it can be shown that
<ul class='itemize'><li id='4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.3'>(4.3)</a></div><span class='texttt'>equiv</span> is an equivalence relation,</li><li id='4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.4'>(4.4)</a></div><span class='texttt'>comp</span> induces a well-defined relation
  on the equivalence classes determined by <span class='texttt'>equiv</span>, and</li><li id='4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.5'>(4.5)</a></div>the induced relation is a strict total ordering<a class='hidden_link' href='#4.sentence-2'>.</a></li></ul></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6695'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><a class='index' id='def:sequence,sorted,with_respect_to_a_comparator_and_projection'></a>A sequence is <a class='hidden_link' href='#def:sorted_with_respect_to_a_comp_and_proj' id='def:sorted_with_respect_to_a_comp_and_proj'><i>sorted with respect to a <span class='texttt'>comp</span> and <span class='texttt'>proj</span></i></a>
for a comparator and projection <span class='texttt'>comp</span> and <span class='texttt'>proj</span>
if for every iterator <span class='texttt'>i</span> pointing to the sequence and
every non-negative integer <span class='texttt'>n</span>
such that <span class='texttt'>i <span class='operator'>+</span> n</span> is a valid iterator
pointing to an element of the sequence,
<span class='codeblock'><span class='keyword'>bool</span><span class='parenthesis'>(</span>invoke<span class='parenthesis'>(</span>comp, invoke<span class='parenthesis'>(</span>proj, <span class='operator'>*</span><span class='parenthesis'>(</span>i <span class='operator'>+</span> n<span class='parenthesis'>)</span><span class='parenthesis'>)</span>, invoke<span class='parenthesis'>(</span>proj, <span class='operator'>*</span>i<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span>
is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6708'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><a class='index' id='def:sequence,sorted,with_respect_to_a_comparator'></a>A sequence is <a class='hidden_link' href='#def:sorted_with_respect_to_a_comparator_comp' id='def:sorted_with_respect_to_a_comparator_comp'><i>sorted with respect to a comparator <span class='texttt'>comp</span></i></a>
for a comparator <span class='texttt'>comp</span>
if it is sorted with respect to
<span class='texttt'>comp</span> and <span class='texttt'>identity<span class='curlybracket'>{</span><span class='curlybracket'>}</span></span> (the identity projection)<a class='hidden_link' href='#6.sentence-1'>.</a></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6715'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>A sequence [<span class='texttt'>start, finish</span>) is
<a class='hidden_link' href='#def:partitioned_with_respect_to_an_expression' id='def:partitioned_with_respect_to_an_expression'><i>partitioned with respect to an expression</i></a> <span class='texttt'>f<span class='parenthesis'>(</span>e<span class='parenthesis'>)</span></span>
if there exists an integer <span class='texttt'>n</span>
such that for all <span class='texttt'><span class='literal'>0</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> i <span class='anglebracket'>&lt;</span> <span class='parenthesis'>(</span>finish <span class='operator'>-</span> start<span class='parenthesis'>)</span></span>,
<span class='texttt'>f<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>start <span class='operator'>+</span> i<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span> if and only if <span class='texttt'>i <span class='anglebracket'>&lt;</span> n</span><a class='hidden_link' href='#7.sentence-1'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/algorithms.tex#L6722'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>In the descriptions of the functions that deal with ordering relationships
we frequently use a notion of equivalence to describe concepts
such as stability<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>The equivalence to which we refer is not necessarily an <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span></span>,
but an equivalence relation induced by the strict weak ordering<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>That is, two elements <span class='texttt'>a</span> and <span class='texttt'>b</span> are considered equivalent
if and only if <span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>a <span class='anglebracket'>&lt;</span> b<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='operator'>!</span><span class='parenthesis'>(</span>b <span class='anglebracket'>&lt;</span> a<span class='parenthesis'>)</span></span><a class='hidden_link' href='#8.sentence-3'>.</a></div></div></div></div></body></html>