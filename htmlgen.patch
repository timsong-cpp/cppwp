From 55ebd5bc66a897911530f0bd06ce0b3afe6db42c Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Fri, 16 Aug 2019 16:27:29 +0200
Subject: [PATCH 01/26] [format.context] Use \indextext, not \index.

---
 source/utilities.tex | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/source/utilities.tex b/source/utilities.tex
index b80f3f3d..13c826e6 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -20806,7 +20806,7 @@ void advance_to(iterator it);
 \effects Equivalent to: \tcode{out_ = it;}
 \end{itemdescr}
 
-\index{left-pad}%
+\indextext{left-pad}%
 \begin{example}
 \begin{codeblock}
 struct S { int value; };
-- 
2.17.1


From 960e7d8611ace63836c8c46f051f692889be72fe Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Thu, 15 Aug 2019 15:05:17 +0200
Subject: [PATCH 02/26] Add/fix periods at end of sentences.

---
 source/algorithms.tex  |  6 +++---
 source/classes.tex     |  2 +-
 source/expressions.tex |  2 +-
 source/iostreams.tex   | 12 ++++++------
 source/lib-intro.tex   |  2 +-
 source/regex.tex       |  4 ++--
 source/support.tex     |  2 +-
 source/templates.tex   |  2 +-
 source/threads.tex     |  2 +-
 source/time.tex        |  2 +-
 source/utilities.tex   |  6 +++---
 11 files changed, 21 insertions(+), 21 deletions(-)

diff --git a/source/algorithms.tex b/source/algorithms.tex
index c2518033..29a254a5 100644
--- a/source/algorithms.tex
+++ b/source/algorithms.tex
@@ -3132,7 +3132,7 @@ template<class InputIterator, class Size, class Function>
 \begin{itemdescr}
 \pnum
 \requires
-\tcode{Function} shall meet the \oldconcept{MoveConstructible} requirements
+\tcode{Function} shall meet the \oldconcept{MoveConstructible} requirements.
 \begin{note}
 \tcode{Function} need not meet
 the requirements of \oldconcept{CopyConstructible}.
@@ -5304,7 +5304,7 @@ for which $E$ holds.
 \returns
 \begin{itemize}
 \item \tcode{result + $N$} for the overloads in namespace \tcode{std}, or
-\item \tcode{\{last, result + $N$\}} for the overloads in namespace \tcode{ranges}
+\item \tcode{\{last, result + $N$\}} for the overloads in namespace \tcode{ranges}.
 \end{itemize}
 
 \pnum
@@ -6849,7 +6849,7 @@ shall be partitioned with respect to $E(\tcode{e})$.
 An iterator \tcode{mid}
 such that $E(\tcode{*i})$ is \tcode{true}
 for all iterators \tcode{i} in \range{first}{mid}, and
-\tcode{false} for all iterators \tcode{i} in \range{mid}{last}
+\tcode{false} for all iterators \tcode{i} in \range{mid}{last}.
 
 \pnum
 \complexity
diff --git a/source/classes.tex b/source/classes.tex
index 7c14167e..f4a6513b 100644
--- a/source/classes.tex
+++ b/source/classes.tex
@@ -4162,7 +4162,7 @@ public:
 \end{example}
 \begin{note}
 A function declaration cannot provide both a \grammarterm{pure-specifier}
-and a definition
+and a definition.
 \end{note}
 \begin{example}
 \begin{codeblock}
diff --git a/source/expressions.tex b/source/expressions.tex
index add96215..ae70f5e7 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -3310,7 +3310,7 @@ of the object expression; see~\ref{class.access.base}.
 The value of a postfix \tcode{++} expression is the value of its
 operand.
 \begin{note}
-The value obtained is a copy of the original value
+The value obtained is a copy of the original value.
 \end{note}
 The operand shall be a modifiable lvalue. The type of the operand shall
 be an arithmetic type other than \cv{}~\tcode{bool},
diff --git a/source/iostreams.tex b/source/iostreams.tex
index 52b9db82..fa7d4c2c 100644
--- a/source/iostreams.tex
+++ b/source/iostreams.tex
@@ -3754,7 +3754,7 @@ The public members of
 call this virtual function only if
 \tcode{gptr()}
 is null or
-\tcode{gptr() >= egptr()}
+\tcode{gptr() >= egptr()}.
 
 \pnum
 \returns
@@ -4529,7 +4529,7 @@ otherwise,
 During preparation, the constructor may call
 \tcode{setstate(failbit)}
 (which may throw
-\tcode{ios_base::\brk{}failure}\iref{iostate.flags})\footnote{The
+\tcode{ios_base::\brk{}failure}\iref{iostate.flags}).\footnote{The
 \tcode{sentry}
 constructor and destructor
 can also perform additional
@@ -4974,7 +4974,7 @@ a character \tcode{c}, if one is available.
 Otherwise, the function calls
 \tcode{setstate(failbit)},
 which may throw
-\tcode{ios_base::failure}\iref{iostate.flags},
+\tcode{ios_base::failure}\iref{iostate.flags}.
 
 \pnum
 \returns
@@ -6064,7 +6064,7 @@ otherwise,
 During preparation, the constructor may call
 \tcode{setstate(failbit)}
 (which may throw
-\tcode{ios_base::\brk{}failure}\iref{iostate.flags})\footnote{The
+\tcode{ios_base::\brk{}failure}\iref{iostate.flags}).\footnote{The
 \tcode{sentry}
 constructor and destructor
 can also perform additional
@@ -14803,7 +14803,7 @@ and does not report an error.
 \pnum
 \begin{note} By default, \tcode{recursive_directory_iterator} does not
 follow directory symlinks. To follow directory symlinks, specify \tcode{options} as
-\tcode{directory_options::follow_directory_symlink} \end{note}
+\tcode{directory_options::follow_directory_symlink}. \end{note}
 \end{itemdescr}
 
 \indexlibrary{\idxcode{recursive_directory_iterator}!constructor}%
@@ -15942,7 +15942,7 @@ bool is_regular_file(const path& p);
 \returns \tcode{is_regular_file(status(p))}.
 
 \pnum
-\throws \tcode{filesystem_error} if \tcode{status(p)} would throw \tcode{filesystem_error.}
+\throws \tcode{filesystem_error} if \tcode{status(p)} would throw \tcode{filesystem_error}.
 \end{itemdescr}
 
 \indexlibrary{\idxcode{is_regular_file}}%
diff --git a/source/lib-intro.tex b/source/lib-intro.tex
index a02432e3..5737f15c 100644
--- a/source/lib-intro.tex
+++ b/source/lib-intro.tex
@@ -2594,7 +2594,7 @@ and may not be used as a name for object-like macros in portable code:
 \item \indexlibrary{\idxcode{open_mode}!zombie} \tcode{open_mode},
 \item \indexlibrary{\idxcode{second_argument_type}!zombie} \tcode{second_argument_type},
 and
-\item \indexlibrary{\idxcode{seek_dir}!zombie} \tcode{seek_dir},
+\item \indexlibrary{\idxcode{seek_dir}!zombie} \tcode{seek_dir}.
 \end{itemize}
 
 \pnum
diff --git a/source/regex.tex b/source/regex.tex
index a9b0dbb6..0699c284 100644
--- a/source/regex.tex
+++ b/source/regex.tex
@@ -1203,7 +1203,7 @@ representation. It is not specified what form this representation
 takes, nor how it is accessed by algorithms that operate on regular
 expressions. \begin{note} Implementations will typically declare
 some function templates as friends of \tcode{basic_regex} to achieve
-this \end{note}
+this. \end{note}
 
 \pnum
 \indexlibrary{\idxcode{regex_error}}%
@@ -3299,7 +3299,7 @@ final sequence.
 \begin{note} For a suffix iterator, data
 member \tcode{suffix.first} is the same as the end of the last match
 found, and \tcode{suffix\brk.second} is the same as the end of the target
-sequence \end{note}
+sequence. \end{note}
 
 \pnum
 The \textit{current match} is \tcode{(*position).prefix()} if \tcode{subs[N] == -1}, or
diff --git a/source/support.tex b/source/support.tex
index dcd1a412..4830c3a7 100644
--- a/source/support.tex
+++ b/source/support.tex
@@ -3110,7 +3110,7 @@ An \impldef{return value of \tcode{type_info::name()}} \ntbs{}.
 \remarks
 The message may be a null-terminated multibyte string\iref{multibyte.strings},
 suitable for conversion and display as a
-\tcode{wstring}~(\ref{string.classes}, \ref{locale.codecvt})
+\tcode{wstring}~(\ref{string.classes}, \ref{locale.codecvt}).
 \end{itemdescr}
 
 \rSec2[bad.cast]{Class \tcode{bad_cast}}
diff --git a/source/templates.tex b/source/templates.tex
index 1682ce7b..58e154d4 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -7938,7 +7938,7 @@ However, there are four cases that allow a difference:
 \item
 If the original \tcode{A} is a reference type,
 \tcode{A} can be more cv-qualified than the deduced \tcode{A}
-(i.e., the type referred to by the reference)
+(i.e., the type referred to by the reference).
 \item
 If the original \tcode{A} is a function pointer type,
 \tcode{A} can be ``pointer to function''
diff --git a/source/threads.tex b/source/threads.tex
index 4008063c..e942d6ec 100644
--- a/source/threads.tex
+++ b/source/threads.tex
@@ -3691,7 +3691,7 @@ template<class L1, class L2, class... L3> void lock(L1&, L2&, L3&...);
 
 \begin{itemdescr}
 \pnum
-\requires Each template parameter type shall meet the \oldconcept{Lockable} requirements,
+\requires Each template parameter type shall meet the \oldconcept{Lockable} requirements.
 \begin{note} The
 \tcode{unique_lock} class template meets these requirements when suitably instantiated.
 \end{note}
diff --git a/source/time.tex b/source/time.tex
index a17ac521..8e7f6da4 100644
--- a/source/time.tex
+++ b/source/time.tex
@@ -6395,7 +6395,7 @@ For the latter, there is a conversion to \tcode{sys_days},
 which efficiently supports \tcode{days}-oriented arithmetic.
 \end{note}
 \tcode{year_month_day_last} is \oldconcept{EqualityComparable} (\tref{cpp17.equalitycomparable})
-and \oldconcept{LessThanComparable} (\tref{cpp17.lessthancomparable}),
+and \oldconcept{LessThanComparable} (\tref{cpp17.lessthancomparable}).
 
 \pnum
 \tcode{year_month_day_last} is a trivially copyable and standard-layout class type.
diff --git a/source/utilities.tex b/source/utilities.tex
index 13c826e6..b3f3c0d5 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -435,7 +435,7 @@ If \tcode{N} is negative the program is ill-formed. The alias template
 The type \tcode{make_integer_sequence<T, N>} denotes the type
 \tcode{integer_sequence<T, 0, 1, ..., N-1>}.
 \begin{note} \tcode{make_integer_sequence<int, 0>} denotes the type
-\tcode{integer_sequence<int>} \end{note}
+\tcode{integer_sequence<int>}. \end{note}
 \end{itemdescr}
 
 \rSec1[pairs]{Pairs}
@@ -9424,7 +9424,7 @@ where \tcode{UP} is \tcode{unique_ptr<U, E>}:
 \end{itemize}
 
 \begin{note}
-This replaces the overload-resolution specification of the primary template
+This replaces the overload-resolution specification of the primary template.
 \end{note}
 \end{itemdescr}
 
@@ -9451,7 +9451,7 @@ where \tcode{UP} is \tcode{unique_ptr<U, E>}:
 \end{itemize}
 
 \begin{note}
-This replaces the overload-resolution specification of the primary template
+This replaces the overload-resolution specification of the primary template.
 \end{note}
 \end{itemdescr}
 
-- 
2.17.1


From 582d2b73fae50d7b0f2831803621ae154c577035 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Thu, 15 Aug 2019 14:47:02 +0200
Subject: [PATCH 03/26] Use correct punctuation to terminate non-final list
 items.

---
 source/basic.tex     | 2 +-
 source/classes.tex   | 2 +-
 source/support.tex   | 2 +-
 source/utilities.tex | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/source/basic.tex b/source/basic.tex
index 553516a7..ccda696b 100644
--- a/source/basic.tex
+++ b/source/basic.tex
@@ -2068,7 +2068,7 @@ access (see~\ref{basic.lookup.classref});
 
 \item the names in a \grammarterm{template-argument} of a
 \grammarterm{template-id} are looked up in the context in which the entire
-\grammarterm{postfix-expression} occurs.
+\grammarterm{postfix-expression} occurs;
 
 \item the lookup for a name specified in a
 \grammarterm{using-declaration}\iref{namespace.udecl} also finds class or
diff --git a/source/classes.tex b/source/classes.tex
index f4a6513b..32fac866 100644
--- a/source/classes.tex
+++ b/source/classes.tex
@@ -1368,7 +1368,7 @@ of reference type,
 
 \item any non-variant non-static data member of const-qualified type (or array
 thereof) with no \grammarterm{brace-or-equal-initializer}
-is not const-default-constructible\iref{dcl.init}.
+is not const-default-constructible\iref{dcl.init},
 
 \item \tcode{X} is a union and all of its variant members are of const-qualified
 type (or array thereof),
diff --git a/source/support.tex b/source/support.tex
index 4830c3a7..6a7d4d58 100644
--- a/source/support.tex
+++ b/source/support.tex
@@ -5816,7 +5816,7 @@ An evaluation is \defnx{signal-safe}{evaluation!signal-safe} unless it includes
 \item
 a call to any standard library function,
 except for plain lock-free atomic operations and
-functions explicitly identified as signal-safe.
+functions explicitly identified as signal-safe;
 \begin{note}
 This implicitly excludes the use of \tcode{new} and \tcode{delete} expressions
 that rely on a library-provided memory allocator.
diff --git a/source/utilities.tex b/source/utilities.tex
index b3f3c0d5..20ac04e0 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -18025,7 +18025,7 @@ Let:
   of \tcode{A}'s cv and reference qualifiers, for a non-reference cv-unqualified
   type \tcode{U},
 \item \tcode{\placeholdernc{COPYCV}(FROM, TO)} be an alias for type \tcode{TO}
-  with the addition of \tcode{FROM}'s top-level cv-qualifiers.
+  with the addition of \tcode{FROM}'s top-level cv-qualifiers,
   \begin{example}
     \tcode{\placeholdernc{COPYCV}(const int, volatile short)} is an alias for
     \tcode{const volatile short}.
-- 
2.17.1


From cfa51d60437069acc373d712aa8357c976b4e564 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Wed, 23 Jan 2019 15:43:24 +0100
Subject: [PATCH 04/26] Fix code margins.

---
 source/basic.tex        | 12 ++++++------
 source/classes.tex      | 26 +++++++++++++-------------
 source/concepts.tex     |  4 ++--
 source/declarations.tex | 28 ++++++++++++++--------------
 source/expressions.tex  |  5 +++--
 source/iterators.tex    |  4 ++--
 source/overloading.tex  | 16 ++++++++--------
 source/ranges.tex       | 14 +++++++-------
 source/templates.tex    |  2 +-
 source/utilities.tex    |  8 ++++----
 10 files changed, 60 insertions(+), 59 deletions(-)

diff --git a/source/basic.tex b/source/basic.tex
index ccda696b..9a5236b7 100644
--- a/source/basic.tex
+++ b/source/basic.tex
@@ -3461,12 +3461,12 @@ the behavior is undefined except in the following cases:
 \end{itemize}
 \begin{example}
 \begin{codeblock}
-  int f(bool b) {
-    unsigned char c;
-    unsigned char d = c;        // OK, \tcode{d} has an indeterminate value
-    int e = d;                  // undefined behavior
-    return b ? d : 0;           // undefined behavior if \tcode{b} is \tcode{true}
-  }
+int f(bool b) {
+  unsigned char c;
+  unsigned char d = c;          // OK, \tcode{d} has an indeterminate value
+  int e = d;                    // undefined behavior
+  return b ? d : 0;             // undefined behavior if \tcode{b} is \tcode{true}
+}
 \end{codeblock}
 \end{example}
 
diff --git a/source/classes.tex b/source/classes.tex
index 32fac866..fd1b81e6 100644
--- a/source/classes.tex
+++ b/source/classes.tex
@@ -219,15 +219,15 @@ and the elements of $M(\mathtt{X}_e)$.
 \pnum
 \begin{example}
 \begin{codeblock}
-   struct B { int i; };         // standard-layout class
-   struct C : B { };            // standard-layout class
-   struct D : C { };            // standard-layout class
-   struct E : D { char : 4; };  // not a standard-layout class
+struct B { int i; };            // standard-layout class
+struct C : B { };               // standard-layout class
+struct D : C { };               // standard-layout class
+struct E : D { char : 4; };     // not a standard-layout class
 
-   struct Q {};
-   struct S : Q { };
-   struct T : Q { };
-   struct U : S, T { };         // not a standard-layout class
+struct Q {};
+struct S : Q { };
+struct T : Q { };
+struct U : S, T { };            // not a standard-layout class
 \end{codeblock}
 \end{example}
 
@@ -772,11 +772,11 @@ and either both entities are bit-fields with the same width
 or neither is a bit-field.
 \begin{example}
 \begin{codeblock}
-  struct A { int a; char b; };
-  struct B { const int b1; volatile char b2; };
-  struct C { int c; unsigned : 0; char b; };
-  struct D { int d; char b : 4; };
-  struct E { unsigned int e; char b; };
+struct A { int a; char b; };
+struct B { const int b1; volatile char b2; };
+struct C { int c; unsigned : 0; char b; };
+struct D { int d; char b : 4; };
+struct E { unsigned int e; char b; };
 \end{codeblock}
 The common initial sequence of \tcode{A} and \tcode{B} comprises all members
 of either class. The common initial sequence of \tcode{A} and \tcode{C} and
diff --git a/source/concepts.tex b/source/concepts.tex
index b94f4cce..1a3b4e0f 100644
--- a/source/concepts.tex
+++ b/source/concepts.tex
@@ -588,8 +588,8 @@ and \tcode{E2} is expression-equivalent to an expression
   has class or enumeration type\iref{basic.compound} and that expression is valid, with
   overload resolution performed in a context that includes the declaration
 \begin{codeblock}
-  template<class T>
-    void swap(T&, T&) = delete;
+template<class T>
+  void swap(T&, T&) = delete;
 \end{codeblock}
   and does not include a declaration of \tcode{ranges::swap}.
   If the function selected by overload resolution does not
diff --git a/source/declarations.tex b/source/declarations.tex
index 56eae842..028558d0 100644
--- a/source/declarations.tex
+++ b/source/declarations.tex
@@ -4964,17 +4964,17 @@ initialization that would use that default member initializer,
 the program is ill-formed.
 \begin{example}
 \begin{codeblock}
-  struct A;
-  extern A a;
-  struct A {
-    const A& a1 { A{a,a} };     // OK
-    const A& a2 { A{} };        // error
-  };
-  A a{a,a};                     // OK
+struct A;
+extern A a;
+struct A {
+  const A& a1 { A{a,a} };     // OK
+  const A& a2 { A{} };        // error
+};
+A a{a,a};                     // OK
 
-  struct B {
-    int n = B{}.n;              // error
-  };
+struct B {
+  int n = B{}.n;              // error
+};
 \end{codeblock}
 \end{example}
 
@@ -6905,10 +6905,10 @@ The value of an enumerator or an object of an unscoped enumeration type is
 converted to an integer by integral promotion\iref{conv.prom}.
 \begin{example}
 \begin{codeblock}
-  enum color { red, yellow, green=20, blue };
-  color col = red;
-  color* cp = &col;
-  if (*cp == blue)              // ...
+enum color { red, yellow, green=20, blue };
+color col = red;
+color* cp = &col;
+if (*cp == blue)              // ...
 \end{codeblock}
 makes \tcode{color} a type describing various colors, and then declares
 \tcode{col} as an object of that type, and \tcode{cp} as a pointer to an
diff --git a/source/expressions.tex b/source/expressions.tex
index ae70f5e7..0215cb1e 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -4944,8 +4944,8 @@ by \tcode{e1}.
     std::unique_ptr<char[]> b{new (std::nothrow) char[8]};
     std::unique_ptr<char[]> c{new (std::nothrow) char[x]};
 
-    g(a.get(), b.get(), c.get());
-  }
+  g(a.get(), b.get(), c.get());
+}
 
   void cannot_merge(int x) {
     std::unique_ptr<char[]> a{new char[8]};
@@ -4957,6 +4957,7 @@ by \tcode{e1}.
       throw;
     }
   }
+}
 \end{codeblock}
 \end{example}
 
diff --git a/source/iterators.tex b/source/iterators.tex
index cace8247..55e0baad 100644
--- a/source/iterators.tex
+++ b/source/iterators.tex
@@ -1655,8 +1655,8 @@ Let \tcode{E} be an expression such that \tcode{decltype((E))} is \tcode{T}, and
 dereferenceable object of type \tcode{I}. \tcode{I} and \tcode{T} model \tcode{\libconcept{output_iterator}<I, T>} only if
 \tcode{*i++ = E;} has effects equivalent to:
 \begin{codeblock}
-  *i = E;
-  ++i;
+*i = E;
+++i;
 \end{codeblock}
 
 \pnum
diff --git a/source/overloading.tex b/source/overloading.tex
index ec51c972..f45ea6fa 100644
--- a/source/overloading.tex
+++ b/source/overloading.tex
@@ -2248,14 +2248,14 @@ applied during overload resolution, thereby avoiding infinite recursion.
 \end{note}
 \begin{example}
 \begin{codeblock}
-  struct Y { Y(int); };
-  struct A { operator int(); };
-  Y y1 = A();       // error: \tcode{A::operator int()} is not a candidate
-
-  struct X { X(); };
-  struct B { operator X(); };
-  B b;
-  X x{{b}};         // error: \tcode{B::operator X()} is not a candidate
+struct Y { Y(int); };
+struct A { operator int(); };
+Y y1 = A();         // error: \tcode{A::operator int()} is not a candidate
+
+struct X { X(); };
+struct B { operator X(); };
+B b;
+X x{{b}};           // error: \tcode{B::operator X()} is not a candidate
 \end{codeblock}
 \end{example}
 
diff --git a/source/ranges.tex b/source/ranges.tex
index 1c03d719..86438672 100644
--- a/source/ranges.tex
+++ b/source/ranges.tex
@@ -326,8 +326,8 @@ expression-equivalent to:
   \libconcept{input_or_output_iterator} with overload
   resolution performed in a context that includes the declarations:
   \begin{codeblock}
-  template<class T> void begin(T&&) = delete;
-  template<class T> void begin(initializer_list<T>&&) = delete;
+template<class T> void begin(T&&) = delete;
+template<class T> void begin(initializer_list<T>&&) = delete;
   \end{codeblock}
 
   and does not include a declaration of \tcode{ranges::begin}.
@@ -375,8 +375,8 @@ expression-equivalent to:
   with overload
   resolution performed in a context that includes the declarations:
   \begin{codeblock}
-  template<class T> void end(T&&) = delete;
-  template<class T> void end(initializer_list<T>&&) = delete;
+template<class T> void end(T&&) = delete;
+template<class T> void end(initializer_list<T>&&) = delete;
   \end{codeblock}
 
   and does not include a declaration of \tcode{ranges::end}.
@@ -453,7 +453,7 @@ expression-equivalent to:
   \libconcept{input_or_output_iterator} with overload
   resolution performed in a context that includes the declaration:
   \begin{codeblock}
-  template<class T> void rbegin(T&&) = delete;
+template<class T> void rbegin(T&&) = delete;
   \end{codeblock}
 
   and does not include a declaration of \tcode{ranges::rbegin}.
@@ -502,7 +502,7 @@ expression-equivalent to:
   with overload
   resolution performed in a context that includes the declaration:
   \begin{codeblock}
-  template<class T> void rend(T&&) = delete;
+template<class T> void rend(T&&) = delete;
   \end{codeblock}
 
   and does not include a declaration of \tcode{ranges::rend}.
@@ -596,7 +596,7 @@ object\iref{customization.point.object}. The expression
     with overload resolution performed in a context that includes
     the declaration:
     \begin{codeblock}
-    template<class T> void size(T&&) = delete;
+template<class T> void size(T&&) = delete;
     \end{codeblock}
 
     and does not include a declaration of \tcode{ranges::size}.
diff --git a/source/templates.tex b/source/templates.tex
index 58e154d4..b9fa0b4c 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -1198,7 +1198,7 @@ or a placeholder for a deduced class type\iref{dcl.type.class.deduct},
 the type of the parameter is the type deduced
 for the variable \tcode{x} in the invented declaration
 \begin{codeblock}
-  T x = @\grammartermnc{template-argument}@ ;
+T x = @\grammartermnc{template-argument}@ ;
 \end{codeblock}
 If a deduced parameter type is not permitted
 for a \grammarterm{template-parameter} declaration\iref{temp.param},
diff --git a/source/utilities.tex b/source/utilities.tex
index 20ac04e0..9401109f 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -1900,10 +1900,10 @@ Otherwise, the program is ill-formed.
 \pnum
 \begin{example}
 \begin{codeblock}
-  const tuple<int, const int, double, double> t(1, 2, 3.4, 5.6);
-  const int& i1 = get<int>(t);        // OK. Not ambiguous. \tcode{i1 == 1}
-  const int& i2 = get<const int>(t);  // OK. Not ambiguous. \tcode{i2 == 2}
-  const double& d = get<double>(t);   // ERROR. ill-formed
+const tuple<int, const int, double, double> t(1, 2, 3.4, 5.6);
+const int& i1 = get<int>(t);          // OK. Not ambiguous. \tcode{i1 == 1}
+const int& i2 = get<const int>(t);    // OK. Not ambiguous. \tcode{i2 == 2}
+const double& d = get<double>(t);     // ERROR. ill-formed
 \end{codeblock}
 \end{example}
 \end{itemdescr}
-- 
2.17.1


From 4751946aba6215fe20106c521c25bd232ee03822 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Wed, 5 Dec 2018 01:09:09 +0100
Subject: [PATCH 05/26] Use \range where appropriate.

---
 source/algorithms.tex |  6 +++---
 source/containers.tex | 34 +++++++++++++++++-----------------
 source/regex.tex      |  2 +-
 source/strings.tex    | 20 ++++++++++----------
 4 files changed, 31 insertions(+), 31 deletions(-)

diff --git a/source/algorithms.tex b/source/algorithms.tex
index 29a254a5..13100e68 100644
--- a/source/algorithms.tex
+++ b/source/algorithms.tex
@@ -6495,7 +6495,7 @@ The elements \tcode{e} of \range{first}{last}
 shall be partitioned with respect to the expressions
 \tcode{bool(invoke(comp, invoke(proj, e), value))} and
 \tcode{!bool(invoke(comp, value, invoke(proj, e)))}.
-Also, for all elements \tcode{e} of \tcode{[first, last)},
+Also, for all elements \tcode{e} of \range{first}{last},
 \tcode{bool(comp(e, value))} shall imply \tcode{!bool(comp(\brk{}value, e))}
 for the overloads in namespace \tcode{std}.
 
@@ -6559,7 +6559,7 @@ The elements \tcode{e} of \range{first}{last}
 shall be partitioned with respect to the expressions
 \tcode{bool(invoke(comp, invoke(proj, e), value))} and
 \tcode{!bool(invoke(comp, value, invoke(proj, e)))}.
-Also, for all elements \tcode{e} of \tcode{[first, last)},
+Also, for all elements \tcode{e} of \range{first}{last},
 \tcode{bool(comp(e, value))} shall imply \tcode{!bool(comp(\brk{}value, e))}
 for the overloads in namespace \tcode{std}.
 
@@ -9633,7 +9633,7 @@ move assigns from \tcode{val} to \tcode{acc}.
 \pnum
 For the overloads with an \tcode{ExecutionPolicy} and a non-empty range,
 performs \tcode{*result = *first}.
-Then, for every \tcode{d} in \tcode{[1, last - first - 1]},
+Then, for every \tcode{d} in \crange{1}{last - first - 1},
 performs \tcode{*(result + d) = binary_op(*(first + d), *(first + (d - 1)))}.
 
 \pnum
diff --git a/source/containers.tex b/source/containers.tex
index 24b4216a..ef5740f1 100644
--- a/source/containers.tex
+++ b/source/containers.tex
@@ -788,7 +788,7 @@ type\iref{temp.deduct} and
 \tcode{i} and \tcode{j}
 denote iterators that meet the \oldconcept{InputIterator} requirements
 and refer to elements implicitly convertible to \tcode{value_type},
-\tcode{[i, j)}
+\range{i}{j}
 denotes a valid range,
 \tcode{il} designates an object of type \tcode{initializer_list<value_type>},
 \tcode{n}
@@ -796,7 +796,7 @@ denotes a value of type \tcode{X::size_type},
 \tcode{p} denotes a valid constant iterator to
 \tcode{a}, \tcode{q}
 denotes a valid dereferenceable constant iterator to
-\tcode{a}, \tcode{[q1, q2)}
+\tcode{a}, \range{q1}{q2}
 denotes a valid range of constant iterators in
 \tcode{a}, \tcode{t}
 denotes an lvalue or a const rvalue of
@@ -1604,7 +1604,7 @@ denotes a valid range,
 \tcode{p} denotes a valid constant iterator to \tcode{a},
 \tcode{q} denotes a valid dereferenceable constant iterator to \tcode{a},
 \tcode{r} denotes a valid dereferenceable iterator to \tcode{a},
-\tcode{[q1, q2)} denotes a valid range of constant iterators in \tcode{a},
+\range{q1}{q2} denotes a valid range of constant iterators in \tcode{a},
 \tcode{il} designates an object of type \tcode{initializer_list<value_type>},
 \tcode{t} denotes a value of type \tcode{X::value_type},
 \tcode{k} denotes a value of type \tcode{X::key_type}
@@ -1711,9 +1711,9 @@ and \tcode{nh} denotes a non-const rvalue of type \tcode{X::node_type}.
                         &
   \expects \tcode{value_type} is \oldconcept{EmplaceConstructible} into \tcode{X} from \tcode{*i}.\br
   \effects\ Constructs an empty container and inserts elements from the
-  range \tcode{[i, j)} into it; uses \tcode{c} as a comparison object. &
+  range \range{i}{j} into it; uses \tcode{c} as a comparison object. &
   $N \log N$ in general, where $N$ has the value \tcode{distance(i, j)};
-  linear if \tcode{[i, j)} is sorted with \tcode{value_comp()} \\ \rowsep
+  linear if \range{i}{j} is sorted with \tcode{value_comp()} \\ \rowsep
 
 \tcode{X(i,j)}\br\tcode{X~u(i,j);}    &
                                     &
@@ -2273,12 +2273,12 @@ In \tref{container.hash.req}:
   is valid and denotes a type\iref{temp.deduct},
 \item \tcode{i} and \tcode{j} denote input iterators
   that refer to \tcode{value_type},
-\item \tcode{[i, j)} denotes a valid range,
+\item \range{i}{j} denotes a valid range,
 \item \tcode{p} and \tcode{q2} denote valid constant iterators to \tcode{a},
 \item \tcode{q} and \tcode{q1} denote
   valid dereferenceable constant iterators to \tcode{a},
 \item \tcode{r} denotes a valid dereferenceable iterator to \tcode{a},
-\item \tcode{[q1, q2)} denotes a valid range in \tcode{a},
+\item \range{q1}{q2} denotes a valid range in \tcode{a},
 \item \tcode{il} denotes a value of type \tcode{initializer_list<value_type>},
 \item \tcode{t} denotes a value of type \tcode{X::value_type},
 \item \tcode{k} denotes a value of type \tcode{key_type},
@@ -2434,7 +2434,7 @@ as the key equality predicate.
 &   \expects \tcode{value_type} is \oldconcept{EmplaceConstructible} into \tcode{X} from \tcode{*i}.\br
     \effects\ Constructs an empty container with at least \tcode{n} buckets,
 using \tcode{hf} as the hash function and \tcode{eq} as the key
-equality predicate, and inserts elements from \tcode{[i, j)} into it.
+equality predicate, and inserts elements from \range{i}{j} into it.
 &   Average case \bigoh{N} ($N$ is \tcode{distance(i, j)}), worst case
 \bigoh{N^2}
 \\ \rowsep
@@ -2445,7 +2445,7 @@ equality predicate, and inserts elements from \tcode{[i, j)} into it.
     \tcode{value_type} is \oldconcept{EmplaceConstructible} into \tcode{X} from \tcode{*i}.\br
     \effects\ Constructs an empty container with at least \tcode{n} buckets,
 using \tcode{hf} as the hash function and \tcode{key_equal()} as the key
-equality predicate, and inserts elements from \tcode{[i, j)} into it.
+equality predicate, and inserts elements from \range{i}{j} into it.
 &   Average case \bigoh{N} ($N$ is \tcode{distance(i, j)}), worst case
 \bigoh{N^2}
 \\ \rowsep
@@ -2456,7 +2456,7 @@ equality predicate, and inserts elements from \tcode{[i, j)} into it.
     \tcode{value_type} is \oldconcept{EmplaceConstructible} into \tcode{X} from \tcode{*i}.\br
     \effects\ Constructs an empty container with at least \tcode{n} buckets,
 using \tcode{hasher()} as the hash function and \tcode{key_equal()}
-as the key equality predicate, and inserts elements from \tcode{[i, j)}
+as the key equality predicate, and inserts elements from \range{i}{j}
 into it.
 &   Average case \bigoh{N} ($N$ is \tcode{distance(i, j)}), worst case
 \bigoh{N^2}
@@ -2469,7 +2469,7 @@ into it.
     \effects\ Constructs an empty container with an unspecified number of
 buckets, using \tcode{hasher()} as the hash function and
 \tcode{key_equal()} as the key equality predicate, and inserts elements
-from \tcode{[i, j)} into it.
+from \range{i}{j} into it.
 &   Average case \bigoh{N} ($N$ is \tcode{distance(i, j)}), worst case
 \bigoh{N^2}
 \\ \rowsep
@@ -4576,8 +4576,8 @@ the comparator \tcode{operator<} (for the first two overloads) or
 \tcode{get_allocator() == x.get_allocator()} is \tcode{true}.
 
 \pnum
-\effects Merges the two sorted ranges \tcode{[begin(), end())} and
-\tcode{[x.begin(), x.end())}. \tcode{x} is empty after the merge. If an
+\effects Merges the two sorted ranges \range{begin()}{end()} and
+\range{x.begin()}{x.end()}. \tcode{x} is empty after the merge. If an
 exception is thrown other than by a comparison there are no effects.
 Pointers and references to the moved elements of \tcode{x} now refer to those same elements
 but as members of \tcode{*this}. Iterators referring to the moved elements will continue to
@@ -5225,7 +5225,7 @@ or
 \pnum
 \complexity
 If the range
-\tcode{[first, last)}
+\range{first}{last}
 is not empty, exactly
 \tcode{(last - first) - 1}
 applications of the corresponding predicate,
@@ -5251,8 +5251,8 @@ the comparator \tcode{operator<} (for the first two overloads) or
 
 \pnum
 \effects
-If \tcode{addressof(x) == this}, does nothing; otherwise, merges the two sorted ranges \tcode{[begin(),
-end())} and \tcode{[x.\brk{}begin(), x.end())}. The result is a range in which the elements
+If \tcode{addressof(x) == this}, does nothing; otherwise, merges the two sorted ranges \range{begin()}{end()}
+and \range{x.\brk{}begin()}{x.end()}. The result is a range in which the elements
 will be sorted in non-decreasing order according to the ordering defined by \tcode{comp}; that
 is, for every iterator \tcode{i}, in the range other than the first, the condition
 \tcode{comp(*i, *(i - 1))} will be \tcode{false}.
@@ -5262,7 +5262,7 @@ refer to their elements, but they now behave as iterators into \tcode{*this}, no
 \tcode{x}.
 
 \pnum
-\remarks Stable\iref{algorithm.stable}. If \tcode{addressof(x) != this}, the range \tcode{[x.begin(), x.end())}
+\remarks Stable\iref{algorithm.stable}. If \tcode{addressof(x) != this}, the range \range{x.begin()}{x.end()}
 is empty after the merge.
 No elements are copied by this operation.
 
diff --git a/source/regex.tex b/source/regex.tex
index 0699c284..831c0cd3 100644
--- a/source/regex.tex
+++ b/source/regex.tex
@@ -3114,7 +3114,7 @@ iterator then returns \tcode{*this}.
 In all cases in which the call to \tcode{regex_search} returns \tcode{true},
 \tcode{match.prefix().first} shall be equal to the previous value of
 \tcode{match[0].second}, and for each index \tcode{i} in the half-open range
-\tcode{[0, match.size())} for which \tcode{match[i].matched} is \tcode{true},
+\range{0}{match.size()} for which \tcode{match[i].matched} is \tcode{true},
 \tcode{match.position(i)}
 shall return \tcode{distance(begin, match[i].\brk{}first)}.
 
diff --git a/source/strings.tex b/source/strings.tex
index 612d8236..9b9d44cc 100644
--- a/source/strings.tex
+++ b/source/strings.tex
@@ -134,27 +134,27 @@ Operations on \tcode{X} shall not throw exceptions.
 \tcode{X::lt(c,d)}      &   \tcode{bool}        &
 \returns whether \tcode{c} is to be treated as less than \tcode{d}.  &   constant    \\ \rowsep
 \tcode{X::compare(p,q,n)}   &   \tcode{int}     &
-\returns \tcode{0} if for each \tcode{i} in \tcode{[0,n)}, \tcode{X::eq(p[i],q[i])}
-is \tcode{true}; else, a negative value if, for some \tcode{j} in \tcode{[0,n)},
-\tcode{X::lt(p[j],q[j])} is \tcode{true} and for each \tcode{i} in \tcode{[0,j)}
+\returns \tcode{0} if for each \tcode{i} in \range{0}{n}, \tcode{X::eq(p[i],q[i])}
+is \tcode{true}; else, a negative value if, for some \tcode{j} in \range{0}{n},
+\tcode{X::lt(p[j],q[j])} is \tcode{true} and for each \tcode{i} in \range{0}{j}
 \tcode{X::eq(p[i],q[i])} is \tcode{true}; else a positive value.            &   linear      \\ \rowsep
 \tcode{X::length(p)}    &   \tcode{size_t}     &
 \returns the smallest \tcode{i} such that \tcode{X::eq(p[i],charT())} is \tcode{true}.  &   linear  \\ \rowsep
 \tcode{X::find(p,n,c)}  &   \tcode{const X::char_type*} &
-\returns the smallest \tcode{q} in \tcode{[p,p+n)} such that
+\returns the smallest \tcode{q} in \range{p}{p+n} such that
 \tcode{X::eq(*q,c)} is \tcode{true}, zero otherwise.                        &   linear      \\ \rowsep
 \tcode{X::move(s,p,n)}  &   \tcode{X::char_type*}   &
-for each \tcode{i} in \tcode{[0,n)}, performs \tcode{X::assign(s[i],p[i])}.
-Copies correctly even where the ranges \tcode{[p,p+n)} and \tcode{[s,s+n)} overlap.\br \returns \tcode{s}.    &   linear  \\ \rowsep
+for each \tcode{i} in \range{0}{n}, performs \tcode{X::assign(s[i],p[i])}.
+Copies correctly even where the ranges \range{p}{p+n} and \range{s}{s+n} overlap.\br \returns \tcode{s}.    &   linear  \\ \rowsep
 \tcode{X::copy(s,p,n)}  &   \tcode{X::char_type*}   &
-\expects \tcode{p} not in \tcode{[s,s+n)}. \br
+\expects \tcode{p} not in \range{s}{s+n}. \br
 \returns \tcode{s}.\br
 for each \tcode{i} in
-\tcode{[0,n)}, performs \tcode{X::assign(s[i],p[i])}.               &   linear      \\ \rowsep
+\range{0}{n}, performs \tcode{X::assign(s[i],p[i])}.               &   linear      \\ \rowsep
 \tcode{X::assign(r,d)}  &   (not used)          &
 assigns \tcode{r=d}.                            &   constant        \\ \rowsep
 \tcode{X::assign\-(s,n,c)}  &   \tcode{X::char_type*}   &
-for each \tcode{i} in \tcode{[0,n)}, performs
+for each \tcode{i} in \range{0}{n}, performs
 \tcode{X::assign(s[i],c)}.\br
 \returns \tcode{s}.                       &   linear      \\ \rowsep
 \tcode{X::not_eof(e)}   &   \tcode{int_type}        &
@@ -2415,7 +2415,7 @@ constexpr iterator erase(const_iterator first, const_iterator last);
 \pnum
 \effects
 Removes the characters in the range
-\tcode{[first, last)}.
+\range{first}{last}.
 
 \pnum
 \returns
-- 
2.17.1


From 852c4a6f1e4d5249b82ba27347bb6eaf11728659 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Fri, 10 Mar 2017 14:45:02 +0100
Subject: [PATCH 06/26] [expr.mptr.oper] Add missing indentation in example
 code. [rejected upstream: 1529]

---
 source/expressions.tex | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/source/expressions.tex b/source/expressions.tex
index 0215cb1e..067f9602 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -5596,9 +5596,9 @@ struct S {
 };
 void f()
 {
-const S cs;
-int S::* pm = &S::i;            // \tcode{pm} refers to \tcode{mutable} member \tcode{S::i}
-cs.*pm = 88;                    // ill-formed: \tcode{cs} is a const object
+  const S cs;
+  int S::* pm = &S::i;          // \tcode{pm} refers to \tcode{mutable} member \tcode{S::i}
+  cs.*pm = 88;                  // ill-formed: \tcode{cs} is a const object
 }
 \end{codeblock}
 \end{note}
-- 
2.17.1


From aab60f61095c7a71e116c37e3fba9c39da535e35 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 26 Feb 2017 14:24:19 +0100
Subject: [PATCH 07/26] [some.where] Replace \term with \placeholder.

---
 source/expressions.tex | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/source/expressions.tex b/source/expressions.tex
index 067f9602..41b3e5e1 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -3487,7 +3487,7 @@ The result of a \tcode{typeid} expression is an lvalue of static type
 \indextext{\idxcode{type_info}}%
 \indexlibrary{\idxcode{type_info}}%
 \tcode{const} \tcode{std::type_info}\iref{type.info} and dynamic type \tcode{const}
-\tcode{std::type_info} or \tcode{const} \term{name} where \term{name} is an
+\tcode{std::type_info} or \tcode{const} \placeholder{name} where \placeholder{name} is an
 \impldef{derived type for \tcode{typeid}} class publicly derived from
 \tcode{std::type_info} which preserves the behavior described
 in~\ref{type.info}.\footnote{The recommended name for such a class is
-- 
2.17.1


From d1591358dedf61c726d0e86967f059256175022c Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Wed, 1 Feb 2017 03:39:27 +0100
Subject: [PATCH 08/26] Make references more precise.

---
 source/basic.tex        | 4 ++--
 source/declarations.tex | 2 +-
 source/statements.tex   | 2 +-
 source/strings.tex      | 2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/source/basic.tex b/source/basic.tex
index 9a5236b7..75b2be50 100644
--- a/source/basic.tex
+++ b/source/basic.tex
@@ -105,7 +105,7 @@ A declaration may also have effects including:
 \item a static assertion\iref{dcl.dcl},
 \item controlling template instantiation\iref{temp.explicit},
 \item guiding template argument deduction for constructors\iref{temp.deduct.guide},
-\item use of attributes\iref{dcl.dcl}, and
+\item use of attributes\iref{dcl.attr}, and
 \item nothing (in the case of an \grammarterm{empty-declaration}).
 \end{itemize}
 
@@ -4819,7 +4819,7 @@ Integral and floating-point types are collectively
 called \defnx{arithmetic}{type!arithmetic} types.
 \indextext{\idxcode{numeric_limits}!specializations for arithmetic types}%
 Specializations of the standard library template
-\tcode{std::numeric_limits}\iref{support.limits} shall specify the
+\tcode{std::numeric_limits}\iref{numeric.limits} shall specify the
 maximum and minimum values of each arithmetic type for an
 implementation.
 
diff --git a/source/declarations.tex b/source/declarations.tex
index 028558d0..be969be0 100644
--- a/source/declarations.tex
+++ b/source/declarations.tex
@@ -8250,7 +8250,7 @@ extern "C" {
 Linkage specifications nest. When linkage specifications nest, the
 innermost one determines the language linkage. A linkage specification
 does not establish a scope. A \grammarterm{linkage-specification} shall
-occur only in namespace scope\iref{basic.scope}. In a
+occur only in namespace scope\iref{basic.scope.namespace}. In a
 \grammarterm{linkage-specification}, the specified language linkage applies
 to the function types of all function declarators, function names with
 external linkage, and variable names with external linkage declared
diff --git a/source/statements.tex b/source/statements.tex
index f958ecf1..9b789f2f 100644
--- a/source/statements.tex
+++ b/source/statements.tex
@@ -1036,7 +1036,7 @@ to determine whether this is the case. This resolves the meaning
 of many examples.
 \begin{example}
 Assuming \tcode{T} is a
-\grammarterm{simple-type-specifier}\iref{dcl.type},
+\grammarterm{simple-type-specifier}\iref{dcl.type.simple},
 
 \begin{codeblock}
 T(a)->m = 7;        // expression-statement
diff --git a/source/strings.tex b/source/strings.tex
index 9b9d44cc..7df761d8 100644
--- a/source/strings.tex
+++ b/source/strings.tex
@@ -1370,7 +1370,7 @@ constexpr basic_string& operator=(basic_string&& str)
 \begin{itemdescr}
 \pnum
 \effects
-Move assigns as a sequence container\iref{container.requirements},
+Move assigns as a sequence container\iref{sequence.reqmts},
 except that iterators, pointers and references may be invalidated.
 
 \pnum
-- 
2.17.1


From 66ca2cb6247cc867f31971d44426c95079e82ba5 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sat, 7 Jan 2017 01:59:05 +0100
Subject: [PATCH 09/26] [rand.req.eng] Omit superfluous dollar-math wrapping
 inside \bigoh. [rejected upstream: 1340]

---
 source/numerics.tex | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

diff --git a/source/numerics.tex b/source/numerics.tex
index 7dbfdb98..059cf603 100644
--- a/source/numerics.tex
+++ b/source/numerics.tex
@@ -2297,21 +2297,21 @@ according to \ref{strings} and \ref{input.output}.
     with the same initial state
     as all other default-constructed engines
     of type \tcode{E}.
-  & \bigoh{$\text{size of state}$}
+  & \bigoh{\text{size of state}}
   \\ \rowsep
 \tcode{E(x)}
 \indextext{copy constructor!random number engine requirement}
   &
   & Creates an engine
     that compares equal to \tcode{x}.
-  & \bigoh{$\text{size of state}$}
+  & \bigoh{\text{size of state}}
   \\ \rowsep
 \tcode{E(s)}%
 \indextext{constructor!random number engine requirement}
   &
   & Creates an engine
       with initial state determined by \tcode{s}.
-  & \bigoh{$\text{size of state}$}
+  & \bigoh{\text{size of state}}
   \\ \rowsep
 \tcode{E(q)}%
 \indextext{constructor!random number engine requirement}\footnote{  This constructor
@@ -2390,13 +2390,13 @@ according to \ref{strings} and \ref{input.output}.
     returns \tcode{true}
       if $S_x = S_y$;
     else returns \tcode{false}.
-  & \bigoh{$\text{size of state}$}
+  & \bigoh{\text{size of state}}
   \\ \rowsep
 \tcode{x != y}%
 \indextext{\idxcode{operator"!=}!random number engine requirement}
   & \tcode{bool}
   & \tcode{!(x == y)}.
-  & \bigoh{$\text{size of state}$}
+  & \bigoh{\text{size of state}}
   \\ \rowsep
 \tcode{os << x}%
 \indextext{\idxcode{operator<<}!random number engine requirement}
@@ -2412,7 +2412,7 @@ according to \ref{strings} and \ref{input.output}.
     by one or more space characters.
 
     \ensures The \tcode{os.}\textit{fmtflags} and fill character are unchanged.
-  & \bigoh{$\text{size of state}$}
+  & \bigoh{\text{size of state}}
   \\ \rowsep
 \tcode{is >> v}%
 \indextext{\idxcode{operator>>}!random number engine requirement}
@@ -2443,7 +2443,7 @@ according to \ref{strings} and \ref{input.output}.
     were respectively the same as those of \tcode{is}.
 
     \ensures The \tcode{is.}\textit{fmtflags} are unchanged.
-  & \bigoh{$\text{size of state}$}
+  & \bigoh{\text{size of state}}
   \\
 \end{libreqtab4d}
 
-- 
2.17.1


From f1beaff36701fc297d70c71dfaf8aa01c086d3ee Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Thu, 5 Jan 2017 23:06:32 +0100
Subject: [PATCH 10/26] Move index entries for first item in enumeration into
 item.

---
 source/lex.tex | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/source/lex.tex b/source/lex.tex
index 647871d0..a69be8a0 100644
--- a/source/lex.tex
+++ b/source/lex.tex
@@ -59,9 +59,10 @@ following phases.\footnote{Implementations must behave as if these separate phas
 occur, although in practice different phases might be folded together.}
 
 \begin{enumerate}
+\item
 \indextext{character!source file}%
 \indextext{character set!basic source}%
-\item Physical source file characters are mapped, in an
+Physical source file characters are mapped, in an
 \impldef{mapping physical source file characters to basic source character set} manner,
 to the basic source character set (introducing new-line characters for end-of-line
 indicators) if necessary.
-- 
2.17.1


From dff1c3eaff2c484cda702fbf4d20938aedab964e Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Mon, 23 Jan 2017 06:58:26 +0100
Subject: [PATCH 11/26] Reduce excessive indentation of comments. Helps layout
 on smaller (e.g. half-screen) window sizes.

---
 source/basic.tex       | 30 +++++++++++++++---------------
 source/expressions.tex | 18 +++++++++---------
 source/templates.tex   | 16 ++++++++--------
 3 files changed, 32 insertions(+), 32 deletions(-)

diff --git a/source/basic.tex b/source/basic.tex
index 75b2be50..21109c94 100644
--- a/source/basic.tex
+++ b/source/basic.tex
@@ -228,7 +228,7 @@ or destructor\iref{class.dtor} member functions.
 #include <string>
 
 struct C {
-  std::string s;                // \tcode{std::string} is the standard library class\iref{strings}
+  std::string s;    // \tcode{std::string} is the standard library class\iref{strings}
 };
 
 int main() {
@@ -1741,8 +1741,8 @@ namespace N {
 
 void g() {
   N::S s;
-  f(s);             // OK: calls \tcode{N::f}
-  (f)(s);           // error: \tcode{N::f} not considered; parentheses prevent argument-dependent lookup
+  f(s);     // OK: calls \tcode{N::f}
+  (f)(s);   // error: \tcode{N::f} not considered; parentheses prevent argument-dependent lookup
 }
 \end{codeblock}
 \end{example}
@@ -2188,23 +2188,23 @@ namespace AB {
 
 void h()
 {
-  AB::g();          // \tcode{g} is declared directly in \tcode{AB}, therefore \tcode{S} is $\{ \tcode{AB::g()} \}$ and \tcode{AB::g()} is chosen
+  AB::g();      // \tcode{g} is declared directly in \tcode{AB}, therefore \tcode{S} is $\{ \tcode{AB::g()} \}$ and \tcode{AB::g()} is chosen
 
-  AB::f(1);         // \tcode{f} is not declared directly in \tcode{AB} so the rules are applied recursively to \tcode{A} and \tcode{B};
-                    // namespace \tcode{Y} is not searched and \tcode{Y::f(float)} is not considered;
-                    // \tcode{S} is $\{ \tcode{A::f(int)}, \tcode{B::f(char)} \}$ and overload resolution chooses \tcode{A::f(int)}
+  AB::f(1);     // \tcode{f} is not declared directly in \tcode{AB} so the rules are applied recursively to \tcode{A} and \tcode{B};
+                // namespace \tcode{Y} is not searched and \tcode{Y::f(float)} is not considered;
+                // \tcode{S} is $\{ \tcode{A::f(int)}, \tcode{B::f(char)} \}$ and overload resolution chooses \tcode{A::f(int)}
 
-  AB::f('c');       // as above but resolution chooses \tcode{B::f(char)}
+  AB::f('c');   // as above but resolution chooses \tcode{B::f(char)}
 
-  AB::x++;          // \tcode{x} is not declared directly in \tcode{AB}, and is not declared in \tcode{A} or \tcode{B}, so the rules
-                    // are applied recursively to \tcode{Y} and \tcode{Z}, \tcode{S} is $\{ \}$ so the program is ill-formed
+  AB::x++;      // \tcode{x} is not declared directly in \tcode{AB}, and is not declared in \tcode{A} or \tcode{B}, so the rules
+                // are applied recursively to \tcode{Y} and \tcode{Z}, \tcode{S} is $\{ \}$ so the program is ill-formed
 
-  AB::i++;          // \tcode{i} is not declared directly in \tcode{AB} so the rules are applied recursively to \tcode{A} and \tcode{B},
-                    // \tcode{S} is $\{ \tcode{A::i}, \tcode{B::i} \}$ so the use is ambiguous and the program is ill-formed
+  AB::i++;      // \tcode{i} is not declared directly in \tcode{AB} so the rules are applied recursively to \tcode{A} and \tcode{B},
+                // \tcode{S} is $\{ \tcode{A::i}, \tcode{B::i} \}$ so the use is ambiguous and the program is ill-formed
 
-  AB::h(16.8);      // \tcode{h} is not declared directly in \tcode{AB} and not declared directly in \tcode{A} or \tcode{B} so the rules
-                    // are applied recursively to \tcode{Y} and \tcode{Z}, \tcode{S} is $\{ \tcode{Y::h(int)}, \tcode{Z::h(double)} \}$ and
-                    // overload resolution chooses \tcode{Z::h(double)}
+  AB::h(16.8);  // \tcode{h} is not declared directly in \tcode{AB} and not declared directly in \tcode{A} or \tcode{B} so the rules
+                // are applied recursively to \tcode{Y} and \tcode{Z}, \tcode{S} is $\{ \tcode{Y::h(int)}, \tcode{Z::h(double)} \}$ and
+                // overload resolution chooses \tcode{Z::h(double)}
 }
 \end{codeblock}
 \end{example}
diff --git a/source/expressions.tex b/source/expressions.tex
index 41b3e5e1..5f6c34a8 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -2163,8 +2163,8 @@ void f1(int i) {
   auto m1 = [=]{
     int const M = 30;
     auto m2 = [i]{
-      int x[N][M];              // OK: \tcode{N} and \tcode{M} are not odr-used
-      x[0][0] = i;              // OK: \tcode{i} is explicitly captured by \tcode{m2} and implicitly captured by \tcode{m1}
+      int x[N][M];          // OK: \tcode{N} and \tcode{M} are not odr-used
+      x[0][0] = i;          // OK: \tcode{i} is explicitly captured by \tcode{m2} and implicitly captured by \tcode{m1}
     };
   };
   struct s1 {
@@ -2173,12 +2173,12 @@ void f1(int i) {
       int m = n*n;
       int j = 40;
       auto m3 = [this,m] {
-        auto m4 = [&,j] {       // error: \tcode{j} not odr-usable due to intervening lambda \tcode{m3}
-          int x = n;            // error: \tcode{n} is odr-used but not odr-usable due to intervening lambda \tcode{m3}
-          x += m;               // OK: \tcode{m} implicitly captured by \tcode{m4} and explicitly captured by \tcode{m3}
-          x += i;               // error: \tcode{i} is odr-used but not odr-usable
-                                // due to intervening function and class scopes
-          x += f;               // OK: \tcode{this} captured implicitly by \tcode{m4} and explicitly by \tcode{m3}
+        auto m4 = [&,j] {   // error: \tcode{j} not odr-usable due to intervening lambda \tcode{m3}
+          int x = n;        // error: \tcode{n} is odr-used but not odr-usable due to intervening lambda \tcode{m3}
+          x += m;           // OK: \tcode{m} implicitly captured by \tcode{m4} and explicitly captured by \tcode{m3}
+          x += i;           // error: \tcode{i} is odr-used but not odr-usable
+                            // due to intervening function and class scopes
+          x += f;           // OK: \tcode{this} captured implicitly by \tcode{m4} and explicitly by \tcode{m3}
         };
       };
     }
@@ -2196,7 +2196,7 @@ struct s2 {
   }
   auto g() {
     return [] {
-      return [*this] { };       // error: \tcode{*this} not captured by outer \grammarterm{lambda-expression}
+      return [*this] { };   // error: \tcode{*this} not captured by outer \grammarterm{lambda-expression}
     }();
   }
 };
diff --git a/source/templates.tex b/source/templates.tex
index b9fa0b4c..f3faf4a7 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -1421,11 +1421,11 @@ template <int N> struct C;
 template <class T1, int N> struct D;
 template <class T1, class T2, int N = 17> struct E;
 
-eval<A<int>> eA;                // OK: matches partial specialization of \tcode{eval}
-eval<B<int, float>> eB;         // OK: matches partial specialization of \tcode{eval}
-eval<C<17>> eC;                 // error: \tcode{C} does not match \tcode{TT} in partial specialization
-eval<D<int, 17>> eD;            // error: \tcode{D} does not match \tcode{TT} in partial specialization
-eval<E<int, float>> eE;         // error: \tcode{E} does not match \tcode{TT} in partial specialization
+eval<A<int>> eA;            // OK: matches partial specialization of \tcode{eval}
+eval<B<int, float>> eB;     // OK: matches partial specialization of \tcode{eval}
+eval<C<17>> eC;             // error: \tcode{C} does not match \tcode{TT} in partial specialization
+eval<D<int, 17>> eD;        // error: \tcode{D} does not match \tcode{TT} in partial specialization
+eval<E<int, float>> eE;     // error: \tcode{E} does not match \tcode{TT} in partial specialization
 \end{codeblock}
 \end{example}
 \begin{example}
@@ -4986,9 +4986,9 @@ struct C : A, T {
   int g() { return m; }         // finds \tcode{A::m} in the template definition context
 };
 
-template int C<B>::f();         // error: finds both \tcode{A::m} and \tcode{B::m}
-template int C<B>::g();         // OK: transformation to class member access syntax
-                                // does not occur in the template definition context; see~\ref{class.mfct.non-static}
+template int C<B>::f();     // error: finds both \tcode{A::m} and \tcode{B::m}
+template int C<B>::g();     // OK: transformation to class member access syntax
+                            // does not occur in the template definition context; see~\ref{class.mfct.non-static}
 \end{codeblock}
 \end{example}
 
-- 
2.17.1


From 4574633e1be05bb047886d6a3e9021ec22a6101b Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Wed, 1 Feb 2017 03:24:29 +0100
Subject: [PATCH 12/26] Add and use new link macros.

---
 source/algorithms.tex    |   6 +-
 source/atomics.tex       |   8 +-
 source/basic.tex         | 306 +++++++++++------------
 source/classes.tex       |  95 ++++---
 source/compatibility.tex |  54 ++--
 source/containers.tex    |  68 ++---
 source/declarations.tex  | 157 ++++++------
 source/diagnostics.tex   |  10 +-
 source/exceptions.tex    |  82 +++---
 source/expressions.tex   | 524 ++++++++++++++++++++-------------------
 source/future.tex        |  14 +-
 source/grammar.tex       |   8 +-
 source/intro.tex         |  25 +-
 source/iostreams.tex     | 234 +++++++++--------
 source/iterators.tex     |  30 ++-
 source/lex.tex           |  64 ++---
 source/lib-intro.tex     | 141 +++++------
 source/limits.tex        |   2 +-
 source/locales.tex       |  20 +-
 source/macros.tex        |  48 ++++
 source/numerics.tex      | 190 ++++++++------
 source/overloading.tex   | 112 ++++-----
 source/preprocessor.tex  |  22 +-
 source/ranges.tex        |  52 ++--
 source/regex.tex         |  76 +++---
 source/statements.tex    |  70 +++---
 source/strings.tex       |  44 ++--
 source/support.tex       | 160 ++++++------
 source/templates.tex     | 255 +++++++++----------
 source/threads.tex       |  71 +++---
 source/utilities.tex     | 472 +++++++++++++++++++----------------
 31 files changed, 1789 insertions(+), 1631 deletions(-)

diff --git a/source/algorithms.tex b/source/algorithms.tex
index 13100e68..35eddb2d 100644
--- a/source/algorithms.tex
+++ b/source/algorithms.tex
@@ -5,7 +5,7 @@
 
 \pnum
 This Clause describes components that \Cpp{} programs may use to perform
-algorithmic operations on containers\iref{containers} and other sequences.
+algorithmic operations on \link{containers}{containers} and other sequences.
 
 \pnum
 The following subclauses describe components for
@@ -7028,7 +7028,7 @@ In either case, twice as many projections as comparisons.
 
 \pnum
 \remarks
-Stable\iref{algorithm.stable}.
+\link{Stable}{algorithm.stable}.
 \end{itemdescr}
 
 \begin{itemdecl}
@@ -9803,7 +9803,7 @@ where the result of the division is truncated towards zero.
 \pnum
 \indexhdr{cstdlib}%
 \begin{note}
-The header \tcode{<cstdlib>}\iref{cstdlib.syn}
+The header \link{\tcode{<cstdlib>}}{cstdlib.syn}
 declares the functions described in this subclause.
 \end{note}
 
diff --git a/source/atomics.tex b/source/atomics.tex
index 101a09b4..366d09de 100644
--- a/source/atomics.tex
+++ b/source/atomics.tex
@@ -566,16 +566,18 @@ the read-modify-write operation.
 Implementations should make atomic stores visible to atomic loads within a reasonable
 amount of time.
 
-\indexlibrary{\idxcode{kill_dependency}}%
+\begin{indexed}{\indexlibrary{\idxcode{kill_dependency}}}
 \begin{itemdecl}
 template<class T>
   T kill_dependency(T y) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
-\effects The argument does not carry a dependency to the return
-value\iref{intro.multithread}.
+\effects The argument does not
+\deflinkx{carry a dependency}{carries a dependency}{intro.multithread}
+to the return value.
 
 \pnum
 \returns \tcode{y}.
diff --git a/source/basic.tex b/source/basic.tex
index 21109c94..658c2f41 100644
--- a/source/basic.tex
+++ b/source/basic.tex
@@ -44,7 +44,7 @@ label~(\ref{stmt.goto}, \ref{stmt.label}).
 \pnum
 Every name that denotes an entity is introduced by a
 \defn{declaration}. Every name that denotes a label is introduced
-either by a \tcode{goto} statement\iref{stmt.goto} or a
+either by a \link{\tcode{goto} statement}{stmt.goto} or a
 \grammarterm{labeled-statement}\iref{stmt.label}.
 
 \pnum
@@ -55,10 +55,10 @@ an object. The variable's name, if any, denotes the reference or object.
 
 \pnum
 A \defnadj{local}{entity} is a variable with
-automatic storage duration\iref{basic.stc.auto},
-a structured binding\iref{dcl.struct.bind}
+\link{automatic storage duration}{basic.stc.auto},
+a \link{structured binding}{dcl.struct.bind}
 whose corresponding variable is such an entity,
-or the \tcode{*this} object\iref{expr.prim.this}.
+or the \link{\tcode{*this} object}{expr.prim.this}.
 
 \pnum
 Some names denote types or templates. In general,
@@ -77,7 +77,7 @@ the same operator, or
 with the same type, or
 \item they are \grammarterm{template-id}{s} that refer to the same class,
 function, or variable\iref{temp.type}, or
-\item they are the names of literal operators\iref{over.literal} formed with
+\item they are the names of \link{literal operators}{over.literal} formed with
 the same literal suffix identifier.
 \end{itemize}
 
@@ -86,7 +86,7 @@ the same literal suffix identifier.
 \indextext{linkage}%
 A name used in more than one translation unit can potentially
 refer to the same entity in these translation units depending on the
-linkage\iref{basic.link} of the name specified in each
+\link{linkage}{basic.link} of the name specified in each
 translation unit.
 
 \rSec1[basic.def]{Declarations and definitions}
@@ -95,17 +95,17 @@ translation unit.
 \indextext{declaration!definition versus}%
 \indextext{declaration}%
 \indextext{declaration!name}%
-A declaration\iref{dcl.dcl} may introduce
+A \link{declaration}{dcl.dcl} may introduce
 one or more names into a translation
 unit or redeclare names introduced by previous declarations.
 If so, the
 declaration specifies the interpretation and semantic properties of these names.
 A declaration may also have effects including:
 \begin{itemize}
-\item a static assertion\iref{dcl.dcl},
-\item controlling template instantiation\iref{temp.explicit},
+\item a \linkx{static assertion}{\idxgram{static_assert}}{dcl.dcl},
+\item controlling \link{template instantiation}{temp.explicit},
 \item guiding template argument deduction for constructors\iref{temp.deduct.guide},
-\item use of attributes\iref{dcl.attr}, and
+\item use of \link{attributes}{dcl.attr}, and
 \item nothing (in the case of an \grammarterm{empty-declaration}).
 \end{itemize}
 
@@ -122,7 +122,7 @@ without specifying the function's body\iref{dcl.fct.def},
 it contains
 the
 \indextext{declaration!\idxcode{extern}}%
-\tcode{extern} specifier\iref{dcl.stc} or a
+\linkx{\tcode{extern}}{\idxcode{extern}}{dcl.stc} specifier or a
 \grammarterm{linkage-specification}\footnote{Appearing inside the brace-enclosed
 \grammarterm{declaration-seq} in a \grammarterm{linkage-specification} does
 not affect whether a declaration is a definition.}\iref{dcl.link}
@@ -157,7 +157,7 @@ declarator that is not the \grammarterm{declarator} of a
 \item
 it is a
 \indextext{declaration!\idxcode{typedef}}%
-\tcode{typedef} declaration\iref{dcl.typedef},
+\link{\tcode{typedef}}{dcl.typedef} declaration,
 \item it is
 an \grammarterm{alias-declaration}\iref{dcl.typedef},
 \item it is
@@ -180,7 +180,7 @@ a \grammarterm{using-enum-declaration}\iref{enum.udecl},
 \item it is
 an explicit instantiation declaration\iref{temp.explicit}, or
 \item it is
-an explicit specialization\iref{temp.expl.spec} whose
+an \link{explicit specialization}{temp.expl.spec} whose
 \grammarterm{declaration} is not a definition.
 \end{itemize}
 A declaration is said to be a \defn{definition} of each entity that it defines.
@@ -221,7 +221,7 @@ In some circumstances, \Cpp{} implementations implicitly define the
 default constructor\iref{class.default.ctor},
 copy constructor, move constructor\iref{class.copy.ctor},
 copy assignment operator, move assignment operator\iref{class.copy.assign},
-or destructor\iref{class.dtor} member functions.
+or \link{destructor}{class.dtor} member functions.
 \end{note}
 \begin{example} Given
 \begin{codeblock}
@@ -265,7 +265,7 @@ A class name can also be implicitly declared by an
 In the definition of an object,
 the type of that object shall not be
 an incomplete type\iref{basic.types},
-an abstract class type\iref{class.abstract}, or
+an \link{abstract class type}{class.abstract}, or
 a (possibly multi-dimensional) array thereof.
 
 \indextext{object!definition}%
@@ -293,7 +293,7 @@ defined as follows:
 \item If \tcode{e} is an
 \grammarterm{id-expression}\iref{expr.prim.id}, the set
 contains only \tcode{e}.
-\item If \tcode{e} is a subscripting operation\iref{expr.sub} with
+\item If \tcode{e} is a \link{subscripting operation}{expr.sub} with
 an array operand, the set contains the potential results of that operand.
 \item If \tcode{e} is a class member access
 expression\iref{expr.ref} of the form
@@ -309,10 +309,10 @@ expression\iref{expr.mptr.oper} of the form
 the set contains the potential results of \tcode{e1}.
 \item If \tcode{e} has the form \tcode{(e1)}, the set contains the
 potential results of \tcode{e1}.
-\item If \tcode{e} is a glvalue conditional
-expression\iref{expr.cond}, the set is the union of the sets of
+\item If \tcode{e} is a glvalue \link{conditional}{expr.cond}
+expression, the set is the union of the sets of
 potential results of the second and third operands.
-\item If \tcode{e} is a comma expression\iref{expr.comma}, the set
+\item If \tcode{e} is a \link{comma expression}{expr.comma}, the set
 contains the potential results of the right operand.
 \item Otherwise, the set is empty.
 \end{itemize}
@@ -419,8 +419,8 @@ implicitly-defined
 copy-assignment or move-assignment function for another class as specified
 in~\ref{class.copy.assign}.
 A constructor for a class is odr-used as specified
-in~\ref{dcl.init}. A destructor for a class is odr-used if it is potentially
-invoked\iref{class.dtor}.
+in~\ref{dcl.init}. A destructor for a class is odr-used if it is
+\deflink{potentially invoked}{class.dtor}.
 
 \pnum
 A local entity\iref{basic}
@@ -468,7 +468,7 @@ void f(int n) {
 \pnum
 Every program shall contain exactly one definition of every non-inline
 function or variable that is odr-used in that program
-outside of a discarded statement\iref{stmt.if}; no diagnostic required.
+outside of a \deflink{discarded statement}{stmt.if}; no diagnostic required.
 The definition can appear explicitly in the program, it can be found in
 the standard or a user-defined library, or (when appropriate) it is
 implicitly defined (see~\ref{class.default.ctor}, \ref{class.copy.ctor},
@@ -508,9 +508,9 @@ X* x2;                          // use \tcode{X} in pointer formation
 describe in which contexts complete class types are required. A class
 type \tcode{T} must be complete if:
 \begin{itemize}
-\item an object of type \tcode{T} is defined\iref{basic.def}, or
-\item a non-static class data member of type \tcode{T} is
-declared\iref{class.mem}, or
+\item an object of type \tcode{T} is \link{defined}{basic.def}, or
+\item a non-static class \deflink{data member}{class.mem} of
+type \tcode{T} is declared, or
 \item \tcode{T} is used as the allocated type or array element type in a
 \grammarterm{new-expression}\iref{expr.new}, or
 \item an lvalue-to-rvalue conversion is applied to
@@ -521,21 +521,21 @@ type \tcode{T} (\ref{conv}, \ref{expr.type.conv},
 \ref{expr.dynamic.cast}, \ref{expr.static.cast}, \ref{expr.cast}), or
 \item an expression that is not a null pointer constant, and has type
 other than \cv{}~\tcode{void*}, is converted to the type pointer to \tcode{T}
-or reference to \tcode{T} using a standard conversion\iref{conv},
-a \tcode{dynamic_cast}\iref{expr.dynamic.cast} or
-a \tcode{static_cast}\iref{expr.static.cast}, or
-\item a class member access operator is applied to an expression of type
-\tcode{T}\iref{expr.ref}, or
-\item the \tcode{typeid} operator\iref{expr.typeid} or the
-\tcode{sizeof} operator\iref{expr.sizeof} is applied to an operand of
+or reference to \tcode{T} using a \link{standard conversion}{conv},
+a \link{\tcode{dynamic_cast}}{expr.dynamic.cast} or
+a \link{\tcode{static_cast}}{expr.static.cast}, or
+\item a \link{class member access}{expr.ref} operator is applied to an expression of type
+\tcode{T}, or
+\item the \link{\tcode{typeid} operator}{expr.typeid} or the
+\link{\tcode{sizeof} operator}{expr.sizeof} is applied to an operand of
 type \tcode{T}, or
 \item a function with a return type or argument type of type \tcode{T}
-is defined\iref{basic.def} or called\iref{expr.call}, or
+is defined\iref{basic.def} or \link{called}{expr.call}, or
 \item a class with a base class of type \tcode{T} is
 defined\iref{class.derived}, or
-\item an lvalue of type \tcode{T} is assigned to\iref{expr.ass}, or
+\item an lvalue of type \tcode{T} is \link{assigned to}{expr.ass}, or
 \item the type \tcode{T} is the subject of an
-\tcode{alignof} expression\iref{expr.alignof}, or
+\link{\tcode{alignof} expression}{expr.alignof}, or
 \item an \grammarterm{exception-declaration} has type \tcode{T}, reference to
 \tcode{T}, or pointer to \tcode{T}\iref{except.handle}.
 \end{itemize}
@@ -584,7 +584,7 @@ template specialization\iref{temp.over}, except that a name can refer to
 a non-volatile const object with internal or no linkage if the object
 \begin{itemize}
 \item has the same literal type in all definitions of \tcode{D},
-\item is initialized with a constant expression\iref{expr.const},
+\item is initialized with a \link{constant expression}{expr.const},
 \item is not odr-used in any definition of \tcode{D}, and
 \item has the same value in all definitions of \tcode{D},
 \end{itemize}
@@ -766,7 +766,7 @@ declaration of \tcode{j} is the same as its potential scope.
 \pnum
 The names declared by a declaration are introduced into the scope in
 which the declaration occurs, except that the presence of a
-\tcode{friend} specifier\iref{class.friend}, certain uses of the
+\link{\tcode{friend} specifier}{class.friend}, certain uses of the
 \grammarterm{elaborated-type-specifier}\iref{dcl.type.elab}, and
 \grammarterm{using-directive}{s}\iref{namespace.udir} alter this general
 behavior.
@@ -794,7 +794,7 @@ must be unique in its declarative region.
 a name is introduced, which is not necessarily the same as the region in
 which the declaration occurs. In particular,
 \grammarterm{elaborated-type-specifier}{s}\iref{dcl.type.elab} and
-friend declarations\iref{class.friend} may introduce a (possibly not
+\link{friend declarations}{class.friend} may introduce a (possibly not
 visible) name into an enclosing namespace; these restrictions apply to
 that region. Local extern declarations\iref{basic.link} may introduce
 a name into the declarative region where the declaration appears and
@@ -923,7 +923,7 @@ See~\ref{basic.lookup.elab} and~\ref{dcl.type.elab}. \end{note}
 
 \pnum
 The point of declaration for an
-injected-class-name\iref{class} is immediately following
+\deflink{injected-class-name}{class} is immediately following
 the opening brace of the class definition.
 
 \pnum
@@ -977,10 +977,10 @@ For point of instantiation of a template, see~\ref{temp.point}.
 \pnum
 \indextext{scope!block}%
 \indextext{local scope|see{block scope}}%
-A name declared in a block\iref{stmt.block} is local to that block; it has
+A name declared in a \link{block}{stmt.block} is local to that block; it has
 \defn{block scope}.
-Its potential scope begins at its point of
-declaration\iref{basic.scope.pdecl} and ends at the end of its block.
+Its potential scope begins at its \link{point of
+declaration}{basic.scope.pdecl} and ends at the end of its block.
 A variable declared at block scope is a \defn{local variable}.
 
 \pnum
@@ -1039,7 +1039,7 @@ with a \grammarterm{function-try-block}.
 
 \pnum
 \indextext{label!scope of}%
-Labels\iref{stmt.label} have \defnx{function scope}{scope!function} and
+\link{Labels}{stmt.label} have \defnx{function scope}{scope!function} and
 may be used anywhere in the function in which they are declared. Only
 labels have function scope.
 
@@ -1053,8 +1053,8 @@ The declarative region of a \grammarterm{namespace-definition} is its
 namespace, and names introduced by these declarations into the
 declarative region of the namespace are said to be \defn{member
 names} of the namespace. A namespace member name has namespace scope.
-Its potential scope includes its namespace from the name's point of
-declaration\iref{basic.scope.pdecl} onwards; and for each
+Its potential scope includes its namespace from the name's \link{point of
+declaration}{basic.scope.pdecl} onwards; and for each
 \grammarterm{using-directive}\iref{namespace.udir} that nominates the
 member's namespace, the member's potential scope includes that portion
 of the potential scope of the \grammarterm{using-directive} that follows
@@ -1166,8 +1166,8 @@ the class (this includes static data member definitions, nested class
 definitions, and member function definitions, including the member function
 body and any portion of the
 declarator part of such definitions which follows the \grammarterm{declarator-id},
-including a \grammarterm{parameter-declaration-clause} and any default
-arguments\iref{dcl.fct.default}).
+including a \grammarterm{parameter-declaration-clause} and any \link{default
+arguments}{dcl.fct.default}).
 
 \pnum
 \begin{example}
@@ -1199,8 +1199,8 @@ class D {
 \pnum
 The name of a class member shall only be used as follows:
 \begin{itemize}
-\item in the scope of its class (as described above) or a class derived\iref{class.derived}
-from its class,
+\item in the scope of its class (as described above) or a class
+\link{derived}{class.derived} from its class,
 \item after the \tcode{.} operator applied to an expression of the type
 of its class\iref{expr.ref} or a class derived from its class,
 \item after the \tcode{->} operator applied to a pointer to an object of
@@ -1214,7 +1214,7 @@ applied to the name of its class or a class derived from its class.
 \indextext{scope!enumeration}
 
 \pnum
-The name of a scoped enumerator\iref{dcl.enum} has
+The name of a \deflinkx{scoped enumerator}{scoped enumerators}{dcl.enum} has
 \defn{enumeration scope}. Its potential scope begins at
 its point of declaration and terminates at the end of the
 \grammarterm{enum-specifier}.
@@ -1255,8 +1255,8 @@ being hidden during qualified and unqualified name lookup.)
 \end{example}
 
 \pnum
-The potential scope of a template parameter name begins at its point of
-declaration\iref{basic.scope.pdecl} and ends at the end of its declarative region.
+The potential scope of a template parameter name begins at its \deflink{point of
+declaration}{basic.scope.pdecl} and ends at the end of its declarative region.
 \begin{note} This implies that a \grammarterm{template-parameter} can be used in the
 declaration of subsequent \grammarterm{template-parameter}{s} and their default
 arguments but cannot be used in preceding \grammarterm{template-parameter}{s} or their
@@ -1282,8 +1282,8 @@ argument must be defined and not just declared when the class template is instan
 \pnum
 The declarative region of the name of a template parameter is nested within the
 immediately-enclosing declarative region. \begin{note} As a result, a
-\grammarterm{template-parameter} hides any entity with the same name in an enclosing
-scope\iref{basic.scope.hiding}. \begin{example}
+\grammarterm{template-parameter} \link{hides}{basic.scope.hiding} any entity with the same name in an enclosing
+scope. \begin{example}
 
 \begin{codeblock}
 typedef int N;
@@ -1325,8 +1325,8 @@ In a member function definition, the declaration of a name
 at block scope
 hides
 the declaration of a member of the class with the same name;
-see~\ref{basic.scope.class}. The declaration of a member in a derived
-class\iref{class.derived} hides the declaration of a member of
+see~\ref{basic.scope.class}. The declaration of a member in a \link{derived
+class}{class.derived} hides the declaration of a member of
 a base class of the same name; see~\ref{class.member.lookup}.
 
 \pnum
@@ -1356,9 +1356,9 @@ The declarations found by name lookup shall either all denote the same entity or
 shall all denote functions or function templates;
 in the latter case,
 the declarations are said to form a set of overloaded
-functions\iref{over.load}. Overload resolution\iref{over.match}
-takes place after name lookup has succeeded. The access rules\iref{class.access}
-are considered only once name lookup and
+functions\iref{over.load}. \link{Overload resolution}{over.match}
+takes place after name lookup has succeeded. The
+\link{access rules}{class.access} are considered only once name lookup and
 function overload resolution (if applicable) have succeeded. Only after
 name lookup, function overload resolution (if applicable) and access
 checking have succeeded
@@ -1371,7 +1371,7 @@ A name ``looked up in the context of an expression'' is looked up
 in the scope where the expression is found.
 
 \pnum
-The injected-class-name of a class\iref{class} is also
+The \deflink{injected-class-name}{class} of a class is also
 considered to be a member of that class for the purposes of name hiding
 and lookup.
 
@@ -1442,8 +1442,8 @@ namespace N {
 }
 \end{codeblock}
 
-Because the expression is not a function call, the argument-dependent
-name lookup\iref{basic.lookup.argdep} does not apply and the friend
+Because the expression is not a function call, the \link{argument-dependent
+name lookup}{basic.lookup.argdep} does not apply and the friend
 function \tcode{f} is not found. \end{note}
 
 \pnum
@@ -1498,8 +1498,8 @@ shall be declared in one of the following ways:
 \begin{itemize}
 \item before its use in class \tcode{X} or be a member of a base class
 of \tcode{X}\iref{class.member.lookup}, or
-\item if \tcode{X} is a nested class of class
-\tcode{Y}\iref{class.nest}, before the definition of \tcode{X} in
+\item if \tcode{X} is a \deflink{nested class}{class.nest} of class
+\tcode{Y}, before the definition of \tcode{X} in
 \tcode{Y}, or shall be a member of a base class of \tcode{Y} (this
 lookup applies in turn to \tcode{Y}'s enclosing classes, starting with
 the innermost enclosing class),\footnote{This lookup applies whether the
@@ -1508,7 +1508,7 @@ nested within \tcode{Y}'s definition or whether \tcode{X}'s definition
 appears in a namespace scope enclosing \tcode{Y}'s
 definition\iref{class.nest}.}
 or
-\item if \tcode{X} is a local class\iref{class.local} or is a nested
+\item if \tcode{X} is a \link{local class}{class.local} or is a nested
 class of a local class, before the definition of class \tcode{X} in a
 block enclosing the definition of class \tcode{X}, or
 \item if \tcode{X} is a member of namespace \tcode{N}, or is a nested
@@ -1572,7 +1572,7 @@ block\iref{stmt.block}, or
 class of \tcode{X}\iref{class.member.lookup}, or
 
 \item if \tcode{X}
-is a nested class of class \tcode{Y}\iref{class.nest}, shall be a
+is a \deflink{nested class}{class.nest} of class \tcode{Y}, shall be a
 member of \tcode{Y}, or shall be a member of a base class of \tcode{Y}
 (this lookup applies in turn to \tcode{Y}'s enclosing classes, starting
 with the innermost enclosing class),\footnote{This lookup applies whether
@@ -1581,7 +1581,7 @@ within the definition of class \tcode{X} or whether the member function
 is defined in a namespace scope enclosing \tcode{X}'s definition.}
 or
 
-\item if \tcode{X} is a local class\iref{class.local} or is a nested
+\item if \tcode{X} is a \link{local class}{class.local} or is a nested
 class of a local class, before the definition of class \tcode{X} in a
 block enclosing the definition of class \tcode{X}, or
 
@@ -1621,8 +1621,8 @@ describes the restrictions on the use of names in local class
 definitions. \end{note}
 
 \pnum
-Name lookup for a name used in the definition of a friend
-function\iref{class.friend} defined inline in the class granting
+Name lookup for a name used in the definition of a \link{friend
+function}{class.friend} defined inline in the class granting
 friendship shall proceed as described for lookup in member function
 definitions. If the friend function is not defined in the class
 granting friendship, name lookup in the friend function
@@ -1658,8 +1658,8 @@ struct B {
 \end{example}
 
 \pnum
-During the lookup for a name used as a default
-argument\iref{dcl.fct.default} in a function
+During the lookup for a name used as a \link{default
+argument}{dcl.fct.default} in a function
 \grammarterm{parameter-declaration-clause} or used in the
 \grammarterm{expression} of a \grammarterm{mem-initializer} for a
 constructor\iref{class.base.init}, the function parameter names are
@@ -1678,8 +1678,8 @@ and hide the names of entities declared in the block, class, or namespace
 scopes containing the \grammarterm{enum-specifier}.
 
 \pnum
-A name used in the definition of a \tcode{static} data member of class
-\tcode{X}\iref{class.static.data} (after the \grammarterm{qualified-id}
+A name used in the definition of a \link{\tcode{static} data member}{class.static.data}
+of class \tcode{X} (after the \grammarterm{qualified-id}
 of the static member) is looked up as if the name was used in a member
 function of \tcode{X}. \begin{note} \ref{class.static.data} further
 describes the restrictions on the use of names in the definition of a
@@ -1724,8 +1724,8 @@ described in~\ref{temp.res}. \end{note}
 
 \pnum
 When the \grammarterm{postfix-expression} in
-a function call\iref{expr.call} is an \grammarterm{unqualified-id}, other namespaces not considered
-during the usual unqualified lookup\iref{basic.lookup.unqual} may be
+a \link{function call}{expr.call} is an \grammarterm{unqualified-id}, other namespaces not considered
+during the usual \link{unqualified lookup}{basic.lookup.unqual} may be
 searched, and in those namespaces, namespace-scope friend function or
 function template declarations\iref{class.friend} not otherwise
 visible may be found.
@@ -1813,7 +1813,7 @@ associated with \tcode{X}.
 associated namespaces and entities are those associated with the member
 type together with those associated with \tcode{X}.
 \end{itemize}
-If an associated namespace is an inline namespace\iref{namespace.def}, its
+If an associated namespace is an \deflink{inline namespace}{namespace.def}, its
 enclosing namespace is also included in the set. If an associated namespace
 directly contains inline namespaces, those inline namespaces are also included
 in the set.
@@ -1828,8 +1828,8 @@ those of its type \grammarterm{template-argument}{s} and its template
 \grammarterm{template-argument}{s}.
 
 \pnum
-Let \placeholder{X} be the lookup set produced by unqualified
-lookup\iref{basic.lookup.unqual} and let \placeholder{Y} be the lookup set produced
+Let \placeholder{X} be the lookup set produced by \link{unqualified
+lookup}{basic.lookup.unqual} and let \placeholder{Y} be the lookup set produced
 by argument dependent lookup (defined as follows). If \placeholder{X} contains
 \begin{itemize}
 \item a declaration of a class member, or
@@ -2005,7 +2005,7 @@ The name shall be declared in global namespace scope or shall be a name
 whose declaration is visible in global scope because of a
 \grammarterm{using-directive}\iref{namespace.qual}. The use of \tcode{::}
 allows a global name to be referred to even if its identifier has been
-hidden\iref{basic.scope.hiding}.
+\link{hidden}{basic.scope.hiding}.
 
 \pnum
 A name prefixed by a \grammarterm{nested-name-specifier} that
@@ -2072,8 +2072,8 @@ access (see~\ref{basic.lookup.classref});
 
 \item the lookup for a name specified in a
 \grammarterm{using-declaration}\iref{namespace.udecl} also finds class or
-enumeration names hidden within the same
-scope\iref{basic.scope.hiding}.
+enumeration names \link{hidden}{basic.scope.hiding} within the same
+scope.
 \end{itemize}
 
 \pnum
@@ -2325,7 +2325,7 @@ nested-name-specifier unqualified-id
 the
 \grammarterm{unqualified-id} shall name a member of the namespace
 designated by the \grammarterm{nested-name-specifier}
-or of an element of the inline namespace set\iref{namespace.def} of that namespace.
+or of an element of the \deflink{inline namespace set}{namespace.def} of that namespace.
 \begin{example}
 
 \begin{codeblock}
@@ -2370,8 +2370,9 @@ void B::f1(int){ }  // OK, defines \tcode{A::B::f1(int)}
 \pnum
 An \grammarterm{elaborated-type-specifier}\iref{dcl.type.elab} may be
 used to refer to a previously declared \grammarterm{class-name} or
-\grammarterm{enum-name} even though the name has been hidden by a non-type
-declaration\iref{basic.scope.hiding}.
+\grammarterm{enum-name} even though the name has been
+\link{hidden}{basic.scope.hiding} by a non-type
+declaration.
 
 \pnum
 If the \grammarterm{elaborated-type-specifier} has no
@@ -2447,7 +2448,7 @@ struct Base::Data* pBase;       // OK: refers to nested \tcode{Data}
 
 \pnum
 \indextext{lookup!class member}%
-In a class member access expression\iref{expr.ref}, if the \tcode{.}
+In a \link{class member access}{expr.ref} expression, if the \tcode{.}
 or \tcode{->} token is immediately followed by an \grammarterm{identifier}
 followed by a \tcode{<}, the identifier must be looked up to determine
 whether the \tcode{<} is the beginning of a template argument
@@ -2459,8 +2460,8 @@ it is then looked up in the context of the entire
 whose specializations are types.
 
 \pnum
-If the \grammarterm{id-expression} in a class member
-access\iref{expr.ref} is an \grammarterm{unqualified-id}, and the type of
+If the \grammarterm{id-expression} in a \link{class member
+access}{expr.ref} is an \grammarterm{unqualified-id}, and the type of
 the object expression is of a class type \tcode{C}, the
 \grammarterm{unqualified-id} is looked up
 in the scope of class \tcode{C}\iref{class.member.lookup}.
@@ -2559,7 +2560,7 @@ only namespace names are considered.%
 
 \pnum
 \indextext{program}%
-A \defn{program} consists of one or more translation units\iref{lex}
+A \defn{program} consists of one or more \deflinkx{translation units}{translation unit}{lex}
 linked together. A translation unit consists
 of a sequence of declarations.
 
@@ -2635,7 +2636,7 @@ cannot be referred to by names from other scopes.
 \indextext{\idxcode{const}!linkage of}%
 \indextext{linkage!\idxcode{inline} and}%
 \indextext{\idxcode{inline}!linkage of}%
-A name having namespace scope\iref{basic.scope.namespace} has internal
+A name having \link{namespace scope}{basic.scope.namespace} has internal
 linkage if it is the name of
 \begin{itemize}
 \item
@@ -2671,7 +2672,7 @@ a named class\iref{class}, or an unnamed class defined in a
 typedef declaration in which the class has the typedef name for linkage
 purposes\iref{dcl.typedef}; or
 \item \indextext{enumeration!linkage of}%
-a named enumeration\iref{dcl.enum}, or an unnamed enumeration defined
+a named \link{enumeration}{dcl.enum}, or an unnamed enumeration defined
 in a typedef declaration in which the enumeration has the typedef name
 for linkage purposes\iref{dcl.typedef}; or
 \item a template
@@ -2767,7 +2768,7 @@ void q() { @\commentellip@ }          // some other, unrelated \tcode{q}
 \pnum
 \indextext{linkage!no}%
 Names not covered by these rules have no linkage. Moreover, except as
-noted, a name declared at block scope\iref{basic.scope.block} has no
+noted, a name declared at \deflink{block scope}{basic.scope.block} has no
 linkage.
 
 \pnum
@@ -2836,7 +2837,7 @@ the entity is said to be \defnx{attached}{attached!entity} to that module.
 \indextext{consistency!type declaration}%
 \indextext{declaration!multiple}%
 After all adjustments of types (during which
-typedefs\iref{dcl.typedef} are replaced by their definitions), the
+\link{typedefs}{dcl.typedef} are replaced by their definitions), the
 types specified by all declarations referring to a given variable or
 function shall be identical, except that declarations for an array
 object can specify array types that differ by the presence or absence of
@@ -2856,9 +2857,9 @@ identity does not require a diagnostic.
 \indextext{memory model|(}%
 The fundamental storage unit in the \Cpp{} memory model is the
 \defn{byte}.
-A byte is at least large enough to contain any member of the basic
+A byte is at least large enough to contain any member of the
 \indextext{character set!basic execution}%
-execution character set\iref{lex.charset}
+\deflinkx{basic execution character set}{character set!basic execution}{lex.charset}
 and the eight-bit code units of the Unicode UTF-8 encoding form
 and is composed of a contiguous sequence of
 bits,\footnote{The number of bits in a byte is reported by the macro
@@ -2878,8 +2879,8 @@ A \defn{memory location} is either an object of scalar type or a maximal
 sequence of adjacent bit-fields all having nonzero width. \begin{note} Various
 features of the language, such as references and virtual functions, might
 involve additional memory locations that are not accessible to programs but are
-managed by the implementation. \end{note} Two or more threads of
-execution\iref{intro.multithread} can access separate memory
+managed by the implementation. \end{note} Two or more \deflinkx{threads of
+execution}{thread of execution}{intro.multithread} can access separate memory
 locations without interfering with each other.
 
 \pnum
@@ -2921,24 +2922,24 @@ bit-fields \tcode{b} and \tcode{c} cannot be concurrently modified, but
 The constructs in a \Cpp{} program create, destroy, refer to, access, and
 manipulate objects.
 An \defn{object} is created
-by a definition\iref{basic.def},
+by a \link{definition}{basic.def},
 by a \grammarterm{new-expression}\iref{expr.new},
-when implicitly changing the active member of a union\iref{class.union},
+when implicitly changing the active member of a \link{union}{class.union},
 or
 when a temporary object is created~(\ref{conv.rval}, \ref{class.temporary}).
 An object occupies a region of storage
 in its period of construction\iref{class.cdtor},
-throughout its lifetime\iref{basic.life},
+throughout its \link{lifetime}{basic.life},
 and
 in its period of destruction\iref{class.cdtor}.
 \begin{note} A function is not an object, regardless of whether or not it
 occupies storage in the way that objects do. \end{note}
 The properties of an
 object are determined when the object is created. An object can have a
-name\iref{basic}. An object has a storage
-duration\iref{basic.stc} which influences its
-lifetime\iref{basic.life}. An object has a
-type\iref{basic.types}.
+\deflink{name}{basic}. An object has a \link{storage
+duration}{basic.stc} which influences its
+\link{lifetime}{basic.life}. An object has a
+\link{type}{basic.types}.
 Some objects are
 polymorphic\iref{class.virtual}; the implementation
 generates information associated with each such object that makes it
@@ -3062,7 +3063,7 @@ of the (unique) object that contains \tcode{x}.
 \end{itemize}
 
 \pnum
-If a complete object, a data member\iref{class.mem}, or an array element is of
+If a complete object, a \deflink{data member}{class.mem}, or an array element is of
 class type, its type is considered the \defn{most derived
 class}, to distinguish it from the class type of any base class subobject;
 an object of a most derived class type or of a non-class type is called a
@@ -3073,7 +3074,7 @@ A \defn{potentially-overlapping subobject} is either:
 \begin{itemize}
 \item a base class subobject, or
 \item a non-static data member
-declared with the \tcode{no_unique_address} attribute\iref{dcl.attr.nouniqueaddr}.
+declared with the \link{\tcode{no_unique_address}}{dcl.attr.nouniqueaddr} attribute.
 \end{itemize}
 
 \pnum
@@ -3094,7 +3095,7 @@ Otherwise, the circumstances under which the object has zero size
 are \impldef{which non-standard-layout objects
 containing no data are considered empty}.
 \indextext{most derived object!bit-field}%
-Unless it is a bit-field\iref{class.bit},
+Unless it is a \link{bit-field}{class.bit},
 an object with nonzero size
 shall occupy one or more bytes of storage,
 including every byte that is occupied in full or in part
@@ -3346,9 +3347,9 @@ by calling \tcode{std::launder}\iref{support.dynamic}.
 
 \pnum
 If a program ends the lifetime of an object of type \tcode{T} with
-static\iref{basic.stc.static}, thread\iref{basic.stc.thread},
-or automatic\iref{basic.stc.auto}
-storage duration and if \tcode{T} has a non-trivial destructor,\footnote{That
+\link{static}{basic.stc.static}, \link{thread}{basic.stc.thread},
+or \link{automatic storage duration}{basic.stc.auto}
+and if \tcode{T} has a non-trivial destructor,\footnote{That
 is, an object for which a destructor will be called
 implicitly---upon exit from the block for an object with
 automatic storage duration, upon exit from the thread for an object with
@@ -3492,8 +3493,8 @@ one of the following:
 \indextext{storage duration!automatic}%
 \indextext{storage duration!dynamic}%
 Static, thread, and automatic storage durations are associated with objects
-introduced by declarations\iref{basic.def} and implicitly created by
-the implementation\iref{class.temporary}. The dynamic storage duration
+introduced by declarations\iref{basic.def} and \link{implicitly created by
+the implementation}{class.temporary}. The dynamic storage duration
 is associated with objects created by a
 \grammarterm{new-expression}\iref{expr.new}.
 
@@ -3504,7 +3505,7 @@ The storage duration categories apply to references as well.
 When the end of the duration of a region of storage is reached,
 the values of all pointers
 representing the address of any part of that region of storage
-become invalid pointer values\iref{basic.compound}.
+become \deflinkx{invalid pointer values}{value!invalid pointer}{basic.compound}.
 Indirection through an invalid pointer value and
 passing an invalid pointer value to a deallocation function
 have undefined behavior.
@@ -3554,7 +3555,7 @@ the current thread.
 
 \pnum
 A variable with thread storage duration shall be initialized before
-its first odr-use\iref{basic.def.odr} and, if constructed, shall be destroyed on thread exit.
+its first \link{odr-use}{basic.def.odr} and, if constructed, shall be destroyed on thread exit.
 
 \rSec3[basic.stc.auto]{Automatic storage duration}
 
@@ -3581,8 +3582,8 @@ specified in~\ref{class.copy.elision}.
 \indextext{storage duration!dynamic|(}
 
 \pnum
-Objects can be created dynamically during program
-execution\iref{intro.execution}, using
+Objects can be created dynamically during \link{program
+execution}{intro.execution}, using
 \indextext{\idxcode{new}}%
 \grammarterm{new-expression}{s}\iref{expr.new}, and destroyed using
 \indextext{\idxcode{delete}}%
@@ -3734,17 +3735,17 @@ that would match a handler\iref{except.handle} of type
 \tcode{std::bad_alloc}\iref{bad.alloc}.
 
 \pnum
-A global allocation function is only called as the result of a new
-expression\iref{expr.new}, or called directly using the function call
-syntax\iref{expr.call}, or called indirectly to allocate storage for
+A global allocation function is only called as the result of a \link{new
+expression}{expr.new}, or called directly using the \link{function call}{expr.call}
+syntax, or called indirectly to allocate storage for
 a coroutine state\iref{dcl.fct.def.coroutine},
 or called indirectly through calls to the
 functions in the \Cpp{} standard library. \begin{note} In particular, a
 global allocation function is not called to allocate storage for objects
-with static storage duration\iref{basic.stc.static}, for objects or references
-with thread storage duration\iref{basic.stc.thread}, for objects of
-type \tcode{std::type_info}\iref{expr.typeid}, or for an
-exception object\iref{except.throw}.
+with \link{static storage duration}{basic.stc.static}, for objects or references
+with \link{thread storage duration}{basic.stc.thread}, for objects of
+type \link{\tcode{std::type_info}}{expr.typeid}, or for an
+\link{exception object}{except.throw}.
 \end{note}
 
 \rSec4[basic.stc.dynamic.deallocation]{Deallocation functions}
@@ -3809,7 +3810,7 @@ supplied in the standard library, the call has no effect.
 
 \pnum
 If the argument given to a deallocation function in the standard library
-is a pointer that is not the null pointer value\iref{conv.ptr}, the
+is a pointer that is not the \deflink{null pointer value}{conv.ptr}, the
 deallocation function shall deallocate the storage referenced by the
 pointer, ending the duration of the region of storage.
 
@@ -3820,12 +3821,11 @@ pointer, ending the duration of the region of storage.
 \indextext{pointer!to traceable object}%
 A \defn{traceable pointer object} is
 \begin{itemize}
-\item an object of an object pointer
-type\iref{basic.compound}, or
+\item an object of an \deflink{object pointer type}{basic.compound}, or
 \item an object of an integral type that is at least as large as \tcode{std::intptr_t},
 or
-\item a sequence of elements in an array of narrow character
-type\iref{basic.fundamental}, where the size and alignment of the sequence
+\item a sequence of elements in an array of
+\deflinkx{narrow character type}{type!narrow character}{basic.fundamental}, where the size and alignment of the sequence
 match those of some object pointer type.
 \end{itemize}
 
@@ -3920,7 +3920,7 @@ may be allocated. An \defn{alignment} is an \impldef{alignment}
 integer value representing the number of bytes between successive addresses
 at which a given object can be allocated. An object type imposes an alignment
 requirement on every object of that type; stricter alignment can be requested
-using the alignment specifier\iref{dcl.align}.
+using the \link{alignment specifier}{dcl.align}.
 
 \pnum
 \indextext{alignment!fundamental}%
@@ -3974,8 +3974,8 @@ requirement also satisfies any weaker valid alignment requirement.
 
 \pnum
 The alignment requirement of a complete type can be queried using an
-\tcode{alignof} expression\iref{expr.alignof}. Furthermore,
-the narrow character types\iref{basic.fundamental} shall have the weakest
+\link{\tcode{alignof} expression}{expr.alignof}. Furthermore,
+the \deflinkx{narrow character types}{type!narrow character}{basic.fundamental} shall have the weakest
 alignment requirement.
 \begin{note} This enables the ordinary character types to be used as the
 underlying type for an aligned memory area\iref{dcl.align}.\end{note}
@@ -4376,9 +4376,9 @@ shall be destroyed before
 impose requirements on implementations regarding the representation
 of types.
 There are two kinds of types: fundamental types and compound types.
-Types describe objects\iref{intro.object},
-references\iref{dcl.ref},
-or functions\iref{dcl.fct}.
+Types describe \link{objects}{intro.object},
+\link{references}{dcl.ref},
+or \link{functions}{dcl.fct}.
 \end{note}
 
 \pnum
@@ -4516,7 +4516,7 @@ Arithmetic types\iref{basic.fundamental}, enumeration types,
 pointer types, pointer-to-member types\iref{basic.compound},
 \tcode{std::nullptr_t},
 and
-cv-qualified\iref{basic.type.qualifier} versions of these
+\link{cv-qualified}{basic.type.qualifier} versions of these
 types are collectively called
 \defnx{scalar types}{scalar type}.
 Scalar types, trivially copyable class types\iref{class.prop},
@@ -4537,14 +4537,14 @@ A type is a \defn{literal type} if it is:
 \item a scalar type; or
 \item a reference type; or
 \item an array of literal type; or
-\item a possibly cv-qualified class type\iref{class} that
+\item a possibly cv-qualified \link{class type}{class} that
 has all of the following properties:
 \begin{itemize}
 \item it has a constexpr destructor\iref{dcl.constexpr},
 \item it is either a closure type\iref{expr.prim.lambda.closure},
 an aggregate type\iref{dcl.init.aggr}, or
 has at least one constexpr constructor or constructor template
-(possibly inherited\iref{namespace.udecl} from a base class)
+(possibly \deflinkx{inherited}{inherits}{namespace.udecl} from a base class)
 that is not a copy or move constructor,
 \item if it is a union, at least one of its non-static data members is
 of non-volatile literal type, and
@@ -4566,8 +4566,8 @@ will be usable in a constant expression.
 Two types \cvqual{cv1} \tcode{T1} and \cvqual{cv2} \tcode{T2} are
 \defn{layout-compatible} types
 if \tcode{T1} and \tcode{T2} are the same type,
-layout-compatible enumerations\iref{dcl.enum}, or
-layout-compatible standard-layout class types\iref{class.mem}.
+\deflinkx{layout-compatible enumerations}{layout-compatible!enumeration}{dcl.enum}, or
+\deflinkx{layout-compatible standard-layout class types}{layout-compatible!class}{class.mem}.
 
 \rSec2[basic.fundamental]{Fundamental types}
 
@@ -4819,7 +4819,7 @@ Integral and floating-point types are collectively
 called \defnx{arithmetic}{type!arithmetic} types.
 \indextext{\idxcode{numeric_limits}!specializations for arithmetic types}%
 Specializations of the standard library template
-\tcode{std::numeric_limits}\iref{numeric.limits} shall specify the
+\link{\tcode{std::numeric_limits}}{numeric.limits} shall specify the
 maximum and minimum values of each arithmetic type for an
 implementation.
 
@@ -4831,17 +4831,17 @@ an empty set of values. It is used as the return
 type for functions that do not return a value. Any expression can be
 explicitly converted to type \cv{}~\tcode{void}\iref{expr.cast}.
 An expression of type \cv{}~\tcode{void} shall
-be used only as an expression statement\iref{stmt.expr}, as an operand
-of a comma expression\iref{expr.comma}, as a second or third operand
+be used only as an \link{expression statement}{stmt.expr}, as an operand
+of a \link{comma expression}{expr.comma}, as a second or third operand
 of \tcode{?:}\iref{expr.cond}, as the operand of
 \tcode{typeid}, \tcode{noexcept}, or \tcode{decltype}, as
-the expression in a \tcode{return} statement\iref{stmt.return} for a function
+the expression in a \link{\tcode{return} statement}{stmt.return} for a function
 with the return type \cv{}~\tcode{void}, or as the operand of an explicit conversion
 to type \cv{}~\tcode{void}.
 
 \pnum
-A value of type \tcode{std::nullptr_t} is a null pointer
-constant\iref{conv.ptr}. Such values participate in the pointer and the
+A value of type \tcode{std::nullptr_t} is a \deflink{null pointer
+constant}{conv.ptr}. Such values participate in the pointer and the
 pointer-to-member conversions~(\ref{conv.ptr}, \ref{conv.mem}).
 \tcode{sizeof(std::nullptr_t)} shall be equal to \tcode{sizeof(void*)}.
 
@@ -4970,7 +4970,7 @@ pointer types is \impldef{value representation of pointer types}. Pointers to
 layout-compatible types shall
 have the same value representation and alignment
 requirements\iref{basic.align}.
-\begin{note} Pointers to over-aligned types\iref{basic.align} have no special
+\begin{note} Pointers to \deflinkx{over-aligned types}{type!over-aligned}{basic.align} have no special
 representation, but their range of valid values is restricted by the extended
 alignment requirement.\end{note}
 
@@ -4996,7 +4996,7 @@ If two objects are pointer-interconvertible,
 then they have the same address,
 and it is possible to obtain a pointer to one
 from a pointer to the other
-via a \tcode{reinterpret_cast}\iref{expr.reinterpret.cast}.
+via a \link{\tcode{reinterpret_cast}}{expr.reinterpret.cast}.
 \begin{note}
 An array object and its first element are not pointer-interconvertible,
 even though they have the same address.
@@ -5170,9 +5170,9 @@ rank than \tcode{T3}, then \tcode{T1} shall have greater rank than
 \end{itemize}
 
 \begin{note}
-The integer conversion rank is used in the definition of the integral
-promotions\iref{conv.prom} and the usual arithmetic
-conversions\iref{expr.prop}.
+The integer conversion rank is used in the definition of the \deflink{integral
+promotions}{conv.prom} and the usual arithmetic
+conversions\iref{expr.prop}. % todo: badref?
 \end{note}%
 
 \rSec1[basic.exec]{Program execution}
@@ -5180,8 +5180,8 @@ conversions\iref{expr.prop}.
 \rSec2[intro.execution]{Sequential execution}
 
 \pnum
-An instance of each object with automatic storage
-duration\iref{basic.stc.auto} is associated with each entry into its
+An instance of each object with \link{automatic storage
+duration}{basic.stc.auto} is associated with each entry into its
 block. Such an object exists and retains its last-stored value during
 the execution of the block and while the block is suspended (by a call
 of a function, suspension of a coroutine\iref{expr.await}, or receipt of a signal).
@@ -5222,7 +5222,7 @@ if \tcode{e} is a \grammarterm{lambda-expression}\iref{expr.prim.lambda},
 the initialization of the entities captured by copy and
 the constituent expressions of the \grammarterm{initializer} of the \grammarterm{init-capture}{s},
 \item
-if \tcode{e} is a function call\iref{expr.call} or implicitly invokes a function,
+if \tcode{e} is a \link{function call}{expr.call} or implicitly invokes a function,
 the constituent expressions of each default argument\iref{dcl.fct.default}
 used in the call, or
 \item
@@ -5244,7 +5244,7 @@ are not subexpressions of the \grammarterm{lambda-expression}.
 A \defn{full-expression} is
 \begin{itemize}
 \item
-an unevaluated operand\iref{expr.prop},
+an \deflink{unevaluated operand}{expr.prop},
 \item
 a \grammarterm{constant-expression}\iref{expr.const},
 \item
diff --git a/source/classes.tex b/source/classes.tex
index fd1b81e6..615c7eb4 100644
--- a/source/classes.tex
+++ b/source/classes.tex
@@ -168,10 +168,10 @@ A class \tcode{S} is a \defnadj{standard-layout}{class} if it:
 \item has no non-static data members of type non-standard-layout class
 (or array of such types) or reference,
 
-\item has no virtual functions\iref{class.virtual} and no
-virtual base classes\iref{class.mi},
+\item has no \link{virtual functions}{class.virtual} and no
+\link{virtual base classes}{class.mi},
 
-\item has the same access control\iref{class.access}
+\item has the same \link{access control}{class.access}
 for all non-static data members,
 
 \item has no non-standard-layout base classes,
@@ -192,7 +192,7 @@ that may be at a zero offset in \tcode{X}. \end{note}
 
 \begin{itemize}
 \item If \tcode{X} is a non-union class type with no (possibly
-inherited\iref{class.derived}) non-static data members, the set
+\link{inherited}{class.derived}) non-static data members, the set
 $M(\mathtt{X})$ is empty.
 
 \item If \tcode{X} is a non-union class type with a non-static data
@@ -304,7 +304,7 @@ int f(Y);
 \end{codeblock}
 
 \indextext{overloading}%
-declare an overloaded\iref{over} function \tcode{f()} and not
+declare an \link{overloaded}{over} function \tcode{f()} and not
 simply a single function \tcode{f()} twice. For the same reason,
 
 \begin{codeblock}
@@ -322,7 +322,7 @@ A class declaration introduces the class name into the scope where
 \indextext{name hiding!class definition}%
 it is declared and hides any
 class, variable, function, or other declaration of that name in an
-enclosing scope\iref{basic.scope}. If a class name is declared in a
+enclosing \link{scope}{basic.scope}. If a class name is declared in a
 scope where a variable, function, or enumerator of the same name is also
 declared, then when both declarations are in scope, the class can be
 referred to only using an
@@ -487,9 +487,9 @@ full set of members of the class; no member can be added elsewhere.
 A \defn{direct member} of a class \tcode{X} is a member of \tcode{X}
 that was first declared within the \grammarterm{member-specification} of \tcode{X},
 including anonymous union objects\iref{class.union.anon} and direct members thereof.
-Members of a class are data members, member
-functions\iref{class.mfct}, nested types, enumerators,
-and member templates\iref{temp.mem} and specializations thereof.
+Members of a class are data members, \link{member functions}{class.mfct},
+nested types, enumerators,
+and \link{member templates}{temp.mem} and specializations thereof.
 \begin{note}
 A specialization of a static data member template is a static data member.
 A specialization of a member function template is a member function.
@@ -500,14 +500,14 @@ A specialization of a member class template is a nested class.
 A \grammarterm{member-declaration} does not declare new members of the class
 if it is
 \begin{itemize}
-\item a friend declaration\iref{class.friend},
+\item a \link{friend declaration}{class.friend},
 \item a \grammarterm{static_assert-declaration},
 \item a \grammarterm{using-declaration}\iref{namespace.udecl}, or
 \item an \grammarterm{empty-declaration}.
 \end{itemize}
 For any other \grammarterm{member-declaration},
 each declared entity
-that is not an unnamed bit-field\iref{class.bit}
+that is not an \deflinkx{unnamed bit-field}{bit-field!unnamed}{class.bit}
 is a member of the class,
 and each such \grammarterm{member-declaration}
 shall either
@@ -519,10 +519,10 @@ A \defn{data member} is a non-function member introduced by a
 \grammarterm{member-declarator}.
 A \defn{member function} is a member that is a function.
 Nested types are classes~(\ref{class.name}, \ref{class.nest}) and
-enumerations\iref{dcl.enum} declared in the class and arbitrary types
-declared as members by use of a typedef declaration\iref{dcl.typedef}
+\link{enumerations}{dcl.enum} declared in the class and arbitrary types
+declared as members by use of a \link{typedef declaration}{dcl.typedef}
 or \grammarterm{alias-declaration}.
-The enumerators of an unscoped enumeration\iref{dcl.enum} defined in the class
+The enumerators of an \link{unscoped enumeration}{dcl.enum} defined in the class
 are members of the class.
 
 \indextext{member!static}%
@@ -539,7 +539,7 @@ Any other data member or member function is a \defn{non-static member}
 (a \defn{non-static data member} or
 \defn{non-static member function}~(\ref{class.mfct.non-static}), respectively).
 \begin{note} A non-static data member of non-reference
-type is a member subobject of a class object\iref{intro.object}.\end{note}
+type is a \deflink{member subobject}{intro.object} of a class object.\end{note}
 
 \pnum
 A member shall not be declared twice in the
@@ -561,7 +561,7 @@ are sufficiently different\iref{over}.
 A \defn{complete-class context} of a class is a
 \begin{itemize}
 \item function body\iref{dcl.fct.def.general},
-\item default argument\iref{dcl.fct.default},
+\item \link{default argument}{dcl.fct.default},
 \item \grammarterm{noexcept-specifier}\iref{except.spec}, or
 \item default member initializer
 \end{itemize}
@@ -641,9 +641,9 @@ shall contain a \grammarterm{type-specifier} that is not a \grammarterm{cv-quali
 The
 \grammarterm{member-declarator-list} can be omitted only after a
 \grammarterm{class-specifier} or an \grammarterm{enum-specifier} or in a
-friend declaration\iref{class.friend}. A
+\link{friend declaration}{class.friend}. A
 \grammarterm{pure-specifier} shall be used only in the declaration of a
-virtual function\iref{class.virtual}
+\link{virtual function}{class.virtual}
 that is not a friend declaration.
 
 \pnum
@@ -716,7 +716,7 @@ of the \tcode{tword} member of the \tcode{right} subtree of \tcode{s}.
 \begin{note}
 \indextext{layout!class object}%
 Non-static data members of a (non-union) class
-with the same access control\iref{class.access} and
+with the same \link{access control}{class.access} and
 non-zero size\iref{intro.object}
 are allocated so that later
 members have higher addresses within a class object.
@@ -739,8 +739,8 @@ have a name different from \tcode{T}:
 
 \item every member function of class \tcode{T}
 \begin{note}
-This restriction does not apply to constructors, which do not have
-names\iref{class.ctor}
+This restriction does not apply to \link{constructors}{class.ctor},
+which do not have names
 \end{note};
 
 \item every member of class \tcode{T} that is itself a type;
@@ -756,7 +756,7 @@ unscoped enumerated type; and
 
 \pnum
 In addition, if class \tcode{T} has a user-declared
-constructor\iref{class.ctor}, every non-static data member of class
+\link{constructor}{class.ctor}, every non-static data member of class
 \tcode{T} shall have a name different from \tcode{T}.
 
 \pnum
@@ -793,11 +793,11 @@ both classes\iref{basic.types}.
 \pnum
 Two standard-layout unions are layout-compatible if they
 have the same number of non-static data members and corresponding
-non-static data members (in any order) have layout-compatible
-types\iref{basic.types}.
+non-static data members (in any order) have \deflinkx{layout-compatible
+types}{layout-compatible}{basic.types}.
 
 \pnum
-In a standard-layout union with an active member\iref{class.union}
+In a standard-layout union with an \deflinkx{active member}{active!union member}{class.union}
 of struct type \tcode{T1}, it is permitted to read a non-static
 data member \tcode{m} of another union member of struct type \tcode{T2}
 provided \tcode{m} is part of the common initial sequence of \tcode{T1} and \tcode{T2};
@@ -839,9 +839,9 @@ pointer-interconvertible~(\ref{basic.compound}, \ref{expr.static.cast}).
 \pnum
 \indextext{member function!inline}%
 \indextext{definition!member function}%
-A member function may be defined\iref{dcl.fct.def} in its class
-definition, in which case it is an inline member
-function\iref{dcl.inline}, or it may be defined outside of its class
+A member function may be \link{defined}{dcl.fct.def} in its class
+definition, in which case it is an \deflinkx{inline}{inline function}{dcl.inline} member
+function, or it may be defined outside of its class
 definition if it has already been declared but not defined in its class
 definition. A member function definition that appears outside of the
 class definition shall appear in a namespace scope enclosing the class
@@ -876,8 +876,8 @@ definition, the member function name shall be qualified by its class
 name using the \tcode{::} operator.
 \begin{note}
 A name used in a member function definition (that is, in the
-\grammarterm{parameter-declaration-clause} including the default
-arguments\iref{dcl.fct.default} or in the member function body) is looked up
+\grammarterm{parameter-declaration-clause} including the \link{default
+arguments}{dcl.fct.default} or in the member function body) is looked up
 as described in~\ref{basic.lookup}.
 \end{note}
 \begin{example}
@@ -942,9 +942,9 @@ Also see~\ref{temp.arg}.
 
 \pnum
 A non-static member function may be called for an object of
-its class type, or for an object of a class derived\iref{class.derived}
-from its class type, using the class member
-access syntax~(\ref{expr.ref}, \ref{over.match.call}). A non-static
+its class type, or for an object of a class \link{derived}{class.derived}
+from its class type, using the
+\link{class member access}{expr.ref} syntax\iref{over.match.call}. A non-static
 member function may also be called directly using the function call
 syntax~(\ref{expr.call}, \ref{over.match.call}) from within
 the body of a member function of its class or of a class derived from
@@ -958,19 +958,18 @@ object that is not of type \tcode{X}, or of a type derived from
 
 \pnum
 When an \grammarterm{id-expression}\iref{expr.prim.id} that is not part of a
-class member access syntax\iref{expr.ref} and not used to form a
+\link{class member access}{expr.ref} syntax and not used to form a
 pointer to member\iref{expr.unary.op} is used in
-a member of class \tcode{X} in a context where \tcode{this} can be
-used\iref{expr.prim.this},
-if name
-lookup\iref{basic.lookup} resolves the name in the
+a member of class \tcode{X} in a context where \link{\tcode{this}}{expr.prim.this} can be
+used,
+if \link{name lookup}{basic.lookup} resolves the name in the
 \grammarterm{id-expression} to a non-static non-type member of some class
 \tcode{C},
 and if either the \grammarterm{id-expression} is potentially evaluated or
 \tcode{C} is \tcode{X} or a base class of \tcode{X},
-the \grammarterm{id-expression} is transformed into a class
-member access expression\iref{expr.ref} using
-\tcode{(*this)}\iref{class.this} as the \grammarterm{postfix-expression}
+the \grammarterm{id-expression} is transformed into a
+\link{class member access}{expr.ref} expression using
+\link{\tcode{(*this)}}{class.this} as the \grammarterm{postfix-expression}
 to the left of the \tcode{.} operator.
 \begin{note}
 If \tcode{C} is not \tcode{X} or a base class of \tcode{X}, the class
@@ -1027,11 +1026,11 @@ declared elsewhere.\footnote{See, for example, \tcode{<cstring>}\iref{c.strings}
 \indextext{member function!const volatile}%
 A non-static member function may be declared \tcode{const},
 \tcode{volatile}, or \tcode{const} \tcode{volatile}. These
-\grammarterm{cv-qualifier}{s} affect the type of the \tcode{this}
-pointer\iref{class.this}. They also affect the function
-type\iref{dcl.fct} of the member function; a member function declared
-\tcode{const} is a \defn{const member function}, a member function
-declared \tcode{volatile} is a \defn{volatile member function} and a
+\grammarterm{cv-qualifier}{s} affect the type of the \link{\tcode{this}
+pointer}{class.this}. They also affect the \link{function
+type}{dcl.fct} of the member function; a member function declared
+\tcode{const} is a \term{const} member function, a member function
+declared \tcode{volatile} is a \term{volatile} member function and a
 member function declared \tcode{const} \tcode{volatile} is a
 \defn{const volatile member function}.
 \begin{example}
@@ -1095,13 +1094,13 @@ called. This is not allowed in a const member function because
 \end{example}
 
 \pnum
-Similarly, \tcode{volatile} semantics\iref{dcl.type.cv} apply in
+Similarly, \link{\tcode{volatile}}{dcl.type.cv} semantics apply in
 volatile member functions when accessing the object and its
 non-static data members.
 
 \pnum
 A cv-qualified member function can be called on an
-object-expression\iref{expr.ref} only if the object-expression is as
+\link{object-expression}{expr.ref} only if the object-expression is as
 cv-qualified or less-cv-qualified than the member function.
 \begin{example}
 
diff --git a/source/compatibility.tex b/source/compatibility.tex
index 69ab2d72..4a494847 100644
--- a/source/compatibility.tex
+++ b/source/compatibility.tex
@@ -1371,8 +1371,8 @@ deallocation functions\iref{expr.new}.
 \diffref{expr.cond}
 \change A conditional expression with a throw expression as its second or third
 operand keeps the type and value category of the other operand.
-\rationale Formerly mandated conversions (lvalue-to-rvalue\iref{conv.lval},
-array-to-pointer\iref{conv.array}, and function-to-pointer\iref{conv.func}
+\rationale Formerly mandated conversions (\link{lvalue-to-rvalue}{conv.lval},
+\link{array-to-pointer}{conv.array}, and \link{function-to-pointer}{conv.func}
 standard conversions), especially the creation of the temporary due to
 lvalue-to-rvalue conversion, were considered gratuitous and surprising.
 \effect Valid \CppXI{} code that relies on the conversions may behave differently
@@ -2428,9 +2428,9 @@ standard library.
 The types \tcode{char16_t} and \tcode{char32_t}
 are distinct types rather than typedefs to existing integral types.
 The tokens \tcode{char16_t} and \tcode{char32_t}
-are keywords in this International Standard\iref{lex.key}.
+are \link{keywords}{lex.key} in this International Standard.
 They do not appear as macro names defined in
-\tcode{<cuchar>}\indexhdr{cuchar}\iref{cuchar.syn}.
+\link{\tcode{<cuchar>}}{cuchar.syn}.\indexhdr{cuchar}
 
 \rSec3[diff.wchar.t]{Type \tcode{wchar_t}}
 
@@ -2438,19 +2438,19 @@ They do not appear as macro names defined in
 The type \tcode{wchar_t} is a distinct type rather than a typedef to an
 existing integral type.
 The token \tcode{wchar_t}
-is a keyword in this International Standard\iref{lex.key}.
+is a \link{keyword}{lex.key} in this International Standard.
 It does not appear as a type name defined in any of
-\tcode{<cstddef>}\iref{cstddef.syn}\indexhdr{cstddef},
-\tcode{<cstdlib>}\iref{cstdlib.syn}\indexhdr{cstdlib},
-or \tcode{<cwchar>}\iref{cwchar.syn}\indexhdr{cwchar}.
+\link{\tcode{<cstddef>}}{cstddef.syn}\indexhdr{cstddef},
+\link{\tcode{<cstdlib>}}{cstdlib.syn}\indexhdr{cstdlib},
+or \link{\tcode{<cwchar>}}{cwchar.syn}\indexhdr{cwchar}.
 
 \rSec3[diff.header.assert.h]{Header \tcode{<assert.h>}}
 \indexhdr{assert.h}%
 
 \pnum
-The token \tcode{static_assert} is a keyword in this International
-Standard\iref{lex.key}. It does not appear as a macro name defined
-in \tcode{<cassert>}\indexhdr{cassert}\iref{cassert.syn}.
+The token \tcode{static_assert} is a \link{keyword}{lex.key} in this International
+Standard. It does not appear as a macro name defined
+in \link{\tcode{<cassert>}}{cassert.syn}.\indexhdr{cassert}
 
 \rSec3[diff.header.iso646.h]{Header \tcode{<iso646.h>}}
 \indexhdr{iso646.h}%
@@ -2469,8 +2469,8 @@ The tokens
 \tcode{xor},
 and
 \tcode{xor_eq}
-are keywords in this International
-Standard\iref{lex.key},
+are \link{keywords}{lex.key} in this International
+Standard,
 and are not introduced as macros
 by \tcode{<iso646.h>}\iref{depr.iso646.h.syn}.
 
@@ -2488,7 +2488,7 @@ by \tcode{<stdalign.h>}\iref{depr.stdalign.h.syn}.
 
 \pnum
 The tokens \tcode{bool}, \tcode{true}, and \tcode{false}
-are keywords in this International Standard\iref{lex.key},
+are \link{keywords}{lex.key} in this International Standard,
 and are not introduced as macros
 by \tcode{<stdbool.h>}\iref{depr.stdbool.h.syn}.
 
@@ -2498,20 +2498,20 @@ by \tcode{<stdbool.h>}\iref{depr.stdbool.h.syn}.
 The macro
 \tcode{NULL},
 defined in any of
-\tcode{<clocale>}\iref{c.locales}\indexhdr{clocale},
-\tcode{<cstddef>}\iref{cstddef.syn}\indexhdr{cstddef},
-\tcode{<cstdio>}\iref{cstdio.syn}\indexhdr{cstdio},
-\tcode{<cstdlib>}\iref{cstdlib.syn}\indexhdr{cstdlib},
-\tcode{<cstring>}\iref{cstring.syn}\indexhdr{cstring},
-\tcode{<ctime>}\iref{ctime.syn}\indexhdr{ctime},
-or \tcode{<cwchar>}\iref{cwchar.syn}\indexhdr{cwchar},
+\link{\tcode{<clocale>}}{c.locales}\indexhdr{clocale},
+\link{\tcode{<cstddef>}}{cstddef.syn}\indexhdr{cstddef},
+\link{\tcode{<cstdio>}}{cstdio.syn}\indexhdr{cstdio},
+\link{\tcode{<cstdlib>}}{cstdlib.syn}\indexhdr{cstdlib},
+\link{\tcode{<cstring>}}{cstring.syn}\indexhdr{cstring},
+\link{\tcode{<ctime>}}{ctime.syn}\indexhdr{ctime},
+or \link{\tcode{<cwchar>}}{cwchar.syn}\indexhdr{cwchar},
 is an \impldef{definition of \tcode{NULL}} \Cpp{} null pointer constant in
 this International Standard\iref{support.types}.
 
 \rSec2[diff.mods.to.declarations]{Modifications to declarations}
 
 \pnum
-Header \tcode{<cstring>}\iref{cstring.syn}\indexhdr{cstring}:
+Header \link{\tcode{<cstring>}}{cstring.syn}\indexhdr{cstring}:
 The following functions have different declarations:
 
 \begin{itemize}
@@ -2525,7 +2525,7 @@ The following functions have different declarations:
 Subclause \ref{cstring.syn} describes the changes.
 
 \pnum
-Header \tcode{<cwchar>}\iref{cwchar.syn}\indexhdr{cwchar}:
+Header \link{\tcode{<cwchar>}}{cwchar.syn}\indexhdr{cwchar}:
 The following functions have different declarations:
 
 \begin{itemize}
@@ -2539,14 +2539,14 @@ The following functions have different declarations:
 Subclause \ref{cwchar.syn} describes the changes.
 
 \pnum
-Header \tcode{<cstddef>}\iref{cstddef.syn}\indexhdr{cstddef}
+Header \link{\tcode{<cstddef>}}{cstddef.syn}\indexhdr{cstddef}
 declares the name \tcode{nullptr_t} in addition to the names declared in
 \tcode{<stddef.h>} in the C standard library.
 
 \rSec2[diff.mods.to.behavior]{Modifications to behavior}
 
 \pnum
-Header \tcode{<cstdlib>}\iref{cstdlib.syn}\indexhdr{cstdlib}:
+Header \link{\tcode{<cstdlib>}}{cstdlib.syn}\indexhdr{cstdlib}:
 The following functions have different behavior:
 
 \begin{itemize}
@@ -2558,7 +2558,7 @@ The following functions have different behavior:
 Subclause \ref{support.start.term} describes the changes.
 
 \pnum
-Header \tcode{<csetjmp>}\iref{csetjmp.syn}\indexhdr{csetjmp}:
+Header \link{\tcode{<csetjmp>}}{csetjmp.syn}\indexhdr{csetjmp}:
 The following functions have different behavior:
 
 \begin{itemize}
@@ -2572,7 +2572,7 @@ Subclause \ref{csetjmp.syn} describes the changes.
 
 \pnum
 The macro \tcode{offsetof}, defined in
-\tcode{<cstddef>}\iref{cstddef.syn}\indexhdr{cstddef},
+\link{\tcode{<cstddef>}}{cstddef.syn}\indexhdr{cstddef},
 accepts a restricted set of \tcode{\placeholder{type}} arguments in this International Standard.
 Subclause \ref{support.types.layout} describes the change.
 
diff --git a/source/containers.tex b/source/containers.tex
index ef5740f1..699f5d2b 100644
--- a/source/containers.tex
+++ b/source/containers.tex
@@ -56,9 +56,9 @@ is itself linear.
 \pnum
 For the components affected by this subclause that declare an \tcode{allocator_type},
 objects stored in these components shall be constructed using the function
-\tcode{allocator_traits<allocator_type>::rebind_traits<U>::\brk{}construct}
+\linkx{\tcode{allocator_traits<allocator_type>::rebind_traits<U>::\brk{}construct}}{allocator_traits!construct}{allocator.traits.members}
 and destroyed using the function
-\tcode{allocator_traits<allocator_type>::rebind_traits<U>::\brk{}destroy}\iref{allocator.traits.members},
+\linkx{\tcode{allocator_traits<allocator_type>::rebind_traits<U>::\brk{}destroy}}{allocator_traits!destroy}{allocator.traits.members},
 where \tcode{U} is either \tcode{allocator_type::value_type} or
 an internal type used by the container.
 These functions are called only for the
@@ -364,7 +364,7 @@ swap.
 
 \pnum
 If the iterator type of a container belongs to the bidirectional or
-random access iterator categories\iref{iterator.requirements},
+random access \link{iterator categories}{iterator.requirements},
 the container is called
 \term{reversible}
 and meets the additional requirements
@@ -723,7 +723,7 @@ is well-formed when treated as an unevaluated operand.
 \rSec2[container.requirements.dataraces]{Container data races}
 
 \pnum
-For purposes of avoiding data races\iref{res.on.data.races}, implementations shall
+For purposes of \link{avoiding data races}{res.on.data.races}, implementations shall
 consider the following functions to be \tcode{const}: \tcode{begin}, \tcode{end},
 \tcode{rbegin}, \tcode{rend}, \tcode{front}, \tcode{back}, \tcode{data}, \tcode{find},
 \tcode{lower_bound}, \tcode{upper_bound}, \tcode{equal_range}, \tcode{at} and, except in
@@ -1504,7 +1504,7 @@ Each associative container is parameterized on
 \tcode{Key}
 and an ordering relation
 \tcode{Compare}
-that induces a strict weak ordering\iref{alg.sorting} on
+that induces a \link{strict weak ordering}{alg.sorting} on
 elements of
 \tcode{Key}.
 In addition,
@@ -1571,8 +1571,8 @@ are the same type.
 \begin{note} \tcode{iterator} and \tcode{const_iterator} have identical semantics in this case, and \tcode{iterator} is convertible to \tcode{const_iterator}. Users can avoid violating the one-definition rule by always using \tcode{const_iterator} in their function parameter lists. \end{note}
 
 \pnum
-The associative containers meet all the requirements of Allocator-aware
-containers\iref{container.requirements.general}, except that for
+The associative containers meet all the requirements of
+\link{Allocator-aware}{container.requirements.general} containers, except that for
 \tcode{map} and \tcode{multimap}, the requirements placed on \tcode{value_type}
 in \tref{container.alloc.req} apply instead to \tcode{key_type}
 and \tcode{mapped_type}. \begin{note} For example, in some cases \tcode{key_type} and \tcode{mapped_type}
@@ -2152,8 +2152,8 @@ four unordered associative containers: \tcode{unordered_set},
 \indextext{unordered associative containers!lack of comparison functions}%
 \indextext{unordered associative containers!requirements}%
 \indextext{requirements!container!not required for unordered associated containers}%
-Unordered associative containers conform to the requirements for
-Containers\iref{container.requirements}, except that
+Unordered associative containers conform to the \link{requirements for
+Containers}{container.requirements}, except that
 the expressions
 \tcode{a == b} and \tcode{a != b} have different semantics than for the other
 container types.
@@ -2241,8 +2241,8 @@ references to elements. For \tcode{unordered_multiset} and
 equivalent elements.
 
 \pnum
-The unordered associative containers meet all the requirements of Allocator-aware
-containers\iref{container.requirements.general}, except that for
+The unordered associative containers meet all the requirements of
+\link{Allocator-aware containers}{container.requirements.general}, except that for
 \tcode{unordered_map} and \tcode{unordered_multimap}, the requirements placed on \tcode{value_type}
 in \tref{container.alloc.req} apply instead to \tcode{key_type}
 and \tcode{mapped_type}. \begin{note} For example, \tcode{key_type} and \tcode{mapped_type}
@@ -3249,14 +3249,14 @@ namespace std {
 \indextext{\idxcode{array}!contiguous storage}%
 The header \tcode{<array>} defines a class template for storing fixed-size
 sequences of objects.
-An \tcode{array} is a contiguous container\iref{container.requirements.general}.
+An \tcode{array} is a \deflink{contiguous container}{container.requirements.general}.
 An instance of \tcode{array<T, N>} stores \tcode{N} elements of type \tcode{T},
 so that \tcode{size() == N} is an invariant.
 
 \pnum
 \indextext{\idxcode{array}!initialization}%
 \indextext{\idxcode{array}!as aggregate}%
-An \tcode{array} is an aggregate\iref{dcl.init.aggr} that can be
+An \tcode{array} is an \deflink{aggregate}{dcl.init.aggr} that can be
 list-initialized with up
 to \tcode{N} elements whose types are convertible to \tcode{T}.
 
@@ -3265,8 +3265,8 @@ to \tcode{N} elements whose types are convertible to \tcode{T}.
 An \tcode{array} meets all of the requirements of a container and
 of a reversible container\iref{container.requirements}, except that a default
 constructed \tcode{array} object is not empty and that \tcode{swap} does not have constant
-complexity. An \tcode{array} meets some of the requirements of a sequence
-container\iref{sequence.reqmts}.
+complexity. An \tcode{array} meets some of the requirements of a
+\link{sequence container}{sequence.reqmts}.
 Descriptions are provided here
 only for operations on \tcode{array} that are not described in
 one of these tables and
@@ -3352,7 +3352,7 @@ namespace std {
 \pnum
 \indextext{\idxcode{array}!initialization}%
 \indextext{requirements!container}%
-The conditions for an aggregate\iref{dcl.init.aggr} shall be
+The conditions for an \deflink{aggregate}{dcl.init.aggr} shall be
 met. Class \tcode{array} relies on the implicitly-declared special
 member functions~(\ref{class.default.ctor}, \ref{class.dtor}, and \ref{class.copy.ctor}) to
 conform to the container requirements table in~\ref{container.requirements}.
@@ -4097,7 +4097,7 @@ namespace std {
 \pnum
 An incomplete type \tcode{T} may be used when instantiating \tcode{forward_list}
 if the allocator meets the
-allocator completeness requirements\iref{allocator.requirements.completeness}.
+\link{allocator completeness requirements}{allocator.requirements.completeness}.
 \tcode{T} shall be complete before any member of the resulting specialization
 of \tcode{forward_list} is referenced.
 
@@ -4529,7 +4529,7 @@ Invalidates only the iterators and references to the erased elements.
 predicate.
 
 \pnum
-\remarks Stable\iref{algorithm.stable}.
+\remarks \link{Stable}{algorithm.stable}.
 
 \pnum
 \complexity Exactly \tcode{distance(begin(), end())} applications of the corresponding
@@ -4605,7 +4605,7 @@ If an exception is thrown, the order of the elements in \tcode{*this} is unspeci
 Does not affect the validity of iterators and references.
 
 \pnum
-\remarks Stable\iref{algorithm.stable}.
+\remarks \link{Stable}{algorithm.stable}.
 
 \pnum
 \complexity Approximately $N \log N$ comparisons, where $N$ is \tcode{distance(begin(), end())}.
@@ -4662,7 +4662,7 @@ A
 is a sequence container that supports
 bidirectional iterators and allows constant time insert and erase
 operations anywhere within the sequence, with storage management handled
-automatically. Unlike vectors\iref{vector} and deques\iref{deque},
+automatically. Unlike \link{vectors}{vector} and \link{deques}{deque},
 fast random access to list elements is not supported, but many
 algorithms only need sequential access anyway.
 
@@ -4819,7 +4819,7 @@ namespace std {
 \pnum
 An incomplete type \tcode{T} may be used when instantiating \tcode{list}
 if the allocator meets the
-allocator completeness requirements\iref{allocator.requirements.completeness}.
+\link{allocator completeness requirements}{allocator.requirements.completeness}.
 \tcode{T} shall be complete before any member of the resulting specialization
 of \tcode{list} is referenced.
 
@@ -5187,7 +5187,7 @@ or
 \tcode{pred(*i) != false}.
 
 \pnum
-\remarks Stable\iref{algorithm.stable}.
+\remarks \link{Stable}{algorithm.stable}.
 
 \pnum
 \complexity
@@ -5307,7 +5307,7 @@ the order of the elements in \tcode{*this} is unspecified.
 Does not affect the validity of iterators and references.
 
 \pnum
-\remarks Stable\iref{algorithm.stable}.
+\remarks \link{Stable}{algorithm.stable}.
 
 \pnum
 \complexity
@@ -5364,7 +5364,7 @@ sequence container, including most of the optional sequence container
 requirements\iref{sequence.reqmts}, of an allocator-aware container
 (\tref{container.alloc.req}),
 and, for an element type other than \tcode{bool},
-of a contiguous container\iref{container.requirements.general}.
+of a \deflink{contiguous container}{container.requirements.general}.
 The exceptions are the
 \tcode{push_front}, \tcode{pop_front}, and \tcode{emplace_front} member functions, which are not
 provided. Descriptions are provided here only for operations on \tcode{vector}
@@ -5495,7 +5495,7 @@ namespace std {
 \pnum
 An incomplete type \tcode{T} may be used when instantiating \tcode{vector}
 if the allocator meets the
-allocator completeness requirements\iref{allocator.requirements.completeness}.
+\link{allocator completeness requirements}{allocator.requirements.completeness}.
 \tcode{T} shall be complete before any member of the resulting specialization
 of \tcode{vector} is referenced.
 
@@ -5987,7 +5987,7 @@ Unless described below, all operations have the same requirements and
 semantics as the primary \tcode{vector} template, except that operations
 dealing with the \tcode{bool} value type map to bit values in the
 container storage and
-\tcode{allocator_traits::construct}\iref{allocator.traits.members}
+\linkx{\tcode{allocator_traits::construct}}{allocator_traits!construct}{allocator.traits.members}
 is not used to construct these values.
 
 \pnum
@@ -9466,9 +9466,9 @@ and
 can be used to instantiate
 \tcode{queue}.
 In particular,
-\tcode{list}\iref{list}
+\link{\tcode{list}}{list}
 and
-\tcode{deque}\iref{deque}
+\link{\tcode{deque}}{deque}
 can be used.
 
 \begin{codeblock}
@@ -9720,15 +9720,15 @@ and
 can be used to instantiate
 \tcode{priority_queue}.
 In particular,
-\tcode{vector}\iref{vector}
+\link{\tcode{vector}}{vector}
 and
-\tcode{deque}\iref{deque}
+\link{\tcode{deque}}{deque}
 can be used.
 Instantiating
 \tcode{priority_queue}
 also involves supplying a function or function object for making
 priority comparisons; the library assumes that the function or function
-object defines a strict weak ordering\iref{alg.sorting}.
+object defines a \link{strict weak ordering}{alg.sorting}.
 
 \begin{codeblock}
 namespace std {
@@ -10022,10 +10022,10 @@ and
 can be used to instantiate
 \tcode{stack}.
 In particular,
-\tcode{vector}\iref{vector},
-\tcode{list}\iref{list}
+\link{\tcode{vector}}{vector},
+\link{\tcode{list}}{list}
 and
-\tcode{deque}\iref{deque}
+\link{\tcode{deque}}{deque}
 can be used.
 
 \rSec3[stack.defn]{Definition}
diff --git a/source/declarations.tex b/source/declarations.tex
index be969be0..eceaafdf 100644
--- a/source/declarations.tex
+++ b/source/declarations.tex
@@ -124,7 +124,7 @@ is \impldef{meaning of attribute declaration}.
 \pnum
 \indextext{declaration}%
 \indextext{scope}%
-A declaration occurs in a scope\iref{basic.scope}; the scope rules are
+A declaration occurs in a \deflink{scope}{basic.scope}; the scope rules are
 summarized in~\ref{basic.lookup}. A declaration that declares a function
 or defines a class, namespace, template, or function also has one or
 more scopes nested within it. These nested scopes, in turn, can have
@@ -139,7 +139,7 @@ the declaration.
 \indextext{declarator}%
 In a \grammarterm{simple-declaration}, the optional
 \grammarterm{init-declarator-list} can be omitted only when declaring a
-class\iref{class} or enumeration\iref{dcl.enum}, that is,
+\link{class}{class} or \link{enumeration}{dcl.enum}, that is,
 when the \grammarterm{decl-specifier-seq} contains either a
 \grammarterm{class-specifier}, an \grammarterm{elaborated-type-specifier} with
 a \grammarterm{class-key}\iref{class.name}, or an
@@ -163,15 +163,15 @@ typedef class { };  // ill-formed
 \indextext{\idxgram{static_assert}}%
 In a \grammarterm{static_assert-declaration}, the
 \grammarterm{constant-expression} shall be
-a contextually converted constant expression
-of type \tcode{bool}\iref{expr.const}.
+a \deflinkx{contextually converted constant expression
+of type \tcode{bool}}{contextually converted constant expression of type bool}{expr.const}.
 If the value of the expression when
 so converted is \tcode{true}, the declaration has no
 effect. Otherwise, the program is ill-formed, and the resulting
 diagnostic message\iref{intro.compliance} shall include the text of
 the \grammarterm{string-literal}, if one is supplied,
-except that characters not in the basic
-source character set\iref{lex.charset} are not required to appear in
+except that characters not in the \deflinkx{basic
+source character set}{character set!basic source}{lex.charset} are not required to appear in
 the diagnostic message.
 \begin{example}
 
@@ -327,10 +327,6 @@ void k(unsigned int Pc);        // \tcode{void k(unsigned int)}
 \rSec2[dcl.stc]{Storage class specifiers}%
 \indextext{specifier!storage class}%
 \indextext{declaration!storage class}%
-\indextext{\idxcode{static}}%
-\indextext{\idxcode{thread_local}}%
-\indextext{\idxcode{extern}}%
-\indextext{\idxcode{mutable}}
 
 \pnum
 The storage class specifiers are
@@ -368,12 +364,12 @@ in explicit specializations and explicit instantiations, respectively.
 \begin{note}
 A variable declared without a \grammarterm{storage-class-specifier}
 at block scope or declared as a function parameter
-has automatic storage duration by default\iref{basic.stc.auto}.
+has \deflink{automatic storage duration}{basic.stc.auto} by default.
 \end{note}
 
 \pnum
 The \tcode{thread_local} specifier
-indicates that the named entity has thread storage duration\iref{basic.stc.thread}. It
+indicates that the named entity has \deflink{thread storage duration}{basic.stc.thread}. It
 shall be applied only
 to the declaration of a variable of namespace or block scope,
 to a structured binding declaration\iref{dcl.struct.bind}, or
@@ -392,10 +388,10 @@ to the declaration of an anonymous union\iref{class.union.anon}.
 There can be no
 \tcode{static} function declarations within a block, nor any
 \tcode{static} function parameters. A \tcode{static} specifier used in
-the declaration of a variable declares the variable to have static storage
-duration\iref{basic.stc.static}, unless accompanied by the
-\tcode{thread_local} specifier, which declares the variable to have thread
-storage duration\iref{basic.stc.thread}. A \tcode{static} specifier can be
+the declaration of a variable declares the variable to have
+\deflink{static storage duration}{basic.stc.static}, unless accompanied by the
+\tcode{thread_local} specifier, which declares the variable to have
+\deflink{thread storage duration}{basic.stc.thread}. A \tcode{static} specifier can be
 used in declarations of class members;~\ref{class.static} describes its
 effect.
 \indextext{\idxcode{static}!linkage of}%
@@ -481,7 +477,7 @@ void h() {
 
 \pnum
 The \tcode{mutable} specifier shall appear only in the declaration of
-a non-static data member\iref{class.mem}
+a \deflink{non-static data member}{class.mem}
 whose type is neither const-qualified nor a reference type.
 \begin{example}
 \begin{codeblock}
@@ -551,7 +547,7 @@ part of the \grammarterm{explicit-specifier}.
 \pnum
 Declarations containing the \grammarterm{decl-specifier} \tcode{typedef}
 declare identifiers that can be used later for naming
-fundamental\iref{basic.fundamental} or compound\iref{basic.compound}
+\link{fundamental}{basic.fundamental} or \link{compound}{basic.compound}
 types. The \tcode{typedef} specifier shall not be
 combined in a \grammarterm{decl-specifier-seq} with any other kind of
 specifier except a \grammarterm{defining-type-specifier}, and it shall not be used in the
@@ -936,8 +932,8 @@ shall additionally satisfy the following requirement:
 For a constexpr function or constexpr constructor
 that is neither defaulted nor a template,
 if no argument values exist such that
-an invocation of the function or constructor could be an evaluated subexpression of a core
-constant expression\iref{expr.const}, or,
+an invocation of the function or constructor could be an evaluated subexpression of a
+\deflinkx{core constant expression}{expression!core constant}{expr.const}, or,
 for a constructor, an evaluated subexpression of
 the initialization full-expression of some constant-initialized object\iref{basic.start.static},
 the program is ill-formed, no diagnostic required.
@@ -980,7 +976,7 @@ non-constexpr function in all respects except that
 \begin{itemize}
 \item
 a call to a constexpr
-function can appear in a constant expression\iref{expr.const} and
+function can appear in a \deflink{constant expression}{expr.const} and
 \item
 copy elision is not performed in a constant expression\iref{class.copy.elision}.
 \end{itemize}
@@ -1006,7 +1002,7 @@ shall have literal type and
 shall be initialized.
 In any \tcode{constexpr} variable declaration,
 the full-expression of the initialization
-shall be a constant expression\iref{expr.const}.
+shall be a \link{constant expression}{expr.const}.
 A \tcode{constexpr} variable shall have constant destruction.
 \begin{example}
 \begin{codeblock}
@@ -1242,7 +1238,7 @@ these could be introduced by typedefs.\end{note}
 \pnum
 \begin{note}
 Declaring a variable \tcode{const} can affect its linkage\iref{dcl.stc}
-and its usability in constant expressions\iref{expr.const}. As
+and its usability in \link{constant expressions}{expr.const}. As
 described in~\ref{dcl.init}, the definition of an object or subobject
 of const-qualified type must specify an initializer or be subject to
 default-initialization.
@@ -1256,7 +1252,7 @@ the object referenced is a non-const object and can be modified through
 some other access path.
 \begin{note}
 Cv-qualifiers are supported by the type system so that they cannot be
-subverted without casting\iref{expr.const.cast}.
+subverted without \link{casting}{expr.const.cast}.
 \end{note}
 
 \pnum
@@ -1574,7 +1570,7 @@ For an expression \tcode{e}, the type denoted by \tcode{decltype(e)} is defined
 
 \begin{itemize}
 \item if \tcode{e} is an unparenthesized \grammarterm{id-expression}
-naming a structured binding\iref{dcl.struct.bind},
+naming a \link{structured binding}{dcl.struct.bind},
 \tcode{decltype(e)} is the referenced type as given in
 the specification of the structured binding declaration;
 
@@ -1586,8 +1582,7 @@ after performing any necessary type deduction
 
 \item otherwise, if \tcode{e} is an unparenthesized \grammarterm{id-expression} or
 an unparenthesized
-class
-member access\iref{expr.ref}, \tcode{decltype(e)} is the
+\link{class member access}{expr.ref}, \tcode{decltype(e)} is the
 type of the entity named by \tcode{e}. If there is no such entity, or
 if \tcode{e} names a set of overloaded functions, the program is
 ill-formed;
@@ -1602,8 +1597,8 @@ is \tcode{T\&}, where \tcode{T} is the type of \tcode{e};
 \item otherwise, \tcode{decltype(e)} is the type of \tcode{e}.
 \end{itemize}
 
-The operand of the \tcode{decltype} specifier is an unevaluated
-operand\iref{expr.prop}.
+The operand of the \tcode{decltype} specifier is an
+\deflink{unevaluated operand}{expr.prop}.
 
 \begin{example}
 \begin{codeblock}
@@ -1765,7 +1760,7 @@ explicitly allowed in this subclause is ill-formed.
 If the \grammarterm{init-declarator-list} contains more than one
 \grammarterm{init-declarator}, they shall all form declarations of
 variables. The type of each declared variable is determined
-by placeholder type deduction\iref{dcl.type.auto.deduct},
+by \deflink{placeholder type deduction}{dcl.type.auto.deduct},
 and if the type that replaces the placeholder type is not the
 same in each deduction, the program is ill-formed.
 
@@ -1880,14 +1875,14 @@ auto frf(int i) { return i; }                   // not a friend of \tcode{A<int>
 
 \pnum
 A function declared with a return type that uses a placeholder type shall not
-be \tcode{virtual}\iref{class.virtual}.
+be \link{\tcode{virtual}}{class.virtual}.
 
 \pnum
 A function declared with a return type that uses a placeholder type shall not
 be a coroutine\iref{dcl.fct.def.coroutine}.
 
 \pnum
-An explicit instantiation declaration\iref{temp.explicit} does not cause the
+An \link{explicit instantiation declaration}{temp.explicit} does not cause the
 instantiation of an entity declared using a placeholder type, but it also does
 not prevent that entity from being instantiated as needed to determine its
 type.
@@ -1963,7 +1958,7 @@ Obtain \tcode{P} from
 a new invented type template parameter \tcode{U} or,
 if the initialization is copy-list-initialization, with
 \tcode{std::initializer_list<U>}. Deduce a value for \tcode{U} using the rules
-of template argument deduction from a function call\iref{temp.deduct.call},
+of \link{template argument deduction from a function call}{temp.deduct.call},
 where \tcode{P} is a
 function template parameter type and
 the corresponding argument is \tcode{e}.
@@ -2058,7 +2053,7 @@ in the \grammarterm{type-specifier-seq}
 in the \grammarterm{new-type-id} or \grammarterm{type-id}
 of a \grammarterm{new-expression}\iref{expr.new},
 as the \grammarterm{simple-type-specifier}
-in an explicit type conversion (functional notation)\iref{expr.type.conv},
+in an \link{explicit type conversion (functional notation)}{expr.type.conv},
 or
 as the \grammarterm{type-specifier} in the \grammarterm{parameter-declaration}
 of a \grammarterm{template-parameter}\iref{temp.param}.
@@ -4196,7 +4191,7 @@ means:
 \item
 if
 \tcode{T}
-is a scalar type\iref{basic.types}, the
+is a \deflink{scalar type}{basic.types}, the
 object
 is initialized to the value obtained by converting the integer literal \tcode{0}
 (zero) to
@@ -4210,7 +4205,7 @@ to a pointer type results in a null pointer value.
 if
 \tcode{T}
 is a (possibly cv-qualified) non-union class type,
-its padding bits\iref{basic.types} are initialized to zero bits and
+its \deflink{padding bits}{basic.types} are initialized to zero bits and
 each non-static data member,
 each non-virtual base class subobject, and,
 if the object is not a base class subobject,
@@ -4221,7 +4216,7 @@ is zero-initialized;
 if
 \tcode{T}
 is a (possibly cv-qualified) union type,
-its padding bits\iref{basic.types} are initialized to zero bits and
+its \deflink{padding bits}{basic.types} are initialized to zero bits and
 the
 object's first non-static named
 data member
@@ -4413,7 +4408,7 @@ The initialization that occurs
 parenthesized \grammarterm{expression-list} or a \grammarterm{braced-init-list},
 \item for a \grammarterm{new-initializer}\iref{expr.new},
 \item in a \tcode{static_cast} expression\iref{expr.static.cast},
-\item in a functional notation type conversion\iref{expr.type.conv}, and
+\item in a \link{functional notation type conversion}{expr.type.conv}, and
 \item in the \grammarterm{braced-init-list} form of a \grammarterm{condition}
 \end{itemize}
 is called
@@ -5360,15 +5355,15 @@ to an lvalue of type ``\cvqual{cv3} \tcode{T3}'', where
 ``\cvqual{cv3} \tcode{T3}''\footnote{This requires a conversion
 function\iref{class.conv.fct} returning a reference type.}
 (this conversion is selected by enumerating the applicable conversion
-functions\iref{over.match.ref} and choosing the best one through overload
-resolution\iref{over.match}),
+functions\iref{over.match.ref} and choosing the best one through \link{overload
+resolution}{over.match}),
 \end{itemize}
 then the reference is bound to the initializer expression lvalue in the
 first case and to the lvalue result of the conversion
 in the second case (or, in either case, to the appropriate base class subobject of the object).
 \begin{note}
-The usual lvalue-to-rvalue\iref{conv.lval}, array-to-pointer\iref{conv.array},
-and function-to-pointer\iref{conv.func} standard
+The usual \link{lvalue-to-rvalue}{conv.lval}, \link{array-to-pointer}{conv.array},
+and \link{function-to-pointer}{conv.func} standard
 conversions are not needed, and therefore are suppressed, when such
 direct bindings to lvalues are done.
 \end{note}
@@ -6748,7 +6743,7 @@ type. \begin{example}
 \end{note}
 If the \grammarterm{enum-head-name} of an \grammarterm{opaque-enum-declaration} contains
 a \grammarterm{nested-name-specifier},
-the declaration shall be an explicit specialization\iref{temp.expl.spec}.
+the declaration shall be an \link{explicit specialization}{temp.expl.spec}.
 
 \pnum
 \indextext{constant!enumeration}%
@@ -6831,8 +6826,9 @@ If the underlying type is fixed, the type of each enumerator
 prior to the closing brace is the underlying
 type
 and the \grammarterm{constant-expression} in the \grammarterm{enumerator-definition}
-shall be a converted constant expression of the underlying
-type\iref{expr.const}.
+shall be a
+\deflinkx{converted constant expression}{expression!converted constant}{expr.const}
+of the underlying type.
 If the underlying
 type is not fixed,
 the type of each enumerator prior to the closing brace is determined as
@@ -6841,8 +6837,9 @@ follows:
 \begin{itemize}
 \item If an
 initializer is specified for an enumerator, the
-\grammarterm{constant-expression} shall be an integral constant
-expression\iref{expr.const}. If the expression has
+\grammarterm{constant-expression} shall be an
+\deflinkx{integral constant expression}{expression!integral constant}{expr.const}.
+If the expression has
 unscoped enumeration type, the enumerator has the underlying type of that
 enumeration type, otherwise it has the same type as the expression.
 
@@ -6859,7 +6856,7 @@ is ill-formed.
 
 \pnum
 An enumeration whose underlying type is fixed is an incomplete type from its
-point of declaration\iref{basic.scope.pdecl} to immediately after its
+\deflink{point of declaration}{basic.scope.pdecl} to immediately after its
 \grammarterm{enum-base} (if any), at which point it becomes a complete type.
 An enumeration whose underlying type is not fixed is an incomplete type from
 its point of declaration to immediately after the closing \tcode{\}} of its
@@ -6902,7 +6899,7 @@ if they have the same underlying type.
 
 \pnum
 The value of an enumerator or an object of an unscoped enumeration type is
-converted to an integer by integral promotion\iref{conv.prom}.
+converted to an integer by \deflinkx{integral promotion}{integral promotions}{conv.prom}.
 \begin{example}
 \begin{codeblock}
 enum color { red, yellow, green=20, blue };
@@ -7117,7 +7114,7 @@ Every \grammarterm{namespace-definition} shall appear at namespace scope\iref{ba
 \pnum
 In a \grammarterm{named-namespace-definition},
 the \grammarterm{identifier} is the name of the namespace.
-If the \grammarterm{identifier}, when looked up\iref{basic.lookup.unqual},
+If the \grammarterm{identifier}, when \link{looked up}{basic.lookup.unqual},
 refers to a \grammarterm{namespace-name} (but not a \grammarterm{namespace-alias})
 that was introduced in the namespace
 in which the \grammarterm{named-namespace-definition} appears
@@ -7187,13 +7184,13 @@ appertains to the namespace being defined or extended.
 Members of an inline namespace can be used in most respects as though they were members
 of the enclosing namespace. Specifically, the inline namespace and its enclosing
 namespace are both added to the set of associated namespaces used in
-argument-dependent lookup\iref{basic.lookup.argdep} whenever one of them is,
+\link{argument-dependent lookup}{basic.lookup.argdep} whenever one of them is,
 and a \grammarterm{using-directive}\iref{namespace.udir} that names the inline
-namespace is implicitly inserted into the enclosing namespace as for an unnamed
-namespace\iref{namespace.unnamed}. Furthermore, each
-member of the inline namespace can subsequently be partially
-specialized\iref{temp.class.spec}, explicitly
-instantiated\iref{temp.explicit}, or explicitly specialized\iref{temp.expl.spec} as
+namespace is implicitly inserted into the enclosing namespace as for an \link{unnamed
+namespace}{namespace.unnamed}. Furthermore, each
+member of the inline namespace can subsequently be \link{partially
+specialized}{temp.class.spec}, \link{explicitly
+instantiated}{temp.explicit}, or \link{explicitly specialized}{temp.expl.spec} as
 though it were a member of the enclosing namespace. Finally, looking up a name in the
 enclosing namespace via explicit qualification\iref{namespace.qual} will include
 members of the inline namespace brought in by the \grammarterm{using-directive} even if
@@ -7296,8 +7293,8 @@ that is an \grammarterm{opaque-enum-declaration},
 declares (or redeclares) its \grammarterm{unqualified-id} or
 \grammarterm{identifier} as a member of \tcode{N}.
 \begin{note}
-An explicit instantiation\iref{temp.explicit} or
-explicit specialization\iref{temp.expl.spec} of a template
+An \link{explicit instantiation}{temp.explicit} or
+\link{explicit specialization}{temp.expl.spec} of a template
 does not introduce a name and thus may be declared using an
 \grammarterm{unqualified-id} in a member of the enclosing namespace set,
 if the primary template is declared in an inline namespace.
@@ -7347,8 +7344,8 @@ If a friend declaration in a non-local class first declares a
 class, function, class template or function template\footnote{this implies that the name of the class or function is unqualified.}
 the friend is a member of the innermost enclosing
 namespace. The friend declaration does not by itself make the name
-visible to unqualified lookup\iref{basic.lookup.unqual} or qualified
-lookup\iref{basic.lookup.qual}. \begin{note} The name of the friend will be
+visible to \link{unqualified lookup}{basic.lookup.unqual} or \link{qualified
+lookup}{basic.lookup.qual}. \begin{note} The name of the friend will be
 visible in its namespace if a matching declaration is provided at namespace
 scope (either before or after the class definition granting friendship).
 \end{note} If a friend
@@ -7923,8 +7920,8 @@ template is visible\iref{temp.class.spec}.
 
 \pnum
 Since a \grammarterm{using-declaration} is a declaration, the restrictions
-on declarations of the same name in the same declarative
-region\iref{basic.scope} also apply to \grammarterm{using-declaration}{s}.
+on declarations of the same name in the same
+\deflink{declarative region}{basic.scope} also apply to \grammarterm{using-declaration}{s}.
 \begin{example}
 
 \begin{codeblock}
@@ -7960,7 +7957,7 @@ void func() {
 
 \pnum
 If a function declaration in namespace scope or block scope has the same
-name and the same parameter-type-list\iref{dcl.fct} as
+name and the same \deflink{parameter-type-list}{dcl.fct} as
 a function introduced by a \grammarterm{using-declaration}, and the
 declarations do not declare the same function, the program is
 ill-formed. If a function template declaration in namespace scope has
@@ -8003,7 +8000,7 @@ When a \grammarterm{using-declarator} brings declarations from a base class into
 a derived class, member functions and member function templates in
 the derived class override and/or hide member functions and member
 function templates with the same name,
-parameter-type-list\iref{dcl.fct}, cv-qualification, and \grammarterm{ref-qualifier} (if any) in a base
+\deflink{parameter-type-list}{dcl.fct}, cv-qualification, and \grammarterm{ref-qualifier} (if any) in a base
 class (rather than conflicting).
 Such hidden or overridden declarations are excluded from the set of
 declarations introduced by the \grammarterm{using-declarator}.
@@ -8202,7 +8199,7 @@ different language linkages are distinct types even if they are
 otherwise identical.
 
 \pnum
-Linkage\iref{basic.link} between \Cpp{} and  non-\Cpp{} code fragments can
+\link{Linkage}{basic.link} between \Cpp{} and  non-\Cpp{} code fragments can
 be achieved using a \grammarterm{linkage-specification}:
 
 \indextext{\idxgram{linkage-specification}}%
@@ -8250,7 +8247,7 @@ extern "C" {
 Linkage specifications nest. When linkage specifications nest, the
 innermost one determines the language linkage. A linkage specification
 does not establish a scope. A \grammarterm{linkage-specification} shall
-occur only in namespace scope\iref{basic.scope.namespace}. In a
+occur only in \link{namespace scope}{basic.scope.namespace}. In a
 \grammarterm{linkage-specification}, the specified language linkage applies
 to the function types of all function declarators, function names with
 external linkage, and variable names with external linkage declared
@@ -8321,7 +8318,7 @@ extern "C" {
 
 \pnum
 If two declarations declare functions with the same name and
-parameter-type-list\iref{dcl.fct} to be members of the same
+\deflink{parameter-type-list}{dcl.fct} to be members of the same
 namespace or declare objects with the same name to be members of the same
 namespace and the declarations give the names different language linkages, the
 program is ill-formed; no diagnostic is required if the declarations appear in
@@ -8384,8 +8381,8 @@ extern "C" int h() { return 97; }   // definition for the function \tcode{h} wit
 A declaration directly contained in a
 \grammarterm{linkage-specification}
 is treated as if it contains the
-\tcode{extern}
-specifier\iref{dcl.stc} for the purpose of determining the linkage of the
+\linkx{\tcode{extern}
+specifier}{extern}{dcl.stc} for the purpose of determining the linkage of the
 declared name and whether it is a definition. Such a declaration shall
 not specify a storage class.
 \begin{example}
@@ -8531,16 +8528,16 @@ affects the tokens in an \grammarterm{attribute-argument-clause}.
 \pnum
 In an \grammarterm{attribute-list}, an ellipsis may appear only if that
 \grammarterm{attribute}'s specification permits it. An \grammarterm{attribute} followed
-by an ellipsis is a pack expansion\iref{temp.variadic}.
+by an ellipsis is a \deflink{pack expansion}{temp.variadic}.
 An \grammarterm{attribute-specifier} that contains no \grammarterm{attribute}{s} has no
 effect. The order in which the \grammarterm{attribute-token}{s} appear in an
 \grammarterm{attribute-list} is not significant. If a
-keyword\iref{lex.key}
-or an alternative token\iref{lex.digraph} that satisfies the syntactic requirements
+\link{keyword}{lex.key}
+or an \link{alternative token}{lex.digraph} that satisfies the syntactic requirements
 of an \grammarterm{identifier}\iref{lex.name} is
 contained in
-an \grammarterm{attribute-token}, it is considered an identifier. No name
-lookup\iref{basic.lookup} is performed on any of the identifiers contained in an
+an \grammarterm{attribute-token}, it is considered an identifier. No
+\link{name lookup}{basic.lookup} is performed on any of the identifiers contained in an
 \grammarterm{attribute-token}. The \grammarterm{attribute-token} determines additional
 requirements on the \grammarterm{attribute-argument-clause} (if any).
 
@@ -8622,7 +8619,7 @@ declaration, the program is ill-formed.
 \pnum
 An \grammarterm{alignment-specifier} of the form
 \tcode{alignas(} \grammarterm{type-id} \tcode{)} has the same
-effect as \tcode{alignas(\brk{}alignof(} \grammarterm{type-id}~\tcode{))}\iref{expr.alignof}.
+effect as \tcode{alignas(\brk{}\link{alignof}{expr.alignof}(} \grammarterm{type-id}~\tcode{))}.
 
 \pnum
 The alignment requirement of an entity is the strictest nonzero alignment
@@ -8700,9 +8697,9 @@ in each \grammarterm{attribute-list} and no
 \grammarterm{attribute-argument-clause} shall be present. The attribute may be
 applied to the \grammarterm{declarator-id} of a
 \grammarterm{parameter-declaration} in a function declaration or lambda, in
-which case it specifies that the initialization of the parameter carries a
-dependency to\iref{intro.multithread} each lvalue-to-rvalue
-conversion\iref{conv.lval} of that object. The attribute may also be applied
+which case it specifies that the initialization of the parameter
+\deflink{carries a dependency}{intro.multithread} to each \link{lvalue-to-rvalue
+conversion}{conv.lval} of that object. The attribute may also be applied
 to the \grammarterm{declarator-id} of a function declaration, in which case it
 specifies that the return value, if any, carries a dependency to the evaluation
 of the function call expression.
@@ -8819,14 +8816,14 @@ to the name or entity. \end{note}
 
 \pnum
 The \grammarterm{attribute-token} \tcode{fallthrough}
-may be applied to a null statement\iref{stmt.expr};
+may be applied to a \deflink{null statement}{stmt.expr};
 \indextext{statement!fallthrough}
 such a statement is a fallthrough statement.
 The \grammarterm{attribute-token} \tcode{fallthrough}
 shall appear at most once in each \grammarterm{attribute-list} and
 no \grammarterm{attribute-argument-clause} shall be present.
 A fallthrough statement may only appear within
-an enclosing \tcode{switch} statement\iref{stmt.switch}.
+an enclosing \link{\tcode{switch} statement}{stmt.switch}.
 The next statement that would be executed after a fallthrough statement
 shall be a labeled statement whose label is a case label or
 default label for the same \tcode{switch} statement and,
diff --git a/source/diagnostics.tex b/source/diagnostics.tex
index 8ef0376b..122c00e3 100644
--- a/source/diagnostics.tex
+++ b/source/diagnostics.tex
@@ -473,13 +473,13 @@ is not defined.
 
 \pnum
 An expression \tcode{assert(E)}
-is a constant subexpression\iref{defns.const.subexpr}, if
+is a \link{constant subexpression}{defns.const.subexpr}, if
 \begin{itemize}
 \item
 \tcode{NDEBUG} is defined at the point where \tcode{assert}
 is last defined or redefined, or
 \item
-\tcode{E} contextually converted to \tcode{bool}\iref{conv}
+\tcode{E} \deflinkx{contextually converted to \tcode{bool}}{conversion!contextual to bool}{conv}
 is a constant subexpression that evaluates to the value \tcode{true}.
 \end{itemize}
 
@@ -673,7 +673,7 @@ the operating system or other low-level application program interfaces.
 
 \pnum
 Components described in this subclause shall not change the value of
-\tcode{errno}\iref{errno}.
+\link{\tcode{errno}}{errno}.
 Implementations should leave the error states provided by other
 libraries unchanged.
 
@@ -1241,7 +1241,7 @@ Equivalent to: \tcode{return os << ec.category().name() << ':' << ec.value();}
 \pnum
 The class \tcode{error_condition} describes an object used to hold values identifying
 error conditions. \begin{note} \tcode{error_condition} values are portable abstractions,
-while \tcode{error_code} values\iref{syserr.errcode} are implementation specific. \end{note}
+while \link{\tcode{error_code}}{syserr.errcode} values are implementation specific. \end{note}
 
 \indexlibrary{\idxcode{error_condition}}%
 \begin{codeblock}
@@ -1499,7 +1499,7 @@ application program interfaces.
 \pnum
 \begin{note}
 If an error represents an out-of-memory condition, implementations are
-encouraged to throw an exception object of type \tcode{bad_alloc}\iref{bad.alloc} rather
+encouraged to throw an exception object of type \link{\tcode{bad_alloc}}{bad.alloc} rather
 than \tcode{system_error}.
 \end{note}
 \indexlibrary{\idxcode{system_error}}%
diff --git a/source/exceptions.tex b/source/exceptions.tex
index e219237b..8777bde4 100644
--- a/source/exceptions.tex
+++ b/source/exceptions.tex
@@ -181,7 +181,7 @@ try : i(f(ii)), d(id) {
 
 \pnum
 In this Clause, ``before'' and ``after'' refer to the
-``sequenced before'' relation\iref{intro.execution}.
+\deflinkx{``sequenced before''}{sequenced before}{intro.execution} relation.
 
 \rSec1[except.throw]{Throwing an exception}%
 \indextext{exception handling!throwing}%
@@ -192,9 +192,9 @@ Throwing an exception transfers control to a handler.
 \begin{note}
 An exception can be thrown from one of the following contexts:
 \grammarterm{throw-expression}{s}\iref{expr.throw},
-allocation functions\iref{basic.stc.dynamic.allocation},
-\tcode{dynamic_cast}\iref{expr.dynamic.cast},
-\tcode{typeid}\iref{expr.typeid},
+\link{allocation functions}{basic.stc.dynamic.allocation},
+\link{\tcode{dynamic_cast}}{expr.dynamic.cast},
+\link{\tcode{typeid}}{expr.typeid},
 \grammarterm{new-expression}{s}\iref{expr.new}, and standard library
 functions\iref{structure.specifications}.
 \end{note}
@@ -285,7 +285,7 @@ immediately after the destruction of the object (if any)
 declared in the \grammarterm{exception-declaration} in the handler;
 
 \item
-when an object of type \tcode{std::exception_ptr}\iref{propagation}
+when an object of type \liblinkx{\tcode{std::exception_ptr}}{\idxcode{exception_ptr}}{propagation}
 that refers to the exception object is destroyed,
 before the destructor of \tcode{std::exception_ptr} returns.
 \end{itemize}
@@ -293,7 +293,7 @@ before the destructor of \tcode{std::exception_ptr} returns.
 Among all points of potential destruction for the exception object,
 there is an unspecified last one
 where the exception object is destroyed.
-All other points happen before that last one\iref{intro.races}.
+All other points \deflinkx{happen before}{happens before}{intro.races} that last one.
 \begin{note}
 No other thread synchronization is implied in exception handling.
 \end{note}
@@ -318,7 +318,7 @@ The destructor is potentially invoked\iref{class.dtor}.
 \indextext{exception handling!rethrow}%
 \indextext{rethrow|see{exception handling, rethrow}}%
 An exception is considered caught when a handler for that exception
-becomes active\iref{except.handle}.
+becomes \deflinkx{active}{exception handling!handler!active}{except.handle}.
 \begin{note}
 An exception can have active handlers and still be considered uncaught if
 it is rethrown.
@@ -328,9 +328,9 @@ it is rethrown.
 \indextext{exception handling!terminate called@\tcode{terminate} called}%
 \indextext{\idxcode{terminate}!called}%
 If the exception handling mechanism
-handling an uncaught exception\iref{except.uncaught}
+handling an \link{uncaught exception}{except.uncaught}
 directly invokes a function that exits via an
-exception, the function \tcode{std::terminate} is called\iref{except.terminate}.
+exception, the function \link{\tcode{std::terminate}}{except.terminate} is called.
 \begin{example}
 \begin{codeblock}
 struct C {
@@ -373,7 +373,7 @@ Each object with automatic storage duration is destroyed if it has been
 constructed, but not yet destroyed,
 since the try block was entered.
 If an exception is thrown during the destruction of temporaries or
-local variables for a \tcode{return} statement\iref{stmt.return},
+local variables for a \link{\tcode{return} statement}{stmt.return},
 the destructor for the returned object (if any) is also invoked.
 The objects are destroyed in the reverse order of the completion
 of their construction.
@@ -437,7 +437,7 @@ Such destruction is sequenced before entering a handler of the
 \pnum
 \begin{note}
 If the object was allocated by a \grammarterm{new-expression}\iref{expr.new},
-the matching deallocation function\iref{basic.stc.dynamic.deallocation},
+the matching \link{deallocation function}{basic.stc.dynamic.deallocation},
 if any, is called to free the storage occupied by the object.
 \end{note}
 
@@ -511,12 +511,12 @@ that can be converted to \tcode{T} by one or more of
 \begin{itemize}
 
 \item%
-a standard pointer conversion\iref{conv.ptr} not involving conversions
+a standard \link{pointer conversion}{conv.ptr} not involving conversions
 to pointers to private or protected or ambiguous classes
 \item%
-a function pointer conversion\iref{conv.fctptr}
+a \link{function pointer conversion}{conv.fctptr}
 \item%
-a qualification conversion\iref{conv.qual}, or
+a \link{qualification conversion}{conv.qual}, or
 
 \end{itemize}
 
@@ -637,7 +637,7 @@ Exceptions thrown in destructors of objects with static storage duration or in
 constructors of namespace-scope objects with static storage duration are not caught by a
 \grammarterm{function-try-block}
 on
-the \tcode{main} function\iref{basic.start.main}.
+the \link{\tcode{main} function}{basic.start.main}.
 Exceptions thrown in destructors of objects with thread storage duration or in constructors of namespace-scope objects with thread storage duration are not caught by a
 \grammarterm{function-try-block}
 on the initial function of the thread.
@@ -669,9 +669,11 @@ of type \tcode{E}, as follows:
 \begin{itemize}
 \item
 if \tcode{T} is a base class of \tcode{E}, the variable is
-copy-initialized\iref{dcl.init} from the corresponding base class subobject
+\deflinkx{copy-initialized}{copy-initialization}{dcl.init}
+from the corresponding base class subobject
 of the exception object;
-\item otherwise, the variable is copy-initialized\iref{dcl.init}
+\item otherwise, the variable is
+\deflinkx{copy-initialized}{copy-initialization}{dcl.init}
 from the exception object.
 \end{itemize}
 
@@ -706,7 +708,7 @@ otherwise it has a
 The exception specification is either defined implicitly,
 or defined explicitly
 by using a \grammarterm{noexcept-specifier}
-as a suffix of a function declarator\iref{dcl.fct}.
+as a suffix of a \link{function declarator}{dcl.fct}.
 
 \begin{bnf}
 \nontermdef{noexcept-specifier}\br
@@ -717,13 +719,13 @@ as a suffix of a function declarator\iref{dcl.fct}.
 \pnum
 \indextext{exception specification!noexcept!constant expression and}%
 In a \grammarterm{noexcept-specifier}, the \grammarterm{constant-expression},
-if supplied, shall be a contextually converted constant expression
-of type \tcode{bool}\iref{expr.const};
+if supplied, shall be a
+\deflink{contextually converted constant expression of type \tcode{bool}}{expr.const};
 that constant expression is the exception specification of
 the function type in which the \grammarterm{noexcept-specifier} appears.
 A \tcode{(} token that follows \tcode{noexcept} is part of the
 \grammarterm{noexcept-specifier} and does not commence an
-initializer\iref{dcl.init}.
+\link{initializer}{dcl.init}.
 The \grammarterm{noexcept-specifier} \tcode{noexcept}
 without a \grammarterm{constant-expression}
 is
@@ -740,7 +742,7 @@ in which cases the exception specification
 is as specified below
 and no other declaration for that function
 shall have a \grammarterm{noexcept-specifier}.
-In an explicit instantiation\iref{temp.explicit}
+In an \link{explicit instantiation}{temp.explicit}
 a \grammarterm{noexcept-specifier} may be specified,
 but is not required.
 If a \grammarterm{noexcept-specifier} is specified
@@ -819,7 +821,7 @@ An expression \tcode{e} is
 
 \begin{itemize}
 \item
-\tcode{e} is a function call\iref{expr.call}
+\tcode{e} is a \link{function call}{expr.call}
 whose \grammarterm{postfix-expression}
 has a function type,
 or a pointer-to-function type,
@@ -830,15 +832,15 @@ or
 (such as an overloaded operator,
 an allocation function in a \grammarterm{new-expression},
 a constructor for a function argument,
-or a destructor if \tcode{e} is a full-expression\iref{intro.execution})
+or a destructor if \tcode{e} is a \deflink{full-expression}{intro.execution})
 that is potentially-throwing,
 or
 \item
 \tcode{e} is a \grammarterm{throw-expression}\iref{expr.throw},
 or
 \item
-\tcode{e} is a \tcode{dynamic_cast} expression that casts to a reference type and
-requires a runtime check\iref{expr.dynamic.cast},
+\tcode{e} is a \link{\tcode{dynamic_cast}}{expr.dynamic.cast} expression that casts to a reference type and
+requires a runtime check,
 or
 \item
 \tcode{e} is a \tcode{typeid} expression applied to a
@@ -847,7 +849,7 @@ applied to a pointer to a
 polymorphic class type\iref{expr.typeid},
 or
 \item
-any of the immediate subexpressions\iref{intro.execution}
+any of the \deflinkx{immediate subexpressions}{immediate subexpression}{intro.execution}
 of \tcode{e} is potentially-throwing.
 \end{itemize}
 
@@ -901,7 +903,7 @@ the invocation of any assignment operator
 in the implicit definition is potentially-throwing.
 
 \pnum
-A deallocation function\iref{basic.stc.dynamic.deallocation}
+A \link{deallocation function}{basic.stc.dynamic.deallocation}
 with no explicit \grammarterm{noexcept-specifier}
 has a non-throwing exception specification.
 
@@ -954,7 +956,7 @@ An exception specification is considered to be \defnx{needed}{needed!exception s
 \item in an expression, the function is the unique lookup result or the selected
 member of a set of overloaded functions~(\ref{basic.lookup}, \ref{over.match}, \ref{over.over});
 
-\item the function is odr-used\iref{basic.def.odr} or, if it appears in an
+\item the function is \link{odr-used}{basic.def.odr} or, if it appears in an
 unevaluated operand, would be odr-used if the expression were
 potentially-evaluated;
 
@@ -988,8 +990,8 @@ The function \tcode{std::terminate}\iref{except.terminate}
 is used by the exception
 handling mechanism for coping with errors related to the exception handling
 mechanism itself. The function
-\tcode{std::current_exception()}\iref{propagation} and the class
-\tcode{std::nested_exception}\iref{except.nested} can be used by a program to
+\link{\tcode{std::current_exception()}}{propagation} and the class
+\link{\tcode{std::nested_exception}}{except.nested} can be used by a program to
 capture the currently handled exception.
 
 \rSec2[except.terminate]{The \tcode{std::terminate} function}
@@ -1012,12 +1014,12 @@ via an exception, or
 \item%
 when the exception handling mechanism cannot find a handler for a thrown exception\iref{except.handle}, or
 
-\item when the search for a handler\iref{except.handle} encounters the
+\item when the search for a \link{handler}{except.handle} encounters the
 outermost block of a function
-with a non-throwing exception specification\iref{except.spec}, or
+with a non-throwing \link{exception specification}{except.spec}, or
 
 \item%
-when the destruction of an object during stack unwinding\iref{except.ctor}
+when the destruction of an object during \deflink{stack unwinding}{except.ctor}
 terminates by throwing an exception, or
 
 \item%
@@ -1071,17 +1073,17 @@ fails to meet a postcondition.
 \pnum
 \indextext{\idxcode{terminate}}%
 In such cases,
-the function \tcode{std::terminate}
-is called\iref{exception.terminate}.
+the function \link{\tcode{std::terminate}}{exception.terminate}
+is called.
 In the situation where no matching handler is found, it is
 \impldef{stack unwinding before call to \tcode{std::terminate}} whether or not the
 stack is unwound
 before
 \tcode{std::terminate}
 is called.
-In the situation where the search for a handler\iref{except.handle} encounters the
+In the situation where the search for a \link{handler}{except.handle} encounters the
 outermost block of a function
-with a non-throwing exception specification\iref{except.spec}, it is
+with a non-throwing \link{exception specification}{except.spec}, it is
 \impldef{whether stack is unwound before calling the function \tcode{std::terminate}
 when a \tcode{noexcept} specification
 is violated}
@@ -1100,7 +1102,7 @@ will eventually cause a call to the function
 
 \pnum
 An exception is considered uncaught
-after completing the initialization of the exception object\iref{except.throw}
+after completing the initialization of the \deflinkx{exception object}{exception handling!exception object}{except.throw}
 until completing the activation of a handler for the exception\iref{except.handle}.
 \begin{note}
 As a consequence, an exception is considered uncaught
@@ -1109,6 +1111,6 @@ during any stack unwinding resulting from it being thrown.
 If an exception is rethrown~(\ref{expr.throw}, \ref{propagation}),
 it is considered uncaught from the point of rethrow
 until the rethrown exception is caught.
-The function \tcode{std::uncaught_exceptions()}\iref{uncaught.exceptions}
+The function \link{\tcode{std::uncaught_exceptions()}}{uncaught.exceptions}
 returns the number of uncaught exceptions in the current thread.%
 \indextext{exception handling|)}
diff --git a/source/expressions.tex b/source/expressions.tex
index 5f6c34a8..a727d0b1 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -30,14 +30,14 @@ effects.
 \indextext{operator!overloaded}%
 \begin{note}
 Operators can be overloaded, that is, given meaning when applied to
-expressions of class type\iref{class} or enumeration
-type\iref{dcl.enum}. Uses of overloaded operators are transformed into
+expressions of \link{class}{class} type or
+\link{enumeration}{dcl.enum} type. Uses of overloaded operators are transformed into
 function calls as described in~\ref{over.oper}. Overloaded operators
 obey the rules for syntax and evaluation order specified in \ref{expr.compound},
 but the requirements of operand type and value category are replaced
 by the rules for function call. Relations between operators, such as
-\tcode{++a} meaning \tcode{a+=1}, are not guaranteed for overloaded
-operators\iref{over.oper}.
+\tcode{++a} meaning \tcode{a+=1}, are not guaranteed for \link{overloaded
+operators}{over.oper}.
 \end{note}
 
 \pnum
@@ -232,8 +232,8 @@ a temporary object is materialized; see \ref{expr.context}.
 \pnum
 Whenever a glvalue appears as an operand of an operator that
 expects a prvalue for that operand, the
-lvalue-to-rvalue\iref{conv.lval}, array-to-pointer\iref{conv.array},
-or function-to-pointer\iref{conv.func} standard conversions are
+\link{lvalue-to-rvalue}{conv.lval}, \link{array-to-pointer}{conv.array},
+or \link{function-to-pointer}{conv.func} standard conversions are
 applied to convert the expression to a prvalue.
 \begin{note}
 An attempt to bind an rvalue reference to an lvalue is not such a context; see~\ref{dcl.init.ref}.
@@ -253,7 +253,7 @@ created, which might then be promoted\iref{conv.prom}.
 \pnum
 Whenever a prvalue appears as an operand of an operator that
 expects a glvalue for that operand, the
-temporary materialization conversion\iref{conv.rval} is
+\link{temporary materialization conversion}{conv.rval} is
 applied to convert the expression to an xvalue.
 
 \pnum
@@ -355,8 +355,8 @@ other type is ``pointer to function'', where the function types are otherwise th
 
 \item
 if \tcode{T1} is ``pointer to \cvqual{cv1} \tcode{C1}'' and \tcode{T2} is ``pointer to
-\cvqual{cv2} \tcode{C2}'', where \tcode{C1} is reference-related to \tcode{C2} or \tcode{C2} is
-reference-related to \tcode{C1}\iref{dcl.init.ref}, the cv-combined type
+\cvqual{cv2} \tcode{C2}'', where \tcode{C1} is \deflink{reference-related}{dcl.init.ref} to \tcode{C2} or \tcode{C2} is
+reference-related to \tcode{C1}, the cv-combined type
 of \tcode{T1} and \tcode{T2} or the cv-combined type of \tcode{T2} and \tcode{T1},
 respectively;
 
@@ -383,7 +383,7 @@ reference-related to \tcode{C2} or \tcode{C2} is reference-related to
 of \tcode{T1} and \tcode{T2}, respectively;
 
 \item
-if \tcode{T1} and \tcode{T2} are similar types\iref{conv.qual}, the cv-combined type of \tcode{T1} and
+if \tcode{T1} and \tcode{T2} are \deflink{similar types}{conv.qual}, the cv-combined type of \tcode{T1} and
 \tcode{T2};
 
 \item
@@ -419,15 +419,15 @@ An unevaluated operand is not evaluated.
 In an unevaluated operand, a non-static class member may be
 named\iref{expr.prim.id} and naming of objects or functions does not, by
 itself, require that a definition be provided\iref{basic.def.odr}.
-An unevaluated operand is considered a full-expression\iref{intro.execution}.
+An unevaluated operand is considered a \deflink{full-expression}{intro.execution}.
 \end{note}
 
 \pnum
 In some contexts, an expression only appears for its side effects. Such an
 expression is called a \defn{discarded-value expression}.
-The array-to-pointer\iref{conv.array}
-and function-to-pointer\iref{conv.func} standard conversions are not
-applied. The lvalue-to-rvalue conversion\iref{conv.lval} is applied
+The \link{array-to-pointer}{conv.array}
+and \link{function-to-pointer}{conv.func} standard conversions are not
+applied. The \link{lvalue-to-rvalue}{conv.lval} conversion is applied
 if and only if
 the expression is a glvalue of volatile-qualified type and it is one of the
 following:
@@ -436,13 +436,13 @@ following:
 \item \tcode{(} \grammarterm{expression} \tcode{)}, where
   \grammarterm{expression} is one of these expressions,
 \item \grammarterm{id-expression}\iref{expr.prim.id},
-\item subscripting\iref{expr.sub},
-\item class member access\iref{expr.ref},
-\item indirection\iref{expr.unary.op},
-\item pointer-to-member operation\iref{expr.mptr.oper},
-\item conditional expression\iref{expr.cond} where both the second and the
+\item \link{subscripting}{expr.sub},
+\item \link{class member access}{expr.ref},
+\item \deflink{indirection}{expr.unary.op},
+\item \link{pointer-to-member operation}{expr.mptr.oper},
+\item \link{conditional expression}{expr.cond} where both the second and the
       third operands are one of these expressions, or
-\item comma expression\iref{expr.comma} where the right operand is one of
+\item \link{comma expression}{expr.comma} where the right operand is one of
       these expressions.
 \end{itemize}
 
@@ -450,7 +450,7 @@ following:
 above covers only operators with built-in meaning.
 \end{note}
 If the (possibly converted) expression is a prvalue,
-the temporary materialization conversion\iref{conv.rval} is applied.
+the \link{temporary materialization conversion}{conv.rval} is applied.
 \begin{note}
 If the expression is an lvalue of
 class type, it must have a volatile copy constructor to initialize the
@@ -575,7 +575,7 @@ descriptions of those operators and contexts.
 \pnum
 \indextext{conversion!lvalue-to-rvalue}%
 \indextext{type!incomplete}%
-A glvalue\iref{basic.lval} of a non-function, non-array type \tcode{T}
+A \deflink{glvalue}{basic.lval} of a non-function, non-array type \tcode{T}
 can be converted to
 a prvalue.\footnote{For historical reasons, this conversion is called the ``lvalue-to-rvalue''
 conversion, even though that name does not accurately reflect the taxonomy
@@ -988,7 +988,7 @@ the destination type.
 \indextext{conversion!pointer-to-member}%
 \indextext{null member pointer conversion|see{conversion, null member pointer}}%
 \indextext{constant!null pointer}%
-A null pointer constant\iref{conv.ptr} can be converted to a
+A \deflinkx{null pointer constant}{constant!null pointer}{conv.ptr} can be converted to a
 pointer-to-member
 type; the result is the \defnx{null member pointer value}{value!null member pointer}
 of that type and is distinguishable from any pointer to member not
@@ -1073,7 +1073,7 @@ This pattern is called the \defnx{usual arithmetic conversions}{conversion!usual
 which are defined as follows:
 
 \begin{itemize}
-\item If either operand is of scoped enumeration type\iref{dcl.enum}, no conversions
+\item If either operand is of \deflinkx{scoped enumeration type}{enumeration!scoped}{dcl.enum}, no conversions
 are performed; if the other operand does not have the same type, the expression is
 ill-formed.
 
@@ -1147,15 +1147,15 @@ A
 \indextext{constant}%
 \grammarterm{literal}
 is a primary expression.
-Its type depends on its form\iref{lex.literal}.
+Its type depends on its \link{form}{lex.literal}.
 A string literal is an lvalue; all other literals are prvalues.
 
 \rSec2[expr.prim.this]{This}
 
 \pnum
 \indextext{\idxcode{this}}%
-The keyword \tcode{this} names a pointer to the object for which a non-static member
-function\iref{class.this} is invoked or a non-static data member's
+The keyword \link{\tcode{this}}{class.this} names a pointer to the object for which a non-static member
+function is invoked or a non-static data member's
 initializer\iref{class.mem} is evaluated.
 
 \pnum
@@ -1172,7 +1172,7 @@ occur until the complete declarator is known. \end{note}
 \begin{note}
 In a \grammarterm{trailing-return-type},
 the class being defined is not required to be complete
-for purposes of class member access\iref{expr.ref}.
+for purposes of \link{class member access}{expr.ref}.
 Class members declared later are not visible.
 \begin{example}
 \begin{codeblock}
@@ -1187,10 +1187,10 @@ template auto A::f(int t) -> decltype(t + g());
 \end{note}
 
 \pnum
-Otherwise, if a \grammarterm{member-declarator} declares a non-static data
-member\iref{class.mem} of a class \tcode{X}, the expression \tcode{this} is
+Otherwise, if a \grammarterm{member-declarator} declares a non-static \link{data
+member}{class.mem} of a class \tcode{X}, the expression \tcode{this} is
 a prvalue of type ``pointer to \tcode{X}'' within the
-optional default member initializer\iref{class.mem}. It shall not appear elsewhere
+optional \deflink{default member initializer}{class.mem}. It shall not appear elsewhere
 in the \grammarterm{member-declarator}.
 
 \pnum
@@ -1236,8 +1236,8 @@ meaning, except as otherwise indicated.
 An \grammarterm{id-expression} is a restricted form of a
 \grammarterm{primary-expression}.
 \begin{note}
-An \grammarterm{id-expression} can appear after \tcode{.} and \tcode{->}
-operators\iref{expr.ref}.
+An \grammarterm{id-expression} can appear after
+\link{\tcode{.} and \tcode{->} operators}{expr.ref}.
 \end{note}
 
 \pnum
@@ -1245,7 +1245,7 @@ An \grammarterm{id-expression} that denotes a non-static data member or
 non-static member function of a class can only be used:
 
 \begin{itemize}
-\item as part of a class member access\iref{expr.ref} in which the
+\item as part of a \link{class member access}{expr.ref} in which the
 object expression
 refers to the member's class\footnote{This also applies when the object expression
 is an implicit \tcode{(*this)}~(\ref{class.mfct.non-static}).} or a class derived from
@@ -1292,7 +1292,7 @@ static_assert(C<int>);          // OK
 \begin{note}
 A concept's constraints are also considered
 when using a template name\iref{temp.names}
-and during overload resolution\iref{over},
+and during \deflink{overload resolution}{over},
 and they are compared
 during the partial ordering of constraints\iref{temp.constr.order}.
 \end{note}
@@ -1318,7 +1318,7 @@ In each case, the constraints of \tcode{f} are not satisfied.
 In the declaration of \tcode{p2},
 those constraints are required to be satisfied
 even though
-\tcode{f} is an unevaluated operand\iref{expr.prop}.
+\tcode{f} is an \deflink{unevaluated operand}{expr.prop}.
 \end{example}
 
 \rSec3[expr.prim.id.unqual]{Unqualified names}
@@ -1430,7 +1430,7 @@ type.
 A \grammarterm{nested-name-specifier} that denotes a class, optionally
 followed by the keyword \tcode{template}\iref{temp.names}, and then
 followed by the name of a member of either that class\iref{class.mem}
-or one of its base classes\iref{class.derived}, is a
+or one of its \link{base classes}{class.derived}, is a
 \indextext{id!qualified}%
 \grammarterm{qualified-id};~\ref{class.qual} describes name lookup for
 class members that appear in \grammarterm{qualified-id}{s}. The result is the
@@ -1452,7 +1452,7 @@ shall not be of the form \tcode{\~}\grammarterm{decltype-specifier}.
 \pnum
 The \grammarterm{nested-name-specifier} \tcode{::} names the global namespace.
 A \grammarterm{nested-name-specifier} that names a
-namespace\iref{basic.namespace}, optionally followed by the keyword
+\link{namespace}{basic.namespace}, optionally followed by the keyword
 \tcode{template}\iref{temp.names}, and then followed by the name of a member
 of that namespace (or the name of a member of a namespace made visible by a
 \grammarterm{using-directive}), is a
@@ -1464,7 +1464,7 @@ is an lvalue if the member is a function, a variable, or a structured binding\ir
 
 \pnum
 A \grammarterm{nested-name-specifier} that denotes an
-enumeration\iref{dcl.enum}, followed by the name of an
+\link{enumeration}{dcl.enum}, followed by the name of an
 enumerator of that enumeration, is a \grammarterm{qualified-id}
 that refers to the enumerator. The result is the enumerator. The type
 of the result is the type of the enumeration. The result is a prvalue.
@@ -1556,8 +1556,8 @@ void abssort(float* x, unsigned N) {
 A \grammarterm{lambda-expression} is a prvalue
 whose result object is called the \defn{closure object}.
 \begin{note}
-A closure object behaves like a function
-object\iref{function.objects}.\end{note}
+A closure object behaves like a \link{function
+object}{function.objects}.\end{note}
 
 \pnum
 In the \grammarterm{decl-specifier-seq} of the \grammarterm{lambda-declarator},
@@ -1612,7 +1612,7 @@ scope, class scope, or namespace scope that contains the corresponding
 \grammarterm{lambda-expression}. \begin{note} This determines the set of namespaces and
 classes associated with the closure type\iref{basic.lookup.argdep}. The parameter
 types of a \grammarterm{lambda-declarator} do not affect these associated namespaces and
-classes. \end{note} The closure type is not an aggregate type\iref{dcl.init.aggr}.
+classes. \end{note} The closure type is not an \deflink{aggregate}{dcl.init.aggr} type.
 An implementation may define the closure type differently from what
 is described below provided this does not alter the observable behavior of the program
 other than by changing:
@@ -1759,7 +1759,7 @@ The closure type for a non-generic \grammarterm{lambda-expression} with no
 \grammarterm{lambda-capture}
 whose constraints (if any) are satisfied
 has a conversion function to pointer to
-function with \Cpp{} language linkage\iref{dcl.link} having
+function with \Cpp{} language \link{linkage}{dcl.link} having
 the same parameter and return types as the closure type's function call operator.
 The conversion is to ``pointer to \tcode{noexcept} function''
 if the function call operator
@@ -1858,8 +1858,8 @@ GL_int(3);                      // OK: same as \tcode{GL(3)}
 
 \pnum
 The conversion function or conversion function template is public,
-constexpr, non-virtual, non-explicit, const, and has a non-throwing exception
-specification\iref{except.spec}.
+constexpr, non-virtual, non-explicit, const, and has a non-throwing \link{exception
+specification}{except.spec}.
 \begin{example}
 \begin{codeblock}
 auto Fwd = [](int (*fp)(int), auto a) { return fp(a); };
@@ -1876,8 +1876,8 @@ static_assert(Fwd(NC,3) == 3);  // ill-formed
 \pnum
 The \grammarterm{lambda-expression}'s \grammarterm{compound-statement} yields the
 \grammarterm{function-body}\iref{dcl.fct.def} of the function call operator, but for
-purposes of name lookup\iref{basic.lookup}, determining the type and value of
-\tcode{this}\iref{class.this} and transforming \grammarterm{id-expression}{s}
+purposes of \link{name lookup}{basic.lookup}, determining the type and value of
+\link{\tcode{this}}{class.this} and transforming \grammarterm{id-expression}{s}
 referring to non-static class members into class member access expressions using
 \tcode{(*this)}~(\ref{class.mfct.non-static}), the \grammarterm{compound-statement} is
 considered in the context of the \grammarterm{lambda-expression}.
@@ -1917,9 +1917,9 @@ implicitly-declared destructor\iref{class.dtor}.
 
 \pnum
 A member of a closure type shall not be
-explicitly instantiated\iref{temp.explicit},
-explicitly specialized\iref{temp.expl.spec}, or
-named in a friend declaration\iref{class.friend}.
+\link{explicitly instantiated}{temp.explicit},
+\link{explicitly specialized}{temp.expl.spec}, or
+named in a \link{friend declaration}{class.friend}.
 
 \rSec3[expr.prim.lambda.capture]{Captures}%
 
@@ -2013,7 +2013,7 @@ the corresponding class scope\iref{basic.scope.class}.
 
 \pnum
 The \grammarterm{identifier} in a \grammarterm{simple-capture} is looked up using the
-usual rules for unqualified name lookup\iref{basic.lookup.unqual}; each such lookup
+usual rules for \link{unqualified name lookup}{basic.lookup.unqual}; each such lookup
 shall find a local entity.
 The \grammarterm{simple-capture}{s} \tcode{this} and \tcode{* this}
 denote the local entity \tcode{*this}.
@@ -2253,7 +2253,7 @@ A member of an anonymous union shall not be captured by copy.
 
 \pnum
 Every \grammarterm{id-expression} within the \grammarterm{compound-statement} of a
-\grammarterm{lambda-expression} that is an odr-use\iref{basic.def.odr} of an
+\grammarterm{lambda-expression} that is an \link{odr-use}{basic.def.odr} of an
 entity captured by copy is transformed into an access to the corresponding unnamed data
 member of the closure type.
 \begin{note} An \grammarterm{id-expression} that is not an odr-use refers to
@@ -2464,7 +2464,7 @@ bool f(Args ...args) {
 \pnum
 A \grammarterm{requires-expression} provides a concise way to express
 requirements on template arguments
-that can be checked by name lookup\iref{basic.lookup}
+that can be checked by \link{name lookup}{basic.lookup}
 or by checking properties of types and expressions.
 
 \begin{bnf}
@@ -2500,7 +2500,7 @@ or by checking properties of types and expressions.
 A \grammarterm{requires-expression} is a prvalue of type \tcode{bool}
 whose value is described below.
 Expressions appearing within a \grammarterm{requirement-body}
-are unevaluated operands\iref{expr.prop}.
+are \deflinkx{unevaluated operands}{unevaluated operand}{expr.prop}.
 
 \pnum
 \begin{example}
@@ -2598,7 +2598,7 @@ the validity of an \grammarterm{expression}.
 \begin{note}
 The enclosing \grammarterm{requires-expression} will evaluate to \tcode{false}
 if substitution of template arguments into the \grammarterm{expression} fails.
-The \grammarterm{expression} is an unevaluated operand\iref{expr.prop}.
+The \grammarterm{expression} is an \deflink{unevaluated operand}{expr.prop}.
 \end{note}
 \begin{example}
 \begin{codeblock}
@@ -2765,7 +2765,7 @@ template<typename T> concept D = requires (T t) {
 \end{example}
 
 \pnum
-A local parameter shall only appear as an unevaluated operand\iref{expr.prop}
+A local parameter shall only appear as an \deflink{unevaluated operand}{expr.prop}
 within the \grammarterm{constraint-expression}.
 \begin{example}
 \begin{codeblock}
@@ -2880,9 +2880,9 @@ or have function pointer type.
 For a call to a non-static member function,
 the postfix expression shall be an
 implicit~(\ref{class.mfct.non-static}, \ref{class.static}) or explicit
-class member access\iref{expr.ref} whose \grammarterm{id-expression} is a
-function member name, or a pointer-to-member
-expression\iref{expr.mptr.oper} selecting a function member; the call is as a member of
+\link{class member access}{expr.ref} whose \grammarterm{id-expression} is a
+function member name, or a \link{pointer-to-member
+expression}{expr.mptr.oper} selecting a function member; the call is as a member of
 the class object referred to by the
 object expression. In the case of an implicit class
 member access, the implied object is the one pointed to by \tcode{this}.
@@ -2897,7 +2897,7 @@ the appropriate function and the validity of the call are determined
 according to the rules in~\ref{over.match}. If the selected
 function is non-virtual, or if the \grammarterm{id-expression} in the class
 member access expression is a \grammarterm{qualified-id}, that function is
-called. Otherwise, its final overrider\iref{class.virtual} in the dynamic type
+called. Otherwise, its \deflink{final overrider}{class.virtual} in the dynamic type
 of the object expression is called; such a call is referred to as a
 \defnx{virtual function call}{function!virtual function call}.
 \begin{note}
@@ -2910,8 +2910,8 @@ an object under construction or destruction.
 
 \pnum
 \begin{note}
-If a function or member function name is used, and name
-lookup\iref{basic.lookup} does not find a declaration of that name,
+If a function or member function name is used, and \link{name
+lookup}{basic.lookup} does not find a declaration of that name,
 the program is ill-formed. No function is implicitly declared by such a
 call.
 \end{note}
@@ -2951,9 +2951,9 @@ the program is ill-formed if one is not present.
 \end{codeblock}
 \end{example}
 If the function is a non-static member
-function, the \tcode{this} parameter of the function\iref{class.this}
+function, the \link{\tcode{this} parameter}{class.this} of the function
 is initialized with a pointer to the object of the call, converted
-as if by an explicit type conversion\iref{expr.cast}.
+as if by an \link{explicit type conversion}{expr.cast}.
 \begin{note}
 There is no access or ambiguity checking on this conversion; the access
 checking and disambiguation are done as part of the (possibly implicit)
@@ -3032,7 +3032,7 @@ but it is unspecified whether the value of \tcode{j} is 1 or 2.
 
 \pnum
 The result of a function call is the
-result of the operand of the evaluated \tcode{return} statement\iref{stmt.return}
+result of the operand of the evaluated \link{\tcode{return} statement}{stmt.return}
 in the called function (if any),
 except in a virtual function call if the return type of the
 final overrider is different from the return type of the statically
@@ -3062,10 +3062,10 @@ pointer parameters.
 \pnum
 \indextext{declaration!ellipsis in function}%
 \indextext{parameter list!variable}%
-A function can be declared to accept fewer arguments (by declaring default
-arguments\iref{dcl.fct.default}) or more arguments (by using the ellipsis,
+A function can be declared to accept fewer arguments (by declaring \link{default
+arguments}{dcl.fct.default}) or more arguments (by using the ellipsis,
 \tcode{...}, or a function parameter pack\iref{dcl.fct}) than the number of
-parameters in the function definition\iref{dcl.fct.def}.
+parameters in the \link{function definition}{dcl.fct.def}.
 \begin{note}
 This implies that, except where the ellipsis (\tcode{...}) or a function
 parameter pack is used, a parameter is available for each argument.
@@ -3075,36 +3075,36 @@ parameter pack is used, a parameter is available for each argument.
 \indextext{ellipsis!conversion sequence}%
 When there is no parameter for a given argument, the argument is passed
 in such a way that the receiving function can obtain the value of the
-argument by invoking \tcode{va_arg}\iref{support.runtime}.
+argument by invoking \liblinkx{\tcode{va_arg}}{va_arg}{support.runtime}.
 \begin{note} This paragraph does not apply to arguments passed to a function parameter pack.
 Function parameter packs are expanded during template instantiation\iref{temp.variadic},
 thus each such argument has a corresponding parameter when a function template
 specialization is actually called. \end{note}
 The
-lvalue-to-rvalue\iref{conv.lval}, array-to-pointer\iref{conv.array},
-and function-to-pointer\iref{conv.func} standard conversions are
+\link{lvalue-to-rvalue}{conv.lval}, \link{array-to-pointer}{conv.array},
+and \link{function-to-pointer}{conv.func} standard conversions are
 performed on the argument expression.
-An argument that has type \cv{}~\tcode{std::nullptr_t} is converted
-to type \tcode{void*}\iref{conv.ptr}.
+An argument that has type \cv{}~\tcode{std::nullptr_t} is \link{converted}{conv.ptr}
+to type \tcode{void*}.
 After these conversions, if the
 argument does not have arithmetic, enumeration, pointer, pointer-to-member,
 or class type, the program is ill-formed. Passing a potentially-evaluated
-argument of class type\iref{class} having an eligible non-trivial
+argument of \link{class type}{class} having an eligible non-trivial
 copy constructor, an eligible non-trivial move constructor,
 or a
 non-trivial destructor\iref{special},
 with no corresponding parameter, is conditionally-supported with
 \impldef{passing argument of class type through ellipsis} semantics. If the argument has
-integral or enumeration type that is subject to the integral
-promotions\iref{conv.prom}, or a floating-point type that is subject to the
-floating-point promotion\iref{conv.fpprom}, the value of the argument is converted to the
+integral or enumeration type that is subject to the \link{integral
+promotions}{conv.prom}, or a floating-point type that is subject to the
+\link{floating-point promotion}{conv.fpprom}, the value of the argument is converted to the
 promoted type before the call. These promotions are referred to as
 the \defnx{default argument promotions}{promotion!default argument promotion}.
 
 \pnum
 \indextext{function call!recursive}%
-Recursive calls are permitted, except to the \tcode{main}
-function\iref{basic.start.main}.
+Recursive calls are permitted, except to the \link{\tcode{main}
+function}{basic.start.main}.
 
 \pnum
 A function call is an lvalue
@@ -3120,8 +3120,8 @@ otherwise.
 \indextext{type conversion, explicit|see{casting}}%
 \indextext{conversion explicit type|see{casting}}%
 \indextext{casting}%
-A \grammarterm{simple-type-specifier}\iref{dcl.type.simple} or
-\grammarterm{typename-specifier}\iref{temp.res} followed
+A \link{\grammarterm{simple-type-specifier}}{dcl.type.simple} or
+\link{\grammarterm{typename-specifier}}{temp.res} followed
 by a parenthesized optional \grammarterm{expression-list} or
 by a \grammarterm{braced-init-list}
 (the initializer)
@@ -3132,14 +3132,13 @@ If the type is a placeholder
 for a deduced class type,
 it is replaced by the return type
 of the function selected by overload resolution
-for class template deduction\iref{over.match.class.deduct}
+for \link{class template deduction}{over.match.class.deduct}
 for the remainder of this subclause.
 
 \pnum
 If the initializer is a parenthesized single expression,
 the type conversion expression is equivalent
-to the corresponding cast
-expression\iref{expr.cast}.
+to the corresponding \link{cast expression}{expr.cast}.
 \indextext{type!incomplete}%
 Otherwise, if the type is \cv{}~\tcode{void}
 and the initializer is \tcode{()} or \tcode{\{\}}
@@ -3148,7 +3147,7 @@ the expression is a prvalue of the specified type
 that performs no initialization.
 Otherwise,
 the expression is a prvalue of the specified type
-whose result object is direct-initialized\iref{dcl.init}
+whose result object is \deflinkx{direct-initialized}{direct-initialization}{dcl.init}
 with the initializer.
 If the initializer is a parenthesized optional \grammarterm{expression-list},
 the specified type shall not be an array type.
@@ -3260,7 +3259,7 @@ is ``\cvqual{vq12} \tcode{T}''. If \tcode{E2} is not declared to be a
 ``\cvqual{cq12} \cvqual{vq12} \tcode{T}''.
 
 \item If \tcode{E2} is a (possibly overloaded) member function, function
-overload resolution\iref{over.match} is used to determine whether
+\link{overload resolution}{over.match} is used to determine whether
 \tcode{E1.E2} refers to a static or a non-static member function.
 
 \begin{itemize}
@@ -3385,8 +3384,8 @@ Similarly, if
 \tcode{T} is ``reference to \cvqual{cv1} \tcode{B}'' and \tcode{v} has
 type \cvqual{cv2} \tcode{D} such that \tcode{B} is a base class of
 \tcode{D}, the result is the unique \tcode{B} subobject of the \tcode{D}
-object referred to by \tcode{v}.\footnote{The most derived
-object\iref{intro.object} pointed or referred to by
+object referred to by \tcode{v}.\footnote{The \deflink{most derived
+object}{intro.object} pointed or referred to by
 \tcode{v} can contain other \tcode{B} objects as base classes, but these
 are ignored.}
 In both the pointer and
@@ -3404,8 +3403,8 @@ void foo(D* dp) {
 \end{example}
 
 \pnum
-Otherwise, \tcode{v} shall be a pointer to or a glvalue of a polymorphic
-type\iref{class.virtual}.
+Otherwise, \tcode{v} shall be a pointer to or a glvalue of a
+\deflinkx{polymorphic type}{polymorphic class}{class.virtual}.
 
 \pnum
 If \tcode{v} is a null pointer value, the result is a null pointer value.
@@ -3439,9 +3438,9 @@ runtime check \term{fails}.
 
 \pnum
 The value of a failed cast to pointer type is the null pointer value of
-the required result type. A failed cast to reference type throws
-an exception\iref{except.throw} of a type that would match a
-handler\iref{except.handle} of type \tcode{std::bad_cast}\iref{bad.cast}.
+the required result type. A failed cast to reference type \link{throws
+an exception}{except.throw} of a type that would match a
+\link{handler}{except.handle} of type \link{\tcode{std::bad_cast}}{bad.cast}.
 
 \indextext{\idxcode{bad_cast}}%
 \indexlibrary{\idxcode{bad_cast}}%
@@ -3486,7 +3485,7 @@ applied to an object under construction or destruction.
 The result of a \tcode{typeid} expression is an lvalue of static type
 \indextext{\idxcode{type_info}}%
 \indexlibrary{\idxcode{type_info}}%
-\tcode{const} \tcode{std::type_info}\iref{type.info} and dynamic type \tcode{const}
+\tcode{const} \link{\tcode{std::type_info}}{type.info} and dynamic type \tcode{const}
 \tcode{std::type_info} or \tcode{const} \placeholder{name} where \placeholder{name} is an
 \impldef{derived type for \tcode{typeid}} class publicly derived from
 \tcode{std::type_info} which preserves the behavior described
@@ -3506,25 +3505,25 @@ unary \tcode{*} operator to a pointer\footnote{If \tcode{p} is an expression of
 pointer type, then \tcode{*p},
 \tcode{(*p)}, \tcode{*(p)}, \tcode{((*p))}, \tcode{*((p))}, and so on
 all meet this requirement.}
-and the pointer is a null pointer value\iref{conv.ptr}, the
-\tcode{typeid} expression throws an exception\iref{except.throw} of
+and the pointer is a \link{null pointer value}{conv.ptr}, the
+\tcode{typeid} expression \link{throws an exception}{except.throw} of
 a type that would match a handler of type
 \indextext{\idxcode{bad_typeid}}%
 \indexlibrary{\idxcode{bad_typeid}}%
-\tcode{std::bad_typeid}
-exception\iref{bad.typeid}.
+\link{\tcode{std::bad_typeid}}{bad.typeid}
+exception.
 
 \pnum
 When \tcode{typeid} is applied to an expression other than a glvalue of
 a polymorphic class type, the result refers to a \tcode{std::type_info}
 object representing the static type of the expression.
-Lvalue-to-rvalue\iref{conv.lval}, array-to-pointer\iref{conv.array},
-and function-to-pointer\iref{conv.func} conversions are not applied to
+\link{Lvalue-to-rvalue}{conv.lval}, \link{array-to-pointer}{conv.array},
+and \link{function-to-pointer}{conv.func} conversions are not applied to
 the expression.
 If the expression is a prvalue,
-the temporary materialization conversion\iref{conv.rval}
+the \link{temporary materialization conversion}{conv.rval}
 is applied.
-The expression is an unevaluated operand\iref{expr.prop}.
+The expression is an \deflink{unevaluated operand}{expr.prop}.
 
 \pnum
 When \tcode{typeid} is applied to a \grammarterm{type-id}, the result
@@ -3556,7 +3555,7 @@ typeid(D)  == typeid(const D&); // yields \tcode{true}
 \end{example}
 
 \pnum
-If the header \tcode{<typeinfo>}\iref{type.info} is not included prior
+If the header \link{\tcode{<typeinfo>}}{type.info} is not included prior
 to a use of \tcode{typeid}, the program is ill-formed.
 
 \pnum
@@ -3577,15 +3576,15 @@ converting the expression \tcode{v} to type \tcode{T}.
 If \tcode{T} is an lvalue reference type
 or an rvalue reference to function type, the result is an lvalue;
 if \tcode{T} is an rvalue reference to object type, the result is an xvalue;
-otherwise, the result is a prvalue. The \tcode{static_cast} operator shall not cast
-away constness\iref{expr.const.cast}.
+otherwise, the result is a prvalue. The \tcode{static_cast} operator shall not
+\deflinkx{cast away constness}{casting away constness}{expr.const.cast}.
 
 \pnum
 \indextext{cast!static!reference}%
 \indextext{cast!reference}%
 An lvalue of type ``\cvqual{cv1} \tcode{B}'', where \tcode{B} is a class
 type, can be cast to type ``reference to \cvqual{cv2} \tcode{D}'', where
-\tcode{D} is a class derived\iref{class.derived} from \tcode{B},
+\tcode{D} is a class \link{derived}{class.derived} from \tcode{B},
 if \cvqual{cv2} is the
 same cv-qualification as, or greater cv-qualification than,
 \cvqual{cv1}. If \tcode{B} is a virtual base class of \tcode{D}
@@ -3615,21 +3614,21 @@ static_cast<D&>(br);            // produces lvalue denoting the original \tcode{
 An lvalue
 of type ``\cvqual{cv1} \tcode{T1}'' can be cast to type ``rvalue
 reference to \cvqual{cv2} \tcode{T2}'' if ``\cvqual{cv2} \tcode{T2}'' is
-reference-compatible with ``\cvqual{cv1}
-\tcode{T1}''\iref{dcl.init.ref}. If the value is not a bit-field,
+\deflink{reference-compatible}{dcl.init.ref} with ``\cvqual{cv1}
+\tcode{T1}''. If the value is not a bit-field,
 the result refers to the object or the specified base class subobject
-thereof; otherwise, the lvalue-to-rvalue conversion\iref{conv.lval}
+thereof; otherwise, the \link{lvalue-to-rvalue conversion}{conv.lval}
 is applied to the bit-field and the resulting prvalue is used as the
 \grammarterm{expression} of the \tcode{static_cast} for the remainder of this subclause.
-If \tcode{T2} is an inaccessible\iref{class.access} or
-ambiguous\iref{class.member.lookup} base class of \tcode{T1},
+If \tcode{T2} is an \link{inaccessible}{class.access} or
+\link{ambiguous}{class.member.lookup} base class of \tcode{T1},
 a program that necessitates such a cast is ill-formed.
 
 \pnum
 An expression \tcode{e} can be explicitly converted to a type \tcode{T}
-if there is an implicit conversion sequence\iref{over.best.ics}
+if there is an \link{implicit conversion sequence}{over.best.ics}
 from \tcode{e} to \tcode{T}, or
-if overload resolution for a direct-initialization\iref{dcl.init}
+if overload resolution for a \deflink{direct-initialization}{dcl.init}
 of an object or reference of type \tcode{T} from \tcode{e}
 would find at least one viable function\iref{over.match.viable}.
 If \tcode{T} is a reference type, the effect is
@@ -3652,11 +3651,10 @@ listed below. No other conversion shall be performed explicitly using a
 
 \pnum
 Any expression can be explicitly converted to type \cv{}~\tcode{void},
-in which case it becomes a discarded-value
-expression\iref{expr.prop}.
+in which case it becomes a \deflink{discarded-value expression}{expr.prop}.
 \begin{note}
-However, if the value is in a temporary
-object\iref{class.temporary}, the destructor for that
+However, if the value is in a \link{temporary
+object}{class.temporary}, the destructor for that
 object is
 not executed until the usual time, and the value of the object is
 preserved for the purpose of executing the destructor.
@@ -3664,13 +3662,13 @@ preserved for the purpose of executing the destructor.
 
 
 \pnum
-The inverse of any standard conversion sequence\iref{conv} not containing an
-lvalue-to-rvalue\iref{conv.lval},
-array-to-pointer\iref{conv.array},
-function-to-pointer\iref{conv.func},
-null pointer\iref{conv.ptr}, null member pointer\iref{conv.mem},
-boolean\iref{conv.bool}, or
-function pointer\iref{conv.fctptr}
+The inverse of any \link{standard conversion sequence}{conv} not containing an
+\link{lvalue-to-rvalue}{conv.lval},
+\link{array-to-pointer}{conv.array},
+\link{function-to-pointer}{conv.func},
+\link{null pointer}{conv.ptr}, \link{null member pointer}{conv.mem},
+\link{boolean}{conv.bool}, or
+\link{function pointer}{conv.fctptr}
 conversion, can be performed explicitly using \tcode{static_cast}. A
 program is ill-formed if it uses \tcode{static_cast} to perform the
 inverse of an ill-formed standard conversion sequence.
@@ -3686,12 +3684,12 @@ void f() {
 \end{example}
 
 \pnum
-The lvalue-to-rvalue\iref{conv.lval},
-array-to-pointer\iref{conv.array}, and
-function-to-pointer\iref{conv.func} conversions are applied to the
+The \link{lvalue-to-rvalue}{conv.lval},
+\link{array-to-pointer}{conv.array}, and
+\link{function-to-pointer}{conv.func} conversions are applied to the
 operand. Such a \tcode{static_cast} is subject to the restriction that
-the explicit conversion does not cast away
-constness\iref{expr.const.cast}, and the following additional rules
+the explicit conversion does not \deflinkx{cast away
+constness}{casting away constness}{expr.const.cast}, and the following additional rules
 for specific cases:
 
 \pnum
@@ -3729,7 +3727,8 @@ the enumeration type.
 A prvalue of type ``pointer to \cvqual{cv1} \tcode{B}'', where \tcode{B}
 is a class type, can be converted to a prvalue of type ``pointer to
 \cvqual{cv2} \tcode{D}'',
-where \tcode{D} is a complete class derived\iref{class.derived}
+where \tcode{D} is a complete class
+\link{derived}{class.derived}
 from \tcode{B},
 if \cvqual{cv2} is the same cv-qualification as,
 or greater cv-qualification than, \cvqual{cv1}.
@@ -3737,7 +3736,7 @@ If \tcode{B} is a virtual base class of \tcode{D} or
 a base class of a virtual base class of \tcode{D}, or
 if no valid standard conversion from ``pointer to \tcode{D}''
 to ``pointer to \tcode{B}'' exists\iref{conv.ptr}, the program is ill-formed.
-The null pointer value\iref{conv.ptr} is converted
+The \link{null pointer value}{conv.ptr} is converted % todo: deflink?
 to the null pointer value of the destination type. If the prvalue of type
 ``pointer to \cvqual{cv1} \tcode{B}'' points to a \tcode{B} that is
 actually a subobject of an object of type \tcode{D}, the resulting
@@ -3750,7 +3749,7 @@ A prvalue of type ``pointer to member of \tcode{D} of type \cvqual{cv1}
 \tcode{T}'' can be converted to a prvalue of type ``pointer to member of
 \tcode{B} of type \cvqual{cv2} \tcode{T}'', where
 \tcode{D} is a complete class type and
-\tcode{B} is a base class\iref{class.derived} of \tcode{D},
+\tcode{B} is a \link{base class}{class.derived} of \tcode{D},
 if \cvqual{cv2} is the same cv-qualification
 as, or greater cv-qualification than, \cvqual{cv1}.
 \begin{note}
@@ -3761,7 +3760,7 @@ If no valid standard conversion
 from ``pointer to member of \tcode{B} of type \tcode{T}''
 to ``pointer to member of \tcode{D} of type \tcode{T}''
 exists\iref{conv.mem}, the program is ill-formed.
-The null member pointer value\iref{conv.mem} is converted to the null
+The \deflink{null member pointer value}{conv.mem} is converted to the null
 member pointer value of the destination type. If class \tcode{B}
 contains the original member, or is a base or derived class of the class
 containing the original member, the resulting pointer to member points
@@ -3784,7 +3783,7 @@ If the original pointer value represents the address
 then the resulting pointer value is unspecified.
 Otherwise, if the original pointer value points to an object \placeholder{a},
 and there is an object \placeholder{b} of type \tcode{T} (ignoring cv-qualification)
-that is pointer-interconvertible\iref{basic.compound} with \placeholder{a},
+that is \deflink{pointer-interconvertible}{basic.compound} with \placeholder{a},
 the result is a pointer to \placeholder{b}.
 Otherwise, the pointer value is unchanged by the conversion.
 \begin{example}
@@ -3808,14 +3807,14 @@ result of converting the expression \tcode{v} to type \tcode{T}.
 If \tcode{T} is an lvalue reference type or an rvalue reference to function type, the result is an lvalue;
 if \tcode{T} is an rvalue reference to object type, the result is an xvalue;
 otherwise, the result is a prvalue and the
-lvalue-to-rvalue\iref{conv.lval}, array-to-pointer\iref{conv.array},
-and function-to-pointer\iref{conv.func} standard conversions are
+\link{lvalue-to-rvalue}{conv.lval}, \link{array-to-pointer}{conv.array},
+and \link{function-to-pointer}{conv.func} standard conversions are
 performed on the expression \tcode{v}. Conversions that can be performed explicitly
 using \tcode{reinterpret_cast} are listed below. No other conversion can
 be performed explicitly using \tcode{reinterpret_cast}.
 
 \pnum
-The \tcode{reinterpret_cast} operator shall not cast away constness\iref{expr.const.cast}.
+The \tcode{reinterpret_cast} operator shall not \deflinkx{cast away constness}{casting away constness}{expr.const.cast}.
 An expression of integral, enumeration, pointer, or pointer-to-member type
 can be explicitly converted to its own type; such a cast yields the value of
 its operand.
@@ -3903,7 +3902,7 @@ type and back, possibly with different cv-qualification, shall yield the origina
 pointer value.
 
 \pnum
-The null pointer value\iref{conv.ptr} is converted to the null pointer value
+The \link{null pointer value}{conv.ptr} is converted to the null pointer value
 of the destination type.
 \begin{note}
 A null pointer constant of type \tcode{std::nullptr_t} cannot be converted to a
@@ -3920,7 +3919,7 @@ can be explicitly converted to a prvalue of a different type ``pointer to member
 function types or both object types.\footnote{\tcode{T1} and \tcode{T2} may have
 different \cv-qualifiers, subject to
 the overall restriction that a \tcode{reinterpret_cast} cannot cast away
-constness.} The null member pointer value\iref{conv.mem} is converted to the
+constness.} The \deflink{null member pointer value}{conv.mem} is converted to the
 null member pointer value of the destination type. The result of this
 conversion is unspecified, except in the following cases:
 
@@ -3964,8 +3963,8 @@ The result of the expression \tcode{const_cast<T>(v)} is of type
 lvalue;
 if \tcode{T} is an rvalue reference to object type, the result is an xvalue;
 otherwise, the result is a prvalue and the
-lvalue-to-rvalue\iref{conv.lval}, array-to-pointer\iref{conv.array},
-and function-to-pointer\iref{conv.func} standard conversions are
+\link{lvalue-to-rvalue}{conv.lval}, \link{array-to-pointer}{conv.array},
+and \link{function-to-pointer}{conv.func} standard conversions are
 performed on the expression \tcode{v}. Conversions that can be performed explicitly using
 \tcode{const_cast} are listed below. No other conversion shall be
 performed explicitly using \tcode{const_cast}.
@@ -3977,7 +3976,7 @@ to its own type using a \tcode{const_cast} operator.
 \end{note}
 
 \pnum
-For two similar types \tcode{T1} and \tcode{T2}\iref{conv.qual},
+For two \deflink{similar types}{conv.qual} \tcode{T1} and \tcode{T2},
 a prvalue of type \tcode{T1} may be explicitly
 converted to the type \tcode{T2} using a \tcode{const_cast}
 if, considering the cv-decompositions of both types,
@@ -4014,12 +4013,12 @@ explicitly converted to an xvalue of type \tcode{T2} using the cast
 
 The result of a reference \tcode{const_cast} refers
 to the original object if the operand is a glvalue and
-to the result of applying the temporary materialization conversion\iref{conv.rval} otherwise.
+to the result of applying the \link{temporary materialization conversion}{conv.rval} otherwise.
 
 \pnum
-A null pointer value\iref{conv.ptr} is converted to the null pointer
-value of the destination type. The null member pointer
-value\iref{conv.mem} is converted to the null member pointer value of
+A \deflink{null pointer value}{conv.ptr} is converted to the null pointer
+value of the destination type. The
+\deflink{null member pointer value}{conv.mem} is converted to the null member pointer value of
 the destination type.
 
 \pnum
@@ -4037,7 +4036,7 @@ may produce undefined behavior\iref{dcl.type.cv}.
 A conversion from a type \tcode{T1} to a type \tcode{T2}
 \defnx{casts away constness}{casting away constness}
 if \tcode{T1} and \tcode{T2} are different,
-there is a cv-decomposition\iref{conv.qual} of \tcode{T1}
+there is a \deflink{cv-decomposition}{conv.qual} of \tcode{T1}
 yielding \placeholder{n} such that
 \tcode{T2} has a cv-decomposition of the form
 
@@ -4207,7 +4206,7 @@ called. The operand of \tcode{\&} shall not be a bit-field.
 
 \pnum
 \indextext{overloaded function!address of}%
-The address of an overloaded function\iref{over} can be taken
+The address of an \link{overloaded function}{over} can be taken
 only in a context that uniquely determines which version of the
 overloaded function is referred to (see~\ref{over.over}).
 \begin{note}
@@ -4235,8 +4234,9 @@ result is the type of the promoted operand.
 
 \pnum
 \indextext{operator!logical negation}%
-The operand of the logical negation operator \tcode{!} is contextually
-converted to \tcode{bool}\iref{conv};
+The operand of the logical negation operator \tcode{!} is
+\deflinkx{contextually converted to \tcode{bool}}
+{conversion!contextual to \tcode{bool}}{conv};
 its value is \tcode{true}
 if the converted operand is \tcode{false} and \tcode{false} otherwise.
 The type of the result is \tcode{bool}.
@@ -4281,8 +4281,8 @@ bit-field if the operand is a bit-field.
 The expression \tcode{++x} is equivalent to \tcode{x+=1}.
 \indextext{operator!\idxcode{+=}}%
 \begin{note}
-See the discussions of addition\iref{expr.add} and assignment
-operators\iref{expr.ass} for information on conversions.
+See the discussions of \link{addition}{expr.add} and \link{assignment
+operators}{expr.ass} for information on conversions.
 \end{note}
 
 \pnum
@@ -4538,7 +4538,7 @@ array-to-pointer\iref{conv.array}, and
 function-to-pointer\iref{conv.func} standard conversions are not
 applied to the operand of \tcode{sizeof}.
 If the operand is a prvalue,
-the temporary materialization conversion\iref{conv.rval}
+the \link{temporary materialization conversion}{conv.rval}
 is applied.
 
 \pnum
@@ -4682,7 +4682,7 @@ object created by the \grammarterm{new-expression} has a cv-qualified type.
 \end{bnf}
 
 \pnum
-If a placeholder type\iref{dcl.spec.auto} appears in the
+If a \link{placeholder type}{dcl.spec.auto} appears in the
 \grammarterm{type-specifier-seq} of a \grammarterm{new-type-id} or
 \grammarterm{type-id} of a \grammarterm{new-expression},
 the allocated type is deduced as follows:
@@ -4742,9 +4742,8 @@ is ill-formed because the binding is
 \end{codeblock}
 
 Instead, the explicitly parenthesized version of the \tcode{new}
-operator can be used to create objects of compound
-types\iref{basic.compound}:
-
+operator can be used to create objects of \link{compound
+types}{basic.compound}:
 \begin{codeblock}
 new (int (*[10])());
 \end{codeblock}
@@ -4823,12 +4822,12 @@ negative value afterwards.} is less than zero;
 
 \item
 its value is such that the size of the allocated object would exceed the
-\impldef{maximum size of an allocated object} limit\iref{implimits}; or
+\impldef{maximum size of an allocated object} \link{limit}{implimits}; or
 
 \item
 the \grammarterm{new-initializer} is a \grammarterm{braced-init-list} and the
 number of array elements for which initializers are provided (including the
-terminating \tcode{'\textbackslash 0'} in a string literal\iref{lex.string}) exceeds the
+terminating \tcode{'\textbackslash 0'} in a \link{string literal}{lex.string}) exceeds the
 number of elements to initialize.
 \end{itemize}
 
@@ -4848,7 +4847,7 @@ is the null pointer value of the required result type;
 \item
 otherwise, the \grammarterm{new-expression} terminates by throwing an
 exception of a type that would match a handler\iref{except.handle} of type
-\tcode{std::bad_array_new_length}\iref{new.badlength}.
+\link{\tcode{std::bad_array_new_length}}{new.badlength}.
 \end{itemize}
 \end{itemize}
 When the value of the \grammarterm{expression} is zero, the allocation
@@ -4858,8 +4857,8 @@ function is called to allocate an array with no elements.
 A \grammarterm{new-expression} may obtain storage for the object by calling an
 allocation function\iref{basic.stc.dynamic.allocation}. If
 the \grammarterm{new-expression} terminates by throwing an exception, it
-may release storage by calling a deallocation
-function\iref{basic.stc.dynamic.deallocation}. If the allocated type
+may release storage by calling a \link{deallocation
+function}{basic.stc.dynamic.deallocation}. If the allocated type
 is a non-array type, the allocation function's name is
 \indextext{\idxcode{operator new}}%
 \indextext{\idxcode{operator delete}}%
@@ -4974,7 +4973,7 @@ the difference between the
 result of the \grammarterm{new-expression} and the address returned by the
 allocation function shall be an integral multiple of the
 strictest fundamental
-alignment requirement\iref{basic.align} of any object type whose size
+\link{alignment requirement}{basic.align} of any object type whose size
 is no greater than the size of the array being created.
 \begin{note}
 \indextext{allocation!alignment storage}%
@@ -5055,7 +5054,7 @@ invocation of \tcode{new} to another.
 \pnum
 \begin{note}
 Unless an allocation function has a non-throwing
-exception specification\iref{except.spec},
+\link{exception specification}{except.spec},
 it indicates failure to allocate storage by throwing a
 \indextext{\idxcode{bad_alloc}}%
 \indexlibrary{\idxcode{bad_alloc}}%
@@ -5152,9 +5151,8 @@ of parameters and, after parameter transformations\iref{dcl.fct}, all
 parameter types except the first are identical. If
 the lookup finds a single matching deallocation function, that function
 will be called; otherwise, no deallocation function will be called. If
-the lookup finds a usual deallocation
-function
-with a parameter of type \tcode{std::size_t}\iref{basic.stc.dynamic.deallocation}
+the lookup finds a \deflink{usual deallocation function}{basic.stc.dynamic.deallocation}
+with a parameter of type \tcode{std::size_t}
 and that function,
 considered as a placement deallocation function, would have been
 selected as a match for the allocation function, the program is
@@ -5196,8 +5194,8 @@ to both the allocation and deallocation functions.
 \pnum
 \indextext{expression!\idxcode{delete}}%
 \indextext{\idxcode{delete}}%
-The \grammarterm{delete-expression} operator destroys a most derived
-object\iref{intro.object} or array created by a
+The \grammarterm{delete-expression} operator destroys a
+\deflink{most derived object}{intro.object} or array created by a
 \grammarterm{new-expression}.
 
 \begin{bnf}
@@ -5215,7 +5213,7 @@ brackets, it shall be interpreted as the second alternative.\footnote{A
 that consists of empty square brackets can follow the \tcode{delete} keyword
 if the \grammarterm{lambda-expression} is enclosed in parentheses.}
 The operand shall be of pointer to object type or of class type. If of
-class type, the operand is contextually implicitly converted\iref{conv}
+class type, the operand is \deflink{contextually implicitly converted}{conv}
 to a pointer to object
 type.\footnote{This implies that an object
 cannot be deleted using a pointer of type
@@ -5233,8 +5231,9 @@ In a single-object delete expression, the value of the operand of
 \tcode{delete} may be a null pointer value, a pointer to a non-array object
 created by a previous \grammarterm{new-expression},
 or a pointer to a
-subobject\iref{intro.object} representing a base class of such an
-object\iref{class.derived}. If not, the behavior is undefined.
+\deflink{subobject}{intro.object} representing a
+\link{base class}{class.derived} of such an
+object. If not, the behavior is undefined.
 \indextext{array!\idxcode{delete}}%
 In an array delete expression, the value of the operand of \tcode{delete}
 may be a null pointer value or a pointer value that resulted from
@@ -5250,8 +5249,9 @@ match the type of the object allocated by \tcode{new}, not the syntax of the
 \end{note}
 \begin{note}
 A pointer to a \tcode{const} type can be the operand of a
-\grammarterm{delete-expression}; it is not necessary to cast away the
-constness\iref{expr.const.cast} of the pointer expression before it is
+\grammarterm{delete-expression}; it is not necessary to
+\deflinkx{cast away the constness}{casting away constness}{expr.const.cast}
+of the pointer expression before it is
 used as the operand of the \grammarterm{delete-expression}.
 \end{note}
 
@@ -5297,8 +5297,8 @@ null pointer value, then:
 \item
 If the allocation call for the \grammarterm{new-expression} for the object to
 be deleted was not omitted and the allocation was not extended\iref{expr.new}, the
-\grammarterm{delete-expression} shall call a deallocation
-function\iref{basic.stc.dynamic.deallocation}. The value returned from the
+\grammarterm{delete-expression} shall call a \link{deallocation
+function}{basic.stc.dynamic.deallocation}. The value returned from the
 allocation call of the \grammarterm{new-expression} shall be passed as the
 first argument to the deallocation function.
 
@@ -5447,8 +5447,8 @@ resulting prvalue; see \ref{expr.prop}.
 \end{note}
 
 \pnum
-An explicit type conversion can be expressed using functional
-notation\iref{expr.type.conv}, a type conversion operator
+An explicit type conversion can be expressed using \link{functional
+notation}{expr.type.conv}, a type conversion operator
 (\tcode{dynamic_cast}, \tcode{static_cast}, \tcode{reinterpret_cast},
 \tcode{const_cast}), or the \term{cast} notation.
 
@@ -5469,10 +5469,10 @@ The conversions performed by
 \indextext{cast!const}%
 \indextext{cast!static}%
 \indextext{cast!reinterpret}%
-\item a \tcode{const_cast}\iref{expr.const.cast},
-\item a \tcode{static_cast}\iref{expr.static.cast},
+\item a \link{\tcode{const_cast}}{expr.const.cast},
+\item a \link{\tcode{static_cast}}{expr.static.cast},
 \item a \tcode{static_cast} followed by a \tcode{const_cast},
-\item a \tcode{reinterpret_cast}\iref{expr.reinterpret.cast}, or
+\item a \link{\tcode{reinterpret_cast}}{expr.reinterpret.cast}, or
 \item a \tcode{reinterpret_cast} followed by a \tcode{const_cast},
 \end{itemize}
 
@@ -5630,8 +5630,8 @@ The result of a \tcode{.*} expression
 whose second operand is a pointer to a data member is an lvalue if the first
 operand is an lvalue and an xvalue otherwise. The result of a \tcode{.*} expression whose
 second operand is a pointer to a member function is a prvalue.
-If the second operand is the null
-member pointer value\iref{conv.mem}, the behavior is undefined.
+If the second operand is the \deflink{null member pointer value}{conv.mem},
+the behavior is undefined.
 
 \rSec2[expr.mul]{Multiplicative operators}%
 \indextext{expression!multiplicative operators}%
@@ -5660,7 +5660,7 @@ left-to-right.
 \pnum
 The operands of \tcode{*} and \tcode{/} shall have arithmetic or unscoped
 enumeration type; the operands of \tcode{\%} shall have integral or unscoped
-enumeration type. The usual arithmetic conversions\iref{expr.arith.conv} are performed on the
+enumeration type. The \link{usual arithmetic conversions}{expr.arith.conv} are performed on the
 operands and determine the type of the result.
 
 \pnum
@@ -5685,7 +5685,7 @@ of both \tcode{a/b} and \tcode{a\%b} is undefined.
 
 \pnum
 The additive operators \tcode{+} and \tcode{-} group left-to-right. The
-usual arithmetic conversions\iref{expr.arith.conv} are performed for operands of arithmetic or
+\link{usual arithmetic conversions}{expr.arith.conv} are performed for operands of arithmetic or
 enumeration type.
 
 \indextext{operator!addition}%
@@ -5781,7 +5781,7 @@ the behavior is undefined.
 \pnum
 For addition or subtraction, if the expressions \tcode{P} or \tcode{Q} have
 type ``pointer to \cv{}~\tcode{T}'', where \tcode{T} and the array element type
-are not similar\iref{conv.qual}, the behavior is undefined.
+are not \deflinkx{similar}{similar types}{conv.qual}, the behavior is undefined.
 \begin{note} In particular, a pointer to a base class cannot be used for
 pointer arithmetic when the array contains objects of a derived class type.
 \end{note}
@@ -5866,12 +5866,12 @@ and the other is not, the program is ill-formed.
 If both operands have arithmetic types,
 or one operand has integral type and
 the other operand has unscoped enumeration type,
-the usual arithmetic conversions\iref{expr.arith.conv} are applied to the operands.
+the \link{usual arithmetic conversions}{expr.arith.conv} are applied to the operands.
 Then:
 
 \begin{itemize}
 \item
-If a narrowing conversion\iref{dcl.init.list} is required,
+If a \deflink{narrowing conversion}{dcl.init.list} is required,
 other than from an integral type to a floating point type,
 the program is ill-formed.
 
@@ -5909,31 +5909,31 @@ and applying \tcode{<=>} to the converted operands.
 
 \pnum
 If at least one of the operands is of pointer type,
-array-to-pointer conversions\iref{conv.array},
-pointer conversions\iref{conv.ptr},
-function pointer conversions\iref{conv.fctptr},
+\link{array-to-pointer conversions}{conv.array},
+\link{pointer conversions}{conv.ptr},
+\link{function pointer conversions}{conv.fctptr},
 and
-qualification conversions\iref{conv.qual}
+\link{qualification conversions}{conv.qual}
 are performed on both operands
-to bring them to their composite pointer type\iref{expr.type}.
+to bring them to their \deflink{composite pointer type}{expr.type}.
 %
 If at least one of the operands is of pointer-to-member type,
-pointer-to-member conversions\iref{conv.mem}
+\link{pointer-to-member conversions}{conv.mem}
 and
-qualification conversions\iref{conv.qual}
+\link{qualification conversions}{conv.qual}
 are performed on both operands
-to bring them to their composite pointer type\iref{expr.type}.
+to bring them to their \deflink{composite pointer type}{expr.type}.
 %
 If both operands are null pointer constants,
 but not both of integer type,
-pointer conversions\iref{conv.ptr}
+\link{pointer conversions}{conv.ptr}
 are performed on both operands
-to bring them to their composite pointer type\iref{expr.type}.
+to bring them to their \deflink{composite pointer type}{expr.type}.
 %
 In all cases, after the conversions, the operands shall have the same type.
 \begin{note}
 If both of the operands are arrays,
-array-to-pointer conversions\iref{conv.array} are not applied.
+\link{array-to-pointer conversions}{conv.array} are not applied.
 \end{note}
 
 \pnum
@@ -5968,7 +5968,7 @@ Otherwise, the result is unspecified.
 Otherwise, the program is ill-formed.
 
 \pnum
-The five comparison category types\iref{cmp.categories}
+The five \deflink{comparison category types}{cmp.categories}
 (the types
 \tcode{std::strong_ordering},
 \tcode{std::strong_equality},
@@ -5980,8 +5980,8 @@ if the header
 \indexhdr{compare}\tcode{<compare>}
 is not included prior to a use of such a class type --
 even an implicit use in which the type is not named
-(e.g., via the \tcode{auto} specifier\iref{dcl.spec.auto}
-in a defaulted three-way comparison\iref{class.spaceship}
+(e.g., via the \link{\tcode{auto} specifier}{dcl.spec.auto}
+in a defaulted \link{three-way comparison}{class.spaceship}
 or use of the built-in operator) -- the program is ill-formed.
 
 \rSec2[expr.rel]{Relational operators}%
@@ -6031,11 +6031,11 @@ yield \tcode{false} or \tcode{true}. The type of the result is
 \tcode{bool}.
 
 \pnum
-The usual arithmetic conversions\iref{expr.arith.conv} are performed on operands of arithmetic
-or enumeration type. If both operands are pointers, pointer
-conversions\iref{conv.ptr} and qualification conversions\iref{conv.qual}
+The \link{usual arithmetic conversions}{expr.arith.conv} are performed on operands of arithmetic
+or enumeration type. If both operands are pointers, \link{pointer
+conversions}{conv.ptr} and \link{qualification conversions}{conv.qual}
 are performed to bring
-them to their composite pointer type\iref{expr.type}.
+them to their \deflink{composite pointer type}{expr.type}.
 After conversions, the operands shall have the same type.
 
 \pnum
@@ -6064,7 +6064,7 @@ and their class is not a union.
 \end{itemize}
 
 \pnum
-If two operands \tcode{p} and \tcode{q} compare equal\iref{expr.eq},
+If two operands \tcode{p} and \tcode{q} \link{compare equal}{expr.eq},
 \tcode{p<=q} and \tcode{p>=q} both yield \tcode{true} and \tcode{p<q} and
 \tcode{p>q} both yield \tcode{false}. Otherwise, if a pointer \tcode{p}
 compares greater than a pointer \tcode{q}, \tcode{p>=q}, \tcode{p>q},
@@ -6112,10 +6112,10 @@ same type after the specified conversions have been applied.
 \indextext{comparison!pointer}%
 \indextext{comparison!pointer to function}%
 If at least one of the operands is a pointer,
-pointer conversions\iref{conv.ptr},
-function pointer conversions\iref{conv.fctptr}, and
-qualification conversions\iref{conv.qual}
-are performed on both operands to bring them to their composite pointer type\iref{expr.type}.
+\link{pointer conversions}{conv.ptr},
+\link{function pointer conversions}{conv.fctptr}, and
+\link{qualification conversions}{conv.qual}
+are performed on both operands to bring them to their \deflink{composite pointer type}{expr.type}.
 Comparing pointers is defined as follows:
 
 \begin{itemize}
@@ -6128,7 +6128,8 @@ see~\ref{expr.unary.op}.} the result of the comparison is unspecified.
 \item
 Otherwise, if the pointers are both null, both point to the same
 \indextext{address}%
-function, or both represent the same address\iref{basic.compound},
+function, or both
+\deflinkx{represent the same address}{represents the address}{basic.compound},
 they compare equal.
 \item
 Otherwise, the pointers compare unequal.
@@ -6173,12 +6174,12 @@ bool b1 = (bx == cx);   // unspecified
 \end{example}
 
 \item
-If both refer to (possibly different) members of the same union\iref{class.union},
+If both refer to (possibly different) members of the same \link{union}{class.union},
 they compare equal.
 
 \item
 Otherwise, two pointers to members compare equal if they would refer to the same member of
-the same most derived object\iref{intro.object} or the same subobject if
+the same \deflink{most derived object}{intro.object} or the same subobject if
 indirection with a hypothetical object of the associated
 class type were performed, otherwise they compare unequal.
 \begin{example}
@@ -6214,8 +6215,8 @@ compare unequal, the result is \tcode{false} for the \tcode{==} operator and
 operators is unspecified.
 
 \pnum
-If both operands are of arithmetic or enumeration type, the usual arithmetic
-conversions\iref{expr.arith.conv} are performed on both operands; each of the operators shall yield
+If both operands are of arithmetic or enumeration type, the \link{usual arithmetic
+conversions}{expr.arith.conv} are performed on both operands; each of the operators shall yield
 \tcode{true} if the specified relationship is true and \tcode{false} if it is
 false.
 
@@ -6309,9 +6310,9 @@ The result is the bitwise inclusive \logop{OR} function of the operands.
 
 \pnum
 The \tcode{\&\&} operator groups left-to-right. The operands are both
-contextually converted to \tcode{bool}\iref{conv}.
-The
-result is \tcode{true} if both operands are \tcode{true} and
+\deflinkx{contextually converted to \tcode{bool}}
+{conversion!contextual to \tcode{bool}}{conv}.
+The result is \tcode{true} if both operands are \tcode{true} and
 \tcode{false} otherwise. Unlike \tcode{\&}, \tcode{\&\&} guarantees
 left-to-right evaluation: the second operand is not evaluated if the
 first operand is \tcode{false}.
@@ -6340,7 +6341,8 @@ value computation and side effect associated with the second expression.
 
 \pnum
 The \tcode{||} operator groups left-to-right. The operands are both
-contextually converted to \tcode{bool}\iref{conv}.
+\deflinkx{contextually converted to \tcode{bool}}
+{conversion!contextual to \tcode{bool}}{conv}.
 The result is
 \tcode{true} if either of its operands is \tcode{true}, and
 \tcode{false} otherwise. Unlike \tcode{|}, \tcode{||} guarantees
@@ -6371,8 +6373,8 @@ and side effect associated with the second expression.
 
 \pnum
 Conditional expressions group right-to-left. The first expression is
-contextually converted to \tcode{bool}\iref{conv}.
-It is
+\deflinkx{contextually converted to \tcode{bool}}
+{conversion!contextual to \tcode{bool}}{conv}. It is
 evaluated and if it is \tcode{true}, the result of the conditional
 expression is the value of the second expression, otherwise that of the
 third expression. Only one of the second and third expressions is
@@ -6413,7 +6415,7 @@ Otherwise, if the second and third operand have different types and
 either has (possibly cv-qualified) class type, or if both
 are glvalues of the same value category and the same type except for
 cv-qualification, an attempt is made to
-form an implicit conversion sequence\iref{over.best.ics} from
+form an \link{implicit conversion sequence}{over.best.ics} from
 each of those operands to the type of the other.
 \begin{note}
 Properties such as access, whether an operand is a bit-field, or whether
@@ -6449,9 +6451,9 @@ denotes the cv-qualifiers of \tcode{T1},
 
 \item otherwise, the target type is the type that \tcode{E2} would have
 after applying the
-lvalue-to-rvalue\iref{conv.lval},
-array-to-pointer\iref{conv.array}, and
-function-to-pointer\iref{conv.func}
+\link{lvalue-to-rvalue}{conv.lval},
+\link{array-to-pointer}{conv.array}, and
+\link{function-to-pointer}{conv.func}
 standard conversions.
 \end{itemize}
 \end{itemize}
@@ -6489,8 +6491,8 @@ are used in place of the original operands for the remainder of this
 subclause.
 
 \pnum
-Lvalue-to-rvalue\iref{conv.lval}, array-to-pointer\iref{conv.array},
-and function-to-pointer\iref{conv.func} standard conversions are
+\link{Lvalue-to-rvalue}{conv.lval}, \link{array-to-pointer}{conv.array},
+and \link{function-to-pointer}{conv.func} standard conversions are
 performed on the second and third operands. After those conversions, one
 of the following shall hold:
 
@@ -6499,15 +6501,15 @@ of the following shall hold:
 that type and the result object is initialized using the selected operand.
 
 \item The second and third operands have arithmetic or enumeration type;
-the usual arithmetic conversions\iref{expr.arith.conv} are performed to bring them to a common
+the \link{usual arithmetic conversions}{expr.arith.conv} are performed to bring them to a common
 type, and the result is of that type.
 
 \item One or both of the second and third operands have pointer type;
-pointer conversions\iref{conv.ptr},
-function pointer conversions\iref{conv.fctptr}, and
-qualification conversions\iref{conv.qual}
+\link{pointer conversions}{conv.ptr},
+\link{function pointer conversions}{conv.fctptr}, and
+\link{qualification conversions}{conv.qual}
 are performed to bring them to their
-composite pointer type\iref{expr.type}. The result is of the composite
+\deflink{composite pointer type}{expr.type}. The result is of the composite
 pointer type.
 
 \item One or both of the second and third operands have pointer-to-member type;
@@ -6592,8 +6594,8 @@ int main() {
 A \grammarterm{throw-expression} is of type \tcode{void}.
 
 \pnum
-Evaluating a \grammarterm{throw-expression} with an operand throws an
-exception\iref{except.throw}; the type of the exception object is determined by removing
+Evaluating a \grammarterm{throw-expression} with an operand \link{throws an
+exception}{except.throw}; the type of the exception object is determined by removing
 any top-level \grammarterm{cv-qualifier}{s} from the static type of the
 operand and adjusting the type
 from ``array of \tcode{T}'' or function type \tcode{T}
@@ -6603,7 +6605,8 @@ to ``pointer to \tcode{T}''.
 \indextext{exception handling!rethrow}%
 A
 \grammarterm{throw-expression}
-with no operand rethrows the currently handled exception\iref{except.handle}.
+with no operand rethrows the
+\deflinkx{currently handled exception}{exception handling!currently handled exception}{except.handle}.
 The exception is reactivated with the existing exception object;
 no new exception object is created.
 The exception is no longer considered to be caught.
@@ -6628,7 +6631,7 @@ If no exception is presently being handled,
 evaluating a
 \grammarterm{throw-expression}
 with no operand calls
-\tcode{std::\brk{}terminate()}\iref{except.terminate}.
+\link{\tcode{std::\brk{}terminate()}}{except.terminate}.
 
 \rSec2[expr.ass]{Assignment and compound assignment operators}%
 \indextext{expression!assignment and compound assignment}
@@ -6765,7 +6768,7 @@ The comma operator groups left-to-right.
 
 A pair of expressions separated by a comma is evaluated left-to-right;
 the left expression is
-a discarded-value expression\iref{expr.prop}.
+a \deflink{discarded-value expression}{expr.prop}.
 Every
 \indextext{value computation}%
 value computation and side effect
@@ -6901,12 +6904,12 @@ an operation that would have undefined behavior
 as specified in \ref{intro} through \ref{cpp}
 of this document \begin{note} including,
 for example, signed integer overflow\iref{expr.prop}, certain
-pointer arithmetic\iref{expr.add}, division by
-zero\iref{expr.mul}, or certain shift operations\iref{expr.shift}
+pointer arithmetic\iref{expr.add}, \link{division by
+zero}{expr.mul}, or certain \link{shift operations}{expr.shift}
 \end{note};
 
 \item
-an lvalue-to-rvalue conversion\iref{conv.lval} unless
+an \link{lvalue-to-rvalue conversion}{conv.lval} unless
 it is applied to
 
 \begin{itemize}
@@ -6920,7 +6923,7 @@ it is applied to
 \end{itemize}
 
 \item
-an lvalue-to-rvalue conversion\iref{conv.lval}
+an \link{lvalue-to-rvalue conversion}{conv.lval}
 that is applied to a glvalue
 that refers to a non-active member of a union or a subobject thereof;
 
@@ -6952,7 +6955,7 @@ in a \grammarterm{lambda-expression},
 a reference to \tcode{this} or to a variable with
 automatic storage duration defined outside that
 \grammarterm{lambda-expression}, where
-the reference would be an odr-use~(\ref{basic.def.odr}, \ref{expr.prim.lambda});
+the reference would be an \link{odr-use}{basic.def.odr};
 \begin{example}
 \begin{codeblock}
 void g() {
@@ -7139,9 +7142,9 @@ is an expression of integral or
 unscoped enumeration type, implicitly converted to a prvalue, where the converted expression is a core constant expression.
 \begin{note}
 Such expressions may be
-used as bit-field lengths\iref{class.bit}, as enumerator
+used as \link{bit-field}{class.bit} lengths, as enumerator
 initializers if the underlying type is not fixed\iref{dcl.enum},
-and as alignments\iref{dcl.align}.
+and as \link{alignments}{dcl.align}.
 \end{note}
 
 \pnum
@@ -7174,30 +7177,31 @@ implicit conversion sequence contains only
 
 \begin{itemize}
 \item user-defined conversions,
-\item lvalue-to-rvalue conversions\iref{conv.lval},
-\item array-to-pointer conversions\iref{conv.array},
-\item function-to-pointer conversions\iref{conv.func},
-\item qualification conversions\iref{conv.qual},
-\item integral promotions\iref{conv.prom},
-\item integral conversions\iref{conv.integral} other than narrowing conversions\iref{dcl.init.list},
-\item null pointer conversions\iref{conv.ptr} from \tcode{std::nullptr_t},
-\item null member pointer conversions\iref{conv.mem} from \tcode{std::nullptr_t}, and
-\item function pointer conversions\iref{conv.fctptr},
+\item \link{lvalue-to-rvalue conversions}{conv.lval},
+\item \link{array-to-pointer conversions}{conv.array},
+\item \link{function-to-pointer conversions}{conv.func},
+\item \link{qualification conversions}{conv.qual},
+\item \deflink{integral promotions}{conv.prom},
+\item \link{integral conversions}{conv.integral} other than
+\deflinkx{narrowing conversions}{narrowing conversion}{dcl.init.list},
+\item \deflinkx{null pointer conversions}{null pointer conversion}{conv.ptr} from \tcode{std::nullptr_t},
+\item \deflinkx{null member pointer conversions}{null member pointer conversion}{conv.mem} from \tcode{std::nullptr_t}, and
+\item \link{function pointer conversions}{conv.fctptr},
 \end{itemize}
 
 and where the reference binding (if any) binds directly.
 \begin{note}
-Such expressions may be used in \tcode{new}
-expressions\iref{expr.new}, as case expressions\iref{stmt.switch},
+Such expressions may be used in \link{\tcode{new}
+expressions}{expr.new}, as \link{case expressions}{stmt.switch},
 as enumerator initializers if the underlying type is
-fixed\iref{dcl.enum}, as array bounds\iref{dcl.array}, and
-as non-type template
-arguments\iref{temp.arg}.
+\deflinkx{fixed}{type!underlying!fixed}{dcl.enum}, as \link{array}{dcl.array} bounds, and
+as non-type \link{template arguments}{temp.arg}.
 \end{note}
 \indextext{contextually converted constant expression of type \tcode{bool}|see{conversion, contextual}}%
 \indextext{conversion!contextual to constant expression of type \tcode{bool}}%
 A \term{contextually converted constant expression of type \tcode{bool}} is
-an expression, contextually converted to \tcode{bool}\iref{conv},
+an expression, \deflinkx{contextually converted to \tcode{bool}}
+{conversion!contextual to \tcode{bool}}{conv},
 where the converted expression is a constant expression and
 the conversion sequence contains only the conversions above.
 
diff --git a/source/future.tex b/source/future.tex
index f726e1cd..76188c14 100644
--- a/source/future.tex
+++ b/source/future.tex
@@ -12,7 +12,7 @@ is defined as:
 Normative for the current edition of this International Standard,
 but having been identified as a candidate for removal from future revisions.
 An implementation may declare library names and entities described in this Clause with the
-\tcode{deprecated} attribute\iref{dcl.attr.deprecated}.
+\link{\tcode{deprecated} attribute}{dcl.attr.deprecated}.
 
 \rSec1[depr.arith.conv.enum]{Arithmetic conversion on enumerations}
 
@@ -131,11 +131,11 @@ constexpr int A::n;  // redundant declaration (definition in \CppXIV{})
 \rSec1[depr.impldec]{Implicit declaration of copy functions}
 
 \pnum
-The implicit definition of a copy constructor\iref{class.copy.ctor}
+The implicit definition of a \link{copy constructor}{class.copy.ctor}
 as defaulted is deprecated if the class has
 a user-declared copy assignment operator or
-a user-declared destructor\iref{class.dtor}.
-The implicit definition of a copy assignment operator\iref{class.copy.assign}
+a user-declared \link{destructor}{class.dtor}.
+The implicit definition of a \link{copy assignment operator}{class.copy.assign}
 as defaulted is deprecated if the class has
 a user-declared copy constructor or
 a user-declared destructor.
@@ -642,12 +642,12 @@ If
 \tcode{strlen(const char*)}
 is declared in
 \indexhdr{cstring}%
-\tcode{<cstring>}\iref{cstring.syn}.
+\link{\tcode{<cstring>}}{cstring.syn}.
 The macro
 \tcode{INT_MAX}
 is defined in
 \indexhdr{climits}%
-\tcode{<climits>}\iref{climits.syn}.}
+\link{\tcode{<climits>}}{climits.syn}.}
 \end{itemize}
 
 \pnum
@@ -1249,7 +1249,7 @@ The constructor is
 \tcode{strlen(const char*)}
 is declared in
 \indexhdr{cstring}%
-\tcode{<cstring>}\iref{cstring.syn}.}
+\link{\tcode{<cstring>}}{cstring.syn}.}
 \end{itemize}
 \end{itemdescr}
 
diff --git a/source/grammar.tex b/source/grammar.tex
index a4da2357..417094f7 100644
--- a/source/grammar.tex
+++ b/source/grammar.tex
@@ -17,10 +17,10 @@ to weed out syntactically valid but meaningless constructs.
 \pnum
 \indextext{keyword}%
 New context-dependent keywords are introduced into a program by
-\tcode{typedef}\iref{dcl.typedef},
-\tcode{namespace}\iref{namespace.def},
-class\iref{class}, enumeration\iref{dcl.enum}, and
-\tcode{template}\iref{temp}
+\link{\tcode{typedef}}{dcl.typedef},
+\link{\tcode{namespace}}{namespace.def},
+\link{class}{class}, \link{enumeration}{dcl.enum}, and
+\link{\tcode{template}}{temp}
 declarations.
 
 \begin{ncbnf}
diff --git a/source/intro.tex b/source/intro.tex
index d8152872..29485923 100644
--- a/source/intro.tex
+++ b/source/intro.tex
@@ -134,7 +134,7 @@ comma-separated list bounded by the parentheses\iref{cpp.replace}
 \indexdefn{argument}%
 \indexdefn{argument!throw expression}%
 \definition{argument}{defns.argument.throw}
-\defncontext{throw expression} operand of \tcode{throw}\iref{expr.throw}
+\defncontext{throw expression} operand of \link{\tcode{throw}}{expr.throw}
 
 \indexdefn{argument}%
 \indexdefn{argument!template instantiation}%
@@ -171,10 +171,11 @@ implementation's output messages
 glvalue refers
 
 \begin{example}
-If a pointer\iref{dcl.ptr} \tcode{p} whose static type is ``pointer to
-class \tcode{B}'' is pointing to an object of class \tcode{D}, derived
-from \tcode{B}\iref{class.derived}, the dynamic type of the
-expression \tcode{*p} is ``\tcode{D}''. References\iref{dcl.ref} are
+If a \link{pointer}{dcl.ptr} \tcode{p} whose static type is ``pointer to
+class \tcode{B}'' is pointing to an object of class \tcode{D},
+\link{derived}{class.derived}
+from \tcode{B}, the dynamic type of the
+expression \tcode{*p} is ``\tcode{D}''. \link{References}{dcl.ref} are
 treated similarly.
 \end{example}
 
@@ -184,7 +185,7 @@ treated similarly.
 
 \indexdefn{program!ill-formed}%
 \definition{ill-formed program}{defns.ill.formed}
-program that is not well-formed\iref{defns.well.formed}
+program that is not \link{well-formed}{defns.well.formed}
 
 \indexdefn{behavior!implementation-defined}%
 \definition{implementation-defined behavior}{defns.impl.defined}
@@ -338,7 +339,7 @@ possible behaviors is usually delineated by this document.
 \indexdefn{program!well-formed}%
 \definition{well-formed program}{defns.well.formed}
 \Cpp{}  program constructed according to the syntax rules, diagnosable
-semantic rules, and the one-definition rule\iref{basic.def.odr}%
+semantic rules, and the \link{one-definition rule}{basic.def.odr}%
 \indextext{definitions|)}
 
 \rSec0[intro]{General principles}
@@ -414,7 +415,7 @@ see~\ref{temp.deduct}.
 \indextext{conformance requirements!classes}%
 \indextext{conformance requirements!class templates}%
 For classes and class templates, the library Clauses specify partial
-definitions. Private members\iref{class.access} are not
+definitions. \link{Private members}{class.access} are not
 specified, but each implementation shall supply them to complete the
 definitions according to the description in the library Clauses.
 
@@ -425,13 +426,13 @@ consistent with the descriptions in the library Clauses.
 
 \pnum
 The names defined in the library have namespace
-scope\iref{basic.namespace}. A \Cpp{}  translation
-unit\iref{lex.phases} obtains access to these names by including the
-appropriate standard library header\iref{cpp.include}.
+scope\iref{basic.namespace}. A \Cpp{}  \link{translation
+unit}{lex.phases} obtains access to these names by \link{including}{cpp.include} the
+appropriate standard library header.
 
 \pnum
 The templates, classes, functions, and objects in the library have
-external linkage\iref{basic.link}. The implementation provides
+external \link{linkage}{basic.link}. The implementation provides
 definitions for standard library entities, as necessary, while combining
 translation units to form a complete \Cpp{}  program\iref{lex.phases}.%
 \indextext{conformance requirements!library|)}
diff --git a/source/iostreams.tex b/source/iostreams.tex
index fa7d4c2c..f87e0f6d 100644
--- a/source/iostreams.tex
+++ b/source/iostreams.tex
@@ -421,7 +421,7 @@ the type
 \tcode{FILE}
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 
 \pnum
 The header
@@ -436,7 +436,7 @@ these objects.
 The objects are constructed and the associations are established at some
 time prior to or during the first time an object of class
 \tcode{ios_base::Init} is constructed, and in any case before the body
-of \tcode{main}\iref{basic.start.main} begins execution.\footnote{If it is possible for them to do so, implementations should
+of \link{\tcode{main}}{basic.start.main} begins execution.\footnote{If it is possible for them to do so, implementations should
 initialize the objects earlier than required.}
 The objects are not destroyed during program execution.\footnote{Constructors and destructors for static objects can
 access these objects to read input from
@@ -457,16 +457,17 @@ follows the same semantics as mixing such operations on
 as specified in the C standard library.
 
 \pnum
-Concurrent access to a synchronized\iref{ios.members.static} standard iostream object's formatted and unformatted input\iref{istream} and output\iref{ostream} functions or a standard C stream by multiple threads shall not result in a data race\iref{intro.multithread}. \begin{note} Users must still synchronize concurrent use of these objects and streams by multiple threads if they wish to avoid interleaved characters. \end{note}
+Concurrent access to a synchronized\iref{ios.members.static} standard iostream object's formatted and unformatted \link{input}{istream} and \link{output}{ostream} functions or a standard C stream by multiple threads shall not result in a \deflink{data race}{intro.multithread}. \begin{note} Users must still synchronize concurrent use of these objects and streams by multiple threads if they wish to avoid interleaved characters. \end{note}
 
 \xrefc{7.21.2}
 
 \rSec2[narrow.stream.objects]{Narrow stream objects}
 
-\indexlibrary{\idxcode{cin}}%
+\begin{indexed}{\indexlibrary{\idxcode{cin}}}
 \begin{itemdecl}
 istream cin;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -477,7 +478,7 @@ associated with the object
 \tcode{stdin},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 
 \pnum
 After the object
@@ -487,13 +488,14 @@ is initialized,
 returns
 \tcode{\&cout}.
 Its state is otherwise the same as required for
-\tcode{basic_ios<char>::init}\iref{basic.ios.cons}.
+\linkx{\tcode{basic_ios<char>::init}}{basic_ios!init}{basic.ios.cons}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{cout}}%
+\begin{indexed}{\indexlibrary{\idxcode{cout}}}
 \begin{itemdecl}
 ostream cout;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -504,13 +506,14 @@ associated with the object
 \tcode{stdout},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{cerr}}%
+\begin{indexed}{\indexlibrary{\idxcode{cerr}}}
 \begin{itemdecl}
 ostream cerr;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -521,7 +524,7 @@ associated with the object
 \tcode{stderr},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 
 \pnum
 After the object
@@ -530,13 +533,14 @@ is initialized,
 \tcode{cerr.flags() \& unitbuf}
 is nonzero and \tcode{cerr.tie()} returns \tcode{\&cout}.
 Its state is otherwise the same as required for
-\tcode{basic_ios<char>::init}\iref{basic.ios.cons}.
+\linkx{\tcode{basic_ios<char>::init}}{basic_ios!init}{basic.ios.cons}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{clog}}%
+\begin{indexed}{\indexlibrary{\idxcode{clog}}}
 \begin{itemdecl}
 ostream clog;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -547,15 +551,16 @@ associated with the object
 \tcode{stderr},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 \end{itemdescr}
 
 \rSec2[wide.stream.objects]{Wide stream objects}
 
-\indexlibrary{\idxcode{wcin}}%
+\begin{indexed}{\indexlibrary{\idxcode{wcin}}}
 \begin{itemdecl}
 wistream wcin;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -566,7 +571,7 @@ associated with the object
 \tcode{stdin},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 
 \pnum
 After the object
@@ -576,13 +581,14 @@ is initialized,
 returns
 \tcode{\&wcout}.
 Its state is otherwise the same as required for
-\tcode{basic_ios<wchar_t>::init}\iref{basic.ios.cons}.
+\linkx{\tcode{basic_ios<wchar_t>::init}}{basic_ios!init}{basic.ios.cons}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{wcout}}%
+\begin{indexed}{\indexlibrary{\idxcode{wcout}}}
 \begin{itemdecl}
 wostream wcout;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -593,13 +599,14 @@ associated with the object
 \tcode{stdout},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{wcerr}}%
+\begin{indexed}{\indexlibrary{\idxcode{wcerr}}}
 \begin{itemdecl}
 wostream wcerr;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -610,7 +617,7 @@ associated with the object
 \tcode{stderr},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 
 \pnum
 After the object
@@ -619,13 +626,14 @@ is initialized,
 \tcode{wcerr.flags() \& unitbuf}
 is nonzero and \tcode{wcerr.tie()} returns \tcode{\&wcout}.
 Its state is otherwise the same as required for
-\tcode{basic_ios<wchar_t>::init}\iref{basic.ios.cons}.
+\linkx{\tcode{basic_ios<wchar_t>::init}}{basic_ios!init}{basic.ios.cons}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{wclog}}%
+\begin{indexed}{\indexlibrary{\idxcode{wclog}}}
 \begin{itemdecl}
 wostream wclog;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -636,7 +644,7 @@ associated with the object
 \tcode{stderr},
 declared in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 \end{itemdescr}
 
 \rSec1[iostreams.base]{Iostreams base classes}
@@ -714,10 +722,11 @@ namespace std {
 
 \rSec2[stream.types]{Types}
 
-\indexlibrary{\idxcode{streamoff}}%
+\begin{indexed}{\indexlibrary{\idxcode{streamoff}}}
 \begin{itemdecl}
 using streamoff = @\impdef@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -725,10 +734,11 @@ The type \tcode{streamoff} is a synonym for one of the signed basic integral typ
 sufficient size to represent the maximum possible file size for the operating system.\footnote{Typically \tcode{long long}.}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{streamsize}}%
+\begin{indexed}{\indexlibrary{\idxcode{streamsize}}}
 \begin{itemdecl}
 using streamsize = @\impdef@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -742,7 +752,7 @@ is used in most places where ISO C would use \tcode{size_t}.}
 \end{itemdescr}
 
 \rSec2[ios.base]{Class \tcode{ios_base}}
-\indexlibrary{\idxcode{ios_base}}%
+\begin{indexed}{\indexlibrary{\idxcode{ios_base}}}
 \begin{codeblock}
 namespace std {
   class ios_base {
@@ -838,6 +848,7 @@ namespace std {
   };
 }
 \end{codeblock}
+\end{indexed}
 
 \pnum
 \tcode{ios_base}
@@ -929,10 +940,11 @@ reported by the operating system. Errors arising from within the stream library
 typically be reported as \tcode{error_code(io_errc::stream,
 iostream_category())}. \end{note}
 
-\indexlibrary{\idxcode{ios_base::failure}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{ios_base::failure}!constructor}}
 \begin{itemdecl}
 explicit failure(const string& msg, const error_code& ec = io_errc::stream);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1054,10 +1066,11 @@ the value zero.
 
 \rSec4[ios.openmode]{Type \tcode{ios_base::openmode}}
 
-\indexlibrarymember{openmode}{ios_base}%
+\begin{indexed}{\indexlibrarymember{openmode}{ios_base}}
 \begin{itemdecl}
 using openmode = @\textit{T3}@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1084,10 +1097,11 @@ It contains the elements indicated in \tref{ios.openmode}.
 
 \rSec4[ios.seekdir]{Type \tcode{ios_base::seekdir}}
 
-\indexlibrarymember{seekdir}{ios_base}%
+\begin{indexed}{\indexlibrarymember{seekdir}{ios_base}}
 \begin{itemdecl}
 using seekdir = @\textit{T4}@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1132,7 +1146,7 @@ ensures the construction of the eight objects declared in
 \tcode{<io\-stream>}\iref{iostream.objects} that associate file
 stream buffers with the standard C streams
 provided for by the functions declared in
-\tcode{<cstdio>}\iref{cstdio.syn}.
+\link{\tcode{<cstdio>}}{cstdio.syn}.
 
 \pnum
 For the sake of exposition, the maintained data is presented here as:
@@ -1160,10 +1174,11 @@ Constructs and initializes the objects \tcode{cin}, \tcode{cout}, \tcode{cerr},
 they have not already been constructed and initialized.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{ios_base::Init}!destructor}%
+\begin{indexed}{\indexlibrary{\idxcode{ios_base::Init}!destructor}}
 \begin{itemdecl}
 ~Init();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1318,10 +1333,11 @@ The previous value of
 
 \rSec3[ios.base.locales]{Functions}
 
-\indexlibrarymember{imbue}{ios_base}%
+\begin{indexed}{\indexlibrarymember{imbue}{ios_base}}
 \begin{itemdecl}
 locale imbue(const locale& loc);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1373,7 +1389,7 @@ bool sync_with_stdio(bool sync = true);
 \pnum
 \returns
 \tcode{true}
-if the previous state of the standard iostream objects\iref{iostream.objects}
+if the previous state of the \link{standard iostream objects}{iostream.objects}
 was synchronized and otherwise returns
 \tcode{false}.
 The first time it is called,
@@ -1438,8 +1454,8 @@ static int xalloc();
 
 \pnum
 \remarks
-Concurrent access to this function by multiple threads shall not result in a data
-race\iref{intro.multithread}.
+Concurrent access to this function by multiple threads shall not result in a
+\deflink{data race}{intro.multithread}.
 \end{itemdescr}
 
 \indexlibrarymember{iword}{ios_base}%
@@ -1892,10 +1908,11 @@ The destructor does not destroy
 \tcode{rdbuf()}.
 \end{itemdescr}
 
-\indexlibrarymember{init}{basic_ios}%
+\begin{indexed}{\indexlibrarymember{init}{basic_ios}}
 \begin{itemdecl}
 void init(basic_streambuf<charT, traits>* sb);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2008,12 +2025,12 @@ locale imbue(const locale& loc);
 \pnum
 \effects
 Calls
-\tcode{ios_base::imbue(loc)}\iref{ios.base.locales}
+\liblinkx{\tcode{ios_base::imbue}}{ios_base!imbue}{ios.base.locales}\tcode{(loc)}
 and
 if
 \tcode{rdbuf() != 0}
 then
-\tcode{rdbuf()->pubimbue(loc)}\iref{streambuf.locales}.
+\tcode{rdbuf()->}\liblinkx{\tcode{pubimbue}}{basic_streambuf!pubimbue}{streambuf.locales}\tcode{(loc)}.
 
 \pnum
 \returns
@@ -2256,7 +2273,7 @@ otherwise
 If \tcode{((state | (rdbuf() ? goodbit : badbit)) \& exceptions()) == 0},
 returns.
 Otherwise, the function throws an object of class
-\tcode{basic_ios::failure}\iref{ios.failure},
+\link{\tcode{basic_ios::failure}}{ios.failure},
 constructed with
 \impldef{argument values to construct \tcode{basic_ios::failure}}
 argument values.%
@@ -2273,7 +2290,7 @@ void setstate(iostate state);
 Calls
 \tcode{clear(rdstate() | state)}
 (which may throw
-\tcode{basic_ios::failure}\iref{ios.failure}).
+\link{\tcode{basic_ios::failure}}{ios.failure}).
 \end{itemdescr}
 
 \indexlibrarymember{good}{basic_ios}%
@@ -2375,10 +2392,11 @@ Calls
 Each function specified in this subclause
 is a designated addressable function\iref{namespace.std}.
 
-\indexlibrary{\idxcode{boolalpha}}%
+\begin{indexed}{\indexlibrary{\idxcode{boolalpha}}}
 \begin{itemdecl}
 ios_base& boolalpha(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2391,10 +2409,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{noboolalpha}}%
+\begin{indexed}{\indexlibrary{\idxcode{noboolalpha}}}
 \begin{itemdecl}
 ios_base& noboolalpha(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2407,10 +2426,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{showbase}}%
+\begin{indexed}{\indexlibrary{\idxcode{showbase}}}
 \begin{itemdecl}
 ios_base& showbase(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2423,10 +2443,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{noshowbase}}%
+\begin{indexed}{\indexlibrary{\idxcode{noshowbase}}}
 \begin{itemdecl}
 ios_base& noshowbase(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2439,10 +2460,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{showpoint}}%
+\begin{indexed}{\indexlibrary{\idxcode{showpoint}}}
 \begin{itemdecl}
 ios_base& showpoint(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2621,10 +2643,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{left}}%
+\begin{indexed}{\indexlibrary{\idxcode{left}}}
 \begin{itemdecl}
 ios_base& left(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2637,10 +2660,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{right}}%
+\begin{indexed}{\indexlibrary{\idxcode{right}}}
 \begin{itemdecl}
 ios_base& right(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2659,10 +2683,11 @@ Calls
 Each function specified in this subclause
 is a designated addressable function\iref{namespace.std}.
 
-\indexlibrary{\idxcode{dec}}%
+\begin{indexed}{\indexlibrary{\idxcode{dec}}}
 \begin{itemdecl}
 ios_base& dec(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2683,10 +2708,11 @@ to change the format flags stored in
 \tcode{cout}.}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{hex}}%
+\begin{indexed}{\indexlibrary{\idxcode{hex}}}
 \begin{itemdecl}
 ios_base& hex(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2699,10 +2725,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{oct}}%
+\begin{indexed}{\indexlibrary{\idxcode{oct}}}
 \begin{itemdecl}
 ios_base& oct(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2721,10 +2748,11 @@ Calls
 Each function specified in this subclause
 is a designated addressable function\iref{namespace.std}.
 
-\indexlibrary{\idxcode{fixed}}%
+\begin{indexed}{\indexlibrary{\idxcode{fixed}}}
 \begin{itemdecl}
 ios_base& fixed(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2737,10 +2765,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{scientific}}%
+\begin{indexed}{\indexlibrary{\idxcode{scientific}}}
 \begin{itemdecl}
 ios_base& scientific(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2753,10 +2782,11 @@ Calls
 \tcode{str}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{hexfloat}}%
+\begin{indexed}{\indexlibrary{\idxcode{hexfloat}}}
 \begin{itemdecl}
 ios_base& hexfloat(ios_base& str);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Calls \tcode{str.setf(ios_base::fixed | ios_base::scientific,
@@ -2788,30 +2818,33 @@ Calls \tcode{str.unsetf(ios_base::floatfield)}.
 
 \rSec2[error.reporting]{Error reporting}
 
-\indexlibrarymember{make_error_code}{io_errc}%
+\begin{indexed}{\indexlibrarymember{make_error_code}{io_errc}}
 \begin{itemdecl}
 error_code make_error_code(io_errc e) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
 \returns \tcode{error_code(static_cast<int>(e), iostream_category())}.
 \end{itemdescr}
 
-\indexlibrarymember{make_error_condition}{io_errc}%
+\begin{indexed}{\indexlibrarymember{make_error_condition}{io_errc}}
 \begin{itemdecl}
 error_condition make_error_condition(io_errc e) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
 \returns \tcode{error_condition(static_cast<int>(e), iostream_category())}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{iostream_category}}%
+\begin{indexed}{\indexlibrary{\idxcode{iostream_category}}}
 \begin{itemdecl}
 const error_category& iostream_category() noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3137,10 +3170,11 @@ None.
 
 \rSec4[streambuf.locales]{Locales}
 
-\indexlibrarymember{pubimbue}{basic_streambuf}%
+\begin{indexed}{\indexlibrarymember{pubimbue}{basic_streambuf}}
 \begin{itemdecl}
 locale pubimbue(const locale& loc);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3158,10 +3192,11 @@ Previous value of
 \tcode{getloc()}.
 \end{itemdescr}
 
-\indexlibrarymember{getloc}{basic_streambuf}%
+\begin{indexed}{\indexlibrarymember{getloc}{basic_streambuf}}
 \begin{itemdecl}
 locale getloc() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3244,7 +3279,7 @@ streamsize in_avail();
 If a read position is available, returns
 \tcode{egptr() - gptr()}.
 Otherwise returns
-\tcode{showmanyc()}\iref{streambuf.virt.get}.
+\linkx{\tcode{showmanyc()}}{basic_streambuf!showmanyc}{streambuf.virt.get}.
 \end{itemdescr}
 
 \indexlibrarymember{snextc}{basic_streambuf}%
@@ -3664,11 +3699,12 @@ Returns zero.
 
 \rSec4[streambuf.virt.get]{Get area}
 
-\indexlibrarymember{showmanyc}{basic_streambuf}%
+\begin{indexed}{\indexlibrarymember{showmanyc}{basic_streambuf}}
 \begin{itemdecl}
 streamsize showmanyc();@\footnote{\textrm{The morphemes of \tcode{showmanyc}\
 are ``es-how-many-see'', not ``show-manic''.}}@
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -4195,7 +4231,7 @@ namespace std {
   template<class charT, class traits = char_traits<charT>>
   class basic_istream : virtual public basic_ios<charT, traits> {
   public:
-    // types (inherited from \tcode{basic_ios}\iref{ios})
+    // types (inherited from \link{\tcode{basic_ios}}{ios})
     using char_type   = charT;
     using int_type    = typename traits::int_type;
     using pos_type    = typename traits::pos_type;
@@ -4618,7 +4654,7 @@ operator>>(void*& val);
 \pnum
 As in the case of the inserters, these extractors depend on the
 locale's
-\tcode{num_get<>}\iref{locale.num.get} object to perform parsing the input
+\link{\tcode{num_get<>}}{locale.num.get} object to perform parsing the input
 stream data.
 These extractors behave as formatted input functions (as described in~\ref{istream.formatted.reqmts}).  After a sentry object is constructed, the
 conversion occurs as if performed by the following code fragment:
@@ -4718,7 +4754,7 @@ This extractor does not behave as a formatted input function
 \pnum
 \returns
 \tcode{pf(*this)}.\footnote{See, for example, the function signature
-\tcode{ws(basic_istream\&)}\iref{istream.manip}.%
+\liblinkx{\tcode{ws(basic_istream\&)}}{ws}{istream.manip}.%
 \indexlibrary{\idxcode{ws}}}%
 \end{itemdescr}
 
@@ -4751,7 +4787,7 @@ basic_istream<charT, traits>& operator>>(ios_base& (*pf)(ios_base&));
 \effects
 Calls
 \tcode{pf(*this)}.\footnote{See, for example, the function signature
-\tcode{dec(ios_base\&)}\iref{basefield.manip}.}
+\liblinkx{\tcode{dec(ios_base\&)}}{dec}{basefield.manip}.}
 This extractor does not behave as a formatted input function
 (as described in~\ref{istream.formatted.reqmts}).
 
@@ -4853,7 +4889,7 @@ basic_istream<charT, traits>& operator>>(basic_streambuf<charT, traits>* sb);
 \begin{itemdescr}
 \pnum
 \effects
-Behaves as an unformatted input function\iref{istream.unformatted}.
+Behaves as an \link{unformatted input function}{istream.unformatted}.
 If \tcode{sb} is null, calls
 \tcode{setstate(fail\-bit)},
 which may throw
@@ -5247,7 +5283,7 @@ characters and discards them.
 Characters are extracted until any of the following occurs:
 \begin{itemize}
 \item
-\tcode{n != numeric_limits<streamsize>::max()}\iref{numeric.limits}
+\tcode{n != \deflinkx{numeric_limits<streamsize>::max()}{numeric_limits!max}{numeric.limits}}
 and
 \tcode{n} characters have been extracted so far
 \item
@@ -5572,21 +5608,22 @@ Each instantiation of the function template
 specified in this subclause
 is a designated addressable function\iref{namespace.std}.
 
-\indexlibrary{\idxcode{ws}}%
+\begin{indexed}{\indexlibrary{\idxcode{ws}}}
 \begin{itemdecl}
 template<class charT, class traits>
   basic_istream<charT, traits>& ws(basic_istream<charT, traits>& is);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
 \effects
-Behaves as an unformatted input function\iref{istream.unformatted}, except that it does not count the number of characters extracted and
+Behaves as an \link{unformatted input function}{istream.unformatted}, except that it does not count the number of characters extracted and
 does not affect the value returned by subsequent calls to \tcode{is.gcount()}. After
 constructing a sentry object extracts characters as long as the next available
 character \tcode{c} is whitespace or until there are no more characters in the sequence.
 Whitespace characters are distinguished with the same criterion as used by
-\tcode{sentry::sentry}\iref{istream.sentry}.
+\link{\tcode{sentry::sentry}}{istream.sentry}.
 If
 \tcode{ws}
 stops extracting characters because there are no more available it sets
@@ -5673,9 +5710,9 @@ explicit basic_iostream(basic_streambuf<charT, traits>* sb);
 \effects
 Constructs an object of class \tcode{basic_iostream},
 initializing the base class subobjects with
-\tcode{basic_istream<charT, traits>(sb)}\iref{istream}
+\link{\tcode{basic_istream<charT, traits>(sb)}}{istream}
 and
-\tcode{basic_ostream<charT, traits>(sb)}\iref{ostream}.
+\link{\tcode{basic_ostream<charT, traits>(sb)}}{ostream}.
 
 \pnum
 \ensures
@@ -5755,7 +5792,7 @@ namespace std {
   template<class charT, class traits = char_traits<charT>>
   class basic_ostream : virtual public basic_ios<charT, traits> {
   public:
-    // types (inherited from \tcode{basic_ios}\iref{ios})
+    // types (inherited from \link{\tcode{basic_ios}}{ios})
     using char_type   = charT;
     using int_type    = typename traits::int_type;
     using pos_type    = typename traits::pos_type;
@@ -5946,7 +5983,7 @@ explicit basic_ostream(basic_streambuf<charT, traits>* sb);
 \effects
 Constructs an object of class
 \tcode{basic_ostream}, initializing the base class subobject with
-\tcode{basic_ios<charT, traits>::init(sb)}\iref{basic.ios.cons}.
+\tcode{basic_ios<charT, traits>::init(sb)}\iref{basic.ios.cons}. % todo
 
 \pnum
 \ensures
@@ -6367,7 +6404,7 @@ in~\ref{ostream.formatted.reqmts}).
 \returns
 \tcode{pf(*this)}.\footnote{See, for example, the function signature
 \indexlibrary{\idxcode{endl}}%
-\tcode{endl(basic_ostream\&)}\iref{ostream.manip}.}
+\liblinkx{\tcode{endl(basic_ostream\&)}}{endl}{ostream.manip}.}
 \end{itemdescr}
 
 \indexlibrarymember{operator<<}{basic_ostream}%
@@ -6388,7 +6425,7 @@ behave as a formatted output function (as described in~\ref{ostream.formatted.re
 \returns
 \tcode{*this}.\footnote{See, for example, the function signature
 \indexlibrary{\idxcode{dec}}%
-\tcode{dec(ios_base\&)}\iref{basefield.manip}.}
+\liblinkx{\tcode{dec(ios_base\&)}}{dec}{basefield.manip}.}
 \end{itemdescr}
 
 \indexlibrarymember{operator<<}{basic_ostream}%
@@ -6417,7 +6454,7 @@ basic_ostream<charT, traits>& operator<<(basic_streambuf<charT, traits>* sb);
 \begin{itemdescr}
 \pnum
 \effects
-Behaves as an unformatted output function\iref{ostream.unformatted}.
+Behaves as an \link{unformatted output function}{ostream.unformatted}.
 After the sentry object is
 constructed, if
 \tcode{sb} is null calls
@@ -6474,7 +6511,7 @@ return *this << s;
 \end{codeblock}
 where \tcode{s} is an
 \impldef{NTCTS in \tcode{basic_ostream<charT, traits>\& op\-er\-ator<<(nullptr_t)}}
-NTCTS\iref{defns.ntcts}.
+\link{NTCTS}{defns.ntcts}.
 \end{itemdescr}
 
 \rSec4[ostream.inserters.character]{Character inserter function templates}
@@ -6498,7 +6535,7 @@ template<class traits>
 \begin{itemdescr}
 \pnum
 \effects
-Behaves as a formatted output function\iref{ostream.formatted.reqmts}
+Behaves as a \link{formatted output function}{ostream.formatted.reqmts}
 of \tcode{out}. Constructs a character sequence \tcode{seq}.
 If \tcode{c} has type
 \tcode{char}
@@ -6695,11 +6732,12 @@ Each instantiation of any of the function templates
 specified in this subclause
 is a designated addressable function\iref{namespace.std}.
 
-\indexlibrary{\idxcode{endl}}%
+\begin{indexed}{\indexlibrary{\idxcode{endl}}}
 \begin{itemdecl}
 template<class charT, class traits>
   basic_ostream<charT, traits>& endl(basic_ostream<charT, traits>& os);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -7118,7 +7156,7 @@ specialization of the \tcode{basic_string} template\iref{strings}.
 
 \pnum
 \effects The expression \tcode{in >> get_money(mon, intl)} described below
-behaves as a formatted input function\iref{istream.formatted.reqmts}.
+behaves as a \link{formatted input function}{istream.formatted.reqmts}.
 
 \pnum
 \returns An object of unspecified type such that if
@@ -7160,7 +7198,7 @@ specialization of the \tcode{basic_string} template\iref{strings}.
 \returns An object of unspecified type such that if
 \tcode{out} is an object of type \tcode{basic_ostream<charT, traits>}
 then the expression \tcode{out << put_money(mon, intl)} behaves as a
-formatted output function\iref{ostream.formatted.reqmts} that calls
+\link{formatted output function}{ostream.formatted.reqmts} that calls
 \tcode{f(out, mon, intl)}, where the function \tcode{f} is defined as:
 
 \begin{codeblock}
@@ -7280,7 +7318,7 @@ of \tcode{basic_ostream} with member type \tcode{char_type} the same as
 \tcode{charT} and with member type \tcode{traits_type}, which in the second and third
 forms is the same as \tcode{traits}, then the expression
 \tcode{out << quoted(s, delim, escape)}
-behaves as a formatted output function\iref{ostream.formatted.reqmts}
+behaves as a \link{formatted output function}{ostream.formatted.reqmts}
 of \tcode{out}. This forms a character sequence \tcode{seq}, initially
 consisting of the following elements:
 \begin{itemize}
@@ -9566,7 +9604,7 @@ and
 \indexlibrary{\idxcode{fseek}}%
 are declared, in
 \indexhdr{cstdio}%
-\tcode{<cstdio>}\iref{cstdio.syn}.}
+\link{\tcode{<cstdio>}}{cstdio.syn}.}
 
 \pnum
 If the repositioning operation fails, calls
@@ -12346,7 +12384,7 @@ denotes a possibly \tcode{const} encoded character type\iref{temp.deduct}.
 
 \pnum
 \begin{note}
-See path conversions\iref{fs.path.cvt}
+See \link{path conversions}{fs.path.cvt}
 for how the value types above and their encodings convert to
 \tcode{path::value_type} and its encoding.
 \end{note}
@@ -12917,7 +12955,7 @@ by \ref{fs.path.cvt}.
 
 \pnum
 Generic format observer functions return strings formatted according to the
-generic pathname format\iref{fs.path.generic}.
+\link{generic pathname format}{fs.path.generic}.
 A single slash (\tcode{'/'}) character is used as
 the \grammarterm{directory-separator}.
 
@@ -13404,11 +13442,11 @@ path lexically_proximate(const path& base) const;
 \indexlibrary{\idxcode{path}!\idxcode{iterator}}%
 \pnum
 Path iterators iterate over the elements of the pathname
-in the generic format\iref{fs.path.generic}.
+in the \link{generic format}{fs.path.generic}.
 
 \pnum
 A \tcode{path::iterator} is a constant iterator meeting all the
-requirements of a bidirectional iterator\iref{bidirectional.iterators}
+requirements of a \link{bidirectional iterator}{bidirectional.iterators}
 except that,
 for dereferenceable iterators \tcode{a} and \tcode{b}
 of type \tcode{path::iterator}
@@ -14563,7 +14601,7 @@ If a file  is removed from or added to a directory after the
 construction of a \tcode{directory_iterator} for the directory, it is
 unspecified whether or not subsequently incrementing the iterator will ever
 result in an iterator referencing the removed or added directory entry. See
-POSIX \tcode{readdir_r}.
+POSIX \weblink{\tcode{readdir_r}}{http://pubs.opengroup.org/onlinepubs/9699919799/functions/readdir.html}.
 \end{note}
 
 \rSec3[fs.dir.itr.members]{Members}
@@ -14649,7 +14687,7 @@ directory_iterator& increment(error_code& ec);
 
 \pnum
 \effects As specified for the prefix increment operation of
-Input iterators\iref{input.iterators}.
+\link{Input iterators}{input.iterators}.
 
 \pnum
 \returns \tcode{*this}.
@@ -14936,7 +14974,7 @@ recursive_directory_iterator& increment(error_code& ec);
 \begin{itemdescr}
 \pnum
 \effects As specified for the prefix increment operation of
-Input iterators\iref{input.iterators},
+\link{Input iterators}{input.iterators},
 except that:
 
 \begin{itemize}
@@ -15482,7 +15520,7 @@ void create_directory_symlink(const path& to, const path& new_symlink,
 
 \begin{itemdescr}
 \pnum
-\effects Establishes the postcondition, as if by POSIX \tcode{symlink()}.
+\effects Establishes the postcondition, as if by POSIX \weblink{\tcode{symlink()}}{http://pubs.opengroup.org/onlinepubs/9699919799/functions/symlink.html}.
 
 \pnum
 \ensures \tcode{new_symlink} resolves to a symbolic link file that
@@ -15545,7 +15583,7 @@ void create_symlink(const path& to, const path& new_symlink,
 
 \begin{itemdescr}
 \pnum
-\effects Establishes the postcondition, as if by POSIX \tcode{symlink()}.
+\effects Establishes the postcondition, as if by POSIX \weblink{\tcode{symlink()}}{http://pubs.opengroup.org/onlinepubs/9699919799/functions/symlink.html}.
 
 \pnum
 \ensures \tcode{new_symlink} resolves to a symbolic link file that
@@ -15573,7 +15611,7 @@ path current_path(error_code& ec);
 \pnum
 \returns The absolute path of the current working directory,
   whose pathname in the native format is
-  obtained as if by POSIX \tcode{getcwd()}.
+  obtained as if by POSIX \weblink{\tcode{getcwd()}}{http://pubs.opengroup.org/onlinepubs/9699919799/functions/getcwd.html}.
   The signature with argument \tcode{ec} returns \tcode{path()} if an
   error occurs.
 
@@ -15603,7 +15641,7 @@ void current_path(const path& p, error_code& ec) noexcept;
 
 \begin{itemdescr}
 \pnum
-\effects Establishes the postcondition, as if by POSIX \tcode{chdir()}.
+\effects Establishes the postcondition, as if by POSIX \weblink{\tcode{chdir()}}{http://pubs.opengroup.org/onlinepubs/9699919799/functions/chdir.html}.
 
 \pnum
 \ensures \tcode{equivalent(p, current_path())}.
@@ -15703,7 +15741,7 @@ If \tcode{exists(p)} is \tcode{false}, an error is reported\iref{fs.err.report}.
 \item
   If \tcode{is_regular_file(p)}, the size in bytes of the file
   \tcode{p} resolves to, determined as if by the value of the POSIX \tcode{stat}
-  class member \tcode{st_size} obtained as if by POSIX \tcode{stat()}.
+  class member \tcode{st_size} obtained as if by POSIX \weblink{\tcode{stat()}}{http://pubs.opengroup.org/onlinepubs/9699919799/functions/stat.html}.
 \item
   Otherwise, the result is \impldef{result of \tcode{filesystem::file_size}}.
 \end{itemize}
@@ -16050,7 +16088,7 @@ void last_write_time(const path& p, file_time_type new_time,
 \begin{itemdescr}
 \pnum
 \effects Sets the time of last data modification of the file
-  resolved to by \tcode{p} to \tcode{new_time}, as if by POSIX \tcode{futimens()}.
+  resolved to by \tcode{p} to \tcode{new_time}, as if by POSIX \weblink{\tcode{futimens()}}{http://pubs.opengroup.org/onlinepubs/9699919799/functions/futimens.html}.
 
 \pnum
 \throws As specified in~\ref{fs.err.report}.
@@ -16860,8 +16898,8 @@ with the following changes:
 The header \tcode{<cinttypes>} includes the header \tcode{<cstdint>} instead
 of \tcode{<stdint.h>}, and
 \item
-if and only if the type \tcode{intmax_t} designates an extended integer
-type\iref{basic.fundamental}, the following function signatures are added:
+if and only if the type \tcode{intmax_t} designates an
+\deflink{extended integer type}{basic.fundamental}, the following function signatures are added:
 \begin{codeblock}
 intmax_t abs(intmax_t);
 imaxdiv_t div(intmax_t, intmax_t);
diff --git a/source/iterators.tex b/source/iterators.tex
index 55e0baad..c4771572 100644
--- a/source/iterators.tex
+++ b/source/iterators.tex
@@ -5895,10 +5895,11 @@ Initializes \tcode{out_stream} with \tcode{addressof(s)} and
 
 \rSec3[ostream.iterator.ops]{Operations}
 
-\indexlibrarymember{operator=}{ostream_iterator}%
+\begin{indexed}{\indexlibrarymember{operator=}{ostream_iterator}}
 \begin{itemdecl}
 ostream_iterator& operator=(const T& value);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5941,7 +5942,7 @@ ostream_iterator& operator++(int);
 The
 class template
 \tcode{istreambuf_iterator}
-defines an input iterator\iref{input.iterators} that
+defines an \link{input iterator}{input.iterators} that
 reads successive
 \textit{characters}
 from the streambuf for which it was constructed.
@@ -6053,11 +6054,12 @@ an end-of-stream iterator is constructed if and only if
 the exposition-only member \tcode{sbuf_} is initialized with a null pointer value.
 
 
-\indexlibrary{\idxcode{istreambuf_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{istreambuf_iterator}!constructor}}
 \begin{itemdecl}
 constexpr istreambuf_iterator() noexcept;
 constexpr istreambuf_iterator(default_sentinel_t) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6065,11 +6067,11 @@ constexpr istreambuf_iterator(default_sentinel_t) noexcept;
 Initializes \tcode{sbuf_} with \tcode{nullptr}.
 \end{itemdescr}
 
-
-\indexlibrary{\idxcode{istreambuf_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{istreambuf_iterator}!constructor}}
 \begin{itemdecl}
 istreambuf_iterator(istream_type& s) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6077,11 +6079,11 @@ istreambuf_iterator(istream_type& s) noexcept;
 Initializes \tcode{sbuf_} with \tcode{s.rdbuf()}.
 \end{itemdescr}
 
-
-\indexlibrary{\idxcode{istreambuf_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{istreambuf_iterator}!constructor}}
 \begin{itemdecl}
 istreambuf_iterator(streambuf_type* s) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6089,11 +6091,11 @@ istreambuf_iterator(streambuf_type* s) noexcept;
 Initializes \tcode{sbuf_} with \tcode{s}.
 \end{itemdescr}
 
-
-\indexlibrary{\idxcode{istreambuf_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{istreambuf_iterator}!constructor}}
 \begin{itemdecl}
 istreambuf_iterator(const @\placeholder{proxy}@& p) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6222,10 +6224,11 @@ namespace std {
 
 \rSec3[ostreambuf.iter.cons]{Constructors}
 
-\indexlibrary{\idxcode{ostreambuf_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{ostreambuf_iterator}!constructor}}
 \begin{itemdecl}
 ostreambuf_iterator(ostream_type& s) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6238,11 +6241,11 @@ is not a null pointer.
 Initializes \tcode{sbuf_} with \tcode{s.rdbuf()}.
 \end{itemdescr}
 
-
-\indexlibrary{\idxcode{ostreambuf_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{ostreambuf_iterator}!constructor}}
 \begin{itemdecl}
 ostreambuf_iterator(streambuf_type* s) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6510,10 +6513,11 @@ template<class T, size_t N> [[nodiscard]] constexpr bool empty(const T (&array)[
 \pnum \returns \tcode{false}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{empty(initializer_list<E>)}}%
+\begin{indexed}{\indexlibrary{\idxcode{empty(initializer_list<E>)}}}
 \begin{itemdecl}
 template<class E> [[nodiscard]] constexpr bool empty(initializer_list<E> il) noexcept;
 \end{itemdecl}
+\end{indexed}
 \begin{itemdescr}
 \pnum \returns \tcode{il.size() == 0}.
 \end{itemdescr}
diff --git a/source/lex.tex b/source/lex.tex
index a69be8a0..b90a6d0d 100644
--- a/source/lex.tex
+++ b/source/lex.tex
@@ -30,10 +30,10 @@
 \indextext{compilation!separate|(}%
 The text of the program is kept in units called
 \defnx{source files}{source file} in this document.
-A source file together with all the headers\iref{headers}
-and source files included\iref{cpp.include} via the preprocessing
+A source file together with all the \link{headers}{headers}
+and source files \link{included}{cpp.include} via the preprocessing
 directive \tcode{\#include}, less any source lines skipped by any of the
-conditional inclusion\iref{cpp.cond} preprocessing directives, is
+\link{conditional inclusion}{cpp.cond} preprocessing directives, is
 called a \defn{translation unit}.
 \begin{note} A \Cpp{} program need not all be translated at the same time.
 \end{note}
@@ -46,8 +46,8 @@ example)
 calls to functions whose identifiers have external or module linkage,
 manipulation of objects whose identifiers have external or module linkage, or
 manipulation of data files. Translation units can be separately
-translated and then later linked to produce an executable
-program\iref{basic.link}. \end{note}%
+translated and then later \link{linked}{basic.link} to produce an executable
+program. \end{note}%
 \indextext{compilation!separate|)}
 
 \rSec1[lex.phases]{Phases of translation}%
@@ -69,8 +69,8 @@ indicators) if necessary.
 The set of physical source file characters accepted is \impldef{physical source file
 characters}.
 Any
-source file character not in the basic source character
-set\iref{lex.charset} is replaced by the
+source file character not in the
+\deflink{basic source character set}{lex.charset} is replaced by the
 \indextext{universal character name}\grammarterm{universal-character-name} that
 designates that character. An implementation may use any internal
 encoding, so long as an actual extended character encountered in the
@@ -94,8 +94,8 @@ backslash character before any such splicing takes place,
 shall be processed as if an additional new-line character were appended
 to the file.
 
-\item The source file is decomposed into preprocessing
-tokens\iref{lex.pptoken} and sequences of white-space characters
+\item The source file is decomposed into \link{preprocessing
+tokens}{lex.pptoken} and sequences of white-space characters
 (including comments). A source file shall not end in a partial
 preprocessing token or in a partial comment.\footnote{A partial preprocessing
 token would arise from a source file
@@ -118,8 +118,8 @@ directive.
 \item Preprocessing directives are executed, macro invocations are
 expanded, and \tcode{_Pragma} unary operator expressions are executed.
 If a character sequence that matches the syntax of a
-\grammarterm{universal-character-name} is produced by token
-concatenation\iref{cpp.concat}, the behavior is undefined. A
+\grammarterm{universal-character-name} is produced by \link{token
+concatenation}{cpp.concat}, the behavior is undefined. A
 \tcode{\#include} preprocessing directive causes the named header or
 source file to be processed from phase 1 through phase 4, recursively.
 All preprocessing directives are then deleted.
@@ -137,7 +137,7 @@ non-corresponding source characters to the same execution character.}
 
 \item White-space characters separating tokens are no longer
 significant. Each preprocessing token is converted into a
-token\iref{lex.token}. The resulting tokens are syntactically and
+\link{token}{lex.token}. The resulting tokens are syntactically and
 semantically analyzed and translated as a translation unit. \begin{note}
 The process of analyzing and translating the tokens may occasionally
 result in one token being replaced by a sequence of other
@@ -162,8 +162,8 @@ only, and does not specify any particular implementation. \end{note}
 as follows: \begin{note} Some or all of these may be supplied from a
 library. \end{note} Each translated translation unit is examined to
 produce a list of required instantiations. \begin{note} This may include
-instantiations which have been explicitly
-requested\iref{temp.explicit}. \end{note} The definitions of the
+instantiations which have been \link{explicitly
+requested}{temp.explicit}. \end{note} The definitions of the
 required templates are located. It is \impldef{whether source of translation units must
 be available to locate template definitions} whether the
 source of the translation units containing these definitions is required
@@ -286,7 +286,7 @@ are locale-specific.%
 \end{bnf}
 
 \pnum
-Each preprocessing token that is converted to a token\iref{lex.token}
+Each preprocessing token that is converted to a \link{token}{lex.token}
 shall have the lexical form of a keyword, an identifier, a literal, an
 operator, or a punctuator.
 
@@ -302,7 +302,7 @@ separated by
 \indextext{space!white}%
 white space;
 \indextext{comment}%
-this consists of comments\iref{lex.comment}, or white-space
+this consists of \link{comments}{lex.comment}, or white-space
 characters (space, horizontal tab, new-line, vertical tab, and
 form-feed), or both. As described in \ref{cpp}, in certain
 circumstances during translation phase 4, white space (or the absence
@@ -394,7 +394,7 @@ keywords are colloquially known as ``digraphs''. }
 
 \pnum
 In all respects of the language, each alternative token behaves the
-same, respectively, as its primary token, except for its spelling.\footnote{Thus the ``stringized'' values\iref{cpp.stringize} of
+same, respectively, as its primary token, except for its spelling.\footnote{Thus the \link{``stringized''}{cpp.stringize} values of
 \tcode{[} and \tcode{<:} will be different, maintaining the source
 spelling, but the tokens can otherwise be freely interchanged. }
 The set of alternative tokens is defined in
@@ -541,9 +541,9 @@ depending on the implementation.}%
 \end{bnf}
 
 \pnum
-Preprocessing number tokens lexically include all integer literal
-tokens\iref{lex.icon} and all floating literal
-tokens\iref{lex.fcon}.
+Preprocessing number tokens lexically include all \link{integer literal}{lex.icon}
+tokens and all \link{floating literal}{lex.fcon}
+tokens.
 
 \pnum
 A preprocessing number does not have a type or a value; it acquires both
@@ -850,7 +850,7 @@ are converted into tokens for operators and punctuators:
 \end{bnf}
 
 Each \grammarterm{preprocessing-op-or-punc} is converted to a single token
-in translation phase 7\iref{lex.phases}.%
+in \link{translation phase 7}{lex.phases}.%
 \indextext{punctuator|)}%
 \indextext{operator|)}
 
@@ -1080,7 +1080,7 @@ and \tcode{ll} or \tcode{LL}  &
 
 \pnum
 If an integer literal cannot be represented by any type in its list and
-an extended integer type\iref{basic.fundamental} can represent its value, it may have that
+an \deflink{extended integer type}{basic.fundamental} can represent its value, it may have that
 extended integer type. If all of the types in the list for the integer literal
 are signed, the extended integer type shall be signed. If all of the
 types in the list for the integer literal are unsigned, the extended integer
@@ -1651,7 +1651,7 @@ is initialized with the given characters.
 
 \pnum
 \indextext{concatenation!string}%
-In translation phase 6\iref{lex.phases}, adjacent \grammarterm{string-literal}{s} are concatenated. If
+In \link{translation phase 6}{lex.phases}, adjacent \grammarterm{string-literal}{s} are concatenated. If
 both \grammarterm{string-literal}{s} have the same \grammarterm{encoding-prefix}, the resulting concatenated string literal has
 that \grammarterm{encoding-prefix}. If one \grammarterm{string-literal} has no \grammarterm{encoding-prefix}, it is treated as a \grammarterm{string-literal} of
 the same \grammarterm{encoding-prefix} as the other operand. If a UTF-8 string literal token is adjacent to a
@@ -1702,13 +1702,13 @@ after concatenation (and not the single hexadecimal character
 \indextext{\idxcode{0}|seealso{zero, null}}%
 \indextext{\idxcode{0}!string terminator}%
 \indextext{\idxcode{0}!null character|see {character, null}}%
-After any necessary concatenation, in translation phase
-7\iref{lex.phases}, \tcode{'\textbackslash 0'} is appended to every
+After any necessary concatenation, in \link{translation phase
+7}{lex.phases}, \tcode{'\textbackslash 0'} is appended to every
 string literal so that programs that scan a string can find its end.
 
 \pnum
 Escape sequences and \grammarterm{universal-character-name}{s} in non-raw string literals
-have the same meaning as in character literals\iref{lex.ccon}, except that
+have the same meaning as in \link{character literals}{lex.ccon}, except that
 the single quote \tcode{'} is representable either by itself or by the escape sequence
 \tcode{\textbackslash'}, and the double quote \tcode{"} shall be preceded by a
 \tcode{\textbackslash},
@@ -1830,12 +1830,12 @@ The syntactic non-terminal preceding the \grammarterm{ud-suffix} in a
 characters that could match that non-terminal.
 
 \pnum
-A \grammarterm{user-defined-literal} is treated as a call to a literal operator or
-literal operator template\iref{over.literal}. To determine the form of this call for a
+A \grammarterm{user-defined-literal} is treated as a call to a \deflink{literal operator}{over.literal} or
+\deflink{literal operator template}{over.literal}. To determine the form of this call for a
 given \grammarterm{user-defined-literal} \placeholder{L} with \grammarterm{ud-suffix} \placeholder{X},
 the \grammarterm{literal-operator-id} whose literal suffix identifier is \placeholder{X} is
-looked up in the context of \placeholder{L} using the rules for unqualified name
-lookup\iref{basic.lookup.unqual}. Let \placeholder{S} be the set of declarations found by
+looked up in the context of \placeholder{L} using the rules for \link{unqualified name
+lookup}{basic.lookup.unqual}. Let \placeholder{S} be the set of declarations found by
 this lookup. \placeholder{S} shall not be empty.
 
 \pnum
@@ -1921,7 +1921,7 @@ operator "" @\placeholder{X}@(@\placeholder{str}{}@, @\placeholder{len}{}@)
 \pnum
 If \placeholder{L} is a \grammarterm{user-defined-character-literal}, let \placeholder{ch} be the
 literal without its \grammarterm{ud-suffix}.
-\placeholder{S} shall contain a literal operator\iref{over.literal} whose only parameter has
+\placeholder{S} shall contain a \deflink{literal operator}{over.literal} whose only parameter has
 the type of \placeholder{ch} and the
 literal \placeholder{L} is treated as a call
 of the form
@@ -1948,7 +1948,7 @@ int main() {
 \end{example}
 
 \pnum
-In translation phase 6\iref{lex.phases}, adjacent string literals are concatenated and
+In \link{translation phase 6}{lex.phases}, adjacent string literals are concatenated and
 \grammarterm{user-defined-string-literal}{s} are considered string literals for that
 purpose. During concatenation, \grammarterm{ud-suffix}{es} are removed and ignored and
 the concatenation process occurs as described in~\ref{lex.string}. At the end of phase
diff --git a/source/lib-intro.tex b/source/lib-intro.tex
index 5737f15c..0ba9a5c7 100644
--- a/source/lib-intro.tex
+++ b/source/lib-intro.tex
@@ -10,8 +10,8 @@ how a well-formed \Cpp{} program makes use of the library, and
 how a conforming implementation may provide the entities in the library.
 
 \pnum
-The following subclauses describe the definitions\iref{definitions}, method of
-description\iref{description}, and organization\iref{organization} of the
+The following subclauses describe the \link{definitions}{definitions}, method of
+\link{description}{description}, and \link{organization}{organization} of the
 library. \ref{requirements}, \ref{\firstlibchapter}
 through \ref{\lastlibchapter}, and \ref{depr} specify the contents of the
 library, as well as library requirements and constraints on both well-formed
@@ -45,9 +45,9 @@ Detailed specifications for each of the components in the library are in
 \end{floattable}
 
 \pnum
-The language support library\iref{language.support} provides components that are
+The \link{language support library}{language.support} provides components that are
 required by certain parts of the \Cpp{} language, such as memory allocation~(\ref{expr.new},
-\ref{expr.delete}) and exception processing\iref{except}.
+\ref{expr.delete}) and \link{exception processing}{except}.
 
 \pnum
 The concepts library\iref{concepts} describes library components that \Cpp{}
@@ -59,9 +59,9 @@ The diagnostics library\iref{diagnostics} provides a consistent framework for
 reporting errors in a \Cpp{} program, including predefined exception classes.
 
 \pnum
-The general utilities library\iref{utilities} includes components used
-by other library elements, such as a predefined storage allocator for dynamic
-storage management\iref{basic.stc.dynamic}, and components used
+The \link{general utilities library}{utilities} includes components used
+by other library elements, such as a predefined storage allocator for \link{dynamic
+storage management}{basic.stc.dynamic}, and components used
 as infrastructure
 in \Cpp{} programs,
 such as tuples, function wrappers, and time facilities.
@@ -76,7 +76,7 @@ sequences of type \tcode{wchar_t},
 and sequences of any other character-like type.
 
 \pnum
-The localization library\iref{localization} provides extended internationalization
+The \link{localization library}{localization} provides extended internationalization
 support for text processing.
 
 \pnum
@@ -85,7 +85,7 @@ and algorithms\iref{algorithms} libraries provide a \Cpp{} program with access
 to a subset of the most widely used algorithms and data structures.
 
 \pnum
-The numerics library\iref{numerics} provides
+The \link{numerics library}{numerics} provides
 numeric algorithms and complex number components that extend support for numeric processing.
 The
 \tcode{valarray}
@@ -96,21 +96,21 @@ potentially implemented as parallel operations on platforms that support such pr
 The random number component provides facilities for generating pseudo-random numbers.
 
 \pnum
-The input/output library\iref{input.output} provides the
+The \link{input/output library}{input.output} provides the
 \tcode{iostream}
 components that are the primary mechanism for \Cpp{} program input and output.
 They can be used with other elements of the library, particularly
 strings, locales, and iterators.
 
 \pnum
-The regular expressions library\iref{re} provides regular expression matching and searching.
+The \link{regular expressions library}{re} provides regular expression matching and searching.
 
 \pnum
-The atomic operations library\iref{atomics} allows more fine-grained
+The \link{atomic operations library}{atomics} allows more fine-grained
 concurrent access to shared data than is possible with locks.
 
 \pnum
-The thread support library\iref{thread} provides components to create
+The \link{thread support library}{thread} provides components to create
 and manage threads, including mutual exclusion and interthread communication.
 
 \rSec1[library.c]{The C standard library}
@@ -180,8 +180,8 @@ iostream, and regular expression class templates.
 
 \definition{comparison function}{defns.comparison}
 \indexdefn{function!comparison}%
-operator function\iref{over.oper} for any of the equality\iref{expr.eq} or
-relational\iref{expr.rel} operators
+\deflink{operator function}{over.oper} for any of the \link{equality}{expr.eq} or
+\link{relational}{expr.rel} operators
 
 \definition{component}{defns.component}
 \indexdefn{component}%
@@ -203,7 +203,7 @@ strings are referred to as the
 expression whose evaluation as subexpression of a
 \grammarterm{conditional-expression}
 \tcode{CE}\iref{expr.cond} would not prevent \tcode{CE}
-from being a core constant expression\iref{expr.const}
+from being a \deflinkx{core constant expression}{expression!core constant}{expr.const}
 
 \definition{deadlock}{defns.deadlock}
 \indexdefn{deadlock}%
@@ -225,8 +225,8 @@ semantics
 
 \definition{direct-non-list-initialization}{defns.direct-non-list-init}
 \indexdefn{direct-non-list-initialization}%
-direct-initialization\iref{dcl.init}
-that is not list-initialization\iref{dcl.init.list}
+\deflink{direct-initialization}{dcl.init}
+that is not \deflink{list-initialization}{dcl.init.list}
 
 \definition{expression-equivalent}{defns.expression-equivalent}
 \indexdefn{expression-equivalent}%
@@ -282,7 +282,7 @@ necessary to implement the iostream class templates.
 
 \definition{modifier function}{defns.modifier}
 \indexdefn{function!modifier}%
-class member function\iref{class.mfct} other than a constructor,
+\link{class member function}{class.mfct} other than a constructor,
 assignment operator, or destructor
 that alters the state of an object of the class
 
@@ -305,7 +305,7 @@ value
 
 \definition{observer function}{defns.observer}
 \indexdefn{function!observer}%
-class member function\iref{class.mfct} that accesses the state of an object of the class
+\link{class member function}{class.mfct} that accesses the state of an object of the class
 but does not alter that state
 
 \begin{defnote}
@@ -695,8 +695,8 @@ of other standards\iref{intro.refs}.
 This subclause describes several editorial conventions used to describe the contents
 of the \Cpp{} standard library.
 These conventions are for describing
-implementation-defined types\iref{type.descriptions},
-and member functions\iref{functions.within.classes}.
+\link{implementation-defined types}{type.descriptions},
+and \link{member functions}{functions.within.classes}.
 
 \rSec3[expos.only.func]{Exposition-only functions}
 
@@ -814,7 +814,7 @@ and \ref{depr} are
 Each bitmask type can be implemented as an
 enumerated type that overloads certain operators, as an integer type,
 or as a
-\tcode{bitset}\iref{template.bitset}.
+\link{\tcode{bitset}}{template.bitset}.
 \indextext{type!enumerated}%
 
 \pnum
@@ -919,7 +919,7 @@ also its value in the \tcode{"C"}
 locale, but may change during program
 execution by a call to
 \tcode{setlocale(int, const char*)},\footnote{declared in
-\tcode{<clocale>}\iref{c.locales}.
+\link{\tcode{<clocale>}}{c.locales}.
 \indextext{\idxcode{setlocale}}%
 \indexlibrary{\idxcode{setlocale}}%
 \indexhdr{clocale}%
@@ -930,7 +930,7 @@ object, as described in \ref{locales} and \ref{input.output}.
 \item
 A
 \defn{character sequence}
-is an array object\iref{dcl.array} \tcode{\placeholdernc{A}} that
+is an \link{array object}{dcl.array} \tcode{\placeholdernc{A}} that
 can be declared as
 \tcode{\placeholdernc{T\;A}[\placeholder{N}]},
 where \tcode{\placeholder{T}} is any of the types
@@ -961,7 +961,7 @@ no other element in the sequence has the value zero.%
 \indexhdr{cstring}%
 \footnote{Many of the objects manipulated by
 function signatures declared in
-\tcode{<cstring>}\iref{c.strings} are character sequences or \ntbs{}s.
+\link{\tcode{<cstring>}}{c.strings} are character sequences or \ntbs{}s.
 \indexhdr{cstring}%
 The size of some of these character sequences is limited by
 a length value, maintained separately from the character sequence.}
@@ -1064,7 +1064,7 @@ signatures, or for virtual destructors that can be generated by default.
 \pnum
 \ref{\firstlibchapter} through \ref{\lastlibchapter} and
 \ref{depr} do not specify the representation of classes, and intentionally
-omit specification of class members\iref{class.mem}. An implementation may
+omit specification of \link{class members}{class.mem}. An implementation may
 define static or non-static class members, or both, as needed to implement the
 semantics of the member functions specified in \ref{\firstlibchapter}
 through \ref{\lastlibchapter} and \ref{depr}.
@@ -1304,10 +1304,10 @@ std::vector<int> vi;           // OK
 Except as noted in \ref{library} through \ref{\lastlibchapter}
 and \ref{depr}, the contents of each header \tcode{c\placeholder{name}} is
 the same as that of the corresponding header \tcode{\placeholder{name}.h} as
-specified in the C standard library\iref{intro.refs}.
+specified in the \deflinkx{C standard library}{C!standard library}{intro.refs}.
 In the \Cpp{} standard library, however, the
 declarations (except for names which are defined as macros in C) are within
-namespace scope\iref{basic.scope.namespace} of the namespace \tcode{std}.
+\link{namespace scope}{basic.scope.namespace} of the namespace \tcode{std}.
 It is unspecified whether these names (including any overloads added in
 \ref{\firstlibchapter} through \ref{\lastlibchapter} and \ref{depr})
 are first declared within the global namespace scope
@@ -1516,8 +1516,8 @@ shall meet the same requirements as for a hosted implementation.
 \pnum
 Subclause \ref{using} describes how a \Cpp{} program gains access to the facilities of the
 \Cpp{} standard library. \ref{using.headers} describes effects during translation
-phase 4, while~\ref{using.linkage} describes effects during phase
-8\iref{lex.phases}.
+phase 4, while~\ref{using.linkage} describes effects during \link{phase
+8}{lex.phases}.
 
 \rSec3[using.headers]{Headers}
 
@@ -1562,7 +1562,7 @@ declared in that header. No diagnostic is required.
 \rSec3[using.linkage]{Linkage}
 
 \pnum
-Entities in the \Cpp{} standard library have external linkage\iref{basic.link}.
+Entities in the \Cpp{} standard library have \link{external linkage}{basic.link}.
 Unless otherwise specified, objects and functions have the default
 \tcode{extern "C++"}
 linkage\iref{dcl.link}.
@@ -1594,8 +1594,8 @@ the program prior to program startup.
 \indextext{startup!program}%
 \pnum
 See also
-replacement functions\iref{replacement.functions},
-runtime changes\iref{handler.functions}.
+\link{replacement functions}{replacement.functions},
+\link{runtime changes}{handler.functions}.
 
 \rSec2[utility.requirements]{Requirements on types and expressions}
 
@@ -1632,7 +1632,7 @@ type \tcode{const T}.
 In general, a default constructor is not required. Certain container class
 member function signatures specify \tcode{T()} as a default argument.
 \tcode{T()} shall be a well-defined expression\iref{dcl.init} if one of those
-signatures is called using the default argument\iref{dcl.fct.default}.
+signatures is called using the \link{default argument}{dcl.fct.default}.
 
 \indextext{requirements!\idxoldconcept{EqualityComparable}}%
 \begin{concepttable}{\oldconcept{EqualityComparable} requirements}{cpp17.equalitycomparable}
@@ -1660,7 +1660,7 @@ If \tcode{a == b} and \tcode{b == c}, then \tcode{a == c}.
 \hdstyle{Expression}  &   \hdstyle{Return type} &   \hdstyle{Requirement} \\ \capsep
 \tcode{a < b}   &
 convertible to \tcode{bool} &
-\tcode{<} is a strict weak ordering relation\iref{alg.sorting}    \\
+\tcode{<} is a \link{strict weak ordering relation}{alg.sorting}    \\
 \end{concepttable}
 
 \enlargethispage{-3\baselineskip}
@@ -1761,14 +1761,14 @@ evaluated in the context described below, and
 
 \pnum
 The context in which \tcode{swap(t, u)} and \tcode{swap(u, t)} are evaluated shall
-ensure that a binary non-member function named ``swap'' is selected via overload
-resolution\iref{over.match} on a candidate set that includes:
+ensure that a binary non-member function named ``swap'' is selected via \link{overload
+resolution}{over.match} on a candidate set that includes:
 
 \begin{itemize}
 \item the two \tcode{swap} function templates defined in
-\tcode{<utility>}\iref{utility} and
+\link{\tcode{<utility>}}{utility} and
 
-\item the lookup set produced by argument-dependent lookup\iref{basic.lookup.argdep}.
+\item the lookup set produced by \link{argument-dependent lookup}{basic.lookup.argdep}.
 \end{itemize}
 
 \begin{note} If \tcode{T} and \tcode{U} are both fundamental types or arrays of
@@ -1847,7 +1847,7 @@ A type \tcode{P} meets the \oldconcept{\-Nullable\-Pointer} requirements if:
 \oldconcept{DefaultConstructible}, \oldconcept{CopyConstructible}, \oldconcept{\-Copy\-Assign\-able},
 and \oldconcept{Destructible} requirements,
 
-\item lvalues of type \tcode{P} are swappable\iref{swappable.requirements},
+\item lvalues of type \tcode{P} are \link{swappable}{swappable.requirements},
 
 \item the expressions shown in \tref{cpp17.nullablepointer} are
 valid and have the indicated semantics, and
@@ -1862,8 +1862,9 @@ of type \tcode{P} may have an indeterminate value. \begin{note} Operations invol
 indeterminate values may cause undefined behavior. \end{note}
 
 \pnum
-An object \tcode{p} of type \tcode{P} can be contextually converted to
-\tcode{bool}\iref{conv}. The effect shall be as if \tcode{p != nullptr}
+An object \tcode{p} of type \tcode{P} can be
+\deflinkx{contextually converted to \tcode{bool}}{conversion!contextual to bool}{conv}.
+The effect shall be as if \tcode{p != nullptr}
 had been evaluated in place of \tcode{p}.
 
 \pnum
@@ -1961,14 +1962,14 @@ which are class-type objects that encapsulate the information about an allocatio
 This information includes the knowledge of pointer types, the type of their
 difference, the type of the size of objects in this allocation model, as well
 as the memory allocation and deallocation primitives for it. All of the
-string types\iref{strings},
-containers\iref{containers} (except \tcode{array}),
+\link{string types}{strings},
+\link{containers}{containers} (except \tcode{array}),
 string buffers and string streams\iref{input.output}, and
-\tcode{match_results}\iref{re} are parameterized in terms of
+\link{\tcode{match_results}}{re} are parameterized in terms of
 allocators.
 
 \pnum
-The class template \tcode{allocator_traits}\iref{allocator.traits} supplies
+The class template \link{\tcode{allocator_traits}}{allocator.traits} supplies
 a uniform interface to all allocator types.
 \tref{allocator.req.var} describes the types manipulated
 through allocators. \tref{cpp17.allocator}
@@ -2243,7 +2244,7 @@ If \tcode{X::propagate_on_container_move_assignment::value} is \tcode{true},
 \oldconcept{\-Move\-Assign\-able} requirements (\tref{cpp17.moveassignable})
 and the move operation shall not throw exceptions.
 If \tcode{X::propagate_on_container_swap::value} is \tcode{true},
-lvalues of type \tcode{X} shall be swappable\iref{swappable.requirements}
+lvalues of type \tcode{X} shall be \link{swappable}{swappable.requirements}
 and the \tcode{swap} operation shall not throw exceptions.
 
 \pnum
@@ -2346,7 +2347,7 @@ whether or not \tcode{T} is a complete type:
 
 \begin{itemize}
 \item \tcode{X} is a complete type, and
-\item all the member types of \tcode{allocator_traits<X>}\iref{allocator.traits}
+\item all the member types of \link{\tcode{allocator_traits<X>}}{allocator.traits}
   other than \tcode{value_type} are complete types.
 \end{itemize}
 
@@ -2357,11 +2358,11 @@ whether or not \tcode{T} is a complete type:
 \pnum
 Subclause \ref{constraints} describes restrictions on \Cpp{} programs that use the facilities of
 the \Cpp{} standard library. The following subclauses specify constraints on the
-program's use of namespaces\iref{namespace.std}, its use of various reserved
-names\iref{reserved.names}, its use of headers\iref{alt.headers}, its use of
+program's use of \link{namespaces}{namespace.std}, its use of various \link{reserved
+names}{reserved.names}, its use of \link{headers}{alt.headers}, its use of
 standard library classes as base classes\iref{derived.classes}, its
-definitions of replacement functions\iref{replacement.functions}, and its
-installation of handler functions during execution\iref{handler.functions}.
+definitions of \link{replacement functions}{replacement.functions}, and its
+installation of \link{handler functions}{handler.functions} during execution.
 
 \rSec3[namespace.constraints]{Namespace use}
 
@@ -2731,7 +2732,7 @@ shall be identical to
 \rSec4[usrlit.suffix]{User-defined literal suffixes}
 
 \pnum
-Literal suffix identifiers\iref{over.literal} that do not start with an underscore are reserved for future standardization.
+\link{Literal suffix identifiers}{over.literal} that do not start with an underscore are reserved for future standardization.
 
 \rSec3[alt.headers]{Headers}
 
@@ -2739,7 +2740,7 @@ Literal suffix identifiers\iref{over.literal} that do not start with an undersco
 If a file with a name
 equivalent to the derived file name for one of the \Cpp{} standard library headers
 is not provided as part of the implementation, and a file with that name
-is placed in any of the standard places for a source file to be included\iref{cpp.include},
+is placed in any of the standard places for a source file to be \link{included}{cpp.include},
 the behavior is undefined.%
 \indextext{source file}%
 \indextext{undefined}
@@ -2957,7 +2958,7 @@ specified as being shareable without data races or the user supplies a locking m
 
 \pnum
 If an object of a standard library type is accessed, and
-the beginning of the object's lifetime\iref{basic.life}
+the beginning of the object's \link{lifetime}{basic.life}
 does not happen before the access, or
 the access does not happen before the end of the object's lifetime,
 the behavior is undefined unless otherwise specified.
@@ -3016,7 +3017,7 @@ Every such entity shall be defined such that any header that defines it may be
 included after any other header that also defines it\iref{basic.def.odr}.
 
 \pnum
-The C standard library headers\iref{depr.c.headers}
+The \link{C standard library headers}{depr.c.headers}
 shall include only their corresponding \Cpp{} standard library header,
 as described in~\ref{headers}.
 
@@ -3044,7 +3045,7 @@ explicitly stated otherwise.
 It is unspecified whether any
 non-member
 functions in the \Cpp{} standard library are defined as
-inline\iref{dcl.inline}.
+\link{inline}{dcl.inline}.
 
 \pnum
 A call to a non-member function signature
@@ -3069,7 +3070,7 @@ The phrase ``unless otherwise specified'' applies to cases such as
 the swappable with requirements\iref{swappable.requirements}.
 The exception for overloaded operators allows argument-dependent lookup
 in cases like that of
-\tcode{ostream_iterator::operator=}\iref{ostream.iterator.ops}:
+\liblinkx{\tcode{ostream_iterator::operator=}}{ostream_iterator!operator=}{ostream.iterator.ops}:
 
 \effects
 \begin{codeblock}
@@ -3084,7 +3085,7 @@ return *this;
 
 \pnum
 It is unspecified whether any member functions in the \Cpp{} standard library are defined as
-inline\iref{dcl.inline}.
+\link{inline}{dcl.inline}.
 
 \pnum
 For a non-virtual member function described in the \Cpp{} standard library,
@@ -3140,8 +3141,8 @@ library may be recursively reentered.
 \rSec3[res.on.data.races]{Data race avoidance}
 
 \pnum
-This subclause specifies requirements that implementations shall meet to prevent data
-races\iref{intro.multithread}.
+This subclause specifies requirements that implementations shall meet to prevent
+\deflinkx{data races}{data race}{intro.multithread}.
 Every standard library function shall meet each requirement unless otherwise specified.
 Implementations may prevent data races in cases other than those specified below.
 
@@ -3180,7 +3181,7 @@ not visible to users and are protected against data races.
 \pnum
 Unless otherwise specified, \Cpp{} standard library functions shall perform all operations
 solely within the current thread if those operations have effects that are
-visible\iref{intro.multithread} to users.
+\deflinkx{visible}{side effects!visible}{intro.multithread} to users.
 
 \pnum
 \begin{note} This allows implementations to parallelize operations if there are no visible
@@ -3228,8 +3229,8 @@ Every base class not specified as
 Unless explicitly stated otherwise, types with distinct names shall be distinct
 types.\footnote{There is an implicit exception to this rule for types that are
 described as synonyms for basic integral types, such as
-\tcode{size_t}\iref{support.types} and
-\tcode{streamoff}\iref{stream.types}.}
+\link{\tcode{size_t}}{support.types} and
+\link{\tcode{streamoff}}{stream.types}.}
 \end{itemize}
 
 \pnum
@@ -3285,9 +3286,9 @@ may throw \impldef{exceptions thrown by standard library functions that have a
 potentially-throwing exception specification} exceptions.%
 \footnote{In particular, they
 can report a failure to allocate storage by throwing an exception of type
-\tcode{bad_alloc},
+\link{\tcode{bad_alloc}}{bad.alloc},
 or a class derived from
-\tcode{bad_alloc}\iref{bad.alloc}.}
+\tcode{bad_alloc}.}
 Implementations should
 report errors by throwing exceptions of or derived
 from the standard exception classes~(\ref{bad.alloc},
@@ -3305,8 +3306,8 @@ by adding a non-throwing exception specification.
 \indextext{traceable pointer object}%
 \indextext{pointer!to traceable object}%
 Objects constructed by the standard library that may hold a user-supplied pointer value
-or an integer of type \tcode{std::intptr_t} shall store such values in a traceable
-pointer location\iref{basic.stc.dynamic.safety}. \begin{note} Other libraries are
+or an integer of type \tcode{std::intptr_t} shall store such values in a \link{traceable
+pointer location}{basic.stc.dynamic.safety}. \begin{note} Other libraries are
 strongly encouraged to do the same, since not doing so may result in accidental use of
 pointers that are not safely derived. Libraries that store pointers outside the user's
 address space should make it appear that they are stored and retrieved from a traceable
@@ -3316,7 +3317,7 @@ pointer location. \end{note}
 
 \pnum
 Certain functions in the \Cpp{} standard library report errors via a
-\tcode{std::error_code}\iref{syserr.errcode.overview} object. That object's
+\link{\tcode{std::error_code}}{syserr.errcode.overview} object. That object's
 \tcode{category()} member shall return \tcode{std::system_category()} for
 errors originating from the operating system, or a reference to an
 \impldef{\tcode{error_category} for errors originating outside the
diff --git a/source/limits.tex b/source/limits.tex
index e0f6c5e2..854ea270 100644
--- a/source/limits.tex
+++ b/source/limits.tex
@@ -129,6 +129,6 @@ during template argument deduction\iref{temp.deduct} [1\,024].
 \item%
 Handlers per try block\iref{except.handle} [256].
 \item%
-Number of placeholders\iref{func.bind.place} [10].
+Number of \link{placeholders}{func.bind.place} [10].
 
 \end{itemize}
diff --git a/source/locales.tex b/source/locales.tex
index 11a2836e..5c2f096b 100644
--- a/source/locales.tex
+++ b/source/locales.tex
@@ -276,7 +276,7 @@ Whether there is one global locale object for the entire program or one global l
 object per thread is \impldef{whether locale object is global or per-thread}.
 Implementations should provide one global locale object per
 thread. If there is a single global locale object for the entire program,
-implementations are not required to avoid data races on it\iref{res.on.data.races}.
+implementations are not required to \link{avoid data races}{res.on.data.races} on it.
 
 \rSec3[locale.types]{Types}
 
@@ -1102,7 +1102,7 @@ namespace std {
 \pnum
 The type
 \tcode{mask}
-is a bitmask type\iref{bitmask.types}.
+is a \link{bitmask type}{bitmask.types}.
 
 \rSec3[locale.ctype]{Class template \tcode{ctype}}
 
@@ -1411,7 +1411,7 @@ value or values.\footnote{The char argument of
 is intended to accept values derived from character literals for conversion
 to the locale's encoding.}
 The only characters for which unique transformations are required
-are those in the basic source character set\iref{lex.charset}.
+are those in the \deflinkx{basic source character set}{character set!basic source}{lex.charset}.
 
 For any named
 \tcode{ctype}
@@ -1455,7 +1455,8 @@ values to the corresponding
 \tcode{char}
 value or values.
 
-For any character \tcode{c} in the basic source character set\iref{lex.charset}
+For any character \tcode{c} in the
+\deflinkx{basic source character set}{character set!basic source}{lex.charset}
 the transformation is such that
 
 \begin{codeblock}
@@ -1805,8 +1806,8 @@ virtual const char* do_narrow(const char* low, const char* high,
 \pnum
 These functions are described identically as those members of the
 same name in the
-\tcode{ctype}
-class template\iref{locale.ctype.members}.
+\link{\tcode{ctype}
+class template}{locale.ctype.members}.
 
 \rSec3[locale.codecvt]{Class template \tcode{codecvt}}
 
@@ -3361,7 +3362,7 @@ The specializations required in \tref{locale.category.facets}\iref{locale.catego
 \tcode{collate<char>}
 and
 \tcode{collate<wchar_t>},
-apply lexicographic ordering\iref{alg.lex.comparison}.
+apply \link{lexicographic ordering}{alg.lex.comparison}.
 
 \pnum
 Each function compares a string of characters
@@ -3425,7 +3426,7 @@ The specializations required in \tref{locale.category.facets}\iref{locale.catego
 and
 \tcode{collate<wchar_t>},
 implement
-a lexicographical comparison\iref{alg.lex.comparison}.
+a \link{lexicographical comparison}{alg.lex.comparison}.
 \end{itemdescr}
 
 \indexlibrarymember{collate}{do_transform}%
@@ -5034,7 +5035,6 @@ namespace std {
 
 \indexhdr{cassert}%
 \indexlibrary{\idxcode{lconv}}%
-\indexlibrary{\idxcode{setlocale}}%
 \indexlibrary{\idxcode{localeconv}}%
 \indexlibrary{\idxcode{NULL}}%
 \indexlibrary{\idxcode{LC_ALL}}%
@@ -5047,7 +5047,7 @@ namespace std {
 namespace std {
   struct lconv;
 
-  char* setlocale(int category, const char* locale);
+  char* @\libentity{setlocale}@(int category, const char* locale);
   lconv* localeconv();
 }
 
diff --git a/source/macros.tex b/source/macros.tex
index 5e81f4df..4dce44f8 100644
--- a/source/macros.tex
+++ b/source/macros.tex
@@ -578,3 +578,51 @@
 }
 \newcommand{\defncontext}[1]{\textlangle#1\textrangle}
 \newenvironment{defnote}{\addtocounter{termnote}{1}\noteintro{Note \thetermnote{} to entry}}{\noteoutro{note}\space}
+
+
+%%-------------------------------------------------
+%% cxxdraft-htmlgen macros
+
+\newcommand{\link}[2]{#1~(#2)}
+	% Link to section.
+	%   arg 0: link text
+	%   arg 1: section abbreviation
+
+\newcommand{\linkx}[3]{#1~(#3)}
+	% Link to indexed position.
+	%   arg 0: link text
+	%   arg 1: generalindex key
+	%   arg 2: section abbreviation
+
+\newcommand{\liblinkx}[3]{#1~(#3)}
+	% Link to indexed position.
+	%   arg 0: link text
+	%   arg 1: libraryindex key
+	%   arg 2: section abbreviation
+
+\newcommand{\deflinkx}[3]{#1~(#3)}
+	% Link to definition.
+	%   arg 0: link text
+	%   arg 1: definition key
+	%   arg 2: section abbreviation
+
+\newcommand{\deflink}[2]{\deflinkx{#1}{#1}{#2}}
+	% Convenience macro for when the link
+	% text is also the definition key.
+
+\newcommand{\weblink}[2]{#1}
+	%   arg 0: link text
+	%   arg 1: URL
+
+\newcommand{\indexedspan}[2]{#1#2}
+	%   arg 0: text
+	%   arg 1: indices (zero or more \index commands)
+
+\newcommand{\libentity}[1]{\indexedspan{\tcode{#1}}{\indexlibrary{\idxcode{#1}}}}
+	%   arg 0: entity name
+
+\newcommand{\libmember}[2]{\indexedspan{\tcode{#1}}{\indexlibrarymember{#1}{#2}}}
+	%   arg 0: member name
+	%   arg 1: parent name
+
+\newenvironment{indexed}[1]{}{}
diff --git a/source/numerics.tex b/source/numerics.tex
index 059cf603..00e805ef 100644
--- a/source/numerics.tex
+++ b/source/numerics.tex
@@ -160,8 +160,8 @@ floating-point evaluation in constant expressions.
 \end{note}
 
 \pnum
-The floating-point environment has thread storage
-duration\iref{basic.stc.thread}. The initial state for a thread's floating-point
+The floating-point environment has \deflink{thread storage duration}{basic.stc.thread}.
+The initial state for a thread's floating-point
 environment is the state of the floating-point environment of the thread that constructs
 the corresponding \tcode{thread} object\iref{thread.thread.class}
 or \tcode{jthread} object\iref{thread.jthread.class}
@@ -192,7 +192,7 @@ for any type other than \tcode{float}, \tcode{double}, or \tcode{long double} is
 The specializations
 \tcode{complex<float>},
 \tcode{complex<double>}, and
-\tcode{complex<long double>} are literal types\iref{basic.types}.
+\tcode{complex<long double>} are \deflinkx{literal types}{literal type}{basic.types}.
 
 \pnum
 If the result of a function is not mathematically defined or not in
@@ -1693,7 +1693,7 @@ and to templates producing such types when instantiated.
 \pnum
 \indextext{\idxcode{result_type}!entity characterization based on}%
 Each of the entities specified via this subclause
-has an associated arithmetic type\iref{basic.fundamental}
+has an associated \deflinkx{arithmetic type}{type!arithmetic}{basic.fundamental}
 identified as \tcode{result_type}.
 With \tcode{T} as the \tcode{result_type}
 thus associated with such an entity,
@@ -1923,21 +1923,21 @@ the effect of instantiating a template:
     is undefined unless the corresponding template argument
     is cv-unqualified and
     meets the requirements
-    of seed sequence\iref{rand.req.seedseq}.
+    of \link{seed sequence}{rand.req.seedseq}.
   \item
     that has a template type parameter
     named \tcode{URBG}
     is undefined unless the corresponding template argument
     is cv-unqualified and
     meets the requirements
-    of uniform random bit generator\iref{rand.req.urng}.
+    of \link{uniform random bit generator}{rand.req.urng}.
   \item
     that has a template type parameter
     named \tcode{Engine}
     is undefined unless the corresponding template argument
     is cv-unqualified and
     meets the requirements
-    of random number engine\iref{rand.req.eng}.
+    of \link{random number engine}{rand.req.eng}.
   \item
     that has a template type parameter
     named \tcode{RealType}
@@ -2062,7 +2062,7 @@ In that Table and throughout this subclause:
 \indextext{\idxcode{result_type}!seed sequence requirement}%
 \tcode{S::result_type}
   & \tcode{T}
-  & \tcode{T} is an unsigned integer type\iref{basic.fundamental}
+  & \tcode{T} is an \deflink{unsigned integer type}{basic.fundamental}
     of at least 32 bits.
   & compile-time
   \\ \rowsep
@@ -2237,7 +2237,7 @@ An engine's state may be established via
 \pnum
 A class \tcode{E}
 that meets the requirements
-of a uniform random bit generator\iref{rand.req.urng}
+of a \link{uniform random bit generator}{rand.req.urng}
 also meets the requirements
 of a \term{random number engine}
 if the expressions shown
@@ -2258,7 +2258,7 @@ In that Table and throughout this subclause:
     \tcode{s} is a value of \tcode{T};
   \item
     \tcode{q} is an lvalue
-    meeting the requirements of a seed sequence\iref{rand.req.seedseq};
+    meeting the requirements of a \link{seed sequence}{rand.req.seedseq};
   \item
     \tcode{z} is a value
     of type \tcode{unsigned long long};
@@ -2654,7 +2654,7 @@ In that Table and throughout this subclause,
   \item
     \tcode{g}, \tcode{g1}, and \tcode{g2} are lvalues of a type
     meeting the requirements
-    of a uniform random bit generator\iref{rand.req.urng};
+    of a \link{uniform random bit generator}{rand.req.urng};
   \item
     \tcode{os} is an lvalue of the type of some class template specialization
     \tcode{basic_ostream<charT,} \tcode{traits>};
@@ -2686,7 +2686,7 @@ according to \ref{strings} and \ref{input.output}.
 \indextext{\idxcode{result_type}!random number distribution requirement}%
 \tcode{D::result_type}
   & \tcode{T}
-  & \tcode{T} is an arithmetic type\iref{basic.fundamental}.
+  & \tcode{T} is an \deflinkx{arithmetic type}{type!arithmetic}{basic.fundamental}.
   & compile-time
   \\ \rowsep
 \tcode{D::param_type}
@@ -2904,7 +2904,7 @@ using distribution_type =  D;
 Each type instantiated
 from a class template specified in this subclause~\ref{rand.eng}
 meets the requirements
-of a random number engine\iref{rand.req.eng} type.
+of a \link{random number engine}{rand.req.eng} type.
 
 \pnum
 Except where specified otherwise,
@@ -3063,10 +3063,11 @@ explicit linear_congruential_engine(result_type s);
  otherwise sets the engine's state to $\tcode{s} \bmod m$.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{linear_congruential_engine}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{linear_congruential_engine}!constructor}}
 \begin{itemdecl}
 template<class Sseq> explicit linear_congruential_engine(Sseq& q);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Constructs a \tcode{linear_congruential_engine} object.
@@ -3220,10 +3221,11 @@ of \state{x}{i}
 consists of the values of $X_{i - n}, \dotsc, X_{i - 1}$,
 in that order.
 
-\indexlibrary{\idxcode{mersenne_twister_engine}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{mersenne_twister_engine}!constructor}}
 \begin{itemdecl}
 explicit mersenne_twister_engine(result_type value);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Constructs a \tcode{mersenne_twister_engine} object.
@@ -3241,10 +3243,11 @@ Then, iteratively for $i = 1 - n, \dotsc, -1$, sets $X_i$ to
 \pnum\complexity \bigoh{n}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{mersenne_twister_engine}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{mersenne_twister_engine}!constructor}}
 \begin{itemdecl}
 template<class Sseq> explicit mersenne_twister_engine(Sseq& q);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Constructs a \tcode{mersenne_twister_engine} object.
@@ -3370,10 +3373,11 @@ consists of the values of
 in that order, followed by $c$.
 
 
-\indexlibrary{\idxcode{subtract_with_carry_engine}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{subtract_with_carry_engine}!constructor}}
 \begin{itemdecl}
 explicit subtract_with_carry_engine(result_type value);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Constructs a \tcode{subtract_with_carry_engine} object.
@@ -3403,10 +3407,11 @@ linear_congruential_engine<result_type,
 
 
 
-\indexlibrary{\idxcode{subtract_with_carry_engine}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{subtract_with_carry_engine}!constructor}}
 \begin{itemdecl}
 template<class Sseq> explicit subtract_with_carry_engine(Sseq& q);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Constructs a \tcode{subtract_with_carry_engine} object.
@@ -3441,7 +3446,7 @@ template<class Sseq> explicit subtract_with_carry_engine(Sseq& q);
 Each type instantiated
 from a class template specified in this subclause~\ref{rand.adapt}
 meets the requirements
-of a random number engine adaptor\iref{rand.req.adapt} type.
+of a \link{random number engine adaptor}{rand.req.adapt} type.
 
 \pnum
 Except where specified otherwise,
@@ -4456,7 +4461,7 @@ template<class RealType, size_t bits, class URBG>
 Each type instantiated
 from a class template specified in this subclause~\ref{rand.dist}
 meets the requirements
-of a random number distribution\iref{rand.req.dist} type.
+of a \link{random number distribution}{rand.req.dist} type.
 
 \pnum
 Descriptions are provided in this subclause~\ref{rand.dist}
@@ -4954,10 +4959,11 @@ template<class IntType = int>
 \end{codeblock}
 
 
-\indexlibrary{\idxcode{negative_binomial_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{negative_binomial_distribution}!constructor}}
 \begin{itemdecl}
 explicit negative_binomial_distribution(IntType k, double p = 0.5);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\requires
@@ -4979,10 +4985,11 @@ IntType k() const;
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{p}{negative_binomial_distribution}%
+\begin{indexed}{\indexlibrarymember{p}{negative_binomial_distribution}}
 \begin{itemdecl}
 double p() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{p} parameter
@@ -5068,10 +5075,11 @@ explicit poisson_distribution(double mean);
 \tcode{mean} corresponds to the parameter of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{mean}{poisson_distribution}%
+\begin{indexed}{\indexlibrarymember{mean}{poisson_distribution}}
 \begin{itemdecl}
 double mean() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{mean} parameter
@@ -5125,10 +5133,11 @@ template<class RealType = double>
 \end{codeblock}
 
 
-\indexlibrary{\idxcode{exponential_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{exponential_distribution}!constructor}}
 \begin{itemdecl}
 explicit exponential_distribution(RealType lambda);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5139,10 +5148,11 @@ explicit exponential_distribution(RealType lambda);
 \tcode{lambda} corresponds to the parameter of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{lambda}{exponential_distribution}%
+\begin{indexed}{\indexlibrarymember{lambda}{exponential_distribution}}
 \begin{itemdecl}
 RealType lambda() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{lambda} parameter
@@ -5167,7 +5177,7 @@ the probability density function%
      \frac{e^{-x/\beta}}{\beta^{\alpha} \cdot \Gamma(\alpha)} \, \cdot \, x^{\, \alpha-1}
      \text{ .} \]
 
-\indexlibrary{\idxcode{gamma_distribution}}%
+\begin{indexed}{\indexlibrary{\idxcode{gamma_distribution}}}
 \begin{codeblock}
 template<class RealType = double>
   class gamma_distribution {
@@ -5197,12 +5207,13 @@ template<class RealType = double>
     result_type max() const;
   };
 \end{codeblock}
+\end{indexed}
 
-
-\indexlibrary{\idxcode{gamma_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{gamma_distribution}!constructor}}
 \begin{itemdecl}
 explicit gamma_distribution(RealType alpha, RealType beta = 1.0);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5214,20 +5225,22 @@ explicit gamma_distribution(RealType alpha, RealType beta = 1.0);
 correspond to the parameters of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{alpha}{gamma_distribution}%
+\begin{indexed}{\indexlibrarymember{alpha}{gamma_distribution}}
 \begin{itemdecl}
 RealType alpha() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{alpha} parameter
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{beta}{gamma_distribution}%
+\begin{indexed}{\indexlibrarymember{beta}{gamma_distribution}}
 \begin{itemdecl}
 RealType beta() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{beta} parameter
@@ -5285,10 +5298,11 @@ template<class RealType = double>
   };
 \end{codeblock}
 
-\indexlibrary{\idxcode{weibull_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{weibull_distribution}!constructor}}
 \begin{itemdecl}
 explicit weibull_distribution(RealType a, RealType b = 1.0);
 \end{itemdecl}%
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5300,20 +5314,22 @@ explicit weibull_distribution(RealType a, RealType b = 1.0);
 correspond to the respective parameters of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{a}{weibull_distribution}%
+\begin{indexed}{\indexlibrarymember{a}{weibull_distribution}}
 \begin{itemdecl}
 RealType a() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{a} parameter
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{b}{weibull_distribution}%
+\begin{indexed}{\indexlibrarymember{b}{weibull_distribution}}
 \begin{itemdecl}
 RealType b() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{b} parameter
@@ -5377,11 +5393,11 @@ template<class RealType = double>
   };
 \end{codeblock}
 
-
-\indexlibrary{\idxcode{extreme_value_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{extreme_value_distribution}!constructor}}
 \begin{itemdecl}
 explicit extreme_value_distribution(RealType a, RealType b = 1.0);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5393,20 +5409,22 @@ explicit extreme_value_distribution(RealType a, RealType b = 1.0);
 correspond to the respective parameters of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{a}{extreme_value_distribution}%
+\begin{indexed}{\indexlibrarymember{a}{extreme_value_distribution}}
 \begin{itemdecl}
 RealType a() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{a} parameter
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{b}{extreme_value_distribution}%
+\begin{indexed}{\indexlibrarymember{b}{extreme_value_distribution}}
 \begin{itemdecl}
 RealType b() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{b} parameter
@@ -5491,11 +5509,11 @@ template<class RealType = double>
   };
 \end{codeblock}
 
-
-\indexlibrary{\idxcode{normal_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{normal_distribution}!constructor}}
 \begin{itemdecl}
 explicit normal_distribution(RealType mean, RealType stddev = 1.0);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5507,20 +5525,22 @@ explicit normal_distribution(RealType mean, RealType stddev = 1.0);
 correspond to the respective parameters of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{mean}{normal_distribution}%
+\begin{indexed}{\indexlibrarymember{mean}{normal_distribution}}
 \begin{itemdecl}
 RealType mean() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{mean} parameter
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{stddev}{normal_distribution}%
+\begin{indexed}{\indexlibrarymember{stddev}{normal_distribution}}
 \begin{itemdecl}
 RealType stddev() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{stddev} parameter
@@ -5593,20 +5613,22 @@ explicit lognormal_distribution(RealType m, RealType s = 1.0);
 correspond to the respective parameters of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{m}{lognormal_distribution}%
+\begin{indexed}{\indexlibrarymember{m}{lognormal_distribution}}
 \begin{itemdecl}
 RealType m() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{m} parameter
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{s}{lognormal_distribution}%
+\begin{indexed}{\indexlibrarymember{s}{lognormal_distribution}}
 \begin{itemdecl}
 RealType s() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{s} parameter
@@ -5660,11 +5682,11 @@ template<class RealType = double>
   };
 \end{codeblock}
 
-
-\indexlibrary{\idxcode{chi_squared_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{chi_squared_distribution}!constructor}}
 \begin{itemdecl}
 explicit chi_squared_distribution(RealType n);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5675,10 +5697,11 @@ explicit chi_squared_distribution(RealType n);
 \tcode{n} corresponds to the parameter of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{n}{chi_squared_distribution}%
+\begin{indexed}{\indexlibrarymember{n}{chi_squared_distribution}}
 \begin{itemdecl}
 RealType n() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{n} parameter
@@ -5749,20 +5772,22 @@ explicit cauchy_distribution(RealType a, RealType b = 1.0);
 correspond to the respective parameters of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{a}{cauchy_distribution}%
+\begin{indexed}{\indexlibrarymember{a}{cauchy_distribution}}
 \begin{itemdecl}
 RealType a() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{a} parameter
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{b}{cauchy_distribution}%
+\begin{indexed}{\indexlibrarymember{b}{cauchy_distribution}}
 \begin{itemdecl}
 RealType b() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{b} parameter
@@ -5821,11 +5846,11 @@ template<class RealType = double>
   };
 \end{codeblock}
 
-
-\indexlibrary{\idxcode{fisher_f_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{fisher_f_distribution}!constructor}}
 \begin{itemdecl}
 explicit fisher_f_distribution(RealType m, RealType n = 1);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5837,20 +5862,22 @@ explicit fisher_f_distribution(RealType m, RealType n = 1);
 correspond to the respective parameters of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{m}{fisher_f_distribution}%
+\begin{indexed}{\indexlibrarymember{m}{fisher_f_distribution}}
 \begin{itemdecl}
 RealType m() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{m} parameter
  with which the object was constructed.
 \end{itemdescr}
 
-\indexlibrarymember{n}{fisher_f_distribution}%
+\begin{indexed}{\indexlibrarymember{n}{fisher_f_distribution}}
 \begin{itemdecl}
 RealType n() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{n} parameter
@@ -5907,11 +5934,11 @@ template<class RealType = double>
   };
 \end{codeblock}
 
-
-\indexlibrary{\idxcode{student_t_distribution}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{student_t_distribution}!constructor}}
 \begin{itemdecl}
 explicit student_t_distribution(RealType n);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5922,10 +5949,11 @@ explicit student_t_distribution(RealType n);
 \tcode{n} corresponds to the parameter of the distribution.
 \end{itemdescr}
 
-\indexlibrarymember{mean}{student_t_distribution}%
+\begin{indexed}{\indexlibrarymember{mean}{student_t_distribution}}
 \begin{itemdecl}
 RealType n() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns The value of the \tcode{n} parameter
@@ -6009,10 +6037,11 @@ template<class IntType = int>
   };
 \end{codeblock}
 
-\indexlibrary{\idxcode{discrete_distribution}!constructor}
+\begin{indexed}{\indexlibrary{\idxcode{discrete_distribution}!constructor}}
 \begin{itemdecl}
 discrete_distribution();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Constructs a \tcode{discrete_distribution} object
@@ -6068,7 +6097,7 @@ template<class UnaryOperation>
 \begin{itemdescr}
 \pnum\requires
  Each instance of type \tcode{UnaryOperation}
- shall be a function object\iref{function.objects}
+ shall be a \deflink{function object}{function.objects}
  whose return type shall be convertible to \tcode{double}.
  Moreover,
  \tcode{double} shall be convertible
@@ -6239,7 +6268,7 @@ template<class UnaryOperation>
 \begin{itemdescr}
 \pnum\requires
  Each instance of type \tcode{UnaryOperation}
- shall be a function object\iref{function.objects}
+ shall be a \deflink{function object}{function.objects}
  whose return type shall be convertible to \tcode{double}.
  Moreover,
  \tcode{double} shall be convertible
@@ -6274,7 +6303,7 @@ template<class UnaryOperation>
 \begin{itemdescr}
 \pnum\requires
  Each instance of type \tcode{UnaryOperation}
- shall be a function object\iref{function.objects}
+ shall be a \link{function object}{function.objects}
  whose return type shall be convertible to \tcode{double}.
  Moreover,
  \tcode{double} shall be convertible
@@ -6450,7 +6479,7 @@ template<class UnaryOperation>
 \begin{itemdescr}
 \pnum\requires
  Each instance of type \tcode{UnaryOperation}
- shall be a function object\iref{function.objects}
+ shall be a \link{function object}{function.objects}
  whose return type shall be convertible to \tcode{double}.
  Moreover,
  \tcode{double} shall be convertible
@@ -6485,7 +6514,7 @@ template<class UnaryOperation>
 \begin{itemdescr}
 \pnum\requires
  Each instance of type \tcode{UnaryOperation}
- shall be a function object\iref{function.objects}
+ shall be a \link{function object}{function.objects}
  whose return type shall be convertible to \tcode{double}.
  Moreover,
  \tcode{double} shall be convertible
@@ -6537,7 +6566,7 @@ vector<result_type> densities() const;
 \pnum
 \indexhdr{cstdlib}%
 \begin{note}
-The header \tcode{<cstdlib>}\iref{cstdlib.syn}
+The header \link{\tcode{<cstdlib>}}{cstdlib.syn}
 declares the functions described in this subclause.
 \end{note}
 
@@ -6782,8 +6811,9 @@ additional functions and operators as follows:
 \begin{itemize}
 \item
 for every function taking a
-\tcode{const valarray<T>\&} other than \tcode{begin} and
-\tcode{end}\iref{valarray.range},
+\tcode{const valarray<T>\&} other than
+\liblinkx{\tcode{begin}}{begin!valarray}{valarray.range} and
+\liblinkx{\tcode{end}}{end!valarray}{valarray.range},
 identical functions taking the replacement types shall be added;
 \item
 for every function taking two
@@ -6808,7 +6838,7 @@ objects.
 
 \pnum
 These library functions are permitted to throw a
-\tcode{bad_alloc}\iref{bad.alloc} exception if there are not sufficient resources available
+\link{\tcode{bad_alloc}}{bad.alloc} exception if there are not sufficient resources available
 to carry out the operation.
 Note that the exception is not mandated.
 
@@ -6962,7 +6992,7 @@ explicit valarray(size_t n);
 \pnum
 \effects
 Constructs a \tcode{valarray} that has length \tcode{n}.
-Each element of the array is value-initialized\iref{dcl.init}.
+Each element of the array is \deflinkx{value-initialized}{value-initialize}{dcl.init}.
 \end{itemdescr}
 
 \indexlibrary{\idxcode{valarray}!constructor}%
@@ -7204,7 +7234,7 @@ and other techniques to generate efficient
 \pnum
 The reference returned by the subscript operator for an array shall
 be valid until the member function
-\tcode{resize(size_t, T)}\iref{valarray.members} is called for that array or until the lifetime of
+\liblinkx{\tcode{resize(size_t, T)}}{valarray!resize}{valarray.members} is called for that array or until the lifetime of
 that array ends, whichever happens first.
 \end{itemdescr}
 
@@ -7611,7 +7641,8 @@ places, with zero fill.
 \pnum
 \begin{example}
 If the argument has the value -2,
-the first two elements of the result will be value-initialized\iref{dcl.init}; the third element of the result will be assigned the value
+the first two elements of the result will be
+\deflinkx{value-initialized}{value-initialize}{dcl.init}; the third element of the result will be assigned the value
 of the first element of the argument; etc.
 \end{example}
 \end{itemdescr}
@@ -7646,10 +7677,11 @@ the value returned by applying the argument function to the
 corresponding element of \tcode{*this}.
 \end{itemdescr}
 
-\indexlibrarymember{resize}{valarray}%
+\begin{indexed}{\indexlibrarymember{resize}{valarray}}
 \begin{itemdecl}
 void resize(size_t sz, T c = T());
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -8726,26 +8758,28 @@ parameter \tcode{T} and whose \tcode{reference} type is \tcode{const T\&}.
 \pnum
 The iterators returned by \tcode{begin} and \tcode{end} for an array
 are guaranteed to be valid until the member function
-\tcode{resize(size_t, T)}\iref{valarray.members} is called for that
+\liblinkx{\tcode{resize(size_t, T)}}{valarray!resize}{valarray.members} is called for that
 array or until the lifetime of that array ends, whichever happens
 first.
 
-\indexlibrary{\idxcode{begin}!\idxcode{valarray}}%
+\begin{indexed}{\indexlibrary{\idxcode{begin}!\idxcode{valarray}}}
 \begin{itemdecl}
 template<class T> @\unspec{1}@ begin(valarray<T>& v);
 template<class T> @\unspec{2}@ begin(const valarray<T>& v);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
 \returns An iterator referencing the first value in the array.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{end}!\idxcode{valarray}}%
+\begin{indexed}{\indexlibrary{\idxcode{end}!\idxcode{valarray}}}
 \begin{itemdecl}
 template<class T> @\unspec{1}@ end(valarray<T>& v);
 template<class T> @\unspec{2}@ end(const valarray<T>& v);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -9510,11 +9544,11 @@ namespace std {
 The contents and meaning of the header \tcode{<cmath>}
 are the same as the C standard library header \tcode{<math.h>},
 with the addition of
-a three-dimensional hypotenuse function~(\ref{c.math.hypot3}) and
+a \link{three-dimensional hypotenuse}{c.math.hypot3} function and
 the mathematical special functions described in \ref{sf.cmath}.
 \begin{note}
 Several functions have additional overloads in this document,
-but they have the same behavior as in the C standard library\iref{library.c}.
+but they have the same behavior as in the \link{C standard library}{library.c}.
 \end{note}
 
 \pnum
@@ -9525,7 +9559,7 @@ there shall be additional overloads sufficient to ensure:
   \item If any argument of arithmetic type
     corresponding to a \tcode{double} parameter
     has type \tcode{long double},
-    then all arguments of arithmetic type\iref{basic.fundamental}
+    then all arguments of \deflinkx{arithmetic type}{type!arithmetic}{basic.fundamental}
     corresponding to \tcode{double} parameters
     are effectively cast to \tcode{long double}.
   \item Otherwise, if any argument of arithmetic type
@@ -9552,8 +9586,8 @@ ISO C 7.12
 \indexhdr{cstdlib}%
 \indexhdr{cmath}%
 \begin{note}
-The headers \tcode{<cstdlib>}\iref{cstdlib.syn} and
-\tcode{<cmath>}\iref{cmath.syn}
+The headers \link{\tcode{<cstdlib>}}{cstdlib.syn} and
+\link{\tcode{<cmath>}}{cmath.syn}
 declare the functions described in this subclause.
 \end{note}
 
@@ -9580,7 +9614,7 @@ for the functions \tcode{abs}, \tcode{labs}, \tcode{llabs},
 If \tcode{abs()} is called with an argument of type \tcode{X}
 for which \tcode{is_unsigned_v<X>} is \tcode{true} and
 if \tcode{X} cannot be converted to \tcode{int}
-by integral promotion\iref{conv.prom}, the program is ill-formed.
+by \link{integral promotion}{conv.prom}, the program is ill-formed.
 \begin{note}
 Arguments that can be promoted to \tcode{int} are permitted for compatibility with C.
 \end{note}
diff --git a/source/overloading.tex b/source/overloading.tex
index f45ea6fa..418f2157 100644
--- a/source/overloading.tex
+++ b/source/overloading.tex
@@ -66,12 +66,12 @@ Certain function declarations cannot be overloaded:
 \item
 \indextext{return type!overloading and}%
 Function declarations that differ only in the return type,
-the exception specification\iref{except.spec}, or both
+the \link{exception specification}{except.spec}, or both
 cannot be overloaded.
 \item
 \indextext{\idxcode{static}!overloading and}%
 Member function declarations with the same name and the same
-parameter-type-list\iref{dcl.fct} cannot be overloaded if any of them is a
+\deflink{parameter-type-list}{dcl.fct} cannot be overloaded if any of them is a
 \tcode{static}
 member function declaration\iref{class.static}.
 Likewise, member function template declarations with the same name,
@@ -106,7 +106,7 @@ class X {
 \end{example}
 
 \item Member function declarations with the same name and the same
-parameter-type-list\iref{dcl.fct} as well as member function template
+\deflink{parameter-type-list}{dcl.fct} as well as member function template
 declarations with the same name, the same parameter-type-list, and
 the same template parameter lists cannot be overloaded if any of them, but not
 all, have a \grammarterm{ref-qualifier}\iref{dcl.fct}. \begin{example}
@@ -142,8 +142,8 @@ be overloaded:
 Parameter declarations that differ only in the use of equivalent typedef
 ``types'' are equivalent.
 A
-\tcode{typedef}
-is not a separate type, but only a synonym for another type\iref{dcl.typedef}.
+\link{\tcode{typedef}}{dcl.typedef}
+is not a separate type, but only a synonym for another type.
 \begin{example}
 \begin{codeblock}
 typedef int Int;
@@ -420,7 +420,7 @@ contexts within the language:
 
 \begin{itemize}
 \item
-invocation of a function named in the function call syntax\iref{over.call.func};
+invocation of a function named in the \link{function call syntax}{over.call.func};
 \item
 invocation of a function call operator, a pointer-to-function
 conversion function, a reference-to-pointer-to-function conversion
@@ -434,14 +434,14 @@ invocation of a constructor for default- or direct-initialization\iref{dcl.init}
 of a class object\iref{over.match.ctor};
 \item
 invocation of a user-defined conversion for
-copy-initialization\iref{dcl.init} of a class object\iref{over.match.copy};
+\deflink{copy-initialization}{dcl.init} of a class object\iref{over.match.copy};
 \item
 invocation of a conversion function for initialization of an object of a
 non-class type from an expression of class type\iref{over.match.conv}; and
 \item
 invocation of a conversion function for conversion
 in which a reference\iref{dcl.init.ref}
-will be directly bound\iref{over.match.ref}.
+will be \link{directly bound}{over.match.ref}.
 \end{itemize}
 
 Each of these contexts defines the set of candidate functions and
@@ -459,7 +459,7 @@ conditions) is selected to form a set of
 viable functions\iref{over.match.viable}.
 \item
 Then the best viable function is selected based on the
-implicit conversion sequences\iref{over.best.ics} needed to
+\link{implicit conversion sequences}{over.best.ics} needed to
 match each argument to the corresponding parameter of each
 viable function.
 \end{itemize}
@@ -470,7 +470,7 @@ resolution succeeds and produces it as the result.
 Otherwise
 overload resolution fails and the invocation is ill-formed.
 When overload resolution succeeds,
-and the best viable function is not accessible\iref{class.access} in the context
+and the best viable function is not \link{accessible}{class.access} in the context
 in which it is used,
 the program is ill-formed.
 
@@ -583,7 +583,7 @@ an rvalue can be bound to the parameter
 as long as in all other respects the argument can be
 converted to the type of the implicit object parameter.
 \begin{note} The fact that such an argument is an rvalue does not
-affect the ranking of implicit conversion sequences\iref{over.ics.rank}.
+affect the \link{ranking}{over.ics.rank} of implicit conversion sequences.
 \end{note}
 \end{itemize}
 
@@ -679,7 +679,7 @@ B b3 = C();                             // calls \#3
 \indextext{overloading!resolution!function call syntax|(}
 
 \pnum
-In a function call\iref{expr.call}
+In a \link{function call}{expr.call}
 
 \begin{ncsimplebnf}
 postfix-expression \terminal{(} \opt{expression-list} \terminal{)}
@@ -796,7 +796,7 @@ In case (2), the argument list is the
 in the call augmented by the addition of an implied object
 argument as in a qualified function call.
 If the keyword
-\tcode{this}\iref{class.this} is in scope and refers to
+\link{\tcode{this}}{class.this} is in scope and refers to
 class
 \tcode{T},
 or a derived class of
@@ -1203,7 +1203,7 @@ in each case using the selected rewritten \tcode{operator==} candidate.
 If a built-in candidate is selected by overload resolution, the
 operands of class type are converted to the types of the corresponding parameters
 of the selected operation function, except that the second standard conversion
-sequence of a user-defined conversion sequence\iref{over.ics.user} is not applied.
+sequence of a \link{user-defined conversion sequence}{over.ics.user} is not applied.
 Then the operator is treated as the corresponding
 built-in operator and interpreted according to \ref{expr.compound}.
 \begin{example}
@@ -1283,10 +1283,10 @@ void B::f() {
 \indextext{overloading!resolution!initialization}
 
 \pnum
-When objects of class type are direct-initialized\iref{dcl.init},
+When objects of class type are \deflinkx{direct-initialized}{direct-initialization}{dcl.init},
 copy-initialized from an expression of the same or a
 derived class type\iref{dcl.init},
-or default-initialized\iref{dcl.init},
+or \deflinkx{default-initialized}{default-initialization}{dcl.init},
 overload resolution selects the constructor.
 For direct-initialization or default-initialization
 that is not in the context of copy-initialization, the
@@ -1322,7 +1322,7 @@ the candidate functions are selected as follows:
 
 \begin{itemize}
 \item
-The converting constructors\iref{class.conv.ctor} of
+The \deflinkx{converting constructors}{converting constructor}{class.conv.ctor} of
 \tcode{T}
 are candidate functions.
 \item
@@ -1390,11 +1390,11 @@ and yield type
 \tcode{T}
 or a type that can be converted to type
 \tcode{T}
-via a standard conversion sequence\iref{over.ics.scs}
+via a \link{standard conversion sequence}{over.ics.scs}
 are candidate functions.
 For direct-initialization, those explicit conversion functions that are not
 hidden within \tcode{S} and yield type \tcode{T} or a type that can be converted
-to type \tcode{T} with a qualification conversion\iref{conv.qual} are also
+to type \tcode{T} with a \link{qualification conversion}{conv.qual} are also
 candidate functions.
 Conversion functions that return a cv-qualified type
 are considered to yield the cv-unqualified version of that type
@@ -1440,7 +1440,7 @@ and yield type ``lvalue reference to \cvqual{cv2} \tcode{T2}''
 ``\cvqual{cv2} \tcode{T2}''
 or ``rvalue reference to \cvqual{cv2} \tcode{T2}'' (when initializing an
 rvalue reference or an lvalue reference to function),
-where ``\cvqual{cv1} \tcode{T}'' is reference-compatible\iref{dcl.init.ref}
+where ``\cvqual{cv1} \tcode{T}'' is \deflink{reference-compatible}{dcl.init.ref}
 with ``\cvqual{cv2} \tcode{T2}'',
 are candidate functions. For direct-initialization, those explicit
 conversion functions that are not hidden within \tcode{S} and yield
@@ -1449,8 +1449,8 @@ type ``lvalue reference to \cvqual{cv2} \tcode{T2}''
 or ``rvalue reference to \cvqual{cv2} \tcode{T2}''
 (when initializing an rvalue reference or an lvalue reference to function),
 where \tcode{T2} is the same type as \tcode{T} or can be
-converted to type \tcode{T} with a qualification
-conversion\iref{conv.qual}, are also candidate functions.
+converted to type \tcode{T} with a \link{qualification
+conversion}{conv.qual}, are also candidate functions.
 
 \end{itemize}
 
@@ -1866,7 +1866,7 @@ Third, for
 \tcode{F}
 to be a viable function, there shall exist for each
 argument an
-implicit conversion sequence\iref{over.best.ics} that
+\deflinkx{implicit conversion sequence}{conversion sequence!implicit}{over.best.ics} that
 converts that argument to the corresponding parameter of
 \tcode{F}.
 If the parameter has reference type, the implicit conversion sequence
@@ -1955,8 +1955,8 @@ float x = a;        // ambiguous: both possibilities require conversions,
 \end{example}
 or, if not that,
 
-\item the context is an initialization by conversion function for direct
-reference binding\iref{over.match.ref} of a reference to function type, the
+\item the context is an initialization by conversion function for \link{direct
+reference binding}{over.match.ref} of a reference to function type, the
 return type of \tcode{F1} is the same kind of reference (lvalue or rvalue)
 as the reference being initialized, and the return type of \tcode{F2} is not
 \begin{example}
@@ -2060,7 +2060,7 @@ or, if not that
 and \tcode{F2} is not, or, if not that,
 
 \item
-\tcode{F1} is the copy deduction candidate\iref{over.match.class.deduct}
+\tcode{F1} is the \deflink{copy deduction candidate}{over.match.class.deduct}
 and \tcode{F2} is not, or, if not that,
 
 \item
@@ -2202,7 +2202,7 @@ parameter.
 \begin{note}
 Other properties, such as the lifetime, storage class,
 alignment, accessibility of the argument, whether the argument is a bit-field,
-and whether a function is deleted\iref{dcl.fct.def.delete}, are ignored.
+and whether a function is \link{deleted}{dcl.fct.def.delete}, are ignored.
 So, although an implicit
 conversion sequence can be defined for a given argument-parameter
 pair, the conversion from the argument to the parameter might still
@@ -2216,11 +2216,11 @@ sequence is one of the following forms:
 
 \begin{itemize}
 \item
-a standard conversion sequence\iref{over.ics.scs},
+a \link{standard conversion sequence}{over.ics.scs},
 \item
-a user-defined conversion sequence\iref{over.ics.user}, or
+a \link{user-defined conversion sequence}{over.ics.user}, or
 \item
-an ellipsis conversion sequence\iref{over.ics.ellipsis}.
+an \link{ellipsis conversion sequence}{over.ics.ellipsis}.
 \end{itemize}
 
 \pnum
@@ -2390,10 +2390,10 @@ Each conversion in \tref{over.ics.scs}
 also has an associated rank (Exact
 Match, Promotion, or Conversion).
 These are used
-to rank standard conversion sequences\iref{over.ics.rank}.
+to \link{rank standard conversion sequences}{over.ics.rank}.
 The rank of a conversion sequence is determined by considering the
-rank of each conversion in the sequence and the rank of any reference
-binding\iref{over.ics.ref}.
+rank of each conversion in the sequence and the rank of any \link{reference
+binding}{over.ics.ref}.
 If any of those has Conversion rank, the
 sequence has Conversion rank; otherwise, if any of those has Promotion rank,
 the sequence has Promotion rank; otherwise, the sequence has Exact
@@ -2425,12 +2425,12 @@ A \defnadj{user-defined}{conversion sequence} consists of an initial
 standard conversion sequence followed by a user-defined
 conversion\iref{class.conv} followed by a second standard
 conversion sequence.
-If the user-defined conversion is specified
-by a constructor\iref{class.conv.ctor}, the initial standard
+If the user-defined conversion is \link{specified
+by a constructor}{class.conv.ctor}, the initial standard
 conversion sequence converts the source type to the type required
 by the argument of the constructor.
 If the user-defined
-conversion is specified by a conversion function\iref{class.conv.fct}, the
+conversion is specified by a \link{conversion function}{class.conv.fct}, the
 initial standard conversion sequence
 converts the source type to the implicit object parameter of the
 conversion function.
@@ -2470,7 +2470,7 @@ specification of the function called (see~\ref{expr.call}).
 \rSec4[over.ics.ref]{Reference binding}
 
 \pnum
-When a parameter of reference type binds directly\iref{dcl.init.ref} to an
+When a parameter of reference type \link{binds directly}{dcl.init.ref} to an
 argument expression, the implicit conversion sequence is the identity conversion,
 unless the argument expression has a type that is a derived class of the parameter
 type, in which case the implicit conversion sequence is a derived-to-base
@@ -2487,7 +2487,7 @@ int i = f(b);       // calls \tcode{f(B\&)}, an exact match, rather than \tcode{
 \end{example}
 If the parameter binds directly to the result of
 applying a conversion function to the argument expression, the implicit
-conversion sequence is a user-defined conversion sequence\iref{over.ics.user},
+conversion sequence is a \link{user-defined conversion sequence}{over.ics.user},
 with the second standard conversion sequence either an identity conversion or,
 if the conversion function returns an entity of a type that is a derived class
 of the parameter type, a derived-to-base conversion.
@@ -2542,7 +2542,7 @@ the prohibition on binding a non-\tcode{const} lvalue reference to a bit-field\i
 \rSec4[over.ics.list]{List-initialization sequence}
 
 \pnum
-When an argument is an initializer list\iref{dcl.init.list}, it is not an
+When an argument is an initializer list\iref{dcl.init.list}, it is not an % todo
 expression and special rules apply for converting it to a parameter type.
 
 \pnum
@@ -2691,8 +2691,8 @@ i({ {1,2}, {"bar"} });  // OK: \tcode{i(D(A(std::initializer_list<int>\{1,2\}),
 
 \pnum
 Otherwise, if the parameter has an aggregate type which can be initialized from
-the initializer list according to the rules for aggregate
-initialization\iref{dcl.init.aggr}, the implicit conversion sequence is a
+the initializer list according to the rules for \link{aggregate
+initialization}{dcl.init.aggr}, the implicit conversion sequence is a
 user-defined conversion sequence with the second standard conversion
 sequence an identity conversion. \begin{example}
 \begin{codeblock}
@@ -2776,13 +2776,13 @@ When comparing the basic forms of implicit conversion sequences
 
 \begin{itemize}
 \item
-a standard conversion sequence\iref{over.ics.scs} is a better
+a \link{standard conversion sequence}{over.ics.scs} is a better
 conversion sequence than a user-defined conversion sequence
 or an ellipsis conversion sequence, and
 \item
-a user-defined conversion sequence\iref{over.ics.user} is a
-better conversion sequence than an ellipsis conversion
-sequence\iref{over.ics.ellipsis}.
+a \link{user-defined conversion sequence}{over.ics.user} is a
+better conversion sequence than an \link{ellipsis conversion
+sequence}{over.ics.ellipsis}.
 \end{itemize}
 
 \pnum
@@ -3155,7 +3155,7 @@ A function template name is considered to name a set of overloaded functions
 in such contexts.
 A function with type \tcode{F} is selected for the function type \tcode{FT}
 of the target type required in the context if \tcode{F}
-(after possibly applying the function pointer conversion\iref{conv.fctptr})
+(after possibly applying the \link{function pointer conversion}{conv.fctptr})
 is identical to \tcode{FT}.
 \begin{note}
 That is, the class of which the function is a member is ignored when matching a
@@ -3168,11 +3168,11 @@ The target can be
 an object or reference being initialized~(\ref{dcl.init}, \ref{dcl.init.ref},
 \ref{dcl.init.list}),
 \item
-the left side of an assignment\iref{expr.ass},
+the left side of an \link{assignment}{expr.ass},
 \item
 a parameter of a function\iref{expr.call},
 \item
-a parameter of a user-defined operator\iref{over.oper},
+a parameter of a \link{user-defined operator}{over.oper},
 \item
 the return value of a function, operator function, or conversion\iref{stmt.return},
 \item
@@ -3367,8 +3367,8 @@ The operators
 and
 \tcode{[]}
 are formed from more than one token.
-The latter two operators are function call\iref{expr.call}
-and subscripting\iref{expr.sub}.
+The latter two operators are \link{function call}{expr.call}
+and \link{subscripting}{expr.sub}.
 \end{note}
 \indextext{operator!subscripting}%
 \indextext{operator!function call}%
@@ -3463,7 +3463,7 @@ this is not required by operator functions.
 
 \pnum
 \indextext{argument!overloaded operator and default}%
-An operator function cannot have default arguments\iref{dcl.fct.default},
+An operator function cannot have \link{default arguments}{dcl.fct.default},
 except where explicitly stated below.
 Operator
 functions cannot have more or fewer parameters than the
@@ -3777,8 +3777,8 @@ such a literal suffix identifier is ill-formed, no diagnostic required.
 \pnum
 A declaration whose \grammarterm{declarator-id} is a
 \grammarterm{literal-operator-id} shall be a declaration of a namespace-scope
-function or function template (it could be a friend
-function\iref{class.friend}), an explicit instantiation or specialization of a
+function or function template (it could be a \link{friend
+function}{class.friend}), an explicit instantiation or specialization of a
 function template, or a \grammarterm{using-declaration}\iref{namespace.udecl}.
 A function declared with a \grammarterm{literal-operator-id} is a \defnx{literal
 operator}{literal!operator}. A function template declared with a \grammarterm{literal-operator-id}
@@ -3804,7 +3804,7 @@ const char16_t*, std::size_t
 const char32_t*, std::size_t
 \end{codeblock}
 
-If a parameter has a default argument\iref{dcl.fct.default}, the program is
+If a parameter has a \link{default argument}{dcl.fct.default}, the program is
 ill-formed.
 
 \pnum
@@ -3831,7 +3831,7 @@ Literal operators and literal operator templates shall not have C language linka
 
 \pnum
 \begin{note} Literal operators and literal operator templates are usually invoked
-implicitly through user-defined literals\iref{lex.ext}. However, except for
+implicitly through \link{user-defined literals}{lex.ext}. However, except for
 the constraints described above, they are ordinary namespace-scope functions and
 function templates. In particular, they are looked up like ordinary functions
 and function templates and they follow the same overload resolution rules. Also,
@@ -3896,7 +3896,7 @@ is hidden and is not included in the set of candidate functions.
 In this subclause, the term
 \defn{promoted integral type}
 is used to refer to those integral types which are preserved by
-integral promotion\iref{conv.prom} (including e.g.
+\link{integral promotion}{conv.prom} (including e.g.
 \tcode{int}
 and
 \tcode{long}
diff --git a/source/preprocessor.tex b/source/preprocessor.tex
index 1e8d2a83..74834182 100644
--- a/source/preprocessor.tex
+++ b/source/preprocessor.tex
@@ -326,7 +326,7 @@ shall not appear in any context not mentioned in this subclause.
 Each preprocessing token that remains (in the list of preprocessing tokens that
 will become the controlling expression)
 after all macro replacements have occurred
-shall be in the lexical form of a token\iref{lex.token}.
+shall be in the lexical form of a \link{token}{lex.token}.
 
 \pnum
 Preprocessing directives of the forms
@@ -372,8 +372,8 @@ are replaced with the \grammarterm{pp-number}
 \tcode{0},
 and then each preprocessing token is converted into a token.
 \begin{note}
-An alternative
-token\iref{lex.digraph} is not an identifier,
+An \link{alternative
+token}{lex.digraph} is not an identifier,
 even when its spelling consists entirely of letters and underscores.
 Therefore it is not subject to this replacement.
 \end{note}
@@ -391,8 +391,8 @@ Thus on an
 implementation where \tcode{std::numeric_limits<int>::max()} is \tcode{0x7FFF}
 and \tcode{std::numeric_limits<unsigned int>::max()} is \tcode{0xFFFF},
 the integer literal \tcode{0x8000} is signed and positive within a \tcode{\#if}
-expression even though it is unsigned in translation phase
-7\iref{lex.phases}.
+expression even though it is unsigned in \link{translation phase
+7}{lex.phases}.
 \end{note}
 This includes interpreting character literals, which may involve
 converting escape sequences into execution character set members.
@@ -928,7 +928,7 @@ not sequences possibly containing identifier-like subsequences
 (see \ref{lex.phases}, translation phases),
 they are never scanned for macro names or parameters.}
 to be replaced by the replacement list of preprocessing tokens
-that constitute the remainder of the directive.\footnote{An alternative token\iref{lex.digraph} is not an identifier,
+that constitute the remainder of the directive.\footnote{An \link{alternative token}{lex.digraph} is not an identifier,
 even when its spelling consists entirely of letters and underscores.
 Therefore it is not possible to define a macro
 whose name is the same as that of an alternative token.}
@@ -1477,7 +1477,7 @@ The
 \defn{line number}
 of the current source line is one greater than
 the number of new-line characters read or introduced
-in translation phase 1\iref{lex.phases}
+in \link{translation phase 1}{lex.phases}
 while processing the source file to the current token.
 
 \pnum
@@ -1619,8 +1619,8 @@ The presumed line number (within the current source file) of the current source
 The integer literal \tcode{1} if the implementation is a hosted
 implementation or the integer literal \tcode{0} if it is not.
 
-\indextext{__STDCPP_DEFAULT_NEW_ALIGNMENT__@\mname{STDCPP_DEFAULT_NEW_ALIGNMENT}}%
-\item \mname{STDCPP_DEFAULT_NEW_ALIGNMENT}\\
+\item \indexedspan{\mname{STDCPP_DEFAULT_NEW_ALIGNMENT}}{
+ \indextext{__STDCPP_DEFAULT_NEW_ALIGNMENT__@\mname{STDCPP_DEFAULT_NEW_ALIGNMENT}}}\\
 An integer literal of type \tcode{std::size_t}
 whose value is the alignment guaranteed
 by a call to \tcode{operator new(std::size_t)}
@@ -1748,12 +1748,12 @@ all amendments and technical corrigenda as of the specified year and month.
 \indextext{__STDCPP_STRICT_POINTER_SAFETY__@\mname{STDCPP_STRICT_POINTER_SAFETY}}%
 \item \mname{STDCPP_STRICT_POINTER_SAFETY}\\
 Defined, and has the value integer literal 1, if and only if the implementation
-has strict pointer safety\iref{basic.stc.dynamic.safety}.
+has \deflink{strict pointer safety}{basic.stc.dynamic.safety}.
 
 \indextext{__STDCPP_THREADS__@\mname{STDCPP_THREADS}}%
 \item \mname{STDCPP_THREADS}\\
 Defined, and has the value integer literal 1, if and only if a program
-can have more than one thread of execution\iref{intro.multithread}.
+can have more than one \link{thread of execution}{intro.multithread}.
 
 \end{description}
 
diff --git a/source/ranges.tex b/source/ranges.tex
index 86438672..a76d5f50 100644
--- a/source/ranges.tex
+++ b/source/ranges.tex
@@ -305,8 +305,8 @@ available when \tcode{<iterator>} is included.
 
 \rSec2[range.access.begin]{\tcode{ranges::begin}}
 \pnum
-The name \tcode{ranges::begin} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::begin} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::\brk{}begin(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
 
@@ -348,8 +348,8 @@ Whenever \tcode{ranges::begin(E)} is a valid expression, its type models
 
 \rSec2[range.access.end]{\tcode{ranges::end}}
 \pnum
-The name \tcode{ranges::end} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::end} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::end(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
 
@@ -399,8 +399,8 @@ model \tcode{\libconcept{sentinel_for}<S, I>}.
 
 \rSec2[range.access.cbegin]{\tcode{ranges::cbegin}}
 \pnum
-The name \tcode{ranges::cbegin} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::cbegin} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::\brk{}cbegin(E)} for some subexpression \tcode{E} of type \tcode{T}
 is expression-equivalent to:
 \begin{itemize}
@@ -416,8 +416,8 @@ Whenever \tcode{ranges::cbegin(E)} is a valid expression, its type models
 
 \rSec2[range.access.cend]{\tcode{ranges::cend}}
 \pnum
-The name \tcode{ranges::cend} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::cend} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::cend(E)} for some subexpression \tcode{E} of type \tcode{T}
 is expression-equivalent to:
 
@@ -436,8 +436,8 @@ model \tcode{\libconcept{sentinel_for}<S, I>}.
 
 \rSec2[range.access.rbegin]{\tcode{ranges::rbegin}}
 \pnum
-The name \tcode{ranges::rbegin} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::rbegin} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::\brk{}rbegin(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
 
@@ -480,8 +480,8 @@ Whenever \tcode{ranges::rbegin(E)} is a valid expression, its type models
 
 \rSec2[range.access.rend]{\tcode{ranges::rend}}
 \pnum
-The name \tcode{ranges::rend} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::rend} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::rend(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
 
@@ -531,8 +531,8 @@ model \tcode{\libconcept{sentinel_for}<S, I>}.
 
 \rSec2[range.access.crbegin]{\tcode{ranges::crbegin}}
 \pnum
-The name \tcode{ranges::crbegin} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::crbegin} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::\brk{}crbegin(E)} for some subexpression \tcode{E} of type
 \tcode{T} is expression-equivalent to:
 \begin{itemize}
@@ -549,8 +549,8 @@ type models \libconcept{input_or_output_iterator}.
 
 \rSec2[range.access.crend]{\tcode{ranges::crend}}
 \pnum
-The name \tcode{ranges::crend} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{ranges::crend} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::\brk{}crend(E)} for some subexpression \tcode{E} of type \tcode{T}
 is expression-equivalent to:
 \begin{itemize}
@@ -569,8 +569,8 @@ model \tcode{\libconcept{sentinel_for}<S, I>}.
 
 \rSec2[range.prim.size]{\tcode{ranges::size}}
 \pnum
-The name \tcode{size} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{size} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::size(E)} for some subexpression \tcode{E} with type
 \tcode{T} is expression-equivalent to:
 
@@ -627,8 +627,8 @@ type is integer-like.
 
 \rSec2[range.prim.empty]{\tcode{ranges::empty}}
 \pnum
-The name \tcode{empty} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{empty} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::empty(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
 
@@ -662,8 +662,8 @@ it has type \tcode{bool}.
 
 \rSec2[range.prim.data]{\tcode{ranges::data}}
 \pnum
-The name \tcode{data} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{data} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::data(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
 
@@ -693,8 +693,8 @@ has pointer to object type.
 
 \rSec2[range.prim.cdata]{\tcode{ranges::cdata}}
 \pnum
-The name \tcode{cdata} denotes a customization point
-object\iref{customization.point.object}. The expression
+The name \tcode{cdata} denotes a \link{customization point
+object}{customization.point.object}. The expression
 \tcode{ranges::cdata(E)} for some subexpression \tcode{E} of type \tcode{T}
 is expression-equivalent to:
 \begin{itemize}
@@ -835,7 +835,7 @@ return iterators obtained from it without danger of dangling.
 
 \pnum
 \begin{example}
-Specializations of class template \tcode{subrange}\iref{range.subrange}
+Specializations of class template \link{\tcode{subrange}}{range.subrange}
 model \tcode{\placeholdernc{forwarding-range}}. \tcode{subrange} provides
 non-member rvalue overloads of \tcode{begin} and \tcode{end} with the same
 semantics as its member lvalue overloads, and \tcode{subrange}'s iterators
@@ -943,7 +943,7 @@ and shares ownership with all its copies.
 \item A \libconcept{range} type that generates its elements on demand.
 \end{itemize}
 
-Most containers\iref{containers} are not views since
+Most \link{containers}{containers} are not views since
 copying the container copies the elements,
 which cannot be done in constant time.
 \end{example}
diff --git a/source/regex.tex b/source/regex.tex
index 831c0cd3..656cc13e 100644
--- a/source/regex.tex
+++ b/source/regex.tex
@@ -12,7 +12,7 @@ searching.
 
 \pnum
 The following subclauses describe a basic regular expression class template and its
-traits that can handle char-like\iref{strings.general} template arguments,
+traits that can handle \deflinkx{char-like}{char-like types}{strings.general} template arguments,
 two specializations of this class template that handle sequences of \tcode{char} and \tcode{wchar_t},
 a class template that holds the
 result of a regular expression match, a series of algorithms that allow a character
@@ -113,8 +113,8 @@ defining types and functions for the character container
 type \tcode{charT}; \tcode{u} is an object of
 type \tcode{X}; \tcode{v} is an object of type \tcode{const
 X}; \tcode{p} is a value of type \tcode{const charT*}; \tcode{I1}
-and \tcode{I2} are input iterators\iref{input.iterators};
-\tcode{F1} and \tcode{F2} are forward iterators\iref{forward.iterators};
+and \tcode{I2} are \link{input iterators}{input.iterators};
+\tcode{F1} and \tcode{F2} are \link{forward iterators}{forward.iterators};
 \tcode{c} is a value of type \tcode{const charT};
 \tcode{s} is an object of type \tcode{X::string_type};
 \tcode{cs} is an object of type \tcode{const X::string_type};
@@ -148,7 +148,7 @@ and \tcode{loc} is an object of type \tcode{X::locale_type}.
   & A type that represents the locale used by the traits class. \indextext{locale}
  \\ \rowsep
 \tcode{X::char_class_type}
- & A bitmask type\iref{bitmask.types}.
+ & A \link{bitmask type}{bitmask.types}.
  & A bitmask type representing a particular character classification.
    \indextext{regular expression traits!\idxcode{char_class_type}}%
    \indextext{\idxcode{char_class_type}!regular expression traits}%
@@ -605,14 +605,14 @@ shall be that used by extended regular expressions in POSIX.
 %
 \tcode{awk} &
 Specifies that the grammar recognized by the regular expression engine
-shall be that used by the utility awk in POSIX.
+shall be that used by the utility \weblink{awk}{http://pubs.opengroup.org/onlinepubs/9699919799/utilities/awk.html} in POSIX.
 \indextext{\idxcode{awk}}%
 \indexlibrary{\idxcode{syntax_option_type}!\idxcode{awk}}%
 \\ \rowsep
 %
 \tcode{grep} &
 Specifies that the grammar recognized by the regular expression engine
-shall be that used by the utility grep in POSIX.
+shall be that used by the utility \weblink{grep}{http://pubs.opengroup.org/onlinepubs/9699919799/utilities/grep.html} in POSIX.
 \indextext{\idxcode{grep}}%
 \indexlibrary{\idxcode{syntax_option_type}!\idxcode{grep}}%
 \\ \rowsep
@@ -639,42 +639,29 @@ if the \tcode{ECMAScript} engine is selected.
 
 \indexlibrary{\idxcode{match_flag_type}}%
 \indexlibrary{\idxcode{regex_constants}!\idxcode{match_flag_type}}%
-\indexlibrary{\idxcode{match_default}}%
-\indexlibrary{\idxcode{match_not_bol}}%
-\indexlibrary{\idxcode{match_not_eol}}%
-\indexlibrary{\idxcode{match_not_bow}}%
-\indexlibrary{\idxcode{match_not_eow}}%
-\indexlibrary{\idxcode{match_any}}%
-\indexlibrary{\idxcode{match_not_null}}%
-\indexlibrary{\idxcode{match_continuous}}%
-\indexlibrary{\idxcode{match_prev_avail}}%
-\indexlibrary{\idxcode{format_default}}%
-\indexlibrary{\idxcode{format_sed}}%
-\indexlibrary{\idxcode{format_no_copy}}%
-\indexlibrary{\idxcode{format_first_only}}%
 \begin{codeblock}
 namespace std::regex_constants {
   using match_flag_type = @\textit{T2}@;
-  inline constexpr match_flag_type match_default = {};
-  inline constexpr match_flag_type match_not_bol = @\unspec@;
-  inline constexpr match_flag_type match_not_eol = @\unspec@;
-  inline constexpr match_flag_type match_not_bow = @\unspec@;
-  inline constexpr match_flag_type match_not_eow = @\unspec@;
-  inline constexpr match_flag_type match_any = @\unspec@;
-  inline constexpr match_flag_type match_not_null = @\unspec@;
-  inline constexpr match_flag_type match_continuous = @\unspec@;
-  inline constexpr match_flag_type match_prev_avail = @\unspec@;
-  inline constexpr match_flag_type format_default = {};
-  inline constexpr match_flag_type format_sed = @\unspec@;
-  inline constexpr match_flag_type format_no_copy = @\unspec@;
-  inline constexpr match_flag_type format_first_only = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_default}@ = {};
+  inline constexpr match_flag_type @\libentity{match_not_bol}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_not_eol}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_not_bow}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_not_eow}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_any}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_not_null}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_continuous}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{match_prev_avail}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{format_default}@ = {};
+  inline constexpr match_flag_type @\libentity{format_sed}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{format_no_copy}@ = @\unspec@;
+  inline constexpr match_flag_type @\libentity{format_first_only}@ = @\unspec@;
 }
 \end{codeblock}
 
 \pnum
 \indexlibrary{\idxcode{match_flag_type}}%
 The type \tcode{match_flag_type} is an
-\impldef{type of \tcode{regex_constants::match_flag_type}} bitmask type\iref{bitmask.types}.
+\impldef{type of \tcode{regex_constants::match_flag_type}} \link{bitmask type}{bitmask.types}.
 The constants of that type, except for \tcode{match_default} and
 \tcode{format_default}, are bitmask elements. The \tcode{match_default} and
 \tcode{format_default} constants are empty bitmasks.
@@ -736,7 +723,7 @@ The expression shall only match a sub-sequence that begins at
 \tcode{match_prev_avail} &
 \verb!--first! is a valid iterator position. When this flag is
 set the flags \tcode{match_not_bol} and \tcode{match_not_bow} shall be ignored by the
-regular expression algorithms\iref{re.alg} and iterators\iref{re.iter}.
+\link{regular expression algorithms}{re.alg} and \link{iterators}{re.iter}.
 \\ \rowsep
 %
 \indexlibrary{\idxcode{format_default}}%
@@ -744,7 +731,7 @@ regular expression algorithms\iref{re.alg} and iterators\iref{re.iter}.
 When a regular expression match is to be replaced by a
 new string, the new string shall be constructed using the rules used by
 the ECMAScript replace function in ECMA-262,
-part 15.5.4.11 String.prototype.replace. In
+part 15.5.4.11 \weblink{String.prototype.replace}{https://tc39.github.io/ecma262/#sec-string.prototype.replace}. In
 addition, during search and replace operations all non-overlapping
 occurrences of the regular expression shall be located and replaced, and
 sections of the input that did not match the expression shall be copied
@@ -755,7 +742,7 @@ unchanged to the output string.
 \tcode{format_sed} &
 When a regular expression match is to be replaced by a
 new string, the new string shall be constructed using the rules used by
-the sed utility in POSIX.
+the \weblink{sed}{http://pubs.opengroup.org/onlinepubs/9699919799/utilities/sed.html} utility in POSIX.
 \\ \rowsep
 %
 \indexlibrary{\idxcode{format_no_copy}}%
@@ -797,7 +784,7 @@ namespace std::regex_constants {
 \indexlibrary{\idxcode{error_type}}%
 \indexlibrary{\idxcode{regex_constants}!\idxcode{error_type}}%
 The type \tcode{error_type} is an \impldef{type of
-\tcode{regex_constants::error_type}} enumerated type\iref{enumerated.types}.
+\tcode{regex_constants::error_type}} \link{enumerated type}{enumerated.types}.
 Values of type \tcode{error_type} represent the error
 conditions described in \tref{re.err}:
 
@@ -878,10 +865,11 @@ public:
 The class \tcode{regex_error} defines the type of objects thrown as
 exceptions to report errors from the regular expression library.
 
-\indexlibrary{\idxcode{regex_error}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{regex_error}!constructor}}
 \begin{itemdecl}
 regex_error(regex_constants::error_type ecode);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects  Constructs an object of class \tcode{regex_error}.
@@ -1131,10 +1119,11 @@ int value(charT ch, int radix) const;
 \end{itemdescr}
 
 \indexlibrary{\idxcode{locale}}%
-\indexlibrary{\idxcode{imbue}}%
+\begin{indexed}{\indexlibrary{\idxcode{imbue}}}
 \begin{itemdecl}
 locale_type imbue(locale_type loc);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1153,10 +1142,11 @@ otherwise a copy of the last argument passed to \tcode{imbue}.
 \end{itemdescr}
 
 \indexlibrary{\idxcode{locale}}%
-\indexlibrary{\idxcode{getloc}}%
+\begin{indexed}{\indexlibrary{\idxcode{getloc}}}
 \begin{itemdecl}
 locale_type getloc() const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3016,12 +3006,13 @@ regex_iterator();
 \pnum\effects  Constructs an end-of-sequence iterator.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{regex_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{regex_iterator}!constructor}}
 \begin{itemdecl}
 regex_iterator(BidirectionalIterator a, BidirectionalIterator b,
                const regex_type& re,
                regex_constants::match_flag_type m = regex_constants::match_default);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects  Initializes \tcode{begin} and \tcode{end} to
@@ -3307,10 +3298,11 @@ The \textit{current match} is \tcode{(*position).prefix()} if \tcode{subs[N] ==
 
 \rSec3[re.tokiter.cnstr]{Constructors}
 
-\indexlibrary{\idxcode{regex_token_iterator}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{regex_token_iterator}!constructor}}
 \begin{itemdecl}
 regex_token_iterator();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
diff --git a/source/statements.tex b/source/statements.tex
index 9b789f2f..deaa84fb 100644
--- a/source/statements.tex
+++ b/source/statements.tex
@@ -97,7 +97,7 @@ any of the substatements\iref{basic.scope.block}.
 The value of a \grammarterm{condition} that is an initialized declaration
 in a statement other than a \tcode{switch} statement is the value of the
 declared variable
-contextually converted to \tcode{bool}\iref{conv}.
+\deflinkx{contextually converted to \tcode{bool}}{conversion!contextual to bool}{conv}.
 If that
 conversion is ill-formed, the program is ill-formed. The value of a
 \grammarterm{condition} that is an initialized declaration in a
@@ -151,8 +151,8 @@ Labels have their own name space and do not interfere with other
 identifiers.
 \begin{note}
 A label may have the same name as another declaration in the same scope or a
-\grammarterm{template-parameter} from an enclosing scope. Unqualified name
-lookup\iref{basic.lookup.unqual} ignores labels.
+\grammarterm{template-parameter} from an enclosing scope. \link{Unqualified name
+lookup}{basic.lookup.unqual} ignores labels.
 \end{note}
 
 \pnum
@@ -173,7 +173,7 @@ Expression statements have the form
 \end{bnf}
 
 The expression is
-a discarded-value expression\iref{expr.prop}.
+a \deflink{discarded-value expression}{expr.prop}.
 All
 \indextext{side effects}%
 side effects from an expression statement
@@ -186,8 +186,8 @@ a \defn{null statement}.
 Most statements are expression statements --- usually assignments or
 function calls. A null statement is useful to carry a label just before
 the \tcode{\}} of a compound statement and to supply a null body to an
-iteration statement such as a \tcode{while}
-statement\iref{stmt.while}.
+iteration statement such as a \link{\tcode{while}
+statement}{stmt.while}.
 \end{note}
 
 \rSec1[stmt.block]{Compound statement or block}%
@@ -210,7 +210,7 @@ provided.
     statement-seq statement
 \end{bnf}
 
-A compound statement defines a block scope\iref{basic.scope}.
+A compound statement defines a \deflink{block scope}{basic.scope}.
 \begin{note}
 A declaration is a \grammarterm{statement}\iref{stmt.dcl}.
 \end{note}
@@ -279,24 +279,24 @@ an \tcode{else} part.\footnote{In other words, the \tcode{else} is associated wi
 
 \pnum
 If the \tcode{if} statement is of the form \tcode{if constexpr}, the value
-of the condition shall be a contextually
-converted constant expression of type \tcode{bool}\iref{expr.const}; this
-form is called a \defn{constexpr if} statement. If the value of the
+of the condition shall be a
+\deflink{contextually converted constant expression of type \tcode{bool}}{expr.const};
+this form is called a \defn{constexpr if} statement. If the value of the
 converted condition is \tcode{false}, the first substatement is a
 \defn{discarded statement}, otherwise the second substatement, if
 present, is a discarded statement. During the instantiation of an
-enclosing templated entity\iref{temp}, if the condition is
+enclosing \link{templated}{temp} entity, if the condition is
 not value-dependent after its instantiation, the discarded substatement
 (if any) is not instantiated.
 \begin{note}
-Odr-uses\iref{basic.def.odr} in a discarded statement do not require
+\link{Odr-uses}{basic.def.odr} in a discarded statement do not require
 an entity to be defined.
 \end{note}
 A \tcode{case} or \tcode{default} label appearing within such an
-\tcode{if} statement shall be associated with a \tcode{switch}
-statement\iref{stmt.switch} within the same \tcode{if} statement.
-A label\iref{stmt.label} declared in a substatement of a constexpr if
-statement shall only be referred to by a statement\iref{stmt.goto} in
+\tcode{if} statement shall be associated with a \link{\tcode{switch}
+statement}{stmt.switch} within the same \tcode{if} statement.
+A \link{label}{stmt.label} declared in a substatement of a constexpr if
+statement shall only be referred to by a \link{statement}{stmt.goto} in
 the same substatement.
 \begin{example}
 \begin{codeblock}
@@ -357,10 +357,10 @@ several statements depending on the value of a condition.
 \pnum
 The condition shall be of integral type, enumeration type, or class
 type. If of class type, the
-condition is contextually implicitly converted\iref{conv} to
+condition is \deflink{contextually implicitly converted}{conv} to
 an integral or enumeration type.
-If the (possibly converted) type is subject to integral
-promotions\iref{conv.prom}, the condition is converted
+If the (possibly converted) type is subject to \link{integral
+promotions}{conv.prom}, the condition is converted
 to the promoted type.
 Any
 statement within the \tcode{switch} statement can be labeled with one or
@@ -372,7 +372,7 @@ more case labels as follows:
 \end{ncbnf}
 
 where the \grammarterm{constant-expression} shall be
-a converted constant expression\iref{expr.const} of the
+a converted \link{constant expression}{expr.const} of the
 adjusted type of the switch condition. No two of the case constants in
 the same switch shall have the same value after conversion.
 
@@ -405,7 +405,7 @@ then none of the statements in the switch is executed.
 \pnum
 \tcode{case} and \tcode{default} labels in themselves do not alter the
 flow of control, which continues unimpeded across such labels. To exit
-from a switch, see \tcode{break}, \ref{stmt.break}.
+from a switch, see \link{\tcode{break}}{stmt.break}.
 \begin{note}
 Usually, the substatement that is the subject of a switch is compound
 and \tcode{case} and \tcode{default} labels appear on the top-level
@@ -471,7 +471,7 @@ An \grammarterm{init-statement} ends with a semicolon.
 \pnum
 \indextext{scope!\idxgram{iteration-statement}}%
 The substatement in an \grammarterm{iteration-statement} implicitly defines
-a block scope\iref{basic.scope} which is entered and exited each time
+a block \link{scope}{basic.scope} which is entered and exited each time
 through the loop.
 If the substatement in an \grammarterm{iteration-statement} is
 a single statement and not a \grammarterm{compound-statement},
@@ -561,7 +561,7 @@ fails.
 \indextext{statement!\idxcode{do}}
 
 \pnum
-The expression is contextually converted to \tcode{bool}\iref{conv};
+The expression is \deflinkx{contextually converted to \tcode{bool}}{conversion!contextual to bool}{conv};
 if that conversion is ill-formed, the program is ill-formed.
 
 \pnum
@@ -726,8 +726,8 @@ Jump statements unconditionally transfer control.
 \pnum
 \indextext{local variable!destruction of}%
 \indextext{scope!destructor and exit from}%
-On exit from a scope (however accomplished), objects with automatic storage
-duration\iref{basic.stc.auto} that have been constructed in that scope are destroyed
+On exit from a scope (however accomplished), objects with \link{automatic storage
+duration}{basic.stc.auto} that have been constructed in that scope are destroyed
 in the reverse order of their construction. \begin{note} For temporaries,
 see~\ref{class.temporary}. \end{note} Transfer out of a loop, out of a block, or back
 past
@@ -819,8 +819,8 @@ A function returns to its caller by the \tcode{return} statement.
 The \grammarterm{expr-or-braced-init-list}
 of a \tcode{return} statement is called its operand. A \tcode{return} statement with
 no operand shall be used only in a function whose return type is
-\cv{}~\tcode{void}, a constructor\iref{class.ctor}, or a
-destructor\iref{class.dtor}.
+\cv{}~\tcode{void}, a \link{constructor}{class.ctor}, or a
+\link{destructor}{class.dtor}.
 \indextext{\idxcode{return}!constructor and}%
 \indextext{\idxcode{return}!constructor and}%
 A \tcode{return} statement with an operand of type \tcode{void} shall be used only
@@ -830,7 +830,7 @@ in a function whose return type is not \cv{}~\tcode{void};
 \indextext{conversion!return type}%
 the \tcode{return} statement initializes the
 glvalue result or prvalue result object of the (explicit or implicit) function call
-by copy-initialization\iref{dcl.init} from the operand.
+by \deflink{copy-initialization}{dcl.init} from the operand.
 \begin{note}
 A \tcode{return} statement can involve
 an invocation of a constructor to perform a copy or move of the operand
@@ -851,7 +851,7 @@ a destructor, or
 a non-coroutine function with a \cv{}~\tcode{void} return type is
 equivalent to a \tcode{return} with no operand.
 Otherwise, flowing off the end of a function
-other than \tcode{main}\iref{basic.start.main} or a coroutine\iref{dcl.fct.def.coroutine}
+other than \link{\tcode{main}}{basic.start.main} or a coroutine\iref{dcl.fct.def.coroutine}
 results in undefined behavior.
 
 \pnum
@@ -913,7 +913,7 @@ otherwise flowing off the end of a coroutine results in undefined behavior.
 The \tcode{goto} statement unconditionally transfers control to the
 statement labeled by the identifier. The identifier shall be a
 \indextext{label}%
-label\iref{stmt.label} located in the current function.
+\link{label}{stmt.label} located in the current function.
 
 \rSec1[stmt.dcl]{Declaration statement}%
 \indextext{statement!declaration}
@@ -938,7 +938,7 @@ which it resumes its force.
 \pnum
 \indextext{block!initialization in}%
 \indextext{initialization!automatic}%
-Variables with automatic storage duration\iref{basic.stc.auto} are
+Variables with \link{automatic storage duration}{basic.stc.auto} are
 initialized each time their \grammarterm{declaration-statement} is executed.
 \indextext{local variable!destruction of}%
 Variables with automatic storage duration declared in the block are
@@ -980,8 +980,8 @@ lx:
 \indextext{initialization!local \tcode{static}}%
 \indextext{initialization!local \tcode{thread_local}}%
 Dynamic initialization of a block-scope variable with
-static storage duration\iref{basic.stc.static} or
-thread storage duration\iref{basic.stc.thread} is performed
+\link{static storage duration}{basic.stc.static} or
+\link{thread storage duration}{basic.stc.thread} is performed
 the first time control passes through its declaration; such a variable is
 considered initialized upon the completion of its initialization. If the
 initialization exits by throwing an exception, the initialization is not
@@ -1020,8 +1020,8 @@ static and thread storage duration are destroyed.
 \pnum
 There is an ambiguity in the grammar involving
 \grammarterm{expression-statement}{s} and \grammarterm{declaration}{s}: An
-\grammarterm{expression-statement} with a function-style explicit type
-conversion\iref{expr.type.conv} as its leftmost subexpression can be
+\grammarterm{expression-statement} with a \link{function-style explicit type
+conversion}{expr.type.conv} as its leftmost subexpression can be
 indistinguishable from a \grammarterm{declaration} where the first
 \grammarterm{declarator} starts with a \tcode{(}. In those cases the
 \grammarterm{statement} is a \grammarterm{declaration}.
diff --git a/source/strings.tex b/source/strings.tex
index 7df761d8..2fc7697c 100644
--- a/source/strings.tex
+++ b/source/strings.tex
@@ -750,7 +750,6 @@ In all cases,
 (a ``null terminator''\indextext{string!null terminator}),
 and \tcode{size() <= capacity()} is \tcode{true}.
 
-
 \indexlibrary{\idxcode{basic_string}}%
 \indexlibrarymember{traits_type}{basic_string}%
 \indexlibrarymember{value_type}{basic_string}%
@@ -1094,8 +1093,9 @@ invalidated by the following uses of that \tcode{basic_string} object:
 \begin{itemize}
 \item Passing as an argument to any standard library function taking a reference to non-const
 \tcode{basic_string} as an argument.\footnote{For example, as an argument to non-member
-functions \tcode{swap()}\iref{string.special},
-\tcode{operator>{}>()}\iref{string.io}, and \tcode{getline()}\iref{string.io}, or as
+functions \liblinkx{\tcode{swap()}}{basic_string!swap}{string.special},
+\liblinkx{\tcode{operator>{}>()}}{basic_string!operator>>}{string.io},
+and \link{\tcode{getline()}}{string.io}, or as
 an argument to \tcode{basic_string::swap()}.}
 
 \item Calling non-const member functions, except
@@ -1370,7 +1370,7 @@ constexpr basic_string& operator=(basic_string&& str)
 \begin{itemdescr}
 \pnum
 \effects
-Move assigns as a sequence container\iref{sequence.reqmts},
+Move assigns as a \link{sequence container}{sequence.reqmts},
 except that iterators, pointers and references may be invalidated.
 
 \pnum
@@ -1659,11 +1659,12 @@ Equivalent to: \tcode{erase(begin(), end());}
 
 \rSec3[string.access]{Element access}
 
-\indexlibrarymember{operator[]}{basic_string}%
+\begin{indexed}{\indexlibrarymember{operator[]}{basic_string}}
 \begin{itemdecl}
 constexpr const_reference operator[](size_type pos) const;
 constexpr reference       operator[](size_type pos);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1682,11 +1683,12 @@ returns a reference to an object of type \tcode{charT} with value
 \complexity Constant time.
 \end{itemdescr}
 
-\indexlibrarymember{at}{basic_string}%
+\begin{indexed}{\indexlibrarymember{at}{basic_string}}
 \begin{itemdecl}
 constexpr const_reference at(size_type pos) const;
 constexpr reference       at(size_type pos);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1700,11 +1702,12 @@ if
 \tcode{operator[](pos)}.
 \end{itemdescr}
 
-\indexlibrarymember{front}{basic_string}%
+\begin{indexed}{\indexlibrarymember{front}{basic_string}}
 \begin{itemdecl}
 constexpr const charT& front() const;
 constexpr charT& front();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1716,11 +1719,12 @@ constexpr charT& front();
 Equivalent to: \tcode{return operator[](0);}
 \end{itemdescr}
 
-\indexlibrarymember{back}{basic_string}%
+\begin{indexed}{\indexlibrarymember{back}{basic_string}}
 \begin{itemdecl}
 constexpr const charT& back() const;
 constexpr charT& back();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3336,7 +3340,6 @@ return basic_string_view<charT, traits>(lhs) @\placeholder{op}@ basic_string_vie
 
 \rSec3[string.special]{\tcode{swap}}
 
-\indexlibrarymember{swap}{basic_string}%
 \begin{itemdecl}
 template<class charT, class traits, class Allocator>
   constexpr void
@@ -3353,17 +3356,16 @@ Equivalent to \tcode{lhs.swap(rhs)}.
 
 \rSec3[string.io]{Inserters and extractors}
 
-\indexlibrarymember{operator>>}{basic_string}%
 \begin{itemdecl}
 template<class charT, class traits, class Allocator>
   basic_istream<charT, traits>&
-    operator>>(basic_istream<charT, traits>& is, basic_string<charT, traits, Allocator>& str);
+    @\libmember{operator>>}{basic_string}@(basic_istream<charT, traits>& is, basic_string<charT, traits, Allocator>& str);
 \end{itemdecl}
 
 \begin{itemdescr}
 \pnum
 \effects
-Behaves as a formatted input function\iref{istream.formatted.reqmts}.
+Behaves as a \link{formatted input function}{istream.formatted}.
 After constructing a
 \tcode{sentry}
 object, if the sentry converts to \tcode{true}, calls
@@ -3442,7 +3444,7 @@ template<class charT, class traits, class Allocator>
 \begin{itemdescr}
 \pnum
 \effects
-Behaves as an unformatted input function\iref{istream.unformatted},
+Behaves as an \link{unformatted input function}{istream.unformatted},
 except that it does not affect the value returned by subsequent calls to
 \tcode{basic_istream<>::gcount()}.
 After constructing a
@@ -3820,7 +3822,7 @@ The same suffix \tcode{s} is used for \tcode{chrono::duration} literals denoting
 \rSec1[string.view]{String view classes}
 
 \pnum
-The class template \tcode{basic_string_view} describes an object that can refer to a constant contiguous sequence of char-like\iref{strings.general} objects with the first element of the sequence at position zero.
+The class template \tcode{basic_string_view} describes an object that can refer to a constant contiguous sequence of \deflinkx{char-like objects}{char-like object}{strings.general} with the first element of the sequence at position zero.
 In the rest of this subclause, the type of the char-like objects held in a \tcode{basic_string_view} object is designated by \tcode{charT}.
 
 \pnum
@@ -4822,8 +4824,8 @@ template<class charT, class traits>
 \begin{itemdescr}
 \pnum
 \effects
-Behaves as a formatted output
-function\iref{ostream.formatted.reqmts} of \tcode{os}. Forms a character sequence
+Behaves as a \link{formatted output
+function}{ostream.formatted.reqmts} of \tcode{os}. Forms a character sequence
 \tcode{seq}, initially consisting of the elements defined by the range
 \range{str.begin()}{str.end()}. Determines padding for \tcode{seq}
 as described in~\ref{ostream.formatted.reqmts}.
@@ -5089,20 +5091,20 @@ The contents and meaning of the header \tcode{<cstring>}
 are the same as the C standard library header \tcode{<string.h>}.
 
 \pnum
-The functions \tcode{strerror} and \tcode{strtok} are not required to avoid data
-races\iref{res.on.data.races}.
+The functions \tcode{strerror} and \tcode{strtok} are not required to
+\link{avoid data races}{res.on.data.races}.
 
 \pnum
 \indextext{signal-safe!\idxcode{memcpy}}%
 \indextext{signal-safe!\idxcode{memmove}}%
-The functions \tcode{memcpy} and \tcode{memmove} are signal-safe\iref{support.signal}.
+The functions \tcode{memcpy} and \tcode{memmove} are \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}.
 
 \pnum
 \begin{note}
 The functions
 \tcode{strchr}, \tcode{strpbrk}, \tcode{strrchr}, \tcode{strstr}, and \tcode{memchr},
 have different signatures in this document,
-but they have the same behavior as in the C standard library\iref{library.c}.
+but they have the same behavior as in the \link{C standard library}{library.c}.
 \end{note}
 
 \xrefc{7.24}
@@ -5270,7 +5272,7 @@ are the same as the C standard library header
 The functions
 \tcode{wcschr}, \tcode{wcspbrk}, \tcode{wcsrchr}, \tcode{wcsstr}, and \tcode{wmemchr}
 have different signatures in this document,
-but they have the same behavior as in the C standard library\iref{library.c}.
+but they have the same behavior as in the \link{C standard library}{library.c}.
 \end{note}
 
 \xrefc{7.29}
diff --git a/source/support.tex b/source/support.tex
index 6a7d4d58..59eca18e 100644
--- a/source/support.tex
+++ b/source/support.tex
@@ -43,21 +43,14 @@ as summarized in \tref{support.summary}.
 
 \rSec2[cstddef.syn]{Header \tcode{<cstddef>} synopsis}
 
-\indexlibrary{\idxcode{NULL}}%
-\indexlibrary{\idxcode{offsetof}}%
-\indexlibrary{\idxcode{ptrdiff_t}}%
-\indexlibrary{\idxcode{size_t}}%
-\indexlibrary{\idxcode{max_align_t}}%
-\indexlibrary{\idxcode{nullptr_t}}%
-\indexlibrary{\idxcode{byte}}%
 \begin{codeblock}
 namespace std {
-  using ptrdiff_t = @\seebelow@;
-  using size_t = @\seebelow@;
-  using max_align_t = @\seebelow@;
-  using nullptr_t = decltype(nullptr);
+  using @\libentity{ptrdiff_t}@ = @\seebelow@;
+  using @\libentity{size_t}@ = @\seebelow@;
+  using @\libentity{max_align_t}@ = @\seebelow@;
+  using @\libentity{nullptr_t}@ = decltype(nullptr);
 
-  enum class byte : unsigned char {};
+  enum class @\libentity{byte}@ : unsigned char {};
 
   // \ref{support.types.byteops}, \tcode{byte} type operations
   template<class IntType>
@@ -79,8 +72,8 @@ namespace std {
     constexpr IntType to_integer(byte b) noexcept;
 }
 
-#define NULL @\seebelow@
-#define offsetof(P, D) @\seebelow@
+#define @\libentity{NULL}@ @\seebelow@
+#define @\libentity{offsetof}@(P, D) @\seebelow@
 \end{codeblock}
 
 \pnum
@@ -119,7 +112,6 @@ and as noted in
 \indexlibrary{\idxcode{div_t}}%
 \indexlibrary{\idxcode{exit}}%
 \indexlibrary{\idxcode{free}}%
-\indexlibrary{\idxcode{getenv}}%
 \indexlibrary{\idxcode{labs}}%
 \indexlibrary{\idxcode{ldiv}}%
 \indexlibrary{\idxcode{ldiv_t}}%
@@ -177,7 +169,7 @@ namespace std {
   [[noreturn]] void _Exit(int status) noexcept;
   [[noreturn]] void quick_exit(int status) noexcept;
 
-  char* getenv(const char* name);
+  char* @\libentity{getenv}@(const char* name);
   int system(const char* string);
 
   // \ref{c.malloc}, C library memory allocation
@@ -252,7 +244,7 @@ and except as noted in
 \ref{c.math.abs}.
 \begin{note}
 Several functions have additional overloads in this document,
-but they have the same behavior as in the C standard library\iref{library.c}.
+but they have the same behavior as in the \link{C standard library}{library.c}.
 \end{note}
 
 \xrefc{7.22}
@@ -260,8 +252,7 @@ but they have the same behavior as in the C standard library\iref{library.c}.
 \rSec2[support.types.nullptr]{Null pointers}
 
 \pnum
-\indexlibrary{\idxcode{nullptr_t}}%
-The type \tcode{nullptr_t} is a synonym
+The type \libentity{nullptr_t} is a synonym
 for the type of a \tcode{nullptr} expression, and it
 has the characteristics
 described in~\ref{basic.fundamental} and~\ref{conv.ptr}.
@@ -271,9 +262,7 @@ Although \tcode{nullptr}'s address cannot be taken, the address of another
 \end{note}
 
 \pnum
-The macro
-\indexlibrary{\idxcode{NULL}}%
-\tcode{NULL}
+The macro \libentity{NULL}
 is an \impldef{definition of \tcode{NULL}} null pointer constant.%
 \footnote{Possible definitions include
 \tcode{0}
@@ -288,8 +277,7 @@ but not
 
 \pnum
 The macro
-\indexlibrary{\idxcode{offsetof}}%
-\tcode{offsetof(\placeholder{type}, \placeholder{member-designator})}
+\libentity{offsetof}\tcode{(\placeholder{type}, \placeholder{member-designator})}
 has the same semantics as the corresponding macro in
 the C standard library header \tcode{<stddef.h>}, but
 accepts a restricted set of \tcode{\placeholder{type}}
@@ -301,8 +289,8 @@ is required to work as specified even if unary
 \tcode{operator\&}
 is overloaded for any of the types involved.}
 The expression \tcode{offsetof(\placeholder{type}, \placeholder{member-designator})}
-is never type-dependent\iref{temp.dep.expr} and it is
-value-dependent\iref{temp.dep.constexpr} if and only if \tcode{\placeholder{type}} is
+is never \link{type-dependent}{temp.dep.expr} and it is
+\link{value-dependent}{temp.dep.constexpr} if and only if \tcode{\placeholder{type}} is
 dependent. The result of applying the \tcode{offsetof} macro to
 a static data member or a function member is undefined.
 No operation invoked by the \tcode{offsetof} macro shall throw an exception and
@@ -323,7 +311,7 @@ to contain the size in bytes of any object\iref{expr.sizeof}.
 \pnum
 \begin{note}
 It is recommended that implementations choose types for \tcode{ptrdiff_t} and \tcode{size_t}
-whose integer conversion ranks\iref{conv.rank} are no greater than that of
+whose integer \link{conversion ranks}{conv.rank} are no greater than that of
 \tcode{signed long int} unless a larger size is necessary to contain all the possible values.
 \end{note}
 
@@ -493,9 +481,9 @@ template<class IntType>
 
 \pnum
 The headers
-\tcode{<limits>}\iref{limits.syn},
-\tcode{<climits>}\iref{climits.syn}, and
-\tcode{<cfloat>}\iref{cfloat.syn}
+\link{\tcode{<limits>}}{limits.syn},
+\link{\tcode{<climits>}}{climits.syn}, and
+\link{\tcode{<cfloat>}}{cfloat.syn}
 supply characteristics of
 \indextext{implementation-dependent}%
 imple\-mentation-dependent
@@ -815,24 +803,19 @@ values:
 
 \begin{itemize}
 \item
-\indexlibrary{\idxcode{round_indeterminate}}%
-\tcode{round_indeterminate}
+\libentity{round_indeterminate}
 if the rounding style is indeterminable
 \item
-\indexlibrary{\idxcode{round_toward_zero}}%
-\tcode{round_toward_zero}
+\libentity{round_toward_zero}
 if the rounding style is toward zero
 \item
-\indexlibrary{\idxcode{round_to_nearest}}%
-\tcode{round_to_nearest}
+\libentity{round_to_nearest}
 if the rounding style is to the nearest representable value
 \item
-\indexlibrary{\idxcode{round_toward_infinity}}%
-\tcode{round_toward_infinity}
+\libentity{round_toward_infinity}
 if the rounding style is toward infinity
 \item
-\indexlibrary{\idxcode{round_toward_neg_infinity}}%
-\tcode{round_toward_neg_infinity}
+\libentity{round_toward_neg_infinity}
 if the rounding style is toward negative infinity
 \end{itemize}
 
@@ -964,13 +947,13 @@ the specialization on the unqualified type \tcode{T}.
 
 \pnum
 Non-arithmetic standard types, such as
-\tcode{complex<T>}\iref{complex}, shall not have specializations.
+\link{\tcode{complex<T>}}{complex}, shall not have specializations.
 
 \rSec3[numeric.limits.members]{\tcode{numeric_limits} members}
 
 \pnum
 \indextext{signal-safe!\idxcode{numeric_limits} members}%
-Each member function defined in this subclause is signal-safe\iref{support.signal}.
+Each member function defined in this subclause is \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}.
 
 \indexlibrarymember{min}{numeric_limits}%
 \begin{itemdecl}
@@ -994,10 +977,11 @@ or
 \tcode{is_bounded == false \&\& is_signed == false}.
 \end{itemdescr}
 
-\indexlibrarymember{max}{numeric_limits}%
+\begin{indexed}{\indexlibrarymember{max}{numeric_limits}}
 \begin{itemdecl}
 static constexpr T max() noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1847,7 +1831,7 @@ the C standard library header \tcode{<stdint.h>}.
 \pnum
 \indexhdr{cstdlib}%
 \begin{note}
-The header \tcode{<cstdlib>}\iref{cstdlib.syn}
+The header \link{\tcode{<cstdlib>}}{cstdlib.syn}
 declares the functions described in this subclause.
 \end{note}
 
@@ -1867,7 +1851,7 @@ The program is terminated without executing destructors for objects of automatic
 thread, or static storage duration and without calling functions passed to
 \tcode{atexit()}\iref{basic.start.term}.
 \indextext{signal-safe!\idxcode{_Exit}}%
-The function \tcode{_Exit} is signal-safe\iref{support.signal}.
+The function \tcode{_Exit} is \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}.
 \end{itemdescr}
 
 \indexlibrary{\idxcode{abort}}%
@@ -1887,7 +1871,7 @@ automatic, thread, or static storage
 duration and without calling functions passed to
 \tcode{atexit()}\iref{basic.start.term}.
 \indextext{signal-safe!\idxcode{abort}}%
-The function \tcode{abort} is signal-safe\iref{support.signal}.
+The function \tcode{abort} is \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}.
 \end{itemdescr}
 
 \indexlibrary{\idxcode{atexit}}%
@@ -1904,7 +1888,8 @@ The
 functions register the function pointed to by \tcode{f}
 to be called without arguments at normal program termination.
 It is unspecified whether a call to \tcode{atexit()} that does not
-happen before\iref{intro.multithread} a call to \tcode{exit()} will succeed.
+\deflinkx{happen before}{happens before}{intro.multithread}
+a call to \tcode{exit()} will succeed.
 \begin{note} The \tcode{atexit()} functions do not introduce a data
 race\iref{res.on.data.races}. \end{note}
 
@@ -1920,10 +1905,11 @@ function returns zero if the registration succeeds,
 nonzero if it fails.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{exit}}%
+\begin{indexed}{\indexlibrary{\idxcode{exit}}}
 \begin{itemdecl}
 [[noreturn]] void exit(int status);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -1938,7 +1924,7 @@ are called.\footnote{A function is called for every time it is registered.}
 See~\ref{basic.start.term} for the order of destructions and calls.
 (Automatic objects are not destroyed as a result of calling
 \tcode{exit()}.)\footnote{Objects with automatic storage duration are all destroyed in a program whose
-\tcode{main} function\iref{basic.start.main}
+\link{\tcode{main} function}{basic.start.main}
 contains no automatic objects and executes the call to
 \tcode{exit()}.
 Control can be transferred directly to such a
@@ -1992,7 +1978,8 @@ int at_quick_exit(@\placeholder{atexit-handler}@* f) noexcept;
 \effects The \tcode{at_quick_exit()} functions register the function pointed to by \tcode{f}
 to be called without arguments when \tcode{quick_exit} is called.
 It is unspecified whether a call to \tcode{at_quick_exit()} that does not
-happen before\iref{intro.multithread} all calls to \tcode{quick_exit} will succeed. \begin{note} The
+\deflinkx{happen before}{happens before}{intro.multithread}
+all calls to \tcode{quick_exit} will succeed. \begin{note} The
 \tcode{at_quick_exit()} functions do not introduce a
 data race\iref{res.on.data.races}. \end{note}
 \begin{note}
@@ -2038,7 +2025,7 @@ After calling registered functions, \tcode{quick_exit} shall call \tcode{_Exit(s
 \pnum
 \remarks
 \indextext{signal-safe!\idxcode{quick_exit}}%
-The function \tcode{quick_exit} is signal-safe\iref{support.signal}
+The function \tcode{quick_exit} is \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}
 when the functions registered with \tcode{at_quick_exit} are.
 \end{itemdescr}
 
@@ -2148,7 +2135,7 @@ and thereby displace the default versions defined by the
 \pnum
 \effects
 The
-allocation functions\iref{basic.stc.dynamic.allocation}
+\link{allocation functions}{basic.stc.dynamic.allocation}
 called by a
 \grammarterm{new-expression}\iref{expr.new}
 to allocate
@@ -2188,7 +2175,7 @@ a null pointer value, throws
 \tcode{bad_alloc}.
 \item
 Otherwise, the function calls the current
-\tcode{new_handler} function\iref{new.handler}.
+\link{\tcode{new_handler}}{new.handler} function.
 If the called function returns, the loop repeats.
 \item
 The loop terminates when an attempt to allocate the requested storage is
@@ -2260,7 +2247,7 @@ void operator delete(void* ptr, std::size_t size, std::align_val_t alignment) no
 \pnum
 \effects
 The
-deallocation functions\iref{basic.stc.dynamic.deallocation}
+\link{deallocation functions}{basic.stc.dynamic.deallocation}
 called by a
 \grammarterm{delete-expression}\iref{expr.delete}
 to render the value of \tcode{ptr} invalid.
@@ -2359,7 +2346,7 @@ void operator delete(void* ptr, std::align_val_t alignment, const std::nothrow_t
 \pnum
 \effects
 The
-deallocation functions\iref{basic.stc.dynamic.deallocation}
+\link{deallocation functions}{basic.stc.dynamic.deallocation}
 called by the implementation
 to render the value of \tcode{ptr} invalid
 when the constructor invoked from a nothrow
@@ -2414,7 +2401,7 @@ respectively.
 \pnum
 \effects
 The
-allocation functions\iref{basic.stc.dynamic.allocation}
+\link{allocation functions}{basic.stc.dynamic.allocation}
 called by the array form of a
 \grammarterm{new-expression}\iref{expr.new}
 to allocate
@@ -2510,7 +2497,7 @@ void operator delete[](void* ptr, std::size_t size, std::align_val_t alignment)
 \pnum
 \effects
 The
-deallocation functions\iref{basic.stc.dynamic.deallocation}
+\link{deallocation functions}{basic.stc.dynamic.deallocation}
 called by the array form of a
 \grammarterm{delete-expression}
 to render the value of \tcode{ptr} invalid.
@@ -2590,7 +2577,7 @@ void operator delete[](void* ptr, std::align_val_t alignment, const std::nothrow
 \pnum
 \effects
 The
-deallocation functions\iref{basic.stc.dynamic.deallocation}
+\link{deallocation functions}{basic.stc.dynamic.deallocation}
 called by the implementation
 to render the value of \tcode{ptr} invalid
 when the constructor invoked from a nothrow
@@ -2741,8 +2728,8 @@ versions of \tcode{operator delete}, the C standard library function
 introduce a data race\iref{res.on.data.races}.
 Calls to these functions that allocate or deallocate a particular unit
 of storage shall occur in a single total order, and each such deallocation call
-shall happen before\iref{intro.multithread} the next allocation (if any) in
-this order.
+shall \deflinkx{happen before}{happens before}{intro.multithread}
+the next allocation (if any) in this order.
 
 \rSec2[alloc.errors]{Storage allocation errors}
 
@@ -2810,10 +2797,11 @@ An \impldef{return value of \tcode{bad_array_new_length::what}} \ntbs{}.
 
 \rSec3[new.handler]{Type \tcode{new_handler}}
 
-\indexlibrary{\idxcode{new_handler}}%
+\begin{indexed}{\indexlibrary{\idxcode{new_handler}}}
 \begin{itemdecl}
 using new_handler = void (*)();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -2894,8 +2882,8 @@ template<class T> [[nodiscard]] constexpr T* launder(T* p) noexcept;
 \pnum
 \expects
 \tcode{p} represents the address \placeholder{A} of a byte in memory.
-An object \placeholder{X} that is within its lifetime\iref{basic.life}
-and whose type is similar\iref{conv.qual} to \tcode{T}
+An object \placeholder{X} that is within its \deflink{lifetime}{basic.life}
+and whose type is \deflinkx{similar}{similar types}{conv.qual} to \tcode{T}
 is located at the address \placeholder{A}.
 All bytes of storage that would be reachable through the result
 are reachable through \tcode{p} (see below).
@@ -3108,7 +3096,8 @@ An \impldef{return value of \tcode{type_info::name()}} \ntbs{}.
 
 \pnum
 \remarks
-The message may be a null-terminated multibyte string\iref{multibyte.strings},
+The message may be a
+\deflinkx{null-terminated multibyte string}{string!null-terminated multibyte}{multibyte.strings},
 suitable for conversion and display as a
 \tcode{wstring}~(\ref{string.classes}, \ref{locale.codecvt}).
 \end{itemdescr}
@@ -3501,7 +3490,8 @@ An \impldef{return value of \tcode{exception::what}} \ntbs{}.
 
 \pnum
 \remarks
-The message may be a null-terminated multibyte string\iref{multibyte.strings},
+The message may be a
+\deflinkx{null-terminated multibyte string}{string!null-terminated multibyte}{multibyte.strings},
 suitable for conversion and display as a
 \tcode{wstring}~(\ref{string.classes}, \ref{locale.codecvt}).
 The return value remains valid until the exception object from which
@@ -3641,21 +3631,22 @@ int uncaught_exceptions() noexcept;
 \begin{itemdescr}
 \pnum
 \returns
-The number of uncaught exceptions\iref{except.uncaught}.
+The number of \link{uncaught exceptions}{except.uncaught}.
 
 \pnum
 \remarks
 When \tcode{uncaught_exceptions() > 0},
 throwing an exception can result in a call of the function
-\tcode{std::terminate}\iref{except.terminate}.
+\link{\tcode{std::terminate}}{except.terminate}.
 \end{itemdescr}
 
 \rSec2[propagation]{Exception propagation}
 
-\indexlibrary{\idxcode{exception_ptr}}%
+\begin{indexed}{\indexlibrary{\idxcode{exception_ptr}}}
 \begin{itemdecl}
 using exception_ptr = @\unspec@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3700,8 +3691,9 @@ exception_ptr current_exception() noexcept;
 
 \begin{itemdescr}
 \pnum
-\returns An \tcode{exception_ptr} object that refers to
-the currently handled exception\iref{except.handle} or a copy of the currently
+\returns An \tcode{exception_ptr} object that refers to the
+\deflinkx{currently handled exception}{exception handling!currently handled exception}{except.handle}
+or a copy of the currently
 handled exception, or a null \tcode{exception_ptr} object if no exception is being
 handled. The referenced object shall remain valid at least as long as there is an
 \tcode{exception_ptr} object that refers to it.
@@ -3863,7 +3855,7 @@ if (auto p = dynamic_cast<const nested_exception*>(addressof(e)))
 The header \tcode{<initializer_list>} defines a class template and several
 support functions related to list-initialization~(see \ref{dcl.init.list}).
 \indextext{signal-safe!\idxcode{initializer_list} functions}%
-All functions specified in this subclause are signal-safe\iref{support.signal}.
+All functions specified in this subclause are \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}.
 
 \rSec2[initializer.list.syn]{Header \tcode{<initializer_list>} synopsis}
 \indexlibrary{\idxcode{initializer_list}}%
@@ -3985,7 +3977,7 @@ template<class E> constexpr const E* end(initializer_list<E> il) noexcept;
 \pnum
 The header \tcode{<compare>} specifies types, objects, and functions
 for use primarily in connection with
-the three-way comparison operator\iref{expr.spaceship}.
+the \link{three-way comparison operator}{expr.spaceship}.
 
 \indexhdr{compare}%
 \indexlibrary{\idxcode{is_eq}}%
@@ -4101,7 +4093,7 @@ that is accessible via the argument's public const members.
 
 \pnum
 The \tcode{weak_equality} type is typically used
-as the result type of a three-way comparison operator\iref{expr.spaceship}
+as the result type of a \link{three-way comparison operator}{expr.spaceship}
 that (a) admits only equality and inequality comparisons,
 and (b) does not imply substitutability.
 
@@ -4161,7 +4153,7 @@ constexpr weak_equality operator<=>(@\unspec@, weak_equality v) noexcept;
 
 \pnum
 The \tcode{strong_equality} type is typically used
-as the result type of a three-way comparison operator\iref{expr.spaceship}
+as the result type of a \link{three-way comparison operator}{expr.spaceship}
 that (a) admits only equality and inequality comparisons,
 and (b) does imply substitutability.
 
@@ -4241,7 +4233,7 @@ constexpr strong_equality operator<=>(@\unspec@, strong_equality v) noexcept;
 
 \pnum
 The \tcode{partial_ordering} type is typically used
-as the result type of a three-way comparison operator\iref{expr.spaceship}
+as the result type of a \link{three-way comparison operator}{expr.spaceship}
 that (a) admits all of the six two-way comparison operators (\ref{expr.rel}, \ref{expr.eq}),
 (b) does not imply substitutability,
 and (c) permits two values to be incomparable.%
@@ -4375,7 +4367,7 @@ constexpr partial_ordering operator<=>(@\unspec@, partial_ordering v) noexcept;
 
 \pnum
 The \tcode{weak_ordering} type is typically used
-as the result type of a three-way comparison operator\iref{expr.spaceship}
+as the result type of a \link{three-way comparison operator}{expr.spaceship}
 that (a) admits all of the six two-way comparison operators (\ref{expr.rel}, \ref{expr.eq}),
 and (b) does not imply substitutability.
 
@@ -4512,7 +4504,7 @@ constexpr weak_ordering operator<=>(@\unspec@, weak_ordering v) noexcept;
 
 \pnum
 The \tcode{strong_ordering} type is typically used
-as the result type of a three-way comparison operator\iref{expr.spaceship}
+as the result type of a \link{three-way comparison operator}{expr.spaceship}
 that (a) admits all of the six two-way comparison operators (\ref{expr.rel}, \ref{expr.eq}),
 and (b) does imply substitutability.
 
@@ -5636,7 +5628,7 @@ provide further compatibility with C code.
 \pnum
 Calls to the function
 \indexlibrary{\idxcode{getenv}}%
-\tcode{getenv}\iref{cstdlib.syn} shall not introduce a data
+\liblinkx{\tcode{getenv}}{getenv}{cstdlib.syn} shall not introduce a data
 race\iref{res.on.data.races} provided that nothing modifies the environment.
 \begin{note} Calls to the POSIX functions
 \indexlibrary{\idxcode{setenv}}%
@@ -5646,7 +5638,7 @@ race\iref{res.on.data.races} provided that nothing modifies the environment.
 environment. \end{note}
 
 \pnum
-A call to the \tcode{setlocale} function\iref{c.locales}
+A call to the \liblinkx{\tcode{setlocale}}{setlocale}{c.locales} function
 may introduce a data race with other
 calls to the \tcode{setlocale} function or with calls to functions that are
 affected by the current C locale. The implementation shall behave as if no
@@ -5663,13 +5655,13 @@ function.
 \indexlibrary{\idxcode{va_arg}}%
 \begin{codeblock}
 namespace std {
-  using va_list = @\seebelow@;
+  using @\libentity{va_list}@ = @\seebelow@;
 }
 
-#define va_arg(V, P) @\seebelow@
-#define va_copy(VDST, VSRC) @\seebelow@
-#define va_end(V) @\seebelow@
-#define va_start(V, P) @\seebelow@
+#define @\libentity{va_arg}@(V, P) @\seebelow@
+#define @\libentity{va_copy}@(VDST, VSRC) @\seebelow@
+#define @\libentity{va_end}@(V) @\seebelow@
+#define @\libentity{va_start}@(V, P) @\seebelow@
 \end{codeblock}
 
 \pnum
diff --git a/source/templates.tex b/source/templates.tex
index f3faf4a7..c5ab6a2e 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -143,7 +143,7 @@ a class template declaration, if the
 class name
 is a
 \grammarterm{simple-template-id},
-the declaration declares a class template partial specialization\iref{temp.class.spec}.
+the declaration declares a \link{class template partial specialization}{temp.class.spec}.
 \end{note}
 
 \pnum
@@ -174,17 +174,17 @@ shall be a type concept\iref{temp.concept}.
 
 \pnum
 \indextext{template name!linkage of}%
-A template name has linkage\iref{basic.link}.
+A template name has \link{linkage}{basic.link}.
 Specializations (explicit or implicit) of
 a template that has internal linkage are
 distinct from all specializations in other translation
 units.
-A template, a template explicit specialization\iref{temp.expl.spec}, and a class
+A template, a template \link{explicit specialization}{temp.expl.spec}, and a class
 template partial specialization shall not have C linkage. Use of a linkage specification
 other than \tcode{"C"} or \tcode{"C++"} with any of these constructs is
 conditionally-supported, with
 \impldef{semantics of linkage specification on templates} semantics.
-Template definitions shall obey the one-definition rule\iref{basic.def.odr}.
+Template definitions shall obey the \link{one-definition rule}{basic.def.odr}.
 \begin{note}
 Default arguments for function templates and for member functions of
 class templates are considered definitions for the purpose of template
@@ -249,8 +249,8 @@ int f();            // error: parentheses required around \tcode{==} expression
 A function template, member function of a class template, variable template,
 or static data
 member of a class template shall be defined in every translation unit in
-which it is implicitly instantiated\iref{temp.inst} unless the
-corresponding specialization is explicitly instantiated\iref{temp.explicit}
+which it is \link{implicitly instantiated}{temp.inst} unless the
+corresponding specialization is \link{explicitly instantiated}{temp.explicit}
 in some translation unit; no diagnostic is required.
 
 \rSec1[temp.param]{Template parameters}
@@ -500,7 +500,7 @@ A default
 may be specified for any kind of
 \grammarterm{template-parameter}
 (type, non-type, template)
-that is not a template parameter pack\iref{temp.variadic}.
+that is not a \deflink{template parameter pack}{temp.variadic}.
 A default
 \grammarterm{template-argument}
 may be specified in a template declaration.
@@ -643,7 +643,7 @@ If a \grammarterm{template-parameter} is a
 optional \grammarterm{identifier} or is a
 \grammarterm{parameter-declaration} that declares a
 pack\iref{dcl.fct}, then the \grammarterm{template-parameter}
-is a template parameter pack\iref{temp.variadic}.
+is a \deflink{template parameter pack}{temp.variadic}.
 A template parameter pack that is a \grammarterm{parameter-declaration} whose type
 contains one or more unexpanded packs is a pack expansion. Similarly,
 a template parameter pack that is a \grammarterm{type-parameter} with a
@@ -675,7 +675,7 @@ template <class... T, T... Values>              // error: \tcode{Values} expands
 \rSec1[temp.names]{Names of template specializations}
 
 \pnum
-A template specialization\iref{temp.spec} can be referred to by a
+A \link{template specialization}{temp.spec} can be referred to by a
 \grammarterm{template-id}:
 
 \begin{bnf}
@@ -709,7 +709,7 @@ A template specialization\iref{temp.spec} can be referred to by a
 \end{bnf}
 
 \begin{note}
-The name lookup rules\iref{basic.lookup} are used to associate the use of
+The \link{name lookup}{basic.lookup} rules are used to associate the use of
 a name with a template declaration;
 that is, to identify a name as a
 \grammarterm{template-name}.
@@ -973,8 +973,8 @@ specified in a
 shall match the type and form specified for the corresponding
 parameter declared by the template in its
 \grammarterm{template-parameter-list}.
-When the parameter declared by the template is a template
-parameter pack\iref{temp.variadic}, it will correspond to zero or more
+When the parameter declared by the template is a
+\deflink{template parameter pack}{temp.variadic}, it will correspond to zero or more
 \grammarterm{template-argument}{s}.
 \begin{example}
 \begin{codeblock}
@@ -1139,7 +1139,7 @@ the program is ill-formed.
 \pnum
 When a \grammarterm{simple-template-id} does not name a function,
 a default \grammarterm{template-argument} is
-implicitly instantiated\iref{temp.inst}
+\link{implicitly instantiated}{temp.inst}
 when the value of that default argument is needed.
 \begin{example}
 \begin{codeblock}
@@ -1151,7 +1151,7 @@ The default argument for \tcode{U} is instantiated to form the type \tcode{S<boo
 
 \pnum
 A \grammarterm{template-argument} followed by an ellipsis is
-a pack expansion\iref{temp.variadic}.
+a \deflink{pack expansion}{temp.variadic}.
 
 \rSec2[temp.arg.type]{Template type arguments}
 
@@ -1186,7 +1186,7 @@ void f() {
 \end{codeblock}
 \end{example}
 \begin{note}
-A template type argument may be an incomplete type\iref{basic.types}.
+A template type argument may be an \deflinkx{incomplete type}{type!incomplete}{basic.types}.
 \end{note}
 
 \rSec2[temp.arg.nontype]{Template non-type arguments}
@@ -1344,7 +1344,7 @@ considered even if their parameter lists match that of the template template
 parameter.
 
 \pnum
-Any partial specializations\iref{temp.class.spec} associated with the
+Any \link{partial specializations}{temp.class.spec} associated with the
 primary class template or primary variable template are considered when a
 specialization based on the template
 \grammarterm{template-parameter}
@@ -1452,8 +1452,8 @@ if, given the following rewrite to two function templates,
 the function template corresponding to \tcode{P}
 is at least as specialized as
 the function template corresponding to \tcode{A}
-according to the partial ordering rules
-for function templates\iref{temp.func.order}.
+according to the \link{partial ordering rules
+for function templates}{temp.func.order}.
 Given an invented class template \tcode{X}
 with the \grammarterm{template-head} of \tcode{A} (including default arguments
 and \grammarterm{requires-clause}, if any):
@@ -1497,14 +1497,14 @@ operands that specifies requirements on template arguments.
 The operands of a logical operation are constraints.
 There are three different kinds of constraints:
 \begin{itemize}
-\item conjunctions\iref{temp.constr.op},
-\item disjunctions\iref{temp.constr.op}, and
-\item atomic constraints\iref{temp.constr.atomic}.
+\item \deflinkx{conjunctions}{conjunction}{temp.constr.op},
+\item \deflinkx{disjunctions}{disjunction}{temp.constr.op}, and
+\item \deflinkx{atomic constraints}{atomic constraint}{temp.constr.atomic}.
 \end{itemize}
 
 \pnum
 In order for a constrained template to be instantiated\iref{temp.spec},
-its associated constraints\iref{temp.constr.decl}
+its \deflink{associated constraints}{temp.constr.decl}
 shall be satisfied as described in the following subclauses.
 \begin{note}
 Forming the name of a specialization of
@@ -1512,7 +1512,7 @@ a class template,
 a variable template, or
 an alias template\iref{temp.names}
 requires the satisfaction of its constraints.
-Overload resolution\iref{over.match.viable}
+\link{Overload resolution}{over.match.viable}
 requires the satisfaction of constraints
 on functions and function templates.
 \end{note}
@@ -1569,7 +1569,7 @@ void f(int);
 
 f('a'); // OK: calls \tcode{f(int)}
 \end{codeblock}
-In the satisfaction of the associated constraints\iref{temp.constr.decl}
+In the satisfaction of the \deflink{associated constraints}{temp.constr.decl}
 of \tcode{f}, the constraint \tcode{sizeof(char) > 1} is not satisfied;
 the second operand is not checked for satisfaction.
 \end{example}
@@ -1585,9 +1585,9 @@ template arguments involving the
 template parameters of the constrained entity,
 called the \defn{parameter mapping}\iref{temp.constr.decl}.
 \begin{note}
-Atomic constraints are formed by constraint normalization\iref{temp.constr.normal}.
-\tcode{E} is never a logical \logop{AND} expression\iref{expr.log.and}
-nor a logical \logop{OR} expression\iref{expr.log.or}.
+Atomic constraints are formed by \deflinkx{constraint normalization}{constraint!normalization}{temp.constr.normal}.
+\tcode{E} is never a \link{logical \logop{AND} expression}{expr.log.and}
+nor a \link{logical \logop{OR} expression}{expr.log.or}.
 \end{note}
 
 \pnum
@@ -1606,7 +1606,7 @@ the parameter mapping and template arguments are
 first substituted into its expression.
 If substitution results in an invalid type or expression,
 the constraint is not satisfied.
-Otherwise, the lvalue-to-rvalue conversion\iref{conv.lval}
+Otherwise, the \link{lvalue-to-rvalue conversion}{conv.lval}
 is performed if necessary,
 and \tcode{E} shall be a constant expression of type \tcode{bool}.
 The constraint is satisfied if and only if evaluation of \tcode{E}
@@ -1634,8 +1634,8 @@ void g() {
 \rSec2[temp.constr.decl]{Constrained declarations}
 
 \pnum
-A template declaration\iref{temp}
-or function declaration\iref{dcl.fct}
+A \link{template declaration}{temp}
+or \link{function declaration}{dcl.fct}
 can be constrained by the use of a \grammarterm{requires-clause}.
 This allows the specification of constraints for that declaration as
 an expression:
@@ -1661,11 +1661,11 @@ A template's \defn{associated constraints} are defined as follows:
 the declaration has no associated constraints.
 
 \item Otherwise, if there is a single introduced \grammarterm{constraint-expression},
-the associated constraints are the normal form\iref{temp.constr.normal}
+the associated constraints are the \deflink{normal form}{temp.constr.normal}
 of that expression.
 
-\item Otherwise, the associated constraints are the normal form of a logical
-\logop{AND} expression\iref{expr.log.and} whose operands are in the
+\item Otherwise, the associated constraints are the normal form of a \link{logical
+\logop{AND} expression}{expr.log.and} whose operands are in the
 following order:
 
 \begin{itemize}
@@ -1731,7 +1731,7 @@ and those of
 
 \pnum
 The \defnx{normal form}{normal form!constraint} of an \grammarterm{expression} \tcode{E} is
-a constraint\iref{temp.constr.constr} that is defined as follows:
+a \deflink{constraint}{temp.constr.constr} that is defined as follows:
 %
 \begin{itemize}
 \item
@@ -1740,7 +1740,7 @@ the normal form of \tcode{E}.
 
 \item
 The normal form of an expression \tcode{E1 || E2} is
-the disjunction\iref{temp.constr.op} of
+the \deflink{disjunction}{temp.constr.op} of
 the normal forms of \tcode{E1} and \tcode{E2}.
 
 \item
@@ -1864,7 +1864,7 @@ rules described in \ref{temp.constr.atomic}.
 \end{itemize}
 %
 \begin{example}
-Let $A$ and $B$ be atomic constraints\iref{temp.constr.atomic}.
+Let $A$ and $B$ be \deflinkx{atomic constraints}{atomic constraint}{temp.constr.atomic}.
 %
 The constraint $A \land B$ subsumes $A$, but $A$ does not subsume $A \land B$.
 %
@@ -1881,9 +1881,9 @@ This partial ordering is used to determine
 \begin{itemize}
 \item the best viable candidate of non-template functions\iref{over.match.best},
 \item the address of a non-template function\iref{over.over},
-\item the matching of template template arguments\iref{temp.arg.template},
-\item the partial ordering of class template specializations\iref{temp.class.order}, and
-\item the partial ordering of function templates\iref{temp.func.order}.
+\item the matching of \link{template template arguments}{temp.arg.template},
+\item the \link{partial ordering of class template specializations}{temp.class.order}, and
+\item the \link{partial ordering of function templates}{temp.func.order}.
 \end{itemize}
 \end{note}
 
@@ -1994,7 +1994,7 @@ declares \tcode{y} and \tcode{z} to be of the same type.
 \end{example}
 
 \pnum
-If an expression $e$ is type-dependent\iref{temp.dep.expr},
+If an expression $e$ is \link{type-dependent}{temp.dep.expr},
 \tcode{decltype($e$)}
 denotes a unique dependent type. Two such \grammarterm{decltype-specifier}{s}
 refer to the same type only if their \grammarterm{expression}{s} are
@@ -2020,7 +2020,7 @@ template<class T1, int I> void sort<T1, I>(T1 data[I]);         // error
 \end{codeblock}
 \end{example}
 \begin{note}
-However, this syntax is allowed in class template partial specializations\iref{temp.class.spec}.
+However, this syntax is allowed in \link{class template partial specializations}{temp.class.spec}.
 \end{note}
 
 \pnum
@@ -2049,8 +2049,8 @@ default arguments
 \grammarterm{requires-clause}{s},
 or
 \grammarterm{noexcept-specifier}{s}.
-For the purpose of instantiation, the substatements of a constexpr if
-statement\iref{stmt.if} are considered definitions.
+For the purpose of instantiation, the substatements of a
+\deflink{constexpr if}{stmt.if} statement are considered definitions.
 
 \pnum
 Because an \grammarterm{alias-declaration} cannot declare a
@@ -2352,7 +2352,7 @@ void S<T>::g(U) { }             // error: no matching function in \tcode{S<T>}
 
 \pnum
 A local class of non-closure type shall not have member templates.
-Access control rules\iref{class.access}
+\link{Access control rules}{class.access}
 apply to member template names.
 A destructor shall not be a member
 template.
@@ -2459,8 +2459,8 @@ conversion function template
 in a base class.
 
 \pnum
-Overload resolution\iref{over.ics.rank} and partial
-ordering\iref{temp.func.order} are used to select the best conversion function
+\link{Overload resolution}{over.ics.rank} and \link{partial
+ordering}{temp.func.order} are used to select the best conversion function
 among multiple
 specializations of conversion function templates
 and/or non-template
@@ -2577,7 +2577,7 @@ the \grammarterm{alignment-specifier} without the ellipsis.
 \item In a \grammarterm{capture-list}\iref{expr.prim.lambda}; the pattern is
 a \grammarterm{capture}.
 
-\item In a \tcode{sizeof...} expression\iref{expr.sizeof}; the pattern is an
+\item In a \link{\tcode{sizeof...} expression}{expr.sizeof}; the pattern is an
 \grammarterm{identifier}.
 
 \item In a \grammarterm{fold-expression}\iref{expr.prim.fold};
@@ -2874,8 +2874,8 @@ class A {
 
 \pnum
 A template friend declaration specifies that all specializations of that
-template, whether they are implicitly instantiated\iref{temp.inst}, partially
-specialized\iref{temp.class.spec} or explicitly specialized\iref{temp.expl.spec},
+template, whether they are \link{implicitly instantiated}{temp.inst}, \link{partially
+specialized}{temp.class.spec} or \link{explicitly specialized}{temp.expl.spec},
 are friends of the class containing the template friend declaration.
 \begin{example}
 \begin{codeblock}
@@ -3143,8 +3143,8 @@ template< int X > class A<X,&array> { };        // error
 
 \end{example}
 \item
-The specialization shall be more specialized than the primary
-template\iref{temp.class.order}.
+The specialization shall be \deflink{more specialized}{temp.class.order}
+than the primary template.
 
 \item
 The template parameter list of a specialization shall not contain default
@@ -3183,7 +3183,7 @@ If exactly one matching specialization is found, the instantiation is
 generated from that specialization.
 \item
 If more than one matching specialization is found,
-the partial order rules\iref{temp.class.order} are used to determine
+the \link{partial order rules}{temp.class.order} are used to determine
 whether one of the specializations is more specialized than the
 others.
 If none of the specializations is more specialized than all of the
@@ -3197,9 +3197,9 @@ primary template.
 \pnum
 A partial specialization matches a given actual template argument
 list if the template arguments of the partial specialization can be
-deduced from the actual template argument list\iref{temp.deduct},
-and the deduced template arguments satisfy the associated constraints
-of the partial specialization, if any\iref{temp.constr.decl}.
+\link{deduced}{temp.deduct} from the actual template argument list,
+and the deduced template arguments satisfy the \deflink{associated constraints}{temp.constr.decl}
+of the partial specialization, if any.
 \begin{example}
 \begin{codeblock}
 template<class T1, class T2, int I> class A             { };    // \#1
@@ -3261,14 +3261,14 @@ of the primary template.
 For two class template partial specializations,
 the first is \defn{more specialized} than the second if, given the following
 rewrite to two function templates, the first function template is more
-specialized than the second according to the ordering rules for function
-templates\iref{temp.func.order}:
+specialized than the second according to the \link{ordering rules for function
+templates}{temp.func.order}:
 
 \begin{itemize}
 \item
 Each of the two
 function templates has the same template parameters
-and associated constraints\iref{temp.constr.decl}
+and \deflink{associated constraints}{temp.constr.decl}
 as the corresponding partial specialization.
 \item
 Each function template
@@ -3441,7 +3441,7 @@ declarations of non-template functions do not merely guide
 overload resolution of
 function template specializations
 with the same name.
-If such a non-template function is odr-used\iref{basic.def.odr} in a program, it must be defined;
+If such a non-template function is \link{odr-used}{basic.def.odr} in a program, it must be defined;
 it will not be implicitly instantiated using the function template definition.}
 
 \rSec3[temp.over.link]{Function template overloading}
@@ -3476,8 +3476,8 @@ void h(int* p) {
 \end{example}
 
 \pnum
-Such specializations are distinct functions and do not violate the one-definition
-rule\iref{basic.def.odr}.
+Such specializations are distinct functions and do not violate the
+\link{one-definition rule}{basic.def.odr}.
 
 \pnum
 The signature of a function template
@@ -3529,7 +3529,7 @@ For example, a template type parameter can be used in the
 Two expressions involving template parameters are considered
 \defnx{equivalent}{equivalent!expressions}
 if two function definitions containing the expressions would satisfy
-the one-definition rule\iref{basic.def.odr}, except that the tokens used
+the \link{one-definition rule}{basic.def.odr}, except that the tokens used
 to name the template parameters may differ as long as a token used to
 name a template parameter in one expression is replaced by another token
 that names the same template parameter in the other expression.
@@ -3663,7 +3663,7 @@ template <int I> void f(A<I>, A<I+1+2+3+4>);
 \indextext{ordering!function template partial|see{template, function, partial ordering}}%
 If a function template is overloaded,
 the use of a function template specialization might be ambiguous because
-template argument deduction\iref{temp.deduct} may associate the function
+\link{template argument deduction}{temp.deduct} may associate the function
 template specialization with more than one function template declaration.
 \defnx{Partial ordering}{template!function!partial ordering}
 of overloaded function template declarations is used in the following contexts
@@ -3681,8 +3681,8 @@ function template
 specialization
 is selected to match a placement operator new~(\ref{basic.stc.dynamic.deallocation}, \ref{expr.new});
 \item
-when a friend function declaration\iref{temp.friend}, an
-explicit instantiation\iref{temp.explicit} or an explicit specialization\iref{temp.expl.spec} refers to
+when a \link{friend function declaration}{temp.friend}, an
+\link{explicit instantiation}{temp.explicit} or an \link{explicit specialization}{temp.expl.spec} refers to
 a function template specialization.
 \end{itemize}
 
@@ -3701,7 +3701,8 @@ the more constrained template as described by the rules in
 
 \pnum
 To produce the transformed template, for each type, non-type, or template
-template parameter (including template parameter packs\iref{temp.variadic}
+template parameter (including
+\deflinkx{template parameter packs}{template parameter pack}{temp.variadic}
 thereof) synthesize a unique type, value, or class template
 respectively and substitute it for each occurrence of that parameter
 in the function type of the template.
@@ -3941,7 +3942,7 @@ A \grammarterm{concept-definition}
 shall appear at namespace scope\iref{basic.scope.namespace}.
 
 \pnum
-A concept shall not have associated constraints\iref{temp.constr.decl}.
+A concept shall not have \deflink{associated constraints}{temp.constr.decl}.
 
 \pnum
 A concept is not instantiated\iref{temp.spec}.
@@ -4185,7 +4186,7 @@ The program is ill-formed, no diagnostic required, if:
 \begin{itemize}
 \item
 no valid specialization can be generated for a template
-or a substatement of a constexpr if statement\iref{stmt.if} within a template
+or a substatement of a \deflink{constexpr if}{stmt.if} statement within a template
 and the template is not instantiated, or
 \item
 no substitution of template arguments
@@ -4220,7 +4221,7 @@ was a pack expansion and the corresponding pack is empty, or
 \item an instantiation uses a default argument or default template argument
 that had not been defined at the point at which the template was defined, or
 
-\item constant expression evaluation\iref{expr.const} within the template
+\item \link{constant expression evaluation}{expr.const} within the template
 instantiation uses
   \begin{itemize}
   \item the value of a const object of integral or unscoped enumeration type or
@@ -4372,7 +4373,7 @@ member functions of class templates are considered definitions\iref{temp.decls}.
 
 \pnum
 Like normal (non-template) classes, class templates have an
-injected-class-name\iref{class}.
+\deflink{injected-class-name}{class}.
 The
 injected-class-name can be used
 as a \grammarterm{template-name} or a \grammarterm{type-name}.
@@ -4547,9 +4548,9 @@ if the name of the base class
 or the name of a member of the
 base class is the same as the name of a
 \grammarterm{template-parameter},
-the base class name or member name hides the
+the base class name or member name \link{hides}{basic.scope.hiding} the
 \grammarterm{template-parameter}
-name\iref{basic.scope.hiding}.
+name.
 \begin{example}
 
 \begin{codeblock}
@@ -4607,15 +4608,15 @@ if
 
 \begin{itemize}
 \item
-any of the expressions in the \grammarterm{expression-list} is a pack
-expansion\iref{temp.variadic},
+any of the expressions in the \grammarterm{expression-list} is a
+\deflink{pack expansion}{temp.variadic},
 
 \item
 any of the expressions
 or \grammarterm{braced-init-list}{s}
 in the
 \grammarterm{expression-list}
-is type-dependent\iref{temp.dep.expr}, or
+is \link{type-dependent}{temp.dep.expr}, or
 
 \item
 the \grammarterm{unqualified-id}
@@ -4658,7 +4659,7 @@ explicitly depend on the
 
 \pnum
 In the definition of a class or class template,
-the scope of a dependent base class\iref{temp.dep.type}
+the scope of a \deflinkx{dependent base class}{base class!dependent}{temp.dep.type}
 is not examined during unqualified
 name lookup either at the point of definition of the
 class template or member or during an instantiation of
@@ -4727,7 +4728,7 @@ if it is
 \item
 in the definition of a class template, a nested class of a class template,
 a member of a class template, or a member of a nested class of a class template,
-the injected-class-name\iref{class} of the class template or nested class,
+the \deflink{injected-class-name}{class} of the class template or nested class,
 \item
 in the definition of a primary class template
 or a member of a primary class template, the name of the
@@ -4757,9 +4758,9 @@ $n^\text{th}$
 template argument has the value of the
 $n^\text{th}$
 template parameter of the class template.
-If the $n^\text{th}$ template parameter is a template
-parameter pack\iref{temp.variadic}, the $n^\text{th}$ template argument is a pack
-expansion\iref{temp.variadic} whose pattern is the name of
+If the $n^\text{th}$ template parameter is a
+\deflink{template parameter pack}{temp.variadic}, the $n^\text{th}$ template argument is a
+\deflink{pack expansion}{temp.variadic} whose pattern is the name of
 the template parameter pack.
 
 \pnum
@@ -4875,10 +4876,10 @@ then the \grammarterm{qualified-id} is a member of an unknown specialization;
 see below. \end{note}
 
 \item
-An \grammarterm{id-expression} denoting the member in a class member access
-expression\iref{expr.ref} for which the type of the object expression is the
-current instantiation, and the \grammarterm{id-expression}, when looked
-up\iref{basic.lookup.classref}, refers to at least one member of a class
+An \grammarterm{id-expression} denoting the member in a \link{class member access}{expr.ref}
+expression for which the type of the object expression is the
+current instantiation, and the \grammarterm{id-expression}, when \link{looked
+up}{basic.lookup.classref}, refers to at least one member of a class
 that is the current
 instantiation or a non-dependent base class thereof. \begin{note} If no such
 member is found, and the current instantiation has any dependent base classes,
@@ -4926,8 +4927,8 @@ dependent base class, and name lookup of the \grammarterm{qualified-id} does not
 find any member of a class that is the current instantiation or a non-dependent
 base class thereof.
 
-\item An \grammarterm{id-expression} denoting the member in a class member access
-expression\iref{expr.ref} in which either
+\item An \grammarterm{id-expression} denoting the member in a
+\link{class member access}{expr.ref} expression in which either
 \begin{itemize}
 \item the type of the object expression is the current instantiation, the
 current instantiation has at least one dependent base class, and name lookup
@@ -5017,11 +5018,11 @@ in which either the template name is a template parameter or any of the
 template arguments is a dependent type or an expression that is type-dependent
 or value-dependent or is a pack expansion
 \begin{note}
-This includes an injected-class-name\iref{class} of a class template
+This includes an \deflink{injected-class-name}{class} of a class template
 used without a \grammarterm{template-argument-list}.
 \end{note}, or
 \item denoted by \tcode{decltype(}\grammarterm{expression}{}\tcode{)},
-where \grammarterm{expression} is type-dependent\iref{temp.dep.expr}.
+where \grammarterm{expression} is \link{type-dependent}{temp.dep.expr}.
 \end{itemize}
 
 \pnum
@@ -5061,7 +5062,7 @@ an
 associated by name lookup with
 a non-type \grammarterm{template-parameter}
 declared with a type
-that contains a placeholder type\iref{dcl.spec.auto},
+that contains a \deflink{placeholder type}{dcl.spec.auto},
 
 \item
 an
@@ -5077,7 +5078,7 @@ with a return type that contains a placeholder type,
 
 \item
 an \grammarterm{identifier} associated by name lookup with
-a structured binding declaration\iref{dcl.struct.bind} whose
+a \link{structured binding declaration}{dcl.struct.bind} whose
 \grammarterm{brace-or-equal-initializer} is type-dependent,
 
 \item
@@ -5148,7 +5149,7 @@ literal\br
 see~\ref{support.types}.\end{note}
 
 \pnum
-A class member access expression\iref{expr.ref} is
+A \link{class member access expression}{expr.ref} is
 type-dependent if
 the expression refers to a member of the current instantiation and
 the type of the referenced member is dependent, or the class member access
@@ -5266,7 +5267,7 @@ An expression of the form \tcode{\&}\grammarterm{qualified-id} where the
 instantiation is value-dependent.
 An expression of the form \tcode{\&}\grammarterm{cast-expression}
 is also value-dependent if evaluating \grammarterm{cast-expression}
-as a core constant expression\iref{expr.const} succeeds and
+as a \deflinkx{core constant expression}{expression!core constant}{expr.const} succeeds and
 the result of the evaluation refers to a templated entity
 that is an object with static or thread storage duration or a member function.
 
@@ -5414,7 +5415,7 @@ within a translation unit.
 A specialization for any template may have points of instantiation in multiple
 translation units.
 If two different points of instantiation give a template specialization
-different meanings according to the one-definition rule\iref{basic.def.odr},
+different meanings according to the \link{one-definition rule}{basic.def.odr},
 the program is ill-formed, no diagnostic required.
 
 \rSec3[temp.dep.candidate]{Candidate functions}
@@ -5694,11 +5695,11 @@ template<> int B<>::x = 1;              // specialize for \tcode{T == int}
 \end{example}
 
 \pnum
-An instantiated template specialization can be either implicitly
-instantiated\iref{temp.inst} for a given argument list or be explicitly
-instantiated\iref{temp.explicit}.
+An instantiated template specialization can be either \link{implicitly
+instantiated}{temp.inst} for a given argument list or be \link{explicitly
+instantiated}{temp.explicit}.
 A specialization is a class, variable, function, or class member that is either
-instantiated or explicitly specialized\iref{temp.expl.spec}.
+instantiated or \link{explicitly specialized}{temp.expl.spec}.
 
 \pnum
 For a given template and a given set of
@@ -5759,7 +5760,7 @@ of type
 
 \pnum
 If a function declaration acquired its function type through
-a dependent type\iref{temp.dep.type} without using the syntactic form of
+a \link{dependent type}{temp.dep.type} without using the syntactic form of
 a function declarator, the program is ill-formed.
 \begin{example}
 
@@ -5776,9 +5777,9 @@ A<function> a;      // ill-formed: would declare \tcode{A<function>::t} as a sta
 
 \pnum
 \indextext{instantiation!template implicit}%
-Unless a class template specialization has been explicitly
-instantiated\iref{temp.explicit} or explicitly
-specialized\iref{temp.expl.spec},
+Unless a class template specialization has been \link{explicitly
+instantiated}{temp.explicit} or \link{explicitly
+specialized}{temp.expl.spec},
 the class template specialization is implicitly instantiated when the
 specialization is referenced in a context that requires a completely-defined
 object type or when the completeness of the class type affects the semantics
@@ -5807,7 +5808,7 @@ void g(D<int>* p, D<char>* pp, D<double>* ppp) {
 \end{codeblock}
 \end{example}
 If a class template has been declared, but not defined,
-at the point of instantiation\iref{temp.point},
+at the \link{point of instantiation}{temp.point},
 the instantiation yields an incomplete class type\iref{basic.types}.
 \begin{example}
 \begin{codeblock}
@@ -5817,7 +5818,7 @@ X<char> ch;         // error: incomplete type \tcode{X<char>}
 \end{example}
 \begin{note}
 Within a template declaration,
-a local class\iref{class.local} or enumeration and the members of
+a \link{local class}{class.local} or enumeration and the members of
 a local class are never considered to be entities that can be separately
 instantiated (this includes their default arguments,
 \grammarterm{noexcept-specifier}{s}, and non-static data member
@@ -5989,7 +5990,7 @@ void x() {
 \end{example}
 
 \pnum
-If the function selected by overload resolution\iref{over.match}
+If the function selected by \link{overload resolution}{over.match}
 can be determined without instantiating a class template definition,
 it is unspecified whether that instantiation actually takes place.
 \begin{example}
@@ -6309,8 +6310,8 @@ of that entity unless the explicit instantiation is preceded by an explicit
 specialization of the entity with the same template arguments.
 If the
 \grammarterm{declaration}
-of the explicit instantiation names an implicitly-declared special member
-function\iref{special}, the program is ill-formed.
+of the explicit instantiation names an implicitly-declared \link{special member
+function}{special}, the program is ill-formed.
 
 \pnum
 The \grammarterm{declaration} in an \grammarterm{explicit-instantiation} and
@@ -6392,7 +6393,7 @@ template void sort<>(Array<int>&);
 \pnum
 \begin{note}
 An explicit instantiation of a constrained template
-shall satisfy that template's associated constraints\iref{temp.constr.decl}.
+shall satisfy that template's \deflink{associated constraints}{temp.constr.decl}.
 The satisfaction of constraints is determined
 % FIXME: What is a "template name"? Does this mean "simple-template-id"?
 when forming the template name of an explicit instantiation
@@ -6437,7 +6438,7 @@ effect of suppressing the implicit instantiation
 of the definition of the entity to which they refer.
 \begin{note} The intent is that an inline function that is the
 subject of an explicit instantiation declaration will still be implicitly
-instantiated when odr-used\iref{basic.def.odr} so that the body can be considered for inlining, but
+instantiated when \link{odr-used}{basic.def.odr} so that the body can be considered for inlining, but
 that no out-of-line copy of the inline function would be generated in the
 translation unit.\end{note}
 
@@ -6446,7 +6447,7 @@ If an entity is the subject of both an explicit instantiation declaration
 and an explicit instantiation definition in the same translation unit, the
 definition shall follow the declaration. An entity that is the subject of an
 explicit instantiation declaration and that is also used
-in a way that would otherwise cause an implicit instantiation\iref{temp.inst}
+in a way that would otherwise cause an \link{implicit instantiation}{temp.inst}
 in the translation unit
 shall be the subject of an explicit instantiation definition somewhere in the
 program; otherwise the program is ill-formed, no diagnostic required.
@@ -7031,7 +7032,7 @@ in a friend declaration.
 \end{itemize}
 
 \pnum
-Trailing template arguments that can be deduced\iref{temp.deduct} or
+Trailing template arguments that can be \link{deduced}{temp.deduct} or
 obtained from default
 \grammarterm{template-argument}{s}
 may be omitted from the list of explicit
@@ -7493,7 +7494,7 @@ or array type.
 In the following example,
 assuming a \tcode{signed char}
 cannot represent the value 1000,
-a narrowing conversion\iref{dcl.init.list}
+a \deflink{narrowing conversion}{dcl.init.list}
 would be required
 to convert the \grammarterm{template-argument}
 of type \tcode{int} to \tcode{signed char},
@@ -7602,8 +7603,8 @@ is not a reference type:
 \item
 If
 \tcode{A}
-is an array type, the pointer type produced by the array-to-pointer
-standard conversion\iref{conv.array} is used in place of
+is an array type, the pointer type produced by the \link{array-to-pointer
+standard conversion}{conv.array} is used in place of
 \tcode{A}
 for type deduction;
 otherwise,
@@ -7611,7 +7612,7 @@ otherwise,
 If
 \tcode{A}
 is a function type, the pointer type produced by the
-function-to-pointer standard conversion\iref{conv.func} is used in place
+\link{function-to-pointer standard conversion}{conv.func} is used in place
 of
 \tcode{A}
 for type
@@ -7705,8 +7706,8 @@ The transformed \tcode{A}
 can be another pointer or pointer-to-member type that can be converted
 to the deduced
 \tcode{A}
-via a function pointer conversion\iref{conv.fctptr} and/or
-qualification conversion\iref{conv.qual}.
+via a \link{function pointer conversion}{conv.fctptr} and/or
+\link{qualification conversion}{conv.qual}.
 
 \item
 If
@@ -7849,7 +7850,7 @@ will be checked during overload resolution.
 
 \pnum
 Template arguments can be deduced from the type specified when taking
-the address of an overloaded function\iref{over.over}.
+the address of an \link{overloaded function}{over.over}.
 The function template's function type and the specified type
 are used as the types of
 \tcode{P}
@@ -7859,7 +7860,7 @@ and the deduction is done as
 described in~\ref{temp.deduct.type}.
 
 \pnum
-A placeholder type\iref{dcl.spec.auto} in the return type of a
+A \deflink{placeholder type}{dcl.spec.auto} in the return type of a
 function template is a non-deduced context. If template argument
 deduction succeeds for such a function, the return type is determined
 from instantiation of the function body.
@@ -7893,7 +7894,7 @@ is not a reference type:
 If
 \tcode{P}
 is an array type, the pointer type produced by the
-array-to-pointer standard conversion\iref{conv.array} is used in place of
+\link{array-to-pointer standard conversion}{conv.array} is used in place of
 \tcode{P}
 for type
 deduction; otherwise,
@@ -7901,7 +7902,7 @@ deduction; otherwise,
 If
 \tcode{P}
 is a function type, the pointer type produced by the
-function-to-pointer standard conversion\iref{conv.func} is used in place of
+\link{function-to-pointer standard conversion}{conv.func} is used in place of
 \tcode{P}
 for
 type deduction; otherwise,
@@ -7995,7 +7996,7 @@ after a function has been selected.}
 In the context of a call to a conversion function, the return types of
 the conversion function templates are used.
 \item
-In other contexts\iref{temp.func.order} the function template's function
+In \link{other contexts}{temp.func.order} the function template's function
 type is used.
 \end{itemize}
 
@@ -8483,7 +8484,7 @@ of $\texttt{P}_i$ is compared with each remaining argument in the
 template argument list of \tcode{A}. Each comparison deduces
 template arguments for subsequent positions in the template parameter
 packs expanded by $\texttt{P}_i$.
-During partial ordering\iref{temp.deduct.partial}, if $\texttt{A}_i$ was
+During \link{partial ordering}{temp.deduct.partial}, if $\texttt{A}_i$ was
 originally a pack expansion:
 
 \begin{itemize}
@@ -8544,7 +8545,7 @@ each remaining parameter type in the parameter-type-list
 of \tcode{A}. Each comparison deduces template arguments for
 subsequent positions in the template parameter packs expanded by the
 function parameter pack.
-During partial ordering\iref{temp.deduct.partial}, if $\texttt{A}_i$ was
+During \link{partial ordering}{temp.deduct.partial}, if $\texttt{A}_i$ was
 originally a function parameter pack:
 
 \begin{itemize}
@@ -8832,8 +8833,8 @@ int fv = f(g);                  // OK; \tcode{Types} contains \tcode{int}, \tcod
 In a declaration whose \grammarterm{declarator-id} refers to a specialization
 of a function template, template argument deduction is performed to identify
 the specialization to which the declaration refers. Specifically, this is done
-for explicit instantiations\iref{temp.explicit}, explicit specializations\iref{temp.expl.spec},
-and certain friend declarations\iref{temp.friend}. This is also done to
+for \link{explicit instantiations}{temp.explicit}, \link{explicit specializations}{temp.expl.spec},
+and certain \link{friend declarations}{temp.friend}. This is also done to
 determine whether a deallocation function template specialization matches a placement
 \tcode{operator new}~(\ref{basic.stc.dynamic.deallocation}, \ref{expr.new}).
 In all these cases, \tcode{P} is the type of the function template being considered
@@ -8988,9 +8989,9 @@ is present in some translation unit.
 Deduction guides are used
 when a \grammarterm{template-name} appears
 as a type specifier
-for a deduced class type\iref{dcl.type.class.deduct}.
+for a \link{deduced class type}{dcl.type.class.deduct}.
 Deduction guides are not found by name lookup.
-Instead, when performing class template argument deduction\iref{over.match.class.deduct},
+Instead, when performing class template \link{argument deduction}{over.match.class.deduct},
 any deduction guides declared for the class template are considered.
 
 \begin{bnf}
diff --git a/source/threads.tex b/source/threads.tex
index e942d6ec..d47cc513 100644
--- a/source/threads.tex
+++ b/source/threads.tex
@@ -5,7 +5,7 @@
 
 \pnum
 The following subclauses describe components to create and manage
-threads\iref{intro.multithread}, perform mutual exclusion, and communicate conditions
+\deflinkx{threads}{thread}{intro.multithread}, perform mutual exclusion, and communicate conditions
 and values
 between threads, as summarized in \tref{thread.summary}.
 
@@ -39,7 +39,7 @@ otherwise the program is ill-formed.
 
 \pnum
 Some functions described in this Clause are specified to throw exceptions of type
-\tcode{system_error}\iref{syserr.syserr}. Such exceptions shall be thrown if
+\link{\tcode{system_error}}{syserr.syserr}. Such exceptions shall be thrown if
 any of the function's error conditions is detected or
 a call to
 an operating system or other underlying API results in an error that prevents the
@@ -234,8 +234,8 @@ exception is thrown then a lock shall not have been acquired for the current exe
 A type \tcode{L} meets the \oldconcept{TimedLockable} requirements if it meets the \oldconcept{Lockable}
 requirements and the following expressions are well-formed and have the specified semantics
 (\tcode{m} denotes a value of type \tcode{L}, \tcode{rel_time} denotes a value of an
-instantiation of \tcode{duration}\iref{time.duration}, and \tcode{abs_time} denotes a value
-of an instantiation of \tcode{time_point}\iref{time.point}).
+instantiation of \link{\tcode{duration}}{time.duration}, and \tcode{abs_time} denotes a value
+of an instantiation of \link{\tcode{time_point}}{time.point}).
 
 \begin{itemdecl}
 m.try_lock_for(rel_time)
@@ -1854,7 +1854,7 @@ namespace std {
 
 \pnum
 A mutex object facilitates protection against data races and allows safe synchronization of
-data between execution agents\iref{thread.req.lockable}.
+data between \deflinkx{execution agents}{execution agent}{thread.req.lockable}.
 An execution agent \term{owns} a mutex from the time it successfully calls one of the
 lock functions until it calls unlock. Mutexes can be either recursive or non-recursive, and can
 grant simultaneous ownership to one or many execution agents. Both
@@ -1893,7 +1893,7 @@ The implementation shall provide lock and unlock operations, as described below.
 For purposes of determining the existence of a data race, these behave as
 atomic operations\iref{intro.multithread}. The lock and unlock operations on
 a single mutex shall appear to occur in a single total order. \begin{note} This
-can be viewed as the modification order\iref{intro.multithread} of the
+can be viewed as the \deflink{modification order}{intro.multithread} of the
 mutex. \end{note}
 \begin{note} Construction and
 destruction of an object of a mutex type need not be thread-safe; other
@@ -1920,7 +1920,7 @@ thread does not own the mutex.
 
 \pnum
 \sync Prior \tcode{unlock()} operations on the same object shall
-\term{synchronize with}\iref{intro.multithread} this operation.
+\deflink{synchronize with}{intro.multithread} this operation.
 
 \pnum
 \throws \tcode{system_error} when
@@ -1965,7 +1965,7 @@ thread, otherwise \tcode{false}.
 
 \pnum
 \sync If \tcode{try_lock()} returns \tcode{true}, prior \tcode{unlock()} operations
-on the same object \term{synchronize with}\iref{intro.multithread} this operation.
+on the same object \deflink{synchronize with}{intro.multithread} this operation.
 \begin{note} Since \tcode{lock()} does not synchronize with a failed subsequent
 \tcode{try_lock()}, the visibility rules are weak enough that little would be
 known about the state after a failure, even in the absence of spurious failures. \end{note}
@@ -1988,7 +1988,7 @@ The expression \tcode{m.unlock()} shall be well-formed and have the following se
 \returntype \tcode{void}.
 
 \pnum
-\sync This operation synchronizes with\iref{intro.multithread} subsequent
+\sync This operation \deflinkx{synchronizes with}{synchronize with}{intro.multithread} subsequent
 lock operations that obtain ownership on the same object.
 
 \pnum
@@ -2111,9 +2111,9 @@ The \defn{timed mutex types} are the standard library types \tcode{timed_mutex},
 meet the requirements set out below.
 In this description, \tcode{m} denotes an object of a mutex type,
 \tcode{rel_time} denotes an object of an
-instantiation of \tcode{duration}\iref{time.duration}, and \tcode{abs_time} denotes an
+instantiation of \link{\tcode{duration}}{time.duration}, and \tcode{abs_time} denotes an
 object of an
-instantiation of \tcode{time_point}\iref{time.point}.
+instantiation of \link{\tcode{time_point}}{time.point}.
 
 \pnum
 The timed mutex types shall meet the \oldconcept{TimedLockable}
@@ -2148,7 +2148,7 @@ lock is available, but implementations are expected to make a strong effort to d
 
 \pnum
 \sync If \tcode{try_lock_for()} returns \tcode{true}, prior \tcode{unlock()} operations
-on the same object \term{synchronize with}\iref{intro.multithread} this operation.
+on the same object \deflink{synchronize with}{intro.multithread} this operation.
 
 \pnum\throws Timeout-related exceptions\iref{thread.req.timing}.
 \end{itemdescr}
@@ -2180,7 +2180,7 @@ strong effort to do so. \end{note}
 
 \pnum
 \sync If \tcode{try_lock_until()} returns \tcode{true}, prior \tcode{unlock()}
-operations on the same object \term{synchronize with}\iref{intro.multithread}
+operations on the same object \deflink{synchronize with}{intro.multithread}
 this operation.
 
 \pnum\throws Timeout-related exceptions\iref{thread.req.timing}.
@@ -2343,7 +2343,7 @@ If an exception is thrown then a shared lock shall not have been acquired for th
 \returntype \tcode{void}.
 
 \pnum
-\sync Prior \tcode{unlock()} operations on the same object shall synchronize with\iref{intro.multithread} this operation.
+\sync Prior \tcode{unlock()} operations on the same object shall \deflink{synchronize with}{intro.multithread} this operation.
 
 \pnum
 \throws \tcode{system_error} when an exception is required\iref{thread.req.exception}.
@@ -2370,7 +2370,7 @@ The expression \tcode{m.unlock_shared()} shall be well-formed and have the follo
 \returntype \tcode{void}.
 
 \pnum
-\sync This operation synchronizes with\iref{intro.multithread} subsequent
+\sync This operation \deflinkx{synchronizes with}{synchronize with}{intro.multithread} subsequent
 \tcode{lock()} operations that obtain ownership on the same object.
 
 \pnum
@@ -2399,7 +2399,7 @@ otherwise.
 
 \pnum
 \sync If \tcode{try_lock_shared()} returns \tcode{true}, prior \tcode{unlock()}
-operations on the same object synchronize with\iref{intro.multithread} this
+operations on the same object \deflink{synchronize with}{intro.multithread} this
 operation.
 
 \pnum
@@ -2465,9 +2465,9 @@ shared mutex types\iref{thread.sharedmutex.requirements}, and additionally
 shall meet the requirements set out below. In this description,
 \tcode{m} denotes an object of a shared timed mutex type,
 \tcode{rel_type} denotes an object of an instantiation of
-\tcode{duration}\iref{time.duration}, and
+\link{\tcode{duration}}{time.duration}, and
 \tcode{abs_time} denotes an object of an instantiation of
-\tcode{time_point}\iref{time.point}.
+\link{\tcode{time_point}}{time.point}.
 
 \pnum
 The expression \tcode{m.try_lock_shared_for(rel_time)} shall be well-formed and
@@ -2653,7 +2653,7 @@ namespace std {
 \pnum
 An object of type \tcode{lock_guard} controls the ownership of a lockable object
 within a scope. A \tcode{lock_guard} object maintains ownership of a lockable
-object throughout the \tcode{lock_guard} object's lifetime\iref{basic.life}.
+object throughout the \tcode{lock_guard} object's \deflink{lifetime}{basic.life}.
 The behavior of a program is undefined if the lockable object referenced by
 \tcode{pm} does not exist for the entire lifetime of the \tcode{lock_guard}
 object. The supplied \tcode{Mutex} type shall meet the \oldconcept{BasicLockable}
@@ -2726,7 +2726,7 @@ namespace std {
 \pnum
 An object of type \tcode{scoped_lock} controls the ownership of lockable objects
 within a scope. A \tcode{scoped_lock} object maintains ownership of lockable
-objects throughout the \tcode{scoped_lock} object's lifetime\iref{basic.life}.
+objects throughout the \tcode{scoped_lock} object's \deflink{lifetime}{basic.life}.
 The behavior of a program is undefined if the lockable objects referenced by
 \tcode{pm} do not exist for the entire lifetime of the \tcode{scoped_lock}
 object.
@@ -3660,10 +3660,11 @@ mutex_type* mutex() const noexcept;
 
 \rSec2[thread.lock.algorithm]{Generic locking algorithms}
 
-\indexlibrary{\idxcode{try_lock}}%
+\begin{indexed}{\indexlibrary{\idxcode{try_lock}}}
 \begin{itemdecl}
 template<class L1, class L2, class... L3> int try_lock(L1&, L2&, L3&...);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3684,10 +3685,11 @@ otherwise a zero-based index value that indicates the argument for which \tcode{
 returned \tcode{false}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{lock}}%
+\begin{indexed}{\indexlibrary{\idxcode{lock}}}
 \begin{itemdecl}
 template<class L1, class L2, class... L3> void lock(L1&, L2&, L3&...);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -3776,7 +3778,7 @@ earlier returning execution. \end{note}
 
 \pnum
 \sync For any given \tcode{once_flag}: all active executions occur in a total
-order; completion of an active execution synchronizes with\iref{intro.multithread}
+order; completion of an active execution \deflinkx{synchronizes with}{synchronize with}{intro.multithread}
 the start of the next one in this total order; and the returning execution
 synchronizes with the return from all passive executions.
 
@@ -5413,7 +5415,7 @@ namespace std {
 \end{codeblock}
 
 \pnum
-The \tcode{enum} type \tcode{launch} is a bitmask type\iref{bitmask.types} with
+The \tcode{enum} type \tcode{launch} is a \link{bitmask type}{bitmask.types} with
 elements \tcode{launch::async} and \tcode{launch::deferred}.
 \begin{note} Implementations can provide bitmasks to specify restrictions on task
 interaction by functions launched by \tcode{async()} applicable to a
@@ -5599,22 +5601,21 @@ the state object.
 
 \pnum
 Calls to functions that successfully set the stored result of a shared
-state synchronize
-with\iref{intro.multithread} calls to functions
+state \deflink{synchronize with}{intro.multithread} calls to functions
 successfully detecting the ready state resulting from that setting.
 The storage of the result
 (whether normal or exceptional) into the shared state
-synchronizes with\iref{intro.multithread}
+\deflinkx{synchronizes with}{synchronize with}{intro.multithread}
 the successful return from a call to a waiting function on the shared state.
 
 \pnum
 Some functions (e.g., \tcode{promise::set_value_at_thread_exit}) delay making
 the shared state ready until the calling thread exits. The destruction of
-each of that thread's objects with thread storage duration\iref{basic.stc.thread}
+each of that thread's objects with \link{thread storage duration}{basic.stc.thread}
 is sequenced before making that shared state ready.
 
 \pnum
-Access to the result of the same shared state may conflict\iref{intro.multithread}.
+Access to the result of the same shared state may \deflink{conflict}{intro.multithread}.
 \begin{note} This explicitly specifies that the result of the shared state is
 visible in the objects that reference this state in the sense of data race
 avoidance\iref{res.on.data.races}. For example, concurrent accesses through
@@ -5932,8 +5933,8 @@ The class template \tcode{future} defines a type for asynchronous return objects
 do not share their shared state with other asynchronous return objects.
 A default-constructed \tcode{future} object has no
 shared state. A \tcode{future} object with shared state can be created by
-functions on asynchronous providers\iref{futures.state} or by the move constructor
-and shares its shared state with
+functions on \deflinkx{asynchronous providers}{asynchronous provider}{futures.state}
+or by the move constructor and shares its shared state with
 the original asynchronous provider. The result (value or exception) of
 a \tcode{future} object
 can be
@@ -6222,7 +6223,7 @@ object has no shared state. A \tcode{shared_future} object with
 shared state can
 be created
 by conversion from a \tcode{future} object and shares its shared state with the
-original asynchronous provider\iref{futures.state} of the shared state.
+original \deflink{asynchronous provider}{futures.state} of the shared state.
 The result (value or exception) of a \tcode{shared_future} object
 can be set by
 calling a respective function on an
@@ -6635,12 +6636,12 @@ Regardless of the provided \tcode{policy} argument,
 \begin{itemize}
 \item
 the invocation of \tcode{async}
-synchronizes with\iref{intro.multithread} the invocation of \tcode{f}. \begin{note}
+\deflinkx{synchronizes with}{synchronize with}{intro.multithread} the invocation of \tcode{f}. \begin{note}
 This statement applies even when the corresponding \tcode{future} object is moved to
 another thread. \end{note}; and
 
 \item
-the completion of the function \tcode{f} is sequenced before\iref{intro.multithread} the
+the completion of the function \tcode{f} is sequenced before\iref{intro.multithread} the % todo
 shared state is made ready. \begin{note} \tcode{f} might not be called at all,
 so its completion might never happen. \end{note}
 \end{itemize}
@@ -6656,7 +6657,7 @@ out\iref{thread.thread.member};
 
 \item
 the associated thread completion
-synchronizes with\iref{intro.multithread}
+\deflinkx{synchronizes with}{synchronize with}{intro.multithread}
 the return from
 the first function
 that successfully detects the ready status of the shared state or
diff --git a/source/utilities.tex b/source/utilities.tex
index 9401109f..bfbf8893 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -77,24 +77,20 @@ namespace std {
   // \ref{declval}, declval
   template<class T>
     add_rvalue_reference_t<T> declval() noexcept;  // as unevaluated operand
-@%
-\indexlibrary{\idxcode{index_sequence}}%
-\indexlibrary{\idxcode{make_index_sequence}}%
-\indexlibrary{\idxcode{index_sequence_for}}%
-@
+
   // \ref{intseq}, Compile-time integer sequences
   template<class T, T...>
     struct integer_sequence;
   template<size_t... I>
-    using index_sequence = integer_sequence<size_t, I...>;
+    using @\libentity{index_sequence}@ = integer_sequence<size_t, I...>;
 
   template<class T, T N>
     using make_integer_sequence = integer_sequence<T, @\seebelow{}@>;
   template<size_t N>
-    using make_index_sequence = make_integer_sequence<size_t, N>;
+    using @\libentity{make_index_sequence}@ = make_integer_sequence<size_t, N>;
 
   template<class... T>
-    using index_sequence_for = make_index_sequence<sizeof...(T)>;
+    using @\libentity{index_sequence_for}@ = make_index_sequence<sizeof...(T)>;
 
   // \ref{pairs}, class template \tcode{pair}
   template<class T1, class T2>
@@ -144,7 +140,7 @@ namespace std {
     explicit piecewise_construct_t() = default;
   };
   inline constexpr piecewise_construct_t piecewise_construct{};
-  template<class... Types> class tuple;        // defined in \tcode{<tuple>}\iref{tuple.syn}
+  template<class... Types> class tuple;        // defined in \link{\tcode{<tuple>}}{tuple.syn}
 
   // in-place construction
   struct in_place_t {
@@ -213,7 +209,7 @@ unless \tcode{is_swappable_v<T>} is \tcode{true}.
 
 \pnum
 \requires
-\tcode{a[i]} shall be swappable with\iref{swappable.requirements} \tcode{b[i]}
+\tcode{a[i]} shall be \deflink{swappable with}{swappable.requirements} \tcode{b[i]}
 for all \tcode{i} in the range \range{0}{N}.
 
 \pnum
@@ -249,7 +245,7 @@ of forwarding functions.
 \indextext{signal-safe!\idxcode{forward}}%
 \indextext{signal-safe!\idxcode{move}}%
 \indextext{signal-safe!\idxcode{move_if_noexcept}}%
-All functions specified in this subclause are signal-safe\iref{support.signal}.
+All functions specified in this subclause are \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}.
 
 \indexlibrary{\idxcode{forward}}%
 \indextext{\idxcode{forward}}%
@@ -365,7 +361,7 @@ template<class T> constexpr add_const_t<T>& as_const(T& t) noexcept;
 
 \pnum
 The library provides the function template \tcode{declval} to simplify the definition of
-expressions which occur as unevaluated operands\iref{expr.prop}.
+expressions which occur as \deflinkx{unevaluated operands}{unevaluated operand}{expr.prop}.
 
 \indexlibrary{\idxcode{declval}}%
 \begin{itemdecl}
@@ -374,7 +370,7 @@ template<class T> add_rvalue_reference_t<T> declval() noexcept;    // as unevalu
 
 \begin{itemdescr}
 \pnum
-\remarks If this function is odr-used\iref{basic.def.odr}, the program is ill-formed.
+\remarks If this function is \link{odr-used}{basic.def.odr}, the program is ill-formed.
 
 \pnum
 \remarks The template parameter \tcode{T} of \tcode{declval} may be an incomplete type.
@@ -917,7 +913,7 @@ inline constexpr piecewise_construct_t piecewise_construct{};
 The \tcode{struct} \tcode{piecewise_construct_t} is an empty class type
 used as a unique type to disambiguate constructor and function overloading. Specifically,
 \tcode{pair} has a constructor with \tcode{piecewise_construct_t} as the
-first argument, immediately followed by two \tcode{tuple}\iref{tuple} arguments used
+first argument, immediately followed by two \link{\tcode{tuple}}{tuple} arguments used
 for piecewise construction of the elements of the \tcode{pair} object.
 
 \rSec1[tuple]{Tuples}
@@ -1371,7 +1367,7 @@ template<class Alloc, class U1, class U2>
 
 \pnum
 \effects Equivalent to the preceding constructors except that each element is constructed with
-uses-allocator construction\iref{allocator.uses.construction}.
+\deflink{uses-allocator construction}{allocator.uses.construction}.
 \end{itemdescr}
 
 \rSec3[tuple.assign]{Assignment}
@@ -2210,7 +2206,8 @@ constexpr optional(nullopt_t) noexcept;
 \pnum
 \remarks
 No contained value is initialized.
-For every object type \tcode{T} these constructors shall be constexpr constructors\iref{dcl.constexpr}.
+For every object type \tcode{T} these constructors shall be
+\deflinkx{constexpr constructors}{specifier!constexpr!constructor}{dcl.constexpr}.
 \end{itemdescr}
 
 \indexlibrary{\idxcode{optional}!constructor}%
@@ -4784,12 +4781,13 @@ For $n > 1$, the invocation of the callable object has
 no complexity requirements.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{monostate}}%
 \rSec2[variant.monostate]{Class \tcode{monostate}}
 
+\begin{indexed}{\indexlibrary{\idxcode{monostate}}}
 \begin{itemdecl}
 struct monostate{};
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -4942,7 +4940,8 @@ public:
 \end{codeblock}
 
 \pnum
-Objects of type \tcode{bad_any_cast} are thrown by a failed \tcode{any_cast}\iref{any.nonmembers}.
+Objects of type \tcode{bad_any_cast} are thrown by a failed
+\linkx{\tcode{any_cast}}{\idxcode{any_cast}}{any.nonmembers}.
 
 \indexlibrarymember{what}{bad_any_cast}%
 \begin{itemdecl}
@@ -5414,7 +5413,7 @@ template<class T, class U, class... Args>
 Equivalent to: \tcode{return any(in_place_type<T>, il, std::forward<Args>(args)...);}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{any_cast}}%
+\begin{indexed}{\indexlibrary{\idxcode{any_cast}}}
 \begin{itemdecl}
 template<class T>
   T any_cast(const any& operand);
@@ -5423,6 +5422,7 @@ template<class T>
 template<class T>
   T any_cast(any&& operand);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5474,13 +5474,14 @@ any_cast<string&>(y);                       // error; cannot
 \end{example}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{any_cast}}%
+\begin{indexed}{\indexlibrary{\idxcode{any_cast}}}
 \begin{itemdecl}
 template<class T>
   const T* any_cast(const any* operand) noexcept;
 template<class T>
   T* any_cast(any* operand) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -5508,7 +5509,7 @@ bool is_string(const any& operand) {
 
 \begin{codeblock}
 #include <string>
-#include <iosfwd>   // for \tcode{istream}\iref{istream.syn}, \tcode{ostream}\iref{ostream.syn}, see \ref{iosfwd.syn}
+#include <iosfwd>   // for \link{\tcode{istream}}{istream.syn}, \link{\tcode{ostream}}{ostream.syn}, see \ref{iosfwd.syn}
 
 namespace std {
   template<size_t N> class bitset;
@@ -5651,19 +5652,19 @@ errors, each associated with a distinct exception:
 an
 \term{invalid-argument}
 error is associated with exceptions of type
-\tcode{invalid_argument}\iref{invalid.argument};
+\link{\tcode{invalid_argument}}{invalid.argument};
 \indexlibrary{\idxcode{invalid_argument}}%
 \item
 an
 \term{out-of-range}
 error is associated with exceptions of type
-\tcode{out_of_range}\iref{out.of.range};
+\link{\tcode{out_of_range}}{out.of.range};
 \indexlibrary{\idxcode{out_of_range}}%
 \item
 an
 \term{overflow}
 error is associated with exceptions of type
-\tcode{overflow_error}\iref{overflow.error}.
+\link{\tcode{overflow_error}}{overflow.error}.
 \indexlibrary{\idxcode{overflow_error}}%
 \end{itemize}
 
@@ -5694,8 +5695,8 @@ Constructs an object of class
 \tcode{bitset<N>},
 initializing the first \tcode{M} bit positions to the corresponding bit
 values in \tcode{val}.
-\tcode{M} is the smaller of \tcode{N} and the number of bits in the value
-representation\iref{basic.types} of \tcode{unsigned long long}.
+\tcode{M} is the smaller of \tcode{N} and the number of bits in the
+\deflink{value representation}{basic.types} of \tcode{unsigned long long}.
 If \tcode{M < N}, the remaining bit positions are initialized to zero.
 \end{itemdescr}
 
@@ -5796,10 +5797,11 @@ for which the corresponding bit in \tcode{rhs} is clear, and leaves all other bi
 \tcode{*this}.
 \end{itemdescr}
 
-\indexlibrarymember{operator"|=}{bitset}%
+\begin{indexed}{\indexlibrarymember{operator"|=}{bitset}}
 \begin{itemdecl}
 bitset<N>& operator|=(const bitset<N>& rhs) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6083,10 +6085,11 @@ bit value one becomes the character
 The created object.
 \end{itemdescr}
 
-\indexlibrarymember{count}{bitset}%
+\begin{indexed}{\indexlibrarymember{count}{bitset}}
 \begin{itemdecl}
 size_t count() const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6140,10 +6143,11 @@ in
 has the value one.
 \end{itemdescr}
 
-\indexlibrarymember{all}{bitset}%
+\begin{indexed}{\indexlibrarymember{all}{bitset}}
 \begin{itemdecl}
 bool all() const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -6237,8 +6241,8 @@ is equivalent to
 \throws Nothing.
 
 \pnum
-\remarks For the purpose of determining the presence of a data
-race\iref{intro.multithread}, any access or update through the resulting
+\remarks For the purpose of determining the presence of a
+\deflink{data race}{intro.multithread}, any access or update through the resulting
 reference potentially accesses or modifies, respectively, the entire
 underlying bitset.
 \end{itemdescr}
@@ -6299,7 +6303,7 @@ template<class charT, class traits, size_t N>
 
 \begin{itemdescr}
 \pnum
-A formatted input function\iref{istream.formatted}.
+A \link{formatted input function}{istream.formatted}.
 
 \pnum
 \effects
@@ -6359,8 +6363,8 @@ os << x.template to_string<charT, traits, allocator<charT>>(
 
 \pnum
 This subclause describes the contents of the header
-\tcode{<memory>}\iref{memory.syn} and some
-of the contents of the header \tcode{<cstdlib>}\iref{cstdlib.syn}.
+\link{\tcode{<memory>}}{memory.syn} and some
+of the contents of the header \link{\tcode{<cstdlib>}}{cstdlib.syn}.
 
 \rSec2[memory.syn]{Header \tcode{<memory>} synopsis}
 
@@ -6988,8 +6992,8 @@ void declare_reachable(void* p);
 
 \begin{itemdescr}
 \pnum
-\requires \tcode{p} shall be a safely-derived
-pointer\iref{basic.stc.dynamic.safety} or a null pointer value.
+\requires \tcode{p} shall be a \deflink{safely-derived pointer}{basic.stc.dynamic.safety}
+or a null pointer value.
 
 \pnum
 \effects If \tcode{p} is not null, the complete object referenced by \tcode{p}
@@ -7081,8 +7085,8 @@ pointer_safety get_pointer_safety() noexcept;
 
 \begin{itemdescr}
 \pnum
-\returns \tcode{pointer_safety::strict} if the implementation has strict pointer
-safety\iref{basic.stc.dynamic.safety}. It is
+\returns \tcode{pointer_safety::strict} if the implementation has
+\deflink{strict pointer safety}{basic.stc.dynamic.safety}. It is
 \impldef{whether \tcode{get_pointer_safety} returns
 \tcode{pointer_safety::relaxed} or
 \tcode{pointer_safety::\brk{}preferred} if the implementation has relaxed pointer safety}
@@ -7524,10 +7528,11 @@ the \grammarterm{qualified-id} \tcode{Alloc::pointer} is valid and denotes a
 type\iref{temp.deduct}; otherwise, \tcode{value_type*}.
 \end{itemdescr}
 
-\indexlibrarymember{const_pointer}{allocator_traits}%
+\begin{indexed}{\indexlibrarymember{const_pointer}{allocator_traits}}
 \begin{itemdecl}
 using const_pointer = @\seebelow@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -7537,10 +7542,11 @@ type\iref{temp.deduct}; otherwise,
 \tcode{pointer_traits<pointer>::rebind<\brk{}const value_type>}.
 \end{itemdescr}
 
-\indexlibrarymember{void_pointer}{allocator_traits}%
+\begin{indexed}{\indexlibrarymember{void_pointer}{allocator_traits}}
 \begin{itemdecl}
 using void_pointer = @\seebelow@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -7691,11 +7697,12 @@ static constexpr void deallocate(Alloc& a, pointer p, size_type n);
 \throws Nothing.
 \end{itemdescr}
 
-\indexlibrarymember{construct}{allocator_traits}%
+\begin{indexed}{\indexlibrarymember{construct}{allocator_traits}}
 \begin{itemdecl}
 template<class T, class... Args>
   static constexpr void construct(Alloc& a, T* p, Args&&... args);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -7704,11 +7711,12 @@ if that call is well-formed;
 otherwise, invokes \tcode{construct_at(p, std::forward<Args>(args)...)}.
 \end{itemdescr}
 
-\indexlibrarymember{destroy}{allocator_traits}%
+\begin{indexed}{\indexlibrarymember{destroy}{allocator_traits}}
 \begin{itemdecl}
 template<class T>
   static constexpr void destroy(Alloc& a, T* p);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -7744,13 +7752,15 @@ well-formed; otherwise, \tcode{rhs}.
 All specializations of the default allocator meet the
 allocator completeness requirements\iref{allocator.requirements.completeness}.
 
-\indexlibrary{\idxcode{allocator}}%
 \indexlibrarymember{value_type}{allocator}%
 \indexlibrarymember{size_type}{allocator}%
 \indexlibrarymember{difference_type}{allocator}%
 \indexlibrarymember{propagate_on_container_move_assignment}{allocator}%
 \indexlibrarymember{is_always_equal}{allocator}%
+\begin{indexed}{
 \indexlibrarymember{operator=}{allocator}%
+\indexlibrary{\idxcode{allocator}}
+}
 \begin{codeblock}
 namespace std {
   template<class T> class allocator {
@@ -7772,12 +7782,13 @@ namespace std {
   };
 }
 \end{codeblock}
+\end{indexed}
 
 \rSec3[allocator.members]{Members}
 
 \pnum
 Except for the destructor, member functions of the default allocator shall not introduce
-data races\iref{intro.multithread} as a result of concurrent calls to those member
+\deflinkx{data races}{data race}{intro.multithread} as a result of concurrent calls to those member
 functions from different threads. Calls to these functions that allocate or deallocate a
 particular unit of storage shall occur in a single total order, and each such
 deallocation call shall happen before the next allocation (if any) in this order.
@@ -7795,7 +7806,7 @@ A pointer to the initial element of an array of storage of size \tcode{n}
 
 \pnum
 \remarks
-the storage is obtained by calling \tcode{::operator new}\iref{new.delete},
+the storage is obtained by calling \link{\tcode{::operator new}}{new.delete},
 but it is unspecified when or how often this
 function is called.
 
@@ -7823,7 +7834,7 @@ Deallocates the storage referenced by \tcode{p} .
 \pnum
 \remarks
 Uses
-\tcode{::operator delete}\iref{new.delete},
+\link{\tcode{::operator delete}}{new.delete},
 but it is unspecified
 when this function is called.
 \end{itemdescr}
@@ -8016,7 +8027,7 @@ presence of an overloaded \tcode{operator\&}.
 
 \pnum
 \remarks An expression \tcode{addressof(E)}
-is a constant subexpression\iref{defns.const.subexpr}
+is a \link{constant subexpression}{defns.const.subexpr}
 if \tcode{E} is an lvalue constant subexpression.
 \end{itemdescr}
 
@@ -8138,11 +8149,12 @@ return first;
 \end{codeblock}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{uninitialized_value_construct_n}}%
+\begin{indexed}{\indexlibrary{\idxcode{uninitialized_value_construct_n}}}
 \begin{itemdecl}
 template<class ForwardIterator, class Size>
   ForwardIterator uninitialized_value_construct_n(ForwardIterator first, Size n);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -8232,11 +8244,12 @@ return {ifirst, ofirst};
 \end{codeblock}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{uninitialized_copy_n}}%
+\begin{indexed}{\indexlibrary{\idxcode{uninitialized_copy_n}}}
 \begin{itemdecl}
 template<class InputIterator, class Size, class ForwardIterator>
   ForwardIterator uninitialized_copy_n(InputIterator first, Size n, ForwardIterator result);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -8563,11 +8576,12 @@ return first;
 \end{codeblock}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{destroy_n}}%
+\begin{indexed}{\indexlibrary{\idxcode{destroy_n}}}
 \begin{itemdecl}
 template<class ForwardIterator, class Size>
   constexpr ForwardIterator destroy_n(ForwardIterator first, Size n);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -8602,19 +8616,15 @@ return destroy(counted_iterator(first, n), default_sentinel).base();
 \pnum
 \indexhdr{cstdlib}%
 \begin{note}
-The header \tcode{<cstdlib>}\iref{cstdlib.syn}
+The header \link{\tcode{<cstdlib>}}{cstdlib.syn}
 declares the functions described in this subclause.
 \end{note}
 
-\indexlibrary{\idxcode{aligned_alloc}}%
-\indexlibrary{\idxcode{calloc}}%
-\indexlibrary{\idxcode{malloc}}%
-\indexlibrary{\idxcode{realloc}}%
 \begin{itemdecl}
-void* aligned_alloc(size_t alignment, size_t size);
-void* calloc(size_t nmemb, size_t size);
-void* malloc(size_t size);
-void* realloc(void* ptr, size_t size);
+void* @\libentity{aligned_alloc}@(size_t alignment, size_t size);
+void* @\libentity{calloc}@(size_t nmemb, size_t size);
+void* @\libentity{malloc}@(size_t size);
+void* @\libentity{realloc}@(void* ptr, size_t size);
 \end{itemdecl}
 
 \begin{itemdescr}
@@ -8852,8 +8862,9 @@ namespace std {
 \pnum
 The default type for the template parameter \tcode{D} is
 \tcode{default_delete}. A client-supplied template argument
-\tcode{D} shall be a function
-object type\iref{function.objects}, lvalue reference to function, or
+\tcode{D} shall be a
+\deflinkx{function object type}{function object!type}{function.objects},
+lvalue reference to function, or
 lvalue reference to function object type
 for which, given
 a value \tcode{d} of type \tcode{D} and a value
@@ -9060,10 +9071,11 @@ to the stored deleter that was constructed from
 
 \rSec4[unique.ptr.single.dtor]{Destructor}
 
-\indexlibrary{\idxcode{unique_ptr}!destructor}%
+\begin{indexed}{\indexlibrary{\idxcode{unique_ptr}!destructor}}
 \begin{itemdecl}
 ~unique_ptr();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -9237,10 +9249,11 @@ pointer release() noexcept;
 the call to \tcode{release}.
 \end{itemdescr}
 
-\indexlibrarymember{reset}{unique_ptr}%
+\begin{indexed}{\indexlibrarymember{reset}{unique_ptr}}
 \begin{itemdecl}
 void reset(pointer p = pointer()) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -9260,15 +9273,16 @@ destroys \tcode{*this} since \tcode{this->get()} is no longer a valid expression
 \end{note}
 \end{itemdescr}
 
-\indexlibrarymember{swap}{unique_ptr}%
+\begin{indexed}{\indexlibrarymember{swap}{unique_ptr}}
 \begin{itemdecl}
 void swap(unique_ptr& u) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
 \requires \tcode{get_deleter()} shall be
-swappable\iref{swappable.requirements} and shall
+\link{swappable}{swappable.requirements} and shall
 not throw an exception
 under \tcode{swap}.
 
@@ -9627,8 +9641,9 @@ common_type_t<typename unique_ptr<T1, D1>::pointer,
               typename unique_ptr<T2, D2>::pointer>
 \end{codeblock}
 Then the specialization
-\tcode{less<CT>} shall be a function object type\iref{function.objects} that
-induces a strict weak ordering\iref{alg.sorting} on the pointer values.
+\tcode{less<CT>} shall be a
+\deflinkx{function object type}{function object!type}{function.objects} that
+induces a \link{strict weak ordering}{alg.sorting} on the pointer values.
 
 \pnum
 \returns \tcode{less<CT>()(x.get(), y.get())}.
@@ -9709,9 +9724,9 @@ template<class T, class D>
 
 \begin{itemdescr}
 \pnum
-\requires The specialization \tcode{less<unique_ptr<T, D>::pointer>} shall be
-a function object type\iref{function.objects} that induces a strict weak
-ordering\iref{alg.sorting} on the pointer values.
+\requires The specialization \tcode{less<unique_ptr<T, D>::pointer>} shall be a
+\deflinkx{function object type}{function object!type}{function.objects}
+that induces a \link{strict weak ordering}{alg.sorting} on the pointer values.
 
 \pnum
 \returns
@@ -9958,7 +9973,7 @@ In the constructor definitions below,
 enables \tcode{shared_from_this} with \tcode{p},
 for a pointer \tcode{p} of type \tcode{Y*},
 means that if \tcode{Y} has an unambiguous and accessible base class
-that is a specialization of \tcode{enable_shared_from_this}\iref{util.smartptr.enab},
+that is a specialization of \link{\tcode{enable_shared_from_this}}{util.smartptr.enab},
 then \tcode{remove_cv_t<Y>*} shall be implicitly convertible to \tcode{T*} and
 the constructor evaluates the statement:
 \begin{codeblock}
@@ -10197,11 +10212,12 @@ than its previous value. \end{note}
 
 \rSec3[util.smartptr.shared.assign]{Assignment}
 
-\indexlibrarymember{operator=}{shared_ptr}%
+\begin{indexed}{\indexlibrarymember{operator=}{shared_ptr}}
 \begin{itemdecl}
 shared_ptr& operator=(const shared_ptr& r) noexcept;
 template<class Y> shared_ptr& operator=(const shared_ptr<Y>& r) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects  Equivalent to \tcode{shared_ptr(r).swap(*this)}.
@@ -10363,10 +10379,11 @@ of the function shall be well-formed.
 \pnum\throws Nothing.
 \end{itemdescr}
 
-\indexlibrarymember{use_count}{shared_ptr}%
+\begin{indexed}{\indexlibrarymember{use_count}{shared_ptr}}
 \begin{itemdecl}
 long use_count() const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns  The number of \tcode{shared_ptr} objects, \tcode{*this} included,
@@ -10397,11 +10414,12 @@ explicit operator bool() const noexcept;
 \pnum\returns \tcode{get() != 0}.
 \end{itemdescr}
 
-\indexlibrarymember{owner_before}{shared_ptr}%
+\begin{indexed}{\indexlibrarymember{owner_before}{shared_ptr}}
 \begin{itemdecl}
 template<class U> bool owner_before(const shared_ptr<U>& b) const noexcept;
 template<class U> bool owner_before(const weak_ptr<U>& b) const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -10428,8 +10446,6 @@ The common requirements that apply to all
 \tcode{allocate_shared_default_init} overloads,
 unless specified otherwise, are described below.
 
-\indexlibrary{\idxcode{make_shared}}%
-\indexlibrary{\idxcode{allocate_shared}}%
 \begin{itemdecl}
 template<class T, ...>
   shared_ptr<T> make_shared(@\placeholdernc{args}@);
@@ -10563,8 +10579,6 @@ allow for internal bookkeeping structures such as reference counts.
 \end{note}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{make_shared}}%
-\indexlibrary{\idxcode{allocate_shared}}%
 \begin{itemdecl}
 template<class T, class... Args>
   shared_ptr<T> make_shared(Args&&... args);                    // \tcode{T} is not array
@@ -10594,8 +10608,6 @@ shared_ptr<vector<int>> q = make_shared<vector<int>>(16, 1);
 \end{example}
 \end{itemdescr}
 
-\indexlibrary{\idxcode{make_shared}}%
-\indexlibrary{\idxcode{allocate_shared}}%
 \begin{itemdecl}
 template<class T> shared_ptr<T>
   make_shared(size_t N);                                        // \tcode{T} is \tcode{U[]}
@@ -10911,13 +10923,14 @@ undefined behavior, attempting to delete the same object twice.
 \end{note}
 \end{itemdescr}
 
-\indexlibrarymember{const_pointer_cast}{shared_ptr}%
+\begin{indexed}{\indexlibrarymember{const_pointer_cast}{shared_ptr}}
 \begin{itemdecl}
 template<class T, class U>
   shared_ptr<T> const_pointer_cast(const shared_ptr<U>& r) noexcept;
 template<class T, class U>
   shared_ptr<T> const_pointer_cast(shared_ptr<U>&& r) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -11119,10 +11132,11 @@ template<class Y> weak_ptr(weak_ptr<Y>&& r) noexcept;
 
 \rSec3[util.smartptr.weak.dest]{Destructor}
 
-\indexlibrary{\idxcode{weak_ptr}!destructor}%
+\begin{indexed}{\indexlibrary{\idxcode{weak_ptr}!destructor}}
 \begin{itemdecl}
 ~weak_ptr();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects  Destroys this \tcode{weak_ptr} object but has no
@@ -11232,11 +11246,12 @@ both empty.
 
 \rSec3[util.smartptr.weak.spec]{Specialized algorithms}
 
-\indexlibrarymember{swap}{weak_ptr}%
+\begin{indexed}{\indexlibrarymember{swap}{weak_ptr}}
 \begin{itemdecl}
 template<class T>
   void swap(weak_ptr<T>& a, weak_ptr<T>& b) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\effects Equivalent to \tcode{a.swap(b)}.
@@ -11248,7 +11263,7 @@ template<class T>
 The class template \tcode{owner_less} allows ownership-based mixed comparisons of shared
 and weak pointers.
 
-\indexlibrary{\idxcode{owner_less}}%
+\begin{indexed}{\indexlibrary{\idxcode{owner_less}}}
 \begin{codeblock}
 namespace std {
   template<class T = void> struct owner_less;
@@ -11279,6 +11294,7 @@ namespace std {
   };
 }
 \end{codeblock}
+\end{indexed}
 
 \indexlibrarymember{operator()}{owner_less}%
 \pnum \tcode{operator()(x, y)} shall return \tcode{x.owner_before(y)}. \begin{note}
@@ -11496,10 +11512,11 @@ constexpr atomic() noexcept = default;
 Initializes \tcode{p\{\}}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{atomic<shared_ptr<T>>}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{atomic<shared_ptr<T>>}!constructor}}
 \begin{itemdecl}
 atomic(shared_ptr<T> desired) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -11538,10 +11555,11 @@ the value of \tcode{desired} as if by \tcode{p.swap(desired)}.
 Memory is affected according to the value of \tcode{order}.
 \end{itemdescr}
 
-\indexlibrarymember{operator=}{atomic<shared_ptr<T>>}%
+\begin{indexed}{\indexlibrarymember{operator=}{atomic<shared_ptr<T>>}}
 \begin{itemdecl}
 void operator=(shared_ptr<T> desired) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -12098,8 +12116,8 @@ namespace std::pmr {
 \pnum
 The \tcode{memory_resource} class is an abstract interface to an unbounded set of classes encapsulating memory resources.
 
-\indexlibrary{\idxcode{memory_resource}}%
-\indexlibrarymember{operator=}{memory_resource}%
+\begin{indexed}{\indexlibrary{\idxcode{memory_resource}}%
+\indexlibrarymember{operator=}{memory_resource}}
 \begin{codeblock}
 namespace std::pmr {
   class memory_resource {
@@ -12125,14 +12143,16 @@ namespace std::pmr {
   };
 }
 \end{codeblock}
+\end{indexed}
 
 
 \rSec3[mem.res.public]{Public member functions}
 
-\indexlibrary{\idxcode{memory_resource}!destructor}%
+\begin{indexed}{\indexlibrary{\idxcode{memory_resource}!destructor}}
 \begin{itemdecl}
 ~memory_resource();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -12140,10 +12160,11 @@ namespace std::pmr {
 Destroys this \tcode{memory_resource}.
 \end{itemdescr}
 
-\indexlibrarymember{allocate}{memory_resource}%
+\begin{indexed}{\indexlibrarymember{allocate}{memory_resource}}
 \begin{itemdecl}
 [[nodiscard]] void* allocate(size_t bytes, size_t alignment = max_align);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -12151,10 +12172,11 @@ Destroys this \tcode{memory_resource}.
 Equivalent to: \tcode{return do_allocate(bytes, alignment);}
 \end{itemdescr}
 
-\indexlibrarymember{deallocate}{memory_resource}%
+\begin{indexed}{\indexlibrarymember{deallocate}{memory_resource}}
 \begin{itemdecl}
 void deallocate(void* p, size_t bytes, size_t alignment = max_align);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -12162,10 +12184,11 @@ void deallocate(void* p, size_t bytes, size_t alignment = max_align);
 Equivalent to \tcode{do_deallocate(p, bytes, alignment)}.
 \end{itemdescr}
 
-\indexlibrarymember{is_equal}{memory_resource}%
+\begin{indexed}{\indexlibrarymember{is_equal}{memory_resource}}
 \begin{itemdecl}
 bool is_equal(const memory_resource& other) const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -12360,10 +12383,11 @@ Sets \tcode{memory_rsrc} to \tcode{other.resource()}.
 
 \rSec3[mem.poly.allocator.mem]{Member functions}
 
-\indexlibrarymember{allocate}{polymorphic_allocator}%
+\begin{indexed}{\indexlibrarymember{allocate}{polymorphic_allocator}}
 \begin{itemdecl}
 [[nodiscard]] Tp* allocate(size_t n);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -12375,10 +12399,11 @@ return static_cast<Tp*>(memory_rsrc->allocate(n * sizeof(Tp), alignof(Tp)));
 \end{codeblock}
 \end{itemdescr}
 
-\indexlibrarymember{deallocate}{polymorphic_allocator}%
+\begin{indexed}{\indexlibrarymember{deallocate}{polymorphic_allocator}}
 \begin{itemdecl}
 void deallocate(Tp* p, size_t n);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -12872,11 +12897,11 @@ Calls \tcode{release()}.
 
 \rSec3[mem.res.pool.mem]{Members}
 
-\indexlibrarymember{release}{synchronized_pool_resource}%
-\indexlibrarymember{release}{unsynchronized_pool_resource}%
+\begin{indexed}{\indexlibrarymember{release}{synchronized_pool_resource}\indexlibrarymember{release}{unsynchronized_pool_resource}}
 \begin{itemdecl}
 void release();
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -13326,10 +13351,11 @@ using inner_allocator_type = @\seebelow@;
 zero; otherwise,\\ \tcode{scoped_allocator_adaptor<InnerAllocs...>}.
 \end{itemdescr}
 
-\indexlibrarymember{propagate_on_container_copy_assignment}{scoped_allocator_adaptor}%
+\begin{indexed}{\indexlibrarymember{propagate_on_container_copy_assignment}{scoped_allocator_adaptor}}
 \begin{itemdecl}
 using propagate_on_container_copy_assignment = @\seebelow@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -13339,10 +13365,11 @@ using propagate_on_container_copy_assignment = @\seebelow@;
 \tcode{InnerAllocs...}; otherwise, \tcode{false_type}.
 \end{itemdescr}
 
-\indexlibrarymember{propagate_on_container_move_assignment}{scoped_allocator_adaptor}%
+\begin{indexed}{\indexlibrarymember{propagate_on_container_move_assignment}{scoped_allocator_adaptor}}
 \begin{itemdecl}
 using propagate_on_container_move_assignment = @\seebelow@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -13352,10 +13379,11 @@ using propagate_on_container_move_assignment = @\seebelow@;
 \tcode{InnerAllocs...}; otherwise, \tcode{false_type}.
 \end{itemdescr}
 
-\indexlibrarymember{propagate_on_container_swap}{scoped_allocator_adaptor}%
+\begin{indexed}{\indexlibrarymember{propagate_on_container_swap}{scoped_allocator_adaptor}}
 \begin{itemdecl}
 using propagate_on_container_swap = @\seebelow@;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -13409,10 +13437,11 @@ allocator from the argument list).
 \tcode{is_constructible_v<OuterAlloc, OuterA2>} is \tcode{true}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{scoped_allocator_adaptor}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{scoped_allocator_adaptor}!constructor}}
 \begin{itemdecl}
 scoped_allocator_adaptor(const scoped_allocator_adaptor& other) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -13420,10 +13449,11 @@ scoped_allocator_adaptor(const scoped_allocator_adaptor& other) noexcept;
 from \tcode{other}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{scoped_allocator_adaptor}!constructor}%
+\begin{indexed}{\indexlibrary{\idxcode{scoped_allocator_adaptor}!constructor}}
 \begin{itemdecl}
 scoped_allocator_adaptor(scoped_allocator_adaptor&& other) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -13623,14 +13653,14 @@ a.outer_allocator() == b.outer_allocator() && a.inner_allocator() == b.inner_all
 \rSec1[function.objects]{Function objects}
 
 \pnum
-A \defnx{function object type}{function object!type} is an object
-type\iref{basic.types} that can be the type of the
+A \defnx{function object type}{function object!type} is an
+\deflink{object type}{basic.types} that can be the type of the
 \grammarterm{postfix-expression} in a function call
 (\ref{expr.call}, \ref{over.match.call}).\footnote{Such a type is a function
 pointer or a class type which has a member \tcode{operator()} or a class type
 which has a conversion to a pointer to function.} A \defn{function object} is an
 object of a function object type. In the places where one would expect to pass a
-pointer to a function to an algorithmic template\iref{algorithms}, the
+pointer to a function to an \link{algorithmic template}{algorithms}, the
 interface is specified to accept a function object. This not only makes
 algorithmic templates work with pointers to functions, but also enables them to
 work with arbitrary function objects.
@@ -13820,7 +13850,7 @@ A \defn{call signature} is the name of a return type followed by a
 parenthesized comma-separated list of zero or more argument types.
 
 \pnum
-A \defnadj{callable}{type} is a function object type\iref{function.objects} or a pointer to member.
+A \defnadj{callable}{type} is a \deflinkx{function object type}{function object!type}{function.objects} or a pointer to member.
 
 \pnum
 A \defnadj{callable}{object} is an object of a callable type.
@@ -13849,8 +13879,7 @@ collectively referred to as \defnx{state entities}{state entity}.
 \rSec2[func.require]{Requirements}
 
 \pnum
-\indexlibrary{invoke@\tcode{\placeholder{INVOKE}}}%
-Define \tcode{\placeholdernc{INVOKE}(f, t$_1$, t$_2$, $\dotsc$, t$_N$)} as follows:
+Define \indexedspan{\tcode{\placeholdernc{INVOKE}(f, t$_1$, t$_2$, $\dotsc$, t$_N$)}}{\indexlibrary{invoke@\tcode{\placeholder{INVOKE}}}} as follows:
 
 \begin{itemize}
 \item \tcode{(t$_1$.*f)(t$_2$, $\dotsc$, t$_N$)} when \tcode{f} is a pointer to a
@@ -13954,18 +13983,20 @@ a given standard library function template have the same type
 if the types of their corresponding state entities are the same.
 
 \rSec2[func.invoke]{Function template \tcode{invoke}}
-\indexlibrary{\idxcode{invoke}}%
 \indexlibrary{invoke@\tcode{\placeholder{INVOKE}}}%
+\begin{indexed}{\indexlibrary{\idxcode{invoke}}}
 \begin{itemdecl}
 template<class F, class... Args>
   constexpr invoke_result_t<F, Args...> invoke(F&& f, Args&&... args)
     noexcept(is_nothrow_invocable_v<F, Args...>);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
 \returns
-\tcode{\placeholdernc{INVOKE}(std::forward<F>(f), std::forward<Args>(args)...)}\iref{func.require}.
+\liblinkx{\tcode{\placeholdernc{INVOKE}}}{INVOKE}{func.require}%
+\tcode{(std::forward<F>(f), std::forward<Args>(args)...)}.
 \end{itemdescr}
 
 \rSec2[refwrap]{Class template \tcode{reference_wrapper}}
@@ -14005,7 +14036,8 @@ namespace std {
 around a reference to an object or function of type \tcode{T}.
 
 \pnum
-\tcode{reference_wrapper<T>} is a trivially copyable type\iref{basic.types}.
+\tcode{reference_wrapper<T>} is a
+\deflinkx{trivially copyable type}{trivially copyable types}{basic.types}.
 
 \pnum
 The template parameter \tcode{T} of \tcode{reference_wrapper}
@@ -14429,12 +14461,13 @@ is also consistent with the partial order imposed by those built-in operators.
 
 \rSec3[comparisons.equal.to]{Class template \tcode{equal_to}}
 
-\indexlibrary{\idxcode{equal_to}}%
+\begin{indexed}{\indexlibrary{\idxcode{equal_to}}}
 \begin{itemdecl}
 template<class T = void> struct equal_to {
   constexpr bool operator()(const T& x, const T& y) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{equal_to}%
 \begin{itemdecl}
@@ -14493,11 +14526,12 @@ template<> struct not_equal_to<void> {
 };
 \end{itemdecl}
 
-\indexlibrarymember{operator()}{not_equal_to<>}%
+\begin{indexed}{\indexlibrarymember{operator()}{not_equal_to<>}}
 \begin{itemdecl}
 template<class T, class U> constexpr auto operator()(T&& t, U&& u) const
     -> decltype(std::forward<T>(t) != std::forward<U>(u));
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns \tcode{std::forward<T>(t) != std::forward<U>(u)}.
@@ -14619,12 +14653,13 @@ template<class T, class U> constexpr auto operator()(T&& t, U&& u) const
 
 \rSec3[comparisons.less.equal]{Class template \tcode{less_equal}}
 
-\indexlibrary{\idxcode{less_equal}}%
+\begin{indexed}{\indexlibrary{\idxcode{less_equal}}}
 \begin{itemdecl}
 template<class T = void> struct less_equal {
   constexpr bool operator()(const T& x, const T& y) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{less_equal}%
 \begin{itemdecl}
@@ -14831,12 +14866,13 @@ operators in the language~(\ref{expr.log.and}, \ref{expr.log.or}, \ref{expr.unar
 
 \rSec3[logical.operations.and]{Class template \tcode{logical_and}}
 
-\indexlibrary{\idxcode{logical_and}}%
+\begin{indexed}{\indexlibrary{\idxcode{logical_and}}}
 \begin{itemdecl}
 template<class T = void> struct logical_and {
   constexpr bool operator()(const T& x, const T& y) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{logical_and}%
 \begin{itemdecl}
@@ -14869,12 +14905,13 @@ template<class T, class U> constexpr auto operator()(T&& t, U&& u) const
 
 \rSec3[logical.operations.or]{Class template \tcode{logical_or}}
 
-\indexlibrary{\idxcode{logical_or}}%
+\begin{indexed}{\indexlibrary{\idxcode{logical_or}}}
 \begin{itemdecl}
 template<class T = void> struct logical_or {
   constexpr bool operator()(const T& x, const T& y) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{logical_or}%
 \begin{itemdecl}
@@ -14907,12 +14944,13 @@ template<class T, class U> constexpr auto operator()(T&& t, U&& u) const
 
 \rSec3[logical.operations.not]{Class template \tcode{logical_not}}
 
-\indexlibrary{\idxcode{logical_not}}%
+\begin{indexed}{\indexlibrary{\idxcode{logical_not}}}
 \begin{itemdecl}
 template<class T = void> struct logical_not {
   constexpr bool operator()(const T& x) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{logical_not}%
 \begin{itemdecl}
@@ -14953,12 +14991,13 @@ operators in the language~(\ref{expr.bit.and}, \ref{expr.or},
 
 \rSec3[bitwise.operations.and]{Class template \tcode{bit_and}}
 
-\indexlibrary{\idxcode{bit_and}}%
+\begin{indexed}{\indexlibrary{\idxcode{bit_and}}}
 \begin{itemdecl}
 template<class T = void> struct bit_and {
   constexpr T operator()(const T& x, const T& y) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{bit_and}%
 \begin{itemdecl}
@@ -14991,12 +15030,13 @@ template<class T, class U> constexpr auto operator()(T&& t, U&& u) const
 
 \rSec3[bitwise.operations.or]{Class template \tcode{bit_or}}
 
-\indexlibrary{\idxcode{bit_or}}%
+\begin{indexed}{\indexlibrary{\idxcode{bit_or}}}
 \begin{itemdecl}
 template<class T = void> struct bit_or {
   constexpr T operator()(const T& x, const T& y) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{bit_or}%
 \begin{itemdecl}
@@ -15017,11 +15057,12 @@ template<> struct bit_or<void> {
 };
 \end{itemdecl}
 
-\indexlibrarymember{operator()}{bit_or<>}%
+\begin{indexed}{\indexlibrarymember{operator()}{bit_or<>}}
 \begin{itemdecl}
 template<class T, class U> constexpr auto operator()(T&& t, U&& u) const
     -> decltype(std::forward<T>(t) | std::forward<U>(u));
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns \tcode{std::forward<T>(t) | std::forward<U>(u)}.
@@ -15029,12 +15070,13 @@ template<class T, class U> constexpr auto operator()(T&& t, U&& u) const
 
 \rSec3[bitwise.operations.xor]{Class template \tcode{bit_xor}}
 
-\indexlibrary{\idxcode{bit_xor}}%
+\begin{indexed}{\indexlibrary{\idxcode{bit_xor}}}
 \begin{itemdecl}
 template<class T = void> struct bit_xor {
   constexpr T operator()(const T& x, const T& y) const;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{bit_xor}%
 \begin{itemdecl}
@@ -15082,7 +15124,7 @@ constexpr T operator()(const T& x) const;
 \pnum\returns \tcode{\~{}x}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{bit_not<>}}%
+\begin{indexed}{\indexlibrary{\idxcode{bit_not<>}}}
 \begin{itemdecl}
 template<> struct bit_not<void> {
   template<class T> constexpr auto operator()(T&& t) const
@@ -15091,6 +15133,7 @@ template<> struct bit_not<void> {
   using is_transparent = @\unspec@;
 };
 \end{itemdecl}
+\end{indexed}
 
 \indexlibrarymember{operator()}{bit_not<>}%
 \begin{itemdecl}
@@ -15432,10 +15475,11 @@ extern @\unspec@ _1;
 \rSec2[func.memfn]{Function template \tcode{mem_fn}}%
 \indextext{function object!\idxcode{mem_fn}|(}
 
-\indexlibrary{\idxcode{mem_fn}}%
+\begin{indexed}{\indexlibrary{\idxcode{mem_fn}}}
 \begin{itemdecl}
 template<class R, class T> constexpr @\unspec@ mem_fn(R T::* pm) noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -15540,23 +15584,23 @@ namespace std {
 \pnum
 The \tcode{function} class template provides polymorphic wrappers that
 generalize the notion of a function pointer. Wrappers can store, copy,
-and call arbitrary callable objects\iref{func.def}, given a call
-signature\iref{func.def}, allowing functions to be first-class objects.
+and call arbitrary \deflinkx{callable objects}{callable object}{func.def}, given a
+\deflink{call signature}{func.def}, allowing functions to be first-class objects.
 
 \pnum
 \indextext{callable type}%
-A callable type\iref{func.def} \tcode{F}
+A \deflink{callable type}{func.def} \tcode{F}
 is \defn{Lvalue-Callable} for argument
 types \tcode{ArgTypes}
 and return type \tcode{R}
 if the expression
 \tcode{\placeholdernc{INVOKE}<R>(declval<F\&>(), declval<ArgTypes>()...)},
-considered as an unevaluated operand\iref{expr.prop}, is
+considered as an \deflink{unevaluated operand}{expr.prop}, is
 well-formed\iref{func.require}.
 
 \pnum
-The \tcode{function} class template is a call
-wrapper\iref{func.def} whose call signature\iref{func.def}
+The \tcode{function} class template is a
+\deflink{call wrapper}{func.def} whose \deflink{call signature}{func.def}
 is \tcode{R(ArgTypes...)}.
 
 \pnum
@@ -15637,7 +15681,7 @@ template<class F> function(F f);
 
 \pnum
 \remarks This constructor template shall not participate in overload resolution unless
-\tcode{F} is Lvalue-Callable\iref{func.wrap.func} for argument types
+\tcode{F} is \deflink{Lvalue-Callable}{func.wrap.func} for argument types
 \tcode{ArgTypes...} and return type \tcode{R}.
 
 \pnum
@@ -15740,7 +15784,7 @@ template<class F> function& operator=(F&& f);
 
 \pnum\remarks This assignment operator shall not participate in overload
 resolution unless \tcode{decay_t<F>} is
-Lvalue-Callable\iref{func.wrap.func} for argument types \tcode{ArgTypes...} and
+\deflink{Lvalue-Callable}{func.wrap.func} for argument types \tcode{ArgTypes...} and
 return type \tcode{R}.
 \end{itemdescr}
 
@@ -15778,10 +15822,11 @@ void swap(function& other) noexcept;
 
 \rSec4[func.wrap.func.cap]{Capacity}
 
-\indexlibrarymember{operator bool}{function}%
+\begin{indexed}{\indexlibrarymember{operator bool}{function}}
 \begin{itemdecl}
 explicit operator bool() const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -15790,16 +15835,16 @@ explicit operator bool() const noexcept;
 
 \rSec4[func.wrap.func.inv]{Invocation}
 
-\indexlibrary{\idxcode{function}!invocation}%
-\indexlibrarymember{operator()}{function}%
+\begin{indexed}{\indexlibrary{\idxcode{function}!invocation}\indexlibrarymember{operator()}{function}}
 \begin{itemdecl}
 R operator()(ArgTypes... args) const;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
 \returns \tcode{\placeholdernc{INVOKE}<R>(f, std::forward<ArgTypes>(args)...)}\iref{func.require},
-where \tcode{f} is the target object\iref{func.def} of \tcode{*this}.
+where \tcode{f} is the \deflink{target object}{func.def} of \tcode{*this}.
 
 \pnum\throws
 \tcode{bad_function_call} if \tcode{!*this}; otherwise, any
@@ -15808,21 +15853,23 @@ exception thrown by the wrapped callable object.
 
 \rSec4[func.wrap.func.targ]{Target access}
 
-\indexlibrarymember{target_type}{function}%
+\begin{indexed}{\indexlibrarymember{target_type}{function}}
 \begin{itemdecl}
 const type_info& target_type() const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns If \tcode{*this} has a target of type \tcode{T},
   \tcode{typeid(T)}; otherwise, \tcode{typeid(void)}.
 \end{itemdescr}
 
-\indexlibrarymember{target}{function}%
+\begin{indexed}{\indexlibrarymember{target}{function}}
 \begin{itemdecl}
 template<class T>       T* target() noexcept;
 template<class T> const T* target() const noexcept;
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum\returns If \tcode{target_type() == typeid(T)}
@@ -15857,7 +15904,8 @@ template<class R, class... ArgTypes>
 \rSec2[func.search]{Searchers}
 
 \pnum
-This subclause provides function object types\iref{function.objects} for
+This subclause provides
+\deflinkx{function object types}{function object!type}{function.objects} for
 operations that search for a sequence \range{pat\textunderscore\nobreak first}{pat_last} in another
 sequence \range{first}{last} that is provided to the object's function call
 operator.  The first sequence (the pattern to be searched for) is provided to
@@ -16170,7 +16218,7 @@ these values are \tcode{false}:
 \tcode{is_copy_assignable_v<H>}, and
 \tcode{is_move_assignable_v<H>}.
 Disabled specializations of \tcode{hash}
-are not function object types\iref{function.objects}.
+are not \deflinkx{function object types}{function object!type}{function.objects}.
 \begin{note}
 This means that the specialization of \tcode{hash} exists, but
 any attempts to use it as a \oldconcept{Hash} will be ill-formed.
@@ -16209,7 +16257,7 @@ type transformations allow certain properties of types to be manipulated.
 
 \pnum
 \indextext{signal-safe!type traits}%
-All functions specified in this subclause are signal-safe\iref{support.signal}.
+All functions specified in this subclause are \deflinkx{signal-safe}{evaluation!signal-safe}{support.signal}.
 
 \rSec2[meta.rqmts]{Requirements}
 
@@ -16222,7 +16270,7 @@ property being described. It shall be \oldconcept{DefaultConstructible},
 and publicly and unambiguously derived, directly or indirectly, from
 its \defn{base characteristic}, which is
 a specialization of the template
-\tcode{integral_constant}\iref{meta.help}, with
+\linkx{\tcode{integral_constant}}{\idxcode{integral_constant}}{meta.help}, with
 the arguments to the template \tcode{integral_constant} determined by the
 requirements for the particular property being described.
 The member names of the base characteristic shall not be hidden and shall be
@@ -16238,7 +16286,7 @@ and publicly and unambiguously derived, directly or
 indirectly, from
 its \term{base characteristic}, which is a specialization
 of the template
-\tcode{integral_constant}\iref{meta.help}, with
+\linkx{\tcode{integral_constant}}{\idxcode{integral_constant}}{meta.help}, with
 the arguments to the template \tcode{integral_constant} determined by the
 requirements for the particular relationship being described.
 The member names of the base characteristic shall not be hidden and shall be
@@ -16707,6 +16755,7 @@ namespace std {
 \rSec2[meta.help]{Helper classes}
 
 \indexlibrarymember{value_type}{integral_constant}%
+\begin{indexed}{\indexlibrary{\idxcode{integral_constant}}}
 \begin{codeblock}
 namespace std {
   template<class T, T v> struct integral_constant {
@@ -16720,8 +16769,8 @@ namespace std {
   };
 }
 \end{codeblock}
+\end{indexed}
 
-\indexlibrary{\idxcode{integral_constant}}%
 \indexlibrary{\idxcode{bool_constant}}%
 \indexlibrary{\idxcode{true_type}}%
 \indexlibrary{\idxcode{false_type}}%
@@ -16790,7 +16839,7 @@ has a \tcode{value} member that evaluates to \tcode{true}.
 \tcode{template<class T>}\br
  \tcode{struct is_array;}           &
 \tcode{T} is an array type\iref{basic.compound} of known or unknown extent    &
-Class template \tcode{array}\iref{array}
+Class template \link{\tcode{array}}{array}
 is not an array type.                   \\ \rowsep
 \indexlibrary{\idxcode{is_pointer}}%
 \tcode{template<class T>}\br
@@ -16857,27 +16906,27 @@ For any given type \tcode{T}, the result of applying one of these templates to
 \indexlibrary{\idxcode{is_arithmetic}}%
 \tcode{template<class T>}\br
  \tcode{struct is_arithmetic;}          &
- \tcode{T} is an arithmetic type\iref{basic.fundamental}              &   \\ \rowsep
+ \tcode{T} is an \deflinkx{arithmetic type}{type!arithmetic}{basic.fundamental}              &   \\ \rowsep
 \indexlibrary{\idxcode{is_fundamental}}%
 \tcode{template<class T>}\br
  \tcode{struct is_fundamental;}         &
- \tcode{T} is a fundamental type\iref{basic.fundamental}              &   \\ \rowsep
+ \tcode{T} is a \link{fundamental type}{basic.fundamental}              &   \\ \rowsep
 \indexlibrary{\idxcode{is_object}}%
 \tcode{template<class T>}\br
  \tcode{struct is_object;}              &
- \tcode{T} is an object type\iref{basic.types}                            &   \\ \rowsep
+ \tcode{T} is an \deflink{object type}{basic.types}                            &   \\ \rowsep
 \indexlibrary{\idxcode{is_scalar}}%
 \tcode{template<class T>}\br
  \tcode{struct is_scalar;}              &
- \tcode{T} is a scalar type\iref{basic.types}                         &   \\ \rowsep
+ \tcode{T} is a \deflink{scalar type}{basic.types}                         &   \\ \rowsep
 \indexlibrary{\idxcode{is_compound}}%
 \tcode{template<class T>}\br
  \tcode{struct is_compound;}            &
- \tcode{T} is a compound type\iref{basic.compound}                        &   \\ \rowsep
+ \tcode{T} is a \link{compound type}{basic.compound}                        &   \\ \rowsep
 \indexlibrary{\idxcode{is_member_pointer}}%
 \tcode{template<class T>}\br
  \tcode{struct is_member_pointer;}      &
- \tcode{T} is a pointer-to-member type\iref{basic.compound}               &   \\
+ \tcode{T} is a \deflink{pointer-to-member}{basic.compound} type               &   \\
 \end{libreqtab3b}
 
 \rSec3[meta.unary.prop]{Type properties}
@@ -16901,7 +16950,7 @@ the argument is a complete type.
 For the purpose of defining the templates in this subclause,
 a function call expression \tcode{declval<T>()} for any type \tcode{T}
 is considered to be a trivial~(\ref{basic.types}, \ref{special}) function call
-that is not an odr-use\iref{basic.def.odr} of \tcode{declval}
+that is not an \link{odr-use}{basic.def.odr} of \tcode{declval}
 in the context of the corresponding definition
 notwithstanding the restrictions of~\ref{declval}.
 
@@ -17045,8 +17094,8 @@ notwithstanding the restrictions of~\ref{declval}.
 \tcode{template<class T, class U>}\br
   \tcode{struct is_assignable;} &
   The expression \tcode{declval<T>() =} \tcode{declval<U>()} is well-formed
-  when treated as an unevaluated
-  operand\iref{expr.prop}. Access checking is performed as if in a context
+  when treated as an \deflink{unevaluated
+  operand}{expr.prop}. Access checking is performed as if in a context
   unrelated to \tcode{T} and \tcode{U}. Only the validity of the immediate context
   of the assignment expression is considered. \begin{note} The compilation of the
   expression can result in side effects such as the instantiation of class template
@@ -17077,7 +17126,7 @@ notwithstanding the restrictions of~\ref{declval}.
   \tcode{struct is_swappable_with;} &
   The expressions \tcode{swap(declval<T>(), declval<U>())} and
   \tcode{swap(declval<U>(), declval<T>())} are each well-formed
-  when treated as an unevaluated operand\iref{expr.prop}
+  when treated as an \deflink{unevaluated operand}{expr.prop}
   in an overload-resolution context
   for swappable values\iref{swappable.requirements}.
   Access checking is performed as if in a context
@@ -17114,7 +17163,7 @@ notwithstanding the restrictions of~\ref{declval}.
   for which the expression
   \tcode{declval<U\&>().\~U()}
   is well-formed
-  when treated as an unevaluated operand\iref{expr.prop},
+  when treated as an \deflink{unevaluated operand}{expr.prop},
   where \tcode{U} is
   \tcode{remove_all_extents_t<T>}. &
   \tcode{T} shall be a complete type, \cv{}~\tcode{void},
@@ -17123,7 +17172,7 @@ notwithstanding the restrictions of~\ref{declval}.
 \indexlibrary{\idxcode{is_trivially_constructible}}%
 \tcode{template<class T, class... Args>}\br
   \tcode{struct}\br
-  \tcode{is_trivially_constructible;} &
+  \tcode{\libentity{is_trivially_constructible};} &
   \tcode{is_constructible_v<T,}\br
   \tcode{Args...>} is \tcode{true} and the variable
   definition for \tcode{is_constructible}, as defined below, is known to call
@@ -17213,9 +17262,8 @@ notwithstanding the restrictions of~\ref{declval}.
  \cv{}~\tcode{void}, or an array of unknown
  bound.                \\ \rowsep
 
-\indexlibrary{\idxcode{is_nothrow_copy_constructible}}%
-\tcode{template<class T>}\br
- \tcode{struct is_nothrow_copy_constructible;}      &
+\tcode{template <class T>}\br
+ \tcode{struct \libentity{is_nothrow_copy_constructible};}      &
   For a referenceable type \tcode{T}, the same result as
  \tcode{is_nothrow_constructible_v<T, const T\&>}, otherwise \tcode{false}. &
  \tcode{T} shall be a complete type,
@@ -17579,7 +17627,7 @@ not possibly cv-qualified versions of the same type,
 For the purpose of defining the templates in this subclause,
 a function call expression \tcode{declval<T>()} for any type \tcode{T}
 is considered to be a trivial~(\ref{basic.types}, \ref{special}) function call
-that is not an odr-use\iref{basic.def.odr} of \tcode{declval}
+that is not an \link{odr-use}{basic.def.odr} of \tcode{declval}
 in the context of the corresponding definition
 notwithstanding the restrictions of~\ref{declval}.
 
@@ -17720,7 +17768,7 @@ Each of the templates in this subclause shall be a
 \indexlibrary{\idxcode{add_lvalue_reference}}%
 \tcode{template<class T>\br
  struct add_lvalue_reference;}                     &
- If \tcode{T} names a referenceable type\iref{defns.referenceable} then
+ If \tcode{T} names a \link{referenceable type}{defns.referenceable} then
  the member typedef \tcode{type} names \tcode{T\&};
  otherwise, \tcode{type} names \tcode{T}.
  \begin{note}
@@ -17752,14 +17800,14 @@ Each of the templates in this subclause shall be a
 \indexlibrary{\idxcode{make_signed}}%
 \tcode{template<class T>}\br
  \tcode{struct make_signed;} &
- If \tcode{T} names a (possibly cv-qualified) signed integer
- type\iref{basic.fundamental} then the member typedef
+ If \tcode{T} names a (possibly cv-qualified)
+ \deflink{signed integer type}{basic.fundamental} then the member typedef
  \tcode{type} names the type \tcode{T}; otherwise,
  if \tcode{T} names a (possibly cv-qualified) unsigned integer
  type then \tcode{type} names the corresponding
  signed integer type, with the same cv-qualifiers as \tcode{T};
- otherwise, \tcode{type} names the signed integer type with smallest
- rank\iref{conv.rank} for which
+ otherwise, \tcode{type} names the signed integer type with \link{smallest
+ rank}{conv.rank} for which
  \tcode{sizeof(T) == sizeof(type)}, with the same
  cv-qualifiers as \tcode{T}.\br
  \requires{} \tcode{T} shall be a (possibly cv-qualified)
@@ -17769,14 +17817,14 @@ Each of the templates in this subclause shall be a
 \indexlibrary{\idxcode{make_unsigned}}%
 \tcode{template<class T>}\br
  \tcode{struct make_unsigned;} &
- If \tcode{T} names a (possibly cv-qualified) unsigned integer
- type\iref{basic.fundamental} then the member typedef
+ If \tcode{T} names a (possibly cv-qualified)
+ \deflink{unsigned integer type}{basic.fundamental} then the member typedef
  \tcode{type} names the type \tcode{T}; otherwise,
  if \tcode{T} names a (possibly cv-qualified) signed integer
  type then \tcode{type} names the corresponding
  unsigned integer type, with the same cv-qualifiers as \tcode{T};
- otherwise, \tcode{type} names the unsigned integer type with smallest
- rank\iref{conv.rank} for which
+ otherwise, \tcode{type} names the unsigned integer type with \link{smallest
+ rank}{conv.rank} for which
  \tcode{sizeof(T) == sizeof(type)}, with the same
  cv-qualifiers as \tcode{T}.\br
  \requires{} \tcode{T} shall be a (possibly cv-qualified)
@@ -17853,7 +17901,7 @@ assert((is_same_v<remove_all_extents_t<int[][3]>, int>));
 \indexlibrary{\idxcode{add_pointer}}%
 \tcode{template<class T>\br
  struct add_pointer;}                       &
- If \tcode{T} names a referenceable type\iref{defns.referenceable} or a
+ If \tcode{T} names a \link{referenceable type}{defns.referenceable} or a
  \cv{}~\tcode{void} type then
  the member typedef \tcode{type} names the same type as
  \tcode{remove_reference_t<T>*};
@@ -17981,7 +18029,7 @@ assert((is_same_v<remove_all_extents_t<int[][3]>, int>));
  \tcode{struct invoke_result;}
  &
  If the expression \tcode{\placeholdernc{INVOKE}(declval<Fn>(), declval<ArgTypes>()...)}
- is well-formed when treated as an unevaluated operand\iref{expr.prop},
+ is well-formed when treated as an \deflink{unevaluated operand}{expr.prop},
  the member typedef \tcode{type} names the type
  \tcode{decltype(\placeholdernc{INVOKE}(declval<Fn>(), declval<ArgTypes>()...))};
  otherwise, there shall be no member \tcode{type}. Access checking is
@@ -18000,9 +18048,8 @@ assert((is_same_v<remove_all_extents_t<int[][3]>, int>));
  unknown bound.\\
 \end{libreqtab2a}
 
-\indexlibrary{\idxcode{aligned_storage}}%
 \pnum
-\begin{note} A typical implementation would define \tcode{aligned_storage} as:
+\begin{note} A typical implementation would define \libentity{aligned_storage} as:
 
 \begin{codeblock}
 template<size_t Len, size_t Alignment>
@@ -18242,10 +18289,11 @@ static_assert(is_same_v<invoke_result_t<PMD, const S*>, const char&>);
 This subclause describes type traits for applying logical operators
 to other type traits.
 
-\indexlibrary{\idxcode{conjunction}}%
+\begin{indexed}{\indexlibrary{\idxcode{conjunction}}}
 \begin{itemdecl}
 template<class... B> struct conjunction : @\seebelow@ { };
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -18292,10 +18340,11 @@ The member names of the base class, other than \tcode{conjunction} and
 in \tcode{conjunction}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{disjunction}}%
+\begin{indexed}{\indexlibrary{\idxcode{disjunction}}}
 \begin{itemdecl}
 template<class... B> struct disjunction : @\seebelow@ { };
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -18340,10 +18389,11 @@ other than \tcode{disjunction} and \tcode{operator=},
 shall not be hidden and shall be unambiguously available in \tcode{disjunction}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{negation}}%
+\begin{indexed}{\indexlibrary{\idxcode{negation}}}
 \begin{itemdecl}
 template<class B> struct negation : @\seebelow@ { };
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -18525,7 +18575,7 @@ namespace std {
 
 \rSec2[ratio.ratio]{Class template \tcode{ratio}}
 
-\indexlibrary{\idxcode{ratio}}%
+\begin{indexed}{\indexlibrary{\idxcode{ratio}}}
 \begin{codeblock}
 namespace std {
   template<intmax_t N, intmax_t D = 1> class ratio {
@@ -18536,6 +18586,7 @@ namespace std {
   };
 }
 \end{codeblock}
+\end{indexed}
 
 \pnum
 \indextext{signed integer representation!two's complement}%
@@ -18722,9 +18773,9 @@ namespace std {
 
 \pnum
 The class \tcode{type_index} provides a simple wrapper for
-\tcode{type_info} which can be used as an index type in associative
-containers\iref{associative} and in unordered associative
-containers\iref{unord}.
+\tcode{type_info} which can be used as an index type in
+\link{associative containers}{associative} and in
+\link{unordered associative containers}{unord}.
 
 \rSec2[type.index.members]{\tcode{type_index} members}
 
@@ -18750,7 +18801,7 @@ bool operator==(const type_index& rhs) const noexcept;
 
 \indexlibrarymember{operator<}{type_index}%
 \begin{itemdecl}
-bool operator<(const type_index& rhs) const noexcept;
+bool @\libmember{operator<}{type_index}@(const type_index& rhs) const noexcept;
 \end{itemdecl}
 
 \begin{itemdescr}
@@ -18932,9 +18983,8 @@ The behavior of a program that adds specializations for
 
 \rSec2[execpol.seq]{Sequenced execution policy}
 
-\indexlibrary{\idxcode{execution::sequenced_policy}}%
 \begin{itemdecl}
-class execution::sequenced_policy { @\unspec@ };
+class @\libentity{execution::sequenced_policy}@ { @\unspec@ };
 \end{itemdecl}
 
 \begin{itemdescr}
@@ -18952,9 +19002,8 @@ if the invocation of an element access function exits via an uncaught exception,
 
 \rSec2[execpol.par]{Parallel execution policy}
 
-\indexlibrary{\idxcode{execution::parallel_policy}}%
 \begin{itemdecl}
-class execution::parallel_policy { @\unspec@ };
+class @\libentity{execution::parallel_policy}@ { @\unspec@ };
 \end{itemdecl}
 
 \begin{itemdescr}
@@ -18972,9 +19021,8 @@ if the invocation of an element access function exits via an uncaught exception,
 
 \rSec2[execpol.parunseq]{Parallel and unsequenced execution policy}
 
-\indexlibrary{\idxcode{execution::parallel_unsequenced_policy}}%
 \begin{itemdecl}
-class execution::parallel_unsequenced_policy { @\unspec@ };
+class @\libentity{execution::parallel_unsequenced_policy}@ { @\unspec@ };
 \end{itemdecl}
 
 \begin{itemdescr}
@@ -19037,25 +19085,15 @@ The header \tcode{<execution>} declares global objects associated with each type
 
 \indexhdr{charconv}%
 \begin{codeblock}
-@%
-\indexlibrary{\idxcode{chars_format}}%
-\indexlibrarymember{scientific}{chars_format}%
-\indexlibrarymember{fixed}{chars_format}%
-\indexlibrarymember{hex}{chars_format}%
-\indexlibrarymember{general}{chars_format}%
-@namespace std {
+namespace std {
   // floating-point format for primitive numerical conversion
-  enum class chars_format {
-    scientific = @\unspec@,
-    fixed = @\unspec@,
-    hex = @\unspec@,
-    general = fixed | scientific
+  enum class @\libentity{chars_format}@ {
+    @\libmember{scientific}{chars_format}@ = @\unspec@,
+    @\libmember{fixed}{chars_format}@ = @\unspec@,
+    @\libmember{hex}{chars_format}@ = @\unspec@,
+    @\libmember{general}{chars_format}@ = fixed | scientific
   };
-@%
-\indexlibrary{\idxcode{to_chars_result}}%
-\indexlibrarymember{ptr}{to_chars_result}%
-\indexlibrarymember{ec}{to_chars_result}
-@
+
   // \ref{charconv.to.chars}, primitive numerical output conversion
   struct to_chars_result {
     char* ptr;
@@ -19079,11 +19117,7 @@ The header \tcode{<execution>} declares global objects associated with each type
                            chars_format fmt, int precision);
   to_chars_result to_chars(char* first, char* last, long double value,
                            chars_format fmt, int precision);
-@%
-\indexlibrary{\idxcode{from_chars_result}}%
-\indexlibrarymember{ptr}{from_chars_result}%
-\indexlibrarymember{ec}{from_chars_result}
-@
+
   // \ref{charconv.from.chars}, primitive numerical input conversion
   struct from_chars_result {
     const char* ptr;
@@ -19145,7 +19179,7 @@ If there are several such representations,
 the representation with the smallest difference from
 the floating-point argument value is chosen,
 resolving any remaining ties using rounding according to
-\tcode{round_to_nearest}\iref{round.style}.
+\liblinkx{\tcode{round_to_nearest}}{round_to_nearest}{round.style}.
 
 \pnum
 The functions taking a \tcode{chars_format} parameter
@@ -19158,10 +19192,11 @@ if \tcode{fmt} is \tcode{chars_format::hex},
 and
 \tcode{g} if \tcode{fmt} is \tcode{chars_format::general}.
 
-\indexlibrary{\idxcode{to_chars}}%
+\begin{indexed}{\indexlibrary{\idxcode{to_chars}}}
 \begin{itemdecl}
 to_chars_result to_chars(char* first, char* last, @\seebelow@ value, int base = 10);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -19187,12 +19222,13 @@ and \tcode{char}
 as the type of the parameter \tcode{value}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{to_chars}}%
+\begin{indexed}{\indexlibrary{\idxcode{to_chars}}}
 \begin{itemdecl}
 to_chars_result to_chars(char* first, char* last, float value);
 to_chars_result to_chars(char* first, char* last, double value);
 to_chars_result to_chars(char* first, char* last, long double value);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -19208,12 +19244,13 @@ a tie is resolved in favor of \tcode{f}.
 \throws Nothing.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{to_chars}}%
+\begin{indexed}{\indexlibrary{\idxcode{to_chars}}}
 \begin{itemdecl}
 to_chars_result to_chars(char* first, char* last, float value, chars_format fmt);
 to_chars_result to_chars(char* first, char* last, double value, chars_format fmt);
 to_chars_result to_chars(char* first, char* last, long double value, chars_format fmt);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -19229,7 +19266,7 @@ in the \tcode{"C"} locale.
 \throws Nothing.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{to_chars}}%
+\begin{indexed}{\indexlibrary{\idxcode{to_chars}}}
 \begin{itemdecl}
 to_chars_result to_chars(char* first, char* last, float value,
                          chars_format fmt, int precision);
@@ -19238,6 +19275,7 @@ to_chars_result to_chars(char* first, char* last, double value,
 to_chars_result to_chars(char* first, char* last, long double value,
                          chars_format fmt, int precision);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -19288,14 +19326,15 @@ the member \tcode{ec} of the return value
 is equal to \tcode{errc::result_out_of_range}.
 Otherwise,
 \tcode{value} is set to the parsed value,
-after rounding according to \tcode{round_to_nearest}\iref{round.style}, and
+after rounding according to \liblinkx{\tcode{round_to_nearest}}{round_to_nearest}{round.style}, and
 the member \tcode{ec} is value-initialized.
 
-\indexlibrary{\idxcode{from_chars}}%
+\begin{indexed}{\indexlibrary{\idxcode{from_chars}}}
 \begin{itemdecl}
 from_chars_result from_chars(const char* first, const char* last,
                              @\seebelow@&@\itcorr[-1]@ value, int base = 10);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
@@ -19323,7 +19362,7 @@ and \tcode{char}
 as the referenced type of the parameter \tcode{value}.
 \end{itemdescr}
 
-\indexlibrary{\idxcode{from_chars}}%
+\begin{indexed}{\indexlibrary{\idxcode{from_chars}}}
 \begin{itemdecl}
 from_chars_result from_chars(const char* first, const char* last, float& value,
                              chars_format fmt = chars_format::general);
@@ -19332,6 +19371,7 @@ from_chars_result from_chars(const char* first, const char* last, double& value,
 from_chars_result from_chars(const char* first, const char* last, long double& value,
                              chars_format fmt = chars_format::general);
 \end{itemdecl}
+\end{indexed}
 
 \begin{itemdescr}
 \pnum
-- 
2.17.1


From bb4da04f222879fe5e3a80593fc0c8927a54f535 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 26 Feb 2017 13:04:04 +0100
Subject: [PATCH 13/26] Remove some index entries that cause unnecessary
 duplicate ids.

---
 source/lib-intro.tex | 2 +-
 source/templates.tex | 5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/source/lib-intro.tex b/source/lib-intro.tex
index 0ba9a5c7..b59bd890 100644
--- a/source/lib-intro.tex
+++ b/source/lib-intro.tex
@@ -689,7 +689,7 @@ Paragraphs labeled ``\textsc{See also}'' contain cross-references to the relevan
 of other standards\iref{intro.refs}.
 
 \rSec2[conventions]{Other conventions}
-\indextext{conventions}%
+%\indextext{conventions}%
 
 \pnum
 This subclause describes several editorial conventions used to describe the contents
diff --git a/source/templates.tex b/source/templates.tex
index c5ab6a2e..bc091b6a 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -4574,7 +4574,8 @@ template<class B, class a> struct X : A {
 Inside a template, some constructs have semantics which may differ from one
 instantiation to another.
 Such a construct
-\defnx{depends}{name!dependent}
+%\defnx{depends}{name!dependent} <--- same index key as 28 lines down
+depends
 on the template parameters.
 In particular, types and expressions may depend on the type
 and/or
@@ -8107,7 +8108,7 @@ at least as specialized as the argument type.
 \pnum
 \indextext{at least as specialized as|see{more specialized}}%
 Function template \tcode{F}
-is \defnx{at least as specialized as}{more specialized}
+is \textit{at least as specialized as}
 function template \tcode{G} if,
 for each pair of types used to determine the ordering,
 the type from \tcode{F}
-- 
2.17.1


From 1a02c6ff62e2eaef58638ae6af590dafc63fd059 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 26 Feb 2017 13:11:19 +0100
Subject: [PATCH 14/26] [temp.class.order] Merge \defn with index entry.

---
 source/templates.tex | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/source/templates.tex b/source/templates.tex
index bc091b6a..dc46d4fb 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -3257,9 +3257,8 @@ of the primary template.
 \rSec3[temp.class.order]{Partial ordering of class template specializations}
 
 \pnum
-\indextext{more specialized!class template}%
 For two class template partial specializations,
-the first is \defn{more specialized} than the second if, given the following
+the first is \defnx{more specialized}{more specialized!class template} than the second if, given the following
 rewrite to two function templates, the first function template is more
 specialized than the second according to the \link{ordering rules for function
 templates}{temp.func.order}:
-- 
2.17.1


From f6a48d95a1e250a2e3defa2543d80ddf733deb3b Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Mon, 17 Apr 2017 13:10:27 +0200
Subject: [PATCH 15/26] Remove inappropriate paragraph breaks.

---
 source/atomics.tex       |   4 --
 source/basic.tex         |  49 ---------------
 source/classes.tex       |  60 ------------------
 source/compatibility.tex |  26 --------
 source/concepts.tex      |   1 -
 source/declarations.tex  | 130 ---------------------------------------
 source/exceptions.tex    |   6 --
 source/expressions.tex   |  42 +------------
 source/intro.tex         |   2 -
 source/iostreams.tex     |   4 --
 source/iterators.tex     |  16 -----
 source/lex.tex           |  25 --------
 source/lib-intro.tex     |   6 --
 source/locales.tex       |  30 ---------
 source/numerics.tex      |   9 ---
 source/overloading.tex   |  59 ------------------
 source/preprocessor.tex  |  39 ------------
 source/ranges.tex        |  20 ------
 source/regex.tex         |   3 -
 source/statements.tex    |  15 -----
 source/strings.tex       |   5 --
 source/support.tex       |   8 ---
 source/templates.tex     |  94 ----------------------------
 source/threads.tex       |  19 ------
 source/time.tex          |   3 -
 source/utilities.tex     |  22 -------
 26 files changed, 2 insertions(+), 695 deletions(-)

diff --git a/source/atomics.tex b/source/atomics.tex
index 366d09de..a6be0825 100644
--- a/source/atomics.tex
+++ b/source/atomics.tex
@@ -520,7 +520,6 @@ Implementations should ensure that no ``out-of-thin-air'' values are computed th
 circularly depend on their own computation.
 
 \begin{note} For example, with \tcode{x} and \tcode{y} initially zero,
-
 \begin{codeblock}
 // Thread 1:
 r1 = y.load(memory_order::relaxed);
@@ -532,7 +531,6 @@ x.store(r1, memory_order::relaxed);
 r2 = x.load(memory_order::relaxed);
 y.store(r2, memory_order::relaxed);
 \end{codeblock}
-
 should not produce \tcode{r1 == r2 == 42}, since the store of 42 to \tcode{y} is only
 possible if the store to \tcode{x} stores \tcode{42}, which circularly depends on the
 store to \tcode{y} storing \tcode{42}. Note that without this restriction, such an
@@ -554,7 +552,6 @@ if (r1 == 42) y.store(42, memory_order::relaxed);
 r2 = y.load(memory_order::relaxed);
 if (r2 == 42) x.store(42, memory_order::relaxed);
 \end{codeblock}
-
 \end{note}
 
 \pnum
@@ -2863,7 +2860,6 @@ extern "C" void atomic_thread_fence(memory_order order) noexcept;
 \begin{itemdescr}
 \pnum
 \effects Depending on the value of \tcode{order}, this operation:
-
 \begin{itemize}
 \item has no effects, if \tcode{order == memory_order::relaxed};
 
diff --git a/source/basic.tex b/source/basic.tex
index 658c2f41..a5fc29a6 100644
--- a/source/basic.tex
+++ b/source/basic.tex
@@ -425,7 +425,6 @@ in~\ref{dcl.init}. A destructor for a class is odr-used if it is
 \pnum
 A local entity\iref{basic}
 is \defn{odr-usable} in a declarative region\iref{basic.scope.declarative} if:
-
 \begin{itemize}
 \item either the local entity is not \tcode{*this}, or
 an enclosing class or non-lambda function parameter scope exists and,
@@ -497,7 +496,6 @@ A definition of a class is required to be reachable in every context in which
 the class is used in a way that requires the class type to be complete.
 \begin{example} The following complete translation unit is well-formed,
 even though it never defines \tcode{X}:
-
 \begin{codeblock}
 struct X;                       // declare \tcode{X} as a struct type
 struct X* x1;                   // use \tcode{X} in pointer formation
@@ -625,7 +623,6 @@ implicitly defined in every translation unit where it is odr-used, and the
 implicit definition in every translation unit shall call the same
 constructor for a subobject of \tcode{D}.
 \begin{example}
-
 \begin{codeblock}
 // translation unit 1:
 struct X {
@@ -742,7 +739,6 @@ declarative region.
 \pnum
 \begin{example}
 In
-
 \begin{codeblock}
 int j = 24;
 int main() {
@@ -750,7 +746,6 @@ int main() {
   j = 42;
 }
 \end{codeblock}
-
 the identifier \tcode{j} is declared twice as a name (and used twice).
 The declarative region of the first \tcode{j} includes the entire
 example. The potential scope of the first \tcode{j} begins immediately
@@ -823,12 +818,10 @@ that are or enclose \placeholder{R} and do not enclose \placeholder{P}.
 The \defnx{point of declaration}{declaration!point of} for a name is immediately after its
 complete declarator\iref{dcl.decl} and before its
 \grammarterm{initializer} (if any), except as noted below. \begin{example}
-
 \begin{codeblock}
 unsigned char x = 12;
 { unsigned char x = x; }
 \end{codeblock}
-
 Here the second \tcode{x} is initialized with its own (indeterminate)
 value. \end{example}
 
@@ -837,12 +830,10 @@ value. \end{example}
 \indextext{name hiding}%
 A name from an outer scope remains visible up
 to the point of declaration of the name that hides it. \begin{example}
-
 \begin{codeblock}
 const int  i = 2;
 { int  i[i]; }
 \end{codeblock}
-
 declares a block-scope array of two integers. \end{example} \end{note}
 
 \pnum
@@ -865,12 +856,10 @@ constructor is immediately after the \grammarterm{using-declarator}\iref{namespa
 \indextext{declaration!enumerator point of}%
 The point of declaration for an enumerator is immediately after its
 \grammarterm{enumerator-definition}. \begin{example}
-
 \begin{codeblock}
 const int x = 12;
 { enum { x = x }; }
 \end{codeblock}
-
 Here, the enumerator \tcode{x} is initialized with the value of the
 constant \tcode{x}, namely 12. \end{example}
 
@@ -879,7 +868,6 @@ After the point of declaration of a class member, the member name can be
 looked up in the scope of its class. \begin{note}
 \indextext{type!incomplete}%
 This is true even if the class is an incomplete class. For example,
-
 \begin{codeblock}
 struct X {
   enum E { z = 16 };
@@ -893,20 +881,16 @@ The point of declaration of a class first declared in an
 \grammarterm{elaborated-type-specifier} is as follows:
 \begin{itemize}
 \item for a declaration of the form
-
 \begin{ncbnf}
 class-key \opt{attribute-specifier-seq} identifier \terminal{;}
 \end{ncbnf}
-
 the \grammarterm{identifier} is declared to be a
 \grammarterm{class-name} in the scope that contains the declaration,
 otherwise
 \item for an \grammarterm{elaborated-type-specifier} of the form
-
 \begin{ncbnf}
 class-key identifier
 \end{ncbnf}
-
 if the
 \grammarterm{elaborated-type-specifier} is used in the
 \grammarterm{decl-specifier-seq} or \grammarterm{parameter-declaration-clause}
@@ -945,7 +929,6 @@ is immediately after the \grammarterm{for-range-initializer}.
 \pnum
 The point of declaration for a template parameter is immediately after its complete
 \grammarterm{template-parameter}. \begin{example}
-
 \begin{codeblock}
 typedef unsigned char T;
 template<class T
@@ -1060,7 +1043,6 @@ member's namespace, the member's potential scope includes that portion
 of the potential scope of the \grammarterm{using-directive} that follows
 the member's point of declaration.
 \begin{example}
-
 \begin{codeblock}
 namespace N {
   int i;
@@ -1235,7 +1217,6 @@ parameter names belong to this declarative region; any other kind of name introd
 the \grammarterm{declaration} of a \grammarterm{template-declaration} is instead
 introduced into the same declarative region where it would be introduced as a result of
 a non-template declaration of the same name. \begin{example}
-
 \begin{codeblock}
 namespace N {
   template<class T> struct A { };               // \#1
@@ -1245,7 +1226,6 @@ namespace N {
   };
 }
 \end{codeblock}
-
 The declarative regions of \tcode{T}, \tcode{U} and \tcode{V} are the
 \grammarterm{template-declaration}{s} on lines \#1, \#2, and \#3,
 respectively. But the names \tcode{A}, \tcode{f}, \tcode{g} and \tcode{C} all belong to
@@ -1261,20 +1241,16 @@ declaration}{basic.scope.pdecl} and ends at the end of its declarative region.
 declaration of subsequent \grammarterm{template-parameter}{s} and their default
 arguments but cannot be used in preceding \grammarterm{template-parameter}{s} or their
 default arguments. For example,
-
 \begin{codeblock}
 template<class T, T* p, class U = T> class X { @\commentellip@ };
 template<class T> void f(T* p = new T);
 \end{codeblock}
-
 This also implies that a \grammarterm{template-parameter} can be used in the
 specification of base classes. For example,
-
 \begin{codeblock}
 template<class T> class X : public Array<T> { @\commentellip@ };
 template<class T> class Y : public T { @\commentellip@ };
 \end{codeblock}
-
 The use of a template parameter as a base class implies that a class used as a template
 argument must be defined and not just declared when the class template is instantiated.
 \end{note}
@@ -1284,12 +1260,10 @@ The declarative region of the name of a template parameter is nested within the
 immediately-enclosing declarative region. \begin{note} As a result, a
 \grammarterm{template-parameter} \link{hides}{basic.scope.hiding} any entity with the same name in an enclosing
 scope. \begin{example}
-
 \begin{codeblock}
 typedef int N;
 template<N X, typename N, template<N Y> class T> struct A;
 \end{codeblock}
-
 Here, \tcode{X} is a non-type template parameter of type \tcode{int} and \tcode{Y} is a
 non-type template parameter of the same type as the second template parameter of
 \tcode{A}. \end{example}\end{note}
@@ -1428,7 +1402,6 @@ int z = h<N::A>(N::A());        // error: \tcode{h<} does not begin a \grammarte
 
 The rules in~\ref{basic.lookup.argdep} have no effect on
 the syntactic interpretation of an expression. For example,
-
 \begin{codeblock}
 typedef int f;
 namespace N {
@@ -1441,7 +1414,6 @@ namespace N {
   };
 }
 \end{codeblock}
-
 Because the expression is not a function call, the \link{argument-dependent
 name lookup}{basic.lookup.argdep} does not apply and the friend
 function \tcode{f} is not found. \end{note}
@@ -1469,7 +1441,6 @@ its enclosing blocks\iref{stmt.block} or shall be declared before its
 use in namespace \tcode{N} or, if \tcode{N} is a nested namespace, shall
 be declared before its use in one of \tcode{N}'s enclosing namespaces.
 \begin{example}
-
 \begin{codeblock}
 namespace A {
   namespace N {
@@ -2258,7 +2229,6 @@ void g()
 \begin{example}
 Because each referenced namespace is searched at most once, the
 following is well-defined:
-
 \begin{codeblock}
 namespace B {
   int b;
@@ -2292,7 +2262,6 @@ functions, the non-type name hides the class or enumeration name if and
 only if the declarations are from the same namespace; otherwise (the
 declarations are from different namespaces), the program is ill-formed.
 \begin{example}
-
 \begin{codeblock}
 namespace A {
   struct x { };
@@ -2317,17 +2286,14 @@ namespace C {
 In a declaration for a namespace member in which the
 \grammarterm{declarator-id} is a \grammarterm{qualified-id}, given that the
 \grammarterm{qualified-id} for the namespace member has the form
-
 \begin{ncbnf}
 nested-name-specifier unqualified-id
 \end{ncbnf}
-
 the
 \grammarterm{unqualified-id} shall name a member of the namespace
 designated by the \grammarterm{nested-name-specifier}
 or of an element of the \deflink{inline namespace set}{namespace.def} of that namespace.
 \begin{example}
-
 \begin{codeblock}
 namespace A {
   namespace B {
@@ -2337,12 +2303,10 @@ namespace A {
 }
 void A::f1(int){ }  // ill-formed, \tcode{f1} is not a member of \tcode{A}
 \end{codeblock}
-
 \end{example} However, in such namespace member declarations, the
 \grammarterm{nested-name-specifier} may rely on \grammarterm{using-directive}{s}
 to implicitly provide the initial part of the
 \grammarterm{nested-name-specifier}. \begin{example}
-
 \begin{codeblock}
 namespace A {
   namespace B {
@@ -2379,11 +2343,9 @@ If the \grammarterm{elaborated-type-specifier} has no
 \grammarterm{nested-name-specifier}, and unless the
 \grammarterm{elaborated-type-specifier} appears in a declaration with the
 following form:
-
 \begin{ncbnf}
 class-key \opt{attribute-specifier-seq} identifier \terminal{;}
 \end{ncbnf}
-
 the \grammarterm{identifier} is looked up according
 to~\ref{basic.lookup.unqual} but ignoring any non-type names that have
 been declared. If the \grammarterm{elaborated-type-specifier} is introduced
@@ -2394,11 +2356,9 @@ by the \grammarterm{class-key} and this lookup does not find a previously
 declared \grammarterm{type-name}, or if the
 \grammarterm{elaborated-type-specifier} appears in a declaration with the
 form:
-
 \begin{ncbnf}
 class-key \opt{attribute-specifier-seq} identifier \terminal{;}
 \end{ncbnf}
-
 the \grammarterm{elaborated-type-specifier} is a declaration that
 introduces the \grammarterm{class-name} as described
 in~\ref{basic.scope.pdecl}.
@@ -2473,7 +2433,6 @@ If the \grammarterm{unqualified-id} is \tcode{\~}\grammarterm{type-name}, the
 expression is of a class type \tcode{C}, the \grammarterm{type-name} is
 also looked up in the scope of class \tcode{C}. At least one of the
 lookups shall find a name that refers to \cv{}~\tcode{T}. \begin{example}
-
 \begin{codeblock}
 struct A { };
 
@@ -2734,7 +2693,6 @@ void g() {
   }
 }
 \end{codeblock}
-
 Without the declaration at line \#2,
 the declaration at line \#3 would link with the declaration at line \#1.
 Because the declaration with internal linkage is hidden, however,
@@ -2746,7 +2704,6 @@ When a block scope declaration of an entity with linkage is not found to
 refer to some other declaration, then that entity is a member of the
 innermost enclosing namespace. However such a declaration does not
 introduce the member name in its namespace scope. \begin{example}
-
 \begin{codeblock}
 namespace X {
   void p() {
@@ -2895,7 +2852,6 @@ width. \end{note}
 
 \pnum
 \begin{example} A class declared as
-
 \begin{codeblock}
 struct {
   char a;
@@ -2906,7 +2862,6 @@ struct {
   struct {int ee:8;} e;
 }
 \end{codeblock}
-
 contains four separate memory locations: The member \tcode{a} and bit-fields
 \tcode{d} and \tcode{e.ee} are each separate memory locations, and can be
 modified concurrently without interfering with each other. The bit-fields
@@ -3479,7 +3434,6 @@ The \defn{storage duration} is the property of an object that defines the minimu
 potential lifetime of the storage containing the object. The storage
 duration is determined by the construct used to create the object and is
 one of the following:
-
 \begin{itemize}
 \item static storage duration
 \item thread storage duration
@@ -3868,7 +3822,6 @@ pointer value.
 An integer value is an \defnx{integer representation of a safely-derived pointer}{safely-derived pointer!integer representation}
 only if its type is at least as large as \tcode{std::intptr_t} and it is one of the
 following:
-
 \begin{itemize}
 \item the result of a \tcode{reinterpret_cast} of a safely-derived pointer value;
 
@@ -5538,7 +5491,6 @@ the value written'' by the last mutex release. \end{note}
 
 \pnum
 An evaluation \placeholder{A} \defn{carries a dependency} to an evaluation \placeholder{B} if
-
 \begin{itemize}
 \item
 the value of \placeholder{A} is used as an operand of \placeholder{B}, unless:
@@ -6057,7 +6009,6 @@ An implementation shall allow both
 \item a function of \tcode{()} returning \tcode{int} and
 \item a function of \tcode{(int}, pointer to pointer to \tcode{char)} returning \tcode{int}
 \end{itemize}
-
 \indextext{\idxcode{argc}}%
 \indextext{\idxcode{argv}}%
 as the type of \tcode{main}\iref{dcl.fct}.
diff --git a/source/classes.tex b/source/classes.tex
index 615c7eb4..1f8f0d60 100644
--- a/source/classes.tex
+++ b/source/classes.tex
@@ -144,7 +144,6 @@ Aggregates of class type are described in~\ref{dcl.init.aggr}.
 
 \pnum
 A \defnadj{trivially copyable}{class} is a class:
-
 \begin{itemize}
 \item that has at least one eligible
 copy constructor, move constructor,
@@ -280,7 +279,6 @@ struct POD {        // both trivial and standard-layout
 \pnum
 A class definition introduces a new type.
 \begin{example}
-
 \begin{codeblock}
 struct X { int a; };
 struct Y { int a; };
@@ -288,30 +286,23 @@ X a1;
 Y a2;
 int a3;
 \end{codeblock}
-
 declares three variables of three different types. This implies that
-
 \begin{codeblock}
 a1 = a2;                        // error: \tcode{Y} assigned to \tcode{X}
 a1 = a3;                        // error: \tcode{int} assigned to \tcode{X}
 \end{codeblock}
-
 are type mismatches, and that
-
 \begin{codeblock}
 int f(X);
 int f(Y);
 \end{codeblock}
-
 \indextext{overloading}%
 declare an \link{overloaded}{over} function \tcode{f()} and not
 simply a single function \tcode{f()} twice. For the same reason,
-
 \begin{codeblock}
 struct S { int a; };
 struct S { int a; };            // error, double definition
 \end{codeblock}
-
 is ill-formed because it defines \tcode{S} twice.
 \end{example}
 
@@ -409,11 +400,9 @@ void g(int s) {
 The declaration of a class name takes effect immediately after the
 \grammarterm{identifier} is seen in the class definition or
 \grammarterm{elaborated-type-specifier}. For example,
-
 \begin{codeblock}
 class A * A;
 \end{codeblock}
-
 first specifies \tcode{A} to be the name of a class and then redefines
 it as the name of a pointer to an object of that class. This means that
 the elaborated form \tcode{class} \tcode{A} must be used to refer to the
@@ -686,7 +675,6 @@ There are no special member function types or data member types.
 \pnum
 \begin{example}
 A simple example of a class definition is
-
 \begin{codeblock}
 struct tnode {
   char tword[20];
@@ -695,15 +683,12 @@ struct tnode {
   tnode* right;
 };
 \end{codeblock}
-
 which contains an array of twenty characters, an integer, and two
 pointers to objects of the same type. Once this definition has been
 given, the declaration
-
 \begin{codeblock}
 tnode s, *sp;
 \end{codeblock}
-
 declares \tcode{s} to be a \tcode{tnode} and \tcode{sp} to be a pointer
 to a \tcode{tnode}. With these declarations, \tcode{sp->count} refers to
 the \tcode{count} member of the object to which \tcode{sp} points;
@@ -733,7 +718,6 @@ virtual base classes\iref{class.mi}.
 \pnum
 If \tcode{T} is the name of a class, then each of the following shall
 have a name different from \tcode{T}:
-
 \begin{itemize}
 \item every static data member of class \tcode{T};
 
@@ -881,7 +865,6 @@ arguments}{dcl.fct.default} or in the member function body) is looked up
 as described in~\ref{basic.lookup}.
 \end{note}
 \begin{example}
-
 \begin{codeblock}
 struct X {
   typedef int T;
@@ -985,7 +968,6 @@ an enumerator or a nested type of class \tcode{X} or of a base class of
 These transformations do not apply in the
 template definition context\iref{temp.dep.type}.
 \begin{example}
-
 \begin{codeblock}
 struct tnode {
   char tword[20];
@@ -1034,7 +1016,6 @@ declared \tcode{volatile} is a \term{volatile} member function and a
 member function declared \tcode{const} \tcode{volatile} is a
 \defn{const volatile member function}.
 \begin{example}
-
 \begin{codeblock}
 struct X {
   void g() const;
@@ -1103,7 +1084,6 @@ A cv-qualified member function can be called on an
 \link{object-expression}{expr.ref} only if the object-expression is as
 cv-qualified or less-cv-qualified than the member function.
 \begin{example}
-
 \begin{codeblock}
 void k(s& x, const s& y) {
   x.f();
@@ -1226,16 +1206,13 @@ classes are called its \term{potentially constructed subobjects}.
 A \defn{constructor} is introduced by a declaration
 whose \grammarterm{declarator} is a
 function declarator\iref{dcl.fct} of the form
-
 \begin{ncbnf}
 ptr-declarator \terminal{(} parameter-declaration-clause \terminal{)} \opt{noexcept-specifier} \opt{attribute-specifier-seq}
 \end{ncbnf}
-
 where the \grammarterm{ptr-declarator} consists solely of an
 \grammarterm{id-expression}, an optional \grammarterm{attribute-specifier-seq},
 and optional surrounding parentheses, and the \grammarterm{id-expression} has
 one of the following forms:
-
 \begin{itemize}
 \item
 in a \grammarterm{member-declaration} that belongs to the
@@ -1254,7 +1231,6 @@ In a constructor declaration, each \grammarterm{decl-specifier} in the optional
 \grammarterm{decl-specifier-seq} shall be \tcode{friend}, \tcode{inline},
 \tcode{constexpr}, or an \grammarterm{explicit-specifier}.
 \begin{example}
-
 \begin{codeblock}
 struct S {
   S();              // declares the constructor
@@ -1351,7 +1327,6 @@ inline public member of its class.
 
 \pnum
 A defaulted default constructor for class \tcode{X} is defined as deleted if:
-
 \begin{itemize}
 \item \tcode{X} is a union that has a variant member
 with a non-trivial default constructor and
@@ -1392,7 +1367,6 @@ constructor.
 A default constructor is
 \defnx{trivial}{constructor!default!trivial}
 if it is not user-provided and if:
-
 \begin{itemize}
 \item
 its class has no virtual functions\iref{class.virtual} and no virtual base
@@ -1605,11 +1579,9 @@ operator or a user-declared destructor \iref{depr.impldec}.
 The implicitly-declared copy constructor for a class
 \tcode{X}
 will have the form
-
 \begin{codeblock}
 X::X(const X&)
 \end{codeblock}
-
 if each potentially constructed subobject of a class type
 \tcode{M}
 (or array thereof)
@@ -1625,7 +1597,6 @@ cannot bind to a
 \tcode{volatile}
 lvalue; see~\ref{diff.class}.}
 Otherwise, the implicitly-declared copy constructor will have the form
-
 \begin{codeblock}
 X::X(X&)
 \end{codeblock}
@@ -1635,7 +1606,6 @@ X::X(X&)
 If the definition of a class \tcode{X} does not explicitly declare
 a move constructor, a non-explicit one will be
 implicitly declared as defaulted if and only if
-
 \begin{itemize}
 \item
 \tcode{X} does not have a user-declared copy constructor,
@@ -1699,7 +1669,6 @@ A copy/move constructor for class
 is
 trivial
 if it is not user-provided and if:
-
 \begin{itemize}
 \item
 class
@@ -1761,7 +1730,6 @@ Let \tcode{x} be either the parameter of the constructor or, for the move constr
 xvalue referring to the parameter.
 Each base or non-static data member
 is copied/moved in the manner appropriate to its type:
-
 \begin{itemize}
 \item
 if the member is an array, each element is
@@ -1849,13 +1817,10 @@ or a user-declared destructor \iref{depr.impldec}.
 The implicitly-declared copy assignment operator for a class
 \tcode{X}
 will have the form
-
 \begin{codeblock}
 X& X::operator=(const X&)
 \end{codeblock}
-
 if
-
 \begin{itemize}
 \item
 each direct base class \tcode{B} of \tcode{X}
@@ -1873,7 +1838,6 @@ implicitly-declared copy assignment operator cannot bind to a
 
 Otherwise, the implicitly-declared copy assignment operator
 will have the form
-
 \begin{codeblock}
 X& X::operator=(X&)
 \end{codeblock}
@@ -1892,7 +1856,6 @@ than one form of move assignment operator may be declared for a class. \end{note
 If the definition of a class \tcode{X} does not explicitly declare a
 move assignment operator, one
 will be implicitly declared as defaulted if and only if
-
 \begin{itemize}
 \item
 \tcode{X} does not have a user-declared copy constructor,
@@ -1914,7 +1877,6 @@ struct S {
   S& operator=(const S&) = default;
 };
 \end{codeblock}
-
 will not have a default move assignment operator implicitly declared because the
 copy assignment operator has been user-declared. The move assignment operator may
 be explicitly defaulted.
@@ -1995,7 +1957,6 @@ A copy/move assignment operator for class
 is
 trivial
 if it is not user-provided and if:
-
 \begin{itemize}
 \item
 class
@@ -2012,7 +1973,6 @@ for each non-static data member of
 that is of class type (or array thereof),
 the assignment operator selected to copy/move that member is trivial;
 \end{itemize}
-
 \indextext{assignment operator!move!non-trivial}%
 otherwise the copy/move assignment operator is
 \defnx{non-trivial}{assignment operator!copy!non-trivial}.
@@ -2065,7 +2025,6 @@ definition.
 Let \tcode{x} be either the parameter of the function or, for the move operator, an
 xvalue referring to the parameter.
 Each subobject is assigned in the manner appropriate to its type:
-
 \begin{itemize}
 \item
 if the subobject is of class type,
@@ -2086,7 +2045,6 @@ It is unspecified whether subobjects representing virtual base classes
 are assigned more than once by the implicitly-defined copy/move assignment
 operator.
 \begin{example}
-
 \begin{codeblock}
 struct V { };
 struct A : virtual V { };
@@ -2114,16 +2072,13 @@ union \tcode{X} copies the object representation\iref{basic.types} of \tcode{X}.
 A \defnadj{prospective}{destructor} is introduced by a declaration
 whose \grammarterm{declarator} is a
 function declarator\iref{dcl.fct} of the form
-
 \begin{ncbnf}
 ptr-declarator \terminal{(} parameter-declaration-clause \terminal{)} \opt{noexcept-specifier} \opt{attribute-specifier-seq}
 \end{ncbnf}
-
 where the \grammarterm{ptr-declarator} consists solely of an
 \grammarterm{id-expression}, an optional \grammarterm{attribute-specifier-seq},
 and optional surrounding parentheses, and the \grammarterm{id-expression} has
 one of the following forms:
-
 \begin{itemize}
 \item
 in a \grammarterm{member-declaration} that belongs to the
@@ -2225,7 +2180,6 @@ A defaulted destructor for a class
 
 \pnum
 A destructor is trivial if it is not user-provided and if:
-
 \begin{itemize}
 \item the destructor is not \tcode{virtual},
 
@@ -2315,9 +2269,7 @@ see~\ref{class.cdtor}.
 \indextext{destructor!implicit call}%
 \indextext{destructor!program termination and}%
 A destructor is invoked implicitly
-
 \begin{itemize}
-
 \item for a constructed object with static storage duration\iref{basic.stc.static} at program termination\iref{basic.start.term},
 
 \item for a constructed object with thread storage duration\iref{basic.stc.thread} at thread exit,
@@ -2604,7 +2556,6 @@ it may be called for implicit type conversions.
 
 \pnum
 A member function of a class \tcode{X} having no parameters with a name of the form
-
 \begin{bnf}
 \nontermdef{conversion-function-id}\br
     \keyword{operator} conversion-type-id
@@ -2619,7 +2570,6 @@ A member function of a class \tcode{X} having no parameters with a name of the f
 \nontermdef{conversion-declarator}\br
     ptr-operator \opt{conversion-declarator}
 \end{bnf}
-
 specifies a conversion from
 \tcode{X}
 to the type specified by the
@@ -2926,11 +2876,9 @@ A static data member shall not be
 
 \pnum
 A \grammarterm{member-declarator} of the form
-
 \begin{ncsimplebnf}
 \opt{identifier} \opt{attribute-specifier-seq} \terminal{:} constant-expression \opt{brace-or-equal-initializer}
 \end{ncsimplebnf}
-
 \indextext{\idxcode{:}!bit-field declaration}%
 \indextext{declaration!bit-field}%
 specifies a bit-field.
@@ -3287,11 +3235,9 @@ new (&u.n) N;
 
 \pnum
 A union of the form
-
 \begin{ncsimplebnf}
 \keyword{union} \terminal{\{} member-specification \terminal{\}} \terminal{;}
 \end{ncsimplebnf}
-
 is called an \defn{anonymous union}; it defines an unnamed type and
 an unnamed object of that type called an \defn{anonymous union object}.
 Each \grammarterm{member-declaration} in the \grammarterm{member-specification}
@@ -5799,11 +5745,9 @@ a given potentially constructed subobject is not designated by a
 because the constructor has no
 \grammarterm{ctor-initializer}),
 then
-
 \begin{itemize}
 \item if the entity is a non-static data member that has
 a default member initializer\iref{class.mem} and either
-
 \begin{itemize}
 \item the constructor's class is a union\iref{class.union}, and no other variant
 member of that union is designated by a \grammarterm{mem-initializer-id} or
@@ -5812,7 +5756,6 @@ member of that union is designated by a \grammarterm{mem-initializer-id} or
 anonymous union, no other member of that union is designated by a
 \grammarterm{mem-initializer-id},
 \end{itemize}
-
 the entity is initialized from its default member initializer
 as specified in~\ref{dcl.init};
 
@@ -5877,7 +5820,6 @@ struct A {
   // ...
 };
 \end{codeblock}
-
 the \tcode{A(int)} constructor will simply initialize \tcode{i} to the value of
 \tcode{arg}, and the
 \indextext{side effects}%
@@ -6499,7 +6441,6 @@ This elision of copy/move operations, called
 is permitted in the
 following circumstances (which may be combined to
 eliminate multiple copies):
-
 \begin{itemize}
 \item in a \tcode{return} statement in a function with a class return type,
 when the \grammarterm{expression} is the name of a non-volatile
@@ -6996,7 +6937,6 @@ shall have a declared return type \tcode{bool}.
 \pnum
 The operator function with parameters \tcode{x} and \tcode{y}
 is defined as deleted if
-
 \begin{itemize}
 \item
 overload resolution\iref{over.match},
diff --git a/source/compatibility.tex b/source/compatibility.tex
index 4a494847..76d5c564 100644
--- a/source/compatibility.tex
+++ b/source/compatibility.tex
@@ -102,18 +102,15 @@ as pointers to potentially modifiable memory are probably rare.
 \diffref{basic.def}
 \change \Cpp{} does not have ``tentative definitions'' as in C.\\
 E.g., at file scope,
-
 \begin{codeblock}
 int i;
 int i;
 \end{codeblock}
-
 is valid in C, invalid in \Cpp{}.
 This makes it impossible to define
 mutually referential file-local static objects, if initializers are
 restricted to the syntactic forms of C\@.
 For example,
-
 \begin{codeblock}
 struct X { int i; struct X* next; };
 
@@ -224,7 +221,6 @@ Violations will be diagnosed by the \Cpp{} translator.
 The
 fix is to add a  cast.
 For example:
-
 \begin{codeblock}
 char* c = (char*) b;
 \end{codeblock}
@@ -358,7 +354,6 @@ Using these specifiers with type declarations is illegal in \Cpp{}.
 In C, these specifiers are ignored when used on type declarations.
 
 Example:
-
 \begin{codeblock}
 static struct S {               // valid C, invalid in \Cpp{}
   int i;
@@ -567,7 +562,6 @@ designated and non-designated initializers
 cannot be mixed in the same initializer list.
 
 Example:
-
 \begin{codeblock}
 struct A { int x, y; };
 struct B { struct A a; };
@@ -597,7 +591,6 @@ number of elements in the array. In C, an array can be initialized with a string
 the array is not large enough to contain the string-terminating \tcode{'\textbackslash 0'}.
 
 Example:
-
 \begin{codeblock}
 char array[4] = "abcd";         // valid C, invalid \Cpp{}
 \end{codeblock}
@@ -639,7 +632,6 @@ Common.
 \change In \Cpp{}, the type of an enumerator is its enumeration. In C, the type of an enumerator is \tcode{int}.
 
 Example:
-
 \begin{codeblock}
 enum e { A };
 sizeof(A) == sizeof(int)        // in C
@@ -669,7 +661,6 @@ scope. In C, an inner scope declaration of a struct tag name never hides the nam
 object or function in an outer scope.
 
 Example:
-
 \begin{codeblock}
 int x[99];
 void f() {
@@ -708,7 +699,6 @@ The implicitly-declared copy constructor and
 implicitly-declared copy assignment operator
 cannot make a copy of a volatile lvalue.
 For example, the following is valid in ISO C:
-
 \begin{codeblock}
 struct X { int i; };
 volatile struct X x1 = {0};
@@ -768,7 +758,6 @@ Seldom.
 the name of the nested class belongs to the same scope as the name of the outermost enclosing class.
 
 Example:
-
 \begin{codeblock}
 struct X {
   struct Y { @\commentellip@ } y;
@@ -793,7 +782,6 @@ To make the struct type name visible in the scope of the enclosing
 struct, the struct tag could be declared in the scope of the
 enclosing struct, before the enclosing struct is defined.
 Example:
-
 \begin{codeblock}
 struct Y;                       // \tcode{struct Y} and \tcode{struct X} are at the same scope
 struct X {
@@ -813,7 +801,6 @@ Seldom.
 \change In \Cpp{}, a typedef name may not be redeclared in a class definition after being used in that definition.
 
 Example:
-
 \begin{codeblock}
 typedef int I;
 struct S {
@@ -871,7 +858,6 @@ this International Standard. Specifically, macros named \tcode{R}, \tcode{u8},
 \tcode{u8R}, \tcode{u}, \tcode{uR}, \tcode{U}, \tcode{UR}, or \tcode{LR} will
 not be expanded when adjacent to a string literal but will be interpreted as
 part of the string literal. For example:
-
 \begin{codeblock}
 #define u8 "abc"
 const char* s = u8"def";        // Previously \tcode{"abcdef"}, now \tcode{"def"}
@@ -884,7 +870,6 @@ const char* s = u8"def";        // Previously \tcode{"abcdef"}, now \tcode{"def"
 Valid \CppIII{} code may fail to compile or produce different results in
 this International Standard.
 For example:
-
 \begin{codeblock}
 #define _x "there"
 "hello"_x         // \#1
@@ -929,7 +914,6 @@ expressions.
 \effect Valid \CppIII{} code may fail to compile or produce different results in
 this International Standard.
 For example:
-
 \begin{codeblock}
 void f(void *);  // \#1
 void f(...);     // \#2
@@ -953,7 +937,6 @@ the result toward 0.
 Valid \CppIII{} code may fail to compile or produce different results in
 this International Standard.
 For example:
-
 \begin{codeblock}
 bool b1 = new int && false;           // previously \tcode{false}, now ill-formed
 struct S { operator int(); };
@@ -979,7 +962,6 @@ Valid \CppIII{} code may fail to compile in this International Standard. For
 example, the following code is valid in \CppIII{} but invalid in this
 International Standard because \tcode{double} to \tcode{int} is a narrowing
 conversion:
-
 \begin{codeblock}
 int x[] = { 2.0 };
 \end{codeblock}
@@ -1311,7 +1293,6 @@ defined as constexpr static members.
 Valid \CppIII{} code that relies on \tcode{std::ios_base} flag types being
 represented as \tcode{std::bitset} or as an integer type may fail to compile
 with this International Standard. For example:
-
 \begin{codeblock}
 #include <iostream>
 
@@ -1354,7 +1335,6 @@ int x[2] = { M(1'2,3'4, 5) };
 \rationale Required for sized deallocation.
 \effect Valid \CppXI{} code could declare a global placement allocation function and
 deallocation function as follows:
-
 \begin{codeblock}
 void* operator new(std::size_t, std::size_t);
 void operator delete(void*, std::size_t) noexcept;
@@ -1412,7 +1392,6 @@ Valid \CppXI{} code may fail to compile in this International Standard.
 For example, the following code is valid in \CppXI{}
 but invalid in this International Standard because it declares the same member
 function twice with different return types:
-
 \begin{codeblock}
 struct S {
   constexpr const int &f();
@@ -1491,7 +1470,6 @@ this International Standard. Specifically, character sequences like \tcode{0p+0}
 and \tcode{0e1_p+0} are three separate tokens each in \CppXIV{}, but one single token
 in this International Standard.
 For example:
-
 \begin{codeblock}
 #define F(a) b ## a
 int b0p = F(0p+0);  // ill-formed; equivalent to ``\tcode{int b0p = b0p + 0;}\!'' in \CppXIV{}
@@ -1549,7 +1527,6 @@ auto x2{1, 2}; // was \tcode{std::initializer_list<int>}, now ill-formed
 Valid \CppXIV{} code may fail to compile or change meaning in this
 International Standard.
 For example:
-
 \begin{codeblock}
 void g1() noexcept;
 void g2();
@@ -1697,7 +1674,6 @@ via the syntax \tcode{shared_ptr<T[]>} and \tcode{shared_ptr<T[N]>}.
 Valid \CppXIV{} code may fail to compile or may change meaning in this
 International Standard.
 For example:
-
 \begin{codeblock}
 #include <memory>
 std::unique_ptr<int[]> arr(new int[1]);
@@ -1734,7 +1710,6 @@ int x = f(s.data()); // ill-formed; previously well-formed
 Valid \CppXIV{} code that attempts to use associative containers
 having a comparison object with non-const function call operator
 may fail to compile in this International Standard:
-
 \begin{codeblock}
 #include <set>
 
@@ -2560,7 +2535,6 @@ Subclause \ref{support.start.term} describes the changes.
 \pnum
 Header \link{\tcode{<csetjmp>}}{csetjmp.syn}\indexhdr{csetjmp}:
 The following functions have different behavior:
-
 \begin{itemize}
 \item \tcode{longjmp}
 \end{itemize}
diff --git a/source/concepts.tex b/source/concepts.tex
index 1a3b4e0f..1a6f458c 100644
--- a/source/concepts.tex
+++ b/source/concepts.tex
@@ -622,7 +622,6 @@ template<class T>
 T t1(std::move(E1));
 T t2(std::move(E2));
 \end{codeblock}
-
 are constant subexpressions.
   \end{itemize}
   \tcode{noexcept(S)} is equal to
diff --git a/source/declarations.tex b/source/declarations.tex
index eceaafdf..18fc6b5d 100644
--- a/source/declarations.tex
+++ b/source/declarations.tex
@@ -9,7 +9,6 @@
 \pnum
 Declarations generally specify how names are to be interpreted. Declarations have
 the form
-
 \begin{bnf}
 \nontermdef{declaration-seq}\br
     declaration\br
@@ -93,11 +92,9 @@ the form
 A
 \grammarterm{simple-declaration} or
 \grammarterm{nodeclspec-function-declaration} of the form
-
 \begin{ncsimplebnf}
 \opt{attribute-specifier-seq} \opt{decl-specifier-seq} \opt{init-declarator-list} \terminal{;}
 \end{ncsimplebnf}
-
 is divided into three parts.
 Attributes are described in~\ref{dcl.attr}.
 \grammarterm{decl-specifier}{s}, the principal components of
@@ -247,7 +244,6 @@ A \grammarterm{nodeclspec-function-declaration} can only be used in a
 \pnum
 \indextext{specifier!declaration}%
 The specifiers that can be used in a declaration are
-
 \begin{bnf}
 \nontermdef{decl-specifier}\br
     storage-class-specifier\br
@@ -330,7 +326,6 @@ void k(unsigned int Pc);        // \tcode{void k(unsigned int)}
 
 \pnum
 The storage class specifiers are
-
 \begin{bnf}
 \nontermdef{storage-class-specifier}\br
     \keyword{static}\br
@@ -577,18 +572,14 @@ a \grammarterm{typedef-name} is thus a synonym for another type. A
 declaration\iref{class.name} or enum declaration\iref{dcl.enum} does.
 \begin{example}
 After
-
 \begin{codeblock}
 typedef int MILES, *KLICKSP;
 \end{codeblock}
-
 the constructions
-
 \begin{codeblock}
 MILES distance;
 extern KLICKSP metricp;
 \end{codeblock}
-
 are all correct declarations; the type of \tcode{distance} is
 \tcode{int} and that of \tcode{metricp} is ``pointer to \tcode{int}''.
 \end{example}
@@ -603,14 +594,12 @@ Such a \grammarterm{typedef-name} has the same
 semantics as if it were introduced by the \tcode{typedef} specifier. In
 particular, it does not define a new type.
 \begin{example}
-
 \begin{codeblock}
 using handler_t = void (*)(int);
 extern handler_t ignore;
 extern void (*ignore)(int);         // redeclare \tcode{ignore}
 using cell = pair<void*, cell*>;    // ill-formed
 \end{codeblock}
-
 \end{example}
 The \grammarterm{defining-type-specifier-seq}
 of the \grammarterm{defining-type-id} shall not define
@@ -623,7 +612,6 @@ In a given non-class scope, a \tcode{typedef} specifier can be used to
 redeclare the name of any type declared in that scope to refer to the
 type to which it already refers.
 \begin{example}
-
 \begin{codeblock}
 typedef struct s { @\commentellip@ } s;
 typedef int I;
@@ -638,7 +626,6 @@ redeclare any \grammarterm{class-name} declared in that scope that is not
 also a \grammarterm{typedef-name} to refer to the type to which it already
 refers.
 \begin{example}
-
 \begin{codeblock}
 struct S {
   typedef struct A { } A;       // OK
@@ -825,7 +812,6 @@ shall not be declared with the \tcode{consteval} specifier.
 \indextext{constexpr function}
 The definition of a constexpr function shall satisfy the following
 requirements:
-
 \begin{itemize}
 \item
 its return type (if any) shall be a literal type;
@@ -1123,7 +1109,6 @@ can reference. A constexpr function\iref{dcl.constexpr} is implicitly inline.
 
 \pnum
 The type-specifiers are
-
 \indextext{type!\idxcode{const}}%
 \indextext{type!\idxcode{volatile}}%
 %
@@ -1173,7 +1158,6 @@ and at most one
 is allowed in a
 \grammarterm{type-specifier-seq}.
 The only exceptions to this rule are the following:
-
 \begin{itemize}
 \item \tcode{const} can be combined with any type specifier except itself.
 
@@ -1325,7 +1309,6 @@ they are in C.
 
 \pnum
 The simple type specifiers are
-
 \begin{bnf}
 \nontermdef{simple-type-specifier}\br
     \opt{nested-name-specifier} type-name\br
@@ -1522,11 +1505,9 @@ the \grammarterm{elaborated-type-specifier} is ill-formed.
 \begin{note}
 This implies that, within a class template with a template
 \grammarterm{type-parameter} \tcode{T}, the declaration
-
 \begin{codeblock}
 friend class T;
 \end{codeblock}
-
 is ill-formed. However, the similar declaration \tcode{friend T;} is allowed\iref{class.friend}.
 \end{note}
 
@@ -1547,7 +1528,6 @@ and either the \tcode{class} or \tcode{struct}
 \grammarterm{class-key} shall be used to refer to a class\iref{class}
 declared using the \tcode{class} or \tcode{struct}
 \grammarterm{class-key}. \begin{example}
-
 \begin{codeblock}
 enum class E { a, b };
 enum E x = E::a;                // OK
@@ -1567,7 +1547,6 @@ class S* p = &s;                // OK
 \pnum
 \indextext{type specifier!\idxcode{decltype}}%
 For an expression \tcode{e}, the type denoted by \tcode{decltype(e)} is defined as follows:
-
 \begin{itemize}
 \item if \tcode{e} is an unparenthesized \grammarterm{id-expression}
 naming a \link{structured binding}{dcl.struct.bind},
@@ -1720,11 +1699,9 @@ each of which shall
 be followed by a non-empty
 \grammarterm{initializer}.
 In an \grammarterm{initializer} of the form
-
 \begin{codeblock}
 ( @\textrm{\grammarterm{expression-list}}@ )
 \end{codeblock}
-
 the \grammarterm{expression-list} shall be a single
 \grammarterm{assignment-expression}.
 \begin{example}
@@ -1908,7 +1885,6 @@ is replaced by a deduced type.
 A type \tcode{T} containing a placeholder type,
 and a corresponding initializer \tcode{e},
 are determined as follows:
-
 \begin{itemize}
 \item
 for a non-discarded \tcode{return} statement that occurs
@@ -2441,7 +2417,6 @@ as a
 rather than a
 \grammarterm{declarator-id}.
 \begin{example}
-
 \begin{codeblock}
 class C { };
 void f(int(C)) { }              // \tcode{void f(int(*fp)(C c)) \{ \}}
@@ -2456,7 +2431,6 @@ void foo() {
 \end{codeblock}
 
 For another example,
-
 \begin{codeblock}
 class C { };
 void h(int *(C[10]));           // \tcode{void h(int *(*_fp)(C _parm[10]));}
@@ -2528,11 +2502,9 @@ both the \grammarterm{decl-specifier-seq} and its \grammarterm{declarator}.
 
 \pnum
 Thus, a declaration of a particular identifier has the form
-
 \begin{codeblock}
 T D
 \end{codeblock}
-
 where
 \tcode{T}
 is of the form \opt{\grammarterm{attribute-specifier-seq}}
@@ -2550,11 +2522,9 @@ First, the
 \grammarterm{decl-specifier-seq}
 determines a type.
 In a declaration
-
 \begin{codeblock}
 T D
 \end{codeblock}
-
 the
 \grammarterm{decl-specifier-seq}
 \tcode{T}
@@ -2562,11 +2532,9 @@ determines the type
 \tcode{T}.
 \begin{example}
 In the declaration
-
 \begin{codeblock}
 int unsigned i;
 \end{codeblock}
-
 the type specifiers
 \tcode{int}
 \tcode{unsigned}
@@ -2591,11 +2559,9 @@ In a declaration
 where
 \tcode{D}
 has the form
-
 \begin{ncsimplebnf}
 \terminal{(} \terminal{D1} \terminal{)}
 \end{ncsimplebnf}
-
 the type of the contained
 \grammarterm{declarator-id}
 is the same as that of the contained
@@ -2619,11 +2585,9 @@ In a declaration
 where
 \tcode{D}
 has the form
-
 \begin{ncsimplebnf}
 \terminal{*} \opt{attribute-specifier-seq} \opt{cv-qualifier-seq} \terminal{D1}
 \end{ncsimplebnf}
-
 and the type of the identifier in the declaration
 \tcode{T}
 \tcode{D1}
@@ -2647,7 +2611,6 @@ The declarations
 const int ci = 10, *pc = &ci, *const cpc = pc, **ppc;
 int i, *p, *const cp = &i;
 \end{codeblock}
-
 declare
 \tcode{ci},
 a constant integer;
@@ -2675,7 +2638,6 @@ can be changed, and so can the object pointed to by
 \tcode{cp}.
 Examples of
 some correct operations are
-
 \begin{codeblock}
 i = ci;
 *cp = ci;
@@ -2686,7 +2648,6 @@ ppc = &pc;
 \end{codeblock}
 
 Examples of ill-formed operations are
-
 \begin{codeblock}
 ci = 1;             // error
 ci++;               // error
@@ -2700,7 +2661,6 @@ ppc = &p;           // error
 Each is unacceptable because it would either change the value of an object declared
 \tcode{const}
 or allow it to be changed through a cv-unqualified pointer later, for example:
-
 \begin{codeblock}
 *ppc = &ci;         // OK, but would make \tcode{p} point to \tcode{ci} because of previous error
 *p = 5;             // clobber \tcode{ci}
@@ -2730,12 +2690,10 @@ In a declaration
 where
 \tcode{D}
 has either of the forms
-
 \begin{ncsimplebnf}
 \terminal{\&} \opt{attribute-specifier-seq} \terminal{D1}\br
 \terminal{\&\&} \opt{attribute-specifier-seq} \terminal{D1}
 \end{ncsimplebnf}
-
 and the type of the identifier in the declaration
 \tcode{T}
 \tcode{D1}
@@ -2752,7 +2710,6 @@ are introduced through the use of a
 \grammarterm{decltype-specifier}\iref{dcl.type.simple},
 in which case the cv-qualifiers are ignored.
 \begin{example}
-
 \begin{codeblock}
 typedef int& A;
 const A aref = 3;   // ill-formed; lvalue reference to non-\tcode{const} initialized with rvalue
@@ -2784,14 +2741,12 @@ semantically equivalent and commonly referred to as references.
 \indextext{declaration!reference}%
 \indextext{parameter!reference}%
 \begin{example}
-
 \begin{codeblock}
 void f(double& a) { a += 3.14; }
 // ...
 double d = 0;
 f(d);
 \end{codeblock}
-
 declares
 \tcode{a}
 to be a reference parameter of
@@ -2810,7 +2765,6 @@ int& g(int i) { return v[i]; }
 // ...
 g(3) = 7;
 \end{codeblock}
-
 declares the function
 \tcode{g()}
 to return a reference to an integer so
@@ -2820,7 +2774,6 @@ will assign
 to the fourth element of the array
 \tcode{v}.
 For another example,
-
 \begin{codeblock}
 struct link {
   link* next;
@@ -2839,7 +2792,6 @@ void k() {
    h(q);
 }
 \end{codeblock}
-
 declares
 \tcode{p}
 to be a reference to a pointer to
@@ -2888,7 +2840,6 @@ creates the type ``lvalue reference to \tcode{T}'', while an attempt to create
 the type ``rvalue reference to \cv{}~\tcode{TR}'' creates the type \tcode{TR}.
 \begin{note} This rule is known as reference collapsing. \end{note}
 \begin{example}
-
 \begin{codeblock}
 int i;
 typedef int& LRI;
@@ -2923,11 +2874,9 @@ In a declaration
 where
 \tcode{D}
 has the form
-
 \begin{ncsimplebnf}
 nested-name-specifier \terminal{*} \opt{attribute-specifier-seq} \opt{cv-qualifier-seq} \terminal{D1}
 \end{ncsimplebnf}
-
 and the
 \grammarterm{nested-name-specifier}
 denotes a class,
@@ -2958,7 +2907,6 @@ void (X::* pmf)(int) = &X::f;
 double X::* pmd;
 char Y::* pmc;
 \end{codeblock}
-
 declares
 \tcode{pmi},
 \tcode{pmf},
@@ -3026,11 +2974,9 @@ There is no ``reference-to-member'' type in \Cpp{}.
 
 \pnum
 In a declaration \tcode{T} \tcode{D} where \tcode{D} has the form
-
 \begin{ncsimplebnf}
 \terminal{D1} \terminal{[} \opt{constant-expression} \terminal{]} \opt{attribute-specifier-seq}
 \end{ncsimplebnf}
-
 and the type of the contained \grammarterm{declarator-id}
 in the declaration \tcode{T} \tcode{D1}
 is ``\placeholder{derived-declarator-type-list} \tcode{T}'',
@@ -3045,11 +2991,9 @@ i.e., the number of elements in the array;
 
 \pnum
 In a declaration \tcode{T} \tcode{D} where \tcode{D} has the form
-
 \begin{ncsimplebnf}
 \terminal{D1 [ ]} \opt{attribute-specifier-seq}
 \end{ncsimplebnf}
-
 and the type of the contained \grammarterm{declarator-id}
 in the declaration \tcode{T} \tcode{D1}
 is ``\placeholder{derived-declarator-type-list} \tcode{T}'',
@@ -3273,12 +3217,10 @@ In a declaration
 where
 \tcode{D}
 has the form
-
 \begin{ncsimplebnf}
 \terminal{D1} \terminal{(} parameter-declaration-clause \terminal{)} \opt{cv-qualifier-seq}\br
 \bnfindent\opt{ref-qualifier} \opt{noexcept-specifier} \opt{attribute-specifier-seq} trailing-return-type
 \end{ncsimplebnf}
-
 and the type of the contained
 \grammarterm{declarator-id}
 in the declaration
@@ -3375,11 +3317,9 @@ is synonymous with
 ``\tcode{...}''.
 \begin{example}
 The declaration
-
 \begin{codeblock}
 int printf(const char*, ...);
 \end{codeblock}
-
 declares a function that can be called with varying numbers and types of arguments.
 
 \begin{codeblock}
@@ -3491,11 +3431,9 @@ pointers to functions, references to functions, and pointers to member functions
 \pnum
 \begin{example}
 The declaration
-
 \begin{codeblock}
 int fseek(FILE*, long, int);
 \end{codeblock}
-
 declares a function taking three arguments of the specified types,
 and returning
 \tcode{int}\iref{dcl.type}.
@@ -3552,7 +3490,6 @@ its function declarator because that is the extent of its potential scope\iref{b
 \pnum
 \begin{example}
 The declaration
-
 \begin{codeblock}
 int i,
     *pi,
@@ -3561,7 +3498,6 @@ int i,
     (*pif)(const char*, const char*),
     (*fpif(int))(int);
 \end{codeblock}
-
 declares an integer
 \tcode{i},
 a pointer
@@ -3605,26 +3541,20 @@ For example,
 the function
 \tcode{fpif}
 above could have been declared
-
 \begin{codeblock}
 typedef int  IFUNC(int);
 IFUNC*  fpif(int);
 \end{codeblock}
-
 or
-
 \begin{codeblock}
 auto fpif(int)->int(*)(int);
 \end{codeblock}
 
 A \grammarterm{trailing-return-type} is most useful for a type that would be more complicated to specify before the \grammarterm{declarator-id}:
-
 \begin{codeblock}
 template <class T, class U> auto add(T t, U u) -> decltype(t + u);
 \end{codeblock}
-
 rather than
-
 \begin{codeblock}
 template <class T, class U> decltype((*(T*)0) + (*(U*)0)) add(T t, U u);
 \end{codeblock}
@@ -3775,15 +3705,12 @@ where trailing arguments are missing\iref{expr.call}.
 \indextext{argument!example of default}%
 \begin{example}
 The declaration
-
 \begin{codeblock}
 void point(int = 3, int = 4);
 \end{codeblock}
-
 declares a function that can be called with zero, one, or two arguments of type
 \tcode{int}.
 It can be called in any of these ways:
-
 \begin{codeblock}
 point(1,2);  point(1);  point();
 \end{codeblock}
@@ -4186,7 +4113,6 @@ To
 an object or reference of type
 \tcode{T}
 means:
-
 \begin{itemize}
 \item
 if
@@ -4265,7 +4191,6 @@ A class type \tcode{T} is \defn{const-default-constructible} if
 default-initialization of \tcode{T} would invoke
 a user-provided constructor of \tcode{T} (not inherited from a base class)
 or if
-
 \begin{itemize}
 \item
 each direct non-variant non-static data member \tcode{M} of \tcode{T}
@@ -4293,7 +4218,6 @@ To
 an object of type
 \tcode{T}
 means:
-
 \begin{itemize}
 \item
 if
@@ -4345,11 +4269,9 @@ Since
 \tcode{()}
 is not permitted by the syntax for
 \grammarterm{initializer},
-
 \begin{codeblock}
 X a();
 \end{codeblock}
-
 is not the declaration of an object of class
 \tcode{X},
 but the declaration of a function taking no argument and returning an
@@ -4812,7 +4734,6 @@ is copy-initialized from an empty initializer list.
 struct S { int a; const char* b; int c; int d = b[a]; };
 S ss = { 1, "asdf" };
 \end{codeblock}
-
 initializes
 \tcode{ss.a}
 with 1,
@@ -4823,13 +4744,11 @@ with the value of an expression of the form
 \tcode{int\{\}}
 (that is, \tcode{0}), and \tcode{ss.d} with the value of \tcode{ss.b[ss.a]}
 (that is, \tcode{'s'}), and in
-
 \begin{codeblock}
 struct X { int i, j, k = 42; };
 X a[] = { 1, 2, 3, 4, 5, 6 };
 X b[2] = { { 1, 2, 3 }, { 4, 5, 6 } };
 \end{codeblock}
-
 \tcode{a} and \tcode{b} have the same value
 
 \begin{codeblock}
@@ -4881,11 +4800,9 @@ is defined as having
 \tcode{n}
 elements\iref{dcl.array}.
 \begin{example}
-
 \begin{codeblock}
 int x[] = { 1, 3, 5 };
 \end{codeblock}
-
 declares and initializes
 \tcode{x}
 as a one-dimensional array that has three elements
@@ -4944,11 +4861,9 @@ is ill-formed if the number of
 \grammarterm{initializer-clause}{s}
 exceeds the number of elements of the aggregate.
 \begin{example}
-
 \begin{codeblock}
 char cv[4] = { 'a', 's', 'd', 'f', 0 };     // error
 \end{codeblock}
-
 is ill-formed.
 \end{example}
 
@@ -5006,11 +4921,9 @@ the
 initialize the elements with the last (rightmost) index of the array
 varying the fastest\iref{dcl.array}.
 \begin{example}
-
 \begin{codeblock}
 int x[2][2] = { 3, 1, 4, 2 };
 \end{codeblock}
-
 initializes
 \tcode{x[0][0]}
 to
@@ -5026,13 +4939,11 @@ and
 to
 \tcode{2}.
 On the other hand,
-
 \begin{codeblock}
 float y[4][3] = {
   { 1 }, { 2 }, { 3 }, { 4 }
 };
 \end{codeblock}
-
 initializes the first column of
 \tcode{y}
 (regarded as a two-dimensional array)
@@ -5063,7 +4974,6 @@ any remaining
 are left to initialize the next element of the aggregate
 of which the current subaggregate is an element.
 \begin{example}
-
 \begin{codeblock}
 float y[4][3] = {
   { 1, 3, 5 },
@@ -5071,7 +4981,6 @@ float y[4][3] = {
   { 3, 5, 7 },
 };
 \end{codeblock}
-
 is a completely-braced initialization:
 1, 3, and 5 initialize the first row of the array
 \tcode{y[0]},
@@ -5099,7 +5008,6 @@ however the
 has the same effect as the completely-braced
 \grammarterm{initializer-list}
 of the above example,
-
 \begin{codeblock}
 float y[4][3] = {
   1, 3, 5, 2, 4, 6, 3, 5, 7
@@ -5134,7 +5042,6 @@ subaggregates with no elements; an
 required.\end{note}
 
 \begin{example}
-
 \begin{codeblock}
 struct A {
   int i;
@@ -5232,7 +5139,6 @@ initialize the elements of the array.
 \begin{codeblock}
 char msg[] = "Syntax error on line %s\n";
 \end{codeblock}
-
 shows a character array whose members are initialized
 with a
 \grammarterm{string-literal}.
@@ -5250,11 +5156,9 @@ is
 \pnum
 There shall not be more initializers than there are array elements.
 \begin{example}
-
 \begin{codeblock}
 char cv[4] = "asdf";            // error
 \end{codeblock}
-
 is ill-formed since there is no space for the implied trailing
 \tcode{'\textbackslash 0'}.
 \end{example}
@@ -5271,7 +5175,6 @@ A variable whose declared type is
 ``reference to type \tcode{T}''\iref{dcl.ref}
 shall be initialized.
 \begin{example}
-
 \begin{codeblock}
 int g(int) noexcept;
 void f() {
@@ -5308,7 +5211,6 @@ a class member within its class definition\iref{class.mem}, and where the
 specifier is explicitly used.
 \indextext{declaration!extern@\tcode{extern} reference}%
 \begin{example}
-
 \begin{codeblock}
 int& r1;                        // error: initializer missing
 extern int& r2;                 // OK
@@ -5339,7 +5241,6 @@ an expression of type ``\cvqual{cv2} \tcode{T2}'' as follows:%
 \begin{itemize}
 \item
 If the reference is an lvalue reference and the initializer expression
-
 \begin{itemize}
 \item
 is an lvalue (but is not a
@@ -5369,7 +5270,6 @@ direct bindings to lvalues are done.
 \end{note}
 
 \begin{example}
-
 \begin{codeblock}
 double d = 2.0;
 double& rd = d;                 // \tcode{rd} refers to \tcode{d}
@@ -5389,7 +5289,6 @@ if the reference is an lvalue reference to a
 type that is not const-qualified or is volatile-qualified,
 the program is ill-formed.
 \begin{example}
-
 \begin{codeblock}
 double& rd2 = 2.0;              // error: not an lvalue and reference not \tcode{const}
 int  i = 2;
@@ -5398,7 +5297,6 @@ double& rd3 = i;                // error: type mismatch and reference not \tcode
 \end{example}
 
 \item Otherwise, if the initializer expression
-
 \begin{itemize}
 \item is an rvalue (but not a bit-field) or function lvalue and
 ``\cvqual{cv1} \tcode{T1}'' is
@@ -5409,9 +5307,7 @@ is not reference-related to \tcode{T2}, and can be converted to
 an rvalue or function lvalue of type ``\cvqual{cv3} \tcode{T3}'',
 where ``\cvqual{cv1} \tcode{T1}'' is
 reference-compatible with ``\cvqual{cv3} \tcode{T3}'' (see~\ref{over.match.ref}),
-
 \end{itemize}
-
 then
 the value of the initializer expression in the first case and
 the result of the conversion in the second case
@@ -5424,7 +5320,6 @@ the reference is bound to the resulting glvalue
 (or to an appropriate base class subobject).
 
 \begin{example}
-
 \begin{codeblock}
 struct A { };
 struct B : A { } b;
@@ -5539,7 +5434,6 @@ list-initialization in a direct-initialization context is called
 \defn{direct-list-initialization} and list-initialization in a
 copy-initialization context is called \defn{copy-list-initialization}. \begin{note}
 List-initialization can be used
-
 \begin{itemize}
 \item as the initializer in a variable definition\iref{dcl.init}
 \item as the initializer in a \grammarterm{new-expression}\iref{expr.new}
@@ -5825,12 +5719,10 @@ X x{ 1,2,3 };
 \end{codeblock}
 
 The initialization will be implemented in a way roughly equivalent to this:
-
 \begin{codeblock}
 const double __a[3] = {double{1}, double{2}, double{3}};
 X x(std::initializer_list<double>(__a, __a+3));
 \end{codeblock}
-
 assuming that the implementation can construct an \tcode{initializer_list} object with a pair of pointers. \end{example}
 
 \pnum
@@ -5839,7 +5731,6 @@ object\iref{class.temporary}, except that initializing an
 \tcode{initiali\-zer_list} object from the array extends the lifetime of
 the array exactly like binding a reference to a temporary.
 \begin{example}
-
 \begin{codeblock}
 typedef std::complex<double> cmplx;
 std::vector<cmplx> v1 = { 1, 2, 3 };
@@ -5873,7 +5764,6 @@ A
 \indextext{narrowing conversion}%
 \indextext{conversion!narrowing}%
 \term{narrowing conversion} is an implicit conversion
-
 \begin{itemize}
 \item from a floating-point type to an integer type, or
 
@@ -5928,7 +5818,6 @@ int a[] = { 2, f(2), f(2.0) };  // OK: the \tcode{double}-to-\tcode{int} convers
 \pnum
 \indextext{body!function}%
 Function definitions have the form
-
 \indextext{\idxgram{function-definition}}%
 %
 \begin{bnf}
@@ -5968,7 +5857,6 @@ unless the function is deleted\iref{dcl.fct.def.delete}.
 \pnum
 \begin{example}
 A simple example of a complete function definition is
-
 \begin{codeblock}
 int max(int a, int b, int c) {
   int m = (a > b) ? a : b;
@@ -6056,7 +5944,6 @@ is of the form
 \tcode{= default ;}
 is called an \defnx{explicitly-defaulted}{definition!function!explicitly-defaulted} definition.
 A function that is explicitly defaulted shall
-
 \begin{itemize}
 \item be a special member function or a comparison operator
 (\ref{expr.spaceship}, \ref{expr.rel}, \ref{expr.eq}), and
@@ -6155,7 +6042,6 @@ base.\end{note}
 
 \pnum
 \begin{example}
-
 \begin{codeblock}
 struct trivial {
   trivial() = default;
@@ -6537,21 +6423,17 @@ First, a variable with a unique name \exposid{e} is introduced. If the
 \grammarterm{assignment-expression} in the \grammarterm{initializer}
 has array type \tcode{A} and no \grammarterm{ref-qualifier} is present,
 \exposid{e} is defined by
-
 \begin{ncbnf}
 \opt{attribute-specifier-seq} \placeholder{S} \cv{} \terminal{A} \exposid{e} \terminal{;}
 \end{ncbnf}
-
 and each element is copy-initialized or direct-initialized
 from the corresponding element of the \grammarterm{assignment-expression} as specified
 by the form of the \grammarterm{initializer}.
 Otherwise, \exposid{e}
 is defined as-if by
-
 \begin{ncbnf}
 \opt{attribute-specifier-seq} decl-specifier-seq \opt{ref-qualifier} \exposid{e} initializer \terminal{;}
 \end{ncbnf}
-
 where
 the declaration is never interpreted as a function declaration and
 the parts of the declaration other than the \grammarterm{declarator-id} are taken
@@ -6772,12 +6654,10 @@ is zero. An \grammarterm{enumerator-definition} without an
 obtained by increasing the value of the previous \grammarterm{enumerator}
 by one.
 \begin{example}
-
 \begin{codeblock}
 enum { a, b, c=0 };
 enum { d, e, f=e+2 };
 \end{codeblock}
-
 defines \tcode{a}, \tcode{c}, and \tcode{d} to be zero, \tcode{b} and
 \tcode{e} to be \tcode{1}, and \tcode{f} to be \tcode{3}.
 \end{example}
@@ -7241,13 +7121,11 @@ namespace A {
 \pnum
 An \grammarterm{unnamed-namespace-definition} behaves as if it were
 replaced by
-
 \begin{ncsimplebnf}
 \opt{\keyword{inline}} \keyword{namespace} \exposid{unique} \terminal{\{} \terminal{/* empty body */} \terminal{\}}\br
 \keyword{using} \keyword{namespace} \exposid{unique} \terminal{;}\br
 \keyword{namespace} \exposid{unique} \terminal{\{} namespace-body \terminal{\}}
 \end{ncsimplebnf}
-
 where
 \tcode{inline} appears if and only if it appears in the
 \grammarterm{unnamed-namespace-definition}
@@ -7520,7 +7398,6 @@ contains \grammarterm{using-directive}{s}, the effect is as if the
 the first.
 \begin{note} For qualified lookup, see~\ref{namespace.qual}. \end{note}
 \begin{example}
-
 \begin{codeblock}
 namespace M {
   int i;
@@ -7538,7 +7415,6 @@ void f() {
 \end{codeblock}
 
 For another example,
-
 \begin{codeblock}
 namespace A {
   int i;
@@ -7623,7 +7499,6 @@ paths\iref{class.member.lookup}. There is no such disambiguation when
 considering the set of names found as a result of following
 \grammarterm{using-directive}{s}.}
 \begin{example}
-
 \begin{codeblock}
 namespace D {
   int d1;
@@ -8132,7 +8007,6 @@ are accessible if they would be accessible
 when used to construct an object of the corresponding base class,
 and the accessibility of the \grammarterm{using-declaration} is ignored.
 \begin{example}
-
 \begin{codeblock}
 class A {
 private:
@@ -8165,7 +8039,6 @@ specifies a dependent name\iref{temp.dep}, the name introduced by the
 
 \pnum
 An \tcode{asm} declaration has the form
-
 \begin{bnf}
 \nontermdef{asm-declaration}\br
     \opt{attribute-specifier-seq} \keyword{asm} \terminal{(} string-literal \terminal{)} \terminal{;}
@@ -8386,7 +8259,6 @@ specifier}{extern}{dcl.stc} for the purpose of determining the linkage of the
 declared name and whether it is a definition. Such a declaration shall
 not specify a storage class.
 \begin{example}
-
 \begin{codeblock}
 extern "C" double f();
 static double f();                  // error
@@ -8606,7 +8478,6 @@ An \grammarterm{alignment-specifier} with an ellipsis is a pack expansion\iref{t
 \pnum
 When the \grammarterm{alignment-specifier} is of the form
 \tcode{alignas(} \grammarterm{constant-expression} \tcode{)}:
-
 \begin{itemize}
 \item the \grammarterm{constant-expression} shall be an integral constant expression
 
@@ -8775,7 +8646,6 @@ whose use is still allowed, but is discouraged for some reason. \begin{note} In
 \tcode{deprecated} is appropriate for names and entities that are deemed obsolescent or
 unsafe. \end{note} It shall appear at most once in each \grammarterm{attribute-list}. An
 \grammarterm{attribute-argument-clause} may be present and, if present, it shall have the form:
-
 \begin{ncbnf}
 \terminal{(} string-literal \terminal{)}
 \end{ncbnf}
diff --git a/source/exceptions.tex b/source/exceptions.tex
index 8777bde4..6f2b8687 100644
--- a/source/exceptions.tex
+++ b/source/exceptions.tex
@@ -275,7 +275,6 @@ allocated in an unspecified way, except as noted in~\ref{basic.stc.dynamic.alloc
 If a handler exits by rethrowing, control is passed to another handler for
 the same exception object.
 The points of potential destruction for the exception object are:
-
 \begin{itemize}
 \item
 when an active handler for the exception exits by
@@ -665,7 +664,6 @@ of that function (see \ref{stmt.return}).
 The variable declared by the \grammarterm{exception-declaration}, of type
 \cv{}~\tcode{T} or \cv{}~\tcode{T\&}, is initialized from the exception object,
 of type \tcode{E}, as follows:
-
 \begin{itemize}
 \item
 if \tcode{T} is a base class of \tcode{E}, the variable is
@@ -818,7 +816,6 @@ might throw an exception.
 \pnum
 An expression \tcode{e} is
 \defnx{potentially-throwing}{potentially-throwing!expression} if
-
 \begin{itemize}
 \item
 \tcode{e} is a \link{function call}{expr.call}
@@ -860,7 +857,6 @@ that is defaulted on its first declaration,
 has a potentially-throwing exception specification
 if and only if
 any of the following constructs is potentially-throwing:
-
 \begin{itemize}
 \item
 a constructor selected by overload resolution
@@ -951,7 +947,6 @@ if the base class function has a non-throwing exception specification.
 
 \pnum
 An exception specification is considered to be \defnx{needed}{needed!exception specification} when:
-
 \begin{itemize}
 \item in an expression, the function is the unique lookup result or the selected
 member of a set of overloaded functions~(\ref{basic.lookup}, \ref{over.match}, \ref{over.over});
@@ -1000,7 +995,6 @@ capture the currently handled exception.
 \indextext{\idxcode{terminate}}%
 In some situations exception handling must be abandoned
 for less subtle error handling techniques. \begin{note} These situations are:
-
 \indextext{\idxcode{terminate}!called}%
 \begin{itemize}
 \item%
diff --git a/source/expressions.tex b/source/expressions.tex
index a727d0b1..aba8bc0d 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -331,7 +331,6 @@ two operands \tcode{p1} and
 \tcode{p2} having types \tcode{T1} and \tcode{T2}, respectively, where at least one is a
 pointer or pointer-to-member type or
 \tcode{std::nullptr_t}, is:
-
 \begin{itemize}
 \item
 if both \tcode{p1} and \tcode{p2} are null pointer constants,
@@ -1243,7 +1242,6 @@ An \grammarterm{id-expression} can appear after
 \pnum
 An \grammarterm{id-expression} that denotes a non-static data member or
 non-static member function of a class can only be used:
-
 \begin{itemize}
 \item as part of a \link{class member access}{expr.ref} in which the
 object expression
@@ -1616,7 +1614,6 @@ classes. \end{note} The closure type is not an \deflink{aggregate}{dcl.init.aggr
 An implementation may define the closure type differently from what
 is described below provided this does not alter the observable behavior of the program
 other than by changing:
-
 \begin{itemize}
 \item the size and/or alignment of the closure type,
 
@@ -2317,12 +2314,10 @@ If a \grammarterm{lambda-expression} \tcode{m2} captures an entity and that enti
 captured by an immediately enclosing \grammarterm{lambda-expression}
 \tcode{m1}, then
 \tcode{m2}'s capture is transformed as follows:
-
 \begin{itemize}
 \item if \tcode{m1} captures the entity by copy,
 \tcode{m2} captures the corresponding
 non-static data member of \tcode{m1}'s closure type;
-
 \item if \tcode{m1} captures the entity by reference,
 \tcode{m2} captures the same
 entity captured by \tcode{m1}.
@@ -3998,7 +3993,6 @@ A &&r2 = const_cast<A&&>(CA{});     // OK
 For two object types \tcode{T1} and \tcode{T2}, if a pointer to \tcode{T1} can
 be explicitly converted to the type ``pointer to \tcode{T2}'' using a
 \tcode{const_cast}, then the following conversions can also be made:
-
 \begin{itemize}
 \item an lvalue of type \tcode{T1} can be explicitly converted to an lvalue
 of type \tcode{T2} using the cast \tcode{const_cast<T2\&>};
@@ -4039,13 +4033,10 @@ if \tcode{T1} and \tcode{T2} are different,
 there is a \deflink{cv-decomposition}{conv.qual} of \tcode{T1}
 yielding \placeholder{n} such that
 \tcode{T2} has a cv-decomposition of the form
-
 \begin{indented}
 $\cv{}_0^2$ $P_0^2$ $\cv{}_1^2$ $P_1^2$ $\cdots$ $\cv{}_{n-1}^2$ $P_{n-1}^2$ $\cv{}_n^2$ $\mathtt{U}_2$,
 \end{indented}
-
 and there is no qualification conversion that converts \tcode{T1} to
-
 \begin{indented}
 $\cv{}_0^2$ $P_0^1$ $\cv{}_1^2$ $P_1^1$ $\cdots$ $\cv{}_{n-1}^2$ $P_{n-1}^1$ $\cv{}_n^2$ $\mathtt{U}_1$.
 \end{indented}
@@ -4475,7 +4466,6 @@ my_future<void> g() {
 
 auto f(int x = co_await h());   // error: \grammarterm{await-expression} outside of function suspension context
 int a[] = { co_await h() };     // error: \grammarterm{await-expression} outside of function suspension context
-
 \end{codeblock}
 \end{example}
 
@@ -4716,7 +4706,6 @@ This prevents ambiguities between the declarator operators \tcode{\&}, \tcode{\&
 \tcode{*}, and \tcode{[]} and their expression counterparts.
 \end{note}
 \begin{example}
-
 \begin{codeblock}
 new int * i;                    // syntax error: parsed as \tcode{(new int*) i}, not as \tcode{(new int)*i}
 \end{codeblock}
@@ -4730,13 +4719,10 @@ operator.
 Parentheses in a \grammarterm{new-type-id} of a \grammarterm{new-expression}
 can have surprising effects.
 \begin{example}
-
 \begin{codeblock}
 new int(*[10])();               // error
 \end{codeblock}
-
 is ill-formed because the binding is
-
 \begin{codeblock}
 (new int) (*[10])();            // error
 \end{codeblock}
@@ -4747,7 +4733,6 @@ types}{basic.compound}:
 \begin{codeblock}
 new (int (*[10])());
 \end{codeblock}
-
 allocates an array of \tcode{10} pointers to functions (taking no
 argument and returning \tcode{int}).
 \end{example}
@@ -4807,7 +4792,6 @@ If the \grammarterm{expression} in a \grammarterm{noptr-new-declarator}
 is present, it is implicitly converted to \tcode{std::size_t}.
 \indextext{function!allocation}%
 The \grammarterm{expression} is erroneous if:
-
 \begin{itemize}
 \item
 the expression is of non-class type and its value before converting to
@@ -4913,7 +4897,6 @@ The implementation may
 extend the allocation of a \grammarterm{new-expression} \tcode{e1} to provide
 storage for a \grammarterm{new-expression} \tcode{e2} if the
 following would be true were the allocation not extended:
-
 \begin{itemize}
 \item the evaluation of \tcode{e1} is sequenced before the evaluation of
 \tcode{e2}, and
@@ -5464,7 +5447,6 @@ the user\iref{class.conv} is ill-formed.
 
 \pnum
 The conversions performed by
-
 \begin{itemize}
 \indextext{cast!const}%
 \indextext{cast!static}%
@@ -5475,12 +5457,10 @@ The conversions performed by
 \item a \link{\tcode{reinterpret_cast}}{expr.reinterpret.cast}, or
 \item a \tcode{reinterpret_cast} followed by a \tcode{const_cast},
 \end{itemize}
-
 can be performed using the cast notation of explicit type conversion.
 The same semantic restrictions and behaviors apply, with the exception
 that in performing a \tcode{static_cast} in the following situations the
 conversion is valid even if the base class is inaccessible:
-
 \begin{itemize}
 \item a pointer to an object of derived class type or an lvalue or
 rvalue of derived class type may be explicitly converted to a pointer or
@@ -5588,7 +5568,6 @@ cv-qualifiers of the result, are the same as the rules for
 It is not possible to use a pointer to member that refers to a
 \tcode{mutable} member to modify a const class object. For
 example,
-
 \begin{codeblock}
 struct S {
   S() : i(0) { }
@@ -5609,11 +5588,9 @@ If the result of \tcode{.*} or \tcode{->*} is a function, then that
 result can be used only as the operand for the function call operator
 \tcode{()}.
 \begin{example}
-
 \begin{codeblock}
 (ptr_to_obj->*ptr_to_mfct)(10);
 \end{codeblock}
-
 calls the member function denoted by \tcode{ptr_to_mfct} for the object
 pointed to by \tcode{ptr_to_obj}.
 \end{example}
@@ -5709,7 +5686,6 @@ type and the other shall have integral or unscoped enumeration type.
 
 \pnum
 For subtraction, one of the following shall hold:
-
 \begin{itemize}
 \item both operands have arithmetic or unscoped enumeration type; or
 
@@ -6387,7 +6363,6 @@ effect associated with the second or third expression.
 \pnum
 If either the second or the third operand has type \tcode{void},
 one of the following shall hold:
-
 \begin{itemize}
 \indextext{conditional-expression!throw-expression in}%
 \item The second or the third operand (but not both) is a (possibly
@@ -6438,7 +6413,6 @@ subject to the constraint that the reference must bind directly.
 
 \item If \tcode{E2} is a prvalue or if neither of the conversion sequences above can be
 formed and at least one of the operands has (possibly cv-qualified) class type:
-
 \begin{itemize}
 \item if \tcode{T1} and \tcode{T2} are the same class type
 (ignoring cv-qualification) and
@@ -6788,11 +6762,9 @@ lists of arguments to functions\iref{expr.call} and lists of
 initializers\iref{dcl.init} \end{example} the comma operator as
 described in this subclause can appear only in parentheses.
 \begin{example}
-
 \begin{codeblock}
 f(a, (t=3, t+2), c);
 \end{codeblock}
-
 has three arguments, the second of which has the value
 \tcode{5}.
 \end{example}
@@ -6864,9 +6836,8 @@ An object or reference is \defn{usable in constant expressions} if it is
 
 \pnum
 An expression \tcode{e} is a \defnadj{core constant}{expression}
-unless the evaluation of \tcode{e}, following the rules of the abstract
-machine\iref{intro.execution}, would evaluate one of the following:
-
+unless the evaluation of \tcode{e}, following the rules of the \link{abstract
+machine}{intro.execution}, would evaluate one of the following:
 \begin{itemize}
 \item
 \tcode{this}\iref{expr.prim.this}, except in a constexpr
@@ -6911,7 +6882,6 @@ zero}{expr.mul}, or certain \link{shift operations}{expr.shift}
 \item
 an \link{lvalue-to-rvalue conversion}{conv.lval} unless
 it is applied to
-
 \begin{itemize}
   \item
   a non-volatile glvalue that refers to an object that is
@@ -6941,7 +6911,6 @@ unless the lifetime of the union object began within the evaluation of \tcode{e}
 an \grammarterm{id-expression} that refers to a variable or
 data member of reference type
 unless the reference has a preceding initialization and either
-
 \begin{itemize}
   \item
   it is usable in constant expressions or
@@ -7174,7 +7143,6 @@ of type \tcode{T} is an
 expression, implicitly converted to type \tcode{T}, where
 the converted expression is a constant expression and the
 implicit conversion sequence contains only
-
 \begin{itemize}
 \item user-defined conversions,
 \item \link{lvalue-to-rvalue conversions}{conv.lval},
@@ -7188,7 +7156,6 @@ implicit conversion sequence contains only
 \item \deflinkx{null member pointer conversions}{null member pointer conversion}{conv.mem} from \tcode{std::nullptr_t}, and
 \item \link{function pointer conversions}{conv.fctptr},
 \end{itemize}
-
 and where the reference binding (if any) binds directly.
 \begin{note}
 Such expressions may be used in \link{\tcode{new}
@@ -7211,13 +7178,11 @@ a glvalue core constant expression that refers to
 an entity that is a permitted result of a constant expression (as defined below), or
 a prvalue core constant expression whose value
 satisfies the following constraints:
-
 \begin{itemize}
   \item
   if the value is an object of class type,
   each non-static data member of reference type refers to
   an entity that is a permitted result of a constant expression,
-
   \item
   if the value is of pointer type, it contains
   the address of an object with static storage duration,
@@ -7258,7 +7223,6 @@ evaluation of the same expression (or the same operations on the same values) du
 execution.\footnote{Nonetheless, implementations should provide consistent results,
 irrespective of whether the evaluation was performed during translation and/or during program
 execution.} \begin{example}
-
 \begin{codeblock}
 bool f() {
     char array[1 + int(1 + 0.2 - 0.1 - 0.1)];   // Must be evaluated during translation
@@ -7323,7 +7287,6 @@ int q = p + f();                                        // \tcode{m} is 17 for t
 \indextext{expression!potentially constant evaluated}%
 An expression or conversion is \defn{potentially constant evaluated}
 if it is:
-
 \begin{itemize}
 \item
 a manifestly constant-evaluated expression,
@@ -7351,7 +7314,6 @@ that is not a subexpression of a nested unevaluated operand.
 A function or variable is
 \defn{needed for constant evaluation}
 if it is:
-
 \begin{itemize}
 \item
 a constexpr function that is named by an expression\iref{basic.def.odr}
diff --git a/source/intro.tex b/source/intro.tex
index 29485923..10cab4bb 100644
--- a/source/intro.tex
+++ b/source/intro.tex
@@ -597,11 +597,9 @@ listed on separate lines except in a few cases where a long set of
 alternatives is marked by the phrase ``one of''. If the text of an alternative is too long to fit on a line, the text is continued on subsequent lines indented from the first one.
 An optional terminal or non-terminal symbol is indicated by the subscript
 ``\opt{\relax}'', so
-
 \begin{ncbnf}
 \terminal{\{} \opt{expression} \terminal{\}}
 \end{ncbnf}
-
 indicates an optional expression enclosed in braces.%
 
 \pnum
diff --git a/source/iostreams.tex b/source/iostreams.tex
index f87e0f6d..8e4d3833 100644
--- a/source/iostreams.tex
+++ b/source/iostreams.tex
@@ -9394,7 +9394,6 @@ Otherwise the behavior is undefined.
 In order to support file I/O and multibyte/wide character conversion,
 conversions are performed using members of a facet, referred to as
 \tcode{a_codecvt} in following subclauses, obtained as if by
-
 \begin{codeblock}
 const codecvt<charT, char, typename traits::state_type>& a_codecvt =
   use_facet<codecvt<charT, char, typename traits::state_type>>(getloc());
@@ -9846,7 +9845,6 @@ Behaves according to the description of
 \tcode{basic_streambuf<charT, traits>::overflow(c)},
 except that the behavior of ``consuming characters'' is performed by first
 converting as if by:
-
 \begin{codeblock}
 charT* b = pbase();
 charT* p = pptr();
@@ -9856,7 +9854,6 @@ char*  xbuf_end;
 codecvt_base::result r =
   a_codecvt.out(state, b, p, end, xbuf, xbuf+XSIZE, xbuf_end);
 \end{codeblock}
-
 and then
 \begin{itemize}
 \item If \tcode{r == codecvt_base::error} then fail.
@@ -10124,7 +10121,6 @@ It uses a
 object to control the associated
 sequence.
 For the sake of exposition, the maintained data is presented here as:
-
 \begin{itemize}
 \item
 \tcode{sb}, the \tcode{filebuf} object.
diff --git a/source/iterators.tex b/source/iterators.tex
index c4771572..b41d3928 100644
--- a/source/iterators.tex
+++ b/source/iterators.tex
@@ -1004,7 +1004,6 @@ conformance to the iterator concepts\iref{iterator.concepts}.
 
 \pnum
 \tcode{iterator_traits} is specialized for pointers as
-
 \begin{codeblock}
 namespace std {
   template<class T>
@@ -1025,7 +1024,6 @@ namespace std {
 To implement a generic
 \tcode{reverse}
 function, a \Cpp{} program can do the following:
-
 \begin{codeblock}
 template<class BI>
 void reverse(BI first, BI last) {
@@ -1108,7 +1106,6 @@ return old_value;
 \pnum
 The expression \tcode{ranges::iter_swap(E1, E2)} for some subexpressions
 \tcode{E1} and \tcode{E2} is expression-equivalent to:
-
 \begin{itemize}
 \item \tcode{(void)iter_swap(E1, E2)}, if that expression is valid,
 with overload resolution performed in a context that includes the declaration
@@ -1242,7 +1239,6 @@ template<class Out, class T>
 Let \tcode{E} be an an expression such that \tcode{decltype((E))} is \tcode{T},
 and let \tcode{o} be a dereferenceable object of type \tcode{Out}.
 \tcode{Out} and \tcode{T} model \tcode{\libconcept{writable}<Out, T>} only if
-
 \begin{itemize}
 \item If \tcode{Out} and \tcode{T} model
   \tcode{readable<Out> \&\& same_as<iter_value_t<Out>, decay_t<T>{>}},
@@ -1408,7 +1404,6 @@ if and only if I is a signed-integer-like type.
 Let \tcode{i} be an object of type \tcode{I}. When \tcode{i} is in the domain of
 both pre- and post-increment, \tcode{i} is said to be \term{incrementable}.
 \tcode{I} models \tcode{\libconcept{weakly_incrementable}<I>} only if
-
 \begin{itemize}
 \item The expressions \tcode{++i} and \tcode{i++} have the same domain.
 \item If \tcode{i} is incrementable, then both \tcode{++i}
@@ -1453,7 +1448,6 @@ template<class I>
 \pnum
 Let \tcode{a} and \tcode{b} be incrementable objects of type \tcode{I}.
 \tcode{I} models \libconcept{incrementable} only if
-
 \begin{itemize}
 \item If \tcode{bool(a == b)} then \tcode{bool(a++ == b)}.
 \item If \tcode{bool(a == b)} then \tcode{bool(((void)a++, a) == ++b)}.
@@ -1519,7 +1513,6 @@ template<class S, class I>
 Let \tcode{s} and \tcode{i} be values of type \tcode{S} and
 \tcode{I} such that \range{i}{s} denotes a range. Types
 \tcode{S} and \tcode{I} model \tcode{\libconcept{sentinel_for}<S, I>} only if
-
 \begin{itemize}
 \item \tcode{i == s} is well-defined.
 
@@ -1565,7 +1558,6 @@ a sentinel of type \tcode{S} such that \range{i}{s} denotes a range.
 Let $N$ be the smallest number of applications of \tcode{++i}
 necessary to make \tcode{bool(i == s)} be \tcode{true}.
 \tcode{S} and \tcode{I} model \tcode{\libconcept{sized_sentinel_for}<S, I>} only if
-
 \begin{itemize}
 \item If $N$ is representable by \tcode{iter_difference_t<I>},
       then \tcode{s - i} is well-defined and equals $N$.
@@ -1698,7 +1690,6 @@ shall remain valid while \range{i}{s} continues to denote a range.
 \pnum
 Two dereferenceable iterators \tcode{a} and \tcode{b} of type \tcode{X}
 offer the \defn{multi-pass guarantee} if:
-
 \begin{itemize}
 \item \tcode{a == b} implies \tcode{++a == ++b} and
 \item The expression
@@ -1743,7 +1734,6 @@ A bidirectional iterator \tcode{r} is decrementable if and only if there exists
 \pnum
 Let \tcode{a} and \tcode{b} be equal objects of type \tcode{I}.
 \tcode{I} models \libconcept{bidirectional_iterator} only if:
-
 \begin{itemize}
 \item If \tcode{a} and \tcode{b} are decrementable,
   then all of the following are \tcode{true}:
@@ -1791,7 +1781,6 @@ after \tcode{n} applications of \tcode{++a},
 let \tcode{D} be \tcode{iter_difference_t<I>},
 and let \tcode{n} denote a value of type \tcode{D}.
 \tcode{I} models \libconcept{random_access_iterator} only if
-
 \begin{itemize}
 \item \tcode{(a += n)} is equal to \tcode{b}.
 \item \tcode{addressof(a += n)} is equal to \tcode{addressof(a)}.
@@ -1888,7 +1877,6 @@ to provide a richer set of iterator movements~(\ref{forward.iterators},
 
 \pnum
 A type \tcode{X} meets the \oldconcept{Iterator} requirements if:
-
 \begin{itemize}
 \item \tcode{X} meets the \oldconcept{CopyConstructible}, \oldconcept{CopyAssignable}, and
 \oldconcept{Destructible} requirements\iref{utility.arg.requirements} and lvalues
@@ -2098,7 +2086,6 @@ Equality and inequality might not be defined.
 A class or pointer type
 \tcode{X}
 meets the requirements of a forward iterator if
-
 \begin{itemize}
 \item \tcode{X} meets the \oldconcept{InputIterator} requirements\iref{input.iterators},
 
@@ -2124,7 +2111,6 @@ the same empty sequence. \end{note}
 \pnum
 Two dereferenceable iterators \tcode{a} and \tcode{b} of type \tcode{X} offer the
 \defn{multi-pass guarantee} if:
-
 \begin{itemize}
 \item \tcode{a == b} implies \tcode{++a == ++b} and
 \item \tcode{X} is a pointer type or the expression
@@ -3643,11 +3629,9 @@ adaptors, called
 \term{insert iterators},
 are provided in the library.
 With regular iterator classes,
-
 \begin{codeblock}
 while (first != last) *result++ = *first++;
 \end{codeblock}
-
 causes a range \range{first}{last}
 to be copied into a range starting with result.
 The same code with
diff --git a/source/lex.tex b/source/lex.tex
index b90a6d0d..17b21984 100644
--- a/source/lex.tex
+++ b/source/lex.tex
@@ -324,7 +324,6 @@ double quote characters of the raw string, any transformations performed in phas
 shall apply before any \grammarterm{d-char}, \grammarterm{r-char}, or delimiting
 parenthesis is identified. The raw string literal is defined as the shortest sequence
 of characters that matches the raw-string pattern
-
 \begin{ncbnf}
 \opt{encoding-prefix} \terminal{R} raw-string
 \end{ncbnf}
@@ -1546,7 +1545,6 @@ shall consist of at most 16 characters.
 \begin{note} A source-file new-line in a raw string literal results in a new-line in the
 resulting execution string literal. Assuming no
 whitespace at the beginning of lines in the following example, the assert will succeed:
-
 \begin{codeblock}
 const char* p = R"(a\
 b
@@ -1557,20 +1555,16 @@ assert(std::strcmp(p, "a\\\nb\nc") == 0);
 
 \pnum
 \begin{example} The raw string
-
 \begin{codeblock}
 R"a(
 )\
 a"
 )a"
 \end{codeblock}
-
 is equivalent to \tcode{"\textbackslash n)\textbackslash \textbackslash \textbackslash na\textbackslash"\textbackslash n"}. The raw string
-
 \begin{codeblock}
 R"(x = "\"y\"")"
 \end{codeblock}
-
 is equivalent to \tcode{"x = \textbackslash "\textbackslash\textbackslash\textbackslash "y\textbackslash\textbackslash\textbackslash "\textbackslash ""}.
 \end{example}
 
@@ -1692,7 +1686,6 @@ Characters in concatenated strings are kept distinct.
 \begin{codeblock}
 "\xA" "B"
 \end{codeblock}
-
 contains the two characters \tcode{'\textbackslash xA'} and \tcode{'B'}
 after concatenation (and not the single hexadecimal character
 \tcode{'\textbackslash xAB'}).
@@ -1843,27 +1836,21 @@ If \placeholder{L} is a \grammarterm{user-defined-integer-literal}, let \placeho
 without its \grammarterm{ud-suffix}. If \placeholder{S} contains a literal operator with
 parameter type \tcode{unsigned long long}, the literal \placeholder{L} is treated as a call of
 the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@(@\placeholder{n}@ULL)
 \end{codeblock}
-
 Otherwise, \placeholder{S} shall contain a raw literal operator
 or a numeric literal operator template\iref{over.literal} but not both.
 If \placeholder{S} contains a raw literal operator,
 the literal \placeholder{L} is treated as a call of the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@(@"\placeholder{n}{"}@)
 \end{codeblock}
-
 Otherwise (\placeholder{S} contains a numeric literal operator template),
 \placeholder{L} is treated as a call of the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@<'@$c_1$@', '@$c_2$@', ... '@$c_k$@'>()
 \end{codeblock}
-
 where \placeholder{n} is the source character sequence $c_1c_2...c_k$. \begin{note} The sequence
 $c_1c_2...c_k$ can only contain characters from the basic source character set.
 \end{note}
@@ -1873,27 +1860,21 @@ If \placeholder{L} is a \grammarterm{user-defined-floating-literal}, let \placeh
 literal without its \grammarterm{ud-suffix}. If \placeholder{S} contains a literal operator
 with parameter type \tcode{long double}, the literal \placeholder{L} is treated as a call of
 the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@(@\placeholder{f}@L)
 \end{codeblock}
-
 Otherwise, \placeholder{S} shall contain a raw literal operator
 or a numeric literal operator template\iref{over.literal} but not both.
 If \placeholder{S} contains a raw literal operator,
 the \grammarterm{literal} \placeholder{L} is treated as a call of the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@(@"\placeholder{f}{"}@)
 \end{codeblock}
-
 Otherwise (\placeholder{S} contains a numeric literal operator template),
 \placeholder{L} is treated as a call of the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@<'@$c_1$@', '@$c_2$@', ... '@$c_k$@'>()
 \end{codeblock}
-
 where \placeholder{f} is the source character sequence $c_1c_2...c_k$. \begin{note} The sequence
 $c_1c_2...c_k$ can only contain characters from the basic source character set.
 \end{note}
@@ -1907,13 +1888,10 @@ If \placeholder{S} contains a literal operator template with
 a non-type template parameter for which \placeholder{str} is
 a well-formed \grammarterm{template-argument},
 the literal \placeholder{L} is treated as a call of the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@<@\placeholder{str}{}@>()
 \end{codeblock}
-
 Otherwise, the literal \placeholder{L} is treated as a call of the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@(@\placeholder{str}{}@, @\placeholder{len}{}@)
 \end{codeblock}
@@ -1925,14 +1903,12 @@ literal without its \grammarterm{ud-suffix}.
 the type of \placeholder{ch} and the
 literal \placeholder{L} is treated as a call
 of the form
-
 \begin{codeblock}
 operator "" @\placeholder{X}@(@\placeholder{ch}{}@)
 \end{codeblock}
 
 \pnum
 \begin{example}
-
 \begin{codeblock}
 long double operator "" _w(long double);
 std::string operator "" _w(const char16_t*, std::size_t);
@@ -1944,7 +1920,6 @@ int main() {
   "two"_w;    // error: no applicable literal operator
 }
 \end{codeblock}
-
 \end{example}
 
 \pnum
diff --git a/source/lib-intro.tex b/source/lib-intro.tex
index b59bd890..8dbeaec6 100644
--- a/source/lib-intro.tex
+++ b/source/lib-intro.tex
@@ -1746,7 +1746,6 @@ denote an expression of type \tcode{U}.
 
 \pnum
 An object \tcode{t} is \defn{swappable with} an object \tcode{u} if and only if:
-
 \begin{itemize}
 \item the expressions \tcode{swap(t, u)} and \tcode{swap(u, t)} are valid when
 evaluated in the context described below, and
@@ -1763,7 +1762,6 @@ evaluated in the context described below, and
 The context in which \tcode{swap(t, u)} and \tcode{swap(u, t)} are evaluated shall
 ensure that a binary non-member function named ``swap'' is selected via \link{overload
 resolution}{over.match} on a candidate set that includes:
-
 \begin{itemize}
 \item the two \tcode{swap} function templates defined in
 \link{\tcode{<utility>}}{utility} and
@@ -1841,7 +1839,6 @@ int main() {
 \pnum
 A \oldconcept{NullablePointer} type is a pointer-like type that supports null values.
 A type \tcode{P} meets the \oldconcept{\-Nullable\-Pointer} requirements if:
-
 \begin{itemize}
 \item \tcode{P} meets the \oldconcept{EqualityComparable},
 \oldconcept{DefaultConstructible}, \oldconcept{CopyConstructible}, \oldconcept{\-Copy\-Assign\-able},
@@ -1920,7 +1917,6 @@ Expression  &   Return type   &   Operational semantics \\ \capsep
 \indextext{requirements!\idxoldconcept{Hash}}
 \pnum
 A type \tcode{H} meets the \oldconcept{Hash} requirements if:
-
 \begin{itemize}
 \item it is a function object type\iref{function.objects},
 \item it meets the \oldconcept{CopyConstructible} (\tref{cpp17.copyconstructible}) and
@@ -2344,7 +2340,6 @@ bool operator!=(const SimpleAllocator<T>&, const SimpleAllocator<U>&);
 If \tcode{X} is an allocator class for type \tcode{T},
 \tcode{X} additionally meets the allocator completeness requirements if,
 whether or not \tcode{T} is a complete type:
-
 \begin{itemize}
 \item \tcode{X} is a complete type, and
 \item all the member types of \link{\tcode{allocator_traits<X>}}{allocator.traits}
@@ -3215,7 +3210,6 @@ through a hierarchy of base classes with names reserved to the implementation.
 
 \pnum
 In any case:
-
 \begin{itemize}
 \item
 Every base class described as
diff --git a/source/locales.tex b/source/locales.tex
index 5c2f096b..9793e724 100644
--- a/source/locales.tex
+++ b/source/locales.tex
@@ -311,11 +311,9 @@ is defined as zero and represents no category. And
 member bitmask constant
 \tcode{all}
 is defined such that the expression
-
 \begin{codeblock}
 (collate | ctype | monetary | numeric | time | messages | all) == all
 \end{codeblock}
-
 is
 \tcode{true},
 and represents the union of all categories.
@@ -866,11 +864,9 @@ Causes future calls to the constructor
 \tcode{locale()}
 to return a copy of the argument.
 If the argument has a name, does
-
 \begin{codeblock}
 setlocale(LC_ALL, loc.name().c_str());
 \end{codeblock}
-
 otherwise, the effect on the C locale, if any, is \impldef{effect on C locale of calling
 \tcode{locale::global}}.
 No library function other than
@@ -985,11 +981,9 @@ template<class charT> bool isblank (charT c, const locale& loc);
 Each of these functions
 \tcode{is\placeholder{F}}
 returns the result of the expression:
-
 \begin{codeblock}
 use_facet<ctype<charT>>(loc).is(ctype_base::@\placeholder{F}@, c)
 \end{codeblock}
-
 where \tcode{\placeholder{F}} is the
 \tcode{ctype_base::mask}
 value corresponding to that function\iref{category.ctype}.\footnote{When
@@ -1458,7 +1452,6 @@ value or values.
 For any character \tcode{c} in the
 \deflinkx{basic source character set}{character set!basic source}{lex.charset}
 the transformation is such that
-
 \begin{codeblock}
 do_widen(do_narrow(c, 0)) == c
 \end{codeblock}
@@ -2502,7 +2495,6 @@ The details of the stages are presented below.
 \begin{description}
 \stage{1}
 The function initializes local variables via
-
 \begin{codeblock}
 fmtflags flags = str.flags();
 fmtflags basefield = (flags & ios_base::basefield);
@@ -2559,7 +2551,6 @@ then stage 2 terminates.
 Otherwise a
 \tcode{charT}
 is taken from \tcode{in} and local variables are initialized as if by
-
 \begin{codeblock}
 char_type ct = *in;
 char c = src[find(atoms, atoms + sizeof(src) - 1, ct) - atoms];
@@ -2569,19 +2560,16 @@ bool discard =
   ct == use_facet<numpunct<charT>>(loc).thousands_sep()
   && use_facet<numpunct<charT>>(loc).grouping().length() != 0;
 \end{codeblock}
-
 where the values
 \tcode{src}
 and
 \tcode{atoms}
 are defined as if by:
-
 \begin{codeblock}
 static const char src[] = "0123456789abcdefxABCDEFX+-";
 char_type atoms[sizeof(src)];
 use_facet<ctype<charT>>(loc).widen(src, src + sizeof(src), atoms);
 \end{codeblock}
-
 for this value of
 \tcode{loc}.
 
@@ -2618,7 +2606,6 @@ The sequence of \tcode{char}{s} accumulated in stage 2 (the field) is converted
 \end{itemize}
 
 The numeric value to be stored can be one of:
-
 \begin{itemize}
 \item zero, if the conversion function does not convert the entire field.
 
@@ -2845,11 +2832,9 @@ Determine a printf conversion specifier \tcode{spec} and
 determine the characters that would be printed by
 \tcode{printf}\iref{c.files}
 given this conversion specifier for
-
 \begin{codeblock}
 printf(spec, val)
 \end{codeblock}
-
 assuming that the current locale is
 the \tcode{"C"} locale.
 \item
@@ -2997,7 +2982,6 @@ Decimal point characters(.) are replaced by
 
 \stage{3}
 A local variable is initialized as
-
 \begin{codeblock}
 fmtflags adjustfield = (flags & (ios_base::adjustfield));
 \end{codeblock}
@@ -3040,7 +3024,6 @@ is called.
 The sequence of
 \tcode{charT}'s
 at the end of stage 3 are output via
-
 \begin{codeblock}
 *out++ = c
 \end{codeblock}
@@ -3142,7 +3125,6 @@ are the results of corresponding
 \tcode{numpunct<charT>}
 members.
 Integer values have the format:
-
 \begin{codeblock}
 integer   ::= [sign] units
 sign      ::= plusminus
@@ -3150,15 +3132,12 @@ plusminus ::= '+' | '-'
 units     ::= digits [thousands-sep units]
 digits    ::= digit [digits]
 \end{codeblock}
-
 and floating-point values have:
-
 \begin{codeblock}
 floatval ::= [sign] units [decimal-point [digits]] [e [sign] digits] |
              [sign]        decimal-point  digits   [e [sign] digits]
 e        ::= 'e' | 'E'
 \end{codeblock}
-
 where the number of digits between
 \tcode{thousands-sep}s
 is as specified by
@@ -4316,14 +4295,12 @@ The value
 \tcode{units}
 is produced as if by\footnote{The semantics here are different from
 \tcode{ct.narrow}.}
-
 \begin{codeblock}
 for (int i = 0; i < n; ++i)
   buf2[i] = src[find(atoms, atoms+sizeof(src), buf1[i]) - atoms];
 buf2[n] = 0;
 sscanf(buf2, "%Lf", &units);
 \end{codeblock}
-
 where
 \tcode{n}
 is the number of characters placed in
@@ -4334,7 +4311,6 @@ is a character buffer, and the values
 and
 \tcode{atoms}
 are defined as if by
-
 \begin{codeblock}
 static const char src[] = "0123456789-";
 charT atoms[sizeof(src)];
@@ -4422,11 +4398,9 @@ and
 The argument
 \tcode{units}
 is transformed into a sequence of wide characters as if by
-
 \begin{codeblock}
 ct.widen(buf1, buf1 + sprintf(buf1, "%.0Lf", units), buf2)
 \end{codeblock}
-
 for character buffers
 \tcode{buf1}
 and
@@ -4619,20 +4593,16 @@ appears, the absolute numeric monetary value is required.
 
 \pnum
 The format of the numeric monetary value is a decimal number:
-
 \begin{codeblock}
 value ::= units [ decimal-point [ digits ]] |
   decimal-point digits
 \end{codeblock}
-
 if
 \tcode{frac_digits()}
 returns a positive value, or
-
 \begin{codeblock}
 value ::= units
 \end{codeblock}
-
 otherwise.
 The symbol
 \tcode{decimal-point}
diff --git a/source/numerics.tex b/source/numerics.tex
index 00e805ef..d0b9253d 100644
--- a/source/numerics.tex
+++ b/source/numerics.tex
@@ -201,7 +201,6 @@ undefined.
 
 \pnum
 If \tcode{z} is an lvalue of type \cv{} \tcode{complex<T>} then:
-
 \begin{itemize}
 \item the expression \tcode{reinterpret_cast<\cv{} T(\&)[2]>(z)} shall be well-formed,
 \item \tcode{reinterpret_cast<\cv{} T(\&)[2]>(z)[0]} shall designate the real part of \tcode{z}, and
@@ -209,7 +208,6 @@ If \tcode{z} is an lvalue of type \cv{} \tcode{complex<T>} then:
 \end{itemize}
 
 Moreover, if \tcode{a} is an expression of type \cv{}~\tcode{complex<T>*} and the expression \tcode{a[i]} is well-defined for an integer expression \tcode{i}, then:
-
 \begin{itemize}
 \item \tcode{reinterpret_cast<\cv{} T*>(a)[2*i]} shall designate the real part of \tcode{a[i]}, and
 \item \tcode{reinterpret_cast<\cv{} T*>(a)[2*i + 1]} shall designate the imaginary part of \tcode{a[i]}.
@@ -1201,7 +1199,6 @@ where \tcode{norm}, \tcode{conj}, \tcode{imag}, and \tcode{real} are \tcode{cons
 \pnum
 \indextext{overloads!floating-point}%
 The additional overloads shall be sufficient to ensure:
-
 \begin{itemize}
         \item If the argument has type \tcode{long double}, then it is effectively
               cast to \tcode{complex<long double>}.
@@ -1215,9 +1212,7 @@ The additional overloads shall be sufficient to ensure:
 \indexlibrary{\idxcode{pow}}%
 Function template \tcode{pow} shall have additional overloads sufficient to
 ensure, for a call with at least one argument of type \tcode{complex<T>}:
-
 \begin{itemize}
-
   \item If either argument has type \tcode{complex<long double>} or type \tcode{long
         double}, then both arguments are effectively cast to
         \tcode{complex<long double>}.
@@ -1728,7 +1723,6 @@ the operators
 \bitand, \bitor, and \xor{}
 denote the respective conventional bitwise operations.
 Further:
-
 \begin{itemize}
  \item
    the operator \rightshift{} denotes a bitwise right shift
@@ -2163,7 +2157,6 @@ template<class G>
 \pnum
 Let \tcode{g} be an object of type \tcode{G}. \tcode{G} models
 \libconcept{uniform_random_bit_generator} only if
-
 \begin{itemize}
 \item both \tcode{G::min()} and \tcode{G::max()} are constant
   expressions\iref{expr.const},
@@ -2947,7 +2940,6 @@ if any such required relationship fails to hold.
 \pnum
 For every random number engine and for every random number engine adaptor \tcode{X}
 defined in this subclause\iref{rand.eng} and in subclause~\ref{rand.adapt}:
-
 \begin{itemize}
 \item
 if the constructor
@@ -9692,7 +9684,6 @@ Otherwise,
 the function shall report a domain error
 for just those argument values
 for which:
-
 \begin{itemize}
   \item
   the function description's \returns clause
diff --git a/source/overloading.tex b/source/overloading.tex
index 418f2157..34a3900c 100644
--- a/source/overloading.tex
+++ b/source/overloading.tex
@@ -417,7 +417,6 @@ the calling context ill-formed.
 \indextext{overloading!resolution!contexts}%
 Overload resolution selects the function to call in seven distinct
 contexts within the language:
-
 \begin{itemize}
 \item
 invocation of a function named in the \link{function call syntax}{over.call.func};
@@ -520,7 +519,6 @@ the object to be operated on.
 \pnum
 For non-static member functions, the type of the implicit object
 parameter is
-
 \begin{itemize}
 \item ``lvalue reference to \cv{}~\tcode{X}'' for functions declared
 without a \grammarterm{ref-qualifier} or with the
@@ -528,7 +526,6 @@ without a \grammarterm{ref-qualifier} or with the
 \item ``rvalue reference to \cv{}~\tcode{X}'' for functions declared with the
 \tcode{\&\&} \grammarterm{ref-qualifier}
 \end{itemize}
-
 where
 \tcode{X}
 is the class of which the function is a member and
@@ -574,7 +571,6 @@ match with it.
 \indextext{implied object argument!non-static member function and}%
 For non-static member functions declared without a \grammarterm{ref-qualifier},
 an additional rule applies:
-
 \begin{itemize}
 \item
 even if the implicit object parameter is not
@@ -595,7 +591,6 @@ implicit conversion sequence, special rules apply when selecting
 the best user-defined conversion~(\ref{over.match.best},
 \ref{over.best.ics}).
 \begin{example}
-
 \begin{codeblock}
 class T {
 public:
@@ -680,11 +675,9 @@ B b3 = C();                             // calls \#3
 
 \pnum
 In a \link{function call}{expr.call}
-
 \begin{ncsimplebnf}
 postfix-expression \terminal{(} \opt{expression-list} \terminal{)}
 \end{ncsimplebnf}
-
 if the \grammarterm{postfix-expression} denotes a set of overloaded functions and/or
 function templates, overload resolution is applied as specified in \ref{over.call.func}.
 If the \grammarterm{postfix-expression} denotes an object of class type, overload
@@ -849,11 +842,9 @@ in the context of
 \pnum
 In addition, for each non-explicit conversion function declared in \tcode{T} of the
 form
-
 \begin{ncsimplebnf}
 \keyword{operator} conversion-type-id \terminal{(\,)} \opt{cv-qualifier-seq} \opt{ref-qualifier} \opt{noexcept-specifier} \opt{attribute-specifier-seq} \terminal{;}
 \end{ncsimplebnf}
-
 where the optional
 \grammarterm{cv-qualifier-seq}
 is the same cv-qualification as, or a greater cv-qualification than,
@@ -869,12 +860,10 @@ or the type
 returning \tcode{R}'', a \defn{surrogate call function} with the unique name
 \placeholder{call-function}
 and having the form
-
 \begin{ncbnf}
 \terminal{R} \placeholder{call-function} \terminal{(} conversion-type-id \ %
 \terminal{F, P$_1$ a$_1$, $\dotsc$, P$_n$ a$_n$)} \terminal{\{ return F (a$_1$, $\dotsc$, a$_n$); \}}
 \end{ncbnf}
-
 is also considered as a candidate function.
 Similarly, surrogate
 call functions are added to the set of candidate functions for
@@ -923,7 +912,6 @@ appropriate function pointer or reference required by that first
 parameter.
 \end{note}
 \begin{example}
-
 \begin{codeblock}
 int f1(int);
 int f2(float);
@@ -960,7 +948,6 @@ the conversions to be applied to the second and third operands when they
 have class or enumeration type\iref{expr.cond}.
 \end{note}
 \begin{example}
-
 \begin{codeblock}
 struct String {
   String (const String&);
@@ -1063,7 +1050,6 @@ the built-in candidates set is empty.
 For all other operators, the built-in candidates include all
 of the candidate operator functions defined in~\ref{over.built} that,
 compared to the given operator,
-
 \begin{itemize}
 \item
 have the same operator name, and
@@ -1120,7 +1106,6 @@ are considered for the first, but not for the second, parameter.
 \pnum
 For the built-in assignment operators, conversions of the left
 operand are restricted as follows:
-
 \begin{itemize}
 \item
 no temporaries are introduced to hold the left operand, and
@@ -1151,7 +1136,6 @@ according to~\ref{over.match.viable}
 and~\ref{over.match.best}.\footnote{If the set of candidate functions is empty,
 overload resolution is unsuccessful.}
 \begin{example}
-
 \begin{codeblock}
 struct A {
   operator int();
@@ -2213,7 +2197,6 @@ be ill-formed in the final analysis.
 A
 well-formed implicit conversion
 sequence is one of the following forms:
-
 \begin{itemize}
 \item
 a \link{standard conversion sequence}{over.ics.scs},
@@ -2728,7 +2711,6 @@ g({1});                 // same conversion as \tcode{int} to \tcode{double}
 
 \pnum
 Otherwise, if the parameter type is not a class:
-
 \begin{itemize}
 \item if the initializer list has one element that is not itself an initializer list,
 the implicit conversion sequence is the one required to convert the element to
@@ -2773,7 +2755,6 @@ be
 \pnum
 When comparing the basic forms of implicit conversion sequences
 (as defined in~\ref{over.best.ics})
-
 \begin{itemize}
 \item
 a \link{standard conversion sequence}{over.ics.scs} is a better
@@ -2794,7 +2775,6 @@ following rules applies:
 \item
 List-initialization sequence \tcode{L1} is a better conversion sequence than
 list-initialization sequence \tcode{L2} if
-
 \begin{itemize}
 \item
 \tcode{L1} converts to \tcode{std::initializer_list<X>} for some \tcode{X} and
@@ -2840,7 +2820,6 @@ is a better conversion
 sequence than standard conversion sequence
 \tcode{S2}
 if
-
 \begin{itemize}
 \item
 \indextext{subsequence rule!overloading}%
@@ -2926,7 +2905,6 @@ int j = f(&i);                  // calls \tcode{f(const int*)}
 \end{codeblock}
 \end{example}
 or, if not that,
-
 \item
 \tcode{S1}
 and
@@ -3040,7 +3018,6 @@ and class
 \tcode{C}
 is derived directly or indirectly from
 \tcode{B},
-
 \begin{itemize}
 \item
 conversion of
@@ -3052,7 +3029,6 @@ is better than conversion of
 to
 \tcode{A*},
 \begin{example}
-
 \begin{codeblock}
 struct A {};
 struct B : public A {};
@@ -3162,7 +3138,6 @@ That is, the class of which the function is a member is ignored when matching a
 pointer-to-member-function type.
 \end{note}
 The target can be
-
 \begin{itemize}
 \item
 an object or reference being initialized~(\ref{dcl.init}, \ref{dcl.init.ref},
@@ -3314,7 +3289,6 @@ or the equivalent expression
 \begin{note}
 Even if \tcode{B} is a public base of \tcode{D},
 we have
-
 \begin{codeblock}
 D* f();
 B* (*p1)() = &f;                // error
@@ -3593,11 +3567,9 @@ shall be a non-static member function with an arbitrary number of
 parameters.
 It can have default arguments.
 It implements the function call syntax
-
 \begin{ncsimplebnf}
 postfix-expression \terminal{(} \opt{expression-list} \terminal{)}
 \end{ncsimplebnf}
-
 where the
 \grammarterm{postfix-expression}
 evaluates to a class object and the possibly empty
@@ -3628,7 +3600,6 @@ the overload resolution mechanism\iref{over.match.best}.
 \tcode{operator[]}
 shall be a non-static member function with exactly one parameter.
 It implements the subscripting syntax
-
 \begin{ncsimplebnf}
 postfix-expression \terminal{[} expr-or-braced-init-list \terminal{]}
 \end{ncsimplebnf}
@@ -3923,7 +3894,6 @@ where
 \tcode{\placeholder{T}}
 is an arithmetic type other than \tcode{bool},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\cvqual{vq} \placeholder{T}@& operator++(@\cvqual{vq} \placeholder{T}@&);
 @\placeholder{T}@ operator++(@\cvqual{vq} \placeholder{T}@&, int);
@@ -3938,7 +3908,6 @@ where
 is an arithmetic type other than
 \tcode{bool},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\cvqual{vq} \placeholder{T}@& operator--(@\cvqual{vq} \placeholder{T}@&);
 @\placeholder{T}@ operator--(@\cvqual{vq} \placeholder{T}@&, int);
@@ -3952,7 +3921,6 @@ where
 \tcode{\placeholder{T}}
 is a cv-qualified or cv-unqualified object type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@*@\cvqual{vq}@& operator++(@\placeholder{T}@*@\cvqual{vq}@&);
 @\placeholder{T}@*@\cvqual{vq}@& operator--(@\placeholder{T}@*@\cvqual{vq}@&);
@@ -3964,7 +3932,6 @@ there exist candidate operator functions of the form
 For every cv-qualified or cv-unqualified object type
 \tcode{\placeholder{T}},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@&    operator*(@\placeholder{T}@*);
 \end{codeblock}
@@ -3973,14 +3940,12 @@ there exist candidate operator functions of the form
 For every function type
 \tcode{\placeholder{T}} that does not have cv-qualifiers or a \grammarterm{ref-qualifier},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@&    operator*(@\placeholder{T}@*);
 \end{codeblock}
 
 \pnum
 For every type \tcode{\placeholder{T}} there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@*    operator+(@\placeholder{T}@*);
 \end{codeblock}
@@ -3989,7 +3954,6 @@ For every type \tcode{\placeholder{T}} there exist candidate operator functions
 For every promoted arithmetic type
 \tcode{\placeholder{T}},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@ operator+(@\placeholder{T}@);
 @\placeholder{T}@ operator-(@\placeholder{T}@);
@@ -3999,7 +3963,6 @@ there exist candidate operator functions of the form
 For every promoted integral type
 \tcode{\placeholder{T}},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@ operator~(@\placeholder{T}@);
 \end{codeblock}
@@ -4019,11 +3982,9 @@ is the same type as \tcode{\placeholder{C2}} or is a derived class of \tcode{\pl
 \tcode{\placeholder{T}}
 is an object type or a function type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\cvqual{cv12} \placeholder{T}@& operator->*(@\cvqual{cv1} \placeholder{C1}@*, @\cvqual{cv2} \placeholder{T C2}@::*);
 \end{codeblock}
-
 where \cvqual{cv12} is the union of \cvqual{cv1} and \cvqual{cv2}.
 The return type is shown for exposition only; see~\ref{expr.mptr.oper} for the
 determination of the operator's result type.
@@ -4034,7 +3995,6 @@ For every pair of promoted arithmetic types
 and
 \tcode{\placeholder{R}},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{LR}@      operator*(@\placeholder{L}@, @\placeholder{R}@);
 @\placeholder{LR}@      operator/(@\placeholder{L}@, @\placeholder{R}@);
@@ -4047,7 +4007,6 @@ bool    operator>(@\placeholder{L}@, @\placeholder{R}@);
 bool    operator<=(@\placeholder{L}@, @\placeholder{R}@);
 bool    operator>=(@\placeholder{L}@, @\placeholder{R}@);
 \end{codeblock}
-
 where
 \tcode{\placeholder{LR}}
 is the result of the usual arithmetic conversions\iref{expr.arith.conv} between types
@@ -4058,7 +4017,6 @@ and
 \pnum
 For every integral type \tcode{\placeholder{T}}
 there exists a candidate operator function of the form
-
 \begin{codeblock}
 std::strong_ordering operator<=>(@\placeholder{T}@, @\placeholder{T}@);
 \end{codeblock}
@@ -4067,7 +4025,6 @@ std::strong_ordering operator<=>(@\placeholder{T}@, @\placeholder{T}@);
 For every pair of floating-point types
 \tcode{\placeholder{L}} and \tcode{\placeholder{R}},
 there exists a candidate operator function of the form
-
 \begin{codeblock}
 std::partial_ordering operator<=>(@\placeholder{L}@, @\placeholder{R}@);
 \end{codeblock}
@@ -4076,7 +4033,6 @@ std::partial_ordering operator<=>(@\placeholder{L}@, @\placeholder{R}@);
 For every cv-qualified or cv-unqualified object type
 \tcode{\placeholder{T}}
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@*      operator+(@\placeholder{T}@*, std::ptrdiff_t);
 @\placeholder{T}@&      operator[](@\placeholder{T}@*, std::ptrdiff_t);
@@ -4092,7 +4048,6 @@ where
 \tcode{\placeholder{T}}
 is a pointer to object type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 std::ptrdiff_t   operator-(@\placeholder{T}@, @\placeholder{T}@);
 \end{codeblock}
@@ -4100,7 +4055,6 @@ std::ptrdiff_t   operator-(@\placeholder{T}@, @\placeholder{T}@);
 \pnum
 For every \tcode{\placeholder{T}}, where \tcode{\placeholder{T}} is an enumeration type or a pointer type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 bool    operator==(@\placeholder{T}@, @\placeholder{T}@);
 bool    operator!=(@\placeholder{T}@, @\placeholder{T}@);
@@ -4110,14 +4064,12 @@ bool    operator<=(@\placeholder{T}@, @\placeholder{T}@);
 bool    operator>=(@\placeholder{T}@, @\placeholder{T}@);
 @\placeholdernc{R}@       operator<=>(@\placeholder{T}@, @\placeholder{T}@);
 \end{codeblock}
-
 where \tcode{\placeholder{R}} is the result type specified in \ref{expr.spaceship}.
 
 \pnum
 For every \tcode{\placeholder{T}}, where \tcode{\placeholder{T}}
 is a pointer-to-member type or \tcode{std::nullptr_t},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 bool                 operator==(@\placeholder{T}@, @\placeholder{T}@);
 bool                 operator!=(@\placeholder{T}@, @\placeholder{T}@);
@@ -4130,7 +4082,6 @@ For every pair of promoted integral types
 and
 \tcode{\placeholder{R}},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{LR}@      operator%(@\placeholder{L}@, @\placeholder{R}@);
 @\placeholder{LR}@      operator&(@\placeholder{L}@, @\placeholder{R}@);
@@ -4139,7 +4090,6 @@ there exist candidate operator functions of the form
 @\placeholder{L}@       operator<<(@\placeholder{L}@, @\placeholder{R}@);
 @\placeholder{L}@       operator>>(@\placeholder{L}@, @\placeholder{R}@);
 \end{codeblock}
-
 where
 \tcode{\placeholder{LR}}
 is the result of the usual arithmetic conversions\iref{expr.arith.conv} between types
@@ -4159,7 +4109,6 @@ and
 \tcode{\placeholder{R}}
 is a promoted arithmetic type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\cvqual{vq} \placeholder{L}@&   operator=(@\cvqual{vq} \placeholder{L}@&, @\placeholder{R}@);
 @\cvqual{vq} \placeholder{L}@&   operator*=(@\cvqual{vq} \placeholder{L}@&, @\placeholder{R}@);
@@ -4172,7 +4121,6 @@ there exist candidate operator functions of the form
 For every pair (\tcode{\placeholder{T}}, \cvqual{vq}),
 where \tcode{\placeholder{T}} is any type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@*@\cvqual{vq}@&   operator=(@\placeholder{T}@*@\cvqual{vq}@&, @\placeholder{T}@*);
 \end{codeblock}
@@ -4185,7 +4133,6 @@ where
 \tcode{\placeholder{T}}
 is an enumeration or pointer-to-member type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\cvqual{vq} \placeholder{T}@&   operator=(@\cvqual{vq} \placeholder{T}@&, @\placeholder{T}@);
 \end{codeblock}
@@ -4198,7 +4145,6 @@ where
 \tcode{\placeholder{T}}
 is a cv-qualified or cv-unqualified object type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@*@\cvqual{vq}@&   operator+=(@\placeholder{T}@*@\cvqual{vq}@&, std::ptrdiff_t);
 @\placeholder{T}@*@\cvqual{vq}@&   operator-=(@\placeholder{T}@*@\cvqual{vq}@&, std::ptrdiff_t);
@@ -4215,7 +4161,6 @@ is an integral type, and
 \tcode{\placeholder{R}}
 is a promoted integral type,
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\cvqual{vq} \placeholder{L}@&   operator%=(@\cvqual{vq} \placeholder{L}@&, @\placeholder{R}@);
 @\cvqual{vq} \placeholder{L}@&   operator<<=(@\cvqual{vq} \placeholder{L}@&, @\placeholder{R}@);
@@ -4227,7 +4172,6 @@ there exist candidate operator functions of the form
 
 \pnum
 There also exist candidate operator functions of the form
-
 \begin{codeblock}
 bool    operator!(bool);
 bool    operator&&(bool, bool);
@@ -4240,11 +4184,9 @@ For every pair of promoted arithmetic types
 and
 \tcode{\placeholder{R}},
 there exist candidate operator functions of the form
-
 \begin{codeblock}
 @\placeholder{LR}@      operator?:(bool, @\placeholder{L}@, @\placeholder{R}@);
 \end{codeblock}
-
 where
 \tcode{\placeholder{LR}}
 is the result of the usual arithmetic conversions\iref{expr.arith.conv} between types
@@ -4266,7 +4208,6 @@ where
 \tcode{\placeholder{T}}
 is a pointer, pointer-to-member, or scoped enumeration type, there exist candidate operator
 functions of the form
-
 \begin{codeblock}
 @\placeholder{T}@       operator?:(bool, @\placeholder{T}@, @\placeholder{T}@);
 \end{codeblock}%
diff --git a/source/preprocessor.tex b/source/preprocessor.tex
index 74834182..58ca4c09 100644
--- a/source/preprocessor.tex
+++ b/source/preprocessor.tex
@@ -177,12 +177,10 @@ The preprocessing tokens within a preprocessing directive
 are not subject to macro expansion unless otherwise stated.
 
 \begin{example} In:
-
 \begin{codeblock}
 #define EMPTY
 EMPTY   #   include <file.h>
 \end{codeblock}
-
 the sequence of preprocessing tokens on the second line is \textit{not}
 a preprocessing directive, because it does not begin with a \tcode{\#} at the start of
 translation phase 4, even though it will do so after the macro \tcode{EMPTY}
@@ -530,11 +528,9 @@ that can be processed by the implementation.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# include <} h-char-sequence \terminal{>} new-line
 \end{ncsimplebnf}
-
 searches a sequence of
 \impldef{sequence of places searched for a header}
 places
@@ -575,11 +571,9 @@ characters, if any) from the original directive.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# include} pp-tokens new-line
 \end{ncsimplebnf}
-
 (that does not match one of the two previous forms) is permitted.
 The preprocessing tokens after
 \tcode{include}
@@ -914,12 +908,10 @@ the identifier is not subject to macro replacement.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# define} identifier replacement-list new-line
 \indextext{\idxcode{\#define}}%
 \end{ncsimplebnf}
-
 defines an
 \defnadj{object-like}{macro} that
 causes each subsequent instance of the macro name\footnote{Since, by macro-replacement time,
@@ -1261,12 +1253,10 @@ Macro definitions have no significance after translation phase 4.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# undef} identifier new-line
 \indextext{\idxcode{\#undef}}%
 \end{ncsimplebnf}
-
 causes the specified identifier no longer to be defined as a macro name.
 It is ignored if the specified identifier is not currently defined as
 a macro name.
@@ -1308,7 +1298,6 @@ the resulting expression are bound properly.
 \begin{example}
 To illustrate the rules for redefinition and reexamination,
 the sequence
-
 \begin{codeblock}
 #define x       3
 #define f(a)    f(x * (a))
@@ -1331,9 +1320,7 @@ g(x+(3,4)-w) | h 5) & m
 p() i[q()] = { q(1), r(2,3), r(4,), r(,5), r(,) };
 char c[2][6] = { str(hello), str() };
 \end{codeblock}
-
 results in
-
 \begin{codeblock}
 f(2 * (y+1)) + f(2 * (f(2 * (z[0])))) % f(2 * (0)) + t(1);
 f(2 * (2+(3,4)-0,1)) | f(2 * (~ 5)) & f(2 * (0,1))^m(0,1);
@@ -1347,7 +1334,6 @@ char c[2][6] = { "hello", "" };
 To illustrate the rules for creating character string literals
 and concatenating tokens,
 the sequence
-
 \begin{codeblock}
 #define str(s)      # s
 #define xstr(s)     str(s)
@@ -1366,9 +1352,7 @@ fputs(str(strncmp("abc@\textbackslash@0d", "abc", '@\textbackslash@4')        //
 glue(HIGH, LOW);
 xglue(HIGH, LOW)
 \end{codeblock}
-
 results in
-
 \begin{codeblock}
 printf("x" "1" "= %d, x" "2" "= %s", x1, x2);
 fputs("strncmp(@\textbackslash@"abc@\textbackslash\textbackslash@0d@\textbackslash@", @\textbackslash@"abc@\textbackslash@", '@\textbackslash\textbackslash@4') == 0" ": @\atsign\textbackslash@n", s);
@@ -1376,9 +1360,7 @@ fputs("strncmp(@\textbackslash@"abc@\textbackslash\textbackslash@0d@\textbacksla
 "hello";
 "hello" ", world"
 \end{codeblock}
-
 or, after concatenation of the character string literals,
-
 \begin{codeblock}
 printf("x1= %d, x2= %s", x1, x2);
 fputs("strncmp(@\textbackslash@"abc@\textbackslash\textbackslash@0d@\textbackslash@", @\textbackslash@"abc@\textbackslash@", '@\textbackslash\textbackslash@4') == 0: @\atsign\textbackslash@n", s);
@@ -1397,15 +1379,12 @@ tokens in the macro definition is optional.
 \pnum
 \begin{example}
 To illustrate the rules for placemarker preprocessing tokens, the sequence
-
 \begin{codeblock}
 #define t(x,y,z) x ## y ## z
 int j[] = { t(1,2,3), t(,4,5), t(6,,7), t(8,9,),
   t(10,,), t(,11,), t(,,12), t(,,) };
 \end{codeblock}
-
 results in
-
 \begin{codeblock}
 int j[] = { 123, 45, 67, 89,
   10, 11, 12, };
@@ -1427,7 +1406,6 @@ the following sequence is valid.
 \end{codeblock}
 
 But the following redefinitions are invalid:
-
 \begin{codeblock}
 #define OBJ_LIKE    (0)         // different token sequence
 #define OBJ_LIKE    (1 - 1)     // different white space
@@ -1439,7 +1417,6 @@ But the following redefinitions are invalid:
 \pnum
 \begin{example}
 Finally, to show the variable argument list macro facilities:
-
 \begin{codeblock}
 #define debug(...) fprintf(stderr, @\mname{VA_ARGS}@)
 #define showlist(...) puts(#@\mname{VA_ARGS}@)
@@ -1449,9 +1426,7 @@ debug("X = %d\n", x);
 showlist(The first, second, and third items.);
 report(x>y, "x is %d but y is %d", x, y);
 \end{codeblock}
-
 results in
-
 \begin{codeblock}
 fprintf(stderr, "Flag");
 fprintf(stderr, "X = %d\n", x);
@@ -1482,11 +1457,9 @@ while processing the source file to the current token.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# line} digit-sequence new-line
 \end{ncsimplebnf}
-
 causes the implementation to behave as if
 the following sequence of source lines begins with a
 source line that has a line number as specified
@@ -1497,22 +1470,18 @@ the behavior is undefined.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# line} digit-sequence \terminal{"} \opt{s-char-sequence} \terminal{"} new-line
 \end{ncsimplebnf}
-
 sets the presumed line number similarly and changes the
 presumed name of the source file to be the contents
 of the character string literal.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# line} pp-tokens new-line
 \end{ncsimplebnf}
-
 (that does not match one of the two previous forms)
 is permitted.
 The preprocessing tokens after
@@ -1530,11 +1499,9 @@ otherwise, the result is processed as appropriate.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# error} \opt{pp-tokens} new-line
 \end{ncsimplebnf}
-
 causes the implementation to produce
 a diagnostic message that includes the specified sequence of preprocessing tokens,
 and renders the program ill-formed.
@@ -1545,11 +1512,9 @@ and renders the program ill-formed.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\# pragma} \opt{pp-tokens} new-line
 \end{ncsimplebnf}
-
 causes the implementation to behave
 in an \impldef{\tcode{\#pragma}} manner.
 The behavior might cause translation to fail or cause the translator or
@@ -1561,11 +1526,9 @@ Any pragma that is not recognized by the implementation is ignored.
 
 \pnum
 A preprocessing directive of the form
-
 \begin{ncsimplebnf}
 \terminal{\#} new-line
 \end{ncsimplebnf}
-
 has no effect.
 
 \rSec1[cpp.predefined]{Predefined macro names}
@@ -1785,11 +1748,9 @@ underscore.
 
 \pnum
 A unary operator expression of the form:
-
 \begin{ncbnf}
 \terminal{_Pragma} \terminal{(} string-literal \terminal{)}
 \end{ncbnf}
-
 is processed as follows: The string literal is \defnx{destringized}{destringization}
 by deleting the \tcode{L} prefix, if present, deleting the leading and trailing
 double-quotes, replacing each escape sequence \tcode{\textbackslash"} by a double-quote, and
diff --git a/source/ranges.tex b/source/ranges.tex
index a76d5f50..5071ce6d 100644
--- a/source/ranges.tex
+++ b/source/ranges.tex
@@ -309,7 +309,6 @@ The name \tcode{ranges::begin} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::\brk{}begin(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
-
 \begin{itemize}
 \item
   \tcode{E + 0} if \tcode{E} is an lvalue of array type\iref{basic.compound}.
@@ -329,7 +328,6 @@ expression-equivalent to:
 template<class T> void begin(T&&) = delete;
 template<class T> void begin(initializer_list<T>&&) = delete;
   \end{codeblock}
-
   and does not include a declaration of \tcode{ranges::begin}.
 
 \item
@@ -352,7 +350,6 @@ The name \tcode{ranges::end} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::end(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
-
 \begin{itemize}
 \item
   \tcode{E + extent_v<T>} if \tcode{E} is an lvalue of array
@@ -378,7 +375,6 @@ expression-equivalent to:
 template<class T> void end(T&&) = delete;
 template<class T> void end(initializer_list<T>&&) = delete;
   \end{codeblock}
-
   and does not include a declaration of \tcode{ranges::end}.
 
 \item
@@ -420,7 +416,6 @@ The name \tcode{ranges::cend} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::cend(E)} for some subexpression \tcode{E} of type \tcode{T}
 is expression-equivalent to:
-
 \begin{itemize}
 \item \tcode{ranges::end(static_cast<const T\&>(E))} if \tcode{E} is an lvalue.
 \item Otherwise, \tcode{ranges::end(static_cast<const T\&\&>(E))}.
@@ -440,7 +435,6 @@ The name \tcode{ranges::rbegin} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::\brk{}rbegin(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
-
 \begin{itemize}
 \item
   If \tcode{E} is an lvalue, \tcode{\placeholdernc{decay-copy}(E.rbegin())}
@@ -455,7 +449,6 @@ expression-equivalent to:
   \begin{codeblock}
 template<class T> void rbegin(T&&) = delete;
   \end{codeblock}
-
   and does not include a declaration of \tcode{ranges::rbegin}.
 
 \item
@@ -484,7 +477,6 @@ The name \tcode{ranges::rend} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::rend(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
-
 \begin{itemize}
 \item
   If \tcode{E} is an lvalue, \tcode{\placeholdernc{decay-copy}(E.rend())}
@@ -504,7 +496,6 @@ expression-equivalent to:
   \begin{codeblock}
 template<class T> void rend(T&&) = delete;
   \end{codeblock}
-
   and does not include a declaration of \tcode{ranges::rend}.
 
 \item
@@ -573,7 +564,6 @@ The name \tcode{size} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::size(E)} for some subexpression \tcode{E} with type
 \tcode{T} is expression-equivalent to:
-
 \begin{itemize}
 \item
   \tcode{\placeholdernc{decay-copy}(extent_v<T>)} if \tcode{T} is an array
@@ -598,7 +588,6 @@ object}{customization.point.object}. The expression
     \begin{codeblock}
 template<class T> void size(T&&) = delete;
     \end{codeblock}
-
     and does not include a declaration of \tcode{ranges::size}.
   \end{itemize}
 
@@ -631,7 +620,6 @@ The name \tcode{empty} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::empty(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
-
 \begin{itemize}
 \item
   \tcode{bool((E).empty())} if it is a valid expression.
@@ -666,7 +654,6 @@ The name \tcode{data} denotes a \link{customization point
 object}{customization.point.object}. The expression
 \tcode{ranges::data(E)} for some subexpression \tcode{E} is
 expression-equivalent to:
-
 \begin{itemize}
 \item
   If \tcode{E} is an lvalue, \tcode{\placeholdernc{decay-copy}(E.data())}
@@ -784,7 +771,6 @@ do not require implicit expression variations\iref{concepts.equality}.
 \pnum
 Given an expression \tcode{E} such that \tcode{decltype((E))} is \tcode{T},
 \tcode{T} models \tcode{\placeholder{range-impl}} only if
-
 \begin{itemize}
 \item \range{ranges::begin(E)}{ranges::end(E)}
   denotes a range\iref{iterator.requirements.general},
@@ -864,7 +850,6 @@ template<class T>
 \pnum
 Given an lvalue \tcode{t} of type \tcode{remove_reference_t<T>}, \tcode{T}
 models \libconcept{sized_range} only if
-
 \begin{itemize}
 \item \tcode{ranges::size(t)} is \bigoh{1}, does not modify \tcode{t},
 and is equal to \tcode{ranges::distance(t)}, and
@@ -933,7 +918,6 @@ these operations is not proportional to the number of elements in the
 \pnum
 \begin{example}
 Examples of \tcode{view}s are:
-
 \begin{itemize}
 \item A \libconcept{range} type that wraps a pair of iterators.
 
@@ -2517,7 +2501,6 @@ Many types in this subclause are specified in terms of
 an exposition-only class template \tcode{\placeholder{semiregular-box}}.
 \tcode{\placeholder{semiregular-box}<T>} behaves exactly like \tcode{optional<T>}
 with the following differences:
-
 \begin{itemize}
 \item \tcode{\placeholder{semiregular-box}<T>} constrains
 its type parameter \tcode{T} with
@@ -2567,7 +2550,6 @@ The name \tcode{views::all} denotes a
 range adaptor object\iref{range.adaptor.object}.
 For some subexpression \tcode{E}, the expression
 \tcode{views::all(E)} is expression-equivalent to:
-
 \begin{itemize}
 \item \tcode{\placeholdernc{decay-copy}(E)} if the decayed type of \tcode{E}
 models \libconcept{view}.
@@ -5265,7 +5247,6 @@ customization point object\iref{customization.point.object}.
 Let \tcode{E} and \tcode{F} be expressions,
 and let \tcode{T} be \tcode{decay_t<decltype((E))>}.
 Then the expression \tcode{views::counted(E, F)} is expression-equivalent to:
-
 \begin{itemize}
 \item If \tcode{T} models \libconcept{input_or_output_iterator} and
   \tcode{decltype((F))} models \tcode{\libconcept{convertible_to}<iter_differ\-ence_t<T>>},
@@ -5414,7 +5395,6 @@ The name \tcode{views::common} denotes a
 range adaptor object\iref{range.adaptor.object}.
 For some subexpression \tcode{E},
 the expression \tcode{views::common(E)} is expression-equivalent to:
-
 \begin{itemize}
 \item \tcode{views::all(E)},
   if \tcode{decltype((E))} models \libconcept{common_range}
diff --git a/source/regex.tex b/source/regex.tex
index 656cc13e..9fc139ec 100644
--- a/source/regex.tex
+++ b/source/regex.tex
@@ -2328,7 +2328,6 @@ template<class ST, class SA>
 \effects
 Constructs an empty string \tcode{result} of type \tcode{basic_string<char_type, ST, SA>} and
 calls:
-
 \begin{codeblock}
 format(back_inserter(result), fmt, flags);
 \end{codeblock}
@@ -2412,14 +2411,12 @@ bool operator==(const match_results<BidirectionalIterator, Allocator>& m1,
 \returns
 \tcode{true} if neither match result is ready, \tcode{false} if one match result is ready and the
 other is not. If both match results are ready, returns \tcode{true} only if:
-
 \begin{itemize}
 \item
 \tcode{m1.empty() \&\& m2.empty()}, or
 
 \item
 \tcode{!m1.empty() \&\& !m2.empty()}, and the following conditions are satisfied:
-
 \begin{itemize}
 \item
 \tcode{m1.prefix() == m2.prefix()},
diff --git a/source/statements.tex b/source/statements.tex
index deaa84fb..b4220e23 100644
--- a/source/statements.tex
+++ b/source/statements.tex
@@ -166,7 +166,6 @@ Case labels and default labels shall occur only in \tcode{switch} statements.
 
 \pnum
 Expression statements have the form
-
 \begin{bnf}
 \nontermdef{expression-statement}\br
     \opt{expression} \terminal{;}
@@ -245,14 +244,11 @@ a block scope\iref{basic.scope}. If the substatement in a
 \grammarterm{compound-statement}, it is as if it was rewritten to be a
 \grammarterm{compound-statement} containing the original substatement.
 \begin{example}
-
 \begin{codeblock}
 if (x)
   int i;
 \end{codeblock}
-
 can be equivalently rewritten as
-
 \begin{codeblock}
 if (x) {
   int i;
@@ -365,12 +361,10 @@ to the promoted type.
 Any
 statement within the \tcode{switch} statement can be labeled with one or
 more case labels as follows:
-
 \begin{ncbnf}
 \indextext{label!\idxcode{case}}%
 \keyword{case} constant-expression \terminal{:}
 \end{ncbnf}
-
 where the \grammarterm{constant-expression} shall be
 a converted \link{constant expression}{expr.const} of the
 adjusted type of the switch condition. No two of the case constants in
@@ -379,11 +373,9 @@ the same switch shall have the same value after conversion.
 \pnum
 \indextext{label!\idxcode{default}}%
 There shall be at most one label of the form
-
 \begin{codeblock}
 default :
 \end{codeblock}
-
 within a \tcode{switch} statement.
 
 \pnum
@@ -478,14 +470,11 @@ a single statement and not a \grammarterm{compound-statement},
 it is as if it was rewritten to be
 a \grammarterm{compound-statement} containing the original statement.
 \begin{example}
-
 \begin{codeblock}
 while (--x >= 0)
   int i;
 \end{codeblock}
-
 can be equivalently rewritten as
-
 \begin{codeblock}
 while (--x >= 0) {
   int i;
@@ -773,7 +762,6 @@ statement shall occur only in an
 and causes control to pass to the loop-continuation portion of the
 smallest enclosing \grammarterm{iteration-statement}, that is, to the end
 of the loop. More precisely, in each of the statements
-
 \begin{minipage}{.30\hsize}
 \begin{codeblock}
 while (foo) {
@@ -885,11 +873,9 @@ A \tcode{co_return} statement is equivalent to:
 \begin{ncsimplebnf}
 \terminal{\{} S\terminal{;} \terminal{goto} \exposid{final-suspend}\terminal{;} \terminal{\}}
 \end{ncsimplebnf}
-
 where \exposid{final-suspend} is the exposition-only label
 defined in \ref{dcl.fct.def.coroutine}
 and \placeholder{S} is defined as follows:
-
 \begin{itemize}
 \item
 \placeholder{S} is \placeholder{p}\tcode{.return_value(}\grammarterm{expr-or-braced-init-list}{}\tcode{)},
@@ -921,7 +907,6 @@ statement labeled by the identifier. The identifier shall be a
 \pnum
 A declaration statement introduces one or more new identifiers into a
 block; it has the form
-
 \begin{bnf}
 \nontermdef{declaration-statement}\br
     block-declaration
diff --git a/source/strings.tex b/source/strings.tex
index 2fc7697c..49081dcc 100644
--- a/source/strings.tex
+++ b/source/strings.tex
@@ -180,12 +180,10 @@ is \tcode{false} for all values \tcode{c}.                                  &
 
 \pnum
 The class template
-
 \indexlibrary{\idxcode{char_traits}}%
 \begin{codeblock}
 template<class charT> struct char_traits;
 \end{codeblock}
-
 is provided in the header
 \tcode{<string>}
 as a basis for explicit specializations.
@@ -1543,7 +1541,6 @@ constexpr void resize(size_type n, charT c);
 Alters the value of
 \tcode{*this}
 as follows:
-
 \begin{itemize}
 \item
 If
@@ -3382,7 +3379,6 @@ otherwise \tcode{n} is
 \tcode{str.max_size()}.
 Characters are extracted and appended until any of the following
 occurs:
-
 \begin{itemize}
 \item
 \textit{n}
@@ -3455,7 +3451,6 @@ and then extracts characters from \tcode{is} and appends them
 to \tcode{str} as if by calling
 \tcode{str.append(1, c)}
 until any of the following occurs:
-
 \begin{itemize}
 \item
 end-of-file occurs on the input sequence
diff --git a/source/support.tex b/source/support.tex
index 59eca18e..30ad7aef 100644
--- a/source/support.tex
+++ b/source/support.tex
@@ -800,7 +800,6 @@ namespace std {
 \pnum
 The rounding mode for floating-point arithmetic is characterized by the
 values:
-
 \begin{itemize}
 \item
 \libentity{round_indeterminate}
@@ -839,7 +838,6 @@ namespace std {
 \pnum
 The presence or absence of subnormal numbers (variable number of exponent bits)
 is characterized by the values:
-
 \begin{itemize}
 \item
 \indexlibrary{\idxcode{denorm_indeterminate}}%
@@ -1804,7 +1802,6 @@ namespace std {
 
 \pnum
 The header also defines numerous macros of the form:
-
 \begin{codeblock}
   INT_[FAST LEAST]{8 16 32 64}_MIN
   [U]INT_[FAST LEAST]{8 16 32 64}_MAX
@@ -1813,9 +1810,7 @@ The header also defines numerous macros of the form:
   {PTRDIFF SIG_ATOMIC WCHAR WINT}{_MAX _MIN}
   SIZE_MAX
 \end{codeblock}
-
 plus function macros of the form:
-
 \begin{codeblock}
   [U]INT{8 16 32 64 MAX}_C
 \end{codeblock}
@@ -2815,7 +2810,6 @@ or
 \pnum
 \required
 A \tcode{new_handler} shall perform one of the following:
-
 \begin{itemize}
 \item
 make more storage available for allocation and then return;
@@ -5782,7 +5776,6 @@ invocation of the signal handler so installed.
 A \defn{plain lock-free atomic operation} is
 an invocation of a function \tcode{f} from \ref{atomics},
 such that:
-
 \begin{itemize}
 \item
 \tcode{f} is the function \tcode{atomic_is_lock_free()}, or
@@ -5803,7 +5796,6 @@ for every pointer-to-atomic argument \tcode{A} passed to \tcode{f},
 \pnum
 \indextext{signal-safe!evaluation|see{evaluation, signal-safe}}%
 An evaluation is \defnx{signal-safe}{evaluation!signal-safe} unless it includes one of the following:
-
 \begin{itemize}
 \item
 a call to any standard library function,
diff --git a/source/templates.tex b/source/templates.tex
index dc46d4fb..c9f3f154 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -77,7 +77,6 @@ in a
 \grammarterm{template-declaration}
 (if any)
 shall
-
 \begin{itemize}
 \item declare or define a function, a class, or a variable, or
 
@@ -204,7 +203,6 @@ in that scope.
 \pnum
 \indextext{entity!templated}%
 A \defn{templated entity} is
-
 \begin{itemize}
 \item a template,
 \item an entity defined\iref{basic.def} or created\iref{class.temporary}
@@ -369,7 +367,6 @@ class Map {
 \pnum
 A non-type \grammarterm{template-parameter}
 shall have one of the following (optionally cv-qualified) types:
-
 \begin{itemize}
 \item a literal type that
   has strong structural equality\iref{class.compare.default},
@@ -526,14 +523,11 @@ available for use is obtained by merging the default arguments
 from all prior declarations of the template in the
 same way default function arguments are\iref{dcl.fct.default}.
 \begin{example}
-
 \begin{codeblock}
 template<class T1, class T2 = int> class A;
 template<class T1 = int, class T2> class A;
 \end{codeblock}
-
 is equivalent to
-
 \begin{codeblock}
 template<class T1 = int, class T2 = int> class A;
 \end{codeblock}
@@ -564,7 +558,6 @@ shall be deducible
 from the parameter-type-list
 of the deduction guide template.
 \begin{example}
-
 \begin{codeblock}
 template<class T1 = int, class T2> class B;     // error
 
@@ -580,7 +573,6 @@ A
 shall
 not be given default arguments by two different declarations in the same scope.
 \begin{example}
-
 \begin{codeblock}
 template<class T = int> class X;
 template<class T = int> class X { @\commentellip@ };  // error
@@ -600,7 +592,6 @@ is taken as the end of the
 \grammarterm{template-parameter-list}
 rather than a greater-than operator.
 \begin{example}
-
 \begin{codeblock}
 template<int i = 3 > 4 >        // syntax error
 class X { @\commentellip@ };
@@ -761,7 +752,6 @@ token produced by this replacement rule may terminate an enclosing
 \grammarterm{template-id} construct or it may be part of a different
 construct (e.g., a cast).\end{note}
 \begin{example}
-
 \begin{codeblock}
 template<int i> class X { @\commentellip@ };
 
@@ -796,7 +786,6 @@ In all other contexts, when naming a template specialization of
 a member of an unknown specialization\iref{temp.dep.type},
 the member template name shall be prefixed by the keyword \tcode{template}.
 \begin{example}
-
 \begin{codeblock}
 struct X {
   template<std::size_t> X* alloc();
@@ -1040,7 +1029,6 @@ corresponding
 name is used.
 \end{note}
 \begin{example}
-
 \begin{codeblock}
 template<class T> class X {
   static T t;
@@ -1088,7 +1076,6 @@ In that case the empty
 brackets shall still be used as the
 \grammarterm{template-argument-list}.
 \begin{example}
-
 \begin{codeblock}
 template<class T = char> class String;
 String<>* p;                    // OK: \tcode{String<char>}
@@ -1104,7 +1091,6 @@ An explicit destructor call\iref{class.dtor} for an object that has a type
 that is a class template specialization may explicitly specify the
 \grammarterm{template-argument}{s}.
 \begin{example}
-
 \begin{codeblock}
 template<class T> struct A {
   ~A();
@@ -1214,7 +1200,6 @@ or for each non-static data member of reference or pointer type
 in a non-type \grammarterm{template-parameter} of class type or subobject thereof,
 the reference or pointer value shall not refer to
 or be the address of (respectively):
-
 \begin{itemize}
 \item a subobject\iref{intro.object},
 \item a temporary object\iref{class.temporary},
@@ -1266,7 +1251,6 @@ A string literal\iref{lex.string} is
 not an acceptable \grammarterm{template-argument}
 for a \grammarterm{template-parameter} of non-class type.
 \begin{example}
-
 \begin{codeblock}
 template<class T, T p> class X {
   @\commentellip@
@@ -1292,7 +1276,6 @@ X<A, "Pyrophoricity"> z;        // OK, string literal is a constructor argument
 The address of an array element or non-static data member is not an acceptable
 \grammarterm{template-argument}.
 \begin{example}
-
 \begin{codeblock}
 template<int* p> class X { };
 
@@ -1316,7 +1299,6 @@ when the corresponding
 \grammarterm{template-parameter}
 has reference type.
 \begin{example}
-
 \begin{codeblock}
 template<const int& CRI> struct B { @\commentellip@ };
 
@@ -1353,7 +1335,6 @@ If a specialization is not visible at the point of instantiation,
 and it would have been selected had it been visible, the program is ill-formed,
 no diagnostic required.
 \begin{example}
-
 \begin{codeblock}
 template<class T> class A {     // primary template
   int x;
@@ -1667,7 +1648,6 @@ of that expression.
 \item Otherwise, the associated constraints are the normal form of a \link{logical
 \logop{AND} expression}{expr.log.and} whose operands are in the
 following order:
-
 \begin{itemize}
 \item
 the \grammarterm{constraint-expression} introduced by
@@ -1851,7 +1831,6 @@ Its conjunctive clauses are $A$ and $(B \lor C)$.
 \end{example}%
 }
 of $Q$, where
-
 \begin{itemize}
 \item
 a disjunctive clause $P_i$ subsumes a conjunctive clause $Q_j$ if and only
@@ -1877,7 +1856,6 @@ Also note that every constraint subsumes itself.
 \begin{note}
 The subsumption relation defines a partial ordering on constraints.
 This partial ordering is used to determine
-
 \begin{itemize}
 \item the best viable candidate of non-template functions\iref{over.match.best},
 \item the address of a non-template function\iref{over.over},
@@ -1894,7 +1872,6 @@ This partial ordering is used to determine
 A declaration \tcode{D1} is
 \defn{at least as constrained} as
 a declaration \tcode{D2} if
-
 \begin{itemize}
 \item \tcode{D1} and \tcode{D2} are both constrained declarations and
 \tcode{D1}'s associated constraints subsume those of \tcode{D2}; or
@@ -1951,19 +1928,16 @@ with the \tcode{==} operator\iref{expr.eq}, and}
 to the same template.}
 \end{itemize}
 \begin{example}
-
 \begin{codeblock}
 template<class E, int size> class buffer { @\commentellip@ };
 buffer<char,2*512> x;
 buffer<char,1024> y;
 \end{codeblock}
-
 declares
 \tcode{x}
 and
 \tcode{y}
 to be of the same type, and
-
 \begin{codeblock}
 template<class T, void(*err_fct)()> class list { @\commentellip@ };
 list<int,&error_handler1> x1;
@@ -1971,7 +1945,6 @@ list<int,&error_handler2> x2;
 list<int,&error_handler2> x3;
 list<char,&error_handler2> x4;
 \end{codeblock}
-
 declares
 \tcode{x2}
 and
@@ -1989,7 +1962,6 @@ template<class T> using Z = Y<T>;
 X<Y<int> > y;
 X<Z<int> > z;
 \end{codeblock}
-
 declares \tcode{y} and \tcode{z} to be of the same type.
 \end{example}
 
@@ -2013,7 +1985,6 @@ followed by a
 \grammarterm{template-argument-list}
 shall not be specified in the declaration of a primary template declaration.
 \begin{example}
-
 \begin{codeblock}
 template<class T1, class T2, int I> class A<T1, T2, I> { };     // error
 template<class T1, int I> void sort<T1, I>(T1 data[I]);         // error
@@ -2171,7 +2142,6 @@ of a class template
 may be defined outside of the class
 template definition in which it is declared.
 \begin{example}
-
 \begin{codeblock}
 template<class T> class Array {
   T* v;
@@ -2244,7 +2214,6 @@ definition in which it is declared.
 The member class must be defined before its first use that requires
 an instantiation\iref{temp.inst}.
 For example,
-
 \begin{codeblock}
 template<class T> struct A {
   class B;
@@ -2263,7 +2232,6 @@ A definition for a static data member or static data member template may be
 provided in a namespace scope enclosing the definition of the static member's
 class template.
 \begin{example}
-
 \begin{codeblock}
 template<class T> class X {
   static T s;
@@ -2384,7 +2352,6 @@ int main() {
 \pnum
 A member function template shall not be virtual.
 \begin{example}
-
 \begin{codeblock}
 template <class T> struct AA {
   template <class C> virtual void g(C);             // error
@@ -2417,7 +2384,6 @@ is referenced in
 the same way as a non-template conversion function that converts to
 the same type.
 \begin{example}
-
 \begin{codeblock}
 struct A {
   template <class T> operator T*();
@@ -2472,7 +2438,6 @@ conversion functions.
 A \defn{template parameter pack} is a template parameter
 that accepts zero or more template arguments.
 \begin{example}
-
 \begin{codeblock}
 template<class ... Types> struct Tuple { };
 
@@ -2487,7 +2452,6 @@ Tuple<0> error;                 // error: \tcode{0} is not a type
 A \defn{function parameter pack} is a function parameter
 that accepts zero or more function arguments.
 \begin{example}
-
 \begin{codeblock}
 template<class ... Types> void f(Types ... args);
 
@@ -2543,7 +2507,6 @@ expansions can occur in the following contexts:
 the pattern is a \grammarterm{using-declarator}.
 
 \item In a template parameter pack that is a pack expansion\iref{temp.param}:
-
 \begin{itemize}
 \item
 if the template parameter pack is a \grammarterm{parameter-declaration};
@@ -2635,7 +2598,6 @@ template<class ... Args>
                                             // second ``\tcode{args}'' expanded within \tcode{f}
   }
 \end{codeblock}
-
 \end{example}
 
 \pnum
@@ -2651,7 +2613,6 @@ $\mathtt{E}_i$ is generated by instantiating the pattern and
 replacing each pack expansion parameter with its $i^\text{th}$ element.
 Such an element, in the context of the instantiation, is interpreted as
 follows:
-
 \begin{itemize}
 \item
 if the pack is a template parameter pack, the element is a template
@@ -2704,7 +2665,6 @@ it expands.
 
 \pnum
 The instantiation of a \grammarterm{fold-expression} produces:
-
 \begin{itemize}
 \item
 \tcode{((}$\mathtt{E}_1$
@@ -2778,7 +2738,6 @@ A friend of a class or class template can be a function template or
 class template, a specialization of a function template or class
 template, or a non-template function or class.
 For a friend function declaration that is not a template declaration:
-
 \begin{itemize}
 \item
 if the name of the friend is a qualified or unqualified \grammarterm{template-id},
@@ -3668,7 +3627,6 @@ template specialization with more than one function template declaration.
 of overloaded function template declarations is used in the following contexts
 to select the function template to which a function template specialization
 refers:
-
 \begin{itemize}
 \item
 during overload resolution for a call to a function template specialization\iref{over.match.best};
@@ -4181,7 +4139,6 @@ Knowing which names are type names allows the syntax of every template
 to be checked in this way.
 \end{note}
 The program is ill-formed, no diagnostic required, if:
-
 \begin{itemize}
 \item
 no valid specialization can be generated for a template
@@ -4591,11 +4548,9 @@ as described in this subclause.
 
 \pnum
 In an expression of the form:
-
 \begin{ncsimplebnf}
 postfix-expression \terminal{(} \opt{expression-list} \terminal{)}
 \end{ncsimplebnf}
-
 where the
 \grammarterm{postfix-expression}
 is an
@@ -4605,19 +4560,16 @@ the
 denotes a
 \defnx{dependent name}{name!dependent}
 if
-
 \begin{itemize}
 \item
 any of the expressions in the \grammarterm{expression-list} is a
 \deflink{pack expansion}{temp.variadic},
-
 \item
 any of the expressions
 or \grammarterm{braced-init-list}{s}
 in the
 \grammarterm{expression-list}
 is \link{type-dependent}{temp.dep.expr}, or
-
 \item
 the \grammarterm{unqualified-id}
 is a \grammarterm{template-id} in which any of the template arguments depends
@@ -4665,7 +4617,6 @@ name lookup either at the point of definition of the
 class template or member or during an instantiation of
 the class template or member.
 \begin{example}
-
 \begin{codeblock}
 typedef double A;
 template<class T> class B {
@@ -4686,7 +4637,6 @@ defined in the base class
 \tcode{B<T>}.
 \end{example}
 \begin{example}
-
 \begin{codeblock}
 struct A {
   struct B { @\commentellip@ };
@@ -4723,7 +4673,6 @@ do not affect the binding of names in
 A name refers to the
 \defn{current instantiation}
 if it is
-
 \begin{itemize}
 \item
 in the definition of a class template, a nested class of a class template,
@@ -5048,14 +4997,12 @@ dependent\iref{temp.dep.type}.
 An
 \grammarterm{id-expression}
 is type-dependent if it contains
-
 \begin{itemize}
 \item
 an
 \grammarterm{identifier}
 associated by name lookup with one or more declarations
 declared with a dependent type,
-
 \item
 an
 \grammarterm{identifier}
@@ -5063,40 +5010,33 @@ associated by name lookup with
 a non-type \grammarterm{template-parameter}
 declared with a type
 that contains a \deflink{placeholder type}{dcl.spec.auto},
-
 \item
 an
 \grammarterm{identifier}
 associated by name lookup with
 a variable declared with a type that contains a placeholder type\iref{dcl.spec.auto}
 where the initializer is type-dependent,
-
 \item
 an \grammarterm{identifier} associated by name lookup with one or more
 declarations of member functions of the current instantiation declared
 with a return type that contains a placeholder type,
-
 \item
 an \grammarterm{identifier} associated by name lookup with
 a \link{structured binding declaration}{dcl.struct.bind} whose
 \grammarterm{brace-or-equal-initializer} is type-dependent,
-
 \item
 the
 \grammarterm{identifier}
 \mname{func}\iref{dcl.fct.def.general}, where any enclosing function is a
 template, a member of a class template, or a generic lambda,
-
 \item
 a
 \grammarterm{template-id}
 that is dependent,
-
 \item
 a
 \grammarterm{conversion-function-id}
 that specifies a dependent type, or
-
 \item
 a
 \grammarterm{nested-name-specifier}
@@ -5104,7 +5044,6 @@ or a
 \grammarterm{qualified-id}
 that names a member of an unknown specialization;
 \end{itemize}
-
 or if it names a dependent member of the current instantiation that is a static
 data member of type
 ``array of unknown bound of \tcode{T}'' for some \tcode{T}\iref{temp.static}.
@@ -5199,7 +5138,6 @@ subexpression is value-dependent.
 An
 \grammarterm{id-expression}
 is value-dependent if:
-
 \begin{itemize}
 \item
 it is type-dependent,
@@ -6476,7 +6414,6 @@ template int g<int>(int);       // OK even though \tcode{\&p} isn't an \tcode{in
 \pnum
 \indextext{specialization!template explicit}%
 An explicit specialization of any of the following:
-
 \begin{itemize}
 \item
 function template
@@ -6497,7 +6434,6 @@ member class template of a class or class template
 \item
 member function template of a class or class template
 \end{itemize}
-
 can be declared by a declaration introduced by
 \tcode{template<>};
 that is:
@@ -6558,7 +6494,6 @@ The definition of a class or class template shall precede the
 declaration of an explicit specialization for a member template of the class
 or class template.
 \begin{example}
-
 \begin{codeblock}
 template<> class X<int> { @\commentellip@ };          // error: \tcode{X} not a template
 
@@ -6659,7 +6594,6 @@ the program is ill-formed, no diagnostic required.
 An implicit instantiation is never generated for an explicit specialization
 that is declared but not defined.
 \begin{example}
-
 \begin{codeblock}
 class String { };
 template<class T> class Array { @\commentellip@ };
@@ -6713,7 +6647,6 @@ or to make it compile will be such a trial as to kindle its self-immolation.
 A template explicit specialization is in the scope of the namespace in which
 the template was defined.
 \begin{example}
-
 \begin{codeblock}
 namespace N {
   template<class T> class X { @\commentellip@ };
@@ -6735,7 +6668,6 @@ that names a class template explicit specialization that has been declared but
 not defined can be used exactly like the names of other incompletely-defined
 classes\iref{basic.types}.
 \begin{example}
-
 \begin{codeblock}
 template<class T> class X;                      // \tcode{X} is a class template
 template<> class X<int>;
@@ -6753,7 +6685,6 @@ can be left unspecified in the
 naming an explicit function template specialization
 provided it can be deduced from the function argument type.
 \begin{example}
-
 \begin{codeblock}
 template<class T> class Array { @\commentellip@ };
 template<class T> void sort(Array<T>& v);
@@ -6786,7 +6717,6 @@ only if it is declared with the \tcode{inline}
 specifier or defined as deleted, and independently of whether its
 function or variable template is inline.
 \begin{example}
-
 \begin{codeblock}
 template<class T> void f(T) { @\commentellip@ }
 template<class T> inline T g(T) { @\commentellip@ }
@@ -6856,7 +6786,6 @@ the member declaration shall be preceded by a
 \tcode{template<>}
 for each enclosing class template that is explicitly specialized.
 \begin{example}
-
 \begin{codeblock}
 template<class T1> class A {
   template<class T2> class B {
@@ -6889,7 +6818,6 @@ in the
 \grammarterm{template-parameter-list}
 shall be the same as those specified in the primary template definition.
 \begin{example}
-
 \begin{codeblock}
 template <class T1> class A {
   template<class T2> class B {
@@ -6920,7 +6848,6 @@ An explicit specialization declaration shall not be a friend declaration.
 \pnum
 Default function arguments shall not be specified in a declaration or
 a definition for one of the following explicit specializations:
-
 \begin{itemize}
 \item
 the explicit specialization of a function template;
@@ -8090,13 +8017,11 @@ If, for a given type, the
 types are identical after the transformations above
 and both \tcode{P} and \tcode{A} were reference types (before being replaced with the
 type referred to above):
-
 \begin{itemize}
 \item if the type from the argument template was an lvalue reference and the type
 from the parameter template was not,
 the parameter type is not considered to be
 at least as specialized as the argument type; otherwise,
-
 \item if the type from
 the argument template is more cv-qualified than the type from the
 parameter template (as described above),
@@ -8416,7 +8341,6 @@ can be deduced if
 and
 \tcode{A}
 have one of the following forms:
-
 \begin{codeblock}
 T
 @\cv{}@ T
@@ -8444,7 +8368,6 @@ TT<T>
 TT<i>
 TT<>
 \end{codeblock}
-
 where
 \tcode{(T)}
 represents
@@ -8486,7 +8409,6 @@ template arguments for subsequent positions in the template parameter
 packs expanded by $\texttt{P}_i$.
 During \link{partial ordering}{temp.deduct.partial}, if $\texttt{A}_i$ was
 originally a pack expansion:
-
 \begin{itemize}
 \item if \tcode{P} does not contain a template argument corresponding to
 $\texttt{A}_i$ then $\texttt{A}_i$ is ignored;
@@ -8547,7 +8469,6 @@ subsequent positions in the template parameter packs expanded by the
 function parameter pack.
 During \link{partial ordering}{temp.deduct.partial}, if $\texttt{A}_i$ was
 originally a function parameter pack:
-
 \begin{itemize}
 \item if \tcode{P} does not contain a function parameter type corresponding to
 $\texttt{A}_i$ then $\texttt{A}_i$ is ignored;
@@ -8568,23 +8489,17 @@ These forms can be used in the same way as
 \tcode{T}
 is for further composition of types.
 \begin{example}
-
 \begin{codeblock}
 X<int> (*)(char[6])
 \end{codeblock}
-
 is of the form
-
 \begin{codeblock}
 @\grammarterm{template-name}@<T> (*)(@\placeholder{type}@[i])
 \end{codeblock}
-
 which is a variant of
-
 \begin{codeblock}
 @\placeholder{type}@ (*)(T)
 \end{codeblock}
-
 where type is
 \tcode{X<int>}
 and
@@ -8723,7 +8638,6 @@ may be deduced from an array bound, the resulting value will always be
 \tcode{true}
 because the array bound will be nonzero.}
 \begin{example}
-
 \begin{codeblock}
 template<int i> class A { @\commentellip@ };
 template<short s> void f(A<s>);
@@ -8749,7 +8663,6 @@ can be deduced from a function, pointer to function, or
 pointer-to-member-function type.
 
 \begin{example}
-
 \begin{codeblock}
 template<class T> void f(void(*)(T,int));
 template<class T> void foo(T,int);
@@ -8771,7 +8684,6 @@ A template
 \grammarterm{type-parameter}
 cannot be deduced from the type of a function default argument.
 \begin{example}
-
 \begin{codeblock}
 template <class T> void f(T = 5, T = 7);
 void g() {
@@ -8791,7 +8703,6 @@ is deduced from the type of the
 \grammarterm{template-argument}
 of a class template specialization used in the argument list of a function call.
 \begin{example}
-
 \begin{codeblock}
 template <template <class T> class X> struct A { };
 template <template <class T> class X> void f(A<X>) { }
@@ -8902,11 +8813,9 @@ void f(int a, int b, char c, char d) {
 \end{codeblock}
 
 Adding the non-template function
-
 \begin{codeblock}
 int max(int,int);
 \end{codeblock}
-
 to the example above would resolve the third call, by providing a function that
 could be called for
 \tcode{max(a,c)}
@@ -8923,7 +8832,6 @@ for
 Here is an example involving conversions on a function argument involved in
 \grammarterm{template-argument}
 deduction:
-
 \begin{codeblock}
 template<class T> struct B { @\commentellip@ };
 template<class T> struct D : public B<T> { @\commentellip@ };
@@ -8941,7 +8849,6 @@ void g(B<int>& bi, D<int>& di) {
 Here is an example involving conversions on a function argument not involved in
 \grammarterm{template-parameter}
 deduction:
-
 \begin{codeblock}
 template<class T> void f(T*,int);       // \#1
 template<class T> void f(T,char);       // \#2
@@ -8962,7 +8869,6 @@ specialization in a set of candidate functions.
 Therefore only the function template declaration is needed to resolve a call
 for which a template specialization is a candidate.
 \begin{example}
-
 \begin{codeblock}
 template<class T> void f(T);    // declaration
 
diff --git a/source/threads.tex b/source/threads.tex
index d47cc513..06bb4a60 100644
--- a/source/threads.tex
+++ b/source/threads.tex
@@ -103,7 +103,6 @@ specified in the time point to measure time for these functions. Given a clock t
 argument $C_t$, the clock time point of the return from timeout should be $C_t + D_i + D_m$
 when the clock is not adjusted during the timeout. If the clock is adjusted to the time $C_a$
 during the timeout, the behavior should be as follows:
-
 \begin{itemize}
 \item
 if $C_a > C_t$, the waiting function should wake as soon as possible, i.e., $C_a + D_i + D_m$,
@@ -2097,7 +2096,6 @@ released may ownership be acquired by another thread.
 
 \pnum
 The behavior of a program is undefined if:
-
 \begin{itemize}
 \item it destroys a \tcode{recursive_mutex} object owned by any thread or
 \item a thread terminates while owning a \tcode{recursive_mutex} object.
@@ -2229,7 +2227,6 @@ class\iref{class.prop}.
 
 \pnum
 The behavior of a program is undefined if:
-
 \begin{itemize}
 \item it destroys a \tcode{timed_mutex} object owned by any thread,
 \item a thread that owns a \tcode{timed_mutex} object calls \tcode{lock()},
@@ -2294,7 +2291,6 @@ may ownership of the object be acquired by another thread.
 
 \pnum
 The behavior of a program is undefined if:
-
 \begin{itemize}
 \item it destroys a \tcode{recursive_timed_mutex} object owned by any thread, or
 \item a thread terminates while owning a \tcode{recursive_timed_mutex} object.
@@ -3836,7 +3832,6 @@ Condition variables permit concurrent invocation of the \tcode{wait}, \tcode{wai
 The execution of \tcode{notify_one} and \tcode{notify_all} shall be atomic. The
 execution of \tcode{wait}, \tcode{wait_for}, and \tcode{wait_until} shall be performed
 in three atomic parts:
-
 \begin{enumerate}
 \item the release of the mutex and entry into the waiting state;
 \item the unblocking of the wait; and
@@ -3875,7 +3870,6 @@ void notify_all_at_thread_exit(condition_variable& cond, unique_lock<mutex> lk);
 \begin{itemdescr}
 \pnum
 \requires \tcode{lk} is locked by the calling thread and either
-
 \begin{itemize}
 \item no other thread is waiting on \tcode{cond}, or
 \item \tcode{lk.mutex()} returns the same value for each of the lock arguments
@@ -4064,7 +4058,6 @@ template<class Predicate>
 \pnum
 \requires \tcode{lock.owns_lock()} is \tcode{true} and \tcode{lock.mutex()} is
 locked by the calling thread, and either
-
 \begin{itemize}
 \item no other thread is waiting on this \tcode{condition_variable} object or
 \item \tcode{lock.mutex()} returns the same value for each of the \tcode{lock}
@@ -4207,7 +4200,6 @@ template<class Clock, class Duration, class Predicate>
 \pnum
 \requires \tcode{lock.owns_lock()} is \tcode{true} and \tcode{lock.mutex()} is
 locked by the calling thread, and either
-
 \begin{itemize}
 \item no other thread is waiting on this \tcode{condition_variable} object or
 \item \tcode{lock.mutex()} returns the same value for each of the \tcode{lock}
@@ -5545,7 +5537,6 @@ in the description of those classes and functions that create such a state objec
 \pnum
 When an asynchronous return object or an asynchronous provider is said to release its
 shared state, it means:
-
 \begin{itemize}
 \item
 if the return object or provider holds the last reference to its shared state,
@@ -5562,11 +5553,9 @@ to the shared state.
 
 \pnum
 When an asynchronous provider is said to make its shared state ready, it means:
-
 \begin{itemize}
 \item
 first, the provider marks its shared state as ready; and
-
 \item
 second, the provider unblocks any execution agents waiting for its shared
 state to become ready.
@@ -5574,20 +5563,16 @@ state to become ready.
 
 \pnum
 When an asynchronous provider is said to abandon its shared state, it means:
-
 \begin{itemize}
 \item
 first, if that state is not ready, the provider
-
 \begin{itemize}
 \item
 stores an exception object of type \tcode{future_error} with an error condition of
 \tcode{broken_promise} within its shared state; and then
-
 \item
 makes its shared state ready;
 \end{itemize}
-
 \item
 second, the provider releases its shared state.
 \end{itemize}
@@ -5810,7 +5795,6 @@ makes that state ready\iref{futures.state}.
 
 \pnum
 \throws
-
 \begin{itemize}
 \item \tcode{future_error} if its shared state
 already has a stored value or exception, or
@@ -5871,7 +5855,6 @@ current thread have been destroyed.
 
 \pnum
 \throws
-
 \begin{itemize}
 \item \tcode{future_error} if its shared state
 already has a stored value or exception, or
@@ -6647,14 +6630,12 @@ so its completion might never happen. \end{note}
 \end{itemize}
 
 If the implementation chooses the \tcode{launch::async} policy,
-
 \begin{itemize}
 \item
 a call to a waiting function on an asynchronous return
 object that shares the shared state created by this \tcode{async} call shall
 block until the associated thread has completed, as if joined, or else time
 out\iref{thread.thread.member};
-
 \item
 the associated thread completion
 \deflinkx{synchronizes with}{synchronize with}{intro.multithread}
diff --git a/source/time.tex b/source/time.tex
index 8e7f6da4..b692fffa 100644
--- a/source/time.tex
+++ b/source/time.tex
@@ -988,7 +988,6 @@ SI definition is a measure of the quality of implementation. \end{note}
 
 \pnum
 A type \tcode{TC} meets the \oldconcept{TrivialClock} requirements if:
-
 \begin{itemize}
 \item \tcode{TC} meets the \oldconcept{Clock} requirements\iref{time.clock.req},
 
@@ -1149,7 +1148,6 @@ that a type cannot meet the \oldconcept{Clock} requirements is unspecified,
 except that as a minimum
 a type \tcode{T} shall not qualify as a \oldconcept{Clock}
 unless it meets all of the following conditions:
-
 \begin{itemize}
 \item the \grammarterm{qualified-id}s
 \tcode{T::rep},
@@ -3640,7 +3638,6 @@ template<class DestClock, class SourceClock, class Duration>
 This function does not participate in overload resolution unless
 at least one of the following clock time conversion expressions
 is well-formed:
-
 \begin{itemize}
 \item
 \begin{codeblock}
diff --git a/source/utilities.tex b/source/utilities.tex
index bfbf8893..edd88d04 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -1263,7 +1263,6 @@ initializes the $i^\text{th}$ element of \tcode{*this} with
 
 \pnum
 \remarks This constructor shall not participate in overload resolution unless
-
 \begin{itemize}
 \item
 \tcode{sizeof...(Types)} \tcode{==} \tcode{sizeof...(UTypes)}, and
@@ -1808,7 +1807,6 @@ Let \tcode{TE} denote \tcode{tuple_element_t<I, T>} of the \cv-unqualified type
 each of the three templates shall meet the \oldconcept{TransformationTrait}
 requirements\iref{meta.rqmts} with a member typedef \tcode{type} that names the following
 type:
-
 \begin{itemize}
 \item
 for the first specialization, \tcode{add_const_t<TE>},
@@ -5646,7 +5644,6 @@ or more bits is the sum of their bit values.
 \pnum
 The functions described in this subclause can report three kinds of
 errors, each associated with a distinct exception:
-
 \begin{itemize}
 \item
 an
@@ -6313,7 +6310,6 @@ Stores these characters in a temporary object \tcode{str} of type
 then evaluates the expression
 \tcode{x = bitset<N>(str)}.
 Characters are extracted and stored until any of the following occurs:
-
 \begin{itemize}
 \item
 \tcode{N} characters have been extracted and stored;
@@ -7214,7 +7210,6 @@ derived from \tcode{false_type}. A program may specialize this template to deriv
 \tcode{true_type} for a program-defined type \tcode{T} that does not have a nested
 \tcode{allocator_type} but nonetheless can be constructed with an allocator where
 either:
-
 \begin{itemize}
 \item the first argument of a constructor has type \tcode{allocator_arg_t} and the
 second argument has type \tcode{Alloc} or
@@ -9046,7 +9041,6 @@ lvalue of type \tcode{E} shall be well-formed and shall not throw an exception.
 
 \pnum
 \remarks This constructor shall not participate in overload resolution unless:
-
 \begin{itemize}
 \item \tcode{unique_ptr<U, E>::pointer} is implicitly convertible to \tcode{pointer},
 \item \tcode{U} is not an array type, and
@@ -9134,7 +9128,6 @@ of type \tcode{E} shall be well-formed and shall not throw an exception.
 
 \pnum
 \remarks This operator shall not participate in overload resolution unless:
-
 \begin{itemize}
 \item \tcode{unique_ptr<U, E>::pointer} is implicitly convertible to \tcode{pointer}, and
 \item \tcode{U} is not an array type, and
@@ -9384,7 +9377,6 @@ the constructor in the primary template that
 takes a single parameter of type \tcode{pointer}
 except that it additionally
 shall not participate in overload resolution unless
-
 \begin{itemize}
 \item \tcode{U} is the same type as \tcode{pointer}, or
 \item \tcode{pointer} is the same type as \tcode{element_type*},
@@ -9406,7 +9398,6 @@ the constructors in the primary template that
 take a parameter of type \tcode{pointer} and a second parameter
 except that they
 shall not participate in overload resolution unless either
-
 \begin{itemize}
 \item \tcode{U} is the same type as \tcode{pointer},
 \item \tcode{U} is \tcode{nullptr_t}, or
@@ -9427,7 +9418,6 @@ This constructor behaves the same as in the primary template,
 except that it shall not participate in overload resolution
 unless all of the following conditions hold,
 where \tcode{UP} is \tcode{unique_ptr<U, E>}:
-
 \begin{itemize}
 \item \tcode{U} is an array type, and
 \item \tcode{pointer} is the same type as \tcode{element_type*}, and
@@ -9455,7 +9445,6 @@ This operator behaves the same as in the primary template,
 except that it shall not participate in overload resolution
 unless all of the following conditions hold,
 where \tcode{UP} is \tcode{unique_ptr<U, E>}:
-
 \begin{itemize}
 \item \tcode{U} is an array type, and
 \item \tcode{pointer} is the same type as \tcode{element_type*}, and
@@ -9509,7 +9498,6 @@ This function behaves the same as
 the \tcode{reset} member of the primary template,
 except that it shall not participate in overload resolution
 unless either
-
 \begin{itemize}
 \item \tcode{U} is the same type as \tcode{pointer}, or
 \item \tcode{pointer} is the same type as \tcode{element_type*},
@@ -10424,7 +10412,6 @@ template<class U> bool owner_before(const weak_ptr<U>& b) const noexcept;
 \begin{itemdescr}
 \pnum
 \returns An unspecified value such that
-
 \begin{itemize}
 \item \tcode{x.owner_before(y)} defines a strict weak ordering as defined in~\ref{alg.sorting};
 
@@ -11232,7 +11219,6 @@ template<class U> bool owner_before(const weak_ptr<U>& b) const noexcept;
 \begin{itemdescr}
 \pnum
 \returns An unspecified value such that
-
 \begin{itemize}
 \item \tcode{x.owner_before(y)} defines a strict weak ordering as defined in~\ref{alg.sorting};
 
@@ -11299,7 +11285,6 @@ namespace std {
 \indexlibrarymember{operator()}{owner_less}%
 \pnum \tcode{operator()(x, y)} shall return \tcode{x.owner_before(y)}. \begin{note}
 Note that
-
 \begin{itemize}
 \item \tcode{operator()} defines a strict weak ordering as defined in~\ref{alg.sorting};
 
@@ -13880,7 +13865,6 @@ collectively referred to as \defnx{state entities}{state entity}.
 
 \pnum
 Define \indexedspan{\tcode{\placeholdernc{INVOKE}(f, t$_1$, t$_2$, $\dotsc$, t$_N$)}}{\indexlibrary{invoke@\tcode{\placeholder{INVOKE}}}} as follows:
-
 \begin{itemize}
 \item \tcode{(t$_1$.*f)(t$_2$, $\dotsc$, t$_N$)} when \tcode{f} is a pointer to a
 member function of a class \tcode{T}
@@ -15325,7 +15309,6 @@ treated as a placeholder type.
 
 \pnum
 In the text that follows:
-
 \begin{itemize}
 \item \tcode{g} is a value of the result of a \tcode{bind} invocation,
 \item \tcode{FD} is the type \tcode{decay_t<F>},
@@ -15407,7 +15390,6 @@ corresponding types $\tcode{V}_1$, $\tcode{V}_2$, $\dotsc$, $\tcode{V}_N$ depend
 types $\tcode{TD}_i$ derived from
 the call to \tcode{bind} and the
 cv-qualifiers \cv{} of the call wrapper \tcode{g} as follows:
-
 \begin{itemize}
 \item if $\tcode{TD}_i$ is \tcode{reference_wrapper<T>}, the
 argument is \tcode{$\tcode{td}_i$.get()} and its type $\tcode{V}_i$ is \tcode{T\&};
@@ -18050,7 +18032,6 @@ assert((is_same_v<remove_all_extents_t<int[][3]>, int>));
 
 \pnum
 \begin{note} A typical implementation would define \libentity{aligned_storage} as:
-
 \begin{codeblock}
 template<size_t Len, size_t Alignment>
 struct aligned_storage {
@@ -18270,9 +18251,7 @@ struct S {
 using PMF = void (S::*)(long) const;
 using PMD = char  S::*;
 \end{codeblock}
-
 the following assertions will hold:
-
 \begin{codeblock}
 static_assert(is_same_v<invoke_result_t<S, int>, short>);
 static_assert(is_same_v<invoke_result_t<S&, unsigned char, int&>, double>);
@@ -20392,7 +20371,6 @@ If present, \tcode{loc} is used for locale-specific formatting.
 \pnum
 \indextext{requirements!\idxnewoldconcept{Formatter}}%
 A type \tcode{F} meets the \newoldconceptdefn{Formatter} requirements if:
-
 \begin{itemize}
 \item
 it meets the
-- 
2.17.1


From 6064b0375bbd3f757ca509fb79d1a1386b0e8087 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Tue, 1 Aug 2017 14:38:23 +0200
Subject: [PATCH 16/26] Fix dubious \defnx that has see{} in it, and remove
 range index entry with the same key.

---
 source/iostreams.tex | 2 +-
 source/templates.tex | 5 ++---
 2 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/source/iostreams.tex b/source/iostreams.tex
index 8e4d3833..659b4ebd 100644
--- a/source/iostreams.tex
+++ b/source/iostreams.tex
@@ -12183,7 +12183,7 @@ without an intervening \grammarterm{root-directory} element.
 
 \pnum
 \indextext{path!normalization|(}%
-\defnx{Normalization}{normalization!path|see{path, normalization}} of a generic format pathname means:
+\defnx{Normalization}{normalization!path} of a generic format pathname means:
 
 \begin{enumerate}
 \item If the path is empty, stop.
diff --git a/source/templates.tex b/source/templates.tex
index c9f3f154..6954359a 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -1707,7 +1707,6 @@ and those of
 \end{example}
 
 \rSec2[temp.constr.normal]{Constraint normalization}
-\indextext{constraint!normalization|(}%
 
 \pnum
 The \defnx{normal form}{normal form!constraint} of an \grammarterm{expression} \tcode{E} is
@@ -1764,10 +1763,11 @@ whose parameter mapping is the identity mapping.
 \end{itemize}
 
 \pnum
+\indextext{normalization|see{constraint, normalization}}%
 The process of obtaining the normal form of a
 \grammarterm{constraint-expression}
 is called
-\defnx{normalization}{normalization!constraint|see{constraint, normalization}}.
+\defnx{normalization}{constraint!normalization}.
 \begin{note}
 Normalization of \grammarterm{constraint-expression}{s}
 is performed
@@ -1797,7 +1797,6 @@ The associated constraints of \#2 are
 The associated constraints of \#3 are
 \tcode{requires (T x) \{ ++x; \}} (with mapping $\tcode{T} \mapsto \tcode{U}$).
 \end{example}
-\indextext{constraint!normalization|)}
 
 \rSec2[temp.constr.order]{Partial ordering by constraints}
 \indextext{subsume|see{constraint, subsumption}}
-- 
2.17.1


From 75a3a7c243bdaec2ae7ea4b27271b70ce809752d Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Wed, 7 Nov 2018 01:56:12 +0100
Subject: [PATCH 17/26] Reuse \defnx in \defnadj.

---
 source/macros.tex | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/source/macros.tex b/source/macros.tex
index 4dce44f8..1b1efd26 100644
--- a/source/macros.tex
+++ b/source/macros.tex
@@ -200,7 +200,7 @@
 \newcommand{\defnx}[2]{\indexdefn{#2}\textit{#1}}
 % Compound defined term with 'see' for primary term.
 % Usage: \defnadj{trivial}{class}
-\newcommand{\defnadj}[2]{\indextext{#1 #2|see{#2, #1}}\indexdefn{#2!#1}\textit{#1 #2}}
+\newcommand{\defnadj}[2]{\indextext{#1 #2|see{#2, #1}}\defnx{#1 #2}{#2!#1}}
 
 %%--------------------------------------------------
 %% allow line break if needed for justification
-- 
2.17.1


From a0a12209f3b6b2e35aedcc085f9d108d51e76155 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 11 Nov 2018 02:27:17 +0100
Subject: [PATCH 18/26] Replace more non-codeblocks with outputblocks.

---
 source/iostreams.tex | 12 ++++++------
 source/locales.tex   | 12 ++++++------
 source/regex.tex     | 12 ++++++------
 source/support.tex   |  8 ++++----
 4 files changed, 22 insertions(+), 22 deletions(-)

diff --git a/source/iostreams.tex b/source/iostreams.tex
index 659b4ebd..27ca82f2 100644
--- a/source/iostreams.tex
+++ b/source/iostreams.tex
@@ -15289,16 +15289,16 @@ library functions called by the implementation shall have an \tcode{error_code}
 
 \pnum
 \begin{example} Given this directory structure:
-\begin{codeblock}
+\begin{outputblock}
 /dir1
   file1
   file2
   dir2
     file3
-\end{codeblock}
+\end{outputblock}
 
 Calling \tcode{copy("/dir1", "/dir3")} would result in:
-\begin{codeblock}
+\begin{outputblock}
 /dir1
   file1
   file2
@@ -15307,10 +15307,10 @@ Calling \tcode{copy("/dir1", "/dir3")} would result in:
 /dir3
   file1
   file2
-\end{codeblock}
+\end{outputblock}
 
 Alternatively, calling \tcode{copy("/dir1", "/dir3", copy_options::recursive)} would result in:
-\begin{codeblock}
+\begin{outputblock}
 /dir1
   file1
   file2
@@ -15321,7 +15321,7 @@ Alternatively, calling \tcode{copy("/dir1", "/dir3", copy_options::recursive)} w
   file2
   dir2
     file3
-\end{codeblock}
+\end{outputblock}
 \end{example}
 
 \end{itemdescr}
diff --git a/source/locales.tex b/source/locales.tex
index 9793e724..b8237c51 100644
--- a/source/locales.tex
+++ b/source/locales.tex
@@ -4593,16 +4593,16 @@ appears, the absolute numeric monetary value is required.
 
 \pnum
 The format of the numeric monetary value is a decimal number:
-\begin{codeblock}
+\begin{outputblock}
 value ::= units [ decimal-point [ digits ]] |
   decimal-point digits
-\end{codeblock}
+\end{outputblock}
 if
 \tcode{frac_digits()}
 returns a positive value, or
-\begin{codeblock}
+\begin{outputblock}
 value ::= units
-\end{codeblock}
+\end{outputblock}
 otherwise.
 The symbol
 \tcode{decimal-point}
@@ -4610,10 +4610,10 @@ indicates the character returned by
 \tcode{decimal_point()}.
 The other symbols are defined as follows:
 
-\begin{codeblock}
+\begin{outputblock}
 units ::= digits [ thousands-sep units ]
 digits ::= adigit [ digits ]
-\end{codeblock}
+\end{outputblock}
 
 In the syntax specification, the symbol
 \tcode{adigit}
diff --git a/source/regex.tex b/source/regex.tex
index 9fc139ec..b5c8560b 100644
--- a/source/regex.tex
+++ b/source/regex.tex
@@ -3464,7 +3464,7 @@ Instead they shall call the appropriate traits member function to achieve the re
 \pnum
 The following productions within the ECMAScript grammar are modified as follows:
 
-\begin{codeblock}
+\begin{outputblock}
 ClassAtom ::
   -
   ClassAtomNoDash
@@ -3474,12 +3474,12 @@ ClassAtom ::
 
 IdentityEscape ::
   SourceCharacter but not c
-\end{codeblock}
+\end{outputblock}
 
 \pnum
 The following new productions are then added:
 
-\begin{codeblock}
+\begin{outputblock}
 ClassAtomExClass ::
   [: ClassName :]
 
@@ -3495,7 +3495,7 @@ ClassName ::
 
 ClassNameCharacter ::
   SourceCharacter but not one of "." "=" ":"
-\end{codeblock}
+\end{outputblock}
 
 \pnum
 The productions \tcode{ClassAtomExClass}, \tcode{ClassAtomCollatingElement}
@@ -3519,7 +3519,7 @@ names shall be recognized:
 \tcode{upper}, \tcode{xdigit}, \tcode{d}, \tcode{s}, \tcode{w}.
 In addition the following expressions shall be equivalent:
 
-\begin{codeblock}
+\begin{outputblock}
 \d and [[:digit:]]
 
 \D and [^[:digit:]]
@@ -3531,7 +3531,7 @@ In addition the following expressions shall be equivalent:
 \w and [_[:alnum:]]
 
 \W and [^_[:alnum:]]
-\end{codeblock}
+\end{outputblock}
 
 \pnum
 \indexlibrary{regular expression traits!\idxcode{lookup_collatename}}%
diff --git a/source/support.tex b/source/support.tex
index 30ad7aef..761d1338 100644
--- a/source/support.tex
+++ b/source/support.tex
@@ -1802,18 +1802,18 @@ namespace std {
 
 \pnum
 The header also defines numerous macros of the form:
-\begin{codeblock}
+\begin{outputblock}
   INT_[FAST LEAST]{8 16 32 64}_MIN
   [U]INT_[FAST LEAST]{8 16 32 64}_MAX
   INT{MAX PTR}_MIN
   [U]INT{MAX PTR}_MAX
   {PTRDIFF SIG_ATOMIC WCHAR WINT}{_MAX _MIN}
   SIZE_MAX
-\end{codeblock}
+\end{outputblock}
 plus function macros of the form:
-\begin{codeblock}
+\begin{outputblock}
   [U]INT{8 16 32 64 MAX}_C
-\end{codeblock}
+\end{outputblock}
 
 \pnum
 The header defines all types and macros the same as
-- 
2.17.1


From 5fb5b6b8e9ac7143e3cbb207166530462c157892 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 11 Nov 2018 02:48:33 +0100
Subject: [PATCH 19/26] Introduce and use \noncxxtcode alternative to \tcode
 for non-C++ code.

---
 source/exceptions.tex |  4 +-
 source/lex.tex        | 96 +++++++++++++++++++++----------------------
 source/macros.tex     |  4 +-
 3 files changed, 53 insertions(+), 51 deletions(-)

diff --git a/source/exceptions.tex b/source/exceptions.tex
index 6f2b8687..10c0c1db 100644
--- a/source/exceptions.tex
+++ b/source/exceptions.tex
@@ -132,11 +132,11 @@ does not declare a variable.
 Any exception thrown while destroying
 \tcode{t2}
 will result in executing
-\tcode{handler 2};
+\noncxxtcode{handler 2};
 any exception thrown while destroying
 \tcode{t1}
 will result in executing
-\tcode{handler 1}.
+\noncxxtcode{handler 1}.
 \end{example}
 
 \pnum
diff --git a/source/lex.tex b/source/lex.tex
index 17b21984..796a023c 100644
--- a/source/lex.tex
+++ b/source/lex.tex
@@ -603,61 +603,61 @@ different for all identifiers, including external identifiers. }
 \begin{floattable}{Ranges of characters allowed}{lex.name.allowed}
 {lllll}
 \topline
-\tcode{00A8} &
-\tcode{00AA} &
-\tcode{00AD} &
-\tcode{00AF} &
-\tcode{00B2-00B5} \\
-\tcode{00B7-00BA} &
-\tcode{00BC-00BE} &
-\tcode{00C0-00D6} &
-\tcode{00D8-00F6} &
-\tcode{00F8-00FF} \\
-\tcode{0100-167F} &
-\tcode{1681-180D} &
-\tcode{180F-1FFF} &&\\
-\tcode{200B-200D} &
-\tcode{202A-202E} &
-\tcode{203F-2040} &
-\tcode{2054} &
-\tcode{2060-206F} \\
-\tcode{2070-218F} &
-\tcode{2460-24FF} &
-\tcode{2776-2793} &
-\tcode{2C00-2DFF} &
-\tcode{2E80-2FFF} \\
-\tcode{3004-3007} &
-\tcode{3021-302F} &
-\tcode{3031-D7FF} && \\
-\tcode{F900-FD3D} &
-\tcode{FD40-FDCF} &
-\tcode{FDF0-FE44} &
-\tcode{FE47-FFFD} & \\
-\tcode{10000-1FFFD} &
-\tcode{20000-2FFFD} &
-\tcode{30000-3FFFD} &
-\tcode{40000-4FFFD} &
-\tcode{50000-5FFFD} \\
-\tcode{60000-6FFFD} &
-\tcode{70000-7FFFD} &
-\tcode{80000-8FFFD} &
-\tcode{90000-9FFFD} &
-\tcode{A0000-AFFFD} \\
-\tcode{B0000-BFFFD} &
-\tcode{C0000-CFFFD} &
-\tcode{D0000-DFFFD} &
-\tcode{E0000-EFFFD} &
+\noncxxtcode{00A8} &
+\noncxxtcode{00AA} &
+\noncxxtcode{00AD} &
+\noncxxtcode{00AF} &
+\noncxxtcode{00B2-00B5} \\
+\noncxxtcode{00B7-00BA} &
+\noncxxtcode{00BC-00BE} &
+\noncxxtcode{00C0-00D6} &
+\noncxxtcode{00D8-00F6} &
+\noncxxtcode{00F8-00FF} \\
+\noncxxtcode{0100-167F} &
+\noncxxtcode{1681-180D} &
+\noncxxtcode{180F-1FFF} &&\\
+\noncxxtcode{200B-200D} &
+\noncxxtcode{202A-202E} &
+\noncxxtcode{203F-2040} &
+\noncxxtcode{2054} &
+\noncxxtcode{2060-206F} \\
+\noncxxtcode{2070-218F} &
+\noncxxtcode{2460-24FF} &
+\noncxxtcode{2776-2793} &
+\noncxxtcode{2C00-2DFF} &
+\noncxxtcode{2E80-2FFF} \\
+\noncxxtcode{3004-3007} &
+\noncxxtcode{3021-302F} &
+\noncxxtcode{3031-D7FF} && \\
+\noncxxtcode{F900-FD3D} &
+\noncxxtcode{FD40-FDCF} &
+\noncxxtcode{FDF0-FE44} &
+\noncxxtcode{FE47-FFFD} & \\
+\noncxxtcode{10000-1FFFD} &
+\noncxxtcode{20000-2FFFD} &
+\noncxxtcode{30000-3FFFD} &
+\noncxxtcode{40000-4FFFD} &
+\noncxxtcode{50000-5FFFD} \\
+\noncxxtcode{60000-6FFFD} &
+\noncxxtcode{70000-7FFFD} &
+\noncxxtcode{80000-8FFFD} &
+\noncxxtcode{90000-9FFFD} &
+\noncxxtcode{A0000-AFFFD} \\
+\noncxxtcode{B0000-BFFFD} &
+\noncxxtcode{C0000-CFFFD} &
+\noncxxtcode{D0000-DFFFD} &
+\noncxxtcode{E0000-EFFFD} &
 \\
 \end{floattable}
 
 \begin{floattable}{Ranges of characters disallowed initially (combining characters)}{lex.name.disallowed}
 {llll}
 \topline
-\tcode{0300-036F} &
+\noncxxtcode{0300-036F} &
 % FIXME: Unicode v7 adds 1AB0-1AFF
-\tcode{1DC0-1DFF} &
-\tcode{20D0-20FF} &
-\tcode{FE20-FE2F} \\
+\noncxxtcode{1DC0-1DFF} &
+\noncxxtcode{20D0-20FF} &
+\noncxxtcode{FE20-FE2F} \\
 \end{floattable}
 
 \pnum
diff --git a/source/macros.tex b/source/macros.tex
index 1b1efd26..348b98fb 100644
--- a/source/macros.tex
+++ b/source/macros.tex
@@ -328,6 +328,8 @@
 %% Produces 9 output characters.
 \newcommand{\commentellip}{\tcode{/* ...\ */}}
 
+\newcommand{\noncxxtcode}[1]{\tcode{#1}}
+
 %% Concepts
 \newcommand{\oldconcept}[1]{\textit{Cpp17#1}}
 \newcommand{\oldconceptdefn}[1]{\defn{Cpp17#1}}
@@ -341,7 +343,7 @@
 \newcommand{\libconcept}[1]{\tcode{#1}}
 
 %% Ranges
-\newcommand{\Range}[4]{\tcode{#1#3,\penalty2000{} #4#2}}
+\newcommand{\Range}[4]{\noncxxtcode{#1}\tcode{#3,\penalty2000{} #4}\noncxxtcode{#2}}
 \newcommand{\crange}[2]{\Range{[}{]}{#1}{#2}}
 \newcommand{\brange}[2]{\Range{(}{]}{#1}{#2}}
 \newcommand{\orange}[2]{\Range{(}{)}{#1}{#2}}
-- 
2.17.1


From 3cd79ed46e292effdd5a78314118d7b2d44cecb5 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 11 Nov 2018 02:56:38 +0100
Subject: [PATCH 20/26] Remove weird extra curlies after \placeholder.

Given
   "\placeholder{x}{"}
the closing quote appears at a different level than the opening quote.
As a result, the highlighting code doesn't recognize it as a string literal.
---
 source/lex.tex | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/source/lex.tex b/source/lex.tex
index 796a023c..6df58cae 100644
--- a/source/lex.tex
+++ b/source/lex.tex
@@ -1844,7 +1844,7 @@ or a numeric literal operator template\iref{over.literal} but not both.
 If \placeholder{S} contains a raw literal operator,
 the literal \placeholder{L} is treated as a call of the form
 \begin{codeblock}
-operator "" @\placeholder{X}@(@"\placeholder{n}{"}@)
+operator "" @\placeholder{X}@(@"\placeholder{n}"@)
 \end{codeblock}
 Otherwise (\placeholder{S} contains a numeric literal operator template),
 \placeholder{L} is treated as a call of the form
@@ -1868,7 +1868,7 @@ or a numeric literal operator template\iref{over.literal} but not both.
 If \placeholder{S} contains a raw literal operator,
 the \grammarterm{literal} \placeholder{L} is treated as a call of the form
 \begin{codeblock}
-operator "" @\placeholder{X}@(@"\placeholder{f}{"}@)
+operator "" @\placeholder{X}@(@"\placeholder{f}"@)
 \end{codeblock}
 Otherwise (\placeholder{S} contains a numeric literal operator template),
 \placeholder{L} is treated as a call of the form
-- 
2.17.1


From dfd4871f064b29a0ecc9bd98f60344dc889d9456 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 11 Nov 2018 03:31:07 +0100
Subject: [PATCH 21/26] Simplify \xname.

This helps the cxxdraft-htmlgen syntax highlighting code recognize __has_include and __has_cpp_attribute.
---
 source/macros.tex | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/source/macros.tex b/source/macros.tex
index 348b98fb..e0ff6f11 100644
--- a/source/macros.tex
+++ b/source/macros.tex
@@ -320,7 +320,7 @@
 %% Double underscore
 \newcommand{\ungap}{\kern.5pt}
 \newcommand{\unun}{\textunderscore\ungap\textunderscore}
-\newcommand{\xname}[1]{\tcode{\unun\ungap#1}}
+\newcommand{\xname}[1]{\tcode{__#1}}
 \newcommand{\mname}[1]{\tcode{\unun\ungap#1\ungap\unun}}
 
 %% An elided code fragment, /* ... */, that is formatted as code.
-- 
2.17.1


From b6686fc12e6901662c1d5a354e3555ae42e55380 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sun, 11 Nov 2018 15:23:33 +0100
Subject: [PATCH 22/26] Use \textnormal{..} and \textit{..} instead of
 \normalfont and \itshape.

The stateful ones are harder to handle.
---
 source/basic.tex | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/source/basic.tex b/source/basic.tex
index a5fc29a6..b56aff6d 100644
--- a/source/basic.tex
+++ b/source/basic.tex
@@ -245,10 +245,10 @@ struct C {
   C() : s() { }
   C(const C& x): s(x.s) { }
   C(C&& x): s(static_cast<std::string&&>(x.s)) { }
-      @\rlap{\normalfont\itshape //}@    : s(std::move(x.s)) { }
+      @\rlap{\textnormal{\textit{//}}}@    : s(std::move(x.s)) { }
   C& operator=(const C& x) { s = x.s; return *this; }
   C& operator=(C&& x) { s = static_cast<std::string&&>(x.s); return *this; }
-      @\rlap{\normalfont\itshape //}@                { s = std::move(x.s); return *this; }
+      @\rlap{\textnormal{\textit{//}}}@                { s = std::move(x.s); return *this; }
   ~C() { }
 };
 \end{codeblock}
-- 
2.17.1


From 913a27c6546b236ff5d1eaf287fde3103f23121c Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sat, 17 Nov 2018 21:11:41 +0100
Subject: [PATCH 23/26] Replace a \term with a \defn.

---
 source/utilities.tex | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/source/utilities.tex b/source/utilities.tex
index edd88d04..79bba800 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -16266,7 +16266,7 @@ arguments that help define the relationship being described. It shall
 be \oldconcept{DefaultConstructible}, \oldconcept{CopyConstructible},
 and publicly and unambiguously derived, directly or
 indirectly, from
-its \term{base characteristic}, which is a specialization
+its \defn{base characteristic}, which is a specialization
 of the template
 \linkx{\tcode{integral_constant}}{\idxcode{integral_constant}}{meta.help}, with
 the arguments to the template \tcode{integral_constant} determined by the
-- 
2.17.1


From 2ec1530654dcb3e61bc05b90ab9a72040c527ac1 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Sat, 19 Jan 2019 16:53:04 +0100
Subject: [PATCH 24/26] Replace \term{n} with $n$.

---
 source/expressions.tex | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/source/expressions.tex b/source/expressions.tex
index aba8bc0d..bdc18b96 100644
--- a/source/expressions.tex
+++ b/source/expressions.tex
@@ -4519,8 +4519,8 @@ applying \tcode{sizeof} to the subobject, due to virtual base classes
 and less strict padding requirements on potentially-overlapping subobjects.}
 \indextext{array!\idxcode{sizeof}}%
 When applied to an array, the result is the total number of bytes in the
-array. This implies that the size of an array of \term{n} elements is
-\term{n} times the size of an element.
+array. This implies that the size of an array of $n$ elements is
+$n$ times the size of an element.
 
 \pnum
 The lvalue-to-rvalue\iref{conv.lval},
-- 
2.17.1


From 0b79c291db0da638db0fda78732174e47469a01f Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Wed, 13 Mar 2019 21:04:43 +0100
Subject: [PATCH 25/26] [temp.deduct.call] Make sure that when math superscript
 is suffixed to \texttt, the \texttt itself is included in the formula passed
 to MathJax.

Otherwise cxxdraft-htmlgen passes a lone math superscript to MathJax and then applies our own \texttt styling to the result, which produces
a different result from letting MathJax render and style the whole thing.
---
 source/templates.tex | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/source/templates.tex b/source/templates.tex
index 6954359a..f298c96f 100644
--- a/source/templates.tex
+++ b/source/templates.tex
@@ -7446,7 +7446,7 @@ with the type of the corresponding argument of the call (call it
 \tcode{A})
 as described below.
 If removing references and cv-qualifiers from \tcode{P} gives
-\tcode{std::initializer_list<P$^{\prime}$>}
+$\tcode{std::initializer_list<P}^{\prime}\tcode{>}$
 or $\tcode{P}'\tcode{[N]}$
 for some $\tcode{P}'$ and \tcode{N} and the
 argument is a non-empty initializer list\iref{dcl.init.list}, then deduction is
-- 
2.17.1


From 9504281d36c76922a08efbfb7743d8c77dac4c38 Mon Sep 17 00:00:00 2001
From: Eelis van der Weegen <eelis@eelis.net>
Date: Mon, 5 Aug 2019 14:31:01 +0200
Subject: [PATCH 26/26] Move some macros to macros.tex.

---
 source/macros.tex    | 6 ++++++
 source/utilities.tex | 6 ------
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/source/macros.tex b/source/macros.tex
index e0ff6f11..f4dfb9d1 100644
--- a/source/macros.tex
+++ b/source/macros.tex
@@ -582,6 +582,12 @@
 \newenvironment{defnote}{\addtocounter{termnote}{1}\noteintro{Note \thetermnote{} to entry}}{\noteoutro{note}\space}
 
 
+% FIXME: For now, keep the format grammar productions out of the index, since
+% they conflict with the main grammar.
+% Consider renaming these en masse (to fmt-* ?) to avoid this problem.
+\newcommand{\fmtnontermdef}[1]{{\BnfNontermshape#1\itcorr}\textnormal{:}}
+\newcommand{\fmtgrammarterm}[1]{\gterm{#1}}
+
 %%-------------------------------------------------
 %% cxxdraft-htmlgen macros
 
diff --git a/source/utilities.tex b/source/utilities.tex
index 79bba800..982c6536 100644
--- a/source/utilities.tex
+++ b/source/utilities.tex
@@ -19519,12 +19519,6 @@ namespace std {
 
 \rSec3[format.string.general]{In general}
 
-% FIXME: For now, keep the format grammar productions out of the index, since
-% they conflict with the main grammar.
-% Consider renaming these en masse (to fmt-* ?) to avoid this problem.
-\newcommand{\fmtnontermdef}[1]{{\BnfNontermshape#1\itcorr}\textnormal{:}}
-\newcommand{\fmtgrammarterm}[1]{\gterm{#1}}
-
 \pnum
 A \defn{format string} is a (possibly empty) sequence of
 \defnx{replacement fields}{replacement field!format string},
-- 
2.17.1

