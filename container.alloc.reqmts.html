<!DOCTYPE html><html lang='en'><head><title>[container.alloc.reqmts]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>24</a> Containers library <a class='abbr_ref' href='./#containers'>[containers]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>24.2</a> Requirements <a class='abbr_ref' href='container.requirements#container.alloc.reqmts'>[container.requirements]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>24.2.2</a> General containers <a class='abbr_ref' href='container.gen.reqmts#container.alloc.reqmts'>[container.gen.reqmts]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>24.2.2.5</a> Allocator-aware containers <a class='abbr_ref'>[container.alloc.reqmts]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L857'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>All of the containers defined in <a href='containers' title='24&emsp;Containers library'>[containers]</a> and in <a href='basic.string' title='23.4.3&emsp;Class template basic_&shy;string'>[basic.<span class='shy'></span>string]</a> except <span class='texttt'>array</span>
meet the additional requirements of an <a class='hidden_link' href='#def:container,allocator-aware' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='def:container,allocator-aware'><i >allocator-aware container</i></span></a>,
as described below<a class='hidden_link' href='#1.sentence-1'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L862'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>Given an allocator type <span class='texttt'>A</span>
and given a container type <span class='texttt'>X</span> having a <span class='texttt'>value_&shy;type</span> identical to <span class='texttt'>T</span>
and an <span class='texttt'>allocator_&shy;type</span> identical to <span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>rebind_&shy;alloc<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>
and given an lvalue <span class='texttt'>m</span> of type <span class='texttt'>A</span>,
a pointer <span class='texttt'>p</span> of type <span class='texttt'>T<span class='operator'>*</span></span>,
an expression <span class='texttt'>v</span> of type (possibly <span id=':const'><span class='texttt'><span class='keyword'>const</span></span></span>) <span class='texttt'>T</span>,
and an rvalue <span class='texttt'>rv</span> of type <span class='texttt'>T</span>,
the following terms are defined<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If <span class='texttt'>X</span>
is not allocator-aware or is a specialization of <span class='texttt'>basic_&shy;string</span>,
the terms below are defined as if <span class='texttt'>A</span> were
<span class='texttt'>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> â€” no allocator object needs to be created
and user specializations of <span class='texttt'>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> are not instantiated:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div><span class='texttt'>T</span> is <a class='hidden_link' href='#def:Cpp17DefaultInsertable_into_X' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='def:Cpp17DefaultInsertable_into_X'><i ><i >Cpp17DefaultInsertable</i> into <span class='texttt'>X</span></i></span></a>
means that the following expression is well-formed:
<span class='codeblock'>allocator_traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>construct<span class='parenthesis'>(</span>m, p<span class='parenthesis'>)</span>
</span></li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div>An element of <span class='texttt'>X</span> is <a class='hidden_link' href='#def:default-inserted' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='def:default-inserted'><i >default-inserted</i></span></a> if it is initialized
by evaluation of the expression
<span class='codeblock'>allocator_traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>construct<span class='parenthesis'>(</span>m, p<span class='parenthesis'>)</span>
</span>
where <span class='texttt'>p</span> is the address of the uninitialized storage for the element
allocated within <span class='texttt'>X</span>.</li><li id='2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.3'>(2.3)</a></div><span class='texttt'>T</span> is <a class='hidden_link' href='#def:Cpp17MoveInsertable_into_X' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='def:Cpp17MoveInsertable_into_X'><i ><i >Cpp17MoveInsertable</i> into <span class='texttt'>X</span></i></span></a>
means that the following expression
is well-formed:
<span class='codeblock'>allocator_traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>construct<span class='parenthesis'>(</span>m, p, rv<span class='parenthesis'>)</span>
</span>
and its evaluation causes the following postcondition to hold: The value
of <span class='texttt'><span class='operator'>*</span>p</span> is equivalent to the value of <span class='texttt'>rv</span> before the evaluation. <div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='2.3.sentence-2' class='sentence'><span class='texttt'>rv</span> remains a valid object<a class='hidden_link' href='#2.3.sentence-2'>.</a></div> <div id='2.3.sentence-3' class='sentence'>Its state is unspecified</div> â€”&nbsp;<i>end note</i>]</div></div></div></li><li id='2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.4'>(2.4)</a></div><span class='texttt'>T</span> is <a class='hidden_link' href='#def:Cpp17CopyInsertable_into_X' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='def:Cpp17CopyInsertable_into_X'><i ><i >Cpp17CopyInsertable</i> into <span class='texttt'>X</span></i></span></a>
means that, in addition to <span class='texttt'>T</span> being <i >Cpp17MoveInsertable</i> into
<span class='texttt'>X</span>, the following expression is well-formed:
<span class='codeblock'>allocator_traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>construct<span class='parenthesis'>(</span>m, p, v<span class='parenthesis'>)</span>
</span>
and its evaluation causes the following postcondition to hold:
The value of <span class='texttt'>v</span> is unchanged and is equivalent to <span class='texttt'><span class='operator'>*</span>p</span>.</li><li id='2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.5'>(2.5)</a></div><span class='texttt'>T</span> is
<a class='hidden_link' href='#def:Cpp17EmplaceConstructible_into_X_from_args' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='def:Cpp17EmplaceConstructible_into_X_from_args'><i ><i >Cpp17EmplaceConstructible</i> into <span class='texttt'>X</span> from <span class='texttt'>args</span></i></span></a>,
for zero
or more arguments <span class='texttt'>args</span>, means that the following expression is well-formed:
<span class='codeblock'>allocator_traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>construct<span class='parenthesis'>(</span>m, p, args<span class='parenthesis'>)</span>
</span></li><li id='2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.6'>(2.6)</a></div><span class='texttt'>T</span> is
<a class='hidden_link' href='#def:Cpp17Erasable_from_X' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='def:Cpp17Erasable_from_X'><i ><i >Cpp17Erasable</i> from <span class='texttt'>X</span></i></span></a>
means that the following expression is well-formed:
<span class='codeblock'>allocator_traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>destroy<span class='parenthesis'>(</span>m, p<span class='parenthesis'>)</span>
</span></li></ul></div></div><div class='texpara'><div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>: <div id='2.sentence-3' class='sentence'>A container calls <span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>construct<span class='parenthesis'>(</span>m, p, args<span class='parenthesis'>)</span></span>
to construct an element at <span class='texttt'>p</span> using <span class='texttt'>args</span>,
with <span class='texttt'>m <span class='operator'>=</span><span class='operator'>=</span> get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>The default <span class='texttt'>construct</span> in <span class='texttt'>allocator</span> will
call <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>new</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>p<span class='parenthesis'>)</span> T<span class='parenthesis'>(</span>args<span class='parenthesis'>)</span></span>,
but specialized allocators can choose a different definition<a class='hidden_link' href='#2.sentence-4'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L947'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>The following exposition-only concept is used in the definition of containers:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>concept</span> <a class='hidden_link' href='#concept:container-compatible-range' title='24.2.2.5&emsp;Allocator-aware containers&emsp;[container.alloc.reqmts]'><span id='concept:container-compatible-range'><span class='tcode_in_codeblock'><i >container-compatible-range</i></span></span></a> <span class='operator'>=</span>    <span class='comment'>// <i >exposition only</i></span>
  ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range'><span class='tcode_in_codeblock'>input_&shy;range</span></span></a><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='tcode_in_codeblock'>convertible_&shy;to</span></span></a><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span>, T<span class='anglebracket'>&gt;</span>;
</span></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L955'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>In this subclause,
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.1'>(4.1)</a></div><span class='texttt'>X</span> denotes an allocator-aware container class
with a <span class='texttt'>value_&shy;type</span> of <span class='texttt'>T</span> using an allocator of type <span class='texttt'>A</span>,</li><li id='4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.2'>(4.2)</a></div><span class='texttt'>u</span> denotes a variable,</li><li id='4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.3'>(4.3)</a></div><span class='texttt'>a</span> and <span class='texttt'>b</span> denote non-const lvalues of type <span class='texttt'>X</span>,</li><li id='4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.4'>(4.4)</a></div><span class='texttt'>c</span> denotes an lvalue of type <span class='texttt'><span id=':const_'><span class='texttt'><span class='keyword'>const</span></span></span> X</span>,</li><li id='4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.5'>(4.5)</a></div><span class='texttt'>t</span> denotes an lvalue or a const rvalue of type <span class='texttt'>X</span>,</li><li id='4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.6'>(4.6)</a></div><span class='texttt'>rv</span> denotes a non-const rvalue of type <span class='texttt'>X</span>, and</li><li id='4.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.7'>(4.7)</a></div><span class='texttt'>m</span> is a value of type <span class='texttt'>A</span><a class='hidden_link' href='#4.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='4.sentence-2' class='sentence'>A type <span class='texttt'>X</span> meets the allocator-aware container requirements
if <span class='texttt'>X</span> meets the container requirements and
the following types, statements, and expressions are well-formed and have
the specified semantics<a class='hidden_link' href='#4.sentence-2'>.</a></div></div></div><div class='texpara'><div id='lib:unordered_multimap,allocator_type'><div id='lib:unordered_multiset,allocator_type'><div id='lib:unordered_set,allocator_type'><div id='lib:unordered_map,allocator_type'><div id='lib:multimap,allocator_type'><div id='lib:multiset,allocator_type'><div id='lib:set,allocator_type'><div id='lib:map,allocator_type'><div id='lib:vector,allocator_type'><div id='lib:list,allocator_type'><div id='lib:forward_list,allocator_type'><div id='lib:deque,allocator_type'><div id='lib:array,allocator_type'><div id='lib:allocator_type,containers'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:allocator_type,containers'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>typename</span> X<span class='operator'>::</span>allocator_type
</code></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1003'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><i >Result</i>: <span class='texttt'>A</span></div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1007'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>allocator_&shy;type<span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span> is the same as <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span><a class='hidden_link' href='#6.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:unordered_multimap,get_allocator'><div id='lib:unordered_multiset,get_allocator'><div id='lib:unordered_set,get_allocator'><div id='lib:unordered_map,get_allocator'><div id='lib:multimap,get_allocator'><div id='lib:multiset,get_allocator'><div id='lib:set,get_allocator'><div id='lib:map,get_allocator'><div id='lib:vector,get_allocator'><div id='lib:list,get_allocator'><div id='lib:forward_list,get_allocator'><div id='lib:deque,get_allocator'><div id='lib:array,get_allocator'><div id='lib:get_allocator,containers'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get_allocator,containers'>ðŸ”—</a></div><code class='itemdeclcode'>c<span class='operator'>.</span>get_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</code></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1018'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'><i >Result</i>: <span class='texttt'>A</span></div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1022'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'><i >Complexity</i>: Constant<a class='hidden_link' href='#8.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>X u;
X u <span class='operator'>=</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1033'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>A</span> meets the <i >Cpp17DefaultConstructible</i> requirements<a class='hidden_link' href='#9.sentence-1'>.</a></div></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1037'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>u<span class='operator'>.</span>empty<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> returns <span class='texttt'><span class='literal'>true</span></span>, <span class='texttt'>u<span class='operator'>.</span>get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#10.sentence-1'>.</a></div></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1041'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'><i >Complexity</i>: Constant<a class='hidden_link' href='#11.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>X u<span class='parenthesis'>(</span>m<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1051'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>u<span class='operator'>.</span>empty<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> returns <span class='texttt'><span class='literal'>true</span></span>, <span class='texttt'>u<span class='operator'>.</span>get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> m</span><a class='hidden_link' href='#12.sentence-1'>.</a></div></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1055'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'><i >Complexity</i>: Constant<a class='hidden_link' href='#13.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>X u<span class='parenthesis'>(</span>t, m<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1065'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>T</span> is <i >Cpp17CopyInsertable</i> into <span class='texttt'>X</span><a class='hidden_link' href='#14.sentence-1'>.</a></div></div></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1069'>#</a></div><div class='texpara'><div id='15.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>u <span class='operator'>=</span><span class='operator'>=</span> t</span>, <span class='texttt'>u<span class='operator'>.</span>get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> m</span></div></div></div></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1073'>#</a></div><div class='texpara'><div id='16.sentence-1' class='sentence'><i >Complexity</i>: Linear<a class='hidden_link' href='#16.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'>X u<span class='parenthesis'>(</span>rv<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1083'>#</a></div><div class='texpara'><div id='17.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>u</span> has the same elements as <span class='texttt'>rv</span> had before this construction;
the value of <span class='texttt'>u<span class='operator'>.</span>get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is the same as
the value of <span class='texttt'>rv<span class='operator'>.</span>get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> before this construction<a class='hidden_link' href='#17.sentence-1'>.</a></div></div></div></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1089'>#</a></div><div class='texpara'><div id='18.sentence-1' class='sentence'><i >Complexity</i>: Constant<a class='hidden_link' href='#18.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:7'>ðŸ”—</a></div><code class='itemdeclcode'>X u<span class='parenthesis'>(</span>rv, m<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='19'><div class='marginalizedparent'><a class='marginalized' href='#19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1099'>#</a></div><div class='texpara'><div id='19.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>T</span> is <i >Cpp17MoveInsertable</i> into <span class='texttt'>X</span><a class='hidden_link' href='#19.sentence-1'>.</a></div></div></div></div><div class='para' id='20'><div class='marginalizedparent'><a class='marginalized' href='#20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1103'>#</a></div><div class='texpara'><div id='20.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>u</span> has the same elements, or copies of the elements,
that <span class='texttt'>rv</span> had before this construction,
<span class='texttt'>u<span class='operator'>.</span>get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> m</span><a class='hidden_link' href='#20.sentence-1'>.</a></div></div></div></div><div class='para' id='21'><div class='marginalizedparent'><a class='marginalized' href='#21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1109'>#</a></div><div class='texpara'><div id='21.sentence-1' class='sentence'><i >Complexity</i>: Constant if <span class='texttt'>m <span class='operator'>=</span><span class='operator'>=</span> rv<span class='operator'>.</span>get_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, otherwise linear<a class='hidden_link' href='#21.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:8'>ðŸ”—</a></div><code class='itemdeclcode'>a <span class='operator'>=</span> t
</code></div></div><div class='para' id='22'><div class='marginalizedparent'><a class='marginalized' href='#22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1119'>#</a></div><div class='texpara'><div id='22.sentence-1' class='sentence'><i >Result</i>: <span class='texttt'>X<span class='operator'>&amp;</span></span><a class='hidden_link' href='#22.sentence-1'>.</a></div></div></div></div><div class='para' id='23'><div class='marginalizedparent'><a class='marginalized' href='#23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1123'>#</a></div><div class='texpara'><div id='23.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>T</span> is <i >Cpp17CopyInsertable</i> into <span class='texttt'>X</span> and
<i >Cpp17CopyAssignable</i><a class='hidden_link' href='#23.sentence-1'>.</a></div></div></div></div><div class='para' id='24'><div class='marginalizedparent'><a class='marginalized' href='#24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1128'>#</a></div><div class='texpara'><div id='24.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>a <span class='operator'>=</span><span class='operator'>=</span> t</span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#24.sentence-1'>.</a></div></div></div></div><div class='para' id='25'><div class='marginalizedparent'><a class='marginalized' href='#25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1132'>#</a></div><div class='texpara'><div id='25.sentence-1' class='sentence'><i >Complexity</i>: Linear<a class='hidden_link' href='#25.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:unordered_multimap,operator='><div id='lib:unordered_multiset,operator='><div id='lib:unordered_set,operator='><div id='lib:unordered_map,operator='><div id='lib:multimap,operator='><div id='lib:multiset,operator='><div id='lib:set,operator='><div id='lib:map,operator='><div id='lib:vector,operator='><div id='lib:list,operator='><div id='lib:forward_list,operator='><div id='lib:deque,operator='><div id='lib:array,operator='><div id='lib:operator=,containers'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,containers'>ðŸ”—</a></div><code class='itemdeclcode'>a <span class='operator'>=</span> rv
</code></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class='para' id='26'><div class='marginalizedparent'><a class='marginalized' href='#26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1143'>#</a></div><div class='texpara'><div id='26.sentence-1' class='sentence'><i >Result</i>: <span class='texttt'>X<span class='operator'>&amp;</span></span><a class='hidden_link' href='#26.sentence-1'>.</a></div></div></div></div><div class='para' id='27'><div class='marginalizedparent'><a class='marginalized' href='#27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1147'>#</a></div><div class='texpara'><div id='27.sentence-1' class='sentence'><i >Preconditions</i>: If
<span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>allocator_&shy;type<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>propagate_&shy;on_&shy;container_&shy;move_&shy;assignment<span class='operator'>&#x200b;::&#x200b;</span>value</span>
is <span class='texttt'><span class='literal'>false</span></span>,
<span class='texttt'>T</span> is <i >Cpp17MoveInsertable</i> into <span class='texttt'>X</span> and
<i >Cpp17MoveAssignable</i><a class='hidden_link' href='#27.sentence-1'>.</a></div></div></div></div><div class='para' id='28'><div class='marginalizedparent'><a class='marginalized' href='#28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1155'>#</a></div><div class='texpara'><div id='28.sentence-1' class='sentence'><i >Effects</i>: All existing elements of <span class='texttt'>a</span> are either move assigned to or destroyed<a class='hidden_link' href='#28.sentence-1'>.</a></div></div></div></div><div class='para' id='29'><div class='marginalizedparent'><a class='marginalized' href='#29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1159'>#</a></div><div class='texpara'><div id='29.sentence-1' class='sentence'><i >Postconditions</i>: If <span class='texttt'>a</span> and <span class='texttt'>rv</span> do not refer to the same object,
<span class='texttt'>a</span> is equal to the value that <span class='texttt'>rv</span> had before this assignment<a class='hidden_link' href='#29.sentence-1'>.</a></div></div></div></div><div class='para' id='30'><div class='marginalizedparent'><a class='marginalized' href='#30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1164'>#</a></div><div class='texpara'><div id='30.sentence-1' class='sentence'><i >Complexity</i>: Linear<a class='hidden_link' href='#30.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:unordered_multimap,swap'><div id='lib:unordered_multiset,swap'><div id='lib:unordered_set,swap'><div id='lib:unordered_map,swap'><div id='lib:multimap,swap'><div id='lib:multiset,swap'><div id='lib:set,swap'><div id='lib:map,swap'><div id='lib:vector,swap'><div id='lib:list,swap'><div id='lib:forward_list,swap'><div id='lib:deque,swap'><div id='lib:array,swap'><div id='lib:swap,containers'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,containers'>ðŸ”—</a></div><code class='itemdeclcode'>a<span class='operator'>.</span>swap<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>
</code></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class='para' id='31'><div class='marginalizedparent'><a class='marginalized' href='#31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1175'>#</a></div><div class='texpara'><div id='31.sentence-1' class='sentence'><i >Result</i>: <span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span></div></div></div></div><div class='para' id='32'><div class='marginalizedparent'><a class='marginalized' href='#32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1179'>#</a></div><div class='texpara'><div id='32.sentence-1' class='sentence'><i >Effects</i>: Exchanges the contents of <span class='texttt'>a</span> and <span class='texttt'>b</span><a class='hidden_link' href='#32.sentence-1'>.</a></div></div></div></div><div class='para' id='33'><div class='marginalizedparent'><a class='marginalized' href='#33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1183'>#</a></div><div class='texpara'><div id='33.sentence-1' class='sentence'><i >Complexity</i>: Constant<a class='hidden_link' href='#33.sentence-1'>.</a></div></div></div></div><div class='para' id='34'><div class='marginalizedparent'><a class='marginalized' href='#34'>34</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3c7ae9b70161c7b5a141969b2410c7d8d22ad8e9/source/containers.tex#L1188'>#</a></div><div class='texpara'><div id='34.sentence-1' class='sentence'>The behavior of certain container member functions and deduction guides
depends on whether types qualify as input iterators or allocators<a class='hidden_link' href='#34.sentence-1'>.</a></div> <div id='34.sentence-2' class='sentence'>The extent to which an implementation determines that a type cannot be an input
iterator is unspecified, except that as a minimum integral types shall not qualify
as input iterators<a class='hidden_link' href='#34.sentence-2'>.</a></div> <div id='34.sentence-3' class='sentence'>Likewise, the extent to which an implementation determines that a type cannot be
an allocator is unspecified, except that as a minimum a type <span class='texttt'>A</span> shall not qualify
as an allocator unless it meets both of the following conditions:
<ul class='itemize'><li id='34.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#34.1'>(34.1)</a></div><div class='texpara'><div id='34.1.sentence-1' class='sentence'>The <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a> <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span>
is valid and denotes a type (<a href='temp.deduct' title='13.10.3&emsp;Template argument deduction'>[temp.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#34.1.sentence-1'>.</a></div></div></li><li id='34.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#34.2'>(34.2)</a></div><div class='texpara'><div id='34.2.sentence-1' class='sentence'>The expression <span class='texttt'>declval<span class='anglebracket'>&lt;</span>A<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>allocate<span class='parenthesis'>(</span>size_&shy;t<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span></span>
is well-formed when treated as an unevaluated operand<a class='hidden_link' href='#34.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div></body></html>