<!DOCTYPE html><html lang='en'><head><title>[basic.lookup.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>6.5</a> Name lookup <a class='abbr_ref' href='basic.lookup#general'>[basic.lookup]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>6.5.1</a> General <a class='abbr_ref'>[basic.lookup.general]</a></h3><div class='texpara'></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/basic.tex#L1481'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The name lookup rules apply uniformly to all names (including
<a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>),
<a href='namespace.def.general#nt:namespace-name' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name'><span class='textsf'><i >namespace-name</i></span></span></a><i >s</i> (<a href='basic.namespace' title='9.8&emsp;Namespaces'>[basic.<span class='shy'></span>namespace]</a>), and
<a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name'><span class='textsf'><i >class-name</i></span></span></a><i >s</i> (<a href='class.name' title='11.3&emsp;Class names'>[class.<span class='shy'></span>name]</a>)) wherever the grammar allows
such names in the context discussed by a particular rule<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Name lookup
associates the use of a name with a set of declarations (<a href='basic.def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>) of
that name<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Unless otherwise specified,
the program is ill-formed if no declarations are found<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>If the declarations found by name lookup
all denote functions or function templates,
the declarations are said to form an <a class='hidden_link' href='#def:overload_set' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:overload_set'><i >overload set</i></span></a><a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>Otherwise,
if the declarations found by name lookup do not all denote the same entity,
<a class='index' id=':lookup,ambiguous'></a>they are <a class='hidden_link' href='#def:ambiguous' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:ambiguous'><i >ambiguous</i></span></a> and the program is ill-formed<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>Overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)
takes place after name lookup has succeeded<a class='hidden_link' href='#1.sentence-6'>.</a></div> <div id='1.sentence-7' class='sentence'>The access rules (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)
are considered only once name lookup and
function overload resolution (if applicable) have succeeded<a class='hidden_link' href='#1.sentence-7'>.</a></div> <div id='1.sentence-8' class='sentence'>Only after
name lookup, function overload resolution (if applicable) and access
checking have succeeded
are the semantic properties introduced by the declarations
used in further processing<a class='hidden_link' href='#1.sentence-8'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/basic.tex#L1507'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A program point <span class='math'><span class='mathalpha'>P</span></span> is said to follow
any declaration in the same translation unit
whose locus (<a href='basic.scope.pdecl' title='6.4.2&emsp;Point of declaration'>[basic.<span class='shy'></span>scope.<span class='shy'></span>pdecl]</a>) is before <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='2.sentence-2' class='sentence'>The declaration might appear in a scope that does not contain <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='2.sentence-3' class='sentence'>A declaration <span class='math'><span class='mathalpha'>X</span></span> <a class='hidden_link' href='#def:declaration,precede' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:declaration,precede'><i >precedes</i></span></a>
a program point <span class='math'><span class='mathalpha'>P</span></span> in a translation unit <span class='math'><span class='mathalpha'>L</span></span>
if <span class='math'><span class='mathalpha'>P</span></span> follows <span class='math'><span class='mathalpha'>X</span></span>, <span class='math'><span class='mathalpha'>X</span></span> inhabits a class scope and is reachable from <span class='math'><span class='mathalpha'>P</span></span>, or
else <span class='math'><span class='mathalpha'>X</span></span> appears in a translation unit <span class='math'><span class='mathalpha'>D</span></span> and
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>P</span></span> follows
a <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration'><span class='textsf'><i >module-import-declaration</i></span></span></a> or <a href='module.unit#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration'><span class='textsf'><i >module-declaration</i></span></span></a>
that imports <span class='math'><span class='mathalpha'>D</span></span> (directly or indirectly), and</li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div><span class='math'><span class='mathalpha'>X</span></span> appears after the <a href='module.unit#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration_'><span class='textsf'><i >module-declaration</i></span></span></a> in <span class='math'><span class='mathalpha'>D</span></span> (if any) and
before the <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment'><span class='textsf'><i >private-module-fragment</i></span></span></a> in <span class='math'><span class='mathalpha'>D</span></span> (if any), and</li><li id='2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.3'>(2.3)</a></div>either <span class='math'><span class='mathalpha'>X</span></span> is exported or else <span class='math'><span class='mathalpha'>D</span></span> and <span class='math'><span class='mathalpha'>L</span></span> are part of the same module and
<span class='math'><span class='mathalpha'>X</span></span> does not inhabit a namespace with internal linkage or
declare a name with internal linkage<a class='hidden_link' href='#2.sentence-3'>.</a> <div class='texpara'><div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='2.3.sentence-2' class='sentence'>Names declared by a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a> have no linkage<a class='hidden_link' href='#2.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='2.sentence-4' class='sentence'>A <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration_'><span class='textsf'><i >module-import-declaration</i></span></span></a> imports both
the named translation unit(s) and
any modules named by exported
<a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration__'><span class='textsf'><i >module-import-declaration</i></span></span></a><i >s</i> within them,
recursively<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> Q;
<span class='keyword'>export</span> <span class='keyword'>int</span> sq<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i<span class='operator'>*</span>i; <span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> R;
<span class='keyword'>export</span> <span class='keyword'>import</span> Q;
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>import</span> R;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> sq<span class='parenthesis'>(</span><span class='literal'>9</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>    <span class='comment'>// OK, <span class='tcode_in_codeblock'>sq</span> from module <span class='tcode_in_codeblock'>Q</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/basic.tex#L1559'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><a class='index' id=':scope,search,single'></a>A <a class='hidden_link' href='#def:search,single' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:search,single'><i >single search</i></span></a> in a scope <span class='math'><span class='mathalpha'>S</span></span>
for a name <span class='math'><span class='mathalpha'>N</span></span> from a program point <span class='math'><span class='mathalpha'>P</span></span>
finds all declarations that precede <span class='math'><span class='mathalpha'>P</span></span>
to which any name that is the same as <span class='math'><span class='mathalpha'>N</span></span> (<a href='basic.pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>) is bound in <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>If any such declaration is a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator'><span class='textsf'><i >using-declarator</i></span></span></a>
whose terminal name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>)
is not dependent (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>),
it is replaced by the declarations named by
the <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator_'><span class='textsf'><i >using-declarator</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#3.sentence-2'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/basic.tex#L1571'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>In certain contexts, only certain kinds of declarations are included<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>After any such restriction, any declarations of classes or enumerations are discarded if any other declarations are found<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>:&ensp;<div id='4.sentence-3' class='sentence'>A type (but not a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_'><span class='textsf'><i >typedef-name</i></span></span></a> or template)
is therefore hidden by any other entity in its scope<a class='hidden_link' href='#4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='4.sentence-4' class='sentence'>However, if a lookup is <a class='hidden_link' href='#def:lookup,type-only' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:lookup,type-only'><i >type-only</i></span></a>,
only declarations of
types and templates whose specializations are types are considered;
furthermore, if declarations
of a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name__'><span class='textsf'><i >typedef-name</i></span></span></a> and of the type to which it refers are found,
the declaration of the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name___'><span class='textsf'><i >typedef-name</i></span></span></a> is discarded
instead of the type declaration<a class='hidden_link' href='#4.sentence-4'>.</a></div></div></div></div></body></html>