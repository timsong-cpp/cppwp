<!DOCTYPE html><html lang='en'><head><title>[dcl.attr.likelihood]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>9.12</a> Attributes <a class='abbr_ref' href='dcl.attr#likelihood'>[dcl.attr]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>9.12.7</a> Likelihood attributes <a class='abbr_ref'>[dcl.attr.likelihood]</a></h3><div class='texpara'><a class='index' id=':attribute,likely'></a>
<a class='index' id=':attribute,unlikely'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L9051'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The <a href='dcl.attr.grammar#nt:attribute-token' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-token'><span class='textsf'><i >attribute-token</i></span></span></a><i >s</i>
<span class='texttt'>likely</span> and <span class='texttt'>unlikely</span>
may be applied to labels or statements<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>No <a href='dcl.attr.grammar#nt:attribute-argument-clause' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-argument-clause'><span class='textsf'><i >attribute-argument-clause</i></span></span></a> shall be present<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>The <a href='dcl.attr.grammar#nt:attribute-token' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-token_'><span class='textsf'><i >attribute-token</i></span></span></a> <span class='texttt'>likely</span>
shall not appear in an <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>
that contains the <a href='dcl.attr.grammar#nt:attribute-token' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-token__'><span class='textsf'><i >attribute-token</i></span></span></a> <span class='texttt'>unlikely</span><a class='hidden_link' href='#1.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L9060'>#</a></div><div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='2.sentence-1' class='sentence'>The use of the <span class='texttt'>likely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more likely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The use of the <span class='texttt'>unlikely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more unlikely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>It is expected that the value of a <a href='cpp.cond#nt:has-attribute-expression' title='15.2&emsp;Conditional inclusion&emsp;[cpp.cond]'><span id='ntref:has-attribute-expression'><span class='textsf'><i >has-attribute-expression</i></span></span></a>
for the <span class='texttt'>likely</span> and <span class='texttt'>unlikely</span> attributes
is <span class='texttt'><span class='literal'>0</span></span>
if the implementation does not attempt to use these attributes
for such optimizations<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>A path of execution includes a label
if and only if it contains a jump to that label<a class='hidden_link' href='#2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='2.sentence-5' class='sentence'>Excessive usage of either of these attributes
is liable to result in performance degradation<a class='hidden_link' href='#2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L9087'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>n <span class='anglebracket'>&gt;</span> <span class='literal'>5</span><span class='parenthesis'>)</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>unlikely<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>     <span class='comment'>// <span class='tcode_in_codeblock'>n &gt; 5</span> is considered to be arbitrarily unlikely</span>
    g<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
    <span class='keyword'>return</span> n <span class='operator'>*</span> <span class='literal'>2</span> <span class='operator'>+</span> <span class='literal'>1</span>;
  <span class='curlybracket'>}</span>

  <span class='keyword'>switch</span> <span class='parenthesis'>(</span>n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>case</span> <span class='literal'>1</span><span class='operator'>:</span>
    g<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
    <span class='squarebracket'>[</span><span class='squarebracket'>[</span>fallthrough<span class='squarebracket'>]</span><span class='squarebracket'>]</span>;

  <span class='squarebracket'>[</span><span class='squarebracket'>[</span>likely<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>case</span> <span class='literal'>2</span><span class='operator'>:</span>            <span class='comment'>// <span class='tcode_in_codeblock'>n == 2</span> is considered to be arbitrarily more</span>
    g<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span>;                       <span class='comment'>// likely than any other value of <span class='tcode_in_codeblock'>n</span></span>
    <span class='keyword'>break</span>;
  <span class='curlybracket'>}</span>
  <span class='keyword'>return</span> <span class='literal'>3</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></body></html>