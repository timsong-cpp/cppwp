<!DOCTYPE html><html lang='en'><head><title>[internet.network.v6]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>21</a> Internet protocol <a class='abbr_ref' href='./#internet'>[internet]</a></h1><div id='internet.network.v6'><h2 ><a class='secnum' style='min-width:88pt'>21.12</a> Class template <span class='texttt'>ip::network_v6</span> <a class='abbr_ref'>[internet.network.v6]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >The class <span class='texttt'>network_v6</span> provides the ability to use and manipulate IPv6 network addresses.</p><pre class='codeblock'>
namespace std {
namespace experimental {
namespace net {
inline namespace v1 {
namespace ip {

  class network_v6
  {
  public:
    <span class='comment'>// <a href='internet.network.v6.cons'>[internet.network.v6.cons]</a>, constructors:
</span>    constexpr network_v6() noexcept;
    constexpr network_v6(const address_v6&amp; addr, int prefix_len);

    <span class='comment'>// <a href='internet.network.v6.members'>[internet.network.v6.members]</a>, members:
</span>    constexpr address_v6 address() const noexcept;
    constexpr int prefix_length() const noexcept;
    constexpr address_v6 network() const noexcept;
    address_v6_range hosts() const noexcept;
    constexpr network_v6 canonical() const noexcept;
    constexpr bool is_host() const noexcept;
    constexpr bool is_subnet_of(const network_v6&amp; other) const noexcept;
    template&lt;class Allocator = allocator&lt;char&gt;&gt;
      basic_string&lt;char, char_traits&lt;char&gt;, Allocator&gt;
        to_string(const Allocator&amp; a = Allocator()) const;
  };

  <span class='comment'>// <a href='internet.network.v6.comparisons'>[internet.network.v6.comparisons]</a>, network_v6 comparisons:
</span>  constexpr bool operator==(const network_v6&amp; a, const network_v6&amp; b) noexcept;
  constexpr bool operator!=(const network_v6&amp; a, const network_v6&amp; b) noexcept;

  <span class='comment'>// <a href='internet.network.v6.creation'>[internet.network.v6.creation]</a>, network_v6 creation:
</span>  constexpr network_v6 make_network_v6(const address_v6&amp; addr, int prefix_len);
  network_v6 make_network_v6(const char* str);
  network_v6 make_network_v6(const char* str, error_code&amp; ec) noexcept;
  network_v6 make_network_v6(const string&amp; str);
  network_v6 make_network_v6(const string&amp; str, error_code&amp; ec) noexcept;
  network_v6 make_network_v6(string_view str);
  network_v6 make_network_v6(string_view str, error_code&amp; ec) noexcept;

  <span class='comment'>// <a href='internet.network.v6.io'>[internet.network.v6.io]</a>, network_v6 I/O:
</span>  template&lt;class CharT, class Traits&gt;
    basic_ostream&lt;CharT, Traits&gt;&amp; operator&lt;&lt;(
      basic_ostream&lt;CharT, Traits&gt;&amp; os, const network_v6&amp; net);

} <span class='comment'>// namespace ip
</span>} <span class='comment'>// inline namespace v1
</span>} <span class='comment'>// namespace net
</span>} <span class='comment'>// namespace experimental
</span>} <span class='comment'>// namespace std
</span></pre></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p ><span class='texttt'>network_v6</span> satisfies the requirements for <span class='texttt'>Destructible</span> (C++Std &sect;<a href='../n4140/destructible'>[destructible]</a>), <span class='texttt'>CopyConstructible</span> (C++Std &sect;<a href='../n4140/copyconstructible'>[copyconstructible]</a>), and <span class='texttt'>CopyAssignable</span> (C++Std &sect;<a href='../n4140/copyassignable'>[copyassignable]</a>).</p></div><div id='cons'><h3 ><a class='secnum' href='#cons' style='min-width:103pt'>21.12.1</a> <span class='texttt'>ip::network_v6</span> constructors <a class='abbr_ref' href='internet.network.v6.cons'>[internet.network.v6.cons]</a></h3><p ><code class='itemdecl'>
constexpr network_v6() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='cons-1'><div class='marginalizedparent'><a class='marginalized' href='#cons-1'>1</a></div><div class='itemdescr'><p ><i>Postconditions:</i> <span class='texttt'>this-&gt;address().is_unspecified() == true</span> and <span class='texttt'>prefix_length() == 0</span>.
</p></div></div><p ><code class='itemdecl'>
constexpr network_v6(const address_v6&amp; addr, int prefix_len);
</code></p><div class='itemdescr'></div><div class='para' id='cons-2'><div class='marginalizedparent'><a class='marginalized' href='#cons-2'>2</a></div><div class='itemdescr'><p ><i>Postconditions:</i> <span class='texttt'>this-&gt;address() == addr</span> and <span class='texttt'>prefix_length() == prefix_len</span>.</p></div></div><div class='para' id='cons-3'><div class='marginalizedparent'><a class='marginalized' href='#cons-3'>3</a></div><div class='itemdescr'><p ><i>Remarks:</i> <span class='texttt'>out_of_range</span> if <span class='texttt'>prefix_len &lt; 0</span> or <span class='texttt'>prefix_len &gt; 128</span>.
</p></div></div></div><div id='members'><h3 ><a class='secnum' href='#members' style='min-width:103pt'>21.12.2</a> <span class='texttt'>ip::network_v6</span> members <a class='abbr_ref' href='internet.network.v6.members'>[internet.network.v6.members]</a></h3><p ><code class='itemdecl'>
constexpr address_v6 address() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-1'><div class='marginalizedparent'><a class='marginalized' href='#members-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> The address specified when the <span class='texttt'>network_v6</span> object was constructed.
</p></div></div><p ><code class='itemdecl'>
constexpr int prefix_length() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-2'><div class='marginalizedparent'><a class='marginalized' href='#members-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> The prefix length of the network.
</p></div></div><p ><code class='itemdecl'>
constexpr address_v6 network() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-3'><div class='marginalizedparent'><a class='marginalized' href='#members-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> An <span class='texttt'>address_v6</span> object with the first <span class='texttt'>prefix_length()</span> bits, starting from the most significant bit in network byte order, set to the corresponding bit value of <span class='texttt'>this-&gt;address()</span>. All other bits are zero.
</p></div></div><p ><code class='itemdecl'>
address_v6_range hosts() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-4'><div class='marginalizedparent'><a class='marginalized' href='#members-4'>4</a></div><div class='itemdescr'><p ><i>Returns:</i> If <span class='texttt'>is_host()</span> is <span class='texttt'>true</span>, an <span class='texttt'>address_v6_range</span> object representing the single address <span class='texttt'>this-&gt;address()</span>. Otherwise, an <span class='texttt'>address_v6_range</span> object representing the range of unique host IP addresses in the network.
</p></div></div><p ><code class='itemdecl'>
constexpr network_v6 canonical() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-5'><div class='marginalizedparent'><a class='marginalized' href='#members-5'>5</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>network_v6(network(), prefix_length())</span>.
</p></div></div><p ><code class='itemdecl'>
constexpr bool is_host() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-6'><div class='marginalizedparent'><a class='marginalized' href='#members-6'>6</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>prefix_length() == 128</span>.
</p></div></div><p ><code class='itemdecl'>
constexpr bool is_subnet_of(const network_v6&amp; other) const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-7'><div class='marginalizedparent'><a class='marginalized' href='#members-7'>7</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>true</span> if <span class='texttt'>other.prefix_length() &lt; prefix_length()</span> and <span class='texttt'>network_v6(this-&gt;address(), other.prefix_length()).canonical() == other.canonical()</span>, otherwise <span class='texttt'>false</span>.
</p></div></div><p ><code class='itemdecl'>
template&lt;class Allocator = allocator&lt;char&gt;&gt;
  basic_string&lt;char, char_traits&lt;char&gt;, Allocator&gt;
    to_string(const Allocator&amp; a = Allocator()) const;
</code></p><div class='itemdescr'></div><div class='para' id='members-8'><div class='marginalizedparent'><a class='marginalized' href='#members-8'>8</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>this-&gt;address().to_string(a) + "/" + to_string(prefix_length()).c_str()</span>.
</p></div></div></div><div id='comparisons'><h3 ><a class='secnum' href='#comparisons' style='min-width:103pt'>21.12.3</a> <span class='texttt'>ip::network_v6</span> comparisons <a class='abbr_ref' href='internet.network.v6.comparisons'>[internet.network.v6.comparisons]</a></h3><p ><code class='itemdecl'>
constexpr bool operator==(const network_v6&amp; a, const network_v6&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>true</span> if <span class='texttt'>a.address() == b.address()</span> and <span class='texttt'>a.prefix_length() == b.prefix_length()</span>, otherwise <span class='texttt'>false</span>.
</p></div></div><p ><code class='itemdecl'>
constexpr bool operator!=(const network_v6&amp; a, const network_v6&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='comparisons-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>!(a == b)</span>.
</p></div></div></div><div id='creation'><h3 ><a class='secnum' href='#creation' style='min-width:103pt'>21.12.4</a> <span class='texttt'>ip::network_v6</span> creation <a class='abbr_ref' href='internet.network.v6.creation'>[internet.network.v6.creation]</a></h3><p ><code class='itemdecl'>
constexpr network_v6 make_network_v6(const address_v6&amp; addr, int prefix_len);
</code></p><div class='itemdescr'></div><div class='para' id='creation-1'><div class='marginalizedparent'><a class='marginalized' href='#creation-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>network_v6(addr, prefix_len)</span>.
</p></div></div><p ><code class='itemdecl'>
network_v6 make_network_v6(const char* str);
network_v6 make_network_v6(const char* str, error_code&amp; ec) noexcept;
network_v6 make_network_v6(const string&amp; str);
network_v6 make_network_v6(const string&amp; str, error_code&amp; ec) noexcept;
network_v6 make_network_v6(string_view str);
network_v6 make_network_v6(string_view str, error_code&amp; ec) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='creation-2'><div class='marginalizedparent'><a class='marginalized' href='#creation-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> If <span class='texttt'>str</span> contains a value of the form address <span class='texttt'>'/'</span> prefix-length, a <span class='texttt'>network_v6</span> object constructed with the result of applying <span class='texttt'>make_address_v6()</span> to the address portion of the string, and the result of converting prefix-length to an integer of type <span class='texttt'>int</span>. Otherwise returns <span class='texttt'>network_v6()</span> and sets <span class='texttt'>ec</span> to reflect the error.</p></div></div><div class='para' id='creation-3'><div class='marginalizedparent'><a class='marginalized' href='#creation-3'>3</a></div><div class='itemdescr'><p ><i>Error conditions:</i>
</p><ul class='itemize'><li id='creation-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#creation-3.1'>(3.1)</a></div><p ><span class='texttt'>errc::invalid_argument</span> â€” if <span class='texttt'>str</span> is not a valid textual representation of an IPv6 address and prefix length.
</p></li></ul></div></div></div><div id='io'><h3 ><a class='secnum' href='#io' style='min-width:103pt'>21.12.5</a> <span class='texttt'>ip::network_v6</span> I/O <a class='abbr_ref' href='internet.network.v6.io'>[internet.network.v6.io]</a></h3><p ><code class='itemdecl'>
template&lt;class CharT, class Traits&gt;
  basic_ostream&lt;CharT, Traits&gt;&amp; operator&lt;&lt;(
    basic_ostream&lt;CharT, Traits&gt;&amp; os, const network_v6&amp; net);
</code></p><div class='itemdescr'></div><div class='para' id='io-1'><div class='marginalizedparent'><a class='marginalized' href='#io-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>os &lt;&lt; net.to_string().c_str()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='basic_endpoint'></a></span></p></div></div></div></body></html>