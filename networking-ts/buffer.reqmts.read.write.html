<!DOCTYPE html><html lang='en'><head><title>[buffer.reqmts.read.write]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>16</a> Buffers <a class='abbr_ref' href='./#buffer'>[buffer]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>16.2</a> Requirements <a class='abbr_ref' href='buffer.reqmts#read.write'>[buffer.reqmts]</a></h2><div id='buffer.reqmts.read.write'><h3 ><a class='secnum' style='min-width:103pt'>16.2.4</a> Requirements on read and write operations <a class='abbr_ref'>[buffer.reqmts.read.write]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >A <a class='hidden_link' href='#def:read_operation' id='def:read_operation'><i>read operation</i></a> is an operation that reads data into a mutable buffer sequence argument of a type meeting <span class='texttt'>MutableBufferSequence</span> (<a href='buffer.reqmts.mutablebuffersequence'>[buffer.reqmts.mutablebuffersequence]</a>) requirements. The mutable buffer sequence specifies memory where the data should be placed. A read operation shall always fill a buffer in the sequence completely before proceeding to the next.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >A <a class='hidden_link' href='#def:write_operation' id='def:write_operation'><i>write operation</i></a> is an operation that writes data from a constant buffer sequence argument of a type meeting <span class='texttt'>ConstBufferSequence</span> (<a href='buffer.reqmts.constbuffersequence'>[buffer.reqmts.constbuffersequence]</a>) requirements. The constant buffer sequence specifies memory where the data to be written is located. A write operation shall always write a buffer in the sequence completely before proceeding to the next.</p><p ><span class='indexparent'><a class='index' id='asynchronous_operation'></a></span></p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >If a read or write operation is also an asynchronous operation (<a href='async.reqmts.async'>[async.reqmts.async]</a>), the operation shall maintain one or more copies of the buffer sequence until such time as the operation no longer requires access to the memory specified by the buffers in the sequence. The program shall ensure the memory remains valid until:</p><ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><p >the last copy of the buffer sequence is destroyed, or
</p></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><p >the completion handler for the asynchronous operation is invoked,
</p></li></ul><p >whichever comes first.</p><p ><span class='indexparent'><a class='index' id='error_codes,stream'></a></span></p></div></div></div></body></html>