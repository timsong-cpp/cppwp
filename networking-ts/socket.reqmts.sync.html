<!DOCTYPE html><html lang='en'><head><title>[socket.reqmts.sync]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>18</a> Sockets <a class='abbr_ref' href='./#socket'>[socket]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>18.2</a> Requirements <a class='abbr_ref' href='socket.reqmts#sync'>[socket.reqmts]</a></h2><div id='socket.reqmts.sync'><h3 ><a class='secnum' style='min-width:103pt'>18.2.1</a> Requirements on synchronous socket operations <a class='abbr_ref'>[socket.reqmts.sync]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >In this subclause, <span class='indexparent'><a class='index' id='socket_operations,synchronous'></a></span><a class='hidden_link' href='#def:synchronous_socket_operations' id='def:synchronous_socket_operations'><i>synchronous socket operations</i></a> are those member functions specified as two overloads, with and without an argument of type <span class='texttt'>error_code&amp;</span>:</p><pre class='codeblock'>
<i>R f</i>(<i>A1</i> a1, <i>A2</i> a2, ..., <i>AN</i> aN);
<i>R f</i>(<i>A1</i> a1, <i>A2</i> a2, ..., <i>AN</i> aN, error_code&amp; ec);
</pre></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >For an object <span class='texttt'>s</span>, the conditions under which its synchronous socket operations may block the calling thread (C++ 2014 [defns.block]) are determined as follows.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >If:</p><ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><p ><span class='texttt'>s.non_blocking() == true</span>,
</p></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><p >the synchronous socket operation is specified in terms of a POSIX function other than <span class='texttt'>poll</span>,
</p></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><p >that POSIX function lists <span class='texttt'>EWOULDBLOCK</span> or <span class='texttt'>EAGAIN</span> in its failure conditions, and
</p></li><li id='3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.4'>(3.4)</a></div><p >the effects of the operation cannot be established immediately
</p></li></ul><p >then the synchronous socket operation shall not block the calling thread. [&nbsp;<i>Note:</i> And the effects of the operation are not established. <i>&nbsp;â€”&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >Otherwise, the synchronous socket operation shall block the calling thread until the effects are established.</p></div></div></div></body></html>