<!DOCTYPE html><html lang='en'><head><title>[over.match.funcs.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>12.2</a> Overload resolution <a class='abbr_ref' href='over.match#funcs.general'>[over.match]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>12.2.2</a> Candidate functions and argument lists <a class='abbr_ref' href='over.match.funcs#general'>[over.match.funcs]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>12.2.2.1</a> General <a class='abbr_ref'>[over.match.funcs.general]</a></h4><div class='texpara'><a class='index' id=':overloading,candidate_functions'></a><a class='index' id=':overloading,argument_lists'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L140'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The subclauses of <a href='over.match.funcs' title='12.2.2&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a> describe
the set of candidate functions and the argument list submitted to
overload resolution in each context in which
overload resolution is used<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The source transformations and constructions defined
in these subclauses are only for the purpose of describing the
overload resolution process<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>An implementation is not required
to use such transformations and constructions<a class='hidden_link' href='#1.sentence-3'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L151'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><a class='index' id=':member_function,overload_resolution_and'></a><a class='index' id=':function,overload_resolution_and'></a>The set of candidate functions can contain both member and non-member
functions to be resolved against the same argument list<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If a member function is
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div>an implicit object member function that is not a constructor, or</li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div>a static member function and
the argument list includes an implied object argument,</li></ul>
it is considered to have an extra first parameter,
called the <a class='hidden_link' href='#def:object_parameter,implicit' title='12.2.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:object_parameter,implicit'><i >implicit object parameter</i></span></a>,
which represents the object for which the member function has been called<a class='hidden_link' href='#2.sentence-2'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L168'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>Similarly, when appropriate, the context can construct an
argument list that contains an
<a class='hidden_link' href='#def:implied_object_argument' title='12.2.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:implied_object_argument'><i >implied object argument</i></span></a>
as the first argument in the list to denote
the object to be operated on<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L175'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>For implicit object member functions, the type of the implicit object
parameter is
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.1'>(4.1)</a></div>“lvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared
without a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> or with the
<span class='texttt'><span class='operator'>&amp;</span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a></li><li id='4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.2'>(4.2)</a></div>“rvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared with the
<span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier__'><span class='textsf'><i >ref-qualifier</i></span></span></a></li></ul>
where
<span class='texttt'>X</span>
is the class of which the function is a direct member and
<span class='mathit'>cv</span>
is the cv-qualification on the
member function declaration<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<div id='4.sentence-2' class='sentence'>For a
<span id=':const'><span class='texttt'><span class='keyword'>const</span></span></span>
member
function of class
<span class='texttt'>X</span>,
the extra parameter is assumed to have type
“lvalue reference to
<span class='texttt'><span class='keyword'>const</span> X</span>”<a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='4.sentence-3' class='sentence'>
For conversion functions that are implicit object member functions,
the function is considered to be a member of the
class of the implied object argument for the purpose of defining the
type of the implicit object parameter<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>For non-conversion functions that are implicit object member functions
nominated by a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a>
in a derived class, the function is
considered to be a member of the derived class for the purpose of defining
the type of the implicit object parameter<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.sentence-5' class='sentence'>For static member functions, the implicit object parameter is considered
to match any object (since if the function is selected, the object is
discarded)<a class='hidden_link' href='#4.sentence-5'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='4.sentence-6' class='sentence'>No actual type is established for the implicit object parameter
of a static member function, and no attempt will be made to determine a
conversion sequence for that parameter (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>)<a class='hidden_link' href='#4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L219'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><a class='index' id=':implied_object_argument,implicit_conversion_sequences'></a>During overload resolution, the implied object argument is
indistinguishable from other arguments<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The implicit object
parameter, however, retains its identity since
no user-defined conversions can be applied to achieve a type
match with it<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'><a class='index' id=':implied_object_argument,non-static_member_function_and'></a>For implicit object member functions declared without a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier___'><span class='textsf'><i >ref-qualifier</i></span></span></a>,
even if the implicit object parameter is not const-qualified,
an rvalue can be bound to the parameter
as long as in all other respects the argument can be
converted to the type of the implicit object parameter<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='5.sentence-4' class='sentence'>The fact that such an argument is an rvalue does not
affect the <a href='over.ics.rank' title='12.2.4.3&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'>ranking</a> of implicit conversion sequences<a class='hidden_link' href='#5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L238'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>Because other than in list-initialization only one user-defined conversion
is allowed
in an
implicit conversion sequence, special rules apply when selecting
the best user-defined conversion (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>, <a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C <span class='operator'>:</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  C<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
T a <span class='operator'>=</span> <span class='literal'>1</span>;            <span class='comment'>// error: no viable conversion (<span class='tcode_in_codeblock'>T(C(1))</span> not considered)</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L259'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>In each case where conversion functions of a class <span class='texttt'>S</span> are considered
for initializing an object or reference of type <span class='texttt'>T</span>,
the candidate functions include the result of a search
for the <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a> <span class='texttt'><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span> T</span>
in <span class='texttt'>S</span><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='7.sentence-2' class='sentence'>This search can find a specialization of
a conversion function template (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='7.sentence-3' class='sentence'>
Each such case also defines sets of <a class='hidden_link' href='#def:types,permissible' title='12.2.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:types,permissible'><i >permissible types</i></span></a>
for explicit and non-explicit conversion functions;
each (non-template) conversion function
that
<ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.1'>(7.1)</a></div>is a non-hidden member of <span class='texttt'>S</span>,</li><li id='7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.2'>(7.2)</a></div>yields a permissible type, and,</li><li id='7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.3'>(7.3)</a></div>for the former set, is non-explicit</li></ul>
is also a candidate function<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'>If initializing an object, for any permissible type <span class='mathit'>cv</span> <span class='texttt'>U</span>, any
<i >cv2</i> <span class='texttt'>U</span>, <i >cv2</i> <span class='texttt'>U<span class='operator'>&amp;</span></span>, or <i >cv2</i> <span class='texttt'>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
is also a permissible type<a class='hidden_link' href='#7.sentence-4'>.</a></div> <div id='7.sentence-5' class='sentence'>If the set of permissible types for explicit conversion functions is empty,
any candidates that are explicit are discarded<a class='hidden_link' href='#7.sentence-5'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L285'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>In each case where a candidate is a function template, candidate
function template specializations
are generated using template argument deduction (<a href='temp.over' title='13.10.4&emsp;Overload resolution'>[temp.<span class='shy'></span>over]</a>, <a href='temp.deduct' title='13.10.3&emsp;Template argument deduction'>[temp.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>If a constructor template or conversion function template
has an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a>
whose <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> is value-dependent (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>),
template argument deduction is performed first and then,
if the context admits only candidates that
are not explicit and the generated specialization is explicit (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>),
it will be removed from the candidate set<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>Those candidates are then handled as candidate
functions in the usual way<a class='hidden_link' href='#8.sentence-3'>.</a><a class='footnoteref' href='#footnote-101' id='footnoteref-101' title='The process of argument deduction fully determines the parameter types of the function template specializations, i.e., the parameters of function template specializations contain no template parameter types. Therefore, except where specified otherwise, function template specializations and non-template functions ([dcl.fct]) are treated equivalently for the remainder of overload resolution.'>101</a></div> <div id='8.sentence-4' class='sentence'>
A given name can refer to, or a conversion can consider,
one or more function templates as well as a set of non-template functions<a class='hidden_link' href='#8.sentence-4'>.</a></div> <div id='8.sentence-5' class='sentence'>In such a case, the
candidate functions generated from each function template are combined
with the set of non-template candidate functions<a class='hidden_link' href='#8.sentence-5'>.</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/bf43925ff0d9e80997918e98989892b4c7bf15f7/source/overloading.tex#L318'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>A
defaulted move special member function (<a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>, <a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>)
that is defined as deleted
is excluded from the set of candidate functions in all contexts<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>A constructor inherited from class type <span class='texttt'>C</span> (<a href='class.inhctor.init' title='11.9.4&emsp;Initialization by inherited constructor'>[class.<span class='shy'></span>inhctor.<span class='shy'></span>init]</a>)
that has a first parameter of type “reference to <i >cv1</i> <span class='texttt'>P</span>”
(including such a constructor instantiated from a template)
is excluded from the set of candidate functions
when constructing an object of type <i >cv2</i> <span class='texttt'>D</span>
if the argument list has exactly one argument and
<span class='texttt'>C</span> is reference-related to <span class='texttt'>P</span> and
<span class='texttt'>P</span> is reference-related to <span class='texttt'>D</span><a class='hidden_link' href='#9.sentence-2'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                  <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                              <span class='comment'>// #2</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> A<span class='parenthesis'>(</span>T <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>A;
  B<span class='parenthesis'>(</span><span class='keyword'>const</span> B <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                         <span class='comment'>// #4</span>
  B<span class='parenthesis'>(</span>B <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;                    <span class='comment'>// #5, implicitly deleted</span>

  <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> X<span class='parenthesis'>(</span>X <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>; <span class='curlybracket'>}</span> x;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> B b1;
B b2 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>b1<span class='parenthesis'>)</span>;            <span class='comment'>// calls #4: #1 is not viable, #2, #3, and #5 are not candidates</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>operator</span> B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
B b3 <span class='operator'>=</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                             <span class='comment'>// calls #4</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-101'><div class='texpara'><a class='footnotenum' href='#footnote-101'>101)</a><a class='footnoteBacklink' href='#footnoteref-101'>101)</a> <div id='footnote-101.sentence-1' class='sentence'>The process of argument deduction fully
determines the parameter types of
the
function template specializations,
i.e., the parameters of
function template specializations
contain
no template parameter types<a class='hidden_link' href='#footnote-101.sentence-1'>.</a></div> <div id='footnote-101.sentence-2' class='sentence'>Therefore, except where specified otherwise,
function template specializations
and non-template functions (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) are treated equivalently
for the remainder of overload resolution<a class='hidden_link' href='#footnote-101.sentence-2'>.</a></div></div></div></div></body></html>