<!DOCTYPE html><html lang='en'><head><title>[basic]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><div id='pre' class='section'><h2 ><a class='secnum' href='#pre' style='min-width:65pt'>6.1</a> Preamble <a class='abbr_ref' href='basic.pre'>[basic.pre]</a></h2><div class='para nonNormativeOnly' id='pre-1'><div class='marginalizedparent'><a class='marginalized' href='#pre-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L8'>#</a></div><div class='texpara'><div id='pre-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-1'>1</a></i>:&ensp;<div id='pre-1.sentence-1' class='sentence'>This Clause presents the basic concepts of the C++ language<a class='hidden_link' href='#pre-1.sentence-1'>.</a></div> <div id='pre-1.sentence-2' class='sentence'>It explains the difference between an object and a
name and how they relate to the value categories for expressions<a class='hidden_link' href='#pre-1.sentence-2'>.</a></div> <div id='pre-1.sentence-3' class='sentence'>It introduces the concepts of a
declaration and a definition and presents C++'s
notion of type, scope, linkage, and
storage duration<a class='hidden_link' href='#pre-1.sentence-3'>.</a></div> <div id='pre-1.sentence-4' class='sentence'>The mechanisms for starting and
terminating a program are discussed<a class='hidden_link' href='#pre-1.sentence-4'>.</a></div> <div id='pre-1.sentence-5' class='sentence'>Finally, this Clause presents the
fundamental types of the language and lists the ways of constructing
compound types from these<a class='hidden_link' href='#pre-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='pre-2'><div class='marginalizedparent'><a class='marginalized' href='#pre-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L22'>#</a></div><div class='texpara'><div id='pre-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-2'>2</a></i>:&ensp;<div id='pre-2.sentence-1' class='sentence'>This Clause does not cover concepts that affect only a single
part of the language<a class='hidden_link' href='#pre-2.sentence-1'>.</a></div> <div id='pre-2.sentence-2' class='sentence'>Such concepts are discussed in the relevant
Clauses<a class='hidden_link' href='#pre-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='pre-3'><div class='marginalizedparent'><a class='marginalized' href='#pre-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L29'>#</a></div><div class='texpara'><div id='pre-3.sentence-1' class='sentence'><a class='index' id=':type'></a><a class='index' id=':object'></a><a class='index' id=':storage_class'></a><a class='index' id=':scope'></a><a class='index' id=':linkage'></a>An <a class='hidden_link' href='#def:entity' title='6.1&emsp;Preamble&emsp;[basic.pre]'><span id='def:entity'><i >entity</i></span></a> is a value, object, reference,
structured binding,
function, enumerator, type,
class member, bit-field, template, template specialization, namespace, or
pack<a class='hidden_link' href='#pre-3.sentence-1'>.</a></div></div></div><div class='para' id='pre-4'><div class='marginalizedparent'><a class='marginalized' href='#pre-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L41'>#</a></div><div class='texpara'><div id='pre-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:name' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:name'><i >name</i></span></a> is an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a> (<a href='lex.name' title='5.10&emsp;Identifiers'>[lex.<span class='shy'></span>name]</a>),
<a href='over.oper.general#nt:operator-function-id' title='12.4.1&emsp;General&emsp;[over.oper.general]'><span id='ntref:operator-function-id'><span class='textsf'><i >operator-function-id</i></span></span></a> (<a href='over.oper' title='12.4&emsp;Overloaded operators'>[over.<span class='shy'></span>oper]</a>),
<a href='over.literal#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id'><span class='textsf'><i >literal-operator-id</i></span></span></a> (<a href='over.literal' title='12.6&emsp;User-defined literals'>[over.<span class='shy'></span>literal]</a>), or
<a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a> (<a href='class.conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#pre-4.sentence-1'>.</a></div></div></div><div class='para' id='pre-5'><div class='marginalizedparent'><a class='marginalized' href='#pre-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L47'>#</a></div><div class='texpara'><div id='pre-5.sentence-1' class='sentence'>Every name is introduced by a <a class='hidden_link' href='#def:declaration' title='6.1&emsp;Preamble&emsp;[basic.pre]'><span id='def:declaration'><i >declaration</i></span></a>, which is a
<ul class='itemize'><li id='pre-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.1'>(5.1)</a></div><a href='dcl.pre#nt:name-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:name-declaration'><span class='textsf'><i >name-declaration</i></span></span></a>,
<a href='dcl.pre#nt:block-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:block-declaration'><span class='textsf'><i >block-declaration</i></span></span></a>, or
<a href='class.mem.general#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration'><span class='textsf'><i >member-declaration</i></span></span></a> (<a href='dcl.pre' title='9.1&emsp;Preamble'>[dcl.<span class='shy'></span>pre]</a>, <a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>),</li><li id='pre-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.2'>(5.2)</a></div><a href='dcl.decl.general#nt:init-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:init-declarator'><span class='textsf'><i >init-declarator</i></span></span></a> (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>),</li><li id='pre-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.3'>(5.3)</a></div><a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a>
in a structured binding declaration (<a href='dcl.struct.bind' title='9.6&emsp;Structured binding declarations'>[dcl.<span class='shy'></span>struct.<span class='shy'></span>bind]</a>),</li><li id='pre-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.4'>(5.4)</a></div><a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture'><span class='textsf'><i >init-capture</i></span></span></a> (<a href='expr.prim.lambda.capture' title='7.5.5.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>),</li><li id='pre-5.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.5'>(5.5)</a></div><a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition'><span class='textsf'><i >condition</i></span></span></a> with a <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator'><span class='textsf'><i >declarator</i></span></span></a> (<a href='stmt.pre' title='8.1&emsp;Preamble'>[stmt.<span class='shy'></span>pre]</a>),</li><li id='pre-5.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.6'>(5.6)</a></div><a href='class.mem.general#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator'><span class='textsf'><i >member-declarator</i></span></span></a> (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>),</li><li id='pre-5.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.7'>(5.7)</a></div><a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator'><span class='textsf'><i >using-declarator</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>),</li><li id='pre-5.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.8'>(5.8)</a></div><a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration'><span class='textsf'><i >parameter-declaration</i></span></span></a> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),</li><li id='pre-5.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.9'>(5.9)</a></div><a href='temp.param#nt:type-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-parameter'><span class='textsf'><i >type-parameter</i></span></span></a> (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>),</li><li id='pre-5.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.10'>(5.10)</a></div><a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
that introduces a name (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>),</li><li id='pre-5.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.11'>(5.11)</a></div><a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier'><span class='textsf'><i >class-specifier</i></span></span></a> (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>),</li><li id='pre-5.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.12'>(5.12)</a></div><a href='dcl.enum#nt:enum-specifier' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-specifier'><span class='textsf'><i >enum-specifier</i></span></span></a> or
<a href='dcl.enum#nt:enumerator-definition' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enumerator-definition'><span class='textsf'><i >enumerator-definition</i></span></span></a> (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),</li><li id='pre-5.13'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.13'>(5.13)</a></div><a href='except.pre#nt:exception-declaration' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:exception-declaration'><span class='textsf'><i >exception-declaration</i></span></span></a> (<a href='except.pre' title='14.1&emsp;Preamble'>[except.<span class='shy'></span>pre]</a>), or</li><li id='pre-5.14'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-5.14'>(5.14)</a></div>implicit declaration of an injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#pre-5.sentence-1'>.</a></li></ul></div> <div id='pre-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-3'>3</a></i>:&ensp;<div id='pre-5.sentence-2' class='sentence'>The interpretation of a <a href='stmt.iter.general#nt:for-range-declaration' title='8.6.1&emsp;General&emsp;[stmt.iter.general]'><span id='ntref:for-range-declaration'><span class='textsf'><i >for-range-declaration</i></span></span></a> produces
one or more of the above (<a href='stmt.ranged' title='8.6.5&emsp;The range-based for statement'>[stmt.<span class='shy'></span>ranged]</a>)<a class='hidden_link' href='#pre-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='pre-5.sentence-3' class='sentence'>
An entity <span class='math'><span class='mathalpha'>E</span></span> is denoted by the name (if any)
that is introduced by a declaration of <span class='math'><span class='mathalpha'>E</span></span> or
by a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a> introduced by a declaration specifying <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#pre-5.sentence-3'>.</a></div></div></div><div class='para' id='pre-6'><div class='marginalizedparent'><a class='marginalized' href='#pre-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L92'>#</a></div><div class='texpara'><div id='pre-6.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:variable' title='6.1&emsp;Preamble&emsp;[basic.pre]'><span id='def:variable'><i >variable</i></span></a> is introduced by the
declaration of
a reference other than a non-static data member or of
an object<a class='hidden_link' href='#pre-6.sentence-1'>.</a></div> <div id='pre-6.sentence-2' class='sentence'>The variable's name, if any, denotes the reference or object<a class='hidden_link' href='#pre-6.sentence-2'>.</a></div></div></div><div class='para' id='pre-7'><div class='marginalizedparent'><a class='marginalized' href='#pre-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L98'>#</a></div><div class='texpara'><div id='pre-7.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:entity,local' title='6.1&emsp;Preamble&emsp;[basic.pre]'><span id='def:entity,local'><i >local entity</i></span></a> is a variable with
<a href='#stc.auto' title='6.7.5.4&emsp;Automatic storage duration&emsp;[basic.stc.auto]'>automatic storage duration</a>,
a <a href='dcl.struct.bind' title='9.6&emsp;Structured binding declarations&emsp;[dcl.struct.bind]'>structured binding</a>
whose corresponding variable is such an entity,
or the <span class='texttt'><span class='operator'>*</span><span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span></span> object (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>)<a class='hidden_link' href='#pre-7.sentence-1'>.</a></div></div></div><div class='para' id='pre-8'><div class='marginalizedparent'><a class='marginalized' href='#pre-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L105'>#</a></div><div class='texpara'><div id='pre-8.sentence-1' class='sentence'>Some names denote types or templates<a class='hidden_link' href='#pre-8.sentence-1'>.</a></div> <div id='pre-8.sentence-2' class='sentence'>In general,
whenever a name is encountered it is necessary to determine whether that name denotes
one of these entities before continuing to parse the program that contains it<a class='hidden_link' href='#pre-8.sentence-2'>.</a></div> <div id='pre-8.sentence-3' class='sentence'>The
process that determines this is called
<a class='hidden_link' href='#def:lookup,name' title='6.1&emsp;Preamble&emsp;[basic.pre]'><span id='def:lookup,name'><i >name lookup</i></span></a> (<a href='#lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#pre-8.sentence-3'>.</a></div></div></div><div class='para' id='pre-9'><div class='marginalizedparent'><a class='marginalized' href='#pre-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L112'>#</a></div><div class='texpara'><div id='pre-9.sentence-1' class='sentence'>Two names are <a class='hidden_link' href='#def:name,same' title='6.1&emsp;Preamble&emsp;[basic.pre]'><span id='def:name,same'><i >the same</i></span></a> if
<ul class='itemize'><li id='pre-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-9.1'>(9.1)</a></div>they are <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a><i >s</i> composed of the same character sequence, or</li><li id='pre-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-9.2'>(9.2)</a></div>they are <a href='over.oper.general#nt:operator-function-id' title='12.4.1&emsp;General&emsp;[over.oper.general]'><span id='ntref:operator-function-id_'><span class='textsf'><i >operator-function-id</i></span></span></a><i >s</i> formed with
the same operator, or</li><li id='pre-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-9.3'>(9.3)</a></div>they are <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id_'><span class='textsf'><i >conversion-function-id</i></span></span></a><i >s</i> formed
with equivalent (<a href='temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>) types, or</li><li id='pre-9.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#pre-9.4'>(9.4)</a></div>they are <a href='over.literal#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id_'><span class='textsf'><i >literal-operator-id</i></span></span></a><i >s</i> (<a href='over.literal' title='12.6&emsp;User-defined literals'>[over.<span class='shy'></span>literal]</a>) formed with
the same literal suffix identifier<a class='hidden_link' href='#pre-9.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='pre-10'><div class='marginalizedparent'><a class='marginalized' href='#pre-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L124'>#</a></div><div class='texpara'><div id='pre-10.sentence-1' class='sentence'><a class='index' id=':translation_unit,name_and'></a><a class='index' id=':linkage_'></a>A name used in more than one translation unit can potentially
refer to the same entity in these translation units depending on the
<a href='#link' title='6.6&emsp;Program and linkage&emsp;[basic.link]'>linkage</a> of the name specified in each
translation unit<a class='hidden_link' href='#pre-10.sentence-1'>.</a></div></div></div></div><div id='def' class='section'><h2 ><a class='secnum' href='#def' style='min-width:65pt'>6.2</a> Declarations and definitions <a class='abbr_ref' href='basic.def'>[basic.def]</a></h2><div class='para' id='def-1'><div class='marginalizedparent'><a class='marginalized' href='#def-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L134'>#</a></div><div class='texpara'><div id='def-1.sentence-1' class='sentence'><a class='index' id=':declaration,definition_versus'></a><a class='index' id=':declaration'></a><a class='index' id=':declaration,name'></a>A <a href='dcl.dcl' title='9&emsp;Declarations&emsp;[dcl.dcl]'>declaration</a> may (re)introduce
one or more names and/or entities into a translation
unit<a class='hidden_link' href='#def-1.sentence-1'>.</a></div> <div id='def-1.sentence-2' class='sentence'>If so, the
declaration specifies the interpretation and semantic properties of these names<a class='hidden_link' href='#def-1.sentence-2'>.</a></div> <div id='def-1.sentence-3' class='sentence'>A declaration of an entity or <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='math'><span class='mathalpha'>X</span></span> is
a redeclaration of <span class='math'><span class='mathalpha'>X</span></span>
if another declaration of <span class='math'><span class='mathalpha'>X</span></span> is reachable from it (<a href='module.reach' title='10.7&emsp;Reachability'>[module.<span class='shy'></span>reach]</a>)<a class='hidden_link' href='#def-1.sentence-3'>.</a></div> <div id='def-1.sentence-4' class='sentence'>A declaration may also have effects including:
<ul class='itemize'><li id='def-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-1.1'>(1.1)</a></div>a static assertion (<a href='dcl.pre' title='9.1&emsp;Preamble'>[dcl.<span class='shy'></span>pre]</a>),</li><li id='def-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-1.2'>(1.2)</a></div>controlling template instantiation (<a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation'>[temp.<span class='shy'></span>explicit]</a>),</li><li id='def-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-1.3'>(1.3)</a></div>guiding template argument deduction for constructors (<a href='temp.deduct.guide' title='13.7.2.3&emsp;Deduction guides'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>guide]</a>),</li><li id='def-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-1.4'>(1.4)</a></div>use of <a href='dcl.attr' title='9.12&emsp;Attributes&emsp;[dcl.attr]'>attributes</a>, and</li><li id='def-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-1.5'>(1.5)</a></div>nothing (in the case of an <a href='dcl.pre#nt:empty-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:empty-declaration'><span class='textsf'><i >empty-declaration</i></span></span></a>)<a class='hidden_link' href='#def-1.sentence-4'>.</a></li></ul></div></div></div><div class='para' id='def-2'><div class='marginalizedparent'><a class='marginalized' href='#def-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L155'>#</a></div><div class='texpara'><div id='def-2.sentence-1' class='sentence'><a class='index' id=':declaration,function'></a><a class='index' id=':definition'></a>Each entity declared by a <a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration'><span class='textsf'><i >declaration</i></span></span></a> is
also <a class='hidden_link' href='#def:define' title='6.2&emsp;Declarations and definitions&emsp;[basic.def]'><span id='def:define'><i >defined</i></span></a> by that declaration unless:
<ul class='itemize'><li id='def-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.1'>(2.1)</a></div>it declares a function
without specifying the function's body (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>),</li><li id='def-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.2'>(2.2)</a></div>it contains
the
<a class='index' id=':declaration,extern'></a><span id=':extern'><span class='texttt'><span class='keyword'>extern</span></span></span> specifier (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>) or a
<a href='dcl.link#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification_'><span class='textsf'><i >linkage-specification</i></span></span></a><a class='footnoteref' href='#footnote-15' id='footnoteref-15' title='Appearing inside the brace-enclosed declaration-seq in a linkage-specification does not affect whether a declaration is a definition.'>15</a>
 (<a href='dcl.link' title='9.11&emsp;Linkage specifications'>[dcl.<span class='shy'></span>link]</a>)
and neither an <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer'><span class='textsf'><i >initializer</i></span></span></a> nor a
<a href='dcl.fct.def.general#nt:function-body' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-body'><span class='textsf'><i >function-body</i></span></span></a>,</li><li id='def-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.3'>(2.3)</a></div><a class='index' id=':declaration,static_member'></a>it declares a non-inline static data member in a class
definition (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>, <a href='class.static' title='11.4.9&emsp;Static members'>[class.<span class='shy'></span>static]</a>),</li><li id='def-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.4'>(2.4)</a></div>it declares a static data member outside a class definition
and the variable was defined within the class with the <span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span>
specifier (<a href='class.static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>) (this usage is deprecated; see <a href='depr.static.constexpr' title='D.5&emsp;Redeclaration of static constexpr data members'>[depr.<span class='shy'></span>static.<span class='shy'></span>constexpr]</a>),</li><li id='def-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.5'>(2.5)</a></div><a class='index' id=':declaration,class_name'></a>it is an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> (<a href='class.name' title='11.3&emsp;Class names'>[class.<span class='shy'></span>name]</a>),</li><li id='def-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.6'>(2.6)</a></div>it is an
<a class='index' id=':declaration,opaque_enum'></a><a href='dcl.enum#nt:opaque-enum-declaration' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:opaque-enum-declaration'><span class='textsf'><i >opaque-enum-declaration</i></span></span></a> (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),</li><li id='def-2.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.7'>(2.7)</a></div>it is a
<a class='index' id=':parameter,template'></a><a class='index' id=':template_parameter'></a><a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><i >template-parameter</i></span></span></a> (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>),</li><li id='def-2.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.8'>(2.8)</a></div>it is a
<a class='index' id=':declaration,parameter'></a><a class='index' id=':parameter_declaration'></a><a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration_'><span class='textsf'><i >parameter-declaration</i></span></span></a> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) in a function
<a class='index' id=':declarator'></a>declarator that is not the <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator_'><span class='textsf'><i >declarator</i></span></span></a> of a
<a href='dcl.fct.def.general#nt:function-definition' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-definition'><span class='textsf'><i >function-definition</i></span></span></a>,</li><li id='def-2.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.9'>(2.9)</a></div>it is a
<a class='index' id=':declaration,typedef'></a><span id=':typedef'><span class='texttt'><span class='keyword'>typedef</span></span></span> declaration (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>),</li><li id='def-2.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.10'>(2.10)</a></div>it is
an <a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration'><span class='textsf'><i >alias-declaration</i></span></span></a> (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>),</li><li id='def-2.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.11'>(2.11)</a></div>it is
a
<a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>),</li><li id='def-2.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.12'>(2.12)</a></div>it is
a <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><i >deduction-guide</i></span></span></a> (<a href='temp.deduct.guide' title='13.7.2.3&emsp;Deduction guides'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>guide]</a>),</li><li id='def-2.13'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.13'>(2.13)</a></div>it is
a <a href='dcl.pre#nt:static_assert-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-declaration'><span class='textsf'><i >static_assert-declaration</i></span></span></a> (<a href='dcl.pre' title='9.1&emsp;Preamble'>[dcl.<span class='shy'></span>pre]</a>),</li><li id='def-2.14'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.14'>(2.14)</a></div>it is an
<a href='dcl.pre#nt:attribute-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:attribute-declaration'><span class='textsf'><i >attribute-declaration</i></span></span></a> (<a href='dcl.pre' title='9.1&emsp;Preamble'>[dcl.<span class='shy'></span>pre]</a>),</li><li id='def-2.15'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.15'>(2.15)</a></div>it is an
<a href='dcl.pre#nt:empty-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:empty-declaration_'><span class='textsf'><i >empty-declaration</i></span></span></a> (<a href='dcl.pre' title='9.1&emsp;Preamble'>[dcl.<span class='shy'></span>pre]</a>),</li><li id='def-2.16'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.16'>(2.16)</a></div>it is
a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive'><span class='textsf'><i >using-directive</i></span></span></a> (<a href='namespace.udir' title='9.8.4&emsp;Using namespace directive'>[namespace.<span class='shy'></span>udir]</a>),</li><li id='def-2.17'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.17'>(2.17)</a></div>it is
a <a href='enum.udecl#nt:using-enum-declaration' title='9.7.2&emsp;The using enum declaration&emsp;[enum.udecl]'><span id='ntref:using-enum-declaration'><span class='textsf'><i >using-enum-declaration</i></span></span></a> (<a href='enum.udecl' title='9.7.2&emsp;The using enum declaration'>[enum.<span class='shy'></span>udecl]</a>),</li><li id='def-2.18'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.18'>(2.18)</a></div>it is
a <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration'><span class='textsf'><i >template-declaration</i></span></span></a> (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>)
whose <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a> is not followed by
either a <a href='temp.concept#nt:concept-definition' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-definition'><span class='textsf'><i >concept-definition</i></span></span></a> or a <a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration_'><span class='textsf'><i >declaration</i></span></span></a>
that defines a function, a class, a variable, or a static data member,</li><li id='def-2.19'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.19'>(2.19)</a></div>it is
an explicit instantiation declaration (<a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation'>[temp.<span class='shy'></span>explicit]</a>), or</li><li id='def-2.20'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def-2.20'>(2.20)</a></div>it is
an <a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'>explicit specialization</a> whose
<a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration__'><span class='textsf'><i >declaration</i></span></span></a> is not a definition<a class='hidden_link' href='#def-2.sentence-1'>.</a></li></ul></div> <div id='def-2.sentence-2' class='sentence'>
A declaration is said to be a <a class='hidden_link' href='#def:definition' title='6.2&emsp;Declarations and definitions&emsp;[basic.def]'><span id='def:definition'><i >definition</i></span></a> of each entity that it defines<a class='hidden_link' href='#def-2.sentence-2'>.</a></div> <div id='def-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def-example-1'>1</a></i>:&ensp;<div id='def-2.sentence-3' class='sentence'>All but one of the following are definitions:
<span class='codeblock'><span class='keyword'>int</span> a;                          <span class='comment'>// defines <span class='tcode_in_codeblock'>a</span></span>
<span class='keyword'>extern</span> <span class='keyword'>const</span> <span class='keyword'>int</span> c <span class='operator'>=</span> <span class='literal'>1</span>;         <span class='comment'>// defines <span class='tcode_in_codeblock'>c</span></span>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> x<span class='operator'>+</span>a; <span class='curlybracket'>}</span>    <span class='comment'>// defines <span class='tcode_in_codeblock'>f</span> and defines <span class='tcode_in_codeblock'>x</span></span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='keyword'>int</span> b; <span class='curlybracket'>}</span>;     <span class='comment'>// defines <span class='tcode_in_codeblock'>S</span>, <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;a</span>, and <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;b</span></span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>                      <span class='comment'>// defines <span class='tcode_in_codeblock'>X</span></span>
  <span class='keyword'>int</span> x;                        <span class='comment'>// defines non-static data member <span class='tcode_in_codeblock'>x</span></span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> y;                 <span class='comment'>// declares static data member <span class='tcode_in_codeblock'>y</span></span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>:</span> x<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                 <span class='comment'>// defines a constructor of <span class='tcode_in_codeblock'>X</span></span>
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> X<span class='operator'>::</span>y <span class='operator'>=</span> <span class='literal'>1</span>;                   <span class='comment'>// defines <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;y</span></span>
<span class='keyword'>enum</span> <span class='curlybracket'>{</span> up, down <span class='curlybracket'>}</span>;              <span class='comment'>// defines <span class='tcode_in_codeblock'>up</span> and <span class='tcode_in_codeblock'>down</span></span>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span> <span class='keyword'>int</span> d; <span class='curlybracket'>}</span>          <span class='comment'>// defines <span class='tcode_in_codeblock'>N</span> and <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;d</span></span>
<span class='keyword'>namespace</span> N1 <span class='operator'>=</span> N;               <span class='comment'>// defines <span class='tcode_in_codeblock'>N1</span></span>
X anX;                          <span class='comment'>// defines <span class='tcode_in_codeblock'>anX</span></span>
</span>
whereas these are just declarations:
<span class='codeblock'><span class='keyword'>extern</span> <span class='keyword'>int</span> a;                   <span class='comment'>// declares <span class='tcode_in_codeblock'>a</span></span>
<span class='keyword'>extern</span> <span class='keyword'>const</span> <span class='keyword'>int</span> c;             <span class='comment'>// declares <span class='tcode_in_codeblock'>c</span></span>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;                     <span class='comment'>// declares <span class='tcode_in_codeblock'>f</span></span>
<span class='keyword'>struct</span> S;                       <span class='comment'>// declares <span class='tcode_in_codeblock'>S</span></span>
<span class='keyword'>typedef</span> <span class='keyword'>int</span> Int;                <span class='comment'>// declares <span class='tcode_in_codeblock'>Int</span></span>
<span class='keyword'>extern</span> X anotherX;              <span class='comment'>// declares <span class='tcode_in_codeblock'>anotherX</span></span>
<span class='keyword'>using</span> N<span class='operator'>::</span>d;                     <span class='comment'>// declares <span class='tcode_in_codeblock'>d</span></span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='def-3'><div class='marginalizedparent'><a class='marginalized' href='#def-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L269'>#</a></div><div class='texpara'><div id='def-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#def-note-1'>1</a></i>:&ensp;<div id='def-3.sentence-1' class='sentence'><a class='index' id=':implementation-generated'></a>In some circumstances, C++ implementations implicitly define the
default constructor (<a href='class.default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>),
copy constructor, move constructor (<a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
copy assignment operator, move assignment operator (<a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),
or <a href='class.dtor' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'>destructor</a> member functions<a class='hidden_link' href='#def-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='def-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def-example-2'>2</a></i>:&ensp;<div id='def-3.sentence-2' class='sentence'>Given
<span class='codeblock'><span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>string<span class='anglebracket'>&gt;</span>

<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>string s;    <span class='comment'>// <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;string</span> is the standard library class (<a href='string.classes' title='23.4&emsp;String classes'>[string.<span class='shy'></span>classes]</a>)</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  C a;
  C b <span class='operator'>=</span> a;
  b <span class='operator'>=</span> a;
<span class='curlybracket'>}</span>
</span>
the implementation will implicitly define functions to make the
definition of <span class='texttt'>C</span> equivalent to
<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>string s;
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> s<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  C<span class='parenthesis'>(</span><span class='keyword'>const</span> C<span class='operator'>&amp;</span> x<span class='parenthesis'>)</span><span class='operator'>:</span> s<span class='parenthesis'>(</span>x<span class='operator'>.</span>s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  C<span class='parenthesis'>(</span>C<span class='operator'>&amp;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span><span class='operator'>:</span> s<span class='parenthesis'>(</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>string<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>s<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
      <span class='comment'><span class='rlap'><span class='textnormal'><i >//</i></span></span><span class='tcode_in_codeblock'>    : s(std&#x200b;::&#x200b;move(x.s)) { }</span></span>
  C<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> C<span class='operator'>&amp;</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> s <span class='operator'>=</span> x<span class='operator'>.</span>s; <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>; <span class='curlybracket'>}</span>
  C<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>C<span class='operator'>&amp;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> s <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>string<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>s<span class='parenthesis'>)</span>; <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>; <span class='curlybracket'>}</span>
      <span class='comment'><span class='rlap'><span class='textnormal'><i >//</i></span></span><span class='tcode_in_codeblock'>                { s = std&#x200b;::&#x200b;move(x.s); return *this; }</span></span>
  <span class='operator'>~</span>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='def-4'><div class='marginalizedparent'><a class='marginalized' href='#def-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L310'>#</a></div><div class='texpara'><div id='def-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#def-note-2'>2</a></i>:&ensp;<div id='def-4.sentence-1' class='sentence'>A class name can also be implicitly declared by an
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier__'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)<a class='hidden_link' href='#def-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='def-5'><div class='marginalizedparent'><a class='marginalized' href='#def-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L316'>#</a></div><div class='texpara'><div id='def-5.sentence-1' class='sentence'><a class='index' id=':type,incomplete'></a>In the definition of an object,
the type of that object shall not be
an incomplete type (<a href='#types.general#term.incomplete.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>),
an abstract class type (<a href='class.abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>), or
a (possibly multidimensional) array thereof<a class='hidden_link' href='#def-5.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-15'><div class='texpara'><a class='footnotenum' href='#footnote-15'>15)</a><a class='footnoteBacklink' href='#footnoteref-15'>15)</a> <div id='footnote-15.sentence-1' class='sentence'>Appearing inside the brace-enclosed
<a href='dcl.pre#nt:declaration-seq' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration-seq'><span class='textsf'><i >declaration-seq</i></span></span></a> in a <a href='dcl.link#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification'><span class='textsf'><i >linkage-specification</i></span></span></a> does
not affect whether a declaration is a definition<a class='hidden_link' href='#footnote-15.sentence-1'>.</a></div></div></div></div><div id='def.odr' class='section'><h2 ><a class='secnum' href='#def.odr' style='min-width:65pt'>6.3</a> One-definition rule <a class='abbr_ref' href='basic.def.odr'>[basic.def.odr]</a></h2><div class='texpara'><a class='index' id=':object,definition'></a><a class='index' id=':function,definition'></a><a class='index' id=':class,definition'></a><a class='index' id=':enumerator,definition'></a><a class='index' id=':one-definition_rule'></a></div><div class='para' id='def.odr-1'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L331'>#</a></div><div class='texpara'><div id='def.odr-1.sentence-1' class='sentence'>Each of the following is termed a <a class='hidden_link' href='#def:item,definable' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'><span id='def:item,definable'><i >definable item</i></span></a>:
<ul class='itemize'><li id='def.odr-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-1.1'>(1.1)</a></div>a class type (<a href='class' title='11&emsp;Classes'>[class]</a>),</li><li id='def.odr-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-1.2'>(1.2)</a></div>an enumeration type (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),</li><li id='def.odr-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-1.3'>(1.3)</a></div>a function (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),</li><li id='def.odr-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-1.4'>(1.4)</a></div>a variable (<a href='#pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>),</li><li id='def.odr-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-1.5'>(1.5)</a></div>a templated entity (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>),</li><li id='def.odr-1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-1.6'>(1.6)</a></div>a default argument for a parameter
(for a function in a given scope) (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>), or</li><li id='def.odr-1.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-1.7'>(1.7)</a></div>a default template argument (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>)<a class='hidden_link' href='#def.odr-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='def.odr-2'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L344'>#</a></div><div class='texpara'><div id='def.odr-2.sentence-1' class='sentence'>No translation unit shall contain more than one definition of any
definable item<a class='hidden_link' href='#def.odr-2.sentence-1'>.</a></div></div></div><div class='para' id='def.odr-3'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L348'>#</a></div><div class='texpara'><div id='def.odr-3.sentence-1' class='sentence'><a class='index' id=':expression,potentially_evaluated'></a>An expression or conversion is <a class='hidden_link' href='#def:potentially_evaluated' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'><span id='def:potentially_evaluated'><i >potentially evaluated</i></span></a> unless it is
an unevaluated operand (<a href='expr.context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>),
a subexpression thereof, or
a conversion in an initialization or conversion sequence in such a context<a class='hidden_link' href='#def.odr-3.sentence-1'>.</a></div> <div id='def.odr-3.sentence-2' class='sentence'>The set of <a class='hidden_link' href='#def:potential_results' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'><span id='def:potential_results'><i >potential results</i></span></a> of an expression <span class='math'><span class='mathalpha'>E</span></span> is
defined as follows:
<ul class='itemize'><li id='def.odr-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.1'>(3.1)</a></div><div class='texpara'><div id='def.odr-3.1.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> (<a href='expr.prim.id' title='7.5.4&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a>), the set
contains only <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#def.odr-3.1.sentence-1'>.</a></div></div></li><li id='def.odr-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.2'>(3.2)</a></div><div class='texpara'><div id='def.odr-3.2.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is a <a href='expr.sub' title='7.6.1.2&emsp;Subscripting&emsp;[expr.sub]'>subscripting</a> operation with
an array operand, the set contains the potential results of that operand<a class='hidden_link' href='#def.odr-3.2.sentence-1'>.</a></div></div></li><li id='def.odr-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.3'>(3.3)</a></div><div class='texpara'><div id='def.odr-3.3.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is a class member access
expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) of the form
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> <span class='texttt'><span class='operator'>.</span></span> <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>
naming a non-static data member,
the set contains the potential results of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><a class='hidden_link' href='#def.odr-3.3.sentence-1'>.</a></div></div></li><li id='def.odr-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.4'>(3.4)</a></div><div class='texpara'><div id='def.odr-3.4.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is a class member access expression
naming a static data member,
the set contains the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> designating the data member<a class='hidden_link' href='#def.odr-3.4.sentence-1'>.</a></div></div></li><li id='def.odr-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.5'>(3.5)</a></div><div class='texpara'><div id='def.odr-3.5.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is a <a href='expr.mptr.oper' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'>pointer-to-member expression</a> of the form
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>,
the set contains the potential results of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><a class='hidden_link' href='#def.odr-3.5.sentence-1'>.</a></div></div></li><li id='def.odr-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.6'>(3.6)</a></div><div class='texpara'><div id='def.odr-3.6.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> has the form <span class='texttt'><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span>, the set contains the
potential results of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.026em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.026em;">E</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><a class='hidden_link' href='#def.odr-3.6.sentence-1'>.</a></div></div></li><li id='def.odr-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.7'>(3.7)</a></div><div class='texpara'><div id='def.odr-3.7.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is a glvalue <a href='expr.cond' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'>conditional expression</a>,
the set is the union of the sets of
potential results of the second and third operands<a class='hidden_link' href='#def.odr-3.7.sentence-1'>.</a></div></div></li><li id='def.odr-3.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.8'>(3.8)</a></div><div class='texpara'><div id='def.odr-3.8.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> is a <a href='expr.comma' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'>comma expression</a>, the set
contains the potential results of the right operand<a class='hidden_link' href='#def.odr-3.8.sentence-1'>.</a></div></div></li><li id='def.odr-3.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-3.9'>(3.9)</a></div><div class='texpara'><div id='def.odr-3.9.sentence-1' class='sentence'>Otherwise, the set is empty<a class='hidden_link' href='#def.odr-3.9.sentence-1'>.</a></div></div></li></ul></div> <div id='def.odr-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#def.odr-note-1'>1</a></i>:&ensp;<div id='def.odr-3.sentence-3' class='sentence'>This set is a (possibly-empty) set of <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a><i >s</i>,
each of which is either <span class='math'><span class='mathalpha'>E</span></span> or a subexpression of <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#def.odr-3.sentence-3'>.</a></div> <div id='def.odr-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def.odr-example-1'>1</a></i>:&ensp;<div id='def.odr-3.sentence-4' class='sentence'>In the following example, the set of potential results of the initializer
of <span class='texttt'>n</span> contains the first <span class='texttt'>S<span class='operator'>&#x200b;::&#x200b;</span>x</span> subexpression, but not the second
<span class='texttt'>S<span class='operator'>&#x200b;::&#x200b;</span>x</span> subexpression<a class='hidden_link' href='#def.odr-3.sentence-4'>.</a></div> <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>&amp;</span>f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>&amp;</span>r<span class='parenthesis'>)</span>;
<span class='keyword'>int</span> n <span class='operator'>=</span> b <span class='operator'>?</span> <span class='parenthesis'>(</span><span class='literal'>1</span>, S<span class='operator'>::</span>x<span class='parenthesis'>)</span>           <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;x</span> is not odr-used here</span>
          <span class='operator'>:</span> f<span class='parenthesis'>(</span>S<span class='operator'>::</span>x<span class='parenthesis'>)</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;x</span> is odr-used here, so a definition is required</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='def.odr-4'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L398'>#</a></div><div class='texpara'><div id='def.odr-4.sentence-1' class='sentence'>A function is <a class='hidden_link' href='#def:function,named_by_expression_or_conversion' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'><span id='def:function,named_by_expression_or_conversion'><i >named by</i></span></a>
an expression or conversion as follows:
<ul class='itemize'><li id='def.odr-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-4.1'>(4.1)</a></div><div class='texpara'><div id='def.odr-4.1.sentence-1' class='sentence'>A function is named by an expression or conversion
  if it is the selected member
  of an overload set (<a href='#lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>, <a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)
  in an overload resolution performed
  as part of forming that expression or conversion,
  unless it is a pure virtual function and either
  the expression is not an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a> naming the function with
  an explicitly qualified name or
  the expression forms a pointer to member (<a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>)<a class='hidden_link' href='#def.odr-4.1.sentence-1'>.</a></div> <div id='def.odr-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#def.odr-note-2'>2</a></i>:&ensp;<div id='def.odr-4.1.sentence-2' class='sentence'>This covers
  taking the address of functions (<a href='conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>, <a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>),
  calls to named functions (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),
  operator overloading (<a href='over' title='12&emsp;Overloading'>[over]</a>),
  user-defined conversions (<a href='class.conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>),
  allocation functions for <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression'><span class='textsf'><i >new-expression</i></span></span></a><i >s</i> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>), as well as
  non-default initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#def.odr-4.1.sentence-2'>.</a></div> <div id='def.odr-4.1.sentence-3' class='sentence'>A constructor selected to copy or move an object of class type
  is considered to be named by an expression or conversion
  even if the call is actually elided by the implementation (<a href='class.copy.elision' title='11.9.6&emsp;Copy/move elision'>[class.<span class='shy'></span>copy.<span class='shy'></span>elision]</a>)<a class='hidden_link' href='#def.odr-4.1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='def.odr-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-4.2'>(4.2)</a></div><div class='texpara'><div id='def.odr-4.2.sentence-1' class='sentence'>A deallocation function for a class
  is named by a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_'><span class='textsf'><i >new-expression</i></span></span></a>
  if it is the single matching deallocation function
  for the allocation function selected by overload resolution,
  as specified in <a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a><a class='hidden_link' href='#def.odr-4.2.sentence-1'>.</a></div></div></li><li id='def.odr-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-4.3'>(4.3)</a></div><div class='texpara'><div id='def.odr-4.3.sentence-1' class='sentence'>A deallocation function for a class
  is named by a <a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression'><span class='textsf'><i >delete-expression</i></span></span></a>
  if it is the selected usual deallocation function
  as specified in <a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a> and <a href='class.free' title='11.4.11&emsp;Allocation and deallocation functions'>[class.<span class='shy'></span>free]</a><a class='hidden_link' href='#def.odr-4.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='def.odr-5'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L437'>#</a></div><div class='texpara'><div id='def.odr-5.sentence-1' class='sentence'><a class='index' id='term.odr.use'></a>A variable is named by an expression
if the expression is an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a> that denotes it<a class='hidden_link' href='#def.odr-5.sentence-1'>.</a></div> <div id='def.odr-5.sentence-2' class='sentence'>A variable <span class='texttt'>x</span> that is named by a
potentially-evaluated expression <span class='math'><span class='mathalpha'>E</span></span>
is <a class='hidden_link' href='#def:odr-use' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'><span id='def:odr-use'><i >odr-used</i></span></a> by <span class='math'><span class='mathalpha'>E</span></span> unless
<ul class='itemize'><li id='def.odr-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-5.1'>(5.1)</a></div><span class='texttt'>x</span> is a reference that is
  usable in constant expressions (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>), or</li><li id='def.odr-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-5.2'>(5.2)</a></div><span class='texttt'>x</span> is a variable of non-reference type that is
  usable in constant expressions and has no mutable subobjects, and
  <span class='math'><span class='mathalpha'>E</span></span> is an element of the set of potential results of an expression
  of non-volatile-qualified non-class type
  to which the lvalue-to-rvalue conversion (<a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>) is applied, or</li><li id='def.odr-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-5.3'>(5.3)</a></div><span class='texttt'>x</span> is a variable of non-reference type, and
  <span class='math'><span class='mathalpha'>E</span></span> is an element of the set of potential results
  of a discarded-value expression (<a href='expr.context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)
  to which the lvalue-to-rvalue conversion is not applied<a class='hidden_link' href='#def.odr-5.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='def.odr-6'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L461'>#</a></div><div class='texpara'><div id='def.odr-6.sentence-1' class='sentence'>A structured binding is odr-used if it appears as a potentially-evaluated expression<a class='hidden_link' href='#def.odr-6.sentence-1'>.</a></div></div></div><div class='para' id='def.odr-7'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L464'>#</a></div><div class='texpara'><div id='def.odr-7.sentence-1' class='sentence'><span class='texttt'><span class='operator'>*</span><span id=':this_'><span class='texttt'><span class='keyword'>this</span></span></span></span> is odr-used if <span id=':this__'><span class='texttt'><span class='keyword'>this</span></span></span> appears as a potentially-evaluated expression
(including as the result of the implicit transformation in the body of a non-static
member function (<a href='class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>))<a class='hidden_link' href='#def.odr-7.sentence-1'>.</a></div></div></div><div class='para' id='def.odr-8'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L469'>#</a></div><div class='texpara'><div id='def.odr-8.sentence-1' class='sentence'>A virtual member
function is odr-used if it is not pure<a class='hidden_link' href='#def.odr-8.sentence-1'>.</a></div> <div id='def.odr-8.sentence-2' class='sentence'>A function is odr-used if it is named by
a potentially-evaluated expression or conversion<a class='hidden_link' href='#def.odr-8.sentence-2'>.</a></div> <div id='def.odr-8.sentence-3' class='sentence'>A non-placement allocation or deallocation
function for a class is odr-used by the definition of a constructor of that
class<a class='hidden_link' href='#def.odr-8.sentence-3'>.</a></div> <div id='def.odr-8.sentence-4' class='sentence'>A non-placement deallocation function for a class is odr-used by the
definition of the destructor of that class, or by being selected by the
lookup at the point of definition of a virtual
destructor (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#def.odr-8.sentence-4'>.</a><a class='footnoteref' href='#footnote-16' id='footnoteref-16' title='An implementation is not required to call allocation and deallocation functions from constructors or destructors; however, this is a permissible implementation technique.'>16</a></div></div></div><div class='para' id='def.odr-9'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L487'>#</a></div><div class='texpara'><div id='def.odr-9.sentence-1' class='sentence'>An assignment operator function in a class is odr-used by an
implicitly-defined
copy assignment or move assignment function for another class as specified
in <a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a><a class='hidden_link' href='#def.odr-9.sentence-1'>.</a></div> <div id='def.odr-9.sentence-2' class='sentence'>A constructor for a class is odr-used as specified
in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a><a class='hidden_link' href='#def.odr-9.sentence-2'>.</a></div> <div id='def.odr-9.sentence-3' class='sentence'>A destructor for a class is odr-used if it is
<a href='class.dtor#def:potentially_invoked' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'>potentially invoked</a><a class='hidden_link' href='#def.odr-9.sentence-3'>.</a></div></div></div><div class='para' id='def.odr-10'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L496'>#</a></div><div class='texpara'><div id='def.odr-10.sentence-1' class='sentence'>A <a href='#def:entity,local' title='6.1&emsp;Preamble&emsp;[basic.pre]'>local entity</a>
is <a class='hidden_link' href='#def:odr-usable' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'><span id='def:odr-usable'><i >odr-usable</i></span></a> in a <a href='#scope.scope' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'>scope</a> if:
<ul class='itemize'><li id='def.odr-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-10.1'>(10.1)</a></div>either the local entity is not <span class='texttt'><span class='operator'>*</span><span id=':this___'><span class='texttt'><span class='keyword'>this</span></span></span></span>, or
an enclosing class or non-lambda function parameter scope exists and,
if the innermost such scope is a function parameter scope,
it corresponds to a non-static member function, and</li><li id='def.odr-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-10.2'>(10.2)</a></div>for each intervening scope (<a href='#scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>)
between the point at which the entity is introduced and the scope
(where <span class='texttt'><span class='operator'>*</span><span id=':this____'><span class='texttt'><span class='keyword'>this</span></span></span></span> is considered to be introduced
within the innermost enclosing class or non-lambda function definition scope),
either:
<ul class='itemize'><li id='def.odr-10.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#def.odr-10.2.1'>(10.2.1)</a></div>the intervening scope is a block scope, or</li><li id='def.odr-10.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#def.odr-10.2.2'>(10.2.2)</a></div>the intervening scope is the function parameter scope of a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression'><span class='textsf'><i >lambda-expression</i></span></span></a>
that has a <a href='expr.prim.lambda.capture#nt:simple-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:simple-capture'><span class='textsf'><i >simple-capture</i></span></span></a>
naming the entity or has a <a href='expr.prim.lambda.capture#nt:capture-default' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:capture-default'><span class='textsf'><i >capture-default</i></span></span></a>, and
the block scope of the <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_'><span class='textsf'><i >lambda-expression</i></span></span></a>
is also an intervening scope<a class='hidden_link' href='#def.odr-10.sentence-1'>.</a></li></ul></li></ul></div></div><div class='texpara'><div id='def.odr-10.sentence-2' class='sentence'>If a local entity is odr-used
in a scope in which it is not odr-usable,
the program is ill-formed<a class='hidden_link' href='#def.odr-10.sentence-2'>.</a></div> <div id='def.odr-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def.odr-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> n <span class='operator'>=</span> <span class='literal'>1</span>; <span class='curlybracket'>}</span>;                <span class='comment'>// error: <span class='tcode_in_codeblock'>n</span> is not odr-usable due to intervening lambda-expression</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> n <span class='operator'>=</span> <span class='literal'>2</span>; <span class='curlybracket'>}</span>         <span class='comment'>// error: <span class='tcode_in_codeblock'>n</span> is not odr-usable due to intervening function definition scope</span>
  <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> n<span class='parenthesis'>)</span>;              <span class='comment'>// error: <span class='tcode_in_codeblock'>n</span> is not odr-usable due to intervening function parameter scope</span>
  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> k <span class='operator'>=</span> n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;            <span class='comment'>// error: <span class='tcode_in_codeblock'>n</span> is not odr-usable due to being</span>
                                <span class='comment'>// outside the block scope of the <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__'><span class='textsf'><i >lambda-expression</i></span></span></a></span>
  <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='squarebracket'>[</span>n<span class='squarebracket'>]</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> n; <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;    <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='def.odr-11'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L538'>#</a></div><div class='texpara'><div id='def.odr-11.sentence-1' class='sentence'>Every program shall contain at least one definition of every
function or variable that is odr-used in that program
outside of a <a href='stmt.if#def:discarded_statement' title='8.5.2&emsp;The if statement&emsp;[stmt.if]'>discarded statement</a>; no diagnostic required<a class='hidden_link' href='#def.odr-11.sentence-1'>.</a></div> <div id='def.odr-11.sentence-2' class='sentence'>The definition can appear explicitly in the program, it can be found in
the standard or a user-defined library, or (when appropriate) it is
implicitly defined (see <a href='class.default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>, <a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>,
<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>, and <a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>)<a class='hidden_link' href='#def.odr-11.sentence-2'>.</a></div> <div id='def.odr-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def.odr-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>auto</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>return</span> A<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>decltype</span><span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>auto</span> x <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span> <div id='def.odr-11.sentence-3' class='sentence'>
A program containing this translation unit is ill-formed
because <span class='texttt'>g</span> is odr-used but not defined,
and cannot be defined in any other translation unit
because the local class <span class='texttt'>A</span> cannot be named outside this
translation unit<a class='hidden_link' href='#def.odr-11.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='def.odr-12'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L562'>#</a></div><div class='texpara'><div id='def.odr-12.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:definition_domain' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'><span id='def:definition_domain'><i >definition domain</i></span></a> is
a <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment'><span class='textsf'><i >private-module-fragment</i></span></span></a> or
the portion of a translation unit
excluding its <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment_'><span class='textsf'><i >private-module-fragment</i></span></span></a> (if any)<a class='hidden_link' href='#def.odr-12.sentence-1'>.</a></div> <div id='def.odr-12.sentence-2' class='sentence'>A definition of an inline function or variable shall be reachable
from the end of every definition domain
in which it is odr-used outside of a discarded statement<a class='hidden_link' href='#def.odr-12.sentence-2'>.</a></div></div></div><div class='para' id='def.odr-13'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L571'>#</a></div><div class='texpara'><div id='def.odr-13.sentence-1' class='sentence'><a class='index' id=':type,incomplete_'></a>A definition of a class shall be reachable in every context in which
the class is used in a way that requires the class type to be complete<a class='hidden_link' href='#def.odr-13.sentence-1'>.</a></div> <div id='def.odr-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def.odr-example-4'>4</a></i>:&ensp;<div id='def.odr-13.sentence-2' class='sentence'>The following complete translation unit is well-formed,
even though it never defines <span class='texttt'>X</span>:
<span class='codeblock'><span class='keyword'>struct</span> X;                       <span class='comment'>// declare <span class='tcode_in_codeblock'>X</span> as a struct type</span>
<span class='keyword'>struct</span> X<span class='operator'>*</span> x1;                   <span class='comment'>// use <span class='tcode_in_codeblock'>X</span> in pointer formation</span>
X<span class='operator'>*</span> x2;                          <span class='comment'>// use <span class='tcode_in_codeblock'>X</span> in pointer formation</span>
</span></div> —&nbsp;<i>end example</i>]</div></div> <div id='def.odr-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#def.odr-note-3'>3</a></i>:&ensp;<div id='def.odr-13.sentence-3' class='sentence'>The rules for declarations and expressions
describe in which contexts complete class types are required<a class='hidden_link' href='#def.odr-13.sentence-3'>.</a></div> <div id='def.odr-13.sentence-4' class='sentence'>A class
type <span class='texttt'>T</span> must be complete if:
<ul class='itemize'><li id='def.odr-13.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.1'>(13.1)</a></div>an object of type <span class='texttt'>T</span> is <a href='#def' title='6.2&emsp;Declarations and definitions&emsp;[basic.def]'>defined</a>, or</li><li id='def.odr-13.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.2'>(13.2)</a></div>a non-static class <a href='class.mem#def:data_member' title='11.4&emsp;Class members&emsp;[class.mem]'>data member</a> of
type <span class='texttt'>T</span> is declared, or</li><li id='def.odr-13.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.3'>(13.3)</a></div><span class='texttt'>T</span> is used as the allocated type or array element type in a
<a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>), or</li><li id='def.odr-13.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.4'>(13.4)</a></div>an lvalue-to-rvalue conversion is applied to
a glvalue referring
to an object of type <span class='texttt'>T</span> (<a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>), or</li><li id='def.odr-13.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.5'>(13.5)</a></div>an expression is converted (either implicitly or explicitly) to
type <span class='texttt'>T</span> (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>, <a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>), or</li><li id='def.odr-13.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.6'>(13.6)</a></div>an expression that is not a null pointer constant, and has type
other than <span class='mathit'>cv</span> <span class='texttt'><span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span>, is converted to the type pointer to <span class='texttt'>T</span>
or reference to <span class='texttt'>T</span> using a standard conversion (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>),
a <span id=':dynamic_cast'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> (<a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>) or
a <span id=':static_cast'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>), or</li><li id='def.odr-13.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.7'>(13.7)</a></div>a class member access operator is applied to an expression of type
<span class='texttt'>T</span> (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>), or</li><li id='def.odr-13.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.8'>(13.8)</a></div>the <span id=':typeid'><span class='texttt'><span class='keyword'>typeid</span></span></span> operator (<a href='expr.typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>) or the
<span id=':sizeof'><span class='texttt'><span class='keyword'>sizeof</span></span></span> operator (<a href='expr.sizeof' title='7.6.2.5&emsp;Sizeof'>[expr.<span class='shy'></span>sizeof]</a>) is applied to an operand of
type <span class='texttt'>T</span>, or</li><li id='def.odr-13.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.9'>(13.9)</a></div>a function with a return type or argument type of type <span class='texttt'>T</span>
is defined (<a href='#def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>) or <a href='expr.call' title='7.6.1.3&emsp;Function call&emsp;[expr.call]'>called</a>, or</li><li id='def.odr-13.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.10'>(13.10)</a></div>a class with a base class of type <span class='texttt'>T</span> is
defined (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>), or</li><li id='def.odr-13.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.11'>(13.11)</a></div>an lvalue of type <span class='texttt'>T</span> is <a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'>assigned to</a>, or</li><li id='def.odr-13.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.12'>(13.12)</a></div>the type <span class='texttt'>T</span> is the subject of an
<span id=':alignof'><span class='texttt'><span class='keyword'>alignof</span></span></span> expression (<a href='expr.alignof' title='7.6.2.6&emsp;Alignof'>[expr.<span class='shy'></span>alignof]</a>), or</li><li id='def.odr-13.13'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-13.13'>(13.13)</a></div>an <a href='except.pre#nt:exception-declaration' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:exception-declaration_'><span class='textsf'><i >exception-declaration</i></span></span></a> has type <span class='texttt'>T</span>, reference to
<span class='texttt'>T</span>, or pointer to <span class='texttt'>T</span> (<a href='except.handle' title='14.4&emsp;Handling an exception'>[except.<span class='shy'></span>handle]</a>)<a class='hidden_link' href='#def.odr-13.sentence-4'>.</a></li></ul></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='def.odr-14'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L622'>#</a></div><div class='texpara'><div id='def.odr-14.sentence-1' class='sentence'>For any definable item <span class='texttt'>D</span> with definitions in multiple translation units,
<ul class='itemize'><li id='def.odr-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.1'>(14.1)</a></div>if <span class='texttt'>D</span> is a non-inline non-templated function or variable, or</li><li id='def.odr-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.2'>(14.2)</a></div>if the definitions in different translation units
do not satisfy the following requirements,</li></ul>
the program is ill-formed;
a diagnostic is required only
if the definable item is attached to a named module and
a prior definition is reachable at the point where a later definition occurs<a class='hidden_link' href='#def.odr-14.sentence-1'>.</a></div> <div id='def.odr-14.sentence-2' class='sentence'>Given such an item,
for all definitions of <span class='texttt'>D</span>, or,
if <span class='texttt'>D</span> is an unnamed enumeration,
for all definitions of <span class='texttt'>D</span> that are reachable at any given program point,
the following requirements shall be satisfied<a class='hidden_link' href='#def.odr-14.sentence-2'>.</a></div> <ul class='itemize'><li id='def.odr-14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.3'>(14.3)</a></div><div class='texpara'><div id='def.odr-14.3.sentence-1' class='sentence'>Each such definition
shall not be attached to a named module (<a href='module.unit' title='10.1&emsp;Module units and purviews'>[module.<span class='shy'></span>unit]</a>)<a class='hidden_link' href='#def.odr-14.3.sentence-1'>.</a></div></div></li><li id='def.odr-14.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.4'>(14.4)</a></div><div class='texpara'><div id='def.odr-14.4.sentence-1' class='sentence'>Each such definition shall consist of
the same sequence of tokens,
where the definition of a closure type
is considered to consist of the sequence of tokens of
the corresponding <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#def.odr-14.4.sentence-1'>.</a></div></div></li><li id='def.odr-14.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.5'>(14.5)</a></div><div class='texpara'><div id='def.odr-14.5.sentence-1' class='sentence'>In each such definition, corresponding names, looked up
according to <a href='#lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>, shall refer to the same entity, after
overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>) and after matching of partial
template specialization (<a href='temp.over' title='13.10.4&emsp;Overload resolution'>[temp.<span class='shy'></span>over]</a>), except that a name can refer to
<ul class='itemize'><li id='def.odr-14.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#def.odr-14.5.1'>(14.5.1)</a></div>a non-volatile const object with internal or no linkage if the object
<ul class='itemize'><li id='def.odr-14.5.1.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#def.odr-14.5.1.1'>(14.5.1.1)</a></div>has the same literal type in all definitions of <span class='texttt'>D</span>,</li><li id='def.odr-14.5.1.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#def.odr-14.5.1.2'>(14.5.1.2)</a></div>is initialized with a <a href='expr.const' title='7.7&emsp;Constant expressions&emsp;[expr.const]'>constant expression</a>,</li><li id='def.odr-14.5.1.3'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#def.odr-14.5.1.3'>(14.5.1.3)</a></div>is not odr-used in any definition of <span class='texttt'>D</span>, and</li><li id='def.odr-14.5.1.4'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#def.odr-14.5.1.4'>(14.5.1.4)</a></div>has the same value in all definitions of <span class='texttt'>D</span>,</li></ul>
or</li><li id='def.odr-14.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#def.odr-14.5.2'>(14.5.2)</a></div>a reference with internal or no linkage
initialized with a constant expression such that
the reference refers to the same entity in all definitions of <span class='texttt'>D</span><a class='hidden_link' href='#def.odr-14.5.sentence-1'>.</a></li></ul></div></div></li><li id='def.odr-14.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.6'>(14.6)</a></div><div class='texpara'><div id='def.odr-14.6.sentence-1' class='sentence'>In each such definition, except within
the default arguments and default template arguments of <span class='texttt'>D</span>,
corresponding <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> shall have
the same closure type (see below)<a class='hidden_link' href='#def.odr-14.6.sentence-1'>.</a></div></div></li><li id='def.odr-14.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.7'>(14.7)</a></div><div class='texpara'><div id='def.odr-14.7.sentence-1' class='sentence'>In each such definition, corresponding entities shall have the
same language linkage<a class='hidden_link' href='#def.odr-14.7.sentence-1'>.</a></div></div></li><li id='def.odr-14.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.8'>(14.8)</a></div><div class='texpara'><div id='def.odr-14.8.sentence-1' class='sentence'>In each such definition,
const objects with static or thread storage duration
shall be constant-initialized if
the object is constant-initialized in any such definition<a class='hidden_link' href='#def.odr-14.8.sentence-1'>.</a></div></div></li><li id='def.odr-14.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.9'>(14.9)</a></div><div class='texpara'><div id='def.odr-14.9.sentence-1' class='sentence'>In each such definition,
corresponding manifestly constant-evaluated expressions
that are not value-dependent
shall have the same value (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>, <a href='temp.dep.constexpr' title='13.8.3.4&emsp;Value-dependent expressions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#def.odr-14.9.sentence-1'>.</a></div></div></li><li id='def.odr-14.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.10'>(14.10)</a></div><div class='texpara'><div id='def.odr-14.10.sentence-1' class='sentence'>In each such definition, the overloaded operators referred
to, the implicit calls to conversion functions, constructors, operator
new functions and operator delete functions, shall refer to the same
function<a class='hidden_link' href='#def.odr-14.10.sentence-1'>.</a></div></div></li><li id='def.odr-14.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-14.11'>(14.11)</a></div><div class='texpara'><div id='def.odr-14.11.sentence-1' class='sentence'>In each such definition,
a default argument used by an (implicit or explicit) function call or
a default template argument used by an (implicit or explicit)
<a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a> or <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>
is treated as if its token sequence
were present in the definition of <span class='texttt'>D</span>;
that is, the default argument or default template argument
is subject to the requirements described in this paragraph (recursively)<a class='hidden_link' href='#def.odr-14.11.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='def.odr-15'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L701'>#</a></div><div class='texpara'><div id='def.odr-15.sentence-1' class='sentence'>For the purposes of the preceding requirements:
<ul class='itemize'><li id='def.odr-15.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-15.1'>(15.1)</a></div><div class='texpara'><div id='def.odr-15.1.sentence-1' class='sentence'>If <span class='texttt'>D</span> is a class with an implicitly-declared
constructor (<a href='class.default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>, <a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
it is as if the constructor was
implicitly defined in every translation unit where it is odr-used, and the
implicit definition in every translation unit shall call the same
constructor for a subobject of <span class='texttt'>D</span><a class='hidden_link' href='#def.odr-15.1.sentence-1'>.</a></div> <div id='def.odr-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def.odr-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='comment'>// translation unit 1:</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='keyword'>class</span> D <span class='curlybracket'>{</span>
  X x <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='curlybracket'>}</span>;
D d1;                           <span class='comment'>// <span class='tcode_in_codeblock'>X(int, int)</span> called by <span class='tcode_in_codeblock'>D()</span></span>

<span class='comment'>// translation unit 2:</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>0</span>, <span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='keyword'>class</span> D <span class='curlybracket'>{</span>
  X x <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='curlybracket'>}</span>;
D d2;                           <span class='comment'>// <span class='tcode_in_codeblock'>X(int, int, int)</span> called by <span class='tcode_in_codeblock'>D()</span>;</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>D()</span>'s implicit definition violates the ODR</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li><li id='def.odr-15.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-15.2'>(15.2)</a></div><div class='texpara'><div id='def.odr-15.2.sentence-1' class='sentence'>If <span class='texttt'>D</span> is a class with
a defaulted three-way comparison operator function (<a href='class.spaceship' title='11.10.3&emsp;Three-way comparison'>[class.<span class='shy'></span>spaceship]</a>),
it is as if the operator was
implicitly defined in every translation unit where it is odr-used, and the
implicit definition in every translation unit shall call the same
comparison operators for each subobject of <span class='texttt'>D</span><a class='hidden_link' href='#def.odr-15.2.sentence-1'>.</a></div></div></li><li id='def.odr-15.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#def.odr-15.3'>(15.3)</a></div><div class='texpara'><div id='def.odr-15.3.sentence-1' class='sentence'>If <span class='texttt'>D</span> is a template and is defined in more than one
translation unit, the requirements
apply both to names from the template's enclosing scope used in the
template definition, and also to dependent names at
the point of instantiation (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>)<a class='hidden_link' href='#def.odr-15.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='def.odr-16'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L752'>#</a></div><div class='texpara'><div id='def.odr-16.sentence-1' class='sentence'>These requirements also apply to corresponding entities
defined within each definition of <span class='texttt'>D</span>
(including the closure types of <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i>,
but excluding entities defined within default arguments or
default template arguments of either <span class='texttt'>D</span> or
an entity not defined within <span class='texttt'>D</span>)<a class='hidden_link' href='#def.odr-16.sentence-1'>.</a></div> <div id='def.odr-16.sentence-2' class='sentence'>For each such entity and for <span class='texttt'>D</span> itself,
the behavior is as if there is a single entity with a single definition,
including in the application of these requirements to other entities<a class='hidden_link' href='#def.odr-16.sentence-2'>.</a></div> <div id='def.odr-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#def.odr-note-4'>4</a></i>:&ensp;<div id='def.odr-16.sentence-3' class='sentence'>The entity is still declared in multiple translation units, and <a href='#link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>
still applies to these declarations<a class='hidden_link' href='#def.odr-16.sentence-3'>.</a></div> <div id='def.odr-16.sentence-4' class='sentence'>In particular,
<a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> (<a href='expr.prim.lambda' title='7.5.5&emsp;Lambda expressions'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda]</a>)
appearing in the type of <span class='texttt'>D</span> can result
in the different declarations having distinct types, and
<a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> appearing in a default argument of <span class='texttt'>D</span>
might still denote different types in different translation units<a class='hidden_link' href='#def.odr-16.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='def.odr-17'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L772'>#</a></div><div class='texpara'><div id='def.odr-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#def.odr-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>inline</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>bool</span> cond, <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>cond<span class='parenthesis'>)</span> f<span class='parenthesis'>(</span><span class='literal'>false</span>, <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>inline</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>bool</span> cond, <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>cond<span class='parenthesis'>)</span> g<span class='parenthesis'>(</span><span class='literal'>false</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>bool</span> cond, <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>if</span> <span class='parenthesis'>(</span>cond<span class='parenthesis'>)</span> h<span class='parenthesis'>(</span><span class='literal'>false</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='def.odr-17.sentence-1' class='sentence'>If the definition of <span class='texttt'>f</span> appears in multiple translation units,
the behavior of the program is as if
there is only one definition of <span class='texttt'>f</span><a class='hidden_link' href='#def.odr-17.sentence-1'>.</a></div> <div id='def.odr-17.sentence-2' class='sentence'>If the definition of <span class='texttt'>g</span> appears in multiple translation units,
the program is ill-formed (no diagnostic required) because
each such definition uses a default argument that
refers to a distinct <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________'><span class='textsf'><i >lambda-expression</i></span></span></a> closure type<a class='hidden_link' href='#def.odr-17.sentence-2'>.</a></div> <div id='def.odr-17.sentence-3' class='sentence'>The definition of <span class='texttt'>X</span> can appear
in multiple translation units of a valid program;
the <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> defined within
the default argument of <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>h</span> within the definition of <span class='texttt'>X</span>
denote the same closure type in each translation unit<a class='hidden_link' href='#def.odr-17.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='def.odr-18'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L802'>#</a></div><div class='texpara'><div id='def.odr-18.sentence-1' class='sentence'>If, at any point in the program,
there is more than one
reachable unnamed enumeration definition in the same scope
that have the same first enumerator name and
do not have typedef names for linkage purposes (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),
those unnamed enumeration types shall be the same; no diagnostic required<a class='hidden_link' href='#def.odr-18.sentence-1'>.</a></div> </div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-16'><div class='texpara'><a class='footnotenum' href='#footnote-16'>16)</a><a class='footnoteBacklink' href='#footnoteref-16'>16)</a> <div id='footnote-16.sentence-1' class='sentence'>An implementation is not required
to call allocation and
deallocation functions from constructors or destructors; however, this
is a permissible implementation technique<a class='hidden_link' href='#footnote-16.sentence-1'>.</a></div></div></div></div><div id='scope' class='section'><h2 ><a class='secnum' href='#scope' style='min-width:65pt'>6.4</a> Scope <a class='abbr_ref' href='basic.scope'>[basic.scope]</a></h2><div class='texpara'><a class='index' id=':scope_'></a></div><div id='scope.scope' class='section'><h3 ><a class='secnum' href='#scope.scope' style='min-width:80pt'>6.4.1</a> General <a class='abbr_ref' href='basic.scope.scope'>[basic.scope.scope]</a></h3><div class='para' id='scope.scope-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L816'>#</a></div><div class='texpara'><div id='scope.scope-1.sentence-1' class='sentence'>The declarations in a program appear in a number of <a class='hidden_link' href='#def:scope' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope'><i >scopes</i></span></a>
that are in general discontiguous<a class='hidden_link' href='#scope.scope-1.sentence-1'>.</a></div> <div id='scope.scope-1.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:scope,global' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope,global'><i >global scope</i></span></a> contains the entire program;
every other scope <span class='math'><span class='mathalpha'>S</span></span> is introduced by a
declaration,
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>,
<a href='stmt.pre#nt:statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:statement'><span class='textsf'><i >statement</i></span></span></a>, or <a href='except.pre#nt:handler' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:handler'><span class='textsf'><i >handler</i></span></span></a>
(as described in the following subclauses of <a href='#scope' title='6.4&emsp;Scope'>[basic.<span class='shy'></span>scope]</a>)
appearing in another scope which thereby contains <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#scope.scope-1.sentence-2'>.</a></div> <div id='scope.scope-1.sentence-3' class='sentence'>An <a class='hidden_link' href='#def:scope,enclosing' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope,enclosing'><i >enclosing scope</i></span></a> at a program point is any scope that contains it;
the smallest such scope is said to be the <a class='hidden_link' href='#def:scope,immediate' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope,immediate'><i >immediate scope</i></span></a>
at that point<a class='hidden_link' href='#scope.scope-1.sentence-3'>.</a></div> <div id='scope.scope-1.sentence-4' class='sentence'>A scope <a class='hidden_link' href='#def:scope,intervene' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope,intervene'><i >intervenes</i></span></a>
between a program point <span class='math'><span class='mathalpha'>P</span></span> and a scope <span class='math'><span class='mathalpha'>S</span></span>
(that does not contain <span class='math'><span class='mathalpha'>P</span></span>) if it is or contains <span class='math'><span class='mathalpha'>S</span></span> but does not contain <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#scope.scope-1.sentence-4'>.</a></div></div></div><div class='para' id='scope.scope-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L833'>#</a></div><div class='texpara'><div id='scope.scope-2.sentence-1' class='sentence'>Unless otherwise specified:
<ul class='itemize'><li id='scope.scope-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.1'>(2.1)</a></div><div class='texpara'><div id='scope.scope-2.1.sentence-1' class='sentence'>The smallest scope that contains a scope <span class='math'><span class='mathalpha'>S</span></span> is
the <a class='hidden_link' href='#def:scope,parent' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope,parent'><i >parent scope</i></span></a> of <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#scope.scope-2.1.sentence-1'>.</a></div></div></li><li id='scope.scope-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.2'>(2.2)</a></div><div class='texpara'><div id='scope.scope-2.2.sentence-1' class='sentence'>No two declarations (re)introduce the same entity<a class='hidden_link' href='#scope.scope-2.2.sentence-1'>.</a></div></div></li><li id='scope.scope-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.3'>(2.3)</a></div><div class='texpara'><div id='scope.scope-2.3.sentence-1' class='sentence'>A declaration <a class='hidden_link' href='#def:scope,inhabit' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope,inhabit'><i >inhabits</i></span></a>
the immediate scope at its locus (<a href='#scope.pdecl' title='6.4.2&emsp;Point of declaration'>[basic.<span class='shy'></span>scope.<span class='shy'></span>pdecl]</a>)<a class='hidden_link' href='#scope.scope-2.3.sentence-1'>.</a></div></div></li><li id='scope.scope-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.4'>(2.4)</a></div><div class='texpara'><div id='scope.scope-2.4.sentence-1' class='sentence'>A declaration's <a class='hidden_link' href='#def:scope,target' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:scope,target'><i >target scope</i></span></a> is the scope it inhabits<a class='hidden_link' href='#scope.scope-2.4.sentence-1'>.</a></div></div></li><li id='scope.scope-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.5'>(2.5)</a></div><div class='texpara'><div id='scope.scope-2.5.sentence-1' class='sentence'>Any names (re)introduced by a declaration are <a class='hidden_link' href='#def:name,bound' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:name,bound'><i >bound</i></span></a> to it
in its target scope<a class='hidden_link' href='#scope.scope-2.5.sentence-1'>.</a></div></div></li></ul></div> <div id='scope.scope-2.sentence-2' class='sentence'>
An entity <a class='hidden_link' href='#def:entity,belong' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:entity,belong'><i >belongs</i></span></a> to a scope <span class='math'><span class='mathalpha'>S</span></span>
if <span class='math'><span class='mathalpha'>S</span></span> is the target scope of a declaration of the entity<a class='hidden_link' href='#scope.scope-2.sentence-2'>.</a></div> <div id='scope.scope-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.scope-note-1'>1</a></i>:&ensp;<div id='scope.scope-2.sentence-3' class='sentence'>Special cases include that:
<ul class='itemize'><li id='scope.scope-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.6'>(2.6)</a></div><div class='texpara'><div id='scope.scope-2.6.sentence-1' class='sentence'>Template parameter scopes are parents
only to other template parameter scopes (<a href='#scope.temp' title='6.4.9&emsp;Template parameter scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>temp]</a>)<a class='hidden_link' href='#scope.scope-2.6.sentence-1'>.</a></div></div></li><li id='scope.scope-2.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.7'>(2.7)</a></div><div class='texpara'><div id='scope.scope-2.7.sentence-1' class='sentence'>Corresponding declarations with appropriate linkage
declare the same entity (<a href='#link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#scope.scope-2.7.sentence-1'>.</a></div></div></li><li id='scope.scope-2.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.8'>(2.8)</a></div><div class='texpara'><div id='scope.scope-2.8.sentence-1' class='sentence'>The declaration in a <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration_'><span class='textsf'><i >template-declaration</i></span></span></a>
inhabits the same scope as the <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration__'><span class='textsf'><i >template-declaration</i></span></span></a><a class='hidden_link' href='#scope.scope-2.8.sentence-1'>.</a></div></div></li><li id='scope.scope-2.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.9'>(2.9)</a></div><div class='texpara'><div id='scope.scope-2.9.sentence-1' class='sentence'>Friend declarations and
declarations of qualified names and
template specializations do not bind names (<a href='dcl.meaning' title='9.3.4&emsp;Meaning of declarators'>[dcl.<span class='shy'></span>meaning]</a>);
those with qualified names target a specified scope, and
other friend declarations and
certain <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier___'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a><i >s</i> (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)
target a larger enclosing scope<a class='hidden_link' href='#scope.scope-2.9.sentence-1'>.</a></div></div></li><li id='scope.scope-2.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.10'>(2.10)</a></div><div class='texpara'><div id='scope.scope-2.10.sentence-1' class='sentence'>Block-scope extern declarations target a larger enclosing scope
but bind a name in their immediate scope<a class='hidden_link' href='#scope.scope-2.10.sentence-1'>.</a></div></div></li><li id='scope.scope-2.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.11'>(2.11)</a></div><div class='texpara'><div id='scope.scope-2.11.sentence-1' class='sentence'>The names of unscoped enumerators are bound
in the two innermost enclosing scopes (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>)<a class='hidden_link' href='#scope.scope-2.11.sentence-1'>.</a></div></div></li><li id='scope.scope-2.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.12'>(2.12)</a></div><div class='texpara'><div id='scope.scope-2.12.sentence-1' class='sentence'>A class's name is also bound in its own scope (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#scope.scope-2.12.sentence-1'>.</a></div></div></li><li id='scope.scope-2.13'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-2.13'>(2.13)</a></div><div class='texpara'><div id='scope.scope-2.13.sentence-1' class='sentence'>The names of the members of an anonymous union are bound in
the union's parent scope (<a href='class.union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>)<a class='hidden_link' href='#scope.scope-2.13.sentence-1'>.</a></div></div></li></ul></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='scope.scope-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L886'>#</a></div><div class='texpara'><div id='scope.scope-3.sentence-1' class='sentence'>Two non-static member functions have
<a class='hidden_link' href='#def:object_parameter,corresponding' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:object_parameter,corresponding'><i >corresponding object parameters</i></span></a> if:
<ul class='itemize'><li id='scope.scope-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-3.1'>(3.1)</a></div>exactly one is an implicit object member function
with no <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> and
the types of their object parameters (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),
after removing top-level references,
are the same, or</li><li id='scope.scope-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-3.2'>(3.2)</a></div>their object parameters have the same type<a class='hidden_link' href='#scope.scope-3.sentence-1'>.</a></li></ul></div> <div id='scope.scope-3.sentence-2' class='sentence'><a class='index' id=':template,function,corresponding_object_parameter'></a>Two non-static member function templates have
<a class='hidden_link' href='#def:object_parameter,corresponding' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:object_parameter,corresponding_'><i >corresponding object parameters</i></span></a> if:
<ul class='itemize'><li id='scope.scope-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-3.3'>(3.3)</a></div>exactly one is an implicit object member function
with no <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a> and
the types of their object parameters,
after removing any references,
are equivalent, or</li><li id='scope.scope-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-3.4'>(3.4)</a></div>the types of their object parameters are equivalent<a class='hidden_link' href='#scope.scope-3.sentence-2'>.</a></li></ul></div> <div id='scope.scope-3.sentence-3' class='sentence'><a class='index' id=':template,function,corresponding_signature'></a>Two function templates have
<a class='hidden_link' href='#def:signature,corresponding' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:signature,corresponding'><i >corresponding signatures</i></span></a> if
their <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i>
have the same length,
their corresponding <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i> are equivalent,
they have equivalent non-object-parameter-type-lists and return types (if any), and,
if both are non-static members, they have corresponding object parameters<a class='hidden_link' href='#scope.scope-3.sentence-3'>.</a></div></div></div><div class='para' id='scope.scope-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L921'>#</a></div><div class='texpara'><div id='scope.scope-4.sentence-1' class='sentence'>Two declarations <a class='hidden_link' href='#def:correspond' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:correspond'><i >correspond</i></span></a>
if they (re)introduce the same name,
both declare constructors, or
both declare destructors,
unless
<ul class='itemize'><li id='scope.scope-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-4.1'>(4.1)</a></div>either is a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator_'><span class='textsf'><i >using-declarator</i></span></span></a>, or</li><li id='scope.scope-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-4.2'>(4.2)</a></div>one declares a type (not a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name__'><span class='textsf'><i >typedef-name</i></span></span></a>) and the other declares a
variable,
non-static data member other than of an anonymous union (<a href='class.union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>),
enumerator,
function, or
function template, or</li><li id='scope.scope-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-4.3'>(4.3)</a></div>each declares a function or function template
and they do not declare corresponding overloads<a class='hidden_link' href='#scope.scope-4.sentence-1'>.</a></li></ul></div> <div id='scope.scope-4.sentence-2' class='sentence'>
Two function or function template declarations declare
<a class='hidden_link' href='#def:corresponding_overloads' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:corresponding_overloads'><i >corresponding overloads</i></span></a> if:
<ul class='itemize'><li id='scope.scope-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-4.4'>(4.4)</a></div>both declare functions with the same non-object-parameter-type-list,<a class='footnoteref' href='#footnote-17' id='footnoteref-17' title='An implicit object parameter ([over.match.funcs]) is not part of the parameter-type-list.'>17</a>
equivalent (<a href='temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>) trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a><i >s</i>
(if any, except as specified in <a href='temp.friend' title='13.7.5&emsp;Friends'>[temp.<span class='shy'></span>friend]</a>), and,
if both are non-static members,
they have corresponding object parameters, or</li><li id='scope.scope-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-4.5'>(4.5)</a></div>both declare function templates with corresponding signatures and equivalent
<a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> and
trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_'><span class='textsf'><i >requires-clause</i></span></span></a><i >s</i> (if any)<a class='hidden_link' href='#scope.scope-4.sentence-2'>.</a></li></ul></div> <div id='scope.scope-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.scope-note-2'>2</a></i>:&ensp;<div id='scope.scope-4.sentence-3' class='sentence'>Declarations can correspond even if neither binds a name<a class='hidden_link' href='#scope.scope-4.sentence-3'>.</a></div> <div id='scope.scope-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.scope-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>    <span class='comment'>// corresponds to, and defines, #1</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div> <div id='scope.scope-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.scope-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span> Int;
<span class='keyword'>enum</span> E <span class='operator'>:</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span> a <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;                    <span class='comment'>// #1</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Int<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>                  <span class='comment'>// defines #1</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>E<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>                    <span class='comment'>// OK, another overload</span>

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;               <span class='comment'>// error: redeclaration</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;               <span class='comment'>// OK</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;                   <span class='comment'>// error: redeclaration</span>

  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>this</span> X<span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;               <span class='comment'>// OK, another overload</span>
  <span class='keyword'>void</span> j<span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> j<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;             <span class='comment'>// error: redeclaration</span>
  <span class='keyword'>void</span> k<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> k<span class='parenthesis'>(</span><span class='keyword'>this</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;              <span class='comment'>// error: redeclaration</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='scope.scope-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L997'>#</a></div><div class='texpara'><div id='scope.scope-5.sentence-1' class='sentence'>A declaration is <a class='hidden_link' href='#def:declaration,name-independent' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:declaration,name-independent'><i >name-independent</i></span></a>
if its name is <span class='texttt'>_<span class='shy'></span></span> (<span class='ucode'>U+005f</span> <span class='uname'>low line</span>) and it declares
<ul class='itemize'><li id='scope.scope-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-5.1'>(5.1)</a></div>a variable with automatic storage duration,</li><li id='scope.scope-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-5.2'>(5.2)</a></div>a structured binding
with no <a href='dcl.stc#nt:storage-class-specifier' title='9.2.2&emsp;Storage class specifiers&emsp;[dcl.stc]'><span id='ntref:storage-class-specifier'><span class='textsf'><i >storage-class-specifier</i></span></span></a> and
not inhabiting a namespace scope,</li><li id='scope.scope-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-5.3'>(5.3)</a></div>the variable introduced by an <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture_'><span class='textsf'><i >init-capture</i></span></span></a>, or</li><li id='scope.scope-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.scope-5.4'>(5.4)</a></div>a non-static data member of other than an anonymous union<a class='hidden_link' href='#scope.scope-5.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='scope.scope-5.sentence-2' class='sentence'><i >Recommended practice</i>: Implementations should not emit a warning
that a name-independent declaration is used or unused<a class='hidden_link' href='#scope.scope-5.sentence-2'>.</a></div></div></div><div class='para' id='scope.scope-6'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1021'>#</a></div><div class='texpara'><div id='scope.scope-6.sentence-1' class='sentence'><a class='index' id=':declaration,potentially_conflict'></a>Two declarations <a class='hidden_link' href='#def:potentially_conflict' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:potentially_conflict'><i >potentially conflict</i></span></a>
if they correspond and
cause their shared name to denote different entities (<a href='#link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#scope.scope-6.sentence-1'>.</a></div> <div id='scope.scope-6.sentence-2' class='sentence'>The program is ill-formed
if, in any scope, a name is bound to two declarations <span class='math'><span class='mathalpha'>A</span></span> and <span class='math'><span class='mathalpha'>B</span></span>
that potentially conflict and <span class='math'><span class='mathalpha'>A</span></span> precedes <span class='math'><span class='mathalpha'>B</span></span> (<a href='#lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>),
unless <span class='math'><span class='mathalpha'>B</span></span> is name-independent<a class='hidden_link' href='#scope.scope-6.sentence-2'>.</a></div> <div id='scope.scope-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.scope-note-3'>3</a></i>:&ensp;<div id='scope.scope-6.sentence-3' class='sentence'>An <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____'><span class='textsf'><i >id-expression</i></span></span></a> that names a unique name-independent declaration
is usable until an additional declaration of the same name
is introduced in the same scope (<a href='#lookup.general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#scope.scope-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='scope.scope-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.scope-note-4'>4</a></i>:&ensp;<div id='scope.scope-6.sentence-4' class='sentence'>Overload resolution can consider potentially conflicting declarations
found in multiple scopes
(e.g., via <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive_'><span class='textsf'><i >using-directive</i></span></span></a><i >s</i> or for operator functions),
in which case it is often ambiguous<a class='hidden_link' href='#scope.scope-6.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='scope.scope-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.scope-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x,y;
  <span class='keyword'>void</span> x<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: different entity for <span class='tcode_in_codeblock'>x</span></span>
  <span class='keyword'>int</span> y;                <span class='comment'>// error: redefinition</span>
<span class='curlybracket'>}</span>
<span class='keyword'>enum</span> <span class='curlybracket'>{</span> f <span class='curlybracket'>}</span>;             <span class='comment'>// error: different entity for <span class='tcode_in_codeblock'>&#x200b;::&#x200b;f</span></span>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
<span class='keyword'>namespace</span> B <span class='operator'>=</span> A;
<span class='keyword'>namespace</span> B <span class='operator'>=</span> A;        <span class='comment'>// OK, no effect</span>
<span class='keyword'>namespace</span> B <span class='operator'>=</span> B;        <span class='comment'>// OK, no effect</span>
<span class='keyword'>namespace</span> A <span class='operator'>=</span> B;        <span class='comment'>// OK, no effect</span>
<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>          <span class='comment'>// error: different entity for <span class='tcode_in_codeblock'>B</span></span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> _;
  _ <span class='operator'>=</span> <span class='literal'>0</span>;                <span class='comment'>// OK</span>
  <span class='keyword'>int</span> _;                <span class='comment'>// OK, name-independent declaration</span>
  _ <span class='operator'>=</span> <span class='literal'>0</span>;                <span class='comment'>// error: two non-function declarations in the lookup set</span>
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> h <span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> _;                <span class='comment'>// #1</span>
  _ <span class='operator'>+</span><span class='operator'>+</span>;                 <span class='comment'>// OK</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> _;         <span class='comment'>// error: conflicts with #1 because static variables are not name-independent</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='scope.scope-7'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1070'>#</a></div><div class='texpara'><div id='scope.scope-7.sentence-1' class='sentence'><a class='index' id=':declaration,nominable'></a>A declaration is <a class='hidden_link' href='#def:nominable' title='6.4.1&emsp;General&emsp;[basic.scope.scope]'><span id='def:nominable'><i >nominable</i></span></a>
in a class, class template, or namespace <span class='math'><span class='mathalpha'>E</span></span> at a point <span class='math'><span class='mathalpha'>P</span></span> if
it precedes <span class='math'><span class='mathalpha'>P</span></span>,
it does not inhabit a block scope, and
its target scope is the scope associated with <span class='math'><span class='mathalpha'>E</span></span> or,
if <span class='math'><span class='mathalpha'>E</span></span> is a namespace,
any element of the inline namespace set of <span class='math'><span class='mathalpha'>E</span></span> (<a href='namespace.def' title='9.8.2&emsp;Namespace definition'>[namespace.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#scope.scope-7.sentence-1'>.</a></div> <div id='scope.scope-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.scope-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;<span class='curlybracket'>}</span>
  <span class='keyword'>inline</span> <span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
      <span class='keyword'>friend</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
      <span class='keyword'>static</span> <span class='keyword'>int</span> i;
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> <div id='scope.scope-7.sentence-2' class='sentence'>
At the end of this example,
the declarations of <span class='texttt'>f</span>, <span class='texttt'>B</span>, <span class='texttt'>S</span>, and <span class='texttt'>h</span>
are nominable in <span class='texttt'>A</span>, but those of <span class='texttt'>g</span> and <span class='texttt'>i</span> are not<a class='hidden_link' href='#scope.scope-7.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='scope.scope-8'><div class='marginalizedparent'><a class='marginalized' href='#scope.scope-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1096'>#</a></div><div class='texpara'><div id='scope.scope-8.sentence-1' class='sentence'>When instantiating a templated entity (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>),
any scope <span class='math'><span class='mathalpha'>S</span></span> introduced by any part of the template definition is considered
to be introduced by the instantiated entity and
to contain the instantiations of any declarations that inhabit <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#scope.scope-8.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-17'><div class='texpara'><a class='footnotenum' href='#footnote-17'>17)</a><a class='footnoteBacklink' href='#footnoteref-17'>17)</a> <div id='footnote-17.sentence-1' class='sentence'>An implicit object parameter (<a href='over.match.funcs' title='12.2.2&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>)
is not part of the parameter-type-list<a class='hidden_link' href='#footnote-17.sentence-1'>.</a></div></div></div></div><div id='scope.pdecl' class='section'><h3 ><a class='secnum' href='#scope.pdecl' style='min-width:80pt'>6.4.2</a> Point of declaration <a class='abbr_ref' href='basic.scope.pdecl'>[basic.scope.pdecl]</a></h3><div class='texpara'><a class='index' id=':locus'></a></div><div class='para' id='scope.pdecl-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1108'>#</a></div><div class='texpara'><div id='scope.pdecl-1.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:locus' title='6.4.2&emsp;Point of declaration&emsp;[basic.scope.pdecl]'><span id='def:locus'><i >locus</i></span></a> of a declaration (<a href='#pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>) that is a declarator
is immediately after the complete declarator (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>)<a class='hidden_link' href='#scope.pdecl-1.sentence-1'>.</a></div> <div id='scope.pdecl-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.pdecl-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>unsigned</span> <span class='keyword'>char</span> x <span class='operator'>=</span> <span class='literal'>12</span>;
<span class='curlybracket'>{</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> x <span class='operator'>=</span> x; <span class='curlybracket'>}</span>
</span> <div id='scope.pdecl-1.sentence-2' class='sentence'>
Here, the initialization of the second <span class='texttt'>x</span> has undefined behavior,
because the initializer accesses the second <span class='texttt'>x</span>
outside its lifetime (<a href='#life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#scope.pdecl-1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='scope.pdecl-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1122'>#</a></div><div class='texpara'><div id='scope.pdecl-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.pdecl-note-1'>1</a></i>:&ensp;<div id='scope.pdecl-2.sentence-1' class='sentence'><a class='index' id=':name_hiding'></a>A name from an outer scope remains visible up to
the locus of the declaration that hides it<a class='hidden_link' href='#scope.pdecl-2.sentence-1'>.</a></div> <div id='scope.pdecl-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.pdecl-example-2'>2</a></i>:&ensp;<div id='scope.pdecl-2.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>const</span> <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>2</span>;
<span class='curlybracket'>{</span> <span class='keyword'>int</span> i<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
</span>
declares a block-scope array of two integers<a class='hidden_link' href='#scope.pdecl-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='scope.pdecl-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1136'>#</a></div><div class='texpara'><div id='scope.pdecl-3.sentence-1' class='sentence'>The locus of a <a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier_'><span class='textsf'><i >class-specifier</i></span></span></a> is immediately after
the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a> or <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a> (if any)
in its <a href='class.pre#nt:class-head' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head'><span class='textsf'><i >class-head</i></span></span></a> (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#scope.pdecl-3.sentence-1'>.</a></div> <div id='scope.pdecl-3.sentence-2' class='sentence'>The locus of an <a href='dcl.enum#nt:enum-specifier' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-specifier_'><span class='textsf'><i >enum-specifier</i></span></span></a>
is immediately after
its <a href='dcl.enum#nt:enum-head' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-head'><span class='textsf'><i >enum-head</i></span></span></a>;
the locus of an <a href='dcl.enum#nt:opaque-enum-declaration' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:opaque-enum-declaration_'><span class='textsf'><i >opaque-enum-declaration</i></span></span></a>
is immediately after it (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>)<a class='hidden_link' href='#scope.pdecl-3.sentence-2'>.</a></div> <div id='scope.pdecl-3.sentence-3' class='sentence'>The locus of an <a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration_'><span class='textsf'><i >alias-declaration</i></span></span></a> is immediately after it<a class='hidden_link' href='#scope.pdecl-3.sentence-3'>.</a></div></div></div><div class='para' id='scope.pdecl-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1148'>#</a></div><div class='texpara'><div id='scope.pdecl-4.sentence-1' class='sentence'>The locus of a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator__'><span class='textsf'><i >using-declarator</i></span></span></a>
that does not name a constructor
is immediately after the <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator___'><span class='textsf'><i >using-declarator</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#scope.pdecl-4.sentence-1'>.</a></div></div></div><div class='para' id='scope.pdecl-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1153'>#</a></div><div class='texpara'><div id='scope.pdecl-5.sentence-1' class='sentence'>The locus of an <a href='dcl.enum#nt:enumerator-definition' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enumerator-definition_'><span class='textsf'><i >enumerator-definition</i></span></span></a> is immediately after it<a class='hidden_link' href='#scope.pdecl-5.sentence-1'>.</a></div> <div id='scope.pdecl-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.pdecl-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>const</span> <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>12</span>;
<span class='curlybracket'>{</span> <span class='keyword'>enum</span> <span class='curlybracket'>{</span> x <span class='operator'>=</span> x <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>
</span> <div id='scope.pdecl-5.sentence-2' class='sentence'>
Here, the enumerator <span class='texttt'>x</span> is initialized with the value of the
constant <span class='texttt'>x</span>, namely 12<a class='hidden_link' href='#scope.pdecl-5.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='scope.pdecl-6'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1164'>#</a></div><div class='texpara'><div id='scope.pdecl-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.pdecl-note-2'>2</a></i>:&ensp;<div id='scope.pdecl-6.sentence-1' class='sentence'><a class='index' id=':type,incomplete__'></a>After the declaration of a class member,
the member name can be found in the scope of its class
even if the class is an incomplete class<a class='hidden_link' href='#scope.pdecl-6.sentence-1'>.</a></div> <div id='scope.pdecl-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.pdecl-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> E <span class='curlybracket'>{</span> z <span class='operator'>=</span> <span class='literal'>16</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> b<span class='squarebracket'>[</span>X<span class='operator'>::</span>z<span class='squarebracket'>]</span>;          <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='scope.pdecl-7'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1180'>#</a></div><div class='texpara'><div id='scope.pdecl-7.sentence-1' class='sentence'>The locus of an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier____'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
that is a declaration (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>) is immediately after it<a class='hidden_link' href='#scope.pdecl-7.sentence-1'>.</a></div></div></div><div class='para' id='scope.pdecl-8'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1184'>#</a></div><div class='texpara'><div id='scope.pdecl-8.sentence-1' class='sentence'>The locus of an injected-class-name declaration (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>)
is immediately following the opening brace of the class definition<a class='hidden_link' href='#scope.pdecl-8.sentence-1'>.</a></div></div></div><div class='para' id='scope.pdecl-9'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1188'>#</a></div><div class='texpara'><div id='scope.pdecl-9.sentence-1' class='sentence'>The locus of the implicit declaration of
a function-local predefined variable (<a href='dcl.fct.def.general' title='9.5.1&emsp;In general'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a>)
is immediately before
the <a href='dcl.fct.def.general#nt:function-body' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-body_'><span class='textsf'><i >function-body</i></span></span></a> of its function's definition<a class='hidden_link' href='#scope.pdecl-9.sentence-1'>.</a></div></div></div><div class='para' id='scope.pdecl-10'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1194'>#</a></div><div class='texpara'><div id='scope.pdecl-10.sentence-1' class='sentence'>The locus of the declaration of a structured binding (<a href='dcl.struct.bind' title='9.6&emsp;Structured binding declarations'>[dcl.<span class='shy'></span>struct.<span class='shy'></span>bind]</a>)
is immediately after
the <a href='cpp.pre#nt:identifier-list' title='15.1&emsp;Preamble&emsp;[cpp.pre]'><span id='ntref:identifier-list'><span class='textsf'><i >identifier-list</i></span></span></a> of the structured binding declaration<a class='hidden_link' href='#scope.pdecl-10.sentence-1'>.</a></div></div></div><div class='para' id='scope.pdecl-11'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1199'>#</a></div><div class='texpara'><div id='scope.pdecl-11.sentence-1' class='sentence'>The locus of a <a href='stmt.iter.general#nt:for-range-declaration' title='8.6.1&emsp;General&emsp;[stmt.iter.general]'><span id='ntref:for-range-declaration_'><span class='textsf'><i >for-range-declaration</i></span></span></a>
of a range-based <span id=':for'><span class='texttt'><span class='keyword'>for</span></span></span> statement (<a href='stmt.ranged' title='8.6.5&emsp;The range-based for statement'>[stmt.<span class='shy'></span>ranged]</a>)
is immediately after the <a href='stmt.iter.general#nt:for-range-initializer' title='8.6.1&emsp;General&emsp;[stmt.iter.general]'><span id='ntref:for-range-initializer'><span class='textsf'><i >for-range-initializer</i></span></span></a><a class='hidden_link' href='#scope.pdecl-11.sentence-1'>.</a></div></div></div><div class='para' id='scope.pdecl-12'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1204'>#</a></div><div class='texpara'><div id='scope.pdecl-12.sentence-1' class='sentence'>The locus of a <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter__'><span class='textsf'><i >template-parameter</i></span></span></a> is immediately after it<a class='hidden_link' href='#scope.pdecl-12.sentence-1'>.</a></div> <div id='scope.pdecl-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.pdecl-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> T;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T
  <span class='operator'>=</span> T               <span class='comment'>// lookup finds the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name___'><span class='textsf'><i >typedef-name</i></span></span></a></span>
  , T               <span class='comment'>// lookup finds the template parameter</span>
    N <span class='operator'>=</span> <span class='literal'>0</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='scope.pdecl-13'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1216'>#</a></div><div class='texpara'><div id='scope.pdecl-13.sentence-1' class='sentence'>The locus of a <a href='temp.concept#nt:concept-definition' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-definition_'><span class='textsf'><i >concept-definition</i></span></span></a>
is immediately after its <a href='temp.concept#nt:concept-name' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-name'><span class='textsf'><i >concept-name</i></span></span></a> (<a href='temp.concept' title='13.7.9&emsp;Concept definitions'>[temp.<span class='shy'></span>concept]</a>)<a class='hidden_link' href='#scope.pdecl-13.sentence-1'>.</a></div> <div id='scope.pdecl-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.pdecl-note-3'>3</a></i>:&ensp;<div id='scope.pdecl-13.sentence-2' class='sentence'>The <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a> cannot use
the <a href='temp.concept#nt:concept-name' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-name_'><span class='textsf'><i >concept-name</i></span></span></a><a class='hidden_link' href='#scope.pdecl-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='scope.pdecl-14'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1224'>#</a></div><div class='texpara'><div id='scope.pdecl-14.sentence-1' class='sentence'>The locus of a <a href='namespace.def.general#nt:namespace-definition' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-definition'><span class='textsf'><i >namespace-definition</i></span></span></a>
with an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a>
is immediately after the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____'><span class='textsf'><i >identifier</i></span></span></a><a class='hidden_link' href='#scope.pdecl-14.sentence-1'>.</a></div> <div id='scope.pdecl-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.pdecl-note-4'>4</a></i>:&ensp;<div id='scope.pdecl-14.sentence-2' class='sentence'>An identifier is invented
for an <a href='namespace.def.general#nt:unnamed-namespace-definition' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:unnamed-namespace-definition'><span class='textsf'><i >unnamed-namespace-definition</i></span></span></a> (<a href='namespace.unnamed' title='9.8.2.2&emsp;Unnamed namespaces'>[namespace.<span class='shy'></span>unnamed]</a>)<a class='hidden_link' href='#scope.pdecl-14.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='scope.pdecl-15'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1233'>#</a></div><div class='texpara'><div id='scope.pdecl-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.pdecl-note-5'>5</a></i>:&ensp;<div id='scope.pdecl-15.sentence-1' class='sentence'>Friend declarations can introduce functions or classes
that belong to the nearest enclosing namespace or block scope,
but they do not bind names anywhere (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>)<a class='hidden_link' href='#scope.pdecl-15.sentence-1'>.</a></div> <div id='scope.pdecl-15.sentence-2' class='sentence'>Function declarations at block scope and
variable declarations with the <span id=':extern_'><span class='texttt'><span class='keyword'>extern</span></span></span> specifier at block scope
declare entities
that belong to the nearest enclosing namespace,
but they do not bind names in it<a class='hidden_link' href='#scope.pdecl-15.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='scope.pdecl-16'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1245'>#</a></div><div class='texpara'><div id='scope.pdecl-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.pdecl-note-6'>6</a></i>:&ensp;<div id='scope.pdecl-16.sentence-1' class='sentence'>For point of instantiation of a template, see <a href='temp.point' title='13.8.4.1&emsp;Point of instantiation'>[temp.<span class='shy'></span>point]</a><a class='hidden_link' href='#scope.pdecl-16.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div></div><div id='scope.block' class='section'><h3 ><a class='secnum' href='#scope.block' style='min-width:80pt'>6.4.3</a> Block scope <a class='abbr_ref' href='basic.scope.block'>[basic.scope.block]</a></h3><div class='texpara'></div><div class='para' id='scope.block-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.block-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1255'>#</a></div><div class='texpara'><div id='scope.block-1.sentence-1' class='sentence'>Each
<ul class='itemize'><li id='scope.block-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.block-1.1'>(1.1)</a></div>selection or iteration statement (<a href='stmt.select' title='8.5&emsp;Selection statements'>[stmt.<span class='shy'></span>select]</a>, <a href='stmt.iter' title='8.6&emsp;Iteration statements'>[stmt.<span class='shy'></span>iter]</a>),</li><li id='scope.block-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.block-1.2'>(1.2)</a></div>substatement of such a statement,</li><li id='scope.block-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.block-1.3'>(1.3)</a></div><a class='index' id=':scope,handler'></a><a href='except.pre#nt:handler' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:handler_'><span class='textsf'><i >handler</i></span></span></a> (<a href='except.pre' title='14.1&emsp;Preamble'>[except.<span class='shy'></span>pre]</a>), or</li><li id='scope.block-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.block-1.4'>(1.4)</a></div>compound statement (<a href='stmt.block' title='8.4&emsp;Compound statement or block'>[stmt.<span class='shy'></span>block]</a>)
that is not the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement'><span class='textsf'><i >compound-statement</i></span></span></a> of a <a href='except.pre#nt:handler' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:handler__'><span class='textsf'><i >handler</i></span></span></a></li></ul>
introduces a <a class='hidden_link' href='#def:scope,block' title='6.4.3&emsp;Block scope&emsp;[basic.scope.block]'><span id='def:scope,block'><i >block scope</i></span></a>
that includes that statement or <a href='except.pre#nt:handler' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:handler___'><span class='textsf'><i >handler</i></span></span></a><a class='hidden_link' href='#scope.block-1.sentence-1'>.</a></div> <div id='scope.block-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.block-note-1'>1</a></i>:&ensp;<div id='scope.block-1.sentence-2' class='sentence'>A substatement that is also a block has only one scope<a class='hidden_link' href='#scope.block-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='scope.block-1.sentence-3' class='sentence'>
A variable that belongs to a block scope is a <a class='hidden_link' href='#def:block_variable' title='6.4.3&emsp;Block scope&emsp;[basic.scope.block]'><span id='def:block_variable'><i >block variable</i></span></a><a class='hidden_link' href='#scope.block-1.sentence-3'>.</a></div> <div id='scope.block-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.block-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>42</span>;
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span>;

<span class='keyword'>for</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>0</span>; i <span class='anglebracket'>&lt;</span> <span class='literal'>10</span>; i<span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>)</span>
  a<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span> <span class='operator'>=</span> i;

<span class='keyword'>int</span> j <span class='operator'>=</span> i;          <span class='comment'>// <span class='tcode_in_codeblock'>j = 42</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='scope.block-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.block-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1287'>#</a></div><div class='texpara'><div id='scope.block-2.sentence-1' class='sentence'>If a declaration
that is not a name-independent declaration and
that binds a name in the block scope <span class='math'><span class='mathalpha'>S</span></span> of a
<ul class='itemize'><li id='scope.block-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.block-2.1'>(2.1)</a></div><a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement_'><span class='textsf'><i >compound-statement</i></span></span></a> of a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression__________'><span class='textsf'><i >lambda-expression</i></span></span></a>,
<a href='dcl.fct.def.general#nt:function-body' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-body__'><span class='textsf'><i >function-body</i></span></span></a>, or <a href='except.pre#nt:function-try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:function-try-block'><span class='textsf'><i >function-try-block</i></span></span></a>,</li><li id='scope.block-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.block-2.2'>(2.2)</a></div>substatement of a selection or iteration statement
that is not itself a selection or iteration statement, or</li><li id='scope.block-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.block-2.3'>(2.3)</a></div><a href='except.pre#nt:handler' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:handler____'><span class='textsf'><i >handler</i></span></span></a> of a <a href='except.pre#nt:function-try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:function-try-block_'><span class='textsf'><i >function-try-block</i></span></span></a></li></ul>
potentially conflicts with a declaration
whose target scope is the parent scope of <span class='math'><span class='mathalpha'>S</span></span>,
the program is ill-formed<a class='hidden_link' href='#scope.block-2.sentence-1'>.</a></div> <div id='scope.block-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.block-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> x <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;            <span class='comment'>// error: redeclaration of <span class='tcode_in_codeblock'>x</span></span>
<span class='curlybracket'>}</span>
<span class='keyword'>else</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;            <span class='comment'>// error: redeclaration of <span class='tcode_in_codeblock'>x</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='scope.param' class='section'><h3 ><a class='secnum' href='#scope.param' style='min-width:80pt'>6.4.4</a> Function parameter scope <a class='abbr_ref' href='basic.scope.param'>[basic.scope.param]</a></h3><div class='texpara'><a class='index' id=':parameter,scope_of'></a></div><div class='para' id='scope.param-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.param-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1320'>#</a></div><div class='texpara'><div id='scope.param-1.sentence-1' class='sentence'>A <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='math'><span class='mathalpha'>P</span></span> introduces
a <a class='hidden_link' href='#def:scope,function_parameter' title='6.4.4&emsp;Function parameter scope&emsp;[basic.scope.param]'><span id='def:scope,function_parameter'><i >function parameter scope</i></span></a> that includes <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#scope.param-1.sentence-1'>.</a></div> <div id='scope.param-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.param-note-1'>1</a></i>:&ensp;<div id='scope.param-1.sentence-2' class='sentence'>A function parameter cannot be used for its value
within the <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#scope.param-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <ul class='itemize'><li id='scope.param-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.param-1.1'>(1.1)</a></div><div class='texpara'><div id='scope.param-1.1.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>P</span></span> is associated with a <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator__'><span class='textsf'><i >declarator</i></span></span></a> and
is preceded by a (possibly-parenthesized) <a href='dcl.decl.general#nt:noptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:noptr-declarator'><span class='textsf'><i >noptr-declarator</i></span></span></a> of
the form
<a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>,
its scope extends to the end of the nearest enclosing
<a href='dcl.decl.general#nt:init-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:init-declarator_'><span class='textsf'><i >init-declarator</i></span></span></a>,
<a href='class.mem.general#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator_'><span class='textsf'><i >member-declarator</i></span></span></a>,
<a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator___'><span class='textsf'><i >declarator</i></span></span></a> of a <a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration__'><span class='textsf'><i >parameter-declaration</i></span></span></a> or
a <a href='dcl.pre#nt:nodeclspec-function-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:nodeclspec-function-declaration'><span class='textsf'><i >nodeclspec-function-declaration</i></span></span></a>, or
<a href='dcl.fct.def.general#nt:function-definition' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-definition_'><span class='textsf'><i >function-definition</i></span></span></a>,
but does not include the locus of the associated <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator____'><span class='textsf'><i >declarator</i></span></span></a><a class='hidden_link' href='#scope.param-1.1.sentence-1'>.</a></div> <div id='scope.param-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.param-note-2'>2</a></i>:&ensp;<div id='scope.param-1.1.sentence-2' class='sentence'>In this case, <span class='math'><span class='mathalpha'>P</span></span> declares the parameters of a function
(or a function or template parameter declared with function type)<a class='hidden_link' href='#scope.param-1.1.sentence-2'>.</a></div> <div id='scope.param-1.1.sentence-3' class='sentence'>A member function's parameter scope is nested within its class's scope<a class='hidden_link' href='#scope.param-1.1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='scope.param-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.param-1.2'>(1.2)</a></div><div class='texpara'><div id='scope.param-1.2.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>P</span></span> is associated with a <a href='expr.prim.lambda.general#nt:lambda-declarator' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator'><span class='textsf'><i >lambda-declarator</i></span></span></a>,
its scope extends to the end of the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement__'><span class='textsf'><i >compound-statement</i></span></span></a>
in the <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression___________'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#scope.param-1.2.sentence-1'>.</a></div></div></li><li id='scope.param-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.param-1.3'>(1.3)</a></div><div class='texpara'><div id='scope.param-1.3.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>P</span></span> is associated with a <a href='expr.prim.req.general#nt:requirement-parameter-list' title='7.5.7.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-parameter-list'><span class='textsf'><i >requirement-parameter-list</i></span></span></a>,
its scope extends to the end of the <a href='expr.prim.req.general#nt:requirement-body' title='7.5.7.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-body'><span class='textsf'><i >requirement-body</i></span></span></a> of the <a href='expr.prim.req.general#nt:requires-expression' title='7.5.7.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression'><span class='textsf'><i >requires-expression</i></span></span></a><a class='hidden_link' href='#scope.param-1.3.sentence-1'>.</a></div></div></li><li id='scope.param-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#scope.param-1.4'>(1.4)</a></div><div class='texpara'><div id='scope.param-1.4.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>P</span></span> is associated with a <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_'><span class='textsf'><i >deduction-guide</i></span></span></a>,
its scope extends to the end of the <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide__'><span class='textsf'><i >deduction-guide</i></span></span></a><a class='hidden_link' href='#scope.param-1.4.sentence-1'>.</a></div></div></li></ul></div></div></div><div id='scope.lambda' class='section'><h3 ><a class='secnum' href='#scope.lambda' style='min-width:80pt'>6.4.5</a> Lambda scope <a class='abbr_ref' href='basic.scope.lambda'>[basic.scope.lambda]</a></h3><div class='texpara'><div id='scope.lambda-sentence-1' class='sentence'>A <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression____________'><span class='textsf'><i >lambda-expression</i></span></span></a> <span class='texttt'>E</span> introduces a <a class='hidden_link' href='#def:scope,lambda' title='6.4.5&emsp;Lambda scope&emsp;[basic.scope.lambda]'><span id='def:scope,lambda'><i >lambda scope</i></span></a>
that starts immediately after the <a href='expr.prim.lambda.general#nt:lambda-introducer' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-introducer'><span class='textsf'><i >lambda-introducer</i></span></span></a> of <span class='texttt'>E</span>
and extends to the end of the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement___'><span class='textsf'><i >compound-statement</i></span></span></a> of <span class='texttt'>E</span><a class='hidden_link' href='#scope.lambda-sentence-1'>.</a></div></div></div><div id='scope.namespace' class='section'><h3 ><a class='secnum' href='#scope.namespace' style='min-width:80pt'>6.4.6</a> Namespace scope <a class='abbr_ref' href='basic.scope.namespace'>[basic.scope.namespace]</a></h3><div class='para' id='scope.namespace-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.namespace-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1365'>#</a></div><div class='texpara'><div id='scope.namespace-1.sentence-1' class='sentence'>Any <a href='namespace.def.general#nt:namespace-definition' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-definition_'><span class='textsf'><i >namespace-definition</i></span></span></a> for a namespace <span class='math'><span class='mathalpha'>N</span></span> introduces
a <a class='hidden_link' href='#def:scope,namespace' title='6.4.6&emsp;Namespace scope&emsp;[basic.scope.namespace]'><span id='def:scope,namespace'><i >namespace scope</i></span></a>
that includes the <a href='namespace.def.general#nt:namespace-body' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-body'><span class='textsf'><i >namespace-body</i></span></span></a>
for every <a href='namespace.def.general#nt:namespace-definition' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-definition__'><span class='textsf'><i >namespace-definition</i></span></span></a> for <span class='math'><span class='mathalpha'>N</span></span><a class='hidden_link' href='#scope.namespace-1.sentence-1'>.</a></div> <div id='scope.namespace-1.sentence-2' class='sentence'>For each non-friend redeclaration or specialization
whose target scope is or is contained by the scope,
the portion after the
<a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id_'><span class='textsf'><i >declarator-id</i></span></span></a>,
<a href='class.pre#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name'><span class='textsf'><i >class-head-name</i></span></span></a>, or
<a href='dcl.enum#nt:enum-head-name' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-head-name'><span class='textsf'><i >enum-head-name</i></span></span></a>
is also included in the scope<a class='hidden_link' href='#scope.namespace-1.sentence-2'>.</a></div> <div id='scope.namespace-1.sentence-3' class='sentence'>The global scope is
the namespace scope of the global namespace (<a href='basic.namespace' title='9.8&emsp;Namespaces'>[basic.<span class='shy'></span>namespace]</a>)<a class='hidden_link' href='#scope.namespace-1.sentence-3'>.</a></div> <div id='scope.namespace-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.namespace-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> Q <span class='curlybracket'>{</span>
  <span class='keyword'>namespace</span> V <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> V<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>         <span class='comment'>// in the scope of <span class='tcode_in_codeblock'>V</span></span>
    <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// declares <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V&#x200b;::&#x200b;h</span></span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='scope.class' class='section'><h3 ><a class='secnum' href='#scope.class' style='min-width:80pt'>6.4.7</a> Class scope <a class='abbr_ref' href='basic.scope.class'>[basic.scope.class]</a></h3><div class='para' id='scope.class-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1392'>#</a></div><div class='texpara'><div id='scope.class-1.sentence-1' class='sentence'>Any declaration of a class or class template <span class='math'><span class='mathalpha'>C</span></span> introduces
a <a class='hidden_link' href='#def:scope,class' title='6.4.7&emsp;Class scope&emsp;[basic.scope.class]'><span id='def:scope,class'><i >class scope</i></span></a>
that includes the <a href='class.mem.general#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification'><span class='textsf'><i >member-specification</i></span></span></a> of
the <a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier__'><span class='textsf'><i >class-specifier</i></span></span></a> for <span class='math'><span class='mathalpha'>C</span></span> (if any)<a class='hidden_link' href='#scope.class-1.sentence-1'>.</a></div> <div id='scope.class-1.sentence-2' class='sentence'>For each non-friend redeclaration or specialization
whose target scope is or is contained by the scope,
the portion after the
<a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id__'><span class='textsf'><i >declarator-id</i></span></span></a>,
<a href='class.pre#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name_'><span class='textsf'><i >class-head-name</i></span></span></a>, or
<a href='dcl.enum#nt:enum-head-name' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-head-name_'><span class='textsf'><i >enum-head-name</i></span></span></a> is also included in the scope<a class='hidden_link' href='#scope.class-1.sentence-2'>.</a></div> <div id='scope.class-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.class-note-1'>1</a></i>:&ensp;<div id='scope.class-1.sentence-3' class='sentence'>Lookup from a program point
before the <a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier___'><span class='textsf'><i >class-specifier</i></span></span></a> of a class
will find no bindings in the class scope<a class='hidden_link' href='#scope.class-1.sentence-3'>.</a></div> <div id='scope.class-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#scope.class-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> D<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  D<span class='operator'>::</span>type x;            <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>using</span> type <span class='operator'>=</span> <span class='keyword'>int</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, B<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;  <span class='comment'>// error at #1: <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;type</span> not found</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='scope.enum' class='section'><h3 ><a class='secnum' href='#scope.enum' style='min-width:80pt'>6.4.8</a> Enumeration scope <a class='abbr_ref' href='basic.scope.enum'>[basic.scope.enum]</a></h3><div class='para' id='scope.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.enum-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1422'>#</a></div><div class='texpara'><div id='scope.enum-1.sentence-1' class='sentence'>Any declaration of an enumeration <span class='math'><span class='mathalpha'>E</span></span> introduces
an <a class='hidden_link' href='#def:scope,enumeration' title='6.4.8&emsp;Enumeration scope&emsp;[basic.scope.enum]'><span id='def:scope,enumeration'><i >enumeration scope</i></span></a>
that includes the <a href='dcl.enum#nt:enumerator-list' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enumerator-list'><span class='textsf'><i >enumerator-list</i></span></span></a> of
the <a href='dcl.enum#nt:enum-specifier' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-specifier__'><span class='textsf'><i >enum-specifier</i></span></span></a> for <span class='math'><span class='mathalpha'>E</span></span> (if any)<a class='hidden_link' href='#scope.enum-1.sentence-1'>.</a></div></div></div></div><div id='scope.temp' class='section'><h3 ><a class='secnum' href='#scope.temp' style='min-width:80pt'>6.4.9</a> Template parameter scope <a class='abbr_ref' href='basic.scope.temp'>[basic.scope.temp]</a></h3><div class='para' id='scope.temp-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1430'>#</a></div><div class='texpara'><div id='scope.temp-1.sentence-1' class='sentence'>Each template <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter___'><span class='textsf'><i >template-parameter</i></span></span></a> introduces
a <a class='hidden_link' href='#def:scope,template_parameter' title='6.4.9&emsp;Template parameter scope&emsp;[basic.scope.temp]'><span id='def:scope,template_parameter'><i >template parameter scope</i></span></a>
that includes the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head__'><span class='textsf'><i >template-head</i></span></span></a> of
the <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter____'><span class='textsf'><i >template-parameter</i></span></span></a><a class='hidden_link' href='#scope.temp-1.sentence-1'>.</a></div></div></div><div class='para' id='scope.temp-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1436'>#</a></div><div class='texpara'><div id='scope.temp-2.sentence-1' class='sentence'>Each <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration___'><span class='textsf'><i >template-declaration</i></span></span></a> <span class='math'><span class='mathalpha'>D</span></span> introduces
a template parameter scope
that extends from the beginning of its <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_'><span class='textsf'><i >template-parameter-list</i></span></span></a>
to the end of the <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration____'><span class='textsf'><i >template-declaration</i></span></span></a><a class='hidden_link' href='#scope.temp-2.sentence-1'>.</a></div> <div id='scope.temp-2.sentence-2' class='sentence'>Any declaration outside the <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list__'><span class='textsf'><i >template-parameter-list</i></span></span></a>
that would inhabit that scope instead inhabits the same scope as <span class='math'><span class='mathalpha'>D</span></span><a class='hidden_link' href='#scope.temp-2.sentence-2'>.</a></div> <div id='scope.temp-2.sentence-3' class='sentence'>The parent scope of any scope <span class='math'><span class='mathalpha'>S</span></span> that is not a template parameter scope
is the smallest scope that contains <span class='math'><span class='mathalpha'>S</span></span> and is not a template parameter scope<a class='hidden_link' href='#scope.temp-2.sentence-3'>.</a></div> <div id='scope.temp-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#scope.temp-note-1'>1</a></i>:&ensp;<div id='scope.temp-2.sentence-4' class='sentence'>Therefore, only template parameters belong to a template parameter scope, and
only template parameter scopes have
a template parameter scope as a parent scope<a class='hidden_link' href='#scope.temp-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'></div></div></div></div><div id='lookup' class='section'><h2 ><a class='secnum' href='#lookup' style='min-width:65pt'>6.5</a> Name lookup <a class='abbr_ref' href='basic.lookup'>[basic.lookup]</a></h2><div class='texpara'><a class='index' id=':lookup,name'></a></div><div id='lookup.general' class='section'><h3 ><a class='secnum' href='#lookup.general' style='min-width:80pt'>6.5.1</a> General <a class='abbr_ref' href='basic.lookup.general'>[basic.lookup.general]</a></h3><div class='texpara'></div><div class='para' id='lookup.general-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1460'>#</a></div><div class='texpara'><div id='lookup.general-1.sentence-1' class='sentence'>The name lookup rules apply uniformly to all names (including
<a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name____'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>),
<a href='namespace.def.general#nt:namespace-name' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name'><span class='textsf'><i >namespace-name</i></span></span></a><i >s</i> (<a href='basic.namespace' title='9.8&emsp;Namespaces'>[basic.<span class='shy'></span>namespace]</a>), and
<a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name'><span class='textsf'><i >class-name</i></span></span></a><i >s</i> (<a href='class.name' title='11.3&emsp;Class names'>[class.<span class='shy'></span>name]</a>)) wherever the grammar allows
such names in the context discussed by a particular rule<a class='hidden_link' href='#lookup.general-1.sentence-1'>.</a></div> <div id='lookup.general-1.sentence-2' class='sentence'>Name lookup
associates the use of a name with a set of declarations (<a href='#def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>) of
that name<a class='hidden_link' href='#lookup.general-1.sentence-2'>.</a></div> <div id='lookup.general-1.sentence-3' class='sentence'>Unless otherwise specified,
the program is ill-formed if no declarations are found<a class='hidden_link' href='#lookup.general-1.sentence-3'>.</a></div> <div id='lookup.general-1.sentence-4' class='sentence'>If the declarations found by name lookup
all denote functions or function templates,
the declarations are said to form an <a class='hidden_link' href='#def:overload_set' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:overload_set'><i >overload set</i></span></a><a class='hidden_link' href='#lookup.general-1.sentence-4'>.</a></div> <div id='lookup.general-1.sentence-5' class='sentence'>Otherwise,
if the declarations found by name lookup do not all denote the same entity,
<a class='index' id=':lookup,ambiguous'></a>they are <a class='hidden_link' href='#def:ambiguous' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:ambiguous'><i >ambiguous</i></span></a> and the program is ill-formed<a class='hidden_link' href='#lookup.general-1.sentence-5'>.</a></div> <div id='lookup.general-1.sentence-6' class='sentence'>Overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)
takes place after name lookup has succeeded<a class='hidden_link' href='#lookup.general-1.sentence-6'>.</a></div> <div id='lookup.general-1.sentence-7' class='sentence'>The access rules (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)
are considered only once name lookup and
function overload resolution (if applicable) have succeeded<a class='hidden_link' href='#lookup.general-1.sentence-7'>.</a></div> <div id='lookup.general-1.sentence-8' class='sentence'>Only after
name lookup, function overload resolution (if applicable) and access
checking have succeeded
are the semantic properties introduced by the declarations
used in further processing<a class='hidden_link' href='#lookup.general-1.sentence-8'>.</a></div></div></div><div class='para' id='lookup.general-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1486'>#</a></div><div class='texpara'><div id='lookup.general-2.sentence-1' class='sentence'>A program point <span class='math'><span class='mathalpha'>P</span></span> is said to follow
any declaration in the same translation unit
whose locus (<a href='#scope.pdecl' title='6.4.2&emsp;Point of declaration'>[basic.<span class='shy'></span>scope.<span class='shy'></span>pdecl]</a>) is before <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#lookup.general-2.sentence-1'>.</a></div> <div id='lookup.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.general-note-1'>1</a></i>:&ensp;<div id='lookup.general-2.sentence-2' class='sentence'>The declaration might appear in a scope that does not contain <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#lookup.general-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='lookup.general-2.sentence-3' class='sentence'>A declaration <span class='math'><span class='mathalpha'>X</span></span> <a class='hidden_link' href='#def:declaration,precede' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:declaration,precede'><i >precedes</i></span></a>
a program point <span class='math'><span class='mathalpha'>P</span></span> in a translation unit <span class='math'><span class='mathalpha'>L</span></span>
if <span class='math'><span class='mathalpha'>P</span></span> follows <span class='math'><span class='mathalpha'>X</span></span>, <span class='math'><span class='mathalpha'>X</span></span> inhabits a class scope and is reachable from <span class='math'><span class='mathalpha'>P</span></span>, or
else <span class='math'><span class='mathalpha'>X</span></span> appears in a translation unit <span class='math'><span class='mathalpha'>D</span></span> and
<ul class='itemize'><li id='lookup.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.general-2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>P</span></span> follows
a <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration'><span class='textsf'><i >module-import-declaration</i></span></span></a> or <a href='module.unit#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration'><span class='textsf'><i >module-declaration</i></span></span></a>
that imports <span class='math'><span class='mathalpha'>D</span></span> (directly or indirectly), and</li><li id='lookup.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.general-2.2'>(2.2)</a></div><span class='math'><span class='mathalpha'>X</span></span> appears after the <a href='module.unit#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration_'><span class='textsf'><i >module-declaration</i></span></span></a> in <span class='math'><span class='mathalpha'>D</span></span> (if any) and
before the <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment__'><span class='textsf'><i >private-module-fragment</i></span></span></a> in <span class='math'><span class='mathalpha'>D</span></span> (if any), and</li><li id='lookup.general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.general-2.3'>(2.3)</a></div>either <span class='math'><span class='mathalpha'>X</span></span> is exported or else <span class='math'><span class='mathalpha'>D</span></span> and <span class='math'><span class='mathalpha'>L</span></span> are part of the same module and
<span class='math'><span class='mathalpha'>X</span></span> does not inhabit a namespace with internal linkage or
declare a name with internal linkage<a class='hidden_link' href='#lookup.general-2.sentence-3'>.</a> <div class='texpara'><div id='lookup.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.general-note-2'>2</a></i>:&ensp;<div id='lookup.general-2.3.sentence-2' class='sentence'>Names declared by a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration_'><span class='textsf'><i >using-declaration</i></span></span></a> have no linkage<a class='hidden_link' href='#lookup.general-2.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='lookup.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.general-note-3'>3</a></i>:&ensp;<div id='lookup.general-2.sentence-4' class='sentence'>A <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration_'><span class='textsf'><i >module-import-declaration</i></span></span></a> imports both
the named translation unit(s) and
any modules named by exported
<a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration__'><span class='textsf'><i >module-import-declaration</i></span></span></a><i >s</i> within them,
recursively<a class='hidden_link' href='#lookup.general-2.sentence-4'>.</a></div> <div id='lookup.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.general-example-1'>1</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> Q;
<span class='keyword'>export</span> <span class='keyword'>int</span> sq<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i<span class='operator'>*</span>i; <span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> R;
<span class='keyword'>export</span> <span class='keyword'>import</span> Q;
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>import</span> R;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> sq<span class='parenthesis'>(</span><span class='literal'>9</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>    <span class='comment'>// OK, <span class='tcode_in_codeblock'>sq</span> from module <span class='tcode_in_codeblock'>Q</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='lookup.general-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1538'>#</a></div><div class='texpara'><div id='lookup.general-3.sentence-1' class='sentence'><a class='index' id=':scope,search,single'></a>A <a class='hidden_link' href='#def:search,single' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:search,single'><i >single search</i></span></a> in a scope <span class='math'><span class='mathalpha'>S</span></span>
for a name <span class='math'><span class='mathalpha'>N</span></span> from a program point <span class='math'><span class='mathalpha'>P</span></span>
finds all declarations that precede <span class='math'><span class='mathalpha'>P</span></span>
to which any name that is the same as <span class='math'><span class='mathalpha'>N</span></span> (<a href='#pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>) is bound in <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#lookup.general-3.sentence-1'>.</a></div> <div id='lookup.general-3.sentence-2' class='sentence'>If any such declaration is a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator____'><span class='textsf'><i >using-declarator</i></span></span></a>
whose terminal name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>)
is not dependent (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>),
it is replaced by the declarations named by
the <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator_____'><span class='textsf'><i >using-declarator</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#lookup.general-3.sentence-2'>.</a></div></div></div><div class='para' id='lookup.general-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1550'>#</a></div><div class='texpara'><div id='lookup.general-4.sentence-1' class='sentence'>In certain contexts, only certain kinds of declarations are included<a class='hidden_link' href='#lookup.general-4.sentence-1'>.</a></div> <div id='lookup.general-4.sentence-2' class='sentence'>After any such restriction, any declarations of classes or enumerations are discarded if any other declarations are found<a class='hidden_link' href='#lookup.general-4.sentence-2'>.</a></div> <div id='lookup.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.general-note-4'>4</a></i>:&ensp;<div id='lookup.general-4.sentence-3' class='sentence'>A type (but not a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_____'><span class='textsf'><i >typedef-name</i></span></span></a> or template)
is therefore hidden by any other entity in its scope<a class='hidden_link' href='#lookup.general-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='lookup.general-4.sentence-4' class='sentence'>However, if a lookup is <a class='hidden_link' href='#def:lookup,type-only' title='6.5.1&emsp;General&emsp;[basic.lookup.general]'><span id='def:lookup,type-only'><i >type-only</i></span></a>,
only declarations of
types and templates whose specializations are types are considered;
furthermore, if declarations
of a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name______'><span class='textsf'><i >typedef-name</i></span></span></a> and of the type to which it refers are found,
the declaration of the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_______'><span class='textsf'><i >typedef-name</i></span></span></a> is discarded
instead of the type declaration<a class='hidden_link' href='#lookup.general-4.sentence-4'>.</a></div></div></div></div><div id='class.member.lookup' class='section'><h3 ><a class='secnum' href='#class.member.lookup' style='min-width:80pt'>6.5.2</a> Member name lookup <a class='abbr_ref' href='class.member.lookup'>[class.member.lookup]</a></h3><div class='texpara'><a class='index' id=':lookup,member_name'></a><a class='index' id=':ambiguity,base_class_member'></a><a class='index' id=':ambiguity,member_access'></a></div><div class='para' id='class.member.lookup-1'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1571'>#</a></div><div class='texpara'><div id='class.member.lookup-1.sentence-1' class='sentence'><a class='index' id=':scope,search'></a>A <a class='hidden_link' href='#def:search' title='6.5.2&emsp;Member name lookup&emsp;[class.member.lookup]'><span id='def:search'><i >search</i></span></a> in a scope <span class='math'><span class='mathalpha'>X</span></span> for a name <span class='math'><span class='mathalpha'>M</span></span> from a program point <span class='math'><span class='mathalpha'>P</span></span>
is a single search in <span class='math'><span class='mathalpha'>X</span></span> for <span class='math'><span class='mathalpha'>M</span></span> from <span class='math'><span class='mathalpha'>P</span></span>
unless <span class='math'><span class='mathalpha'>X</span></span> is the scope of a class or class template <span class='math'><span class='mathalpha'>T</span></span>, in which case the
following steps define the result of the search<a class='hidden_link' href='#class.member.lookup-1.sentence-1'>.</a></div> <div id='class.member.lookup-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-1'>1</a></i>:&ensp;<div id='class.member.lookup-1.sentence-2' class='sentence'>The result differs only
if <span class='math'><span class='mathalpha'>M</span></span> is a <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id__'><span class='textsf'><i >conversion-function-id</i></span></span></a> or
if the single search would find nothing<a class='hidden_link' href='#class.member.lookup-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.member.lookup-2'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1583'>#</a></div><div class='texpara'><div id='class.member.lookup-2.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:lookup_set' title='6.5.2&emsp;Member name lookup&emsp;[class.member.lookup]'><span id='def:lookup_set'><i >lookup set</i></span></a> for a name <span class='math'><span class='mathalpha'>N</span></span> in a class or class template <span class='math'><span class='mathalpha'>C</span></span>, called <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>,
consists of two component sets:
the <a class='hidden_link' href='#def:declaration_set' id='def:declaration_set'><i>declaration set</i></a>, a set of members named <span class='math'><span class='mathalpha'>N</span></span>; and
the <a class='hidden_link' href='#def:subobject_set' id='def:subobject_set'><i>subobject set</i></a>,
a set of subobjects where declarations of these members were found
(possibly via <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration__'><span class='textsf'><i >using-declaration</i></span></span></a><i >s</i>)<a class='hidden_link' href='#class.member.lookup-2.sentence-1'>.</a></div> <div id='class.member.lookup-2.sentence-2' class='sentence'>In the declaration set, type declarations (including injected-class-names)
are replaced by the types they designate<a class='hidden_link' href='#class.member.lookup-2.sentence-2'>.</a></div> <div id='class.member.lookup-2.sentence-3' class='sentence'><span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is calculated as follows:</div></div></div><div class='para' id='class.member.lookup-3'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1593'>#</a></div><div class='texpara'><div id='class.member.lookup-3.sentence-1' class='sentence'>The declaration set is the result of
a single search in the scope of <span class='math'><span class='mathalpha'>C</span></span> for <span class='math'><span class='mathalpha'>N</span></span>
from immediately after the <a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier____'><span class='textsf'><i >class-specifier</i></span></span></a> of <span class='math'><span class='mathalpha'>C</span></span>
if <span class='math'><span class='mathalpha'>P</span></span> is in a complete-class context of <span class='math'><span class='mathalpha'>C</span></span> or
from <span class='math'><span class='mathalpha'>P</span></span> otherwise<a class='hidden_link' href='#class.member.lookup-3.sentence-1'>.</a></div> <div id='class.member.lookup-3.sentence-2' class='sentence'>If the resulting declaration set is not empty, the subobject set
contains <span class='math'><span class='mathalpha'>C</span></span> itself, and calculation is complete<a class='hidden_link' href='#class.member.lookup-3.sentence-2'>.</a></div></div></div><div class='para' id='class.member.lookup-4'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1602'>#</a></div><div class='texpara'><div id='class.member.lookup-4.sentence-1' class='sentence'>Otherwise (i.e., <span class='math'><span class='mathalpha'>C</span></span> does not contain a declaration of <span class='math'><span class='mathalpha'>N</span></span>
or the resulting declaration set is empty), <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is initially empty<a class='hidden_link' href='#class.member.lookup-4.sentence-1'>.</a></div> <div id='class.member.lookup-4.sentence-2' class='sentence'>Calculate the lookup set for <span class='math'><span class='mathalpha'>N</span></span>
in each direct non-dependent (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>) base class subobject <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, and
merge each such lookup set <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> in turn into <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span><a class='hidden_link' href='#class.member.lookup-4.sentence-2'>.</a></div> <div id='class.member.lookup-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-2'>2</a></i>:&ensp;<div id='class.member.lookup-4.sentence-3' class='sentence'>If <span class='math'><span class='mathalpha'>C</span></span> is incomplete,
only base classes whose <a href='class.derived.general#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier'><span class='textsf'><i >base-specifier</i></span></span></a> appears before <span class='math'><span class='mathalpha'>P</span></span>
are considered<a class='hidden_link' href='#class.member.lookup-4.sentence-3'>.</a></div> <div id='class.member.lookup-4.sentence-4' class='sentence'>If <span class='math'><span class='mathalpha'>C</span></span> is an instantiated class, its base classes are not dependent<a class='hidden_link' href='#class.member.lookup-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.member.lookup-5'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1615'>#</a></div><div class='texpara'><div id='class.member.lookup-5.sentence-1' class='sentence'>The following steps define the result of merging lookup set <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>
into the intermediate <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>:</div></div><div class='texpara'><ul class='itemize'><li id='class.member.lookup-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.member.lookup-5.1'>(5.1)</a></div><div class='texpara'><div id='class.member.lookup-5.1.sentence-1' class='sentence'>If each of the subobject members of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is a base class
subobject of at least one of the subobject members of <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>, or if
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is empty, <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is unchanged and the merge is complete<a class='hidden_link' href='#class.member.lookup-5.1.sentence-1'>.</a></div> <div id='class.member.lookup-5.1.sentence-2' class='sentence'>Conversely, if each of the subobject members of <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a base class
subobject of at least one of the subobject members of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, or if
<span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is empty, the new <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a copy of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span><a class='hidden_link' href='#class.member.lookup-5.1.sentence-2'>.</a></div></div></li><li id='class.member.lookup-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.member.lookup-5.2'>(5.2)</a></div><div class='texpara'><div id='class.member.lookup-5.2.sentence-1' class='sentence'>Otherwise, if the declaration sets of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> and <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span>
differ, the merge is ambiguous: the new <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a lookup set with an
invalid declaration set and the union of the subobject sets<a class='hidden_link' href='#class.member.lookup-5.2.sentence-1'>.</a></div> <div id='class.member.lookup-5.2.sentence-2' class='sentence'>In
subsequent merges, an invalid declaration set is considered different
from any other<a class='hidden_link' href='#class.member.lookup-5.2.sentence-2'>.</a></div></div></li><li id='class.member.lookup-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.member.lookup-5.3'>(5.3)</a></div><div class='texpara'><div id='class.member.lookup-5.3.sentence-1' class='sentence'>Otherwise, the new <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span>,<span class='mathalpha'>C</span>)</span> is a lookup set with the shared set of
declarations and the union of the subobject sets<a class='hidden_link' href='#class.member.lookup-5.3.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='class.member.lookup-6'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1637'>#</a></div><div class='texpara'><div id='class.member.lookup-6.sentence-1' class='sentence'>The result of the search is the declaration set of <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>M</span>,<span class='mathalpha'>T</span>)</span><a class='hidden_link' href='#class.member.lookup-6.sentence-1'>.</a></div> <div id='class.member.lookup-6.sentence-2' class='sentence'>If it is an invalid set, the program is ill-formed<a class='hidden_link' href='#class.member.lookup-6.sentence-2'>.</a></div> <div id='class.member.lookup-6.sentence-3' class='sentence'>If it differs from the result of a search in <span class='math'><span class='mathalpha'>T</span></span> for <span class='math'><span class='mathalpha'>M</span></span>
in a complete-class context (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) of <span class='math'><span class='mathalpha'>T</span></span>,
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#class.member.lookup-6.sentence-3'>.</a></div> <div id='class.member.lookup-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;                    <span class='comment'>// S(x,A) = { { <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span> }, { <span class='tcode_in_codeblock'>A</span> } }</span>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>float</span> x; <span class='curlybracket'>}</span>;                  <span class='comment'>// S(x,B) = { { <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;x</span> }, { <span class='tcode_in_codeblock'>B</span> } }</span>
<span class='keyword'>struct</span> C<span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;       <span class='comment'>// S(x,C) = { invalid, { <span class='tcode_in_codeblock'>A</span> in <span class='tcode_in_codeblock'>C</span>, <span class='tcode_in_codeblock'>B</span> in <span class='tcode_in_codeblock'>C</span> } }</span>
<span class='keyword'>struct</span> D<span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// S(x,D) = S(x,C)</span>
<span class='keyword'>struct</span> E<span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> C <span class='curlybracket'>{</span> <span class='keyword'>char</span> x; <span class='curlybracket'>}</span>; <span class='comment'>// S(x,E) = { { <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;x</span> }, { <span class='tcode_in_codeblock'>E</span> } }</span>
<span class='keyword'>struct</span> F<span class='operator'>:</span> <span class='keyword'>public</span> D, <span class='keyword'>public</span> E <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;       <span class='comment'>// S(x,F) = S(x,E)</span>
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  F f;
  f<span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>0</span>;                              <span class='comment'>// OK, lookup finds <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;x</span></span>
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='class.member.lookup-6.sentence-4' class='sentence'><span class='math'><span class='mathalpha'>S</span>(<span class='texttt'>x</span>,<span class='texttt'>F</span>)</span> is unambiguous because the <span class='texttt'>A</span> and <span class='texttt'>B</span> base
class subobjects of <span class='texttt'>D</span> are also base class subobjects of <span class='texttt'>E</span>, so
<span class='math'><span class='mathalpha'>S</span>(<span class='texttt'>x</span>,<span class='texttt'>D</span>)</span> is discarded in the first merge step<a class='hidden_link' href='#class.member.lookup-6.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.member.lookup-7'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1662'>#</a></div><div class='texpara'><div id='class.member.lookup-7.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>M</span></span> is a non-dependent <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id___'><span class='textsf'><i >conversion-function-id</i></span></span></a>,
conversion function templates that are members of <span class='math'><span class='mathalpha'>T</span></span> are considered<a class='hidden_link' href='#class.member.lookup-7.sentence-1'>.</a></div> <div id='class.member.lookup-7.sentence-2' class='sentence'>For each such template <span class='math'><span class='mathalpha'>F</span></span>, the lookup set <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>t</span>,<span class='mathalpha'>T</span>)</span> is constructed,
considering a function template declaration to have the name <span class='math'><span class='mathalpha'>t</span></span>
only if it corresponds to a declaration of <span class='math'><span class='mathalpha'>F</span></span> (<a href='#scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>)<a class='hidden_link' href='#class.member.lookup-7.sentence-2'>.</a></div> <div id='class.member.lookup-7.sentence-3' class='sentence'>The members of the declaration set of each such lookup set,
which shall not be an invalid set, are included in the result<a class='hidden_link' href='#class.member.lookup-7.sentence-3'>.</a></div> <div id='class.member.lookup-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-3'>3</a></i>:&ensp;<div id='class.member.lookup-7.sentence-4' class='sentence'>Overload resolution will discard those
that cannot convert to the type specified by <span class='math'><span class='mathalpha'>M</span></span> (<a href='temp.over' title='13.10.4&emsp;Overload resolution'>[temp.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#class.member.lookup-7.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.member.lookup-8'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1675'>#</a></div><div class='texpara'><div id='class.member.lookup-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-4'>4</a></i>:&ensp;<div id='class.member.lookup-8.sentence-1' class='sentence'>A static member, a nested type or an enumerator defined in a base class
<span class='texttt'>T</span> can unambiguously be found even if an object has more than one
base class subobject of type <span class='texttt'>T</span><a class='hidden_link' href='#class.member.lookup-8.sentence-1'>.</a></div> <div id='class.member.lookup-8.sentence-2' class='sentence'>Two base class subobjects share
the non-static member subobjects of their common virtual base classes<a class='hidden_link' href='#class.member.lookup-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.member.lookup-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> v;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;
  <span class='keyword'>enum</span> <span class='curlybracket'>{</span> e <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>D<span class='operator'>*</span> pd<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>v<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>v</span> (virtual)</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>s<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>s</span> (static)</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>e;    <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>e</span> (enumerator)</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// error: ambiguous: two <span class='tcode_in_codeblock'>a</span>s in <span class='tcode_in_codeblock'>D</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.member.lookup-9'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1705'>#</a></div><div class='texpara'><div id='class.member.lookup-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-5'>5</a></i>:&ensp;<div id='class.member.lookup-9.sentence-1' class='sentence'><a class='index' id=':dominance,virtual_base_class'></a>When virtual base classes are used, a hidden declaration can be reached
along a path through the subobject lattice that does not pass through
the hiding declaration<a class='hidden_link' href='#class.member.lookup-9.sentence-1'>.</a></div> <div id='class.member.lookup-9.sentence-2' class='sentence'>This is not an ambiguity<a class='hidden_link' href='#class.member.lookup-9.sentence-2'>.</a></div> <div id='class.member.lookup-9.sentence-3' class='sentence'>The identical use with
non-virtual base classes is an ambiguity; in that case there is no
unique instance of the name that hides all the others<a class='hidden_link' href='#class.member.lookup-9.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.member.lookup-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> W <span class='curlybracket'>{</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> y; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V, W <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> x;
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='keyword'>int</span> y;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> <span class='keyword'>virtual</span> V, W <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='keyword'>void</span> glorp<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div class='figure' id='fig:class.lookup'><svg width="386pt" height="140pt"
 viewBox="0.00 0.00 386.00 140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 136)">
<title>virt</title>
<!-- W1 -->
<g class="node">
<title>W1</title>
<text text-anchor="middle" x="27" y="-119.2" font-family="Noto Sans Mono" font-size="11.00">W</text>
</g>
<!-- V -->
<g class="node">
<title>V</title>
<text text-anchor="middle" x="189" y="-119.2" font-family="Noto Sans Mono" font-size="11.00">V</text>
</g>
<!-- W2 -->
<g class="node">
<title>W2</title>
<text text-anchor="middle" x="351" y="-119.2" font-family="Noto Sans Mono" font-size="11.00">W</text>
</g>
<!-- B -->
<g class="node">
<title>B</title>
<text text-anchor="middle" x="108" y="-63.2" font-family="Noto Sans Mono" font-size="11.00">B</text>
</g>
<!-- B&#45;&gt;W1 -->
<g class="edge">
<title>B&#45;&gt;W1</title>
<path fill="none" stroke="black" d="M94.26,-76.16C81.85,-84.43 63.37,-96.75 48.92,-106.38"/>
<polygon fill="black" stroke="black" points="46.92,-103.52 40.54,-111.97 50.8,-109.34 46.92,-103.52"/>
</g>
<!-- B&#45;&gt;V -->
<g class="edge">
<title>B&#45;&gt;V</title>
<path fill="none" stroke="black" d="M121.74,-76.16C134.15,-84.43 152.63,-96.75 167.08,-106.38"/>
<polygon fill="black" stroke="black" points="165.2,-109.34 175.46,-111.97 169.08,-103.52 165.2,-109.34"/>
</g>
<!-- C -->
<g class="node">
<title>C</title>
<text text-anchor="middle" x="270" y="-63.2" font-family="Noto Sans Mono" font-size="11.00">C</text>
</g>
<!-- C&#45;&gt;V -->
<g class="edge">
<title>C&#45;&gt;V</title>
<path fill="none" stroke="black" d="M256.26,-76.16C243.85,-84.43 225.37,-96.75 210.92,-106.38"/>
<polygon fill="black" stroke="black" points="208.92,-103.52 202.54,-111.97 212.8,-109.34 208.92,-103.52"/>
</g>
<!-- C&#45;&gt;W2 -->
<g class="edge">
<title>C&#45;&gt;W2</title>
<path fill="none" stroke="black" d="M283.74,-76.16C296.15,-84.43 314.63,-96.75 329.08,-106.38"/>
<polygon fill="black" stroke="black" points="327.2,-109.34 337.46,-111.97 331.08,-103.52 327.2,-109.34"/>
</g>
<!-- D -->
<g class="node">
<title>D</title>
<text text-anchor="middle" x="189" y="-7.2" font-family="Noto Sans Mono" font-size="11.00">D</text>
</g>
<!-- D&#45;&gt;B -->
<g class="edge">
<title>D&#45;&gt;B</title>
<path fill="none" stroke="black" d="M175.26,-20.16C162.85,-28.43 144.37,-40.75 129.92,-50.38"/>
<polygon fill="black" stroke="black" points="127.92,-47.52 121.54,-55.97 131.8,-53.34 127.92,-47.52"/>
</g>
<!-- D&#45;&gt;C -->
<g class="edge">
<title>D&#45;&gt;C</title>
<path fill="none" stroke="black" d="M202.74,-20.16C215.15,-28.43 233.63,-40.75 248.08,-50.38"/>
<polygon fill="black" stroke="black" points="246.2,-53.34 256.46,-55.97 250.08,-47.52 246.2,-53.34"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.lookup'>1</a>: Name lookup&emsp;&ensp;<a href='./fig:class.lookup'>[fig:class.lookup]</a></div></div><div class='texpara'><div id='class.member.lookup-9.sentence-4' class='sentence'>As illustrated in Figure <a href='#fig:class.lookup'>1</a>,
the names declared in <span class='texttt'>V</span> and the left-hand instance of <span class='texttt'>W</span>
are hidden by those in <span class='texttt'>B</span>, but the names declared in the
right-hand instance of <span class='texttt'>W</span> are not hidden at all<a class='hidden_link' href='#class.member.lookup-9.sentence-4'>.</a></div> <span class='codeblock'><span class='keyword'>void</span> D<span class='operator'>::</span>glorp<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  x<span class='operator'>+</span><span class='operator'>+</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;x</span> hides <span class='tcode_in_codeblock'>V&#x200b;::&#x200b;x</span></span>
  f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f()</span> hides <span class='tcode_in_codeblock'>V&#x200b;::&#x200b;f()</span></span>
  y<span class='operator'>+</span><span class='operator'>+</span>;              <span class='comment'>// error: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;y</span> and <span class='tcode_in_codeblock'>C</span>'s <span class='tcode_in_codeblock'>W&#x200b;::&#x200b;y</span></span>
  g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// error: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g()</span> and <span class='tcode_in_codeblock'>C</span>'s <span class='tcode_in_codeblock'>W&#x200b;::&#x200b;g()</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <a class='index' id=':ambiguity,class_conversion'></a></div></div><div class='para' id='class.member.lookup-10'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1748'>#</a></div><div class='texpara'><div id='class.member.lookup-10.sentence-1' class='sentence'>An explicit or implicit conversion from a pointer to or
an expression designating an object
of a
derived class to a pointer or reference to one of its base classes shall
unambiguously refer to a unique object representing the base class<a class='hidden_link' href='#class.member.lookup-10.sentence-1'>.</a></div> <div id='class.member.lookup-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D d;
  B<span class='operator'>*</span> pb <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  A<span class='operator'>*</span> pa <span class='operator'>=</span> <span class='operator'>&amp;</span>d;       <span class='comment'>// error: ambiguous: <span class='tcode_in_codeblock'>C</span>'s <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span>'s <span class='tcode_in_codeblock'>A</span>?</span>
  V<span class='operator'>*</span> pv <span class='operator'>=</span> <span class='operator'>&amp;</span>d;       <span class='comment'>// OK, only one <span class='tcode_in_codeblock'>V</span> subobject</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.member.lookup-11'><div class='marginalizedparent'><a class='marginalized' href='#class.member.lookup-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1771'>#</a></div><div class='texpara'><div id='class.member.lookup-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.member.lookup-note-6'>6</a></i>:&ensp;<div id='class.member.lookup-11.sentence-1' class='sentence'>Even if the result of name lookup is unambiguous, use of a name found in
multiple subobjects might still be
ambiguous (<a href='conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>, <a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <a href='class.access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a>)<a class='hidden_link' href='#class.member.lookup-11.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.member.lookup-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.member.lookup-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B1 <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B2 <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> I1<span class='operator'>:</span> B1 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> I2<span class='operator'>:</span> B1 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D<span class='operator'>:</span> I1, I2, B2 <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B1<span class='operator'>::</span>f;
  <span class='keyword'>using</span> B2<span class='operator'>::</span>f;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                        <span class='comment'>// Ambiguous conversion of <span id=':this_____'><span class='tcode_in_codeblock'>this</span></span></span>
    f<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                       <span class='comment'>// Unambiguous (static)</span>
    f<span class='parenthesis'>(</span><span class='literal'>0.0</span><span class='parenthesis'>)</span>;                     <span class='comment'>// Unambiguous (only one <span class='tcode_in_codeblock'>B2</span>)</span>
    <span class='keyword'>int</span> B1<span class='operator'>::</span><span class='operator'>*</span> mpB1 <span class='operator'>=</span> <span class='operator'>&amp;</span>D<span class='operator'>::</span>i;     <span class='comment'>// Unambiguous</span>
    <span class='keyword'>int</span> D<span class='operator'>::</span><span class='operator'>*</span> mpD <span class='operator'>=</span> <span class='operator'>&amp;</span>D<span class='operator'>::</span>i;       <span class='comment'>// Ambiguous conversion</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='lookup.unqual' class='section'><h3 ><a class='secnum' href='#lookup.unqual' style='min-width:80pt'>6.5.3</a> Unqualified name lookup <a class='abbr_ref' href='basic.lookup.unqual'>[basic.lookup.unqual]</a></h3><div class='texpara'><a class='index' id=':name,unqualified'></a></div><div class='para' id='lookup.unqual-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1808'>#</a></div><div class='texpara'><div id='lookup.unqual-1.sentence-1' class='sentence'>A <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive__'><span class='textsf'><i >using-directive</i></span></span></a> is
<a class='hidden_link' href='#def:active' id='def:active'><i>active</i></a> in a scope <span class='math'><span class='mathalpha'>S</span></span> at a program point <span class='math'><span class='mathalpha'>P</span></span>
if it precedes <span class='math'><span class='mathalpha'>P</span></span> and inhabits either <span class='math'><span class='mathalpha'>S</span></span> or
the scope of a namespace nominated by a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive___'><span class='textsf'><i >using-directive</i></span></span></a>
that is active in <span class='math'><span class='mathalpha'>S</span></span> at <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#lookup.unqual-1.sentence-1'>.</a></div></div></div><div class='para' id='lookup.unqual-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1815'>#</a></div><div class='texpara'><div id='lookup.unqual-2.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:unqualified_search' id='def:unqualified_search'><i>unqualified search</i></a> in a scope <span class='math'><span class='mathalpha'>S</span></span> from a program point <span class='math'><span class='mathalpha'>P</span></span>
includes the results of searches from <span class='math'><span class='mathalpha'>P</span></span> in
<ul class='itemize'><li id='lookup.unqual-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.unqual-2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>S</span></span>, and</li><li id='lookup.unqual-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.unqual-2.2'>(2.2)</a></div>for any scope <span class='math'><span class='mathalpha'>U</span></span> that contains <span class='math'><span class='mathalpha'>P</span></span> and is or is contained by <span class='math'><span class='mathalpha'>S</span></span>,
each namespace contained by <span class='math'><span class='mathalpha'>S</span></span> that is nominated by
a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive____'><span class='textsf'><i >using-directive</i></span></span></a> that is active in <span class='math'><span class='mathalpha'>U</span></span> at <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#lookup.unqual-2.sentence-1'>.</a></li></ul></div> <div id='lookup.unqual-2.sentence-2' class='sentence'>
If no declarations are found,
the results of the unqualified search are
the results of an unqualified search in the parent scope of <span class='math'><span class='mathalpha'>S</span></span>, if any,
from <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#lookup.unqual-2.sentence-2'>.</a></div> <div id='lookup.unqual-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.unqual-note-1'>1</a></i>:&ensp;<div id='lookup.unqual-2.sentence-3' class='sentence'>When a class scope is searched,
the scopes of its base classes are also searched (<a href='#class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#lookup.unqual-2.sentence-3'>.</a></div> <div id='lookup.unqual-2.sentence-4' class='sentence'>If it inherits from a single base,
it is as if the scope of the base immediately contains
the scope of the derived class<a class='hidden_link' href='#lookup.unqual-2.sentence-4'>.</a></div> <div id='lookup.unqual-2.sentence-5' class='sentence'>Template parameter scopes
that are associated with one scope in the chain of parents
are also considered (<a href='temp.local' title='13.8.2&emsp;Locally declared names'>[temp.<span class='shy'></span>local]</a>)<a class='hidden_link' href='#lookup.unqual-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='lookup.unqual-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1841'>#</a></div><div class='texpara'><div id='lookup.unqual-3.sentence-1' class='sentence'><a class='hidden_link' href='#def:lookup,unqualified_name' title='6.5.3&emsp;Unqualified name lookup&emsp;[basic.lookup.unqual]'><span id='def:lookup,unqualified_name'><i >Unqualified name lookup</i></span></a>
from a program point performs an unqualified search in its immediate scope<a class='hidden_link' href='#lookup.unqual-3.sentence-1'>.</a></div></div></div><div class='para' id='lookup.unqual-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1845'>#</a></div><div class='texpara'><div id='lookup.unqual-4.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:name,unqualified' title='6.5.3&emsp;Unqualified name lookup&emsp;[basic.lookup.unqual]'><span id='def:name,unqualified'><i >unqualified name</i></span></a> is a name
that does not immediately follow a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a> or
the <span class='texttt'><span class='operator'>.</span></span> or <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> in a class member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>),
possibly after a <span id=':template_'><span class='texttt'><span class='keyword'>template</span></span></span> keyword or <span class='texttt'><span class='operator'>~</span></span><a class='hidden_link' href='#lookup.unqual-4.sentence-1'>.</a></div> <div id='lookup.unqual-4.sentence-2' class='sentence'>Unless otherwise specified,
such a name undergoes unqualified name lookup from the point where it appears<a class='hidden_link' href='#lookup.unqual-4.sentence-2'>.</a></div></div></div><div class='para' id='lookup.unqual-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1853'>#</a></div><div class='texpara'><div id='lookup.unqual-5.sentence-1' class='sentence'>An unqualified name that is a component name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>) of
a <a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier'><span class='textsf'><i >type-specifier</i></span></span></a> or <a href='dcl.decl.general#nt:ptr-operator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-operator'><span class='textsf'><i >ptr-operator</i></span></span></a> of
a <a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id'><span class='textsf'><i >conversion-type-id</i></span></span></a> is looked up in the same fashion
as the <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id____'><span class='textsf'><i >conversion-function-id</i></span></span></a> in which it appears<a class='hidden_link' href='#lookup.unqual-5.sentence-1'>.</a></div> <div id='lookup.unqual-5.sentence-2' class='sentence'>If that lookup finds nothing, it undergoes unqualified name lookup;
in each case, only names
that denote types or templates whose specializations are types are considered<a class='hidden_link' href='#lookup.unqual-5.sentence-2'>.</a></div> <div id='lookup.unqual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.unqual-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> T1 <span class='curlybracket'>{</span> <span class='keyword'>struct</span> U <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> T2 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> U1 <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> U2 <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> T <span class='operator'>=</span> T1;
  <span class='keyword'>using</span> U <span class='operator'>=</span> U1;
  <span class='keyword'>operator</span> U1 T1<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> U1 T2<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> U2 T1<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> U2 T2<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> U <span class='operator'>=</span> U2;
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='keyword'>operator</span> U T<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// #1, searches for <span class='tcode_in_codeblock'>T</span> in the scope of <span class='tcode_in_codeblock'>X</span> first</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='keyword'>operator</span> U <span class='keyword'>decltype</span><span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// #2</span>
  <span class='keyword'>return</span> <span class='literal'>0</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>int</span> x <span class='operator'>=</span> g<span class='anglebracket'>&lt;</span>B, T2<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                     <span class='comment'>// #1 calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator U1 T1&#x200b;::&#x200b;*</span></span>
                                        <span class='comment'>// #2 calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator U1 T2&#x200b;::&#x200b;*</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='lookup.unqual-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1889'>#</a></div><div class='texpara'><div id='lookup.unqual-6.sentence-1' class='sentence'>In a friend declaration <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator_____'><span class='textsf'><i >declarator</i></span></span></a>
whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id___'><span class='textsf'><i >declarator-id</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
whose lookup context (<a href='#lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a>) is a class or namespace <span class='math'><span class='mathalpha'>S</span></span>,
lookup for an unqualified name
that appears after the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id____'><span class='textsf'><i >declarator-id</i></span></span></a>
performs a search in the scope associated with <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#lookup.unqual-6.sentence-1'>.</a></div> <div id='lookup.unqual-6.sentence-2' class='sentence'>If that lookup finds nothing, it undergoes unqualified name lookup<a class='hidden_link' href='#lookup.unqual-6.sentence-2'>.</a></div> <div id='lookup.unqual-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.unqual-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>using</span> I <span class='operator'>=</span> <span class='keyword'>int</span>;
<span class='keyword'>using</span> D <span class='operator'>=</span> <span class='keyword'>double</span>;
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>inline</span> <span class='keyword'>namespace</span> N <span class='curlybracket'>{</span><span class='keyword'>using</span> C <span class='operator'>=</span> <span class='keyword'>char</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>using</span> F <span class='operator'>=</span> <span class='keyword'>float</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>struct</span> X0 <span class='curlybracket'>{</span><span class='keyword'>using</span> F <span class='operator'>=</span> <span class='keyword'>float</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> W <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> D <span class='operator'>=</span> <span class='keyword'>void</span>;
  <span class='keyword'>struct</span> X <span class='operator'>:</span> X0 <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='operator'>::</span>D<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>short</span> I, F;
  <span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;        <span class='comment'>// error: no <span class='tcode_in_codeblock'>void A&#x200b;::&#x200b;f(short)</span></span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>;        <span class='comment'>// OK</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;C</span> not found</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;        <span class='comment'>// OK</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> W<span class='operator'>::</span>X<span class='operator'>::</span>g<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;     <span class='comment'>// error: no <span class='tcode_in_codeblock'>void X&#x200b;::&#x200b;g(short)</span></span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> W<span class='operator'>::</span>X<span class='operator'>::</span>g<span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>;     <span class='comment'>// OK</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> W<span class='operator'>::</span>X<span class='operator'>::</span>g<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;     <span class='comment'>// OK</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='lookup.argdep' class='section'><h3 ><a class='secnum' href='#lookup.argdep' style='min-width:80pt'>6.5.4</a> Argument-dependent name lookup <a class='abbr_ref' href='basic.lookup.argdep'>[basic.lookup.argdep]</a></h3><div class='texpara'><a class='index' id=':lookup,argument-dependent'></a></div><div class='para' id='lookup.argdep-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1936'>#</a></div><div class='texpara'><div id='lookup.argdep-1.sentence-1' class='sentence'>When the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a> in
a function call (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>) is an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a>,
and unqualified lookup (<a href='#lookup.unqual' title='6.5.3&emsp;Unqualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>unqual]</a>)
for the name in the <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><i >unqualified-id</i></span></span></a> does not find any
<ul class='itemize'><li id='lookup.argdep-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-1.1'>(1.1)</a></div>declaration of a class member, or</li><li id='lookup.argdep-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-1.2'>(1.2)</a></div>function declaration inhabiting a block scope, or</li><li id='lookup.argdep-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-1.3'>(1.3)</a></div>declaration not of a function or function template</li></ul>
then lookup for the name also includes the result of
<a class='hidden_link' href='#def:lookup,argument-dependent' title='6.5.4&emsp;Argument-dependent name lookup&emsp;[basic.lookup.argdep]'><span id='def:lookup,argument-dependent'><i >argument-dependent lookup</i></span></a> in a set of associated namespaces
that depends on the types of the arguments
(and for template template arguments, the namespace of the template argument),
as specified below<a class='hidden_link' href='#lookup.argdep-1.sentence-1'>.</a></div> <div id='lookup.argdep-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.argdep-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  N<span class='operator'>::</span>S s;
  f<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;             <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span></span>
  <span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;           <span class='comment'>// error: <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span> not considered; parentheses prevent argument-dependent lookup</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='lookup.argdep-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1969'>#</a></div><div class='texpara'><div id='lookup.argdep-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.argdep-note-1'>1</a></i>:&ensp;<div id='lookup.argdep-2.sentence-1' class='sentence'>For purposes of determining
(during parsing) whether an expression is a
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_'><span class='textsf'><i >postfix-expression</i></span></span></a> for a function call, the usual name lookup
rules apply<a class='hidden_link' href='#lookup.argdep-2.sentence-1'>.</a></div> <div id='lookup.argdep-2.sentence-2' class='sentence'>In some cases
a name followed by <span class='texttt'><span class='anglebracket'>&lt;</span></span> is treated as a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a>
even though name lookup did not find a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a>
(see <a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>)<a class='hidden_link' href='#lookup.argdep-2.sentence-2'>.</a></div> <div id='lookup.argdep-2.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>int</span> h;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> x <span class='operator'>=</span> f<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, lookup of <span class='tcode_in_codeblock'>f</span> finds nothing, <span class='tcode_in_codeblock'>f</span> treated as template name</span>
<span class='keyword'>int</span> y <span class='operator'>=</span> g<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, lookup of <span class='tcode_in_codeblock'>g</span> finds a function, <span class='tcode_in_codeblock'>g</span> treated as template name</span>
<span class='keyword'>int</span> z <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>h&lt;</span> does not begin a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><i >template-id</i></span></span></a></span>
</span></div></div><div class='texpara'><div id='lookup.argdep-2.sentence-4' class='sentence'>The rules have no effect on the syntactic interpretation of an expression<a class='hidden_link' href='#lookup.argdep-2.sentence-4'>.</a></div> <div id='lookup.argdep-2.sentence-5' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span> f;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>A a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is the typedef, not the friend function: equivalent to <span class='tcode_in_codeblock'>int(a)</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div> <div id='lookup.argdep-2.sentence-6' class='sentence'>
Because the expression is not a function call,
argument-dependent name lookup does not apply and
the friend function <span class='texttt'>f</span> is not found<a class='hidden_link' href='#lookup.argdep-2.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='lookup.argdep-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2014'>#</a></div><div class='texpara'><div id='lookup.argdep-3.sentence-1' class='sentence'>For each argument type <span class='texttt'>T</span> in the function call,
there is a set of zero or more <a class='hidden_link' href='#def:entity,associated' title='6.5.4&emsp;Argument-dependent name lookup&emsp;[basic.lookup.argdep]'><span id='def:entity,associated'><i >associated entities</i></span></a>
to be considered<a class='hidden_link' href='#lookup.argdep-3.sentence-1'>.</a></div> <div id='lookup.argdep-3.sentence-2' class='sentence'>The set of entities is determined entirely by
the types of the function arguments
(and any template template arguments)<a class='hidden_link' href='#lookup.argdep-3.sentence-2'>.</a></div> <div id='lookup.argdep-3.sentence-3' class='sentence'>Any <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name________'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> and <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration___'><span class='textsf'><i >using-declaration</i></span></span></a><i >s</i>
used to specify the types
do not contribute to this set<a class='hidden_link' href='#lookup.argdep-3.sentence-3'>.</a></div> <div id='lookup.argdep-3.sentence-4' class='sentence'>The set of entities
is determined in the following way:
<ul class='itemize'><li id='lookup.argdep-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-3.1'>(3.1)</a></div><div class='texpara'><div id='lookup.argdep-3.1.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a fundamental type, its associated set of
entities is empty<a class='hidden_link' href='#lookup.argdep-3.1.sentence-1'>.</a></div></div></li><li id='lookup.argdep-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-3.2'>(3.2)</a></div><div class='texpara'><div id='lookup.argdep-3.2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a class type (including unions),
its associated entities are:
the class itself;
the class of which it is a member, if any;
and its direct and indirect base classes<a class='hidden_link' href='#lookup.argdep-3.2.sentence-1'>.</a></div> <div id='lookup.argdep-3.2.sentence-2' class='sentence'>Furthermore, if <span class='texttt'>T</span> is a class template specialization,
its associated entities also include:
the entities
associated with the types of the template arguments
provided for template type parameters;
the templates used as template template arguments; and
the classes of which any member templates used as template template
arguments are members<a class='hidden_link' href='#lookup.argdep-3.2.sentence-2'>.</a></div> <div id='lookup.argdep-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.argdep-note-2'>2</a></i>:&ensp;<div id='lookup.argdep-3.2.sentence-3' class='sentence'>Non-type template arguments do not
contribute to the set of associated entities<a class='hidden_link' href='#lookup.argdep-3.2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='lookup.argdep-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-3.3'>(3.3)</a></div><div class='texpara'><div id='lookup.argdep-3.3.sentence-1' class='sentence'>If <span class='texttt'>T</span> is an enumeration type,
its associated entities are <span class='texttt'>T</span>
and, if it is a class member, the member's class<a class='hidden_link' href='#lookup.argdep-3.3.sentence-1'>.</a></div></div></li><li id='lookup.argdep-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-3.4'>(3.4)</a></div><div class='texpara'><div id='lookup.argdep-3.4.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to <span class='texttt'>U</span> or an array of <span class='texttt'>U</span>,
its associated entities are those associated with <span class='texttt'>U</span><a class='hidden_link' href='#lookup.argdep-3.4.sentence-1'>.</a></div></div></li><li id='lookup.argdep-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-3.5'>(3.5)</a></div><div class='texpara'><div id='lookup.argdep-3.5.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a function type, its associated
entities are those associated with the function parameter types and those
associated with the return type<a class='hidden_link' href='#lookup.argdep-3.5.sentence-1'>.</a></div></div></li><li id='lookup.argdep-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-3.6'>(3.6)</a></div><div class='texpara'><div id='lookup.argdep-3.6.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a member function of a class
<span class='texttt'>X</span>, its associated entities are those associated
with the function parameter types and return type, together with those
associated with <span class='texttt'>X</span><a class='hidden_link' href='#lookup.argdep-3.6.sentence-1'>.</a></div></div></li><li id='lookup.argdep-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-3.7'>(3.7)</a></div><div class='texpara'><div id='lookup.argdep-3.7.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a data member of class <span class='texttt'>X</span>, its
associated entities are those associated with the member
type together with those associated with <span class='texttt'>X</span><a class='hidden_link' href='#lookup.argdep-3.7.sentence-1'>.</a></div></div></li></ul></div> <div id='lookup.argdep-3.sentence-5' class='sentence'>
In addition, if the argument is an overload set or the address of such a set,
its associated entities
are the union of those associated with each of the
members of the set, i.e., the entities associated with its
parameter types and return type<a class='hidden_link' href='#lookup.argdep-3.sentence-5'>.</a></div> <div id='lookup.argdep-3.sentence-6' class='sentence'>Additionally, if the aforementioned overload set is named with
a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id__'><span class='textsf'><i >template-id</i></span></span></a>, its associated entities also include
its template <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i> and
those associated with its type <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i><a class='hidden_link' href='#lookup.argdep-3.sentence-6'>.</a></div></div></div><div class='para' id='lookup.argdep-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2078'>#</a></div><div class='texpara'><div id='lookup.argdep-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:associated_namespaces' id='def:associated_namespaces'><i>associated namespaces</i></a> for a call are
the innermost enclosing non-inline namespaces for its associated entities
as well as every element of the inline namespace set (<a href='namespace.def' title='9.8.2&emsp;Namespace definition'>[namespace.<span class='shy'></span>def]</a>)
of those namespaces<a class='hidden_link' href='#lookup.argdep-4.sentence-1'>.</a></div> <div id='lookup.argdep-4.sentence-2' class='sentence'>Argument-dependent lookup finds
all declarations of functions and function templates that
<ul class='itemize'><li id='lookup.argdep-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-4.1'>(4.1)</a></div>are found by a search of any associated namespace, or</li><li id='lookup.argdep-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-4.2'>(4.2)</a></div>are declared as a friend (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) of any class
with a reachable definition in the set of associated entities, or</li><li id='lookup.argdep-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.argdep-4.3'>(4.3)</a></div>are exported,
are attached to a named module <span class='texttt'>M</span> (<a href='module.interface' title='10.2&emsp;Export declaration'>[module.<span class='shy'></span>interface]</a>),
do not appear in the translation unit containing the point of the lookup, and
have the same innermost enclosing non-inline namespace scope as
a declaration of an associated entity attached to <span class='texttt'>M</span> (<a href='#link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#lookup.argdep-4.sentence-2'>.</a></li></ul></div> <div id='lookup.argdep-4.sentence-3' class='sentence'>
If the lookup is for a dependent name (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>, <a href='temp.dep.candidate' title='13.8.4.2&emsp;Candidate functions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>candidate]</a>),
the above lookup is also performed
from each point in the instantiation context (<a href='module.context' title='10.6&emsp;Instantiation context'>[module.<span class='shy'></span>context]</a>) of the lookup,
additionally ignoring any declaration that
appears in another translation unit,
is attached to the global module, and
is either discarded (<a href='module.global.frag' title='10.4&emsp;Global module fragment'>[module.<span class='shy'></span>global.<span class='shy'></span>frag]</a>) or has internal linkage<a class='hidden_link' href='#lookup.argdep-4.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='lookup.argdep-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2106'>#</a></div><div class='texpara'><div id='lookup.argdep-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.argdep-example-2'>2</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> M;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>R<span class='operator'>::</span>X, R<span class='operator'>::</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> N;
<span class='keyword'>import</span> M;
<span class='keyword'>export</span> R<span class='operator'>::</span>X make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span> <span class='keyword'>static</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> apply<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>t, u<span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>module</span> Q;
<span class='keyword'>import</span> N;
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Z <span class='curlybracket'>{</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> x <span class='operator'>=</span> make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>decltype(x)</span> is <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;X</span> in module <span class='tcode_in_codeblock'>M</span></span>
  R<span class='operator'>::</span>f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                      <span class='comment'>// error: <span class='tcode_in_codeblock'>R</span> and <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> are not visible here</span>
  f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> from interface of <span class='tcode_in_codeblock'>M</span></span>
  f<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> in module <span class='tcode_in_codeblock'>M</span> not considered</span>
                                <span class='comment'>// even though <span class='tcode_in_codeblock'>S</span> is an associated namespace</span>
  apply<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> is visible in instantiation context, but</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;g</span> has internal linkage and cannot be used outside TU #2</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='lookup.argdep-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2148'>#</a></div><div class='texpara'><div id='lookup.argdep-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.argdep-note-3'>3</a></i>:&ensp;<div id='lookup.argdep-6.sentence-1' class='sentence'>The associated namespace can include namespaces
already considered by ordinary unqualified lookup<a class='hidden_link' href='#lookup.argdep-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='lookup.argdep-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.argdep-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> NS <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> T <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
NS<span class='operator'>::</span>T parm;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>parm<span class='parenthesis'>)</span>;                      <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>NS&#x200b;::&#x200b;f</span></span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>parm, <span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>g(NS&#x200b;::&#x200b;T, float)</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='lookup.qual' class='section'><h3 ><a class='secnum' href='#lookup.qual' style='min-width:80pt'>6.5.5</a> Qualified name lookup <a class='abbr_ref' href='basic.lookup.qual'>[basic.lookup.qual]</a></h3><div id='lookup.qual.general' class='section'><h4 ><a class='secnum' href='#lookup.qual.general' style='min-width:95pt'>6.5.5.1</a> General <a class='abbr_ref' href='basic.lookup.qual.general'>[basic.lookup.qual.general]</a></h4><div class='para' id='lookup.qual.general-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2174'>#</a></div><div class='texpara'><div id='lookup.qual.general-1.sentence-1' class='sentence'><a class='index' id=':lookup,qualified_name'></a><a class='index' id=':name,qualified'></a><a class='index' id=':qualification,explicit'></a>Lookup of an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier______'><span class='textsf'><i >identifier</i></span></span></a>
followed by a <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> scope resolution operator
considers only
namespaces, types, and templates whose specializations are types<a class='hidden_link' href='#lookup.qual.general-1.sentence-1'>.</a></div> <div id='lookup.qual.general-1.sentence-2' class='sentence'>If a name, <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id___'><span class='textsf'><i >template-id</i></span></span></a>, or <a href='dcl.type.simple#nt:computed-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:computed-type-specifier'><span class='textsf'><i >computed-type-specifier</i></span></span></a>
is followed by a <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>,
it shall designate a namespace, class, enumeration, or dependent type,
and the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> is never interpreted as
a complete <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#lookup.qual.general-1.sentence-2'>.</a></div> <div id='lookup.qual.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.qual.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> n;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> A;
  A<span class='operator'>::</span>n <span class='operator'>=</span> <span class='literal'>42</span>;            <span class='comment'>// OK</span>
  A b;                  <span class='comment'>// error: <span class='tcode_in_codeblock'>A</span> does not name a type</span>
<span class='curlybracket'>}</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> B<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>n;     <span class='comment'>// error: <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;B&lt;0&gt;</span> is not a type</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><a class='index' id=':operator,scope_resolution'></a></div></div><div class='para' id='lookup.qual.general-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2211'>#</a></div><div class='texpara'><div id='lookup.qual.general-2.sentence-1' class='sentence'>A member-qualified name is
the (unique) component name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>), if any, of
<ul class='itemize'><li id='lookup.qual.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-2.1'>(2.1)</a></div>an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__'><span class='textsf'><i >unqualified-id</i></span></span></a> or</li><li id='lookup.qual.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-2.2'>(2.2)</a></div>a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__'><span class='textsf'><i >nested-name-specifier</i></span></span></a> of the form
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> or <a href='namespace.def.general#nt:namespace-name' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name_'><span class='textsf'><i >namespace-name</i></span></span></a> <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span></li></ul>
in the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______'><span class='textsf'><i >id-expression</i></span></span></a> of a class member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#lookup.qual.general-2.sentence-1'>.</a></div> <div id='lookup.qual.general-2.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:name,qualified' title='6.5.5.1&emsp;General&emsp;[basic.lookup.qual.general]'><span id='def:name,qualified'><i >qualified name</i></span></a> is
<ul class='itemize'><li id='lookup.qual.general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-2.3'>(2.3)</a></div>a member-qualified name or</li><li id='lookup.qual.general-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-2.4'>(2.4)</a></div>the terminal name of
<ul class='itemize'><li id='lookup.qual.general-2.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#lookup.qual.general-2.4.1'>(2.4.1)</a></div>a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a>,</li><li id='lookup.qual.general-2.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#lookup.qual.general-2.4.2'>(2.4.2)</a></div>a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator______'><span class='textsf'><i >using-declarator</i></span></span></a>,</li><li id='lookup.qual.general-2.4.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#lookup.qual.general-2.4.3'>(2.4.3)</a></div>a <a href='temp.res.general#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier'><span class='textsf'><i >typename-specifier</i></span></span></a>,</li><li id='lookup.qual.general-2.4.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#lookup.qual.general-2.4.4'>(2.4.4)</a></div>a <a href='namespace.alias#nt:qualified-namespace-specifier' title='9.8.3&emsp;Namespace alias&emsp;[namespace.alias]'><span id='ntref:qualified-namespace-specifier'><span class='textsf'><i >qualified-namespace-specifier</i></span></span></a>, or</li><li id='lookup.qual.general-2.4.5'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#lookup.qual.general-2.4.5'>(2.4.5)</a></div>a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___'><span class='textsf'><i >nested-name-specifier</i></span></span></a>,
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_____'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>, or
<a href='class.derived.general#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype'><span class='textsf'><i >class-or-decltype</i></span></span></a>
that has a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier____'><span class='textsf'><i >nested-name-specifier</i></span></span></a> (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>)<a class='hidden_link' href='#lookup.qual.general-2.sentence-2'>.</a></li></ul></li></ul></div> <div id='lookup.qual.general-2.sentence-3' class='sentence'>
The <a class='hidden_link' href='#def:lookup_context' title='6.5.5.1&emsp;General&emsp;[basic.lookup.qual.general]'><span id='def:lookup_context'><i >lookup context</i></span></a> of a member-qualified name is
the type of its associated object expression
(considered dependent if the object expression is type-dependent)<a class='hidden_link' href='#lookup.qual.general-2.sentence-3'>.</a></div> <div id='lookup.qual.general-2.sentence-4' class='sentence'>The lookup context of any other qualified name is
the type, template, or namespace
nominated by the preceding <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_____'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#lookup.qual.general-2.sentence-4'>.</a></div> <div id='lookup.qual.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.qual.general-note-1'>1</a></i>:&ensp;<div id='lookup.qual.general-2.sentence-5' class='sentence'>When parsing a class member access,
the name following the <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> or <span class='texttt'><span class='operator'>.</span></span> is
a qualified name even though it is not yet known of which kind<a class='hidden_link' href='#lookup.qual.general-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='lookup.qual.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.qual.general-example-2'>2</a></i>:&ensp;<div id='lookup.qual.general-2.sentence-6' class='sentence'>In
<span class='codeblock'>  N<span class='operator'>::</span>C<span class='operator'>::</span>m<span class='operator'>.</span>Base<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</span>
<span class='texttt'>Base</span> is a member-qualified name;
the other qualified names are <span class='texttt'>C</span>, <span class='texttt'>m</span>, and <span class='texttt'>f</span><a class='hidden_link' href='#lookup.qual.general-2.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='lookup.qual.general-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2257'>#</a></div><div class='texpara'><div id='lookup.qual.general-3.sentence-1' class='sentence'><a class='hidden_link' href='#def:lookup,qualified_name' title='6.5.5.1&emsp;General&emsp;[basic.lookup.qual.general]'><span id='def:lookup,qualified_name'><i >Qualified name lookup</i></span></a>
in a class, namespace, or enumeration performs
a search of the scope associated with it (<a href='#class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)
except as specified below<a class='hidden_link' href='#lookup.qual.general-3.sentence-1'>.</a></div> <div id='lookup.qual.general-3.sentence-2' class='sentence'>Unless otherwise specified,
a qualified name undergoes qualified name lookup in its lookup context
from the point where it appears
unless the lookup context either
is dependent and is not the current instantiation (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>) or
is not a class or class template<a class='hidden_link' href='#lookup.qual.general-3.sentence-2'>.</a></div> <div id='lookup.qual.general-3.sentence-3' class='sentence'>If nothing is found by qualified lookup for a member-qualified name
that is the terminal name (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>) of
a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier______'><span class='textsf'><i >nested-name-specifier</i></span></span></a> and
is not dependent, it undergoes unqualified lookup<a class='hidden_link' href='#lookup.qual.general-3.sentence-3'>.</a></div> <div id='lookup.qual.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.qual.general-note-2'>2</a></i>:&ensp;<div id='lookup.qual.general-3.sentence-4' class='sentence'>During lookup for a template specialization, no names are dependent<a class='hidden_link' href='#lookup.qual.general-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='lookup.qual.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.qual.general-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> B, C;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> D <span class='operator'>=</span> <span class='keyword'>void</span>;
  <span class='keyword'>using</span> T <span class='operator'>=</span> <span class='keyword'>void</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>using</span> B <span class='operator'>=</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> C <span class='operator'>=</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> D <span class='operator'>=</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> X <span class='operator'>=</span> A;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>T <span class='operator'>*</span>p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                  <span class='comment'>// as instantiated for <span class='tcode_in_codeblock'>g&lt;A&gt;</span>:</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>X<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X</span> not found in <span class='tcode_in_codeblock'>((p-&gt;X) &lt; 0) &gt; &#x200b;::&#x200b;f()</span></span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>template</span> X<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span> found in definition context</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// OK, non-type <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> ignored</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>template</span> C<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;C</span> is not a template</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>template</span> D<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;D&lt;0&gt;</span> is not a class type</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;T</span> is not a class type</span>
<span class='curlybracket'>}</span>
<span class='keyword'>template</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='lookup.qual.general-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2302'>#</a></div><div class='texpara'><div id='lookup.qual.general-4.sentence-1' class='sentence'>If a qualified name <span class='math'><span class='mathalpha'>Q</span></span> follows a <span class='texttt'><span class='operator'>~</span></span>:
<ul class='itemize'><li id='lookup.qual.general-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-4.1'>(4.1)</a></div><div class='texpara'><div id='lookup.qual.general-4.1.sentence-1' class='sentence'>If <span class='math'><span class='mathalpha'>Q</span></span> is a member-qualified name,
it undergoes unqualified lookup as well as qualified lookup<a class='hidden_link' href='#lookup.qual.general-4.1.sentence-1'>.</a></div></div></li><li id='lookup.qual.general-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-4.2'>(4.2)</a></div><div class='texpara'><div id='lookup.qual.general-4.2.sentence-1' class='sentence'>Otherwise, its <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_______'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span class='math'><span class='mathalpha'>N</span></span> shall nominate a type<a class='hidden_link' href='#lookup.qual.general-4.2.sentence-1'>.</a></div> <div id='lookup.qual.general-4.2.sentence-2' class='sentence'>If <span class='math'><span class='mathalpha'>N</span></span> has another <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span class='math'><span class='mathalpha'>S</span></span>,
<span class='math'><span class='mathalpha'>Q</span></span> is looked up as if its lookup context were that nominated by <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#lookup.qual.general-4.2.sentence-2'>.</a></div></div></li><li id='lookup.qual.general-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-4.3'>(4.3)</a></div><div class='texpara'><div id='lookup.qual.general-4.3.sentence-1' class='sentence'>Otherwise, if the terminal name of <span class='math'><span class='mathalpha'>N</span></span> is a member-qualified name <span class='math'><span class='mathalpha'>M</span></span>,
<span class='math'><span class='mathalpha'>Q</span></span> is looked up as if <span class='math'><span class='texttt'><span class='operator'>~</span></span><span class='mathalpha'>Q</span></span> appeared in place of <span class='math'><span class='mathalpha'>M</span></span> (as above)<a class='hidden_link' href='#lookup.qual.general-4.3.sentence-1'>.</a></div></div></li><li id='lookup.qual.general-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-4.4'>(4.4)</a></div><div class='texpara'><div id='lookup.qual.general-4.4.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>Q</span></span> undergoes unqualified lookup<a class='hidden_link' href='#lookup.qual.general-4.4.sentence-1'>.</a></div></div></li><li id='lookup.qual.general-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-4.5'>(4.5)</a></div><div class='texpara'><div id='lookup.qual.general-4.5.sentence-1' class='sentence'>Each lookup for <span class='math'><span class='mathalpha'>Q</span></span> considers only
types (if <span class='math'><span class='mathalpha'>Q</span></span> is not followed by a <span class='texttt'><span class='anglebracket'>&lt;</span></span>) and
templates whose specializations are types<a class='hidden_link' href='#lookup.qual.general-4.5.sentence-1'>.</a></div> <div id='lookup.qual.general-4.5.sentence-2' class='sentence'>If it finds nothing or is ambiguous, it is discarded<a class='hidden_link' href='#lookup.qual.general-4.5.sentence-2'>.</a></div></div></li><li id='lookup.qual.general-4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#lookup.qual.general-4.6'>(4.6)</a></div><div class='texpara'><div id='lookup.qual.general-4.6.sentence-1' class='sentence'>The <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_'><span class='textsf'><i >type-name</i></span></span></a> that is or contains <span class='math'><span class='mathalpha'>Q</span></span>
shall refer to its (original) lookup context (ignoring cv-qualification) under
the interpretation established by at least one (successful) lookup performed<a class='hidden_link' href='#lookup.qual.general-4.6.sentence-1'>.</a></div></div></li></ul></div> <div id='lookup.qual.general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.qual.general-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
<span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> I1, I2;
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>*</span> p;
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>*</span> q;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>C<span class='operator'>::</span>I<span class='operator'>::</span><span class='operator'>~</span>I<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// <span class='tcode_in_codeblock'>I</span> is looked up in the scope of <span class='tcode_in_codeblock'>C</span></span>
  q<span class='operator'>-</span><span class='anglebracket'>&gt;</span>I1<span class='operator'>::</span><span class='operator'>~</span>I2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// <span class='tcode_in_codeblock'>I2</span> is found by unqualified lookup</span>
<span class='curlybracket'>}</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='operator'>~</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> A AB;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  AB<span class='operator'>*</span> p;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>AB<span class='operator'>::</span><span class='operator'>~</span>AB<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// explicitly calls the destructor for <span class='tcode_in_codeblock'>A</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='class.qual' class='section'><h4 ><a class='secnum' href='#class.qual' style='min-width:95pt'>6.5.5.2</a> Class members <a class='abbr_ref' href='class.qual'>[class.qual]</a></h4><div class='texpara'><a class='index' id=':lookup,class_member'></a></div><div class='para' id='class.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2354'>#</a></div><div class='texpara'><div id='class.qual-1.sentence-1' class='sentence'>In a lookup for a qualified name <span class='math'><span class='mathalpha'>N</span></span> whose lookup context is a class <span class='math'><span class='mathalpha'>C</span></span>
in which function names are not ignored,<a class='footnoteref' href='#footnote-18' id='footnoteref-18' title='Lookups in which function names are ignored include names appearing in a nested-name-specifier, an elaborated-type-specifier, or a base-specifier.'>18</a>
<ul class='itemize'><li id='class.qual-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.qual-1.1'>(1.1)</a></div>if the search finds the injected-class-name of <span class='texttt'>C</span> (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>), or</li><li id='class.qual-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.qual-1.2'>(1.2)</a></div>if <span class='math'><span class='mathalpha'>N</span></span> is dependent and
is the terminal name of a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator_______'><span class='textsf'><i >using-declarator</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)
that names a constructor,</li></ul>
<span class='math'><span class='mathalpha'>N</span></span> is instead considered to name the constructor of class <span class='texttt'>C</span><a class='hidden_link' href='#class.qual-1.sentence-1'>.</a></div> <div id='class.qual-1.sentence-2' class='sentence'>Such a constructor name shall be used only
in the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id_____'><span class='textsf'><i >declarator-id</i></span></span></a> of a (friend) declaration of a constructor or
in a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration____'><span class='textsf'><i >using-declaration</i></span></span></a><a class='hidden_link' href='#class.qual-1.sentence-2'>.</a></div> <div id='class.qual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.qual-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B<span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

A<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
B<span class='operator'>::</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>

B<span class='operator'>::</span>A ba;            <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span></span>
A<span class='operator'>::</span>A a;             <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;A</span> is not a type name</span>
<span class='keyword'>struct</span> A<span class='operator'>::</span>A a2;     <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-18'><div class='texpara'><a class='footnotenum' href='#footnote-18'>18)</a><a class='footnoteBacklink' href='#footnoteref-18'>18)</a> <div id='footnote-18.sentence-1' class='sentence'>Lookups in which
function names are ignored include names appearing in a
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>, an
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier______'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>, or a <a href='class.derived.general#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier_'><span class='textsf'><i >base-specifier</i></span></span></a><a class='hidden_link' href='#footnote-18.sentence-1'>.</a></div></div></div></div><div id='namespace.qual' class='section'><h4 ><a class='secnum' href='#namespace.qual' style='min-width:95pt'>6.5.5.3</a> Namespace members <a class='abbr_ref' href='namespace.qual'>[namespace.qual]</a></h4><div class='para' id='namespace.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2391'>#</a></div><div class='texpara'><div id='namespace.qual-1.sentence-1' class='sentence'>Qualified name lookup in a namespace <span class='math'><span class='mathalpha'>N</span></span> additionally searches
every element of the inline namespace set of <span class='math'><span class='mathalpha'>N</span></span> (<a href='namespace.def' title='9.8.2&emsp;Namespace definition'>[namespace.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#namespace.qual-1.sentence-1'>.</a></div> <div id='namespace.qual-1.sentence-2' class='sentence'>If nothing is found,
the results of the lookup are the results of qualified name lookup
in each namespace nominated by a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive_____'><span class='textsf'><i >using-directive</i></span></span></a>
that precedes the point of the lookup and
inhabits <span class='math'><span class='mathalpha'>N</span></span> or an element of <span class='math'><span class='mathalpha'>N</span></span>'s inline namespace set<a class='hidden_link' href='#namespace.qual-1.sentence-2'>.</a></div> <div id='namespace.qual-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#namespace.qual-note-1'>1</a></i>:&ensp;<div id='namespace.qual-1.sentence-3' class='sentence'>If a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive______'><span class='textsf'><i >using-directive</i></span></span></a> refers to a namespace
that has already been considered, it does not affect the result<a class='hidden_link' href='#namespace.qual-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='namespace.qual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x;
<span class='keyword'>namespace</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> Y;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> Z;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> AB <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  AB<span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>g</span> is declared directly in <span class='tcode_in_codeblock'>AB</span>, therefore <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> }</span> and <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> is chosen</span>

  AB<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>;</span>
                <span class='comment'>// namespace <span class='tcode_in_codeblock'>Y</span> is not searched and <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;f(float)</span> is not considered;</span>
                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span>, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span> }</span> and overload resolution chooses <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span></span>

  AB<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>'c'</span><span class='parenthesis'>)</span>;   <span class='comment'>// as above but resolution chooses <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span></span>

  AB<span class='operator'>::</span>x<span class='operator'>+</span><span class='operator'>+</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span>, and is not declared in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span>, so the rules</span>
                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ }</span> so the program is ill-formed</span>

  AB<span class='operator'>::</span>i<span class='operator'>+</span><span class='operator'>+</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>i</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>,</span>
                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;i</span> }</span> so the use is ambiguous and the program is ill-formed</span>

  AB<span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='literal'>16.8</span><span class='parenthesis'>)</span>;  <span class='comment'>// <span class='tcode_in_codeblock'>h</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> and not declared directly in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span> so the rules</span>
                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;h(int)</span>, <span class='tcode_in_codeblock'>Z&#x200b;::&#x200b;h(double)</span> }</span> and</span>
                <span class='comment'>// overload resolution chooses <span class='tcode_in_codeblock'>Z&#x200b;::&#x200b;h(double)</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='namespace.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2457'>#</a></div><div class='texpara'><div id='namespace.qual-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#namespace.qual-note-2'>2</a></i>:&ensp;<div id='namespace.qual-2.sentence-1' class='sentence'>The same declaration found more than once is not an ambiguity (because
it is still a unique declaration)<a class='hidden_link' href='#namespace.qual-2.sentence-1'>.</a></div> <div id='namespace.qual-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> BC <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> C;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  BC<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> BD <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> D;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  BD<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;          <span class='comment'>// OK, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='namespace.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2502'>#</a></div><div class='texpara'><div id='namespace.qual-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-3'>3</a></i>:&ensp;<div id='namespace.qual-3.sentence-1' class='sentence'>Because each referenced namespace is searched at most once, the
following is well-defined:
<span class='codeblock'><span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> b;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  A<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, <span class='tcode_in_codeblock'>a</span> declared directly in <span class='tcode_in_codeblock'>A</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
  B<span class='operator'>::</span>a<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span></span>
  A<span class='operator'>::</span>b<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span></span>
  B<span class='operator'>::</span>b<span class='operator'>+</span><span class='operator'>+</span>;           <span class='comment'>// OK, <span class='tcode_in_codeblock'>b</span> declared directly in <span class='tcode_in_codeblock'>B</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span></span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='namespace.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2530'>#</a></div><div class='texpara'><div id='namespace.qual-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#namespace.qual-note-3'>3</a></i>:&ensp;<div id='namespace.qual-4.sentence-1' class='sentence'>Class and enumeration declarations are not discarded
because of other declarations found in other searches<a class='hidden_link' href='#namespace.qual-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='namespace.qual-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#namespace.qual-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> x <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> x;
  <span class='keyword'>int</span> y;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> A;
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> B;
  <span class='keyword'>int</span> i <span class='operator'>=</span> C<span class='operator'>::</span>x;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span> (of type <span class='tcode_in_codeblock'>int</span>)</span>
  <span class='keyword'>int</span> j <span class='operator'>=</span> C<span class='operator'>::</span>y;     <span class='comment'>// ambiguous, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;y</span> or <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;y</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'></div></div></div></div><div id='lookup.elab' class='section'><h3 ><a class='secnum' href='#lookup.elab' style='min-width:80pt'>6.5.6</a> Elaborated type specifiers <a class='abbr_ref' href='basic.lookup.elab'>[basic.lookup.elab]</a></h3><div class='texpara'><a class='index' id=':lookup,elaborated_type_specifier'></a><a class='index' id=':type_specifier,elaborated'></a></div><div class='para' id='lookup.elab-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2562'>#</a></div><div class='texpara'><div id='lookup.elab-1.sentence-1' class='sentence'>If the <a href='class.pre#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key'><span class='textsf'><i >class-key</i></span></span></a> or <span id=':enum'><span class='texttt'><span class='keyword'>enum</span></span></span> keyword
in an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_______'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
is followed by an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_______'><span class='textsf'><i >identifier</i></span></span></a>
that is not followed by <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>,
lookup for the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier________'><span class='textsf'><i >identifier</i></span></span></a> is type-only (<a href='#lookup.general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#lookup.elab-1.sentence-1'>.</a></div> <div id='lookup.elab-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#lookup.elab-note-1'>1</a></i>:&ensp;<div id='lookup.elab-1.sentence-2' class='sentence'>In general, the recognition of an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier________'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
depends on the following tokens<a class='hidden_link' href='#lookup.elab-1.sentence-2'>.</a></div> <div id='lookup.elab-1.sentence-3' class='sentence'>If the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_________'><span class='textsf'><i >identifier</i></span></span></a> is followed by <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>,
see <a href='#lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a><a class='hidden_link' href='#lookup.elab-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='lookup.elab-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2575'>#</a></div><div class='texpara'><div id='lookup.elab-2.sentence-1' class='sentence'>If the terminal name of the <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_________'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
is a qualified name,
lookup for it is type-only<a class='hidden_link' href='#lookup.elab-2.sentence-1'>.</a></div> <div id='lookup.elab-2.sentence-2' class='sentence'>If the name lookup does not find a previously declared <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name__'><span class='textsf'><i >type-name</i></span></span></a>,
the <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier__________'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> is ill-formed<a class='hidden_link' href='#lookup.elab-2.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='lookup.elab-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2582'>#</a></div><div class='texpara'><div id='lookup.elab-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#lookup.elab-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> Node <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Node<span class='operator'>*</span> Next;            <span class='comment'>// OK, refers to injected-class-name <span class='tcode_in_codeblock'>Node</span></span>
  <span class='keyword'>struct</span> Data<span class='operator'>*</span> Data;            <span class='comment'>// OK, declares type <span class='tcode_in_codeblock'>Data</span> at global scope and member <span class='tcode_in_codeblock'>Data</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Data <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Node<span class='operator'>*</span> Node;            <span class='comment'>// OK, refers to <span class='tcode_in_codeblock'>Node</span> at global scope</span>
  <span class='keyword'>friend</span> <span class='keyword'>struct</span> <span class='operator'>::</span>Glob;         <span class='comment'>// error: <span class='tcode_in_codeblock'>Glob</span> is not declared, cannot introduce a qualified type (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)</span>
  <span class='keyword'>friend</span> <span class='keyword'>struct</span> Glob;           <span class='comment'>// OK, refers to (as yet) undeclared <span class='tcode_in_codeblock'>Glob</span> at global scope.</span>
  <span class='comment'>/* ... */</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Data;                  <span class='comment'>// OK, declares nested <span class='tcode_in_codeblock'>Data</span></span>
  <span class='keyword'>struct</span> <span class='operator'>::</span>Data<span class='operator'>*</span>     thatData;  <span class='comment'>// OK, refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;Data</span></span>
  <span class='keyword'>struct</span> Base<span class='operator'>::</span>Data<span class='operator'>*</span> thisData;  <span class='comment'>// OK, refers to nested <span class='tcode_in_codeblock'>Data</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> <span class='operator'>::</span>Data;          <span class='comment'>// OK, global <span class='tcode_in_codeblock'>Data</span> is a friend</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Data;            <span class='comment'>// OK, nested <span class='tcode_in_codeblock'>Data</span> is a friend</span>
  <span class='keyword'>struct</span> Data <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;    <span class='comment'>// Defines nested <span class='tcode_in_codeblock'>Data</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Data;                    <span class='comment'>// OK, redeclares <span class='tcode_in_codeblock'>Data</span> at global scope</span>
<span class='keyword'>struct</span> <span class='operator'>::</span>Data;                  <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Data;              <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Datum;             <span class='comment'>// error: <span class='tcode_in_codeblock'>Datum</span> undefined</span>
<span class='keyword'>struct</span> Base<span class='operator'>::</span>Data<span class='operator'>*</span> pBase;       <span class='comment'>// OK, refers to nested <span class='tcode_in_codeblock'>Data</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div><div id='lookup.udir' class='section'><h3 ><a class='secnum' href='#lookup.udir' style='min-width:80pt'>6.5.7</a> Using-directives and namespace aliases <a class='abbr_ref' href='basic.lookup.udir'>[basic.lookup.udir]</a></h3><div class='para' id='lookup.udir-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.udir-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2617'>#</a></div><div class='texpara'><div id='lookup.udir-1.sentence-1' class='sentence'><a class='index' id=':lookup,using-directives_and'></a><a class='index' id=':lookup,namespace_aliases_and'></a>In a <a href='namespace.udir#nt:using-directive' title='9.8.4&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive_______'><span class='textsf'><i >using-directive</i></span></span></a> or <a href='namespace.alias#nt:namespace-alias-definition' title='9.8.3&emsp;Namespace alias&emsp;[namespace.alias]'><span id='ntref:namespace-alias-definition'><span class='textsf'><i >namespace-alias-definition</i></span></span></a>,
during the lookup for a <a href='namespace.def.general#nt:namespace-name' title='9.8.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name__'><span class='textsf'><i >namespace-name</i></span></span></a> or for a name in a
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
only namespace names are considered<a class='hidden_link' href='#lookup.udir-1.sentence-1'>.</a></div> </div></div></div></div><div id='link' class='section'><h2 ><a class='secnum' href='#link' style='min-width:65pt'>6.6</a> Program and linkage <a class='abbr_ref' href='basic.link'>[basic.link]</a></h2><div class='texpara'><a class='index' id=':linkage__'></a></div><div class='para' id='link-1'><div class='marginalizedparent'><a class='marginalized' href='#link-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2629'>#</a></div><div class='texpara'><div id='link-1.sentence-1' class='sentence'><a class='index' id=':program'></a>A <a class='hidden_link' href='#def:program' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:program'><i >program</i></span></a> consists of one or more <a href='lex.separate#def:translation_unit' title='5.1&emsp;Separate translation&emsp;[lex.separate]'>translation units</a>
linked together<a class='hidden_link' href='#link-1.sentence-1'>.</a></div> <div id='link-1.sentence-2' class='sentence'>A translation unit consists
of a sequence of declarations<a class='hidden_link' href='#link-1.sentence-2'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:translation-unit'>
<a class='hidden_link' href='#nt:translation-unit' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='nt:translation-unit'><span id=':translation-unit'>translation-unit<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.pre#nt:declaration-seq' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration-seq_'><span class='textsf'><i >declaration-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='module.global.frag#nt:global-module-fragment' title='10.4&emsp;Global module fragment&emsp;[module.global.frag]'><span id='ntref:global-module-fragment'><span class='textsf'><i >global-module-fragment</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='module.unit#nt:module-declaration' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'><span id='ntref:module-declaration__'><span class='textsf'><i >module-declaration</i></span></span></a> <a href='dcl.pre#nt:declaration-seq' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration-seq__'><span class='textsf'><i >declaration-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment___'><span class='textsf'><i >private-module-fragment</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div></div><div class='para' id='link-2'><div class='marginalizedparent'><a class='marginalized' href='#link-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2641'>#</a></div><div class='texpara'><div id='link-2.sentence-1' class='sentence'><a class='index' id=':translation_unit'></a>A name is said to have <a class='hidden_link' href='#def:linkage' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:linkage'><i >linkage</i></span></a> when it can denote the same
object, reference, function, type, template, namespace or value as a
name introduced by a declaration in another scope:
<ul class='itemize'><li id='link-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-2.1'>(2.1)</a></div><div class='texpara'><div id='link-2.1.sentence-1' class='sentence'>When a name has <a class='hidden_link' href='#def:linkage,external' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:linkage,external'><i >external linkage</i></span></a>,
the entity it denotes
can be referred to by names from scopes of other translation units or
from other scopes of the same translation unit<a class='hidden_link' href='#link-2.1.sentence-1'>.</a></div></div></li><li id='link-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-2.2'>(2.2)</a></div><div class='texpara'><div id='link-2.2.sentence-1' class='sentence'>When a name has <a class='hidden_link' href='#def:linkage,module' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:linkage,module'><i >module linkage</i></span></a>,
the entity it denotes
can be referred to by names from other scopes of the same <a href='module.unit#def:module_unit' title='10.1&emsp;Module units and purviews&emsp;[module.unit]'>module unit</a> or
from scopes of other module units of that same module<a class='hidden_link' href='#link-2.2.sentence-1'>.</a></div></div></li><li id='link-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-2.3'>(2.3)</a></div><div class='texpara'><div id='link-2.3.sentence-1' class='sentence'>When a name has <a class='hidden_link' href='#def:linkage,internal' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:linkage,internal'><i >internal linkage</i></span></a>,
the entity it denotes
can be referred to by names from other scopes in the same translation
unit<a class='hidden_link' href='#link-2.3.sentence-1'>.</a></div></div></li><li id='link-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-2.4'>(2.4)</a></div><div class='texpara'><div id='link-2.4.sentence-1' class='sentence'>When a name has <a class='index' id=':linkage,no'></a><a class='hidden_link' href='#def:no_linkage' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:no_linkage'><i >no linkage</i></span></a>, the entity it denotes
cannot be referred to by names from other scopes<a class='hidden_link' href='#link-2.4.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='link-3'><div class='marginalizedparent'><a class='marginalized' href='#link-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2666'>#</a></div><div class='texpara'><div id='link-3.sentence-1' class='sentence'><a class='index' id=':linkage,static_and'></a><a class='index' id=':static,linkage_of'></a><a class='index' id=':linkage,const_and'></a><a class='index' id=':const,linkage_of'></a><a class='index' id=':linkage,inline_and'></a><a class='index' id=':inline,linkage_of'></a>The name of an entity
that belongs to a <a href='#scope.namespace' title='6.4.6&emsp;Namespace scope&emsp;[basic.scope.namespace]'>namespace scope</a>
has internal linkage if it is the name of
<ul class='itemize'><li id='link-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-3.1'>(3.1)</a></div>a variable, variable template, function, or function template that is
  explicitly declared <span id=':static'><span class='texttt'><span class='keyword'>static</span></span></span>; or</li><li id='link-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-3.2'>(3.2)</a></div>a non-template variable of non-volatile const-qualified type, unless
  <ul class='itemize'><li id='link-3.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#link-3.2.1'>(3.2.1)</a></div>it is declared in the purview of a module interface unit
    (outside the <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment____'><span class='textsf'><i >private-module-fragment</i></span></span></a>, if any) or
    module partition, or</li><li id='link-3.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#link-3.2.2'>(3.2.2)</a></div>it is explicitly declared <span id=':extern__'><span class='texttt'><span class='keyword'>extern</span></span></span>, or</li><li id='link-3.2.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#link-3.2.3'>(3.2.3)</a></div>it is inline, or</li><li id='link-3.2.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#link-3.2.4'>(3.2.4)</a></div>it was previously declared and the prior declaration did
  not have internal linkage; or</li></ul></li><li id='link-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-3.3'>(3.3)</a></div>a data member of an anonymous union<a class='hidden_link' href='#link-3.sentence-1'>.</a></li></ul></div> <div id='link-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-1'>1</a></i>:&ensp;<div id='link-3.sentence-2' class='sentence'>An instantiated variable template that has const-qualified type
can have external or module linkage, even if not declared <span id=':extern___'><span class='texttt'><span class='keyword'>extern</span></span></span><a class='hidden_link' href='#link-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='link-4'><div class='marginalizedparent'><a class='marginalized' href='#link-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2699'>#</a></div><div class='texpara'><div id='link-4.sentence-1' class='sentence'>An unnamed namespace or a namespace declared directly or indirectly within an
unnamed namespace has internal linkage<a class='hidden_link' href='#link-4.sentence-1'>.</a></div> <div id='link-4.sentence-2' class='sentence'>All other namespaces have external linkage<a class='hidden_link' href='#link-4.sentence-2'>.</a></div> <div id='link-4.sentence-3' class='sentence'>The name of an entity that belongs to a namespace scope
that has not been given internal linkage above
and that is the name of
<ul class='itemize'><li id='link-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.1'>(4.1)</a></div>a variable; or</li><li id='link-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.2'>(4.2)</a></div>a function; or</li><li id='link-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.3'>(4.3)</a></div><a class='index' id=':class,linkage_of'></a>a named class (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>), or an unnamed class defined in a
typedef declaration in which the class has the typedef name for linkage
purposes (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>); or</li><li id='link-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.4'>(4.4)</a></div><a class='index' id=':enumeration,linkage_of'></a>a named <a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'>enumeration</a>, or an unnamed enumeration defined
in a typedef declaration in which the enumeration has the typedef name
for linkage purposes (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>); or</li><li id='link-4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.5'>(4.5)</a></div>an unnamed enumeration
that has an enumerator as a name for linkage purposes (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>); or</li><li id='link-4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.6'>(4.6)</a></div>a template</li></ul>
has its linkage determined as follows:
<ul class='itemize'><li id='link-4.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.7'>(4.7)</a></div>if the enclosing namespace has internal linkage,
the name has internal linkage;</li><li id='link-4.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.8'>(4.8)</a></div>otherwise,
if the declaration of the name is
attached to a named module (<a href='module.unit' title='10.1&emsp;Module units and purviews'>[module.<span class='shy'></span>unit]</a>)
and is not exported (<a href='module.interface' title='10.2&emsp;Export declaration'>[module.<span class='shy'></span>interface]</a>),
the name has module linkage;</li><li id='link-4.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-4.9'>(4.9)</a></div>otherwise,
the name has external linkage<a class='hidden_link' href='#link-4.sentence-3'>.</a></li></ul></div></div></div><div class='para' id='link-5'><div class='marginalizedparent'><a class='marginalized' href='#link-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2738'>#</a></div><div class='texpara'><div id='link-5.sentence-1' class='sentence'>In addition,
a member function,
a static data member,
a named class or enumeration that inhabits a class scope, or
an unnamed class or enumeration defined in a typedef declaration
that inhabits a class scope
such that the class or enumeration
has the typedef name for linkage purposes (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>),
has the same linkage, if any, as the name of the class of which it is a member<a class='hidden_link' href='#link-5.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='link-6'><div class='marginalizedparent'><a class='marginalized' href='#link-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2749'>#</a></div><div class='texpara'><div id='link-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#link-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>static</span> <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>0</span>;               <span class='comment'>// #1</span>
<span class='keyword'>void</span> q<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// internal linkage</span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;g</span>, external linkage</span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// C language linkage</span>
  <span class='keyword'>int</span> i;                        <span class='comment'>// #2: <span class='tcode_in_codeblock'>i</span> has no linkage</span>
  <span class='curlybracket'>{</span>
    <span class='keyword'>extern</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// internal linkage</span>
    <span class='keyword'>extern</span> <span class='keyword'>int</span> i;               <span class='comment'>// #3: internal linkage</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> <div id='link-6.sentence-1' class='sentence'>
Even though the declaration at line #2 hides the declaration at line #1,
the declaration at line #3 still redeclares #1 and receives internal linkage<a class='hidden_link' href='#link-6.sentence-1'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='link-7'><div class='marginalizedparent'><a class='marginalized' href='#link-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2770'>#</a></div><div class='texpara'><div id='link-7.sentence-1' class='sentence'><a class='index' id=':linkage,no_'></a>Names not covered by these rules have no linkage<a class='hidden_link' href='#link-7.sentence-1'>.</a></div> <div id='link-7.sentence-2' class='sentence'>Moreover, except as
noted, a name declared at <a href='#def:scope,block' title='6.4.3&emsp;Block scope&emsp;[basic.scope.block]'>block scope</a> has no
linkage<a class='hidden_link' href='#link-7.sentence-2'>.</a></div></div></div><div class='para' id='link-8'><div class='marginalizedparent'><a class='marginalized' href='#link-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2776'>#</a></div><div class='texpara'><div id='link-8.sentence-1' class='sentence'>Two declarations of entities declare the same entity
if, considering declarations of unnamed types to introduce their names
for linkage purposes, if any (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>, <a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),
they correspond (<a href='#scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>),
have the same target scope that is not a function or template parameter scope,
neither is a name-independent declaration,
and either
<ul class='itemize'><li id='link-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-8.1'>(8.1)</a></div>they appear in the same translation unit, or</li><li id='link-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-8.2'>(8.2)</a></div>they both declare names with module linkage and are attached to the same module, or</li><li id='link-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-8.3'>(8.3)</a></div>they both declare names with external linkage<a class='hidden_link' href='#link-8.sentence-1'>.</a></li></ul></div> <div id='link-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-2'>2</a></i>:&ensp;<div id='link-8.sentence-2' class='sentence'>There are other circumstances in which declarations declare the same entity (<a href='dcl.link' title='9.11&emsp;Linkage specifications'>[dcl.<span class='shy'></span>link]</a>, <a href='temp.type' title='13.6&emsp;Type equivalence'>[temp.<span class='shy'></span>type]</a>, <a href='temp.spec.partial' title='13.7.6&emsp;Partial specialization'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial]</a>)<a class='hidden_link' href='#link-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='link-9'><div class='marginalizedparent'><a class='marginalized' href='#link-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2797'>#</a></div><div class='texpara'><div id='link-9.sentence-1' class='sentence'>If a declaration <span class='math'><span class='mathalpha'>H</span></span> that declares a name with internal linkage
precedes a declaration <span class='math'><span class='mathalpha'>D</span></span> in another translation unit <span class='math'><span class='mathalpha'>U</span></span> and
would declare the same entity as <span class='math'><span class='mathalpha'>D</span></span> if it appeared in <span class='math'><span class='mathalpha'>U</span></span>,
the program is ill-formed<a class='hidden_link' href='#link-9.sentence-1'>.</a></div> <div id='link-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-3'>3</a></i>:&ensp;<div id='link-9.sentence-2' class='sentence'>Such an <span class='math'><span class='mathalpha'>H</span></span> can appear only in a header unit<a class='hidden_link' href='#link-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='link-10'><div class='marginalizedparent'><a class='marginalized' href='#link-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2806'>#</a></div><div class='texpara'><div id='link-10.sentence-1' class='sentence'>If two declarations of an entity are
attached to different modules, the program is ill-formed;
no diagnostic is required if neither is reachable from the other<a class='hidden_link' href='#link-10.sentence-1'>.</a></div> <div id='link-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#link-example-2'>2</a></i>:&ensp;<p><span class='texttt'><span class='literal'>"decls.h"</span></span>:<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// #1, attached to the global module</span>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// #2, attached to the global module</span>
</span></div><div class='texpara'><p>Module interface of <span class='texttt'>M</span>:<span class='codeblock'><span class='keyword'>module</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"decls.h"</span>
<span class='keyword'>export</span> <span class='keyword'>module</span> M;
<span class='keyword'>export</span> <span class='keyword'>using</span> <span class='operator'>::</span>f;   <span class='comment'>// OK, does not declare an entity, exports #1</span>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// error: matches #2, but attached to <span class='tcode_in_codeblock'>M</span></span>
<span class='keyword'>export</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// #3</span>
<span class='keyword'>export</span> <span class='keyword'>int</span> k<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// #4</span>
</span></div><div class='texpara'><p>Other translation unit:<span class='codeblock'><span class='keyword'>import</span> M;
<span class='keyword'>static</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: matches #3</span>
<span class='keyword'>int</span> k<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// error: matches #4</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='link-10.sentence-2' class='sentence'>
As a consequence of these rules,
all declarations of an entity are attached to the same module;
the entity is said to be <a class='hidden_link' href='#def:attached,entity' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:attached,entity'><i >attached</i></span></a> to that module<a class='hidden_link' href='#link-10.sentence-2'>.</a></div></div></div><div class='para' id='link-11'><div class='marginalizedparent'><a class='marginalized' href='#link-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2836'>#</a></div><div class='texpara'><div id='link-11.sentence-1' class='sentence'><a class='index' id=':consistency,type_declaration'></a><a class='index' id=':declaration,multiple'></a>For any two declarations of an entity <span class='math'><span class='mathalpha'>E</span></span>:
<ul class='itemize'><li id='link-11.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.1'>(11.1)</a></div><div class='texpara'><div id='link-11.1.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be a variable or function,
the other shall declare <span class='math'><span class='mathalpha'>E</span></span> as one of the same type<a class='hidden_link' href='#link-11.1.sentence-1'>.</a></div></div></li><li id='link-11.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.2'>(11.2)</a></div><div class='texpara'><div id='link-11.2.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be an enumerator, the other shall do so<a class='hidden_link' href='#link-11.2.sentence-1'>.</a></div></div></li><li id='link-11.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.3'>(11.3)</a></div><div class='texpara'><div id='link-11.3.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be a namespace, the other shall do so<a class='hidden_link' href='#link-11.3.sentence-1'>.</a></div></div></li><li id='link-11.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.4'>(11.4)</a></div><div class='texpara'><div id='link-11.4.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be a type,
the other shall declare <span class='math'><span class='mathalpha'>E</span></span> to be a type of the same kind (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)<a class='hidden_link' href='#link-11.4.sentence-1'>.</a></div></div></li><li id='link-11.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.5'>(11.5)</a></div><div class='texpara'><div id='link-11.5.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be a class template,
the other shall do so with the same kind and
an equivalent <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head___'><span class='textsf'><i >template-head</i></span></span></a> (<a href='temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#link-11.5.sentence-1'>.</a></div> <div id='link-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-4'>4</a></i>:&ensp;<div id='link-11.5.sentence-2' class='sentence'>The declarations can supply different default template arguments<a class='hidden_link' href='#link-11.5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='link-11.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.6'>(11.6)</a></div><div class='texpara'><div id='link-11.6.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be a function template or
a (partial specialization of a) variable template,
the other shall declare <span class='math'><span class='mathalpha'>E</span></span> to be one
with an equivalent <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head____'><span class='textsf'><i >template-head</i></span></span></a> and type<a class='hidden_link' href='#link-11.6.sentence-1'>.</a></div></div></li><li id='link-11.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.7'>(11.7)</a></div><div class='texpara'><div id='link-11.7.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be an alias template,
the other shall declare <span class='math'><span class='mathalpha'>E</span></span> to be one with
an equivalent <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_____'><span class='textsf'><i >template-head</i></span></span></a> and <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id'><span class='textsf'><i >defining-type-id</i></span></span></a><a class='hidden_link' href='#link-11.7.sentence-1'>.</a></div></div></li><li id='link-11.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-11.8'>(11.8)</a></div><div class='texpara'><div id='link-11.8.sentence-1' class='sentence'>If one declares <span class='math'><span class='mathalpha'>E</span></span> to be a concept, the other shall do so<a class='hidden_link' href='#link-11.8.sentence-1'>.</a></div></div></li></ul></div> <div id='link-11.sentence-2' class='sentence'>
Types are compared after all adjustments of types (during which
typedefs (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>) are replaced by their definitions);
declarations for an array
object can specify array types that differ by the presence or absence of
a major array bound (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#link-11.sentence-2'>.</a></div> <div id='link-11.sentence-3' class='sentence'>No diagnostic is required if neither declaration is reachable from the other<a class='hidden_link' href='#link-11.sentence-3'>.</a></div> <div id='link-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#link-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> x, <span class='keyword'>int</span> x<span class='parenthesis'>)</span>;    <span class='comment'>// error: different entities for <span class='tcode_in_codeblock'>x</span></span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// #1</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK, different entity from #1</span>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// error: same entity as #1 with different type</span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// #2</span>
<span class='keyword'>namespace</span> h <span class='curlybracket'>{</span><span class='curlybracket'>}</span>          <span class='comment'>// error: same entity as #2, but not a function</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='link-12'><div class='marginalizedparent'><a class='marginalized' href='#link-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2887'>#</a></div><div class='texpara'><div id='link-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-5'>5</a></i>:&ensp;<div id='link-12.sentence-1' class='sentence'>Linkage to non-C++ declarations can be achieved using a
<a href='dcl.link#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification__'><span class='textsf'><i >linkage-specification</i></span></span></a> (<a href='dcl.link' title='9.11&emsp;Linkage specifications'>[dcl.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#link-12.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div><div class='para' id='link-13'><div class='marginalizedparent'><a class='marginalized' href='#link-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2894'>#</a></div><div class='texpara'><div id='link-13.sentence-1' class='sentence'>A declaration <span class='math'><span class='mathalpha'>D</span></span> <a class='hidden_link' href='#def:name' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:name_'><i >names</i></span></a> an entity <span class='math'><span class='mathalpha'>E</span></span> if
<ul class='itemize'><li id='link-13.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-13.1'>(13.1)</a></div><span class='math'><span class='mathalpha'>D</span></span> contains a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_____________'><span class='textsf'><i >lambda-expression</i></span></span></a> whose closure type is <span class='math'><span class='mathalpha'>E</span></span>,</li><li id='link-13.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-13.2'>(13.2)</a></div><span class='math'><span class='mathalpha'>E</span></span> is not a function or function template and <span class='math'><span class='mathalpha'>D</span></span> contains an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______'><span class='textsf'><i >id-expression</i></span></span></a>,
<a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier_'><span class='textsf'><i >type-specifier</i></span></span></a>,
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>,
<a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name__'><span class='textsf'><i >template-name</i></span></span></a>, or
<a href='temp.concept#nt:concept-name' title='13.7.9&emsp;Concept definitions&emsp;[temp.concept]'><span id='ntref:concept-name__'><span class='textsf'><i >concept-name</i></span></span></a>
denoting <span class='math'><span class='mathalpha'>E</span></span>, or</li><li id='link-13.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-13.3'>(13.3)</a></div><span class='math'><span class='mathalpha'>E</span></span> is a function or function template and
<span class='math'><span class='mathalpha'>D</span></span> contains an expression that names <span class='math'><span class='mathalpha'>E</span></span> (<a href='#def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) or
an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________'><span class='textsf'><i >id-expression</i></span></span></a>
that refers to a set of overloads that contains <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#link-13.sentence-1'>.</a> <div class='texpara'><div id='link-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-6'>6</a></i>:&ensp;<div id='link-13.3.sentence-2' class='sentence'>Non-dependent names in an instantiated declaration
do not refer to a set of overloads (<a href='temp.res' title='13.8&emsp;Name resolution'>[temp.<span class='shy'></span>res]</a>)<a class='hidden_link' href='#link-13.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div><div class='para' id='link-14'><div class='marginalizedparent'><a class='marginalized' href='#link-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2918'>#</a></div><div class='texpara'><div id='link-14.sentence-1' class='sentence'>A declaration is an <a class='hidden_link' href='#def:exposure' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:exposure'><i >exposure</i></span></a>
if it either names a TU-local entity (defined below), ignoring
<ul class='itemize'><li id='link-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-14.1'>(14.1)</a></div>the <a href='dcl.fct.def.general#nt:function-body' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-body___'><span class='textsf'><i >function-body</i></span></span></a>
for a non-inline function or function template
(but not the deduced return type
for a (possibly instantiated) definition of a function
with a declared return type that uses a placeholder type (<a href='dcl.spec.auto' title='9.2.9.7&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>)),</li><li id='link-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-14.2'>(14.2)</a></div>the <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_'><span class='textsf'><i >initializer</i></span></span></a>
for a variable or variable template (but not the variable's type),</li><li id='link-14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-14.3'>(14.3)</a></div>friend declarations in a class definition, and</li><li id='link-14.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-14.4'>(14.4)</a></div>any reference to a non-volatile const object or reference
with internal or no linkage initialized with a constant expression
that is not an odr-use (<a href='#def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>),</li></ul>
or defines a constexpr variable initialized to a TU-local value (defined below)<a class='hidden_link' href='#link-14.sentence-1'>.</a></div> <div id='link-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-7'>7</a></i>:&ensp;<div id='link-14.sentence-2' class='sentence'>An inline function template can be an exposure even though
certain explicit specializations of it would be usable in other translation units<a class='hidden_link' href='#link-14.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='link-15'><div class='marginalizedparent'><a class='marginalized' href='#link-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2944'>#</a></div><div class='texpara'><div id='link-15.sentence-1' class='sentence'>An entity is <a class='hidden_link' href='#def:TU-local,entity' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:TU-local,entity'><i >TU-local</i></span></a> if it is
<ul class='itemize'><li id='link-15.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-15.1'>(15.1)</a></div>a type, function, variable, or template that
<ul class='itemize'><li id='link-15.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#link-15.1.1'>(15.1.1)</a></div>has a name with internal linkage, or</li><li id='link-15.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#link-15.1.2'>(15.1.2)</a></div>does not have a name with linkage and is declared,
or introduced by a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression______________'><span class='textsf'><i >lambda-expression</i></span></span></a>,
within the definition of a TU-local entity,</li></ul></li><li id='link-15.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-15.2'>(15.2)</a></div>a type with no name that is defined outside a
<a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier_____'><span class='textsf'><i >class-specifier</i></span></span></a>,
function body, or
<a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer__'><span class='textsf'><i >initializer</i></span></span></a>
or is introduced by a <a href='dcl.type.general#nt:defining-type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:defining-type-specifier'><span class='textsf'><i >defining-type-specifier</i></span></span></a>
that is used to declare only TU-local entities,</li><li id='link-15.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-15.3'>(15.3)</a></div>a specialization of a TU-local template,</li><li id='link-15.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-15.4'>(15.4)</a></div>a specialization of a template with any TU-local template argument, or</li><li id='link-15.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-15.5'>(15.5)</a></div>a specialization of a template
whose (possibly instantiated) declaration is an exposure<a class='hidden_link' href='#link-15.sentence-1'>.</a> <div class='texpara'><div id='link-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#link-note-8'>8</a></i>:&ensp;<div id='link-15.5.sentence-2' class='sentence'>A specialization can be produced by implicit or explicit instantiation<a class='hidden_link' href='#link-15.5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div><div class='para' id='link-16'><div class='marginalizedparent'><a class='marginalized' href='#link-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2976'>#</a></div><div class='texpara'><div id='link-16.sentence-1' class='sentence'>A value or object is <a class='hidden_link' href='#def:TU-local,value_or_object' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='def:TU-local,value_or_object'><i >TU-local</i></span></a> if either
<ul class='itemize'><li id='link-16.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-16.1'>(16.1)</a></div>it is, or is a pointer to,
a TU-local function or the object associated with a TU-local variable, or</li><li id='link-16.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#link-16.2'>(16.2)</a></div>it is an object of class or array type and
any of its subobjects or
any of the objects or functions
to which its non-static data members of reference type refer
is TU-local and is usable in constant expressions<a class='hidden_link' href='#link-16.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='link-17'><div class='marginalizedparent'><a class='marginalized' href='#link-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2990'>#</a></div><div class='texpara'><div id='link-17.sentence-1' class='sentence'>If a (possibly instantiated) declaration of, or a deduction guide for,
a non-TU-local entity in a module interface unit
(outside the <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment_____'><span class='textsf'><i >private-module-fragment</i></span></span></a>, if any) or
module partition (<a href='module.unit' title='10.1&emsp;Module units and purviews'>[module.<span class='shy'></span>unit]</a>) is an exposure,
the program is ill-formed<a class='hidden_link' href='#link-17.sentence-1'>.</a></div> <div id='link-17.sentence-2' class='sentence'>Such a declaration in any other context is deprecated (<a href='depr.local' title='D.6&emsp;Non-local use of TU-local entities'>[depr.<span class='shy'></span>local]</a>)<a class='hidden_link' href='#link-17.sentence-2'>.</a></div></div></div><div class='para' id='link-18'><div class='marginalizedparent'><a class='marginalized' href='#link-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2998'>#</a></div><div class='texpara'><div id='link-18.sentence-1' class='sentence'>If a declaration that appears in one translation unit
names a TU-local entity declared
in another translation unit that is not a header unit,
the program is ill-formed<a class='hidden_link' href='#link-18.sentence-1'>.</a></div> <div id='link-18.sentence-2' class='sentence'>A declaration instantiated for a template specialization (<a href='temp.spec' title='13.9&emsp;Template instantiation and specialization'>[temp.<span class='shy'></span>spec]</a>)
appears at the point of instantiation of the specialization (<a href='temp.point' title='13.8.4.1&emsp;Point of instantiation'>[temp.<span class='shy'></span>point]</a>)<a class='hidden_link' href='#link-18.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='link-19'><div class='marginalizedparent'><a class='marginalized' href='#link-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3006'>#</a></div><div class='texpara'><div id='link-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#link-example-4'>4</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> A;
<span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
<span class='keyword'>inline</span> <span class='keyword'>void</span> it<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>           <span class='comment'>// error: is an exposure of <span class='tcode_in_codeblock'>f</span></span>
<span class='keyword'>static</span> <span class='keyword'>inline</span> <span class='keyword'>void</span> its<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>   <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> its<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>   <span class='comment'>// OK</span>
<span class='keyword'>template</span> <span class='keyword'>void</span> g<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

<span class='keyword'>decltype</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span> <span class='operator'>*</span>fp;                    <span class='comment'>// error: <span class='tcode_in_codeblock'>f</span> (though not its type) is TU-local</span>
<span class='keyword'>auto</span> <span class='operator'>&amp;</span>fr <span class='operator'>=</span> f;                       <span class='comment'>// OK</span>
<span class='keyword'>constexpr</span> <span class='keyword'>auto</span> <span class='operator'>&amp;</span>fr2 <span class='operator'>=</span> fr;           <span class='comment'>// error: is an exposure of <span class='tcode_in_codeblock'>f</span></span>
<span class='keyword'>constexpr</span> <span class='keyword'>static</span> <span class='keyword'>auto</span> fp2 <span class='operator'>=</span> fr;     <span class='comment'>// OK</span>

<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>ref<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span> s<span class='curlybracket'>{</span>f<span class='curlybracket'>}</span>;               <span class='comment'>// OK, value is TU-local</span>
<span class='keyword'>constexpr</span> <span class='keyword'>extern</span> <span class='keyword'>struct</span> W <span class='curlybracket'>{</span> S <span class='operator'>&amp;</span>s; <span class='curlybracket'>}</span> wrap<span class='curlybracket'>{</span>s<span class='curlybracket'>}</span>;    <span class='comment'>// OK, value is not TU-local</span>

<span class='keyword'>static</span> <span class='keyword'>auto</span> x <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;<span class='curlybracket'>}</span>;           <span class='comment'>// OK</span>
<span class='keyword'>auto</span> x2 <span class='operator'>=</span> x;                        <span class='comment'>// error: the closure type is TU-local</span>
<span class='keyword'>int</span> y <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;<span class='curlybracket'>}</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>,<span class='literal'>0</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: the closure type is not TU-local</span>
<span class='keyword'>int</span> y2 <span class='operator'>=</span> <span class='parenthesis'>(</span>x,<span class='literal'>0</span><span class='parenthesis'>)</span>;                     <span class='comment'>// OK</span>

<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> adl<span class='parenthesis'>(</span>A<span class='parenthesis'>)</span>;
  <span class='keyword'>static</span> <span class='keyword'>void</span> adl<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> adl<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;

<span class='keyword'>inline</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>auto</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> adl<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>   <span class='comment'>// OK, but certain specializations are exposures</span>
</span>
<p>Translation unit #2:<span class='codeblock'><span class='keyword'>module</span> A;
<span class='keyword'>void</span> other<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  g<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                           <span class='comment'>// OK, specialization is explicitly instantiated</span>
  g<span class='anglebracket'>&lt;</span><span class='literal'>1</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                           <span class='comment'>// error: instantiation uses TU-local <span class='tcode_in_codeblock'>its</span></span>
  h<span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;                        <span class='comment'>// error: overload set contains TU-local <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;adl(int)</span></span>
  h<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                             <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>adl(double)</span></span>
  adl<span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK; <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;adl(int)</span> not found, calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;adl(N&#x200b;::&#x200b;A)</span></span>
  fr<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                             <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>f</span></span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> ptr <span class='operator'>=</span> fr;          <span class='comment'>// error: <span class='tcode_in_codeblock'>fr</span> is not usable in constant expressions here</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='memobj' class='section'><h2 ><a class='secnum' href='#memobj' style='min-width:65pt'>6.7</a> Memory and objects <a class='abbr_ref' href='basic.memobj'>[basic.memobj]</a></h2><div id='intro.memory' class='section'><h3 ><a class='secnum' href='#intro.memory' style='min-width:80pt'>6.7.1</a> Memory model <a class='abbr_ref' href='intro.memory'>[intro.memory]</a></h3><div class='para' id='intro.memory-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3056'>#</a></div><div class='texpara'><div id='intro.memory-1.sentence-1' class='sentence'><a class='index' id=':memory_model'></a>The fundamental storage unit in the C++ memory model is the
<a class='hidden_link' href='#def:byte' title='6.7.1&emsp;Memory model&emsp;[intro.memory]'><span id='def:byte'><i >byte</i></span></a><a class='hidden_link' href='#intro.memory-1.sentence-1'>.</a></div> <div id='intro.memory-1.sentence-2' class='sentence'>A byte is at least large enough to contain
the ordinary literal encoding of any element of the basic
<a class='index' id=':character_set,basic_literal'></a>literal character set (<a href='lex.charset' title='5.3&emsp;Character sets'>[lex.<span class='shy'></span>charset]</a>)
and the eight-bit code units of the Unicode<a class='footnoteref' href='#footnote-19' id='footnoteref-19' title='Unicode&reg;&nbsp;is a registered trademark of Unicode, Inc. This information is given for the convenience of users of this document and does not constitute an endorsement by ISO or IEC of this product.'>19</a>
<a class='index' id=':UTF-8'></a>UTF-8 encoding form
and is composed of a contiguous sequence of
bits,<a class='footnoteref' href='#footnote-20' id='footnoteref-20' title='The number of bits in a byte is reported by the macro CHAR_&shy;BIT in the header &lt;climits&gt;.'>20</a>
the number of which is <a class='index' id=':bits_in_a_byte'></a>implementation-defined<a class='hidden_link' href='#intro.memory-1.sentence-2'>.</a></div> <div id='intro.memory-1.sentence-3' class='sentence'>The least
significant bit is called the <a class='hidden_link' href='#def:low-order_bit' title='6.7.1&emsp;Memory model&emsp;[intro.memory]'><span id='def:low-order_bit'><i >low-order bit</i></span></a>; the most
significant bit is called the <a class='hidden_link' href='#def:high-order_bit' title='6.7.1&emsp;Memory model&emsp;[intro.memory]'><span id='def:high-order_bit'><i >high-order bit</i></span></a><a class='hidden_link' href='#intro.memory-1.sentence-3'>.</a></div> <div id='intro.memory-1.sentence-4' class='sentence'>The memory
available to a C++ program consists of one or more sequences of
contiguous bytes<a class='hidden_link' href='#intro.memory-1.sentence-4'>.</a></div> <div id='intro.memory-1.sentence-5' class='sentence'>Every byte has a unique address<a class='hidden_link' href='#intro.memory-1.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='intro.memory-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3084'>#</a></div><div class='texpara'><div id='intro.memory-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.memory-note-1'>1</a></i>:&ensp;<div id='intro.memory-2.sentence-1' class='sentence'>The representation of types is described
in <a href='#types.general' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a><a class='hidden_link' href='#intro.memory-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.memory-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3090'>#</a></div><div class='texpara'><div id='intro.memory-3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:memory_location' title='6.7.1&emsp;Memory model&emsp;[intro.memory]'><span id='def:memory_location'><i >memory location</i></span></a> is either an object of scalar type that is not a bit-field
or a maximal sequence of adjacent bit-fields all having nonzero width<a class='hidden_link' href='#intro.memory-3.sentence-1'>.</a></div> <div id='intro.memory-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.memory-note-2'>2</a></i>:&ensp;<div id='intro.memory-3.sentence-2' class='sentence'>Various
features of the language, such as references and virtual functions, might
involve additional memory locations that are not accessible to programs but are
managed by the implementation<a class='hidden_link' href='#intro.memory-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.memory-3.sentence-3' class='sentence'>
Two or more <a href='#def:thread_of_execution' title='6.9.2&emsp;Multi-threaded executions and data races&emsp;[intro.multithread]'>threads of
execution</a> can access separate memory
locations without interfering with each other<a class='hidden_link' href='#intro.memory-3.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='intro.memory-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3103'>#</a></div><div class='texpara'><div id='intro.memory-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.memory-note-3'>3</a></i>:&ensp;<div id='intro.memory-4.sentence-1' class='sentence'>Thus a bit-field and an adjacent non-bit-field are in separate memory
locations, and therefore can be concurrently updated by two threads of execution
without interference<a class='hidden_link' href='#intro.memory-4.sentence-1'>.</a></div> <div id='intro.memory-4.sentence-2' class='sentence'>The same applies to two bit-fields, if one is declared
inside a nested struct declaration and the other is not, or if the two are
separated by a zero-length bit-field declaration, or if they are separated by a
non-bit-field declaration<a class='hidden_link' href='#intro.memory-4.sentence-2'>.</a></div> <div id='intro.memory-4.sentence-3' class='sentence'>It is not safe to concurrently update two bit-fields
in the same struct if all fields between them are also bit-fields of nonzero
width<a class='hidden_link' href='#intro.memory-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.memory-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3115'>#</a></div><div class='texpara'><div id='intro.memory-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.memory-example-1'>1</a></i>:&ensp;<div id='intro.memory-5.sentence-1' class='sentence'>A class declared as
<span class='codeblock'><span class='keyword'>struct</span> <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> a;
  <span class='keyword'>int</span> b<span class='operator'>:</span><span class='literal'>5</span>,
  c<span class='operator'>:</span><span class='literal'>11</span>,
  <span class='operator'>:</span><span class='literal'>0</span>,
  d<span class='operator'>:</span><span class='literal'>8</span>;
  <span class='keyword'>struct</span> <span class='curlybracket'>{</span><span class='keyword'>int</span> ee<span class='operator'>:</span><span class='literal'>8</span>;<span class='curlybracket'>}</span> e;
<span class='curlybracket'>}</span>;
</span>
contains four separate memory locations: The member <span class='texttt'>a</span> and bit-fields
<span class='texttt'>d</span> and <span class='texttt'>e<span class='operator'>.</span>ee</span> are each separate memory locations, and can be
modified concurrently without interfering with each other<a class='hidden_link' href='#intro.memory-5.sentence-1'>.</a></div> <div id='intro.memory-5.sentence-2' class='sentence'>The bit-fields
<span class='texttt'>b</span> and <span class='texttt'>c</span> together constitute the fourth memory location<a class='hidden_link' href='#intro.memory-5.sentence-2'>.</a></div> <div id='intro.memory-5.sentence-3' class='sentence'>The
bit-fields <span class='texttt'>b</span> and <span class='texttt'>c</span> cannot be concurrently modified, but
<span class='texttt'>b</span> and <span class='texttt'>a</span>, for example, can be<a class='hidden_link' href='#intro.memory-5.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div> </div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-19'><div class='texpara'><a class='footnotenum' href='#footnote-19'>19)</a><a class='footnoteBacklink' href='#footnoteref-19'>19)</a> <div id='footnote-19.sentence-1' class='sentence'>Unicode&reg;&nbsp;is a registered trademark of Unicode, Inc<a class='hidden_link' href='#footnote-19.sentence-1'>.</a></div> <div id='footnote-19.sentence-2' class='sentence'>This information is given for the convenience of users of this document and
does not constitute an endorsement by ISO or IEC of this product<a class='hidden_link' href='#footnote-19.sentence-2'>.</a></div></div></div><div class='footnote' id='footnote-20'><div class='texpara'><a class='footnotenum' href='#footnote-20'>20)</a><a class='footnoteBacklink' href='#footnoteref-20'>20)</a> <div id='footnote-20.sentence-1' class='sentence'>The number of bits in a byte is reported by the macro
<span class='texttt'>CHAR_<span class='shy'></span>BIT</span> in the header <a href='climits.syn#header:%3cclimits%3e' title='17.3.6&emsp;Header &lt;climits&gt; synopsis&emsp;[climits.syn]'><span id='headerref:<climits>'><span class='texttt'>&lt;climits&gt;</span></span></a><a class='hidden_link' href='#footnote-20.sentence-1'>.</a></div></div></div></div><div id='intro.object' class='section'><h3 ><a class='secnum' href='#intro.object' style='min-width:80pt'>6.7.2</a> Object model <a class='abbr_ref' href='intro.object'>[intro.object]</a></h3><div class='para' id='intro.object-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3139'>#</a></div><div class='texpara'><div id='intro.object-1.sentence-1' class='sentence'><a class='index' id=':object_model'></a>The constructs in a C++ program create, destroy, refer to, access, and
manipulate objects<a class='hidden_link' href='#intro.object-1.sentence-1'>.</a></div> <div id='intro.object-1.sentence-2' class='sentence'>An <a class='hidden_link' href='#def:object' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:object'><i >object</i></span></a> is created
by a <a href='#def' title='6.2&emsp;Declarations and definitions&emsp;[basic.def]'>definition</a>,
by a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>),
by an operation that implicitly creates objects (see below),
when implicitly changing the active member of a <a href='class.union' title='11.5&emsp;Unions&emsp;[class.union]'>union</a>,
or
when a temporary object is created (<a href='conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>, <a href='#class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#intro.object-1.sentence-2'>.</a></div> <div id='intro.object-1.sentence-3' class='sentence'>An object occupies a region of storage
in its period of construction (<a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a>),
throughout its <a href='#life' title='6.7.3&emsp;Lifetime&emsp;[basic.life]'>lifetime</a>,
and
in its period of destruction (<a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a>)<a class='hidden_link' href='#intro.object-1.sentence-3'>.</a></div> <div id='intro.object-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.object-note-1'>1</a></i>:&ensp;<div id='intro.object-1.sentence-4' class='sentence'>A function is not an object, regardless of whether or not it
occupies storage in the way that objects do<a class='hidden_link' href='#intro.object-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.object-1.sentence-5' class='sentence'>
The properties of an
object are determined when the object is created<a class='hidden_link' href='#intro.object-1.sentence-5'>.</a></div> <div id='intro.object-1.sentence-6' class='sentence'>An object can have a
name (<a href='#pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#intro.object-1.sentence-6'>.</a></div> <div id='intro.object-1.sentence-7' class='sentence'>An object has a storage
duration (<a href='#stc' title='6.7.5&emsp;Storage duration'>[basic.<span class='shy'></span>stc]</a>) which influences its
lifetime (<a href='#life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#intro.object-1.sentence-7'>.</a></div> <div id='intro.object-1.sentence-8' class='sentence'>An object has a
type (<a href='#types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#intro.object-1.sentence-8'>.</a></div> <div id='intro.object-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.object-note-2'>2</a></i>:&ensp;<div id='intro.object-1.sentence-9' class='sentence'>Some objects are
polymorphic (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>); the implementation
generates information associated with each such object that makes it
possible to determine that object's type during program execution<a class='hidden_link' href='#intro.object-1.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.object-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3172'>#</a></div><div class='texpara'><div id='intro.object-2.sentence-1' class='sentence'><a class='index' id=':subobject'></a>Objects can contain other objects, called <a class='hidden_link' href='#def:subobject' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:subobject'><i >subobjects</i></span></a><a class='hidden_link' href='#intro.object-2.sentence-1'>.</a></div> <div id='intro.object-2.sentence-2' class='sentence'>A subobject can be
a <a class='hidden_link' href='#def:member_subobject' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:member_subobject'><i >member subobject</i></span></a> (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>), a <a class='hidden_link' href='#def:base_class_subobject' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:base_class_subobject'><i >base class subobject</i></span></a> (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>),
or an array element<a class='hidden_link' href='#intro.object-2.sentence-2'>.</a></div> <div id='intro.object-2.sentence-3' class='sentence'><a class='index' id=':object,complete'></a>An object that is not a subobject of any other object is called a <a class='hidden_link' href='#def:complete_object' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:complete_object'><i >complete
object</i></span></a><a class='hidden_link' href='#intro.object-2.sentence-3'>.</a></div> <div id='intro.object-2.sentence-4' class='sentence'>If an object is created
in storage associated with a member subobject or array element <i >e</i>
(which may or may not be within its lifetime),
the created object
is a subobject of <i >e</i>'s containing object if:
<ul class='itemize'><li id='intro.object-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-2.1'>(2.1)</a></div>the lifetime of <i >e</i>'s containing object has begun and not ended, and</li><li id='intro.object-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-2.2'>(2.2)</a></div>the storage for the new object exactly overlays the storage location associated with <i >e</i>, and</li><li id='intro.object-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-2.3'>(2.3)</a></div>the new object is of the same type as <i >e</i> (ignoring cv-qualification)<a class='hidden_link' href='#intro.object-2.sentence-4'>.</a></li></ul></div></div></div><div class='para' id='intro.object-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3195'>#</a></div><div class='texpara'><div id='intro.object-3.sentence-1' class='sentence'><a class='index' id=':object,providing_storage_for'></a>If a complete object is created (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>)
in storage associated with another object <i >e</i>
of type “array of <span class='math'><span class='mathalpha'>N</span></span> <span class='texttt'><span id=':unsigned'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char'><span class='texttt'><span class='keyword'>char</span></span></span></span>” or
of type “array of <span class='math'><span class='mathalpha'>N</span></span> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span>” (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>),
that array <a class='hidden_link' href='#def:provides_storage' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:provides_storage'><i >provides storage</i></span></a>
for the created object if:
<ul class='itemize'><li id='intro.object-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-3.1'>(3.1)</a></div>the lifetime of <i >e</i> has begun and not ended, and</li><li id='intro.object-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-3.2'>(3.2)</a></div>the storage for the new object fits entirely within <i >e</i>, and</li><li id='intro.object-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-3.3'>(3.3)</a></div>there is no array object that satisfies these constraints nested within <i >e</i><a class='hidden_link' href='#intro.object-3.sentence-1'>.</a></li></ul></div> <div id='intro.object-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.object-note-3'>3</a></i>:&ensp;<div id='intro.object-3.sentence-2' class='sentence'>If that portion of the array
previously provided storage for another object,
the lifetime of that object ends
because its storage was reused (<a href='#life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#intro.object-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.object-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.object-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='comment'>// assumes that <span class='tcode_in_codeblock'>sizeof(int)</span> is equal to 4</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> AlignedUnion <span class='curlybracket'>{</span>
  <span class='keyword'>alignas</span><span class='parenthesis'>(</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> data<span class='squarebracket'>[</span>max<span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  AlignedUnion<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span> au;
  <span class='keyword'>int</span> <span class='operator'>*</span>p <span class='operator'>=</span> <span class='keyword'>new</span> <span class='parenthesis'>(</span>au<span class='operator'>.</span>data<span class='parenthesis'>)</span> <span class='keyword'>int</span>;           <span class='comment'>// OK, <span class='tcode_in_codeblock'>au.data</span> provides storage</span>
  <span class='keyword'>char</span> <span class='operator'>*</span>c <span class='operator'>=</span> <span class='keyword'>new</span> <span class='parenthesis'>(</span>au<span class='operator'>.</span>data<span class='parenthesis'>)</span> <span class='keyword'>char</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK, ends lifetime of <span class='tcode_in_codeblock'>*p</span></span>
  <span class='keyword'>char</span> <span class='operator'>*</span>d <span class='operator'>=</span> <span class='keyword'>new</span> <span class='parenthesis'>(</span>au<span class='operator'>.</span>data <span class='operator'>+</span> <span class='literal'>1</span><span class='parenthesis'>)</span> <span class='keyword'>char</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>return</span> <span class='operator'>*</span>c <span class='operator'>+</span> <span class='operator'>*</span>d;                       <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> a<span class='squarebracket'>[</span><span class='literal'>32</span><span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> b<span class='squarebracket'>[</span><span class='literal'>16</span><span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>alignas</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> A a;
B <span class='operator'>*</span>b <span class='operator'>=</span> <span class='keyword'>new</span> <span class='parenthesis'>(</span>a<span class='operator'>.</span>a <span class='operator'>+</span> <span class='literal'>8</span><span class='parenthesis'>)</span> B;                 <span class='comment'>// <span class='tcode_in_codeblock'>a.a</span> provides storage for <span class='tcode_in_codeblock'>*b</span></span>
<span class='keyword'>int</span> <span class='operator'>*</span>p <span class='operator'>=</span> <span class='keyword'>new</span> <span class='parenthesis'>(</span>b<span class='operator'>-</span><span class='anglebracket'>&gt;</span>b <span class='operator'>+</span> <span class='literal'>4</span><span class='parenthesis'>)</span> <span class='keyword'>int</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>b-&gt;b</span> provides storage for <span class='tcode_in_codeblock'>*p</span></span>
                                        <span class='comment'>// <span class='tcode_in_codeblock'>a.a</span> does not provide storage for <span class='tcode_in_codeblock'>*p</span> (directly),</span>
                                        <span class='comment'>// but <span class='tcode_in_codeblock'>*p</span> is nested within <span class='tcode_in_codeblock'>a</span> (see below)</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='intro.object-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3243'>#</a></div><div class='texpara'><div id='intro.object-4.sentence-1' class='sentence'><a class='index' id=':object,nested_within'></a>An object <i >a</i> is <a class='hidden_link' href='#def:nested_within' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:nested_within'><i >nested within</i></span></a> another object <i >b</i> if:
<ul class='itemize'><li id='intro.object-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-4.1'>(4.1)</a></div><i >a</i> is a subobject of <i >b</i>, or</li><li id='intro.object-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-4.2'>(4.2)</a></div><i >b</i> provides storage for <i >a</i>, or</li><li id='intro.object-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-4.3'>(4.3)</a></div>there exists an object <i >c</i>
where <i >a</i> is nested within <i >c</i>,
and <i >c</i> is nested within <i >b</i><a class='hidden_link' href='#intro.object-4.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='intro.object-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3257'>#</a></div><div class='texpara'><div id='intro.object-5.sentence-1' class='sentence'>For every object <span class='texttt'>x</span>, there is some object called the
<a class='hidden_link' href='#def:complete_object_of' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:complete_object_of'><i >complete object of</i></span></a> <span class='texttt'>x</span>, determined as follows:
<ul class='itemize'><li id='intro.object-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-5.1'>(5.1)</a></div><div class='texpara'><div id='intro.object-5.1.sentence-1' class='sentence'>If <span class='texttt'>x</span> is a complete object, then the complete object
of <span class='texttt'>x</span> is itself<a class='hidden_link' href='#intro.object-5.1.sentence-1'>.</a></div></div></li><li id='intro.object-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-5.2'>(5.2)</a></div><div class='texpara'><div id='intro.object-5.2.sentence-1' class='sentence'>Otherwise, the complete object of <span class='texttt'>x</span> is the complete object
of the (unique) object that contains <span class='texttt'>x</span><a class='hidden_link' href='#intro.object-5.2.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='intro.object-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3270'>#</a></div><div class='texpara'><div id='intro.object-6.sentence-1' class='sentence'>If a complete object, a member subobject, or an array element is of
class type, its type is considered the <a class='hidden_link' href='#def:most_derived_class' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:most_derived_class'><i >most derived
class</i></span></a>, to distinguish it from the class type of any base class subobject;
an object of a most derived class type or of a non-class type is called a
<a class='hidden_link' href='#def:most_derived_object' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:most_derived_object'><i >most derived object</i></span></a><a class='hidden_link' href='#intro.object-6.sentence-1'>.</a></div></div></div><div class='para' id='intro.object-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3277'>#</a></div><div class='texpara'><div id='intro.object-7.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:potentially-overlapping_subobject' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:potentially-overlapping_subobject'><i >potentially-overlapping subobject</i></span></a> is either:
<ul class='itemize'><li id='intro.object-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-7.1'>(7.1)</a></div>a base class subobject, or</li><li id='intro.object-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-7.2'>(7.2)</a></div>a non-static data member
declared with the <a href='dcl.attr.nouniqueaddr' title='9.12.11&emsp;No unique address attribute&emsp;[dcl.attr.nouniqueaddr]'><span class='texttt'>no_<span class='shy'></span>unique_<span class='shy'></span>address</span></a> attribute<a class='hidden_link' href='#intro.object-7.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='intro.object-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3285'>#</a></div><div class='texpara'><div id='intro.object-8.sentence-1' class='sentence'><a class='index' id=':object,zero_size'></a><a class='index' id=':object,nonzero_size'></a>An object has nonzero size if it
<ul class='itemize'><li id='intro.object-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-8.1'>(8.1)</a></div>is not a potentially-overlapping subobject, or</li><li id='intro.object-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-8.2'>(8.2)</a></div>is not of class type, or</li><li id='intro.object-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-8.3'>(8.3)</a></div>is of a class type with virtual member functions or virtual base classes, or</li><li id='intro.object-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-8.4'>(8.4)</a></div>has subobjects of nonzero size or unnamed bit-fields of nonzero length<a class='hidden_link' href='#intro.object-8.sentence-1'>.</a></li></ul></div> <div id='intro.object-8.sentence-2' class='sentence'>
Otherwise, if the object is a base class subobject
of a standard-layout class type
with no non-static data members,
it has zero size<a class='hidden_link' href='#intro.object-8.sentence-2'>.</a></div> <div id='intro.object-8.sentence-3' class='sentence'>Otherwise, the circumstances under which the object has zero size
are <a class='index' id=':which_non-standard-layout_objects_containing_no_data_are_considered_empty'></a>implementation-defined<a class='hidden_link' href='#intro.object-8.sentence-3'>.</a></div> <div id='intro.object-8.sentence-4' class='sentence'><a class='index' id=':most_derived_object,bit-field'></a>Unless it is a <a href='class.bit' title='11.4.10&emsp;Bit-fields&emsp;[class.bit]'>bit-field</a>,
an object with nonzero size
shall occupy one or more bytes of storage,
including every byte that is occupied in full or in part
by any of its subobjects<a class='hidden_link' href='#intro.object-8.sentence-4'>.</a></div> <div id='intro.object-8.sentence-5' class='sentence'>An object of trivially copyable or
standard-layout type (<a href='#types.general' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>) shall occupy contiguous bytes of
storage<a class='hidden_link' href='#intro.object-8.sentence-5'>.</a></div></div></div><div class='para' id='intro.object-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3312'>#</a></div><div class='texpara'><div id='intro.object-9.sentence-1' class='sentence'>An object is a <a class='hidden_link' href='#def:object,potentially_non-unique' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:object,potentially_non-unique'><i >potentially non-unique object</i></span></a> if it is
a string literal object (<a href='lex.string' title='5.13.5&emsp;String literals'>[lex.<span class='shy'></span>string]</a>),
the backing array of an initializer list (<a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>), or
a subobject thereof<a class='hidden_link' href='#intro.object-9.sentence-1'>.</a></div></div></div><div class='para' id='intro.object-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3318'>#</a></div><div class='texpara'><div id='intro.object-10.sentence-1' class='sentence'><a class='index' id=':most_derived_object,bit-field_'></a><a class='index' id=':most_derived_object,zero_size_subobject'></a>Unless an object is a bit-field or a subobject of zero size, the
address of that object is the address of the first byte it occupies<a class='hidden_link' href='#intro.object-10.sentence-1'>.</a></div> <div id='intro.object-10.sentence-2' class='sentence'>Two objects
with overlapping lifetimes
that are not bit-fields
may have the same address if
<ul class='itemize'><li id='intro.object-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-10.1'>(10.1)</a></div>one is nested within the other,</li><li id='intro.object-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-10.2'>(10.2)</a></div>at least one is a subobject of zero size and they are not of similar types (<a href='conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>),
or</li><li id='intro.object-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.object-10.3'>(10.3)</a></div>they are both potentially non-unique objects;</li></ul>
otherwise, they have distinct addresses
and occupy disjoint bytes of storage<a class='hidden_link' href='#intro.object-10.sentence-2'>.</a><a class='footnoteref' href='#footnote-21' id='footnoteref-21' title='Under the “as-if” rule an implementation is allowed to store two objects at the same machine address or not store an object at all if the program cannot observe the difference ([intro.execution]).'>21</a></div> <div id='intro.object-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.object-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>char</span> test1 <span class='operator'>=</span> <span class='literal'>'x'</span>;
<span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>char</span> test2 <span class='operator'>=</span> <span class='literal'>'x'</span>;
<span class='keyword'>const</span> <span class='keyword'>bool</span> b <span class='operator'>=</span> <span class='operator'>&amp;</span>test1 <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>&amp;</span>test2;        <span class='comment'>// always <span class='tcode_in_codeblock'>true</span></span>

<span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>r<span class='parenthesis'>)</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>"x"</span>;
<span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>char</span> <span class='operator'>*</span>s <span class='operator'>=</span> <span class='literal'>"x"</span>;
<span class='keyword'>static</span> std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span> il <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>'x'</span> <span class='curlybracket'>}</span>;
<span class='keyword'>const</span> <span class='keyword'>bool</span> b2 <span class='operator'>=</span> r <span class='operator'>!</span><span class='operator'>=</span> il<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// unspecified result</span>
<span class='keyword'>const</span> <span class='keyword'>bool</span> b3 <span class='operator'>=</span> r <span class='operator'>!</span><span class='operator'>=</span> s;                 <span class='comment'>// unspecified result</span>
<span class='keyword'>const</span> <span class='keyword'>bool</span> b4 <span class='operator'>=</span> il<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>&amp;</span>test1;   <span class='comment'>// always <span class='tcode_in_codeblock'>true</span></span>
<span class='keyword'>const</span> <span class='keyword'>bool</span> b5 <span class='operator'>=</span> r <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>&amp;</span>test1;            <span class='comment'>// always <span class='tcode_in_codeblock'>true</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='intro.object-10.sentence-3' class='sentence'>
The address of a non-bit-field subobject of zero size is
the address of an unspecified byte of storage
occupied by the complete object of that subobject<a class='hidden_link' href='#intro.object-10.sentence-3'>.</a></div></div></div><div class='para' id='intro.object-11'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3360'>#</a></div><div class='texpara'><div id='intro.object-11.sentence-1' class='sentence'>Some operations are described as
<a class='hidden_link' href='#def:object,implicit_creation' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:object,implicit_creation'><i >implicitly creating objects</i></span></a>
within a specified region of storage<a class='hidden_link' href='#intro.object-11.sentence-1'>.</a></div> <div id='intro.object-11.sentence-2' class='sentence'>For each operation that is specified as implicitly creating objects,
that operation implicitly creates and starts the lifetime of
zero or more objects of implicit-lifetime types (<a href='#types.general#term.implicit.lifetime.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)
in its specified region of storage
if doing so would result in the program having defined behavior<a class='hidden_link' href='#intro.object-11.sentence-2'>.</a></div> <div id='intro.object-11.sentence-3' class='sentence'>If no such set of objects would give the program defined behavior,
the behavior of the program is undefined<a class='hidden_link' href='#intro.object-11.sentence-3'>.</a></div> <div id='intro.object-11.sentence-4' class='sentence'>If multiple such sets of objects would give the program defined behavior,
it is unspecified which such set of objects is created<a class='hidden_link' href='#intro.object-11.sentence-4'>.</a></div> <div id='intro.object-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.object-note-4'>4</a></i>:&ensp;<div id='intro.object-11.sentence-5' class='sentence'>Such operations do not start the lifetimes of subobjects of such objects
that are not themselves of implicit-lifetime types<a class='hidden_link' href='#intro.object-11.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.object-12'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3378'>#</a></div><div class='texpara'><div id='intro.object-12.sentence-1' class='sentence'>Further, after implicitly creating objects within a specified region of storage,
some operations are described as producing a pointer to a
<a class='hidden_link' href='#def:object,suitable_created' title='6.7.2&emsp;Object model&emsp;[intro.object]'><span id='def:object,suitable_created'><i >suitable created object</i></span></a><a class='hidden_link' href='#intro.object-12.sentence-1'>.</a></div> <div id='intro.object-12.sentence-2' class='sentence'>These operations select one of the implicitly-created objects
whose address is the address of the start of the region of storage,
and produce a pointer value that points to that object,
if that value would result in the program having defined behavior<a class='hidden_link' href='#intro.object-12.sentence-2'>.</a></div> <div id='intro.object-12.sentence-3' class='sentence'>If no such pointer value would give the program defined behavior,
the behavior of the program is undefined<a class='hidden_link' href='#intro.object-12.sentence-3'>.</a></div> <div id='intro.object-12.sentence-4' class='sentence'>If multiple such pointer values would give the program defined behavior,
it is unspecified which such pointer value is produced<a class='hidden_link' href='#intro.object-12.sentence-4'>.</a></div></div></div><div class='para nonNormativeOnly' id='intro.object-13'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3391'>#</a></div><div class='texpara'><div id='intro.object-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.object-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>cstdlib<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> a, b; <span class='curlybracket'>}</span>;
X <span class='operator'>*</span>make_x<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='comment'>// The call to <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;malloc</span> implicitly creates an object of type <span class='tcode_in_codeblock'>X</span></span>
  <span class='comment'>// and its subobjects <span class='tcode_in_codeblock'>a</span> and <span class='tcode_in_codeblock'>b</span>, and returns a pointer to that <span class='tcode_in_codeblock'>X</span> object</span>
  <span class='comment'>// (or an object that is pointer-interconvertible (<a href='#compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) with it),</span>
  <span class='comment'>// in order to give the subsequent class member access operations</span>
  <span class='comment'>// defined behavior.</span>
  X <span class='operator'>*</span>p <span class='operator'>=</span> <span class='parenthesis'>(</span>X<span class='operator'>*</span><span class='parenthesis'>)</span>std<span class='operator'>::</span>malloc<span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>struct</span> X<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a <span class='operator'>=</span> <span class='literal'>1</span>;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>b <span class='operator'>=</span> <span class='literal'>2</span>;
  <span class='keyword'>return</span> p;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='intro.object-14'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3410'>#</a></div><div class='texpara'><div id='intro.object-14.sentence-1' class='sentence'>An operation that begins the lifetime of
an array of <span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>char</span></span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span>
implicitly creates objects within the region of storage occupied by the array<a class='hidden_link' href='#intro.object-14.sentence-1'>.</a></div> <div id='intro.object-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.object-note-5'>5</a></i>:&ensp;<div id='intro.object-14.sentence-2' class='sentence'>The array object provides storage for these objects<a class='hidden_link' href='#intro.object-14.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.object-14.sentence-3' class='sentence'>
Any implicit or explicit invocation of a function
named <span class='texttt'><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new'><span class='texttt'><span class='keyword'>new</span></span></span></span> or <span class='texttt'><span id=':operator_'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new_'><span class='texttt'><span class='keyword'>new</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
implicitly creates objects in the returned region of storage and
returns a pointer to a suitable created object<a class='hidden_link' href='#intro.object-14.sentence-3'>.</a></div> <div id='intro.object-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.object-note-6'>6</a></i>:&ensp;<div id='intro.object-14.sentence-4' class='sentence'>Some functions in the C++ standard library implicitly create objects (<a href='obj.lifetime' title='20.2.6&emsp;Explicit lifetime management'>[obj.<span class='shy'></span>lifetime]</a>, <a href='c.malloc' title='20.2.12&emsp;C library memory allocation'>[c.<span class='shy'></span>malloc]</a>, <a href='mem.res.public' title='20.4.2.2&emsp;Public member functions'>[mem.<span class='shy'></span>res.<span class='shy'></span>public]</a>, <a href='bit.cast' title='22.15.3&emsp;Function template bit_&shy;cast'>[bit.<span class='shy'></span>cast]</a>, <a href='cstring.syn' title='23.5.3&emsp;Header &lt;cstring&gt; synopsis'>[cstring.<span class='shy'></span>syn]</a>)<a class='hidden_link' href='#intro.object-14.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-21'><div class='texpara'><a class='footnotenum' href='#footnote-21'>21)</a><a class='footnoteBacklink' href='#footnoteref-21'>21)</a> <div id='footnote-21.sentence-1' class='sentence'>Under the “as-if” rule an
implementation is allowed to store two objects at the same machine address or
not store an object at all if the program cannot observe the
difference (<a href='#intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#footnote-21.sentence-1'>.</a></div></div></div></div><div id='life' class='section'><h3 ><a class='secnum' href='#life' style='min-width:80pt'>6.7.3</a> Lifetime <a class='abbr_ref' href='basic.life'>[basic.life]</a></h3><div class='para' id='life-1'><div class='marginalizedparent'><a class='marginalized' href='#life-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3429'>#</a></div><div class='texpara'><div id='life-1.sentence-1' class='sentence'><a class='index' id=':object_lifetime'></a>The <a class='hidden_link' href='#def:lifetime' title='6.7.3&emsp;Lifetime&emsp;[basic.life]'><span id='def:lifetime'><i >lifetime</i></span></a> of an object or reference is a runtime property of the
object or reference<a class='hidden_link' href='#life-1.sentence-1'>.</a></div> <div id='life-1.sentence-2' class='sentence'>A variable is said to have <a class='hidden_link' href='#def:initialization,vacuous' title='6.7.3&emsp;Lifetime&emsp;[basic.life]'><span id='def:initialization,vacuous'><i >vacuous initialization</i></span></a>
if it is default-initialized and,
if it is of class type or a (possibly multidimensional) array thereof,
that class type has a trivial default constructor<a class='hidden_link' href='#life-1.sentence-2'>.</a></div> <div id='life-1.sentence-3' class='sentence'>The lifetime of an object of type <span class='texttt'>T</span> begins when:
<ul class='itemize'><li id='life-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-1.1'>(1.1)</a></div>storage with the proper alignment and size
  for type <span class='texttt'>T</span> is obtained, and</li><li id='life-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-1.2'>(1.2)</a></div>its initialization (if any) is complete
  (including vacuous initialization) (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),</li></ul>
except that if the object is a union member or subobject thereof,
its lifetime only begins if that union member is the
initialized member in the union (<a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>, <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>),
or as described in
<a href='class.union' title='11.5&emsp;Unions'>[class.<span class='shy'></span>union]</a>, <a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>, and <a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>,
and except as described in <a href='allocator.members' title='20.2.10.2&emsp;Members'>[allocator.<span class='shy'></span>members]</a><a class='hidden_link' href='#life-1.sentence-3'>.</a></div> <div id='life-1.sentence-4' class='sentence'>The lifetime of an object <i >o</i> of type <span class='texttt'>T</span> ends when:
<ul class='itemize'><li id='life-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-1.3'>(1.3)</a></div>if <span class='texttt'>T</span> is a non-class type, the object is destroyed, or</li><li id='life-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-1.4'>(1.4)</a></div>if <span class='texttt'>T</span> is a class type, the destructor call starts, or</li><li id='life-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-1.5'>(1.5)</a></div>the storage which the object occupies is released,
or is reused by an object that is not nested within <i >o</i> (<a href='#intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)<a class='hidden_link' href='#life-1.sentence-4'>.</a></li></ul></div> <div id='life-1.sentence-5' class='sentence'>
When evaluating a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression____'><span class='textsf'><i >new-expression</i></span></span></a>,
storage is considered reused after it is returned from the allocation function,
but before the evaluation of the <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer'><span class='textsf'><i >new-initializer</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>)<a class='hidden_link' href='#life-1.sentence-5'>.</a></div> <div id='life-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#life-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  S x<span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>;
  <span class='keyword'>new</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>x<span class='parenthesis'>)</span> S<span class='parenthesis'>(</span>x<span class='operator'>.</span>m<span class='parenthesis'>)</span>;   <span class='comment'>// undefined behavior</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='life-2'><div class='marginalizedparent'><a class='marginalized' href='#life-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3473'>#</a></div><div class='texpara'><div id='life-2.sentence-1' class='sentence'><a class='index' id=':reference_lifetime'></a>The lifetime of a reference begins when its initialization is complete<a class='hidden_link' href='#life-2.sentence-1'>.</a></div> <div id='life-2.sentence-2' class='sentence'>The lifetime of a reference ends as if it were a scalar object requiring storage<a class='hidden_link' href='#life-2.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='life-3'><div class='marginalizedparent'><a class='marginalized' href='#life-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3478'>#</a></div><div class='texpara'><div id='life-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#life-note-1'>1</a></i>:&ensp;<div id='life-3.sentence-1' class='sentence'><a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>
describes the lifetime of base and member subobjects<a class='hidden_link' href='#life-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='life-4'><div class='marginalizedparent'><a class='marginalized' href='#life-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3484'>#</a></div><div class='texpara'><div id='life-4.sentence-1' class='sentence'>The properties ascribed to objects and references throughout this document
apply for a given object or reference only during its lifetime<a class='hidden_link' href='#life-4.sentence-1'>.</a></div> <div id='life-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#life-note-2'>2</a></i>:&ensp;<div id='life-4.sentence-2' class='sentence'>In particular, before the lifetime of an object starts and after its
lifetime ends there are significant restrictions on the use of the
object, as described below, in <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>, and
in <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#life-4.sentence-2'>.</a></div> <div id='life-4.sentence-3' class='sentence'>Also, the behavior of an object under construction
and destruction can differ from the behavior of an object whose
lifetime has started and not ended<a class='hidden_link' href='#life-4.sentence-3'>.</a></div> <div id='life-4.sentence-4' class='sentence'><a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>
and <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a> describe the behavior of an object during its periods
of construction and destruction<a class='hidden_link' href='#life-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='life-5'><div class='marginalizedparent'><a class='marginalized' href='#life-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3498'>#</a></div><div class='texpara'><div id='life-5.sentence-1' class='sentence'>A program may end the lifetime of an object of class type without invoking the
destructor, by reusing or releasing the storage as described above<a class='hidden_link' href='#life-5.sentence-1'>.</a></div> <div id='life-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#life-note-3'>3</a></i>:&ensp;<div id='life-5.sentence-2' class='sentence'>A <a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_'><span class='textsf'><i >delete-expression</i></span></span></a> (<a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>) invokes the destructor
prior to releasing the storage<a class='hidden_link' href='#life-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='life-5.sentence-3' class='sentence'>
In this case, the destructor is not implicitly invoked<a class='hidden_link' href='#life-5.sentence-3'>.</a></div> <div id='life-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#life-note-4'>4</a></i>:&ensp;<div id='life-5.sentence-4' class='sentence'>The correct behavior of a program often depends on
the destructor being invoked for each object of class type<a class='hidden_link' href='#life-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='life-6'><div class='marginalizedparent'><a class='marginalized' href='#life-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3511'>#</a></div><div class='texpara'><div id='life-6.sentence-1' class='sentence'>Before the lifetime of an object has started but after the storage which
the object will occupy has been allocated<a class='footnoteref' href='#footnote-22' id='footnoteref-22' title='For example, before the dynamic initialization of an object with static storage duration ([basic.start.dynamic]).'>22</a>
or, after the lifetime of an object has ended and before the storage
which the object occupied is reused or released, any pointer that represents the address of
the storage location where the object will be or was located may be
used but only in limited ways<a class='hidden_link' href='#life-6.sentence-1'>.</a></div> <div id='life-6.sentence-2' class='sentence'>For an object under construction or destruction, see <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#life-6.sentence-2'>.</a></div> <div id='life-6.sentence-3' class='sentence'>Otherwise, such
a pointer refers to allocated
storage (<a href='#stc.dynamic.allocation' title='6.7.5.5.2&emsp;Allocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>allocation]</a>), and using the pointer as
if the pointer were of type <span class='texttt'><span id=':void_'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span> is
well-defined<a class='hidden_link' href='#life-6.sentence-3'>.</a></div> <div id='life-6.sentence-4' class='sentence'>Indirection through such a pointer is permitted but the resulting lvalue may only be used in
limited ways, as described below<a class='hidden_link' href='#life-6.sentence-4'>.</a></div> <div id='life-6.sentence-5' class='sentence'>The
program has undefined behavior if:
<ul class='itemize'><li id='life-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-6.1'>(6.1)</a></div>the pointer is used as the operand of a <a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression__'><span class='textsf'><i >delete-expression</i></span></span></a>,</li><li id='life-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-6.2'>(6.2)</a></div>the pointer is used to access a non-static data member or call a
  non-static member function of the object, or</li><li id='life-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-6.3'>(6.3)</a></div>the pointer is implicitly converted (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>) to a pointer
  to a virtual base class, or</li><li id='life-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-6.4'>(6.4)</a></div>the pointer is used as the operand of a
  <span id=':static_cast_'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>), except when the conversion
  is to pointer to <span class='mathit'>cv</span> <span id=':void__'><span class='texttt'><span class='keyword'>void</span></span></span>, or to pointer to <span class='mathit'>cv</span> <span id=':void___'><span class='texttt'><span class='keyword'>void</span></span></span>
  and subsequently to pointer to
  <span class='mathit'>cv</span> <span id=':char_'><span class='texttt'><span class='keyword'>char</span></span></span>,
  <span class='mathit'>cv</span> <span class='texttt'><span id=':unsigned_'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char__'><span class='texttt'><span class='keyword'>char</span></span></span></span>, or
  <span class='mathit'>cv</span> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>), or</li><li id='life-6.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-6.5'>(6.5)</a></div>the pointer is used as the operand of a
  <span id=':dynamic_cast_'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> (<a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#life-6.sentence-5'>.</a></li></ul></div> <div id='life-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#life-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>cstdlib<span class='anglebracket'>&gt;</span>

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> mutate<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D1 <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D2 <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> B<span class='operator'>::</span>mutate<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>new</span> <span class='parenthesis'>(</span><span class='keyword'>this</span><span class='parenthesis'>)</span> D2;    <span class='comment'>// reuses storage --- ends the lifetime of <span class='tcode_in_codeblock'>*this</span></span>
  f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// undefined behavior</span>
  <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='operator'>=</span> <span class='keyword'>this</span>;       <span class='comment'>// OK, <span id=':this______'><span class='tcode_in_codeblock'>this</span></span> points to valid memory</span>
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>void</span><span class='operator'>*</span> p <span class='operator'>=</span> std<span class='operator'>::</span>malloc<span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>D1<span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>D2<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  B<span class='operator'>*</span> pb <span class='operator'>=</span> <span class='keyword'>new</span> <span class='parenthesis'>(</span>p<span class='parenthesis'>)</span> D1;
  pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>mutate<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='operator'>*</span>pb;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>pb</span> points to valid memory</span>
  <span class='keyword'>void</span><span class='operator'>*</span> q <span class='operator'>=</span> pb;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>pb</span> points to valid memory</span>
  pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// undefined behavior: lifetime of <span class='tcode_in_codeblock'>*pb</span> has ended</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='life-7'><div class='marginalizedparent'><a class='marginalized' href='#life-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3582'>#</a></div><div class='texpara'><div id='life-7.sentence-1' class='sentence'>Similarly, before the lifetime of an object has started but after the
storage which the object will occupy has been allocated or, after the
lifetime of an object has ended and before the storage which the object
occupied is reused or released, any glvalue that refers to the original
object may be used but only in limited ways<a class='hidden_link' href='#life-7.sentence-1'>.</a></div> <div id='life-7.sentence-2' class='sentence'>For an object under construction or destruction, see <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#life-7.sentence-2'>.</a></div> <div id='life-7.sentence-3' class='sentence'>Otherwise, such
a glvalue refers to
allocated storage (<a href='#stc.dynamic.allocation' title='6.7.5.5.2&emsp;Allocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>allocation]</a>), and using the
properties of the glvalue that do not depend on its value is
well-defined<a class='hidden_link' href='#life-7.sentence-3'>.</a></div> <div id='life-7.sentence-4' class='sentence'>The program has undefined behavior if:
<ul class='itemize'><li id='life-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-7.1'>(7.1)</a></div>the glvalue is used to access the object, or</li><li id='life-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-7.2'>(7.2)</a></div>the glvalue is used to call a non-static member function of the object, or</li><li id='life-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-7.3'>(7.3)</a></div>the glvalue is bound to a reference to a virtual base class (<a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>), or</li><li id='life-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-7.4'>(7.4)</a></div>the glvalue is used as the operand of a
<span id=':dynamic_cast__'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> (<a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>) or as the operand of
<span id=':typeid_'><span class='texttt'><span class='keyword'>typeid</span></span></span><a class='hidden_link' href='#life-7.sentence-4'>.</a></li></ul></div></div></div><div class='para' id='life-8'><div class='marginalizedparent'><a class='marginalized' href='#life-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3603'>#</a></div><div class='texpara'><div id='life-8.sentence-1' class='sentence'>If, after the lifetime of an object has ended and before the storage
which the object occupied is reused or released, a new object is created
at the storage location which the original object occupied, a pointer
that pointed to the original object, a reference that referred to the
original object, or the name of the original object will automatically
refer to the new object and, once the lifetime of the new object has
started, can be used to manipulate the new object, if
the original object is transparently replaceable (see below)
by the new object<a class='hidden_link' href='#life-8.sentence-1'>.</a></div> <div id='life-8.sentence-2' class='sentence'>An object <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> is <a class='hidden_link' href='#def:transparently_replaceable' title='6.7.3&emsp;Lifetime&emsp;[basic.life]'><span id='def:transparently_replaceable'><i >transparently replaceable</i></span></a>
by an object <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> if:
<ul class='itemize'><li id='life-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-8.1'>(8.1)</a></div>the storage that <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> occupies exactly overlays
the storage that <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> occupied, and</li><li id='life-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-8.2'>(8.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> are of the same type
(ignoring the top-level cv-qualifiers), and</li><li id='life-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-8.3'>(8.3)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> is not a const, complete object, and</li><li id='life-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-8.4'>(8.4)</a></div>neither <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> nor <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>
is a potentially-overlapping subobject (<a href='#intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>), and</li><li id='life-8.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#life-8.5'>(8.5)</a></div>either <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> are both complete objects, or
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> are direct subobjects of objects <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>, respectively,
and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> is transparently replaceable by <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><a class='hidden_link' href='#life-8.sentence-2'>.</a></li></ul></div> <div id='life-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#life-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>const</span> C<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span> <span class='keyword'>const</span> C<span class='operator'>&amp;</span> <span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>const</span> C<span class='operator'>&amp;</span> C<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span> <span class='keyword'>const</span> C<span class='operator'>&amp;</span> other<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span> <span class='keyword'>this</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>&amp;</span>other <span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                 <span class='comment'>// lifetime of <span class='tcode_in_codeblock'>*this</span> ends</span>
    <span class='keyword'>new</span> <span class='parenthesis'>(</span><span class='keyword'>this</span><span class='parenthesis'>)</span> C<span class='parenthesis'>(</span>other<span class='parenthesis'>)</span>;        <span class='comment'>// new object of type <span class='tcode_in_codeblock'>C</span> created</span>
    f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                        <span class='comment'>// well-defined</span>
  <span class='curlybracket'>}</span>
  <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;
<span class='curlybracket'>}</span>

C c1;
C c2;
c1 <span class='operator'>=</span> c2;                        <span class='comment'>// well-defined</span>
c1<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                         <span class='comment'>// well-defined; <span class='tcode_in_codeblock'>c1</span> refers to a new object of type <span class='tcode_in_codeblock'>C</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='life-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#life-note-5'>5</a></i>:&ensp;<div id='life-8.sentence-3' class='sentence'>If these conditions are not met,
a pointer to the new object can be obtained from
a pointer that represents the address of its storage
by calling <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>launder</span> (<a href='ptr.launder' title='17.6.5&emsp;Pointer optimization barrier'>[ptr.<span class='shy'></span>launder]</a>)<a class='hidden_link' href='#life-8.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='life-9'><div class='marginalizedparent'><a class='marginalized' href='#life-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3661'>#</a></div><div class='texpara'><div id='life-9.sentence-1' class='sentence'>If a program ends the lifetime of an object of type <span class='texttt'>T</span> with
static (<a href='#stc.static' title='6.7.5.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>), thread (<a href='#stc.thread' title='6.7.5.3&emsp;Thread storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>thread]</a>),
or automatic (<a href='#stc.auto' title='6.7.5.4&emsp;Automatic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>auto]</a>)
storage duration and if <span class='texttt'>T</span> has a non-trivial destructor,<a class='footnoteref' href='#footnote-23' id='footnoteref-23' title='That is, an object for which a destructor will be called implicitly—upon exit from the block for an object with automatic storage duration, upon exit from the thread for an object with thread storage duration, or upon exit from the program for an object with static storage duration.'>23</a>
and another object of the original type does not occupy
that same storage location when the implicit destructor call takes
place, the behavior of the program is undefined<a class='hidden_link' href='#life-9.sentence-1'>.</a></div> <div id='life-9.sentence-2' class='sentence'>This is true
even if the block is exited with an exception<a class='hidden_link' href='#life-9.sentence-2'>.</a></div> <div id='life-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#life-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> T <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  B b;
  <span class='keyword'>new</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>b<span class='parenthesis'>)</span> T;
<span class='curlybracket'>}</span>                               <span class='comment'>// undefined behavior at block exit</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='life-10'><div class='marginalizedparent'><a class='marginalized' href='#life-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3692'>#</a></div><div class='texpara'><div id='life-10.sentence-1' class='sentence'>Creating a new object within the storage that a const, complete
object with static, thread, or automatic storage duration occupies,
or within the storage that such a const object used to occupy before
its lifetime ended, results in undefined behavior<a class='hidden_link' href='#life-10.sentence-1'>.</a></div> <div id='life-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#life-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>const</span> B b;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  b<span class='operator'>.</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>new</span> <span class='parenthesis'>(</span><span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span>b<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> B;     <span class='comment'>// undefined behavior</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='life-11'><div class='marginalizedparent'><a class='marginalized' href='#life-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3713'>#</a></div><div class='texpara'><div id='life-11.sentence-1' class='sentence'>In this subclause, “before” and “after” refer to the “happens before”
relation (<a href='#intro.multithread' title='6.9.2&emsp;Multi-threaded executions and data races'>[intro.<span class='shy'></span>multithread]</a>)<a class='hidden_link' href='#life-11.sentence-1'>.</a></div> <div id='life-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#life-note-6'>6</a></i>:&ensp;<div id='life-11.sentence-2' class='sentence'>Therefore, undefined behavior results
if an object that is being constructed in one thread is referenced from another
thread without adequate synchronization<a class='hidden_link' href='#life-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> </div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-22'><div class='texpara'><a class='footnotenum' href='#footnote-22'>22)</a><a class='footnoteBacklink' href='#footnoteref-22'>22)</a> <div id='footnote-22.sentence-1' class='sentence'>For example, before the dynamic initialization of
an object with static storage duration (<a href='#start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a>)<a class='hidden_link' href='#footnote-22.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-23'><div class='texpara'><a class='footnotenum' href='#footnote-23'>23)</a><a class='footnoteBacklink' href='#footnoteref-23'>23)</a> <div id='footnote-23.sentence-1' class='sentence'>That
is, an object for which a destructor will be called
implicitly—upon exit from the block for an object with
automatic storage duration, upon exit from the thread for an object with
thread storage duration, or upon exit from the program for an object
with static storage duration<a class='hidden_link' href='#footnote-23.sentence-1'>.</a></div></div></div></div><div id='indet' class='section'><h3 ><a class='secnum' href='#indet' style='min-width:80pt'>6.7.4</a> Indeterminate values <a class='abbr_ref' href='basic.indet'>[basic.indet]</a></h3><div class='para' id='indet-1'><div class='marginalizedparent'><a class='marginalized' href='#indet-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3725'>#</a></div><div class='texpara'><div id='indet-1.sentence-1' class='sentence'><a class='index' id=':value,indeterminate'></a><a class='index' id=':indeterminate_value'></a>When storage for an object with automatic or dynamic storage duration
is obtained, the object has an <a class='hidden_link' href='#def:value,indeterminate' title='6.7.4&emsp;Indeterminate values&emsp;[basic.indet]'><span id='def:value,indeterminate'><i >indeterminate value</i></span></a>, and if
no initialization is performed for the object, that object retains an
indeterminate value until that value is replaced (<a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>ass]</a>)<a class='hidden_link' href='#indet-1.sentence-1'>.</a></div> <div id='indet-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#indet-note-1'>1</a></i>:&ensp;<div id='indet-1.sentence-2' class='sentence'>Objects with static or thread storage duration are zero-initialized,
see <a href='#start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a><a class='hidden_link' href='#indet-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='indet-2'><div class='marginalizedparent'><a class='marginalized' href='#indet-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3737'>#</a></div><div class='texpara'><div id='indet-2.sentence-1' class='sentence'>If an indeterminate value is produced by an evaluation,
the behavior is undefined except in the following cases:
<ul class='itemize'><li id='indet-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#indet-2.1'>(2.1)</a></div><div class='texpara'><div id='indet-2.1.sentence-1' class='sentence'>If an indeterminate value of
  unsigned ordinary character type (<a href='#fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
  or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> type (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>)
  is produced by the evaluation of:
  <ul class='itemize'><li id='indet-2.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#indet-2.1.1'>(2.1.1)</a></div>the second or third operand of a <a href='expr.cond' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'>conditional expression</a>,</li><li id='indet-2.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#indet-2.1.2'>(2.1.2)</a></div>the right operand of a <a href='expr.comma' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'>comma expression</a>,</li><li id='indet-2.1.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#indet-2.1.3'>(2.1.3)</a></div>the operand of a cast or conversion (<a href='conv.integral' title='7.3.9&emsp;Integral conversions'>[conv.<span class='shy'></span>integral]</a>, <a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>)
    to an unsigned ordinary character type
    or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> type (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>), or</li><li id='indet-2.1.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#indet-2.1.4'>(2.1.4)</a></div>a <a href='expr.context#def:discarded-value_expression' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'>discarded-value expression</a>,</li></ul>
  then the result of the operation is an indeterminate value<a class='hidden_link' href='#indet-2.1.sentence-1'>.</a></div></div></li><li id='indet-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#indet-2.2'>(2.2)</a></div><div class='texpara'><div id='indet-2.2.sentence-1' class='sentence'>If an indeterminate value of
  unsigned ordinary character type or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> type
  is produced by the evaluation of
  the right operand of a simple assignment operator (<a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>ass]</a>)
  whose first operand is an lvalue of
  unsigned ordinary character type or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> type,
  an indeterminate value replaces
  the value of the object referred to by the left operand<a class='hidden_link' href='#indet-2.2.sentence-1'>.</a></div></div></li><li id='indet-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#indet-2.3'>(2.3)</a></div><div class='texpara'><div id='indet-2.3.sentence-1' class='sentence'>If an indeterminate value of unsigned ordinary character type
  is produced by the evaluation of the initialization expression
  when initializing an object of unsigned ordinary character type,
  that object is initialized to an indeterminate
  value<a class='hidden_link' href='#indet-2.3.sentence-1'>.</a></div></div></li><li id='indet-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#indet-2.4'>(2.4)</a></div><div class='texpara'><div id='indet-2.4.sentence-1' class='sentence'>If an indeterminate value of
  unsigned ordinary character type or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> type
  is produced by the evaluation of the initialization expression
  when initializing an object of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> type,
  that object is initialized to an indeterminate value<a class='hidden_link' href='#indet-2.4.sentence-1'>.</a></div></div></li></ul></div> <div id='indet-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#indet-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>bool</span> b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>unsigned</span> <span class='keyword'>char</span> c;
  <span class='keyword'>unsigned</span> <span class='keyword'>char</span> d <span class='operator'>=</span> c;          <span class='comment'>// OK, <span class='tcode_in_codeblock'>d</span> has an indeterminate value</span>
  <span class='keyword'>int</span> e <span class='operator'>=</span> d;                    <span class='comment'>// undefined behavior</span>
  <span class='keyword'>return</span> b <span class='operator'>?</span> d <span class='operator'>:</span> <span class='literal'>0</span>;             <span class='comment'>// undefined behavior if <span class='tcode_in_codeblock'>b</span> is <span class='tcode_in_codeblock'>true</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='stc' class='section'><h3 ><a class='secnum' href='#stc' style='min-width:80pt'>6.7.5</a> Storage duration <a class='abbr_ref' href='basic.stc'>[basic.stc]</a></h3><div id='stc.general' class='section'><h4 ><a class='secnum' href='#stc.general' style='min-width:95pt'>6.7.5.1</a> General <a class='abbr_ref' href='basic.stc.general'>[basic.stc.general]</a></h4><div class='para' id='stc.general-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3797'>#</a></div><div class='texpara'><div id='stc.general-1.sentence-1' class='sentence'><a class='index' id=':storage_duration'></a>The <a class='hidden_link' href='#def:storage_duration' title='6.7.5.1&emsp;General&emsp;[basic.stc.general]'><span id='def:storage_duration'><i >storage duration</i></span></a> is the property of an object that defines the minimum
potential lifetime of the storage containing the object<a class='hidden_link' href='#stc.general-1.sentence-1'>.</a></div> <div id='stc.general-1.sentence-2' class='sentence'>The storage
duration is determined by the construct used to create the object and is
one of the following:
<ul class='itemize'><li id='stc.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.general-1.1'>(1.1)</a></div>static storage duration</li><li id='stc.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.general-1.2'>(1.2)</a></div>thread storage duration</li><li id='stc.general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.general-1.3'>(1.3)</a></div>automatic storage duration</li><li id='stc.general-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.general-1.4'>(1.4)</a></div>dynamic storage duration</li></ul></div></div></div><div class='para' id='stc.general-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3810'>#</a></div><div class='texpara'><div id='stc.general-2.sentence-1' class='sentence'><a class='index' id=':storage_duration,static'></a><a class='index' id=':storage_duration,thread'></a><a class='index' id=':storage_duration,automatic'></a><a class='index' id=':storage_duration,dynamic'></a>Static, thread, and automatic storage durations are associated with objects
introduced by declarations (<a href='#def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>) and <a href='#class.temporary' title='6.7.7&emsp;Temporary objects&emsp;[class.temporary]'>implicitly created by
the implementation</a><a class='hidden_link' href='#stc.general-2.sentence-1'>.</a></div> <div id='stc.general-2.sentence-2' class='sentence'>The dynamic storage duration
is associated with objects created by a
<a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_____'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>)<a class='hidden_link' href='#stc.general-2.sentence-2'>.</a></div></div></div><div class='para' id='stc.general-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3821'>#</a></div><div class='texpara'><div id='stc.general-3.sentence-1' class='sentence'>The storage duration categories apply to references as well<a class='hidden_link' href='#stc.general-3.sentence-1'>.</a></div></div></div><div class='para' id='stc.general-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3824'>#</a></div><div class='texpara'><div id='stc.general-4.sentence-1' class='sentence'>When the end of the duration of a region of storage is reached,
the values of all pointers
representing the address of any part of that region of storage
become <a href='#def:value,invalid_pointer' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'>invalid pointer values</a><a class='hidden_link' href='#stc.general-4.sentence-1'>.</a></div> <div id='stc.general-4.sentence-2' class='sentence'>Indirection through an invalid pointer value and
passing an invalid pointer value to a deallocation function
have undefined behavior<a class='hidden_link' href='#stc.general-4.sentence-2'>.</a></div> <div id='stc.general-4.sentence-3' class='sentence'>Any other use of an invalid pointer value has
<a class='index' id=':any_use_of_an_invalid_pointer_other_than_to_perform_indirection_or_deallocate'></a>implementation-defined
behavior<a class='hidden_link' href='#stc.general-4.sentence-3'>.</a><a class='footnoteref' href='#footnote-24' id='footnoteref-24' title='Some implementations might define that copying an invalid pointer value causes a system-generated runtime fault.'>24</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-24'><div class='texpara'><a class='footnotenum' href='#footnote-24'>24)</a><a class='footnoteBacklink' href='#footnoteref-24'>24)</a> <div id='footnote-24.sentence-1' class='sentence'>Some implementations might define that
copying an invalid pointer value
causes a system-generated runtime fault<a class='hidden_link' href='#footnote-24.sentence-1'>.</a></div></div></div></div><div id='stc.static' class='section'><h4 ><a class='secnum' href='#stc.static' style='min-width:95pt'>6.7.5.2</a> Static storage duration <a class='abbr_ref' href='basic.stc.static'>[basic.stc.static]</a></h4><div class='para' id='stc.static-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3843'>#</a></div><div class='texpara'><div id='stc.static-1.sentence-1' class='sentence'>All variables which
<ul class='itemize'><li id='stc.static-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.static-1.1'>(1.1)</a></div>do not have thread storage duration and</li><li id='stc.static-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.static-1.2'>(1.2)</a></div>belong to a namespace scope (<a href='#scope.namespace' title='6.4.6&emsp;Namespace scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>namespace]</a>) or
are first declared with
the <span id=':static_'><span class='texttt'><span class='keyword'>static</span></span></span> or <span id=':extern____'><span class='texttt'><span class='keyword'>extern</span></span></span> keywords (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>)</li></ul>
have <a class='hidden_link' href='#def:storage_duration,static' title='6.7.5.2&emsp;Static storage duration&emsp;[basic.stc.static]'><span id='def:storage_duration,static'><i >static storage duration</i></span></a><a class='hidden_link' href='#stc.static-1.sentence-1'>.</a></div> <div id='stc.static-1.sentence-2' class='sentence'>The storage for these entities lasts for the duration of the
program (<a href='#start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>, <a href='#start.term' title='6.9.3.4&emsp;Termination'>[basic.<span class='shy'></span>start.<span class='shy'></span>term]</a>)<a class='hidden_link' href='#stc.static-1.sentence-2'>.</a></div></div></div><div class='para' id='stc.static-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3857'>#</a></div><div class='texpara'><div id='stc.static-2.sentence-1' class='sentence'>If a variable with static storage duration has initialization or a
destructor with side effects, it shall not be eliminated even if it
appears to be unused, except that a class object or its copy/move may be
eliminated as specified in <a href='class.copy.elision' title='11.9.6&emsp;Copy/move elision'>[class.<span class='shy'></span>copy.<span class='shy'></span>elision]</a><a class='hidden_link' href='#stc.static-2.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='stc.static-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3863'>#</a></div><div class='texpara'><div id='stc.static-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.static-note-1'>1</a></i>:&ensp;<div id='stc.static-3.sentence-1' class='sentence'><a class='index' id=':object,local_static'></a>The keyword <span id=':static__'><span class='texttt'><span class='keyword'>static</span></span></span> can be used to declare
a block variable (<a href='#scope.block' title='6.4.3&emsp;Block scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>block]</a>) with static storage duration;
<a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a> and <a href='#start.term' title='6.9.3.4&emsp;Termination'>[basic.<span class='shy'></span>start.<span class='shy'></span>term]</a> describe the
initialization and destruction of such variables<a class='hidden_link' href='#stc.static-3.sentence-1'>.</a></div> <div id='stc.static-3.sentence-2' class='sentence'><a class='index' id=':member,class_static'></a>The keyword <span id=':static___'><span class='texttt'><span class='keyword'>static</span></span></span> applied to
a class data member in a class definition
gives the data member static storage duration (<a href='class.static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>)<a class='hidden_link' href='#stc.static-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='stc.thread' class='section'><h4 ><a class='secnum' href='#stc.thread' style='min-width:95pt'>6.7.5.3</a> Thread storage duration <a class='abbr_ref' href='basic.stc.thread'>[basic.stc.thread]</a></h4><div class='para' id='stc.thread-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.thread-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3878'>#</a></div><div class='texpara'><div id='stc.thread-1.sentence-1' class='sentence'>All variables declared with the <span id=':thread_local'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span> keyword have
<a class='hidden_link' href='#def:storage_duration,thread' title='6.7.5.3&emsp;Thread storage duration&emsp;[basic.stc.thread]'><span id='def:storage_duration,thread'><i >thread storage duration</i></span></a><a class='hidden_link' href='#stc.thread-1.sentence-1'>.</a></div> <div id='stc.thread-1.sentence-2' class='sentence'>The storage for these entities lasts for the duration of
the thread in which they are created<a class='hidden_link' href='#stc.thread-1.sentence-2'>.</a></div> <div id='stc.thread-1.sentence-3' class='sentence'>There is a distinct object or reference
per thread, and use of the declared name refers to the entity associated with
the current thread<a class='hidden_link' href='#stc.thread-1.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='stc.thread-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.thread-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3886'>#</a></div><div class='texpara'><div id='stc.thread-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.thread-note-1'>1</a></i>:&ensp;<div id='stc.thread-2.sentence-1' class='sentence'>A variable with thread storage duration is initialized as specified
in <a href='#start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>, <a href='#start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a>, and <a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a>
and, if constructed, is destroyed on thread exit (<a href='#start.term' title='6.9.3.4&emsp;Termination'>[basic.<span class='shy'></span>start.<span class='shy'></span>term]</a>)<a class='hidden_link' href='#stc.thread-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='stc.auto' class='section'><h4 ><a class='secnum' href='#stc.auto' style='min-width:95pt'>6.7.5.4</a> Automatic storage duration <a class='abbr_ref' href='basic.stc.auto'>[basic.stc.auto]</a></h4><div class='para' id='stc.auto-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3895'>#</a></div><div class='texpara'><div id='stc.auto-1.sentence-1' class='sentence'><a class='index' id=':storage_duration,local_object'></a>Variables that belong to a block or parameter scope and are
not explicitly declared <span id=':static____'><span class='texttt'><span class='keyword'>static</span></span></span>, <span id=':thread_local_'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span>, or <span id=':extern_____'><span class='texttt'><span class='keyword'>extern</span></span></span> have
<a class='hidden_link' href='#def:storage_duration,automatic' title='6.7.5.4&emsp;Automatic storage duration&emsp;[basic.stc.auto]'><span id='def:storage_duration,automatic'><i >automatic storage duration</i></span></a><a class='hidden_link' href='#stc.auto-1.sentence-1'>.</a></div> <div id='stc.auto-1.sentence-2' class='sentence'>The storage
for these entities lasts until the block in which they are created exits<a class='hidden_link' href='#stc.auto-1.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='stc.auto-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3902'>#</a></div><div class='texpara'><div id='stc.auto-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.auto-note-1'>1</a></i>:&ensp;<div id='stc.auto-2.sentence-1' class='sentence'>These variables are initialized and destroyed as described in <a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a><a class='hidden_link' href='#stc.auto-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='stc.auto-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3907'>#</a></div><div class='texpara'><div id='stc.auto-3.sentence-1' class='sentence'>If a variable with automatic storage duration has initialization or a destructor with side
effects, an implementation shall not destroy it before the end of its block
nor eliminate it as an optimization, even if it appears to be
unused, except that a class object or its copy/move may be eliminated as
specified in <a href='class.copy.elision' title='11.9.6&emsp;Copy/move elision'>[class.<span class='shy'></span>copy.<span class='shy'></span>elision]</a><a class='hidden_link' href='#stc.auto-3.sentence-1'>.</a></div></div></div></div><div id='stc.dynamic' class='section'><h4 ><a class='secnum' href='#stc.dynamic' style='min-width:95pt'>6.7.5.5</a> Dynamic storage duration <a class='abbr_ref' href='basic.stc.dynamic'>[basic.stc.dynamic]</a></h4><div id='stc.dynamic.general' class='section'><h4 ><a class='secnum' href='#stc.dynamic.general' style='min-width:110pt'>6.7.5.5.1</a> General <a class='abbr_ref' href='basic.stc.dynamic.general'>[basic.stc.dynamic.general]</a></h4><div class='texpara'><a class='index' id=':storage_duration,dynamic_'></a></div><div class='para' id='stc.dynamic.general-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3919'>#</a></div><div class='texpara'><div id='stc.dynamic.general-1.sentence-1' class='sentence'>Objects can be created dynamically during <a href='#intro.execution' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'>program
execution</a>, using
<a class='index' id=':new__'></a><a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression______'><span class='textsf'><i >new-expression</i></span></span></a><i >s</i> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>), and destroyed using
<a class='index' id=':delete'></a><a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression___'><span class='textsf'><i >delete-expression</i></span></span></a><i >s</i> (<a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>)<a class='hidden_link' href='#stc.dynamic.general-1.sentence-1'>.</a></div> <div id='stc.dynamic.general-1.sentence-2' class='sentence'>A C++ implementation
provides access to, and management of, dynamic storage via
the global <a class='hidden_link' href='#def:allocation_function' title='6.7.5.5.1&emsp;General&emsp;[basic.stc.dynamic.general]'><span id='def:allocation_function'><i >allocation functions</i></span></a>
<span class='texttt'><span id=':operator__'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new___'><span class='texttt'><span class='keyword'>new</span></span></span></span> and
<span class='texttt'><span id=':operator___'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new____'><span class='texttt'><span class='keyword'>new</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span> and
the global <a class='hidden_link' href='#def:deallocation_function' title='6.7.5.5.1&emsp;General&emsp;[basic.stc.dynamic.general]'><span id='def:deallocation_function'><i >deallocation functions</i></span></a>
<span class='texttt'><span id=':operator____'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete_'><span class='texttt'><span class='keyword'>delete</span></span></span></span> and
<span class='texttt'><span id=':operator_____'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete__'><span class='texttt'><span class='keyword'>delete</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#stc.dynamic.general-1.sentence-2'>.</a></div> <div id='stc.dynamic.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.dynamic.general-note-1'>1</a></i>:&ensp;<div id='stc.dynamic.general-1.sentence-3' class='sentence'>The non-allocating forms described in <a href='new.delete.placement' title='17.6.3.4&emsp;Non-allocating forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>placement]</a>
do not perform allocation or deallocation<a class='hidden_link' href='#stc.dynamic.general-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='stc.dynamic.general-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3938'>#</a></div><div class='texpara'><div id='stc.dynamic.general-2.sentence-1' class='sentence'>The library provides default definitions for the global allocation and
deallocation functions<a class='hidden_link' href='#stc.dynamic.general-2.sentence-1'>.</a></div> <div id='stc.dynamic.general-2.sentence-2' class='sentence'>Some global allocation and deallocation
functions are replaceable (<a href='new.delete' title='17.6.3&emsp;Storage allocation and deallocation'>[new.<span class='shy'></span>delete]</a>);
these are attached to the global module (<a href='module.unit' title='10.1&emsp;Module units and purviews'>[module.<span class='shy'></span>unit]</a>)<a class='hidden_link' href='#stc.dynamic.general-2.sentence-2'>.</a></div> <div id='stc.dynamic.general-2.sentence-3' class='sentence'>A C++ program shall
provide at most one definition of a replaceable allocation or
deallocation function<a class='hidden_link' href='#stc.dynamic.general-2.sentence-3'>.</a></div> <div id='stc.dynamic.general-2.sentence-4' class='sentence'>Any such function definition replaces the default
version provided in the library (<a href='replacement.functions' title='16.4.5.6&emsp;Replacement functions'>[replacement.<span class='shy'></span>functions]</a>)<a class='hidden_link' href='#stc.dynamic.general-2.sentence-4'>.</a></div> <div id='stc.dynamic.general-2.sentence-5' class='sentence'>The
following allocation and deallocation functions (<a href='support.dynamic' title='17.6&emsp;Dynamic memory management'>[support.<span class='shy'></span>dynamic]</a>)
are implicitly declared in global scope in each translation unit of a
program<a class='hidden_link' href='#stc.dynamic.general-2.sentence-5'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>)</span>;

<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

<span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>)</span>;

<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t, std<span class='operator'>::</span>align_val_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</span></div><div class='texpara'><div id='stc.dynamic.general-2.sentence-6' class='sentence'>These implicit declarations introduce only the function names
<span class='texttt'><span id=':operator______'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new_____'><span class='texttt'><span class='keyword'>new</span></span></span></span>,
<span class='texttt'><span id=':operator_______'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new______'><span class='texttt'><span class='keyword'>new</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
<span class='texttt'><span id=':operator________'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete___'><span class='texttt'><span class='keyword'>delete</span></span></span></span>, and
<span class='texttt'><span id=':operator_________'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete____'><span class='texttt'><span class='keyword'>delete</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#stc.dynamic.general-2.sentence-6'>.</a></div> <div id='stc.dynamic.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.dynamic.general-note-2'>2</a></i>:&ensp;<div id='stc.dynamic.general-2.sentence-7' class='sentence'>The implicit declarations do not introduce
the names <span class='texttt'>std</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span>,
or any other names that the library uses to
declare these names<a class='hidden_link' href='#stc.dynamic.general-2.sentence-7'>.</a></div> <div id='stc.dynamic.general-2.sentence-8' class='sentence'>Thus, a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_______'><span class='textsf'><i >new-expression</i></span></span></a>,
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression____'><span class='textsf'><i >delete-expression</i></span></span></a>, or function call that refers to one of
these functions without importing or including the header <a href='support.dynamic.general#header:%3cnew%3e' title='17.6.1&emsp;General&emsp;[support.dynamic.general]'><span id='headerref:<new>'><span class='texttt'>&lt;new&gt;</span></span></a>
or importing a C++ library module (<a href='std.modules' title='16.4.2.4&emsp;Modules'>[std.<span class='shy'></span>modules]</a>)
is well-formed<a class='hidden_link' href='#stc.dynamic.general-2.sentence-8'>.</a></div> <div id='stc.dynamic.general-2.sentence-9' class='sentence'>However, referring to <span class='texttt'>std</span>
or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span>
or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span>
is ill-formed unless
a standard library declaration (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>, <a href='new.syn' title='17.6.2&emsp;Header &lt;new&gt; synopsis'>[new.<span class='shy'></span>syn]</a>, <a href='std.modules' title='16.4.2.4&emsp;Modules'>[std.<span class='shy'></span>modules]</a>)
of that name precedes (<a href='#lookup.general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>) the use of that name<a class='hidden_link' href='#stc.dynamic.general-2.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='stc.dynamic.general-2.sentence-10' class='sentence'>
Allocation and/or
deallocation functions may also be declared and defined for any
class (<a href='class.free' title='11.4.11&emsp;Allocation and deallocation functions'>[class.<span class='shy'></span>free]</a>)<a class='hidden_link' href='#stc.dynamic.general-2.sentence-10'>.</a></div></div></div><div class='para' id='stc.dynamic.general-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L3995'>#</a></div><div class='texpara'><div id='stc.dynamic.general-3.sentence-1' class='sentence'>If the behavior of an allocation or deallocation function
does not satisfy the semantic constraints
specified in <a href='#stc.dynamic.allocation' title='6.7.5.5.2&emsp;Allocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>allocation]</a>
and <a href='#stc.dynamic.deallocation' title='6.7.5.5.3&emsp;Deallocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>deallocation]</a>,
the behavior is undefined<a class='hidden_link' href='#stc.dynamic.general-3.sentence-1'>.</a></div></div><div class='texpara'></div></div></div><div id='stc.dynamic.allocation' class='section'><h4 ><a class='secnum' href='#stc.dynamic.allocation' style='min-width:110pt'>6.7.5.5.2</a> Allocation functions <a class='abbr_ref' href='basic.stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a></h4><div class='para' id='stc.dynamic.allocation-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4006'>#</a></div><div class='texpara'><div id='stc.dynamic.allocation-1.sentence-1' class='sentence'><a class='index' id=':function,allocation'></a>An allocation function that is not a class member function
shall belong to the global scope and not have a name with internal linkage<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-2' class='sentence'>The return type shall be <span class='texttt'><span id=':void____'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span><a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-2'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-3' class='sentence'>The first
parameter shall have type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> (<a href='support.types' title='17.2&emsp;Common definitions'>[support.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-3'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-4' class='sentence'>The
first parameter shall not have an associated default
argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-4'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-5' class='sentence'>The value of the first parameter
is interpreted as the requested size of the allocation<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-5'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-6' class='sentence'>An allocation
function can be a function template<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-6'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-7' class='sentence'>Such a template shall declare its
return type and first parameter as specified above (that is, template
parameter types shall not be used in the return type and first parameter
type)<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-7'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-8' class='sentence'>Allocation function templates shall have two or more parameters<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-8'>.</a></div></div></div><div class='para' id='stc.dynamic.allocation-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4020'>#</a></div><div class='texpara'><div id='stc.dynamic.allocation-2.sentence-1' class='sentence'>An allocation function attempts to allocate the requested amount of
storage<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-2' class='sentence'>If it is successful, it returns the address of the start
of a block of storage whose length in bytes is at least as large
as the requested size<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-2'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-3' class='sentence'>The order,
contiguity, and initial value of storage allocated by successive calls
to an allocation function are unspecified<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-3'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-4' class='sentence'>Even if the size of the space
requested is zero, the request can fail<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-4'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-5' class='sentence'>If the request succeeds, the
value returned by a replaceable allocation function
is a non-null pointer value (<a href='#compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>)
<span class='texttt'>p0</span> different from any previously returned value <span class='texttt'>p1</span>,
unless that value <span class='texttt'>p1</span> was subsequently passed to a
replaceable deallocation function<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-5'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-6' class='sentence'>Furthermore, for the library allocation functions
in <a href='new.delete.single' title='17.6.3.2&emsp;Single-object forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>single]</a> and <a href='new.delete.array' title='17.6.3.3&emsp;Array forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>array]</a>,
<span class='texttt'>p0</span> represents the address of a block of storage disjoint from the storage
for any other object accessible to the caller<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-6'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-7' class='sentence'>The effect of indirecting through a pointer
returned from a request for zero size is undefined<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-7'>.</a><a class='footnoteref' href='#footnote-25' id='footnoteref-25' title='The intent is to have operator new() implementable by calling std&#x200b;::&#x200b;malloc() or std&#x200b;::&#x200b;calloc(), so the rules are substantially the same. C++ differs from C in requiring a zero request to return a non-null pointer.'>25</a></div></div></div><div class='para' id='stc.dynamic.allocation-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4049'>#</a></div><div class='texpara'><div id='stc.dynamic.allocation-3.sentence-1' class='sentence'>For an allocation function other than
a reserved placement allocation function (<a href='new.delete.placement' title='17.6.3.4&emsp;Non-allocating forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>placement]</a>),
the pointer returned on a successful call
shall represent the address of storage that is aligned as follows:
<ul class='itemize'><li id='stc.dynamic.allocation-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.dynamic.allocation-3.1'>(3.1)</a></div><div class='texpara'><div id='stc.dynamic.allocation-3.1.sentence-1' class='sentence'>If the allocation function takes an argument
  of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span>,
  the storage will have the alignment specified
  by the value of this argument<a class='hidden_link' href='#stc.dynamic.allocation-3.1.sentence-1'>.</a></div></div></li><li id='stc.dynamic.allocation-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.dynamic.allocation-3.2'>(3.2)</a></div><div class='texpara'><div id='stc.dynamic.allocation-3.2.sentence-1' class='sentence'>Otherwise, if the allocation function is named <span class='texttt'><span id=':operator___________'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new________'><span class='texttt'><span class='keyword'>new</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
  the storage is aligned for any object that
  does not have new-extended alignment (<a href='#align' title='6.7.6&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>) and
  is no larger than the requested size<a class='hidden_link' href='#stc.dynamic.allocation-3.2.sentence-1'>.</a></div></div></li><li id='stc.dynamic.allocation-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.dynamic.allocation-3.3'>(3.3)</a></div><div class='texpara'><div id='stc.dynamic.allocation-3.3.sentence-1' class='sentence'>Otherwise, the storage is aligned for any object that
  does not have new-extended alignment and is of the requested size<a class='hidden_link' href='#stc.dynamic.allocation-3.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='stc.dynamic.allocation-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4070'>#</a></div><div class='texpara'><div id='stc.dynamic.allocation-4.sentence-1' class='sentence'>An allocation function that fails to allocate storage can invoke the
currently installed new-handler function (<a href='new.handler' title='17.6.4.3&emsp;Type new_&shy;handler'>[new.<span class='shy'></span>handler]</a>), if any<a class='hidden_link' href='#stc.dynamic.allocation-4.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.dynamic.allocation-note-1'>1</a></i>:&ensp;<div id='stc.dynamic.allocation-4.sentence-2' class='sentence'><a class='index' id=':new_handler'></a>A program-supplied allocation function can obtain the
currently installed <span class='texttt'>new_<span class='shy'></span>handler</span> using the
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>get_<span class='shy'></span>new_<span class='shy'></span>handler</span> function (<a href='get.new.handler' title='17.6.4.5&emsp;get_&shy;new_&shy;handler'>[get.<span class='shy'></span>new.<span class='shy'></span>handler]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='stc.dynamic.allocation-4.sentence-3' class='sentence'>
An allocation function that has a non-throwing
exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)
indicates failure by returning
a null pointer value<a class='hidden_link' href='#stc.dynamic.allocation-4.sentence-3'>.</a></div> <div id='stc.dynamic.allocation-4.sentence-4' class='sentence'>Any other allocation function
never returns a null pointer value and
indicates failure only by throwing an exception (<a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a>) of a type
that would match a handler (<a href='except.handle' title='14.4&emsp;Handling an exception'>[except.<span class='shy'></span>handle]</a>) of type
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>bad_<span class='shy'></span>alloc</span> (<a href='bad.alloc' title='17.6.4.1&emsp;Class bad_&shy;alloc'>[bad.<span class='shy'></span>alloc]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-4.sentence-4'>.</a></div></div></div><div class='para' id='stc.dynamic.allocation-5'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4089'>#</a></div><div class='texpara'><div id='stc.dynamic.allocation-5.sentence-1' class='sentence'>A global allocation function is only called as the result of a <a href='expr.new' title='7.6.2.8&emsp;New&emsp;[expr.new]'>new
expression</a>, or called directly using the <a href='expr.call' title='7.6.1.3&emsp;Function call&emsp;[expr.call]'>function call</a>
syntax, or called indirectly to allocate storage for
a coroutine state (<a href='dcl.fct.def.coroutine' title='9.5.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>),
or called indirectly through calls to the
functions in the C++ standard library<a class='hidden_link' href='#stc.dynamic.allocation-5.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.dynamic.allocation-note-2'>2</a></i>:&ensp;<div id='stc.dynamic.allocation-5.sentence-2' class='sentence'>In particular, a
global allocation function is not called to allocate storage for objects
with <a href='#stc.static' title='6.7.5.2&emsp;Static storage duration&emsp;[basic.stc.static]'>static storage duration</a>, for objects or references
with <a href='#stc.thread' title='6.7.5.3&emsp;Thread storage duration&emsp;[basic.stc.thread]'>thread storage duration</a>, for objects of
type <a href='expr.typeid' title='7.6.1.8&emsp;Type identification&emsp;[expr.typeid]'><span class='texttt'>std&#x200b;::&#x200b;type_<span class='shy'></span>info</span></a>, or for an
<a href='except.throw' title='14.2&emsp;Throwing an exception&emsp;[except.throw]'>exception object</a><a class='hidden_link' href='#stc.dynamic.allocation-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-25'><div class='texpara'><a class='footnotenum' href='#footnote-25'>25)</a><a class='footnoteBacklink' href='#footnoteref-25'>25)</a> <div id='footnote-25.sentence-1' class='sentence'>The intent is
to have <span class='texttt'><span id=':operator__________'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new_______'><span class='texttt'><span class='keyword'>new</span></span></span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> implementable by
calling <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>malloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>calloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, so the rules are
substantially the same<a class='hidden_link' href='#footnote-25.sentence-1'>.</a></div> <div id='footnote-25.sentence-2' class='sentence'>C++ differs from C in requiring a zero request
to return a non-null pointer<a class='hidden_link' href='#footnote-25.sentence-2'>.</a></div></div></div></div><div id='stc.dynamic.deallocation' class='section'><h4 ><a class='secnum' href='#stc.dynamic.deallocation' style='min-width:110pt'>6.7.5.5.3</a> Deallocation functions <a class='abbr_ref' href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a></h4><div class='para' id='stc.dynamic.deallocation-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4107'>#</a></div><div class='texpara'><div id='stc.dynamic.deallocation-1.sentence-1' class='sentence'><a class='index' id=':function,deallocation'></a>A deallocation function that is not a class member function
shall belong to the global scope and not have a name with internal linkage<a class='hidden_link' href='#stc.dynamic.deallocation-1.sentence-1'>.</a></div></div></div><div class='para' id='stc.dynamic.deallocation-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4112'>#</a></div><div class='texpara'><div id='stc.dynamic.deallocation-2.sentence-1' class='sentence'>A deallocation function
is a <a class='hidden_link' href='#def:operator_delete,destroying' title='6.7.5.5.3&emsp;Deallocation functions&emsp;[basic.stc.dynamic.deallocation]'><span id='def:operator_delete,destroying'><i >destroying operator delete</i></span></a>
if it has at least two parameters
and its second parameter
is of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>destroying_<span class='shy'></span>delete_<span class='shy'></span>t</span><a class='hidden_link' href='#stc.dynamic.deallocation-2.sentence-1'>.</a></div> <div id='stc.dynamic.deallocation-2.sentence-2' class='sentence'>A destroying operator delete
shall be a class member function named <span class='texttt'><span id=':operator______________'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete______'><span class='texttt'><span class='keyword'>delete</span></span></span></span><a class='hidden_link' href='#stc.dynamic.deallocation-2.sentence-2'>.</a></div> <div id='stc.dynamic.deallocation-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#stc.dynamic.deallocation-note-1'>1</a></i>:&ensp;<div id='stc.dynamic.deallocation-2.sentence-3' class='sentence'>Array deletion cannot use a destroying operator delete<a class='hidden_link' href='#stc.dynamic.deallocation-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='stc.dynamic.deallocation-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4124'>#</a></div><div class='texpara'><div id='stc.dynamic.deallocation-3.sentence-1' class='sentence'><a class='index' id=':delete,overloading_and'></a>Each deallocation function shall return <span id=':void_______'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-1'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-2' class='sentence'>If the function is a destroying operator delete
declared in class type <span class='texttt'>C</span>,
the type of its first parameter shall be <span class='texttt'>C<span class='operator'>*</span></span>;
otherwise, the type of its first
parameter shall be <span class='texttt'><span id=':void________'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span><a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-2'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-3' class='sentence'>A deallocation function may have more
than one parameter<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-3'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-4' class='sentence'><a class='index' id=':deallocation_function,usual'></a>A <a class='hidden_link' href='#def:usual_deallocation_function' title='6.7.5.5.3&emsp;Deallocation functions&emsp;[basic.stc.dynamic.deallocation]'><span id='def:usual_deallocation_function'><i >usual deallocation function</i></span></a> is a deallocation function
whose parameters after the first are
<ul class='itemize'><li id='stc.dynamic.deallocation-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.dynamic.deallocation-3.1'>(3.1)</a></div>optionally, a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>destroying_<span class='shy'></span>delete_<span class='shy'></span>t</span>, then</li><li id='stc.dynamic.deallocation-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.dynamic.deallocation-3.2'>(3.2)</a></div>optionally, a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span>,<a class='footnoteref' href='#footnote-26' id='footnoteref-26' title='The global operator delete(void*, std&#x200b;::&#x200b;size_&shy;t) precludes use of an allocation function void operator new(std&#x200b;::&#x200b;size_&shy;t, std&#x200b;::&#x200b;size_&shy;t) as a placement allocation function ([diff.cpp11.basic]).'>26</a>
then</li><li id='stc.dynamic.deallocation-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#stc.dynamic.deallocation-3.3'>(3.3)</a></div>optionally, a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_<span class='shy'></span>val_<span class='shy'></span>t</span><a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-4'>.</a></li></ul></div> <div id='stc.dynamic.deallocation-3.sentence-5' class='sentence'>
A destroying operator delete shall be a usual deallocation function<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-5'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-6' class='sentence'>A deallocation function may be an instance of a function
template<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-6'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-7' class='sentence'>Neither the first parameter nor the return type shall depend
on a template parameter<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-7'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-8' class='sentence'>A deallocation
function template shall have two or more function parameters<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-8'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-9' class='sentence'>A template
instance is never a usual deallocation function, regardless of its
signature<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-9'>.</a></div></div></div><div class='para' id='stc.dynamic.deallocation-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4160'>#</a></div><div class='texpara'><div id='stc.dynamic.deallocation-4.sentence-1' class='sentence'>If a deallocation function terminates by throwing an exception, the behavior is undefined<a class='hidden_link' href='#stc.dynamic.deallocation-4.sentence-1'>.</a></div> <div id='stc.dynamic.deallocation-4.sentence-2' class='sentence'>The value of the first argument supplied to a deallocation function may
be a null pointer value; if so, and if the deallocation function is one
supplied in the standard library, the call has no effect<a class='hidden_link' href='#stc.dynamic.deallocation-4.sentence-2'>.</a></div></div></div><div class='para' id='stc.dynamic.deallocation-5'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4166'>#</a></div><div class='texpara'><div id='stc.dynamic.deallocation-5.sentence-1' class='sentence'>If the argument given to a deallocation function in the standard library
is a pointer that is not the null pointer value (<a href='#compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>), the
deallocation function shall deallocate the storage referenced by the
pointer, ending the duration of the region of storage<a class='hidden_link' href='#stc.dynamic.deallocation-5.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-26'><div class='texpara'><a class='footnotenum' href='#footnote-26'>26)</a><a class='footnoteBacklink' href='#footnoteref-26'>26)</a> <div id='footnote-26.sentence-1' class='sentence'>The global <span class='texttt'><span id=':operator____________'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':delete_____'><span class='texttt'><span class='keyword'>delete</span></span></span><span class='parenthesis'>(</span><span id=':void_____'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span>, std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t<span class='parenthesis'>)</span></span>
precludes use of an
allocation function <span class='texttt'><span id=':void______'><span class='texttt'><span class='keyword'>void</span></span></span> <span id=':operator_____________'><span class='texttt'><span class='keyword'>operator</span></span></span> <span id=':new_________'><span class='texttt'><span class='keyword'>new</span></span></span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t, std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t<span class='parenthesis'>)</span></span> as a placement
allocation function (<a href='diff.cpp11.basic' title='C.5.3&emsp;[basic]: basics'>[diff.<span class='shy'></span>cpp11.<span class='shy'></span>basic]</a>)<a class='hidden_link' href='#footnote-26.sentence-1'>.</a></div></div></div></div></div><div id='stc.inherit' class='section'><h4 ><a class='secnum' href='#stc.inherit' style='min-width:95pt'>6.7.5.6</a> Duration of subobjects <a class='abbr_ref' href='basic.stc.inherit'>[basic.stc.inherit]</a></h4><div class='para' id='stc.inherit-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.inherit-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4174'>#</a></div><div class='texpara'><div id='stc.inherit-1.sentence-1' class='sentence'><a class='index' id=':storage_duration,class_member'></a>The storage duration of subobjects and reference members
is that of their complete object (<a href='#intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)<a class='hidden_link' href='#stc.inherit-1.sentence-1'>.</a></div> </div></div></div></div><div id='align' class='section'><h3 ><a class='secnum' href='#align' style='min-width:80pt'>6.7.6</a> Alignment <a class='abbr_ref' href='basic.align'>[basic.align]</a></h3><div class='para' id='align-1'><div class='marginalizedparent'><a class='marginalized' href='#align-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4182'>#</a></div><div class='texpara'><div id='align-1.sentence-1' class='sentence'>Object types have <a class='hidden_link' href='#def:alignment_requirement,implementation-defined' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment_requirement,implementation-defined'><i >alignment requirements</i></span></a> (<a href='#fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>, <a href='#compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>)
which place restrictions on the addresses at which an object of that type
may be allocated<a class='hidden_link' href='#align-1.sentence-1'>.</a></div> <div id='align-1.sentence-2' class='sentence'>An <a class='hidden_link' href='#def:alignment' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment'><i >alignment</i></span></a> is an <a class='index' id=':alignment'></a>implementation-defined
integer value representing the number of bytes between successive addresses
at which a given object can be allocated<a class='hidden_link' href='#align-1.sentence-2'>.</a></div> <div id='align-1.sentence-3' class='sentence'>An object type imposes an alignment
requirement on every object of that type; stricter alignment can be requested
using the <a href='dcl.align' title='9.12.2&emsp;Alignment specifier&emsp;[dcl.align]'>alignment specifier</a><a class='hidden_link' href='#align-1.sentence-3'>.</a></div> <div id='align-1.sentence-4' class='sentence'>Attempting to create an object (<a href='#intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) in storage that
does not meet the alignment requirements of the object's type
is undefined behavior<a class='hidden_link' href='#align-1.sentence-4'>.</a></div></div></div><div class='para' id='align-2'><div class='marginalizedparent'><a class='marginalized' href='#align-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4194'>#</a></div><div class='texpara'><div id='align-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:alignment,fundamental' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment,fundamental'><i >fundamental alignment</i></span></a> is represented by an alignment
less than or equal to the greatest alignment supported by the implementation in
all contexts, which is equal to
<span class='texttt'><span id=':alignof_'><span class='texttt'><span class='keyword'>alignof</span></span></span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>max_<span class='shy'></span>align_<span class='shy'></span>t<span class='parenthesis'>)</span></span> (<a href='support.types' title='17.2&emsp;Common definitions'>[support.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#align-2.sentence-1'>.</a></div> <div id='align-2.sentence-2' class='sentence'>The alignment required for a type may be different when it is used as the type
of a complete object and when it is used as the type of a subobject<a class='hidden_link' href='#align-2.sentence-2'>.</a></div> <div id='align-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#align-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>long</span> <span class='keyword'>double</span> d; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>virtual</span> B <span class='curlybracket'>{</span> <span class='keyword'>char</span> c; <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='align-2.sentence-3' class='sentence'>When <span class='texttt'>D</span> is the type of a complete object, it will have a subobject of
type <span class='texttt'>B</span>, so it must be aligned appropriately for a <span class='texttt'><span id=':long'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':double'><span class='texttt'><span class='keyword'>double</span></span></span></span><a class='hidden_link' href='#align-2.sentence-3'>.</a></div> <div id='align-2.sentence-4' class='sentence'>If <span class='texttt'>D</span> appears as a subobject of another object that also has <span class='texttt'>B</span>
as a virtual base class, the <span class='texttt'>B</span> subobject might be part of a different
subobject, reducing the alignment requirements on the <span class='texttt'>D</span> subobject<a class='hidden_link' href='#align-2.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='align-2.sentence-5' class='sentence'>
The result of the <span id=':alignof__'><span class='texttt'><span class='keyword'>alignof</span></span></span> operator reflects the alignment
requirement of the type in the complete-object case<a class='hidden_link' href='#align-2.sentence-5'>.</a></div></div></div><div class='para' id='align-3'><div class='marginalizedparent'><a class='marginalized' href='#align-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4216'>#</a></div><div class='texpara'><div id='align-3.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:alignment,extended' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment,extended'><i >extended alignment</i></span></a> is represented by an alignment
greater than <span class='texttt'><span id=':alignof___'><span class='texttt'><span class='keyword'>alignof</span></span></span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>max_<span class='shy'></span>align_<span class='shy'></span>t<span class='parenthesis'>)</span></span><a class='hidden_link' href='#align-3.sentence-1'>.</a></div> <div id='align-3.sentence-2' class='sentence'>It is <a class='index' id=':support_for_extended_alignments'></a>implementation-defined
whether any extended alignments are supported and the contexts in which they are
supported (<a href='dcl.align' title='9.12.2&emsp;Alignment specifier'>[dcl.<span class='shy'></span>align]</a>)<a class='hidden_link' href='#align-3.sentence-2'>.</a></div> <div id='align-3.sentence-3' class='sentence'>A type having an extended alignment
requirement is an <a class='hidden_link' href='#def:type,over-aligned' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:type,over-aligned'><i >over-aligned type</i></span></a><a class='hidden_link' href='#align-3.sentence-3'>.</a></div> <div id='align-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#align-note-1'>1</a></i>:&ensp;<div id='align-3.sentence-4' class='sentence'>Every over-aligned type is or contains a class type
to which extended alignment applies (possibly through a non-static data member)<a class='hidden_link' href='#align-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='align-3.sentence-5' class='sentence'>
A <a class='hidden_link' href='#def:alignment,new-extended' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment,new-extended'><i >new-extended alignment</i></span></a> is represented by
an alignment greater than <span class='texttt'>__STDCPP_<span class='shy'></span>DEFAULT_<span class='shy'></span>NEW_<span class='shy'></span>ALIGNMENT__</span> (<a href='cpp.predefined' title='15.11&emsp;Predefined macro names'>[cpp.<span class='shy'></span>predefined]</a>)<a class='hidden_link' href='#align-3.sentence-5'>.</a></div></div></div><div class='para' id='align-4'><div class='marginalizedparent'><a class='marginalized' href='#align-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4229'>#</a></div><div class='texpara'><div id='align-4.sentence-1' class='sentence'>Alignments are represented as values of the type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span><a class='hidden_link' href='#align-4.sentence-1'>.</a></div> <div id='align-4.sentence-2' class='sentence'>Valid alignments include only those values returned by an <span id=':alignof____'><span class='texttt'><span class='keyword'>alignof</span></span></span>
expression for the fundamental types plus an additional <a class='index' id=':alignment_additional_values'></a>implementation-defined
set of values, which may be empty<a class='hidden_link' href='#align-4.sentence-2'>.</a></div> <div id='align-4.sentence-3' class='sentence'>Every alignment value shall be a non-negative integral power of two<a class='hidden_link' href='#align-4.sentence-3'>.</a></div></div></div><div class='para' id='align-5'><div class='marginalizedparent'><a class='marginalized' href='#align-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4237'>#</a></div><div class='texpara'><div id='align-5.sentence-1' class='sentence'>Alignments have an order from <a class='hidden_link' href='#def:alignment,weaker' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment,weaker'><i >weaker</i></span></a> to
<a class='hidden_link' href='#def:alignment,stronger' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment,stronger'><i >stronger</i></span></a> or <a class='hidden_link' href='#def:alignment,stricter' title='6.7.6&emsp;Alignment&emsp;[basic.align]'><span id='def:alignment,stricter'><i >stricter</i></span></a> alignments<a class='hidden_link' href='#align-5.sentence-1'>.</a></div> <div id='align-5.sentence-2' class='sentence'>Stricter
alignments have larger alignment values<a class='hidden_link' href='#align-5.sentence-2'>.</a></div> <div id='align-5.sentence-3' class='sentence'>An address that satisfies an alignment
requirement also satisfies any weaker valid alignment requirement<a class='hidden_link' href='#align-5.sentence-3'>.</a></div></div></div><div class='para' id='align-6'><div class='marginalizedparent'><a class='marginalized' href='#align-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4243'>#</a></div><div class='texpara'><div id='align-6.sentence-1' class='sentence'>The alignment requirement of a complete type can be queried using an
<span id=':alignof_____'><span class='texttt'><span class='keyword'>alignof</span></span></span> expression (<a href='expr.alignof' title='7.6.2.6&emsp;Alignof'>[expr.<span class='shy'></span>alignof]</a>)<a class='hidden_link' href='#align-6.sentence-1'>.</a></div> <div id='align-6.sentence-2' class='sentence'>Furthermore,
the narrow character types (<a href='#fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>) shall have the weakest
alignment requirement<a class='hidden_link' href='#align-6.sentence-2'>.</a></div> <div id='align-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#align-note-2'>2</a></i>:&ensp;<div id='align-6.sentence-3' class='sentence'>This enables the ordinary character types to be used as the
underlying type for an aligned memory area (<a href='dcl.align' title='9.12.2&emsp;Alignment specifier'>[dcl.<span class='shy'></span>align]</a>)<a class='hidden_link' href='#align-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='align-7'><div class='marginalizedparent'><a class='marginalized' href='#align-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4253'>#</a></div><div class='texpara'><div id='align-7.sentence-1' class='sentence'>Comparing alignments is meaningful and provides the obvious results:
<ul class='itemize'><li id='align-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#align-7.1'>(7.1)</a></div><div class='texpara'><div id='align-7.1.sentence-1' class='sentence'>Two alignments are equal when their numeric values are equal<a class='hidden_link' href='#align-7.1.sentence-1'>.</a></div></div></li><li id='align-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#align-7.2'>(7.2)</a></div><div class='texpara'><div id='align-7.2.sentence-1' class='sentence'>Two alignments are different when their numeric values are not equal<a class='hidden_link' href='#align-7.2.sentence-1'>.</a></div></div></li><li id='align-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#align-7.3'>(7.3)</a></div><div class='texpara'><div id='align-7.3.sentence-1' class='sentence'>When an alignment is larger than another it represents a stricter alignment<a class='hidden_link' href='#align-7.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para nonNormativeOnly' id='align-8'><div class='marginalizedparent'><a class='marginalized' href='#align-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4261'>#</a></div><div class='texpara'><div id='align-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#align-note-3'>3</a></i>:&ensp;<div id='align-8.sentence-1' class='sentence'>The runtime pointer alignment function (<a href='ptr.align' title='20.2.5&emsp;Pointer alignment'>[ptr.<span class='shy'></span>align]</a>)
can be used to obtain an aligned pointer within a buffer;
an <a href='dcl.attr.grammar#nt:alignment-specifier' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:alignment-specifier'><span class='textsf'><i >alignment-specifier</i></span></span></a> (<a href='dcl.align' title='9.12.2&emsp;Alignment specifier'>[dcl.<span class='shy'></span>align]</a>)
can be used to align storage explicitly<a class='hidden_link' href='#align-8.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='align-9'><div class='marginalizedparent'><a class='marginalized' href='#align-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4269'>#</a></div><div class='texpara'><div id='align-9.sentence-1' class='sentence'>If a request for a specific extended alignment in a specific context is not
supported by an implementation, the program is ill-formed<a class='hidden_link' href='#align-9.sentence-1'>.</a></div></div></div></div><div id='class.temporary' class='section'><h3 ><a class='secnum' href='#class.temporary' style='min-width:80pt'>6.7.7</a> Temporary objects <a class='abbr_ref' href='class.temporary'>[class.temporary]</a></h3><div class='para' id='class.temporary-1'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4275'>#</a></div><div class='texpara'><div id='class.temporary-1.sentence-1' class='sentence'><a class='index' id=':temporary'></a><a class='index' id=':temporary,elimination_of'></a><a class='index' id=':temporary,implementation-defined_generation_of'></a>Temporary objects are created
<ul class='itemize'><li id='class.temporary-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-1.1'>(1.1)</a></div>when a prvalue is converted to an xvalue (<a href='conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>),</li><li id='class.temporary-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-1.2'>(1.2)</a></div>when needed by the implementation to pass or return an object of trivially copyable type (see below),
and</li><li id='class.temporary-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-1.3'>(1.3)</a></div>when throwing an exception (<a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a>)<a class='hidden_link' href='#class.temporary-1.sentence-1'>.</a> <div class='texpara'><div id='class.temporary-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.temporary-note-1'>1</a></i>:&ensp;<div id='class.temporary-1.3.sentence-2' class='sentence'>The lifetime of exception objects is described in <a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a><a class='hidden_link' href='#class.temporary-1.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='class.temporary-1.sentence-2' class='sentence'>
Even when the creation of the temporary object is
unevaluated (<a href='expr.context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>),
all the semantic restrictions shall be respected as if the temporary object
had been created and later destroyed<a class='hidden_link' href='#class.temporary-1.sentence-2'>.</a></div> <div id='class.temporary-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.temporary-note-2'>2</a></i>:&ensp;<div id='class.temporary-1.sentence-3' class='sentence'>This includes accessibility (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) and whether it is deleted,
for the constructor selected and for the destructor<a class='hidden_link' href='#class.temporary-1.sentence-3'>.</a></div> <div id='class.temporary-1.sentence-4' class='sentence'>However, in the special
case of the operand of a
<a href='dcl.type.decltype#nt:decltype-specifier' title='9.2.9.6&emsp;Decltype specifiers&emsp;[dcl.type.decltype]'><span id='ntref:decltype-specifier'><span class='textsf'><i >decltype-specifier</i></span></span></a> (<a href='dcl.type.decltype' title='9.2.9.6&emsp;Decltype specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>decltype]</a>), no temporary is introduced,
so the foregoing does not apply to such a prvalue<a class='hidden_link' href='#class.temporary-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.temporary-2'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4306'>#</a></div><div class='texpara'><div id='class.temporary-2.sentence-1' class='sentence'>The materialization of a temporary object is generally
delayed as long as possible
in order to avoid creating unnecessary temporary objects<a class='hidden_link' href='#class.temporary-2.sentence-1'>.</a></div> <div id='class.temporary-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.temporary-note-3'>3</a></i>:&ensp;<div id='class.temporary-2.sentence-2' class='sentence'>Temporary objects are materialized:
<ul class='itemize'><li id='class.temporary-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-2.1'>(2.1)</a></div>when binding a reference to a prvalue (<a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>, <a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>),</li><li id='class.temporary-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-2.2'>(2.2)</a></div>when performing member access on a class prvalue (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <a href='expr.mptr.oper' title='7.6.4&emsp;Pointer-to-member operators'>[expr.<span class='shy'></span>mptr.<span class='shy'></span>oper]</a>),</li><li id='class.temporary-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-2.3'>(2.3)</a></div>when performing an array-to-pointer conversion or subscripting on an array prvalue (<a href='conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>, <a href='expr.sub' title='7.6.1.2&emsp;Subscripting'>[expr.<span class='shy'></span>sub]</a>),</li><li id='class.temporary-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-2.4'>(2.4)</a></div>when initializing an object of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_<span class='shy'></span>list<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> from a <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a> (<a href='dcl.init.list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>),</li><li id='class.temporary-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-2.5'>(2.5)</a></div>for certain unevaluated operands (<a href='expr.typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>, <a href='expr.sizeof' title='7.6.2.5&emsp;Sizeof'>[expr.<span class='shy'></span>sizeof]</a>), and</li><li id='class.temporary-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-2.6'>(2.6)</a></div>when a prvalue that has type other than <span class='mathit'>cv</span> <span id=':void_________'><span class='texttt'><span class='keyword'>void</span></span></span> appears as a discarded-value expression (<a href='expr.context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)<a class='hidden_link' href='#class.temporary-2.sentence-2'>.</a></li></ul></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.temporary-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.temporary-example-1'>1</a></i>:&ensp;<div id='class.temporary-2.sentence-3' class='sentence'>Consider the following code:
<span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  Y<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

X f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
Y g<span class='parenthesis'>(</span>Y<span class='parenthesis'>)</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
  X b <span class='operator'>=</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  Y c <span class='operator'>=</span> g<span class='parenthesis'>(</span>Y<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  a <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div></div><div class='texpara'><div id='class.temporary-2.sentence-4' class='sentence'><a class='index' id=':constructor,copy'></a><span class='texttt'>X<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span></span> is constructed in the space used to hold <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>'s argument and
<span class='texttt'>Y<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span></span> is constructed in the space used to hold <span class='texttt'>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>'s argument<a class='hidden_link' href='#class.temporary-2.sentence-4'>.</a></div> <div id='class.temporary-2.sentence-5' class='sentence'>Likewise,
<span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>'s result is constructed directly in <span class='texttt'>b</span> and
<span class='texttt'>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>'s result is constructed directly in <span class='texttt'>c</span><a class='hidden_link' href='#class.temporary-2.sentence-5'>.</a></div> <div id='class.temporary-2.sentence-6' class='sentence'>On the other hand, the expression
<span class='texttt'>a <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span></span>
requires a temporary for
the result of <span class='texttt'>f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span></span>,
which is materialized so that the reference parameter
of <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> can bind to it<a class='hidden_link' href='#class.temporary-2.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.temporary-3'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4372'>#</a></div><div class='texpara'><div id='class.temporary-3.sentence-1' class='sentence'>When an object of class type <span class='texttt'>X</span>
is passed to or returned from a function,
if <span class='texttt'>X</span> has at least one eligible copy or move constructor (<a href='special' title='11.4.4&emsp;Special member functions'>[special]</a>),
each such constructor is trivial,
and the destructor of <span class='texttt'>X</span> is either trivial or deleted,
implementations are permitted
to create a temporary object
to hold the function parameter or result object<a class='hidden_link' href='#class.temporary-3.sentence-1'>.</a></div> <div id='class.temporary-3.sentence-2' class='sentence'>The temporary object is constructed
from the function argument or return value, respectively,
and the function's parameter or return object
is initialized as if by
using the eligible trivial constructor to copy the temporary
(even if that constructor is inaccessible
or would not be selected by overload resolution
to perform a copy or move of the object)<a class='hidden_link' href='#class.temporary-3.sentence-2'>.</a></div> <div id='class.temporary-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.temporary-note-4'>4</a></i>:&ensp;<div id='class.temporary-3.sentence-3' class='sentence'>This latitude is granted to allow objects of class type to be passed to or returned from functions in registers<a class='hidden_link' href='#class.temporary-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.temporary-4'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4393'>#</a></div><div class='texpara'><div id='class.temporary-4.sentence-1' class='sentence'><a class='index' id=':temporary,constructor_for'></a><a class='index' id=':temporary,destructor_for'></a><a class='index' id=':temporary,destruction_of'></a>When an implementation introduces a temporary object of a class that has a
non-trivial constructor (<a href='class.default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>, <a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
it shall ensure that a constructor is called for the temporary object<a class='hidden_link' href='#class.temporary-4.sentence-1'>.</a></div> <div id='class.temporary-4.sentence-2' class='sentence'>Similarly, the destructor shall be called for a temporary with a non-trivial
destructor (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#class.temporary-4.sentence-2'>.</a></div> <div id='class.temporary-4.sentence-3' class='sentence'>Temporary objects are destroyed as the last step
in evaluating
the full-expression (<a href='#intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)
that (lexically) contains the point where
they were created<a class='hidden_link' href='#class.temporary-4.sentence-3'>.</a></div> <div id='class.temporary-4.sentence-4' class='sentence'>This is true even if that evaluation ends in throwing an exception<a class='hidden_link' href='#class.temporary-4.sentence-4'>.</a></div> <div id='class.temporary-4.sentence-5' class='sentence'>The
<a class='index' id=':value_computation'></a>value computations and
<a class='index' id=':side_effects'></a>side effects of destroying a temporary object
are associated only with the full-expression, not with any specific
subexpression<a class='hidden_link' href='#class.temporary-4.sentence-5'>.</a></div></div></div><div class='para' id='class.temporary-5'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4416'>#</a></div><div class='texpara'><div id='class.temporary-5.sentence-1' class='sentence'><a class='index' id=':initializer,temporary_and_declarator'></a><a class='index' id=':temporary,order_of_destruction_of'></a>There are four contexts in which temporaries are destroyed at a different
point than the end of the full-expression<a class='hidden_link' href='#class.temporary-5.sentence-1'>.</a></div> <div id='class.temporary-5.sentence-2' class='sentence'>The first context is when a default constructor is called to initialize
an element of an array with no corresponding initializer (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.temporary-5.sentence-2'>.</a></div> <div id='class.temporary-5.sentence-3' class='sentence'>The second context is when a copy constructor is called to copy an element of
an array while the entire array is copied (<a href='expr.prim.lambda.capture' title='7.5.5.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>, <a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#class.temporary-5.sentence-3'>.</a></div> <div id='class.temporary-5.sentence-4' class='sentence'>In either case, if the constructor has one or more default arguments,
the destruction of every temporary created in a default argument is
sequenced before the construction of the next array element, if any<a class='hidden_link' href='#class.temporary-5.sentence-4'>.</a></div></div></div><div class='para' id='class.temporary-6'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4429'>#</a></div><div class='texpara'><div id='class.temporary-6.sentence-1' class='sentence'>The third context is when a reference binds to a temporary object<a class='hidden_link' href='#class.temporary-6.sentence-1'>.</a><a class='footnoteref' href='#footnote-27' id='footnoteref-27' title='The same rules apply to initialization of an initializer_&shy;list object ([dcl.init.list]) with its underlying temporary array.'>27</a></div> <div id='class.temporary-6.sentence-2' class='sentence'>
The temporary object to which the reference is bound or the temporary object
that is the complete object of a subobject to which the reference is bound
persists for the lifetime of the reference if the glvalue
to which the reference is bound
was obtained through one of the following:
<ul class='itemize'><li id='class.temporary-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.1'>(6.1)</a></div>a temporary materialization conversion (<a href='conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>),</li><li id='class.temporary-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.2'>(6.2)</a></div><span class='texttt'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><i >expression</i></span></span></a> <span class='texttt'><span class='parenthesis'>)</span></span>,
  where <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_'><span class='textsf'><i >expression</i></span></span></a> is one of these expressions,</li><li id='class.temporary-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.3'>(6.3)</a></div>subscripting (<a href='expr.sub' title='7.6.1.2&emsp;Subscripting'>[expr.<span class='shy'></span>sub]</a>) of an array operand,
  where that operand is one of these expressions,</li><li id='class.temporary-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.4'>(6.4)</a></div>a class member access (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) using the <span class='texttt'><span class='operator'>.</span></span> operator
  where the left operand is one of these expressions and
  the right operand designates a non-static data member of non-reference type,</li><li id='class.temporary-6.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.5'>(6.5)</a></div>a pointer-to-member operation (<a href='expr.mptr.oper' title='7.6.4&emsp;Pointer-to-member operators'>[expr.<span class='shy'></span>mptr.<span class='shy'></span>oper]</a>) using the <span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span> operator
  where the left operand is one of these expressions and
  the right operand is a pointer to data member of non-reference type,</li><li id='class.temporary-6.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.6'>(6.6)</a></div>a
  <ul class='itemize'><li id='class.temporary-6.6.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#class.temporary-6.6.1'>(6.6.1)</a></div><span id=':const_cast'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> (<a href='expr.const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>),</li><li id='class.temporary-6.6.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#class.temporary-6.6.2'>(6.6.2)</a></div><span id=':static_cast__'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>),</li><li id='class.temporary-6.6.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#class.temporary-6.6.3'>(6.6.3)</a></div><span id=':dynamic_cast___'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> (<a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>), or</li><li id='class.temporary-6.6.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#class.temporary-6.6.4'>(6.6.4)</a></div><span id=':reinterpret_cast'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> (<a href='expr.reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>)</li></ul>
  converting, without a user-defined conversion,
  a glvalue operand that is one of these expressions
  to a glvalue that refers
  to the object designated by the operand, or
  to its complete object or a subobject thereof,</li><li id='class.temporary-6.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.7'>(6.7)</a></div>a conditional expression (<a href='expr.cond' title='7.6.16&emsp;Conditional operator'>[expr.<span class='shy'></span>cond]</a>) that is a glvalue
  where the second or third operand is one of these expressions, or</li><li id='class.temporary-6.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.8'>(6.8)</a></div>a comma expression (<a href='expr.comma' title='7.6.20&emsp;Comma operator'>[expr.<span class='shy'></span>comma]</a>) that is a glvalue
  where the right operand is one of these expressions<a class='hidden_link' href='#class.temporary-6.sentence-2'>.</a></li></ul></div> <div id='class.temporary-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.temporary-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> id <span class='operator'>=</span> T;

<span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>1</span>;
<span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> a <span class='operator'>=</span> id<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span><span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span><span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;           <span class='comment'>// temporary array has same lifetime as <span class='tcode_in_codeblock'>a</span></span>
<span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> b <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;  <span class='comment'>// temporary <span class='tcode_in_codeblock'>int</span> has same lifetime as <span class='tcode_in_codeblock'>b</span></span>
<span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> c <span class='operator'>=</span> cond <span class='operator'>?</span> id<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span><span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span><span class='squarebracket'>[</span>i<span class='squarebracket'>]</span> <span class='operator'>:</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
                                            <span class='comment'>// exactly one of the two temporaries is lifetime-extended</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='class.temporary-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.temporary-note-5'>5</a></i>:&ensp;<div id='class.temporary-6.sentence-3' class='sentence'>An explicit type conversion (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>)
is interpreted as
a sequence of elementary casts,
covered above<a class='hidden_link' href='#class.temporary-6.sentence-3'>.</a></div> <div id='class.temporary-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.temporary-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> x <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='literal'>1</span>;   <span class='comment'>// temporary for value 1 has same lifetime as x</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.temporary-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.temporary-note-6'>6</a></i>:&ensp;<div id='class.temporary-6.sentence-4' class='sentence'>If a temporary object has a reference member initialized by another temporary object,
lifetime extension applies recursively to such a member's initializer<a class='hidden_link' href='#class.temporary-6.sentence-4'>.</a></div> <div id='class.temporary-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.temporary-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> m;
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> S<span class='operator'>&amp;</span> s <span class='operator'>=</span> S<span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span>;              <span class='comment'>// both <span class='tcode_in_codeblock'>S</span> and <span class='tcode_in_codeblock'>int</span> temporaries have lifetime of <span class='tcode_in_codeblock'>s</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='class.temporary-6.sentence-5' class='sentence'>The exceptions to this lifetime rule are:
<ul class='itemize'><li id='class.temporary-6.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.9'>(6.9)</a></div><div class='texpara'><div id='class.temporary-6.9.sentence-1' class='sentence'>A temporary object bound to a reference parameter in a function call (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)
persists until the completion of the full-expression containing the call<a class='hidden_link' href='#class.temporary-6.9.sentence-1'>.</a></div></div></li><li id='class.temporary-6.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.10'>(6.10)</a></div><div class='texpara'><div id='class.temporary-6.10.sentence-1' class='sentence'>A temporary object bound to a reference element of
an aggregate of class type initialized from
a parenthesized <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a> (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
persists until the completion of the full-expression
containing the <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><i >expression-list</i></span></span></a><a class='hidden_link' href='#class.temporary-6.10.sentence-1'>.</a></div></div></li><li id='class.temporary-6.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.11'>(6.11)</a></div><div class='texpara'><div id='class.temporary-6.11.sentence-1' class='sentence'>The lifetime of a temporary bound to the returned value in a function <span class='texttt'><span class='keyword'>return</span></span> statement (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>) is not extended; the temporary is destroyed at the end of the full-expression in the <span class='texttt'><span class='keyword'>return</span></span> statement<a class='hidden_link' href='#class.temporary-6.11.sentence-1'>.</a></div></div></li><li id='class.temporary-6.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.temporary-6.12'>(6.12)</a></div><div class='texpara'><div id='class.temporary-6.12.sentence-1' class='sentence'>A temporary bound to a reference in a <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer_'><span class='textsf'><i >new-initializer</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>) persists until the completion of the full-expression containing the <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer__'><span class='textsf'><i >new-initializer</i></span></span></a><a class='hidden_link' href='#class.temporary-6.12.sentence-1'>.</a></div> <div id='class.temporary-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.temporary-note-7'>7</a></i>:&ensp;<div id='class.temporary-6.12.sentence-2' class='sentence'>This might introduce a dangling reference<a class='hidden_link' href='#class.temporary-6.12.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.temporary-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.temporary-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> mi; <span class='keyword'>const</span> std<span class='operator'>::</span>pair<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>,<span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> mp; <span class='curlybracket'>}</span>;
S a <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='curlybracket'>{</span><span class='literal'>2</span>,<span class='literal'>3</span><span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;
S<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> S<span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='curlybracket'>{</span><span class='literal'>2</span>,<span class='literal'>3</span><span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;       <span class='comment'>// creates dangling reference</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='class.temporary-7'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4539'>#</a></div><div class='texpara'><div id='class.temporary-7.sentence-1' class='sentence'>The fourth context is when a temporary object other than a function parameter object
is created in the <a href='stmt.iter.general#nt:for-range-initializer' title='8.6.1&emsp;General&emsp;[stmt.iter.general]'><span id='ntref:for-range-initializer_'><span class='textsf'><i >for-range-initializer</i></span></span></a> of a range-based <span id=':for_'><span class='texttt'><span class='keyword'>for</span></span></span> statement<a class='hidden_link' href='#class.temporary-7.sentence-1'>.</a></div> <div id='class.temporary-7.sentence-2' class='sentence'>If such a temporary object would otherwise be destroyed
at the end of the <a href='stmt.iter.general#nt:for-range-initializer' title='8.6.1&emsp;General&emsp;[stmt.iter.general]'><span id='ntref:for-range-initializer__'><span class='textsf'><i >for-range-initializer</i></span></span></a> full-expression,
the object persists for the lifetime of the reference
initialized by the <a href='stmt.iter.general#nt:for-range-initializer' title='8.6.1&emsp;General&emsp;[stmt.iter.general]'><span id='ntref:for-range-initializer___'><span class='textsf'><i >for-range-initializer</i></span></span></a><a class='hidden_link' href='#class.temporary-7.sentence-2'>.</a></div></div></div><div class='para' id='class.temporary-8'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4547'>#</a></div><div class='texpara'><div id='class.temporary-8.sentence-1' class='sentence'>The destruction of a temporary whose lifetime is not extended
beyond the full-expression in which it was created
is sequenced before the destruction of every
temporary which is constructed earlier in the same full-expression<a class='hidden_link' href='#class.temporary-8.sentence-1'>.</a></div> <div id='class.temporary-8.sentence-2' class='sentence'>If the lifetime of two or more temporaries
with lifetimes extending beyond the full-expressions in which they were created
ends at the same point,
these temporaries are destroyed at that point in the reverse order of the
completion of their construction<a class='hidden_link' href='#class.temporary-8.sentence-2'>.</a></div> <div id='class.temporary-8.sentence-3' class='sentence'>In addition, the destruction of such temporaries shall
take into account the ordering of destruction of objects with static, thread, or
automatic storage duration (<a href='#stc.static' title='6.7.5.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>, <a href='#stc.thread' title='6.7.5.3&emsp;Thread storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>thread]</a>, <a href='#stc.auto' title='6.7.5.4&emsp;Automatic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>auto]</a>);
that is, if
<span class='texttt'>obj1</span>
is an object with the same storage duration as the temporary and
created before the temporary is created
the temporary shall be destroyed before
<span class='texttt'>obj1</span>
is destroyed;
if
<span class='texttt'>obj2</span>
is an object with the same storage duration as the temporary and
created after the temporary is created
the temporary shall be destroyed after
<span class='texttt'>obj2</span>
is destroyed<a class='hidden_link' href='#class.temporary-8.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.temporary-9'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4575'>#</a></div><div class='texpara'><div id='class.temporary-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.temporary-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  S<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> S <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span>, <span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
S obj1;
<span class='keyword'>const</span> S<span class='operator'>&amp;</span> cr <span class='operator'>=</span> S<span class='parenthesis'>(</span><span class='literal'>16</span><span class='parenthesis'>)</span><span class='operator'>+</span>S<span class='parenthesis'>(</span><span class='literal'>23</span><span class='parenthesis'>)</span>;
S obj2;
</span></div><div class='texpara'><div id='class.temporary-9.sentence-1' class='sentence'>The expression
<span class='texttt'>S<span class='parenthesis'>(</span><span class='literal'>16</span><span class='parenthesis'>)</span> <span class='operator'>+</span> S<span class='parenthesis'>(</span><span class='literal'>23</span><span class='parenthesis'>)</span></span>
creates three temporaries:
a first temporary
<span class='texttt'>T1</span>
to hold the result of the expression
<span class='texttt'>S<span class='parenthesis'>(</span><span class='literal'>16</span><span class='parenthesis'>)</span></span>,
a second temporary
<span class='texttt'>T2</span>
to hold the result of the expression
<span class='texttt'>S<span class='parenthesis'>(</span><span class='literal'>23</span><span class='parenthesis'>)</span></span>,
and a third temporary
<span class='texttt'>T3</span>
to hold the result of the addition of these two expressions<a class='hidden_link' href='#class.temporary-9.sentence-1'>.</a></div> <div id='class.temporary-9.sentence-2' class='sentence'>The temporary
<span class='texttt'>T3</span>
is then bound to the reference
<span class='texttt'>cr</span><a class='hidden_link' href='#class.temporary-9.sentence-2'>.</a></div> <div id='class.temporary-9.sentence-3' class='sentence'>It is unspecified whether
<span class='texttt'>T1</span>
or
<span class='texttt'>T2</span>
is created first<a class='hidden_link' href='#class.temporary-9.sentence-3'>.</a></div> <div id='class.temporary-9.sentence-4' class='sentence'>On an implementation where
<span class='texttt'>T1</span>
is created before
<span class='texttt'>T2</span>,
<span class='texttt'>T2</span>
shall be destroyed before
<span class='texttt'>T1</span><a class='hidden_link' href='#class.temporary-9.sentence-4'>.</a></div> <div id='class.temporary-9.sentence-5' class='sentence'>The temporaries
<span class='texttt'>T1</span>
and
<span class='texttt'>T2</span>
are bound to the reference parameters of
<span class='texttt'><span id=':operator_______________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>+</span></span>;
these temporaries are destroyed at the end of the full-expression
containing the call to
<span class='texttt'><span id=':operator________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>+</span></span><a class='hidden_link' href='#class.temporary-9.sentence-5'>.</a></div> <div id='class.temporary-9.sentence-6' class='sentence'>The temporary
<span class='texttt'>T3</span>
bound to the reference
<span class='texttt'>cr</span>
is destroyed at the end of
<span class='texttt'>cr</span>'s
lifetime, that is, at the end of the program<a class='hidden_link' href='#class.temporary-9.sentence-6'>.</a></div> <div id='class.temporary-9.sentence-7' class='sentence'>In addition, the order in which
<span class='texttt'>T3</span>
is destroyed takes into account the destruction order of other objects with
static storage duration<a class='hidden_link' href='#class.temporary-9.sentence-7'>.</a></div> <div id='class.temporary-9.sentence-8' class='sentence'>That is, because
<span class='texttt'>obj1</span>
is constructed before
<span class='texttt'>T3</span>,
and
<span class='texttt'>T3</span>
is constructed before
<span class='texttt'>obj2</span>,
<span class='texttt'>obj2</span>
shall be destroyed before
<span class='texttt'>T3</span>,
and
<span class='texttt'>T3</span>
shall be destroyed before
<span class='texttt'>obj1</span><a class='hidden_link' href='#class.temporary-9.sentence-8'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-27'><div class='texpara'><a class='footnotenum' href='#footnote-27'>27)</a><a class='footnoteBacklink' href='#footnoteref-27'>27)</a> <div id='footnote-27.sentence-1' class='sentence'>The same rules apply to initialization of an
  <span class='texttt'>initializer_<span class='shy'></span>list</span> object (<a href='dcl.init.list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>) with its
  underlying temporary array<a class='hidden_link' href='#footnote-27.sentence-1'>.</a></div></div></div></div></div><div id='types' class='section'><h2 ><a class='secnum' href='#types' style='min-width:65pt'>6.8</a> Types <a class='abbr_ref' href='basic.types'>[basic.types]</a></h2><div id='types.general' class='section'><h3 ><a class='secnum' href='#types.general' style='min-width:80pt'>6.8.1</a> General <a class='abbr_ref' href='basic.types.general'>[basic.types.general]</a></h3><div class='texpara'><a class='index' id=':type_'></a></div><div class='para nonNormativeOnly' id='types.general-1'><div class='marginalizedparent'><a class='marginalized' href='#types.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4661'>#</a></div><div class='texpara'><div id='types.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#types.general-note-1'>1</a></i>:&ensp;<div id='types.general-1.sentence-1' class='sentence'><a href='#types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a> and the subclauses thereof
impose requirements on implementations regarding the representation
of types<a class='hidden_link' href='#types.general-1.sentence-1'>.</a></div> <div id='types.general-1.sentence-2' class='sentence'>There are two kinds of types: fundamental types and compound types<a class='hidden_link' href='#types.general-1.sentence-2'>.</a></div> <div id='types.general-1.sentence-3' class='sentence'>Types describe <a href='#intro.object' title='6.7.2&emsp;Object model&emsp;[intro.object]'>objects</a>,
<a href='dcl.ref' title='9.3.4.3&emsp;References&emsp;[dcl.ref]'>references</a>,
or <a href='dcl.fct' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'>functions</a><a class='hidden_link' href='#types.general-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='types.general-2'><div class='marginalizedparent'><a class='marginalized' href='#types.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4672'>#</a></div><div class='texpara'><div id='types.general-2.sentence-1' class='sentence'><a class='index' id=':object,byte_copying_and'></a><a class='index' id=':type,trivially_copyable'></a>For any object (other than a potentially-overlapping subobject) of trivially copyable type
<span class='texttt'>T</span>, whether or not the object holds a valid value of type
<span class='texttt'>T</span>, the underlying bytes (<a href='#intro.memory' title='6.7.1&emsp;Memory model'>[intro.<span class='shy'></span>memory]</a>) making up the
object can be copied into an array of
<span id=':char___'><span class='texttt'><span class='keyword'>char</span></span></span>,
<span class='texttt'><span id=':unsigned__'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char____'><span class='texttt'><span class='keyword'>char</span></span></span></span>, or
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>byte</span> (<a href='cstddef.syn' title='17.2.1&emsp;Header &lt;cstddef&gt; synopsis'>[cstddef.<span class='shy'></span>syn]</a>)<a class='hidden_link' href='#types.general-2.sentence-1'>.</a><a class='footnoteref' href='#footnote-28' id='footnoteref-28' title='By using, for example, the library functions ([headers]) std&#x200b;::&#x200b;memcpy or std&#x200b;::&#x200b;memmove.'>28</a></div> <div id='types.general-2.sentence-2' class='sentence'>
If the content of that array
is copied back into the object, the object shall
subsequently hold its original value<a class='hidden_link' href='#types.general-2.sentence-2'>.</a></div> <div id='types.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#types.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>constexpr</span> std<span class='operator'>::</span>size_t N <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>char</span> buf<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;
T obj;                          <span class='comment'>// <span class='tcode_in_codeblock'>obj</span> initialized to its original value</span>
std<span class='operator'>::</span>memcpy<span class='parenthesis'>(</span>buf, <span class='operator'>&amp;</span>obj, N<span class='parenthesis'>)</span>;      <span class='comment'>// between these two calls to <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;memcpy</span>, <span class='tcode_in_codeblock'>obj</span> might be modified</span>
std<span class='operator'>::</span>memcpy<span class='parenthesis'>(</span><span class='operator'>&amp;</span>obj, buf, N<span class='parenthesis'>)</span>;      <span class='comment'>// at this point, each subobject of <span class='tcode_in_codeblock'>obj</span> of scalar type holds its original value</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='types.general-3'><div class='marginalizedparent'><a class='marginalized' href='#types.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4699'>#</a></div><div class='texpara'><div id='types.general-3.sentence-1' class='sentence'>For two distinct objects <span class='texttt'>obj1</span> and <span class='texttt'>obj2</span>
of trivially copyable type <span class='texttt'>T</span>,
where neither <span class='texttt'>obj1</span> nor <span class='texttt'>obj2</span> is a potentially-overlapping subobject,
if the underlying bytes (<a href='#intro.memory' title='6.7.1&emsp;Memory model'>[intro.<span class='shy'></span>memory]</a>) making up
<span class='texttt'>obj1</span> are copied into <span class='texttt'>obj2</span>,<a class='footnoteref' href='#footnote-29' id='footnoteref-29' title='By using, for example, the library functions ([headers]) std&#x200b;::&#x200b;memcpy or std&#x200b;::&#x200b;memmove.'>29</a>
 <span class='texttt'>obj2</span> shall subsequently hold the same value as
<span class='texttt'>obj1</span><a class='hidden_link' href='#types.general-3.sentence-1'>.</a></div> <div id='types.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#types.general-example-2'>2</a></i>:&ensp;<span class='codeblock'>T<span class='operator'>*</span> t1p;
T<span class='operator'>*</span> t2p;
    <span class='comment'>// provided that <span class='tcode_in_codeblock'>t2p</span> points to an initialized object ...</span>
std<span class='operator'>::</span>memcpy<span class='parenthesis'>(</span>t1p, t2p, <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='comment'>// at this point, every subobject of trivially copyable type in <span class='tcode_in_codeblock'>*t1p</span> contains</span>
    <span class='comment'>// the same value as the corresponding subobject in <span class='tcode_in_codeblock'>*t2p</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div><div class='para' id='types.general-4'><div class='marginalizedparent'><a class='marginalized' href='#types.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4723'>#</a></div><div class='texpara'><div id='types.general-4.sentence-1' class='sentence'><a class='index' id='term.object.representation'></a>The <a class='hidden_link' href='#def:representation,object' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:representation,object'><i >object representation</i></span></a>
of a complete object type <span class='texttt'>T</span> is the
sequence of <i >N</i> <span class='texttt'><span id=':unsigned___'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char_____'><span class='texttt'><span class='keyword'>char</span></span></span></span> objects taken up
by a non-bit-field complete object of type <span class='texttt'>T</span>,
where <i >N</i> equals
<span class='texttt'><span id=':sizeof_'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span><a class='hidden_link' href='#types.general-4.sentence-1'>.</a></div> <div id='types.general-4.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:representation,value' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:representation,value'><i >value representation</i></span></a>
of a type <span class='texttt'>T</span> is the set of bits
in the object representation of <span class='texttt'>T</span>
that participate in representing a value of type <span class='texttt'>T</span><a class='hidden_link' href='#types.general-4.sentence-2'>.</a></div> <div id='types.general-4.sentence-3' class='sentence'>The object and value representation of
a non-bit-field complete object of type <span class='texttt'>T</span> are
the bytes and bits, respectively, of
the object corresponding to the object and value representation of its type<a class='hidden_link' href='#types.general-4.sentence-3'>.</a></div> <div id='types.general-4.sentence-4' class='sentence'>The object representation of a bit-field object is
the sequence of <i >N</i> bits taken up by the object,
where <i >N</i> is the width of the bit-field (<a href='class.bit' title='11.4.10&emsp;Bit-fields'>[class.<span class='shy'></span>bit]</a>)<a class='hidden_link' href='#types.general-4.sentence-4'>.</a></div> <div id='types.general-4.sentence-5' class='sentence'>The value representation of a bit-field object is
the set of bits in the object representation that
participate in representing its value<a class='hidden_link' href='#types.general-4.sentence-5'>.</a></div> <div id='types.general-4.sentence-6' class='sentence'><a class='index' id='term.padding.bits'></a>Bits in the object representation of a type or object that are
not part of the value representation
are <a class='hidden_link' href='#def:padding_bits' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:padding_bits'><i >padding bits</i></span></a><a class='hidden_link' href='#types.general-4.sentence-6'>.</a></div> <div id='types.general-4.sentence-7' class='sentence'>For trivially copyable types, the value representation is
a set of bits in the object representation that determines a
<a class='hidden_link' href='#def:value' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:value'><i >value</i></span></a>, which is one discrete element of an
<a class='index' id=':values_of_a_trivially_copyable_type'></a>implementation-defined set of values<a class='hidden_link' href='#types.general-4.sentence-7'>.</a><a class='footnoteref' href='#footnote-30' id='footnoteref-30' title='The intent is that the memory model of C++ is compatible with that of the C programming language.'>30</a></div></div></div><div class='para' id='types.general-5'><div class='marginalizedparent'><a class='marginalized' href='#types.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4758'>#</a></div><div class='texpara'><div id='types.general-5.sentence-1' class='sentence'><a class='index' id=':type,incompletely-defined_object'></a>A class that has been declared but not defined, an enumeration type in certain
contexts (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>), or an array of unknown
bound or of incomplete element type, is an
<a class='hidden_link' href='#def:object_type,incompletely-defined' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:object_type,incompletely-defined'><i >incompletely-defined object type</i></span></a><a class='hidden_link' href='#types.general-5.sentence-1'>.</a><a class='footnoteref' href='#footnote-31' id='footnoteref-31' title='The size and layout of an instance of an incompletely-defined object type is unknown.'>31</a></div> <div id='types.general-5.sentence-2' class='sentence'><a class='index' id='term.incomplete.type'></a>Incompletely-defined object types and <span class='mathit'>cv</span> <span id=':void__________'><span class='texttt'><span class='keyword'>void</span></span></span> are
<a class='hidden_link' href='#def:type,incomplete' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,incomplete'><i >incomplete types</i></span></a> (<a href='#fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)<a class='hidden_link' href='#types.general-5.sentence-2'>.</a></div> <div id='types.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#types.general-note-2'>2</a></i>:&ensp;<div id='types.general-5.sentence-3' class='sentence'>Objects cannot be defined to have an incomplete type (<a href='#def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#types.general-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='types.general-6'><div class='marginalizedparent'><a class='marginalized' href='#types.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4775'>#</a></div><div class='texpara'><div id='types.general-6.sentence-1' class='sentence'>A class type (such as “<span class='texttt'><span id=':class'><span class='texttt'><span class='keyword'>class</span></span></span> X</span>”) can be incomplete at one
point in a translation unit and complete later on; the type
“<span class='texttt'><span id=':class_'><span class='texttt'><span class='keyword'>class</span></span></span> X</span>” is the same type at both points<a class='hidden_link' href='#types.general-6.sentence-1'>.</a></div> <div id='types.general-6.sentence-2' class='sentence'>The declared type
of an array object can be an array of incomplete class type and
therefore incomplete; if the class type is completed later on in the
translation unit, the array type becomes complete; the array type at
those two points is the same type<a class='hidden_link' href='#types.general-6.sentence-2'>.</a></div> <div id='types.general-6.sentence-3' class='sentence'>The declared type of an array object
can be an array of unknown bound and therefore be incomplete at one
point in a translation unit and complete later on; the array types at
those two points (“array of unknown bound of <span class='texttt'>T</span>” and “array of
<span class='texttt'>N</span> <span class='texttt'>T</span>”) are different types<a class='hidden_link' href='#types.general-6.sentence-3'>.</a></div> <div id='types.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#types.general-note-3'>3</a></i>:&ensp;<div id='types.general-6.sentence-4' class='sentence'>The type of a pointer or reference to array of unknown bound
permanently points to or refers to an incomplete type<a class='hidden_link' href='#types.general-6.sentence-4'>.</a></div> <div id='types.general-6.sentence-5' class='sentence'>An array of unknown bound named by a <span id=':typedef_'><span class='texttt'><span class='keyword'>typedef</span></span></span> declaration
permanently refers to an incomplete type<a class='hidden_link' href='#types.general-6.sentence-5'>.</a></div> <div id='types.general-6.sentence-6' class='sentence'>In either case, the array type cannot be completed<a class='hidden_link' href='#types.general-6.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='types.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#types.general-example-3'>3</a></i>:&ensp;<span id=':type,example_of_incomplete'><div class='marginalizedparent'><a class='itemDeclLink' href='#:type,example_of_incomplete'>🔗</a></div><span class='codeblock'><span class='keyword'>class</span> X;                        <span class='comment'>// <span class='tcode_in_codeblock'>X</span> is an incomplete type</span>
<span class='keyword'>extern</span> X<span class='operator'>*</span> xp;                   <span class='comment'>// <span class='tcode_in_codeblock'>xp</span> is a pointer to an incomplete type</span>
<span class='keyword'>extern</span> <span class='keyword'>int</span> arr<span class='squarebracket'>[</span><span class='squarebracket'>]</span>;               <span class='comment'>// the type of arr is incomplete</span>
<span class='keyword'>typedef</span> <span class='keyword'>int</span> UNKA<span class='squarebracket'>[</span><span class='squarebracket'>]</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>UNKA</span> is an incomplete type</span>
UNKA<span class='operator'>*</span> arrp;                     <span class='comment'>// <span class='tcode_in_codeblock'>arrp</span> is a pointer to an incomplete type</span>
UNKA<span class='operator'>*</span><span class='operator'>*</span> arrpp;

<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  xp<span class='operator'>+</span><span class='operator'>+</span>;                         <span class='comment'>// error: <span class='tcode_in_codeblock'>X</span> is incomplete</span>
  arrp<span class='operator'>+</span><span class='operator'>+</span>;                       <span class='comment'>// error: incomplete type</span>
  arrpp<span class='operator'>+</span><span class='operator'>+</span>;                      <span class='comment'>// OK, sizeof <span class='tcode_in_codeblock'>UNKA*</span> is known</span>
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>;            <span class='comment'>// now <span class='tcode_in_codeblock'>X</span> is a complete type</span>
<span class='keyword'>int</span> arr<span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span>;                    <span class='comment'>// now the type of <span class='tcode_in_codeblock'>arr</span> is complete</span>

X x;
<span class='keyword'>void</span> bar<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  xp <span class='operator'>=</span> <span class='operator'>&amp;</span>x;                      <span class='comment'>// OK; type is “pointer to <span class='tcode_in_codeblock'>X</span>''</span>
  arrp <span class='operator'>=</span> <span class='operator'>&amp;</span>arr;                  <span class='comment'>// OK; qualification conversion (<a href='conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>)</span>
  xp<span class='operator'>+</span><span class='operator'>+</span>;                         <span class='comment'>// OK, <span class='tcode_in_codeblock'>X</span> is complete</span>
  arrp<span class='operator'>+</span><span class='operator'>+</span>;                       <span class='comment'>// error: <span class='tcode_in_codeblock'>UNKA</span> can't be completed</span>
<span class='curlybracket'>}</span>
</span></span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='types.general-7'><div class='marginalizedparent'><a class='marginalized' href='#types.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4823'>#</a></div><div class='texpara'><div id='types.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#types.general-note-4'>4</a></i>:&ensp;<div id='types.general-7.sentence-1' class='sentence'>The rules for declarations and expressions describe in which
contexts incomplete types are prohibited<a class='hidden_link' href='#types.general-7.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='types.general-8'><div class='marginalizedparent'><a class='marginalized' href='#types.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4829'>#</a></div><div class='texpara'><div id='types.general-8.sentence-1' class='sentence'><a class='index' id='term.object.type'></a>An <a class='hidden_link' href='#def:object_type' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:object_type'><i >object type</i></span></a> is a (possibly cv-qualified) type that is not
a function type, not a reference type, and not <span class='mathit'>cv</span> <span id=':void___________'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#types.general-8.sentence-1'>.</a></div></div></div><div class='para' id='types.general-9'><div class='marginalizedparent'><a class='marginalized' href='#types.general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4834'>#</a></div><div class='texpara'><div id='types.general-9.sentence-1' class='sentence'><a class='index' id=':class,trivial'></a><a class='index' id=':class,trivially_copyable'></a><a class='index' id=':class,standard-layout'></a><a class='index' id='term.scalar.type'></a>Arithmetic types (<a href='#fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>), enumeration types,
pointer types, pointer-to-member types (<a href='#compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>),
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span>,
and
<a href='#type.qualifier' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'>cv-qualified</a> versions of these
types are collectively called
<a class='hidden_link' href='#def:type,scalar' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,scalar'><i >scalar types</i></span></a><a class='hidden_link' href='#types.general-9.sentence-1'>.</a></div> <div id='types.general-9.sentence-2' class='sentence'><a class='index' id='term.trivially.copyable.type'></a>Scalar types, trivially copyable class types (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>),
arrays of such types, and cv-qualified versions of these
types are collectively called <a class='hidden_link' href='#def:type,trivially_copyable' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,trivially_copyable'><i >trivially copyable types</i></span></a><a class='hidden_link' href='#types.general-9.sentence-2'>.</a></div> <div id='types.general-9.sentence-3' class='sentence'><a class='index' id='term.trivial.type'></a>Scalar types, trivial class types (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>),
arrays of such types, and cv-qualified versions of these
types are collectively called
<a class='hidden_link' href='#def:type,trivial' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,trivial'><i >trivial types</i></span></a><a class='hidden_link' href='#types.general-9.sentence-3'>.</a></div> <div id='types.general-9.sentence-4' class='sentence'><a class='index' id='term.standard.layout.type'></a>Scalar types, standard-layout class
types (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>), arrays of such types, and
cv-qualified versions of these types
are collectively called <a class='hidden_link' href='#def:type,standard-layout' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,standard-layout'><i >standard-layout types</i></span></a><a class='hidden_link' href='#types.general-9.sentence-4'>.</a></div> <div id='types.general-9.sentence-5' class='sentence'><a class='index' id='term.implicit.lifetime.type'></a>Scalar types, implicit-lifetime class types (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>),
array types, and cv-qualified versions of these types
are collectively called <a class='hidden_link' href='#def:type,implicit-lifetime' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,implicit-lifetime'><i >implicit-lifetime types</i></span></a><a class='hidden_link' href='#types.general-9.sentence-5'>.</a></div></div></div><div class='para' id='types.general-10'><div class='marginalizedparent'><a class='marginalized' href='#types.general-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4865'>#</a></div><div class='texpara'><div id='types.general-10.sentence-1' class='sentence'><a class='index' id='term.literal.type'></a>A type is a <a class='hidden_link' href='#def:type,literal' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,literal'><i >literal type</i></span></a> if it is:
<ul class='itemize'><li id='types.general-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#types.general-10.1'>(10.1)</a></div><span class='mathit'>cv</span> <span id=':void____________'><span class='texttt'><span class='keyword'>void</span></span></span>; or</li><li id='types.general-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#types.general-10.2'>(10.2)</a></div>a scalar type; or</li><li id='types.general-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#types.general-10.3'>(10.3)</a></div>a reference type; or</li><li id='types.general-10.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#types.general-10.4'>(10.4)</a></div>an array of literal type; or</li><li id='types.general-10.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#types.general-10.5'>(10.5)</a></div>a possibly cv-qualified <a href='class' title='11&emsp;Classes&emsp;[class]'>class type</a> that
has all of the following properties:
<ul class='itemize'><li id='types.general-10.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#types.general-10.5.1'>(10.5.1)</a></div>it has a constexpr destructor (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>),</li><li id='types.general-10.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#types.general-10.5.2'>(10.5.2)</a></div>all of its non-static non-variant data members and base classes are of non-volatile literal types, and</li><li id='types.general-10.5.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#types.general-10.5.3'>(10.5.3)</a></div>it
<ul class='itemize'><li id='types.general-10.5.3.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#types.general-10.5.3.1'>(10.5.3.1)</a></div>is a closure type (<a href='expr.prim.lambda.closure' title='7.5.5.2&emsp;Closure types'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>closure]</a>),</li><li id='types.general-10.5.3.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#types.general-10.5.3.2'>(10.5.3.2)</a></div>is an aggregate union type that has either
no variant members or
at least one variant member of non-volatile literal type,</li><li id='types.general-10.5.3.3'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#types.general-10.5.3.3'>(10.5.3.3)</a></div>is a non-union aggregate type for which
each of its anonymous union members
satisfies the above requirements for an aggregate union type, or</li><li id='types.general-10.5.3.4'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#types.general-10.5.3.4'>(10.5.3.4)</a></div>has at least one constexpr constructor or constructor template
(possibly inherited (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>) from a base class)
that is not a copy or move constructor<a class='hidden_link' href='#types.general-10.sentence-1'>.</a></li></ul></li></ul></li></ul></div> <div id='types.general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#types.general-note-5'>5</a></i>:&ensp;<div id='types.general-10.sentence-2' class='sentence'>A literal type is one for which
it might be possible to create an object
within a constant expression<a class='hidden_link' href='#types.general-10.sentence-2'>.</a></div> <div id='types.general-10.sentence-3' class='sentence'>It is not a guarantee that it is possible to create such an object,
nor is it a guarantee that any object of that type
will be usable in a constant expression<a class='hidden_link' href='#types.general-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='types.general-11'><div class='marginalizedparent'><a class='marginalized' href='#types.general-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4902'>#</a></div><div class='texpara'><div id='types.general-11.sentence-1' class='sentence'><a class='index' id='term.layout.compatible.type'></a>Two types <i >cv1</i> <span class='texttt'>T1</span> and <i >cv2</i> <span class='texttt'>T2</span> are
<a class='hidden_link' href='#def:type,layout-compatible' title='6.8.1&emsp;General&emsp;[basic.types.general]'><span id='def:type,layout-compatible'><i >layout-compatible types</i></span></a>
if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are the same type,
<a href='dcl.enum#def:layout-compatible,enumeration' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'>layout-compatible enumerations</a>, or
<a href='class.mem#def:layout-compatible,class' title='11.4&emsp;Class members&emsp;[class.mem]'>layout-compatible standard-layout class types</a><a class='hidden_link' href='#types.general-11.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-28'><div class='texpara'><a class='footnotenum' href='#footnote-28'>28)</a><a class='footnoteBacklink' href='#footnoteref-28'>28)</a> <div id='footnote-28.sentence-1' class='sentence'>By using, for example, the library
functions (<a href='headers' title='16.4.2.3&emsp;Headers'>[headers]</a>) <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>memcpy</span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>memmove</span><a class='hidden_link' href='#footnote-28.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-29'><div class='texpara'><a class='footnotenum' href='#footnote-29'>29)</a><a class='footnoteBacklink' href='#footnoteref-29'>29)</a> <div id='footnote-29.sentence-1' class='sentence'>By using, for example,
the library functions (<a href='headers' title='16.4.2.3&emsp;Headers'>[headers]</a>) <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>memcpy</span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>memmove</span><a class='hidden_link' href='#footnote-29.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-30'><div class='texpara'><a class='footnotenum' href='#footnote-30'>30)</a><a class='footnoteBacklink' href='#footnoteref-30'>30)</a> <div id='footnote-30.sentence-1' class='sentence'>The intent is that the memory model of C++ is compatible
with that of the C programming language<a class='hidden_link' href='#footnote-30.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-31'><div class='texpara'><a class='footnotenum' href='#footnote-31'>31)</a><a class='footnoteBacklink' href='#footnoteref-31'>31)</a> <div id='footnote-31.sentence-1' class='sentence'>The size and layout of an instance of an incompletely-defined
object type is unknown<a class='hidden_link' href='#footnote-31.sentence-1'>.</a></div></div></div></div><div id='fundamental' class='section'><h3 ><a class='secnum' href='#fundamental' style='min-width:80pt'>6.8.2</a> Fundamental types <a class='abbr_ref' href='basic.fundamental'>[basic.fundamental]</a></h3><div class='para' id='fundamental-1'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4912'>#</a></div><div class='texpara'><div id='fundamental-1.sentence-1' class='sentence'><a class='index' id=':type,implementation-defined_sizeof'></a>There are five <a class='hidden_link' href='#def:type,standard_signed_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,standard_signed_integer'><i >standard signed integer types</i></span></a>:
<a class='index' id=':type,signed_char'></a><a class='index' id=':type,short'></a><a class='index' id=':type,int'></a><a class='index' id=':type,long'></a><a class='index' id=':type,long_long'></a>“<span class='texttt'><span id=':signed'><span class='texttt'><span class='keyword'>signed</span></span></span> <span id=':char______'><span class='texttt'><span class='keyword'>char</span></span></span></span>”, “<span class='texttt'><span id=':short'><span class='texttt'><span class='keyword'>short</span></span></span> <span id=':int'><span class='texttt'><span class='keyword'>int</span></span></span></span>”, “<span id=':int_'><span class='texttt'><span class='keyword'>int</span></span></span>”,
“<span class='texttt'><span id=':long_'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int__'><span class='texttt'><span class='keyword'>int</span></span></span></span>”, and “<span class='texttt'><span id=':long__'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long___'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int___'><span class='texttt'><span class='keyword'>int</span></span></span></span>”<a class='hidden_link' href='#fundamental-1.sentence-1'>.</a></div> <div id='fundamental-1.sentence-2' class='sentence'>In
this list, each type provides at least as much storage as those
preceding it in the list<a class='hidden_link' href='#fundamental-1.sentence-2'>.</a></div> <div id='fundamental-1.sentence-3' class='sentence'>There may also be <a class='index' id=':extended_signed_integer_types'></a>implementation-defined
<a class='hidden_link' href='#def:type,extended_signed_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,extended_signed_integer'><i >extended signed integer types</i></span></a><a class='hidden_link' href='#fundamental-1.sentence-3'>.</a></div> <div id='fundamental-1.sentence-4' class='sentence'>The standard and extended signed integer types are collectively called
<a class='hidden_link' href='#def:type,signed_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,signed_integer'><i >signed integer types</i></span></a><a class='hidden_link' href='#fundamental-1.sentence-4'>.</a></div> <div id='fundamental-1.sentence-5' class='sentence'>The range of representable values for a signed integer type is
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> to <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> (inclusive),
where <i >N</i> is called the <a class='hidden_link' href='class.bit#def:width' title='11.4.10&emsp;Bit-fields&emsp;[class.bit]'><span id='def:width'><i >width</i></span></a> of the type<a class='hidden_link' href='#fundamental-1.sentence-5'>.</a></div> <a class='index' id=':integral_type,implementation-defined_sizeof'></a><div id='fundamental-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-1'>1</a></i>:&ensp;<div id='fundamental-1.sentence-6' class='sentence'>Plain <span class='texttt'><span class='keyword'>int</span></span>s are intended to have
the natural width suggested by the architecture of the execution environment;
the other signed integer types are provided to meet special needs<a class='hidden_link' href='#fundamental-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fundamental-2'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4938'>#</a></div><div class='texpara'><div id='fundamental-2.sentence-1' class='sentence'><a class='index' id=':type,unsigned'></a>For each of the standard signed integer types,
there exists a corresponding (but different)
<a class='hidden_link' href='#def:type,standard_unsigned_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,standard_unsigned_integer'><i >standard unsigned integer type</i></span></a>:
<a class='index' id=':type,unsigned_char'></a><a class='index' id=':type,unsigned_short'></a><a class='index' id=':type,unsigned_int'></a><a class='index' id=':type,unsigned_long'></a><a class='index' id=':type,unsigned_long_long'></a>“<span class='texttt'><span id=':unsigned____'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char_______'><span class='texttt'><span class='keyword'>char</span></span></span></span>”, “<span class='texttt'><span id=':unsigned_____'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':short_'><span class='texttt'><span class='keyword'>short</span></span></span> <span id=':int____'><span class='texttt'><span class='keyword'>int</span></span></span></span>”,
“<span class='texttt'><span id=':unsigned______'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':int_____'><span class='texttt'><span class='keyword'>int</span></span></span></span>”, “<span class='texttt'><span id=':unsigned_______'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':long____'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int______'><span class='texttt'><span class='keyword'>int</span></span></span></span>”, and
“<span class='texttt'><span id=':unsigned________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':long_____'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long______'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int_______'><span class='texttt'><span class='keyword'>int</span></span></span></span>”<a class='hidden_link' href='#fundamental-2.sentence-1'>.</a></div> <div id='fundamental-2.sentence-2' class='sentence'>Likewise, for each of the extended signed integer types,
there exists a corresponding <a class='hidden_link' href='#def:type,extended_unsigned_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,extended_unsigned_integer'><i >extended unsigned integer type</i></span></a><a class='hidden_link' href='#fundamental-2.sentence-2'>.</a></div> <div id='fundamental-2.sentence-3' class='sentence'>The standard and extended unsigned integer types
are collectively called <a class='hidden_link' href='#def:type,unsigned_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,unsigned_integer'><i >unsigned integer types</i></span></a><a class='hidden_link' href='#fundamental-2.sentence-3'>.</a></div> <div id='fundamental-2.sentence-4' class='sentence'>An unsigned integer type has the same width <i >N</i>
as the corresponding signed integer type<a class='hidden_link' href='#fundamental-2.sentence-4'>.</a></div> <div id='fundamental-2.sentence-5' class='sentence'><a class='index' id=':arithmetic,unsigned'></a>The range of representable values for the unsigned type is
<span class='math'>0</span> to <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> (inclusive);
arithmetic for the unsigned type is performed modulo <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span><a class='hidden_link' href='#fundamental-2.sentence-5'>.</a></div> <div id='fundamental-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-2'>2</a></i>:&ensp;<div id='fundamental-2.sentence-6' class='sentence'>Unsigned arithmetic does not overflow<a class='hidden_link' href='#fundamental-2.sentence-6'>.</a></div> <div id='fundamental-2.sentence-7' class='sentence'>Overflow for signed arithmetic yields undefined behavior (<a href='expr.pre' title='7.1&emsp;Preamble'>[expr.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#fundamental-2.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fundamental-3'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4966'>#</a></div><div class='texpara'><div id='fundamental-3.sentence-1' class='sentence'><a class='index' id=':signed_integer_representation,two&#39;s_complement'></a>An unsigned integer type has the same
object representation,
value representation, and
alignment requirements (<a href='#align' title='6.7.6&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>)
as the corresponding signed integer type<a class='hidden_link' href='#fundamental-3.sentence-1'>.</a></div> <div id='fundamental-3.sentence-2' class='sentence'>For each value <span class='math'><span class='mathalpha'>x</span></span> of a signed integer type,
the value of the corresponding unsigned integer type
congruent to <span class='math'><span class='mathalpha'>x</span></span> modulo <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span> has the same value
of corresponding bits in its value representation<a class='hidden_link' href='#fundamental-3.sentence-2'>.</a><a class='footnoteref' href='#footnote-32' id='footnoteref-32' title='This is also known as two&apos;s complement representation.'>32</a></div> <div id='fundamental-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#fundamental-example-1'>1</a></i>:&ensp;<div id='fundamental-3.sentence-3' class='sentence'>The value <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> of a signed integer type has the same representation as
the largest value of the corresponding unsigned type<a class='hidden_link' href='#fundamental-3.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div class='numberedTable' id='tab:basic.fundamental.width'>Table <a href='#tab:basic.fundamental.width'>14</a>: Minimum width&emsp;<a href='./tab:basic.fundamental.width'>[tab:basic.fundamental.width]</a><br><table ><tr id='tab:basic.fundamental.width-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.fundamental.width-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:basic.fundamental.width-row-1-column-1-sentence-1' class='sentence'><b>Type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.fundamental.width-row-1-column-2-sentence-1' class='sentence'><b>Minimum width <span class='math'><span class='mathalpha'>N</span></span></b></div></div></td></tr><tr id='tab:basic.fundamental.width-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.fundamental.width-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-2-column-1-sentence-1' class='sentence'><span class='texttt'><span id=':signed_'><span class='texttt'><span class='keyword'>signed</span></span></span> <span id=':char________'><span class='texttt'><span class='keyword'>char</span></span></span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-2-column-2-sentence-1' class='sentence'>8</div></div></td></tr><tr id='tab:basic.fundamental.width-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.fundamental.width-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-3-column-1-sentence-1' class='sentence'><span class='texttt'><span id=':short__'><span class='texttt'><span class='keyword'>short</span></span></span> <span id=':int________'><span class='texttt'><span class='keyword'>int</span></span></span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-3-column-2-sentence-1' class='sentence'>16</div></div></td></tr><tr id='tab:basic.fundamental.width-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.fundamental.width-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-4-column-1-sentence-1' class='sentence'><span id=':int_________'><span class='texttt'><span class='keyword'>int</span></span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-4-column-2-sentence-1' class='sentence'>16</div></div></td></tr><tr id='tab:basic.fundamental.width-row-5'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.fundamental.width-row-5'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-5-column-1-sentence-1' class='sentence'><span class='texttt'><span id=':long_______'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int__________'><span class='texttt'><span class='keyword'>int</span></span></span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-5-column-2-sentence-1' class='sentence'>32</div></div></td></tr><tr id='tab:basic.fundamental.width-row-6'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.fundamental.width-row-6'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-6-column-1-sentence-1' class='sentence'><span class='texttt'><span id=':long________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long_________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int___________'><span class='texttt'><span class='keyword'>int</span></span></span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:basic.fundamental.width-row-6-column-2-sentence-1' class='sentence'>64</div></div></td></tr></table></div></div></div><div class='para' id='fundamental-4'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L4997'>#</a></div><div class='texpara'><div id='fundamental-4.sentence-1' class='sentence'>The width of each standard signed integer type
shall not be less than the values specified in Table <a href='#tab:basic.fundamental.width' title='Table 14: Minimum width'>14</a><a class='hidden_link' href='#fundamental-4.sentence-1'>.</a></div> <div id='fundamental-4.sentence-2' class='sentence'>The value representation of a signed or unsigned integer type
comprises <span class='math'><span class='mathalpha'>N</span></span> bits, where N is the respective width<a class='hidden_link' href='#fundamental-4.sentence-2'>.</a></div> <div id='fundamental-4.sentence-3' class='sentence'>Each set of values for any padding bits (<a href='#types.general' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)
in the object representation are
alternative representations of the value specified by the value representation<a class='hidden_link' href='#fundamental-4.sentence-3'>.</a></div> <div id='fundamental-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-3'>3</a></i>:&ensp;<div id='fundamental-4.sentence-4' class='sentence'>Padding bits have unspecified value, but cannot cause traps<a class='hidden_link' href='#fundamental-4.sentence-4'>.</a></div> <div id='fundamental-4.sentence-5' class='sentence'>In contrast, see ISO C 6.2.6.2<a class='hidden_link' href='#fundamental-4.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='fundamental-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-4'>4</a></i>:&ensp;<div id='fundamental-4.sentence-6' class='sentence'>The signed and unsigned integer types satisfy
the constraints given in ISO C 5.2.4.2.1<a class='hidden_link' href='#fundamental-4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='fundamental-4.sentence-7' class='sentence'>
Except as specified above,
the width of a signed or unsigned integer type is
<a class='index' id=':width_of_integral_type'></a>implementation-defined<a class='hidden_link' href='#fundamental-4.sentence-7'>.</a></div></div></div><div class='para' id='fundamental-5'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5017'>#</a></div><div class='texpara'><div id='fundamental-5.sentence-1' class='sentence'>Each value <span class='math'><span class='mathalpha'>x</span></span> of an unsigned integer type with width <span class='math'><span class='mathalpha'>N</span></span> has
a unique representation <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>,
where each coefficient <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is either 0 or 1;
this is called the <a class='hidden_link' href='#def:base-2_representation' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:base-2_representation'><i >base-2 representation</i></span></a> of <span class='math'><span class='mathalpha'>x</span></span><a class='hidden_link' href='#fundamental-5.sentence-1'>.</a></div> <div id='fundamental-5.sentence-2' class='sentence'>The base-2 representation of a value of signed integer type is
the base-2 representation of the congruent value
of the corresponding unsigned integer type<a class='hidden_link' href='#fundamental-5.sentence-2'>.</a></div> <div id='fundamental-5.sentence-3' class='sentence'>The standard signed integer types and standard unsigned integer types
are collectively called the <a class='hidden_link' href='#def:type,standard_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,standard_integer'><i >standard integer types</i></span></a>, and the extended
signed integer types and extended
unsigned integer types are collectively called the
<a class='hidden_link' href='#def:type,extended_integer' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,extended_integer'><i >extended integer types</i></span></a><a class='hidden_link' href='#fundamental-5.sentence-3'>.</a></div></div></div><div class='para' id='fundamental-6'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5031'>#</a></div><div class='texpara'><div id='fundamental-6.sentence-1' class='sentence'>A fundamental type specified to have
a signed or unsigned integer type as its <a class='hidden_link' href='#def:type,underlying' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,underlying'><i >underlying type</i></span></a> has
the same object representation,
value representation,
alignment requirements (<a href='#align' title='6.7.6&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>), and
range of representable values as the underlying type<a class='hidden_link' href='#fundamental-6.sentence-1'>.</a></div> <div id='fundamental-6.sentence-2' class='sentence'>Further, each value has the same representation in both types<a class='hidden_link' href='#fundamental-6.sentence-2'>.</a></div></div></div><div class='para' id='fundamental-7'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5040'>#</a></div><div class='texpara'><div id='fundamental-7.sentence-1' class='sentence'><a class='index' id=':type,char'></a><a class='index' id=':type,character'></a><a class='index' id=':char,implementation-defined_sign_of'></a><a class='index' id=':type,signed_char_'></a><a class='index' id=':character,signed'></a><a class='index' id=':type,unsigned_char_'></a>Type <span id=':char_________'><span class='texttt'><span class='keyword'>char</span></span></span> is a distinct type
that has an <a class='index' id=':underlying_type_of_char'></a>implementation-defined choice of
“<span class='texttt'><span id=':signed__'><span class='texttt'><span class='keyword'>signed</span></span></span> <span id=':char__________'><span class='texttt'><span class='keyword'>char</span></span></span></span>” or “<span class='texttt'><span id=':unsigned_________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char___________'><span class='texttt'><span class='keyword'>char</span></span></span></span>” as its underlying type<a class='hidden_link' href='#fundamental-7.sentence-1'>.</a></div> <div id='fundamental-7.sentence-2' class='sentence'>The three types <span id=':char____________'><span class='texttt'><span class='keyword'>char</span></span></span>, <span class='texttt'><span id=':signed___'><span class='texttt'><span class='keyword'>signed</span></span></span> <span id=':char_____________'><span class='texttt'><span class='keyword'>char</span></span></span></span>, and <span class='texttt'><span id=':unsigned__________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char______________'><span class='texttt'><span class='keyword'>char</span></span></span></span>
are collectively called
<a class='hidden_link' href='#def:type,ordinary_character' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,ordinary_character'><i >ordinary character types</i></span></a><a class='hidden_link' href='#fundamental-7.sentence-2'>.</a></div> <div id='fundamental-7.sentence-3' class='sentence'>The ordinary character types and <span id=':char8_t'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>
are collectively called <a class='hidden_link' href='#def:type,narrow_character' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,narrow_character'><i >narrow character types</i></span></a><a class='hidden_link' href='#fundamental-7.sentence-3'>.</a></div> <div id='fundamental-7.sentence-4' class='sentence'>For narrow character types,
each possible bit pattern of the object representation represents
a distinct value<a class='hidden_link' href='#fundamental-7.sentence-4'>.</a></div> <div id='fundamental-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-5'>5</a></i>:&ensp;<div id='fundamental-7.sentence-5' class='sentence'>This requirement does not hold for other types<a class='hidden_link' href='#fundamental-7.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='fundamental-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-6'>6</a></i>:&ensp;<div id='fundamental-7.sentence-6' class='sentence'>A bit-field of narrow character type whose width is larger than
the width of that type has padding bits; see <a href='#types.general' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a><a class='hidden_link' href='#fundamental-7.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fundamental-8'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5066'>#</a></div><div class='texpara'><div id='fundamental-8.sentence-1' class='sentence'><a class='index' id=':type,wchar_t'></a><a class='index' id=':type,underlying,wchar_t'></a>Type <span id=':wchar_t'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span> is a distinct type that has
an <a class='index' id=':underlying_type_of_wchar_t'></a>implementation-defined
signed or unsigned integer type as its underlying type<a class='hidden_link' href='#fundamental-8.sentence-1'>.</a></div></div></div><div class='para' id='fundamental-9'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5074'>#</a></div><div class='texpara'><div id='fundamental-9.sentence-1' class='sentence'><a class='index' id=':type,char8_t'></a><a class='index' id=':type,underlying,char8_t'></a>Type <span id=':char8_t_'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span> denotes a distinct type
whose underlying type is <span class='texttt'><span id=':unsigned___________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char_______________'><span class='texttt'><span class='keyword'>char</span></span></span></span><a class='hidden_link' href='#fundamental-9.sentence-1'>.</a></div> <div id='fundamental-9.sentence-2' class='sentence'><a class='index' id=':type,char16_t'></a><a class='index' id=':type,char32_t'></a><a class='index' id=':type,underlying,char16_t'></a><a class='index' id=':type,underlying,char32_t'></a>Types <span id=':char16_t'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span> and <span id=':char32_t'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span> denote distinct types
whose underlying types are <span class='texttt'>uint_<span class='shy'></span>least16_<span class='shy'></span>t</span> and <span class='texttt'>uint_<span class='shy'></span>least32_<span class='shy'></span>t</span>,
respectively, in <a href='cstdint.syn#header:%3ccstdint%3e' title='17.4.1&emsp;Header &lt;cstdint&gt; synopsis&emsp;[cstdint.syn]'><span id='headerref:<cstdint>'><span class='texttt'>&lt;cstdint&gt;</span></span></a><a class='hidden_link' href='#fundamental-9.sentence-2'>.</a></div></div></div><div class='para' id='fundamental-10'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5090'>#</a></div><div class='texpara'><div id='fundamental-10.sentence-1' class='sentence'><a class='index' id=':Boolean_type'></a><a class='index' id=':type,Boolean'></a>Type <span class='texttt'><span class='keyword'>bool</span></span> is a distinct type that has
the same object representation,
value representation, and
alignment requirements as
an <a class='index' id=':underlying_type_of_bool'></a>implementation-defined unsigned integer type<a class='hidden_link' href='#fundamental-10.sentence-1'>.</a></div> <div id='fundamental-10.sentence-2' class='sentence'>The values of type <span id=':bool'><span class='texttt'><span class='keyword'>bool</span></span></span> are
<span id=':true'><span class='texttt'><span class='literal'>true</span></span></span> and <span id=':false'><span class='texttt'><span class='literal'>false</span></span></span><a class='hidden_link' href='#fundamental-10.sentence-2'>.</a></div> <div id='fundamental-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-7'>7</a></i>:&ensp;<div id='fundamental-10.sentence-3' class='sentence'>There are no <span id=':signed____'><span class='texttt'><span class='keyword'>signed</span></span></span>, <span id=':unsigned____________'><span class='texttt'><span class='keyword'>unsigned</span></span></span>,
<span id=':short___'><span class='texttt'><span class='keyword'>short</span></span></span>, or <span class='texttt'><span id=':long__________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':bool_'><span class='texttt'><span class='keyword'>bool</span></span></span></span> types or values<a class='hidden_link' href='#fundamental-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fundamental-11'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5105'>#</a></div><div class='texpara'><div id='fundamental-11.sentence-1' class='sentence'><a class='index' id=':type,integral'></a>The types <span id=':char________________'><span class='texttt'><span class='keyword'>char</span></span></span>, <span id=':wchar_t_'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span>,
<span id=':char8_t__'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>, <span id=':char16_t_'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>, and <span id=':char32_t_'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>
are collectively called <a class='hidden_link' href='#def:type,character' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,character'><i >character types</i></span></a><a class='hidden_link' href='#fundamental-11.sentence-1'>.</a></div> <div id='fundamental-11.sentence-2' class='sentence'>The character types, <span id=':bool__'><span class='texttt'><span class='keyword'>bool</span></span></span>,
the signed and unsigned integer types,
and cv-qualified versions (<a href='#type.qualifier' title='6.8.5&emsp;CV-qualifiers'>[basic.<span class='shy'></span>type.<span class='shy'></span>qualifier]</a>) thereof,
are collectively termed
<a class='hidden_link' href='#def:integral_type' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:integral_type'><i >integral types</i></span></a><a class='hidden_link' href='#fundamental-11.sentence-2'>.</a></div> <div id='fundamental-11.sentence-3' class='sentence'>A synonym for integral type is <a class='hidden_link' href='#def:integer_type' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:integer_type'><i >integer type</i></span></a><a class='hidden_link' href='#fundamental-11.sentence-3'>.</a></div> <div id='fundamental-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-8'>8</a></i>:&ensp;<div id='fundamental-11.sentence-4' class='sentence'>Enumerations (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>) are not integral;
however, unscoped enumerations can be promoted to integral types
as specified in <a href='conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a><a class='hidden_link' href='#fundamental-11.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fundamental-12'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5122'>#</a></div><div class='texpara'><div id='fundamental-12.sentence-1' class='sentence'>The three distinct types
<a class='index' id=':type,float'></a><span id=':float'><span class='texttt'><span class='keyword'>float</span></span></span>,
<a class='index' id=':type,double'></a><span id=':double_'><span class='texttt'><span class='keyword'>double</span></span></span>,
and
<a class='index' id=':type,long_double'></a><span class='texttt'><span id=':long___________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':double__'><span class='texttt'><span class='keyword'>double</span></span></span></span>
can represent floating-point numbers<a class='hidden_link' href='#fundamental-12.sentence-1'>.</a></div> <div id='fundamental-12.sentence-2' class='sentence'>The type <span id=':double___'><span class='texttt'><span class='keyword'>double</span></span></span> provides at least as much
precision as <span id=':float_'><span class='texttt'><span class='keyword'>float</span></span></span>, and the type <span class='texttt'><span id=':long____________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':double____'><span class='texttt'><span class='keyword'>double</span></span></span></span> provides at
least as much precision as <span id=':double_____'><span class='texttt'><span class='keyword'>double</span></span></span><a class='hidden_link' href='#fundamental-12.sentence-2'>.</a></div> <div id='fundamental-12.sentence-3' class='sentence'>The set of values of the type
<span id=':float__'><span class='texttt'><span class='keyword'>float</span></span></span> is a subset of the set of values of the type
<span id=':double______'><span class='texttt'><span class='keyword'>double</span></span></span>; the set of values of the type <span id=':double_______'><span class='texttt'><span class='keyword'>double</span></span></span> is a subset
of the set of values of the type <span class='texttt'><span id=':long_____________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':double________'><span class='texttt'><span class='keyword'>double</span></span></span></span><a class='hidden_link' href='#fundamental-12.sentence-3'>.</a></div> <div id='fundamental-12.sentence-4' class='sentence'>The types
<span id=':float___'><span class='texttt'><span class='keyword'>float</span></span></span>, <span id=':double_________'><span class='texttt'><span class='keyword'>double</span></span></span>, and <span class='texttt'><span id=':long______________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':double__________'><span class='texttt'><span class='keyword'>double</span></span></span></span>,
and cv-qualified versions (<a href='#type.qualifier' title='6.8.5&emsp;CV-qualifiers'>[basic.<span class='shy'></span>type.<span class='shy'></span>qualifier]</a>) thereof,
are collectively termed
<a class='hidden_link' href='#def:type,floating-point,standard' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,floating-point,standard'><i >standard floating-point types</i></span></a><a class='hidden_link' href='#fundamental-12.sentence-4'>.</a></div> <div id='fundamental-12.sentence-5' class='sentence'>An implementation may also provide additional types
that represent floating-point values and define them (and cv-qualified versions thereof) to be
<a class='hidden_link' href='#def:type,floating-point,extended' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,floating-point,extended'><i >extended floating-point types</i></span></a><a class='hidden_link' href='#fundamental-12.sentence-5'>.</a></div> <div id='fundamental-12.sentence-6' class='sentence'>The standard and extended floating-point types
are collectively termed <a class='hidden_link' href='#def:type,floating-point' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,floating-point'><i >floating-point types</i></span></a><a class='hidden_link' href='#fundamental-12.sentence-6'>.</a></div> <div id='fundamental-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-9'>9</a></i>:&ensp;<div id='fundamental-12.sentence-7' class='sentence'>Any additional implementation-specific types representing floating-point values
that are not defined by the implementation to be extended floating-point types
are not considered to be floating-point types, and
this document imposes no requirements on them or
their interactions with floating-point types<a class='hidden_link' href='#fundamental-12.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='fundamental-12.sentence-8' class='sentence'>
Except as specified in <a href='#extended.fp' title='6.8.3&emsp;Optional extended floating-point types'>[basic.<span class='shy'></span>extended.<span class='shy'></span>fp]</a>,
the object and value representations and accuracy of operations
of floating-point types are <a class='index' id=':representation_of_floating-point_types'></a>implementation-defined<a class='hidden_link' href='#fundamental-12.sentence-8'>.</a></div></div></div><div class='para' id='fundamental-13'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5160'>#</a></div><div class='texpara'><div id='fundamental-13.sentence-1' class='sentence'>The minimum range of representable values for a floating-point type is
the most negative finite floating-point number representable
in that type through
the most positive finite floating-point number representable in that type<a class='hidden_link' href='#fundamental-13.sentence-1'>.</a></div> <div id='fundamental-13.sentence-2' class='sentence'>In addition, if negative infinity is representable in a type,
the range of that type is extended to all negative real numbers;
likewise, if positive infinity is representable in a type,
the range of that type is extended to all positive real numbers<a class='hidden_link' href='#fundamental-13.sentence-2'>.</a></div> <div id='fundamental-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-10'>10</a></i>:&ensp;<div id='fundamental-13.sentence-3' class='sentence'>Since negative and positive infinity are representable
in ISO/IEC/IEEE 60559 formats,
all real numbers lie within the range of representable values of
a floating-point type adhering to ISO/IEC/IEEE 60559<a class='hidden_link' href='#fundamental-13.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fundamental-14'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5176'>#</a></div><div class='texpara'><div id='fundamental-14.sentence-1' class='sentence'>Integral and floating-point types are collectively
termed <a class='hidden_link' href='#def:type,arithmetic' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:type,arithmetic'><i >arithmetic types</i></span></a><a class='hidden_link' href='#fundamental-14.sentence-1'>.</a></div> <div id='fundamental-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-11'>11</a></i>:&ensp;<div id='fundamental-14.sentence-2' class='sentence'>Properties of the arithmetic types,
such as their minimum and maximum representable value,
can be queried using the facilities in the standard library headers
<a href='limits.syn#header:%3climits%3e' title='17.3.3&emsp;Header &lt;limits&gt; synopsis&emsp;[limits.syn]'><span id='headerref:<limits>'><span class='texttt'>&lt;limits&gt;</span></span></a>,
<a href='climits.syn#header:%3cclimits%3e' title='17.3.6&emsp;Header &lt;climits&gt; synopsis&emsp;[climits.syn]'><span id='headerref:<climits>_'><span class='texttt'>&lt;climits&gt;</span></span></a>, and
<a href='cfloat.syn#header:%3ccfloat%3e' title='17.3.7&emsp;Header &lt;cfloat&gt; synopsis&emsp;[cfloat.syn]'><span id='headerref:<cfloat>'><span class='texttt'>&lt;cfloat&gt;</span></span></a><a class='hidden_link' href='#fundamental-14.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fundamental-15'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5188'>#</a></div><div class='texpara'><div id='fundamental-15.sentence-1' class='sentence'><a class='index' id=':type,void'></a>A type <span class='mathit'>cv</span> <span id=':void_____________'><span class='texttt'><span class='keyword'>void</span></span></span>
is an incomplete type that cannot be completed; such a type has
an empty set of values<a class='hidden_link' href='#fundamental-15.sentence-1'>.</a></div> <div id='fundamental-15.sentence-2' class='sentence'>It is used as the return
type for functions that do not return a value<a class='hidden_link' href='#fundamental-15.sentence-2'>.</a></div> <div id='fundamental-15.sentence-3' class='sentence'>Any expression can be
explicitly converted to type
<span class='mathit'>cv</span> <span id=':void______________'><span class='texttt'><span class='keyword'>void</span></span></span> (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#fundamental-15.sentence-3'>.</a></div> <div id='fundamental-15.sentence-4' class='sentence'>An expression of type <span class='mathit'>cv</span> <span id=':void_______________'><span class='texttt'><span class='keyword'>void</span></span></span> shall
be used only as an expression statement (<a href='stmt.expr' title='8.3&emsp;Expression statement'>[stmt.<span class='shy'></span>expr]</a>), as an operand
of a comma expression (<a href='expr.comma' title='7.6.20&emsp;Comma operator'>[expr.<span class='shy'></span>comma]</a>), as a second or third operand
of <span class='texttt'><span class='operator'>?</span><span class='operator'>:</span></span> (<a href='expr.cond' title='7.6.16&emsp;Conditional operator'>[expr.<span class='shy'></span>cond]</a>), as the operand of
<span id=':typeid__'><span class='texttt'><span class='keyword'>typeid</span></span></span>, <span id=':noexcept'><span class='texttt'><span class='keyword'>noexcept</span></span></span>, or <span id=':decltype'><span class='texttt'><span class='keyword'>decltype</span></span></span>, as
the expression in a <span id=':return'><span class='texttt'><span class='keyword'>return</span></span></span> statement (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>) for a function
with the return type <span class='mathit'>cv</span> <span id=':void________________'><span class='texttt'><span class='keyword'>void</span></span></span>, or as the operand of an explicit conversion
to type <span class='mathit'>cv</span> <span id=':void_________________'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#fundamental-15.sentence-4'>.</a></div></div></div><div class='para' id='fundamental-16'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5205'>#</a></div><div class='texpara'><div id='fundamental-16.sentence-1' class='sentence'>A value of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t</span> is a null pointer
constant (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>)<a class='hidden_link' href='#fundamental-16.sentence-1'>.</a></div> <div id='fundamental-16.sentence-2' class='sentence'>Such values participate in the pointer and the
pointer-to-member conversions (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>, <a href='conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>)<a class='hidden_link' href='#fundamental-16.sentence-2'>.</a></div> <div id='fundamental-16.sentence-3' class='sentence'><span class='texttt'><span id=':sizeof__'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_<span class='shy'></span>t<span class='parenthesis'>)</span></span> shall be equal to <span class='texttt'><span id=':sizeof___'><span class='texttt'><span class='keyword'>sizeof</span></span></span><span class='parenthesis'>(</span><span id=':void__________________'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fundamental-16.sentence-3'>.</a></div></div></div><div class='para' id='fundamental-17'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5211'>#</a></div><div class='texpara'><div id='fundamental-17.sentence-1' class='sentence'><a class='index' id=':type,fundamental'></a>The types described in this subclause
are called <a class='hidden_link' href='#def:fundamental_type' title='6.8.2&emsp;Fundamental types&emsp;[basic.fundamental]'><span id='def:fundamental_type'><i >fundamental types</i></span></a><a class='hidden_link' href='#fundamental-17.sentence-1'>.</a></div> <div id='fundamental-note-12' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fundamental-note-12'>12</a></i>:&ensp;<div id='fundamental-17.sentence-2' class='sentence'>Even if the implementation defines two or more fundamental types to have the
same value representation, they are nevertheless different types<a class='hidden_link' href='#fundamental-17.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-32'><div class='texpara'><a class='footnotenum' href='#footnote-32'>32)</a><a class='footnoteBacklink' href='#footnoteref-32'>32)</a> <div id='footnote-32.sentence-1' class='sentence'>This
is also known as two's complement representation<a class='hidden_link' href='#footnote-32.sentence-1'>.</a></div></div></div></div><div id='extended.fp' class='section'><h3 ><a class='secnum' href='#extended.fp' style='min-width:80pt'>6.8.3</a> Optional extended floating-point types <a class='abbr_ref' href='basic.extended.fp'>[basic.extended.fp]</a></h3><div class='para' id='extended.fp-1'><div class='marginalizedparent'><a class='marginalized' href='#extended.fp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5222'>#</a></div><div class='texpara'><div id='extended.fp-1.sentence-1' class='sentence'>If the implementation supports an extended floating-point type (<a href='#fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
whose properties are specified by
the ISO/IEC/IEEE 60559 floating-point interchange format binary16,
then the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_________'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float16_<span class='shy'></span>t</span>
is defined in the header <a href='stdfloat.syn#header:%3cstdfloat%3e' title='17.4.2&emsp;Header &lt;stdfloat&gt; synopsis&emsp;[stdfloat.syn]'><span id='headerref:<stdfloat>'><span class='texttt'>&lt;stdfloat&gt;</span></span></a> and names such a type,
the macro <span class='texttt'>__STDCPP_<span class='shy'></span>FLOAT16_<span class='shy'></span>T__</span> is defined (<a href='cpp.predefined' title='15.11&emsp;Predefined macro names'>[cpp.<span class='shy'></span>predefined]</a>), and
the floating-point literal suffixes <span class='texttt'>f16</span> and <span class='texttt'>F16</span>
are supported (<a href='lex.fcon' title='5.13.4&emsp;Floating-point literals'>[lex.<span class='shy'></span>fcon]</a>)<a class='hidden_link' href='#extended.fp-1.sentence-1'>.</a></div></div></div><div class='para' id='extended.fp-2'><div class='marginalizedparent'><a class='marginalized' href='#extended.fp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5232'>#</a></div><div class='texpara'><div id='extended.fp-2.sentence-1' class='sentence'>If the implementation supports an extended floating-point type
whose properties are specified by
the ISO/IEC/IEEE 60559 floating-point interchange format binary32,
then the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name__________'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float32_<span class='shy'></span>t</span>
is defined in the header <a href='stdfloat.syn#header:%3cstdfloat%3e' title='17.4.2&emsp;Header &lt;stdfloat&gt; synopsis&emsp;[stdfloat.syn]'><span id='headerref:<stdfloat>_'><span class='texttt'>&lt;stdfloat&gt;</span></span></a> and names such a type,
the macro <span class='texttt'>__STDCPP_<span class='shy'></span>FLOAT32_<span class='shy'></span>T__</span> is defined, and
the floating-point literal suffixes <span class='texttt'>f32</span> and <span class='texttt'>F32</span> are supported<a class='hidden_link' href='#extended.fp-2.sentence-1'>.</a></div></div></div><div class='para' id='extended.fp-3'><div class='marginalizedparent'><a class='marginalized' href='#extended.fp-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5241'>#</a></div><div class='texpara'><div id='extended.fp-3.sentence-1' class='sentence'>If the implementation supports an extended floating-point type
whose properties are specified by
the ISO/IEC/IEEE 60559 floating-point interchange format binary64,
then the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name___________'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float64_<span class='shy'></span>t</span>
is defined in the header <a href='stdfloat.syn#header:%3cstdfloat%3e' title='17.4.2&emsp;Header &lt;stdfloat&gt; synopsis&emsp;[stdfloat.syn]'><span id='headerref:<stdfloat>__'><span class='texttt'>&lt;stdfloat&gt;</span></span></a> and names such a type,
the macro <span class='texttt'>__STDCPP_<span class='shy'></span>FLOAT64_<span class='shy'></span>T__</span> is defined, and
the floating-point literal suffixes <span class='texttt'>f64</span> and <span class='texttt'>F64</span> are supported<a class='hidden_link' href='#extended.fp-3.sentence-1'>.</a></div></div></div><div class='para' id='extended.fp-4'><div class='marginalizedparent'><a class='marginalized' href='#extended.fp-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5250'>#</a></div><div class='texpara'><div id='extended.fp-4.sentence-1' class='sentence'>If the implementation supports an extended floating-point type
whose properties are specified by
the ISO/IEC/IEEE 60559 floating-point interchange format binary128,
then the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name____________'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float128_<span class='shy'></span>t</span>
is defined in the header <a href='stdfloat.syn#header:%3cstdfloat%3e' title='17.4.2&emsp;Header &lt;stdfloat&gt; synopsis&emsp;[stdfloat.syn]'><span id='headerref:<stdfloat>___'><span class='texttt'>&lt;stdfloat&gt;</span></span></a> and names such a type,
the macro <span class='texttt'>__STDCPP_<span class='shy'></span>FLOAT128_<span class='shy'></span>T__</span> is defined, and
the floating-point literal suffixes <span class='texttt'>f128</span> and <span class='texttt'>F128</span> are supported<a class='hidden_link' href='#extended.fp-4.sentence-1'>.</a></div></div></div><div class='para' id='extended.fp-5'><div class='marginalizedparent'><a class='marginalized' href='#extended.fp-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5259'>#</a></div><div class='texpara'><div id='extended.fp-5.sentence-1' class='sentence'>If the implementation supports an extended floating-point type
with the properties, as specified by ISO/IEC/IEEE 60559, of
radix (<span class='math'><span class='mathalpha'>b</span></span>) of 2,
storage width in bits (<span class='math'><span class='mathalpha'>k</span></span>) of 16,
precision in bits (<span class='math'><span class='mathalpha'>p</span></span>) of 8,
maximum exponent (<span class='math'><span class='mathalpha'>emax</span></span>) of 127, and
exponent field width in bits (<span class='math'><span class='mathalpha'>w</span></span>) of 8, then
the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_____________'><span class='textsf'><i >typedef-name</i></span></span></a> <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>bfloat16_<span class='shy'></span>t</span>
is defined in the header <a href='stdfloat.syn#header:%3cstdfloat%3e' title='17.4.2&emsp;Header &lt;stdfloat&gt; synopsis&emsp;[stdfloat.syn]'><span id='headerref:<stdfloat>____'><span class='texttt'>&lt;stdfloat&gt;</span></span></a> and names such a type,
the macro <span class='texttt'>__STDCPP_<span class='shy'></span>BFLOAT16_<span class='shy'></span>T__</span> is defined, and
the floating-point literal suffixes <span class='texttt'>bf16</span> and <span class='texttt'>BF16</span> are supported<a class='hidden_link' href='#extended.fp-5.sentence-1'>.</a></div></div></div><div class='para' id='extended.fp-6'><div class='marginalizedparent'><a class='marginalized' href='#extended.fp-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5272'>#</a></div><div class='texpara'><div id='extended.fp-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#extended.fp-note-1'>1</a></i>:&ensp;<div id='extended.fp-6.sentence-1' class='sentence'>A summary of the parameters for each type is given in Table <a href='#tab:basic.extended.fp' title='Table 15: Properties of named extended floating-point types'>15</a><a class='hidden_link' href='#extended.fp-6.sentence-1'>.</a></div> <div id='extended.fp-6.sentence-2' class='sentence'>The precision <span class='math'><span class='mathalpha'>p</span></span> includes the implicit 1 bit at the beginning of the significand,
so the storage used for the significand is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> bits<a class='hidden_link' href='#extended.fp-6.sentence-2'>.</a></div> <div id='extended.fp-6.sentence-3' class='sentence'>ISO/IEC/IEEE 60559 does not assign a name for a type
having the parameters specified for <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>bfloat16_<span class='shy'></span>t</span><a class='hidden_link' href='#extended.fp-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='numberedTable' id='tab:basic.extended.fp'>Table <a href='#tab:basic.extended.fp'>15</a>: Properties of named extended floating-point types&emsp;<a href='./tab:basic.extended.fp'>[tab:basic.extended.fp]</a><br><table ><tr id='tab:basic.extended.fp-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.extended.fp-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:basic.extended.fp-row-1-column-1-sentence-1' class='sentence'><b>Parameter</b></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.extended.fp-row-1-column-2-sentence-1' class='sentence'><b><span class='texttt'>float16_<span class='shy'></span>t</span></b></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.extended.fp-row-1-column-3-sentence-1' class='sentence'><b><span class='texttt'>float32_<span class='shy'></span>t</span></b></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.extended.fp-row-1-column-4-sentence-1' class='sentence'><b><span class='texttt'>float64_<span class='shy'></span>t</span></b></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.extended.fp-row-1-column-5-sentence-1' class='sentence'><b><span class='texttt'>float128_<span class='shy'></span>t</span></b></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.extended.fp-row-1-column-6-sentence-1' class='sentence'><b><span class='texttt'>bfloat16_<span class='shy'></span>t</span></b></div></div></td></tr><tr id='tab:basic.extended.fp-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.extended.fp-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-2-column-1-sentence-1' class='sentence'>ISO/IEC/IEEE 60559 name</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-2-column-2-sentence-1' class='sentence'>binary16</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-2-column-3-sentence-1' class='sentence'>binary32</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-2-column-4-sentence-1' class='sentence'>binary64</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-2-column-5-sentence-1' class='sentence'>binary128</div></div></td><td class='empty left'></td></tr><tr id='tab:basic.extended.fp-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.extended.fp-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-3-column-1-sentence-1' class='sentence'><span class='math'><span class='mathalpha'>k</span></span>, storage width in bits</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-3-column-2-sentence-1' class='sentence'>16</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-3-column-3-sentence-1' class='sentence'>32</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-3-column-4-sentence-1' class='sentence'>64</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-3-column-5-sentence-1' class='sentence'>128</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-3-column-6-sentence-1' class='sentence'>16</div></div></td></tr><tr id='tab:basic.extended.fp-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.extended.fp-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-4-column-1-sentence-1' class='sentence'><span class='math'><span class='mathalpha'>p</span></span>, precision in bits</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-4-column-2-sentence-1' class='sentence'>11</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-4-column-3-sentence-1' class='sentence'>24</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-4-column-4-sentence-1' class='sentence'>53</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-4-column-5-sentence-1' class='sentence'>113</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-4-column-6-sentence-1' class='sentence'>8</div></div></td></tr><tr id='tab:basic.extended.fp-row-5'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.extended.fp-row-5'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-5-column-1-sentence-1' class='sentence'><span class='math'><span class='mathalpha'>emax</span></span>, maximum exponent</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-5-column-2-sentence-1' class='sentence'>15</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-5-column-3-sentence-1' class='sentence'>127</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-5-column-4-sentence-1' class='sentence'>1023</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-5-column-5-sentence-1' class='sentence'>16383</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-5-column-6-sentence-1' class='sentence'>127</div></div></td></tr><tr id='tab:basic.extended.fp-row-6'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.extended.fp-row-6'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-6-column-1-sentence-1' class='sentence'><span class='math'><span class='mathalpha'>w</span></span>, exponent field width in bits</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-6-column-2-sentence-1' class='sentence'>5</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-6-column-3-sentence-1' class='sentence'>8</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-6-column-4-sentence-1' class='sentence'>11</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-6-column-5-sentence-1' class='sentence'>15</div></div></td><td class='left'><div class='texpara'><div id='tab:basic.extended.fp-row-6-column-6-sentence-1' class='sentence'>8</div></div></td></tr></table></div></div></div><div class='para' id='extended.fp-7'><div class='marginalizedparent'><a class='marginalized' href='#extended.fp-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5294'>#</a></div><div class='texpara'><div id='extended.fp-7.sentence-1' class='sentence'><i >Recommended practice</i>: Any names that the implementation provides for
the extended floating-point types described in this subsection
that are in addition to the names defined in the <a href='stdfloat.syn#header:%3cstdfloat%3e' title='17.4.2&emsp;Header &lt;stdfloat&gt; synopsis&emsp;[stdfloat.syn]'><span id='headerref:<stdfloat>_____'><span class='texttt'>&lt;stdfloat&gt;</span></span></a> header
should be chosen to increase compatibility and interoperability
with the interchange types
<span class='texttt'>_<span class='shy'></span>Float16</span>, <span class='texttt'>_<span class='shy'></span>Float32</span>, <span class='texttt'>_<span class='shy'></span>Float64</span>, and <span class='texttt'>_<span class='shy'></span>Float128</span>
defined in ISO/IEC TS 18661-3 and with future versions of ISO/IEC 9899<a class='hidden_link' href='#extended.fp-7.sentence-1'>.</a></div></div></div></div><div id='compound' class='section'><h3 ><a class='secnum' href='#compound' style='min-width:80pt'>6.8.4</a> Compound types <a class='abbr_ref' href='basic.compound'>[basic.compound]</a></h3><div class='para' id='compound-1'><div class='marginalizedparent'><a class='marginalized' href='#compound-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5306'>#</a></div><div class='texpara'><div id='compound-1.sentence-1' class='sentence'><a class='index' id=':type,compound'></a>Compound types can be constructed in the following ways:
<ul class='itemize'><li id='compound-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.1'>(1.1)</a></div><div class='texpara'><div id='compound-1.1.sentence-1' class='sentence'><a class='hidden_link' href='#def:type,array' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:type,array'><i >arrays</i></span></a> of objects of a given type, <a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>;</div></div></li><li id='compound-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.2'>(1.2)</a></div><div class='texpara'><div id='compound-1.2.sentence-1' class='sentence'><a class='hidden_link' href='#def:type,function' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:type,function'><i >functions</i></span></a>, which have parameters of given types and return
<span id=':void___________________'><span class='texttt'><span class='keyword'>void</span></span></span> or references or objects of a given type, <a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>;</div></div></li><li id='compound-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.3'>(1.3)</a></div><div class='texpara'><div id='compound-1.3.sentence-1' class='sentence'><a class='hidden_link' href='#def:type,pointer' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:type,pointer'><i >pointers</i></span></a> to <span class='mathit'>cv</span> <span id=':void____________________'><span class='texttt'><span class='keyword'>void</span></span></span> or objects or functions (including
static members of classes) of a given type, <a href='dcl.ptr' title='9.3.4.2&emsp;Pointers'>[dcl.<span class='shy'></span>ptr]</a>;</div></div></li><li id='compound-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.4'>(1.4)</a></div><div class='texpara'><div id='compound-1.4.sentence-1' class='sentence'><a class='index' id=':reference,lvalue'></a><a class='index' id=':reference,rvalue'></a><a class='hidden_link' href='#def:reference' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:reference'><i >references</i></span></a> to objects or functions of a given
type, <a href='dcl.ref' title='9.3.4.3&emsp;References'>[dcl.<span class='shy'></span>ref]</a><a class='hidden_link' href='#compound-1.4.sentence-1'>.</a></div> <div id='compound-1.4.sentence-2' class='sentence'>There are two types of references:
<ul class='itemize'><li id='compound-1.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#compound-1.4.1'>(1.4.1)</a></div>lvalue reference</li><li id='compound-1.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#compound-1.4.2'>(1.4.2)</a></div>rvalue reference</li></ul></div></div></li><li id='compound-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.5'>(1.5)</a></div><div class='texpara'><div id='compound-1.5.sentence-1' class='sentence'><a class='hidden_link' href='#def:class' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:class'><i >classes</i></span></a> containing a sequence of objects of various types (<a href='class' title='11&emsp;Classes'>[class]</a>),
a set of types, enumerations and functions for
manipulating these objects (<a href='class.mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>), and a set of restrictions
on the access to these entities (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>);</div></div></li><li id='compound-1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.6'>(1.6)</a></div><div class='texpara'><div id='compound-1.6.sentence-1' class='sentence'><a class='hidden_link' href='#def:union' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:union'><i >unions</i></span></a>, which are classes capable of containing objects of
different types at different times, <a href='class.union' title='11.5&emsp;Unions'>[class.<span class='shy'></span>union]</a>;</div></div></li><li id='compound-1.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.7'>(1.7)</a></div><div class='texpara'><div id='compound-1.7.sentence-1' class='sentence'><a class='hidden_link' href='#def:enum' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:enum'><i >enumerations</i></span></a>,
which comprise a set of named constant values, <a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>;</div></div></li><li id='compound-1.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-1.8'>(1.8)</a></div><div class='texpara'><div id='compound-1.8.sentence-1' class='sentence'><a class='hidden_link' href='#def:pointer_to_member' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:pointer_to_member'><i >pointers to non-static class members</i></span></a>,<a class='footnoteref' href='#footnote-33' id='footnoteref-33' title='Static class members are objects or functions, and pointers to them are ordinary pointers to objects or functions.'>33</a>
which identify members of a given
type within objects of a given class, <a href='dcl.mptr' title='9.3.4.4&emsp;Pointers to members'>[dcl.<span class='shy'></span>mptr]</a><a class='hidden_link' href='#compound-1.8.sentence-1'>.</a></div> <div id='compound-1.8.sentence-2' class='sentence'>Pointers to data members and pointers to member functions are collectively
called <a class='hidden_link' href='#def:pointer-to-member' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:pointer-to-member'><i >pointer-to-member</i></span></a> types<a class='hidden_link' href='#compound-1.8.sentence-2'>.</a></div></div></li></ul></div></div></div><div class='para' id='compound-2'><div class='marginalizedparent'><a class='marginalized' href='#compound-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5355'>#</a></div><div class='texpara'><div id='compound-2.sentence-1' class='sentence'>These methods of constructing types can be applied recursively;
restrictions are mentioned in <a href='dcl.meaning' title='9.3.4&emsp;Meaning of declarators'>[dcl.<span class='shy'></span>meaning]</a><a class='hidden_link' href='#compound-2.sentence-1'>.</a></div> <div id='compound-2.sentence-2' class='sentence'>Constructing a type such that the number of
bytes in its object representation exceeds the maximum value representable in
the type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_<span class='shy'></span>t</span> (<a href='support.types' title='17.2&emsp;Common definitions'>[support.<span class='shy'></span>types]</a>) is ill-formed<a class='hidden_link' href='#compound-2.sentence-2'>.</a></div></div></div><div class='para' id='compound-3'><div class='marginalizedparent'><a class='marginalized' href='#compound-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5362'>#</a></div><div class='texpara'><div id='compound-3.sentence-1' class='sentence'><a class='index' id=':terminology,pointer'></a>The type of a pointer to <span class='mathit'>cv</span> <span id=':void_____________________'><span class='texttt'><span class='keyword'>void</span></span></span> or a pointer to an object type is
called an <a class='hidden_link' href='#def:object_pointer_type' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:object_pointer_type'><i >object pointer type</i></span></a><a class='hidden_link' href='#compound-3.sentence-1'>.</a></div> <div id='compound-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#compound-note-1'>1</a></i>:&ensp;<div id='compound-3.sentence-2' class='sentence'>A pointer to <span id=':void______________________'><span class='texttt'><span class='keyword'>void</span></span></span>
does not have a pointer-to-object type, however, because <span id=':void_______________________'><span class='texttt'><span class='keyword'>void</span></span></span> is not
an object type<a class='hidden_link' href='#compound-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='compound-3.sentence-3' class='sentence'>
The type of a pointer that can designate a function
is called a <a class='hidden_link' href='#def:function_pointer_type' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:function_pointer_type'><i >function pointer type</i></span></a><a class='hidden_link' href='#compound-3.sentence-3'>.</a></div> <div id='compound-3.sentence-4' class='sentence'>A pointer to an object of type <span class='texttt'>T</span> is referred to as a “pointer to
<span class='texttt'>T</span>”<a class='hidden_link' href='#compound-3.sentence-4'>.</a></div> <div id='compound-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#compound-example-1'>1</a></i>:&ensp;<div id='compound-3.sentence-5' class='sentence'>A pointer to an object of type <span id=':int____________'><span class='texttt'><span class='keyword'>int</span></span></span> is
referred to as “pointer to <span id=':int_____________'><span class='texttt'><span class='keyword'>int</span></span></span>” and a pointer to an object of
class <span class='texttt'>X</span> is called a “pointer to <span class='texttt'>X</span>”<a class='hidden_link' href='#compound-3.sentence-5'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='compound-3.sentence-6' class='sentence'>
Except for pointers to static members, text referring to “pointers”
does not apply to pointers to members<a class='hidden_link' href='#compound-3.sentence-6'>.</a></div> <div id='compound-3.sentence-7' class='sentence'>Pointers to incomplete types are
allowed although there are restrictions on what can be done with
them (<a href='#types.general' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#compound-3.sentence-7'>.</a></div> <div id='compound-3.sentence-8' class='sentence'><a class='index' id=':address'></a>Every value of pointer type is one of the following:
<ul class='itemize'><li id='compound-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-3.1'>(3.1)</a></div>a <a class='hidden_link' href='#def:pointer_to' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:pointer_to'><i >pointer to</i></span></a> an object or function (the pointer is said to <a class='hidden_link' href='#def:point' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:point'><i >point</i></span></a> to the object or function), or</li><li id='compound-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-3.2'>(3.2)</a></div>a <a class='hidden_link' href='#def:pointer_past_the_end_of' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:pointer_past_the_end_of'><i >pointer past the end of</i></span></a> an object (<a href='expr.add' title='7.6.6&emsp;Additive operators'>[expr.<span class='shy'></span>add]</a>), or</li><li id='compound-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-3.3'>(3.3)</a></div>
the <a class='hidden_link' href='#def:value,null_pointer' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:value,null_pointer'><i >null pointer value</i></span></a> for that type, or</li><li id='compound-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-3.4'>(3.4)</a></div>
an <a class='hidden_link' href='#def:value,invalid_pointer' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:value,invalid_pointer'><i >invalid pointer value</i></span></a><a class='hidden_link' href='#compound-3.sentence-8'>.</a></li></ul></div> <div id='compound-3.sentence-9' class='sentence'>
A value of a
pointer type
that is a pointer to or past the end of an object
<a class='hidden_link' href='#def:represents_the_address' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:represents_the_address'><i >represents the address</i></span></a> of
the first byte in memory (<a href='#intro.memory' title='6.7.1&emsp;Memory model'>[intro.<span class='shy'></span>memory]</a>) occupied by the object<a class='footnoteref' href='#footnote-34' id='footnoteref-34' title='For an object that is not within its lifetime, this is the first byte in memory that it will occupy or used to occupy.'>34</a>
or the first byte in memory
after the end of the storage occupied by the object,
respectively<a class='hidden_link' href='#compound-3.sentence-9'>.</a></div> <div id='compound-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#compound-note-2'>2</a></i>:&ensp;<div id='compound-3.sentence-10' class='sentence'>A pointer past the end of an object (<a href='expr.add' title='7.6.6&emsp;Additive operators'>[expr.<span class='shy'></span>add]</a>)
is not considered to point to an unrelated object
of the object's type,
even if the unrelated object is located at that address<a class='hidden_link' href='#compound-3.sentence-10'>.</a></div> <div id='compound-3.sentence-11' class='sentence'>A pointer value becomes invalid
when the storage it denotes
reaches the end of its storage duration;
see <a href='#stc' title='6.7.5&emsp;Storage duration'>[basic.<span class='shy'></span>stc]</a><a class='hidden_link' href='#compound-3.sentence-11'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='compound-3.sentence-12' class='sentence'>
For purposes of pointer arithmetic (<a href='expr.add' title='7.6.6&emsp;Additive operators'>[expr.<span class='shy'></span>add]</a>)
and comparison (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>, <a href='expr.eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>),
a pointer past the end of the last element of
an array <span class='texttt'>x</span> of <span class='math'><span class='mathalpha'>n</span></span> elements
is considered to be equivalent to
a pointer to a hypothetical array element <span class='math'><span class='mathalpha'>n</span></span> of <span class='texttt'>x</span> and
an object of type <span class='texttt'>T</span> that is not an array element
is considered to belong to an array with one element of type <span class='texttt'>T</span><a class='hidden_link' href='#compound-3.sentence-12'>.</a></div> <div id='compound-3.sentence-13' class='sentence'>The value representation of
pointer types is <a class='index' id=':value_representation_of_pointer_types'></a>implementation-defined<a class='hidden_link' href='#compound-3.sentence-13'>.</a></div> <div id='compound-3.sentence-14' class='sentence'>Pointers to
layout-compatible types shall
have the same value representation and alignment
requirements (<a href='#align' title='6.7.6&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>)<a class='hidden_link' href='#compound-3.sentence-14'>.</a></div> <div id='compound-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#compound-note-3'>3</a></i>:&ensp;<div id='compound-3.sentence-15' class='sentence'>Pointers to <a href='#def:type,over-aligned' title='6.7.6&emsp;Alignment&emsp;[basic.align]'>over-aligned types</a> have no special
representation, but their range of valid values is restricted by the extended
alignment requirement<a class='hidden_link' href='#compound-3.sentence-15'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='compound-4'><div class='marginalizedparent'><a class='marginalized' href='#compound-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5439'>#</a></div><div class='texpara'><div id='compound-4.sentence-1' class='sentence'>Two objects <i >a</i> and <i >b</i> are <a class='hidden_link' href='#def:pointer-interconvertible' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:pointer-interconvertible'><i >pointer-interconvertible</i></span></a> if:
<ul class='itemize'><li id='compound-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-4.1'>(4.1)</a></div>they are the same object, or</li><li id='compound-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-4.2'>(4.2)</a></div>one is a union object and
the other is a non-static data member of that object (<a href='class.union' title='11.5&emsp;Unions'>[class.<span class='shy'></span>union]</a>), or</li><li id='compound-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-4.3'>(4.3)</a></div>one is a standard-layout class object and
the other is the first non-static data member of that object or
any base class subobject of that object (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>), or</li><li id='compound-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compound-4.4'>(4.4)</a></div>there exists an object <i >c</i> such that
<i >a</i> and <i >c</i> are pointer-interconvertible, and
<i >c</i> and <i >b</i> are pointer-interconvertible<a class='hidden_link' href='#compound-4.sentence-1'>.</a></li></ul></div> <div id='compound-4.sentence-2' class='sentence'>
If two objects are pointer-interconvertible,
then they have the same address,
and it is possible to obtain a pointer to one
from a pointer to the other
via a <span id=':reinterpret_cast_'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> (<a href='expr.reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#compound-4.sentence-2'>.</a></div> <div id='compound-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#compound-note-4'>4</a></i>:&ensp;<div id='compound-4.sentence-3' class='sentence'>An array object and its first element are not pointer-interconvertible,
even though they have the same address<a class='hidden_link' href='#compound-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='compound-5'><div class='marginalizedparent'><a class='marginalized' href='#compound-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5466'>#</a></div><div class='texpara'><div id='compound-5.sentence-1' class='sentence'>A byte of storage <i >b</i>
is <a class='hidden_link' href='#def:storage,reachable_through_a_pointer_value' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'><span id='def:storage,reachable_through_a_pointer_value'><i >reachable through</i></span></a>
a pointer value that points to an object <i >x</i>
if there is an object <i >y</i>,
pointer-interconvertible with <i >x</i>,
such that <i >b</i> is within the storage occupied by
<i >y</i>, or the immediately-enclosing array object
if <i >y</i> is an array element<a class='hidden_link' href='#compound-5.sentence-1'>.</a></div></div></div><div class='para' id='compound-6'><div class='marginalizedparent'><a class='marginalized' href='#compound-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5476'>#</a></div><div class='texpara'><div id='compound-6.sentence-1' class='sentence'><a class='index' id=':void*,type'></a>A pointer to <span class='mathit'>cv</span> <span id=':void________________________'><span class='texttt'><span class='keyword'>void</span></span></span>
can be used to point to objects of
unknown type<a class='hidden_link' href='#compound-6.sentence-1'>.</a></div> <div id='compound-6.sentence-2' class='sentence'>Such a pointer shall be able to hold any object pointer<a class='hidden_link' href='#compound-6.sentence-2'>.</a></div> <div id='compound-6.sentence-3' class='sentence'>An object of type “pointer to <span class='mathit'>cv</span> <span id=':void_________________________'><span class='texttt'><span class='keyword'>void</span></span></span>”
shall have the same representation and alignment
requirements as an object of type “pointer to <span class='mathit'>cv</span> <span id=':char_________________'><span class='texttt'><span class='keyword'>char</span></span></span>”<a class='hidden_link' href='#compound-6.sentence-3'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-33'><div class='texpara'><a class='footnotenum' href='#footnote-33'>33)</a><a class='footnoteBacklink' href='#footnoteref-33'>33)</a> <div id='footnote-33.sentence-1' class='sentence'>Static class members are objects or functions, and pointers to them are
ordinary pointers to objects or functions<a class='hidden_link' href='#footnote-33.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-34'><div class='texpara'><a class='footnotenum' href='#footnote-34'>34)</a><a class='footnoteBacklink' href='#footnoteref-34'>34)</a> <div id='footnote-34.sentence-1' class='sentence'>For an object that is not within its lifetime,
this is the first byte in memory that it will occupy or used to occupy<a class='hidden_link' href='#footnote-34.sentence-1'>.</a></div></div></div></div><div id='type.qualifier' class='section'><h3 ><a class='secnum' href='#type.qualifier' style='min-width:80pt'>6.8.5</a> CV-qualifiers <a class='abbr_ref' href='basic.type.qualifier'>[basic.type.qualifier]</a></h3><div class='para' id='type.qualifier-1'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5488'>#</a></div><div class='texpara'><div id='type.qualifier-1.sentence-1' class='sentence'><a class='index' id=':cv-qualifier'></a><a class='index' id=':const'></a><a class='index' id=':volatile'></a>Each type other than a function or reference type
is part of a group of four distinct, but related, types:
a <a class='hidden_link' href='#def:cv-unqualified' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:cv-unqualified'><i >cv-unqualified</i></span></a> version,
a <a class='hidden_link' href='#def:const-qualified' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:const-qualified'><i >const-qualified</i></span></a> version,
a <a class='hidden_link' href='#def:volatile-qualified' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:volatile-qualified'><i >volatile-qualified</i></span></a> version, and
a <a class='hidden_link' href='#def:const-volatile-qualified' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:const-volatile-qualified'><i >const-volatile-qualified</i></span></a> version<a class='hidden_link' href='#type.qualifier-1.sentence-1'>.</a></div> <div id='type.qualifier-1.sentence-2' class='sentence'>The types in each such group shall have
the same representation and alignment requirements (<a href='#align' title='6.7.6&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>)<a class='hidden_link' href='#type.qualifier-1.sentence-2'>.</a><a class='footnoteref' href='#footnote-35' id='footnoteref-35' title='The same representation and alignment requirements are meant to imply interchangeability as arguments to functions, return values from functions, and non-static data members of unions.'>35</a></div> <div id='type.qualifier-1.sentence-3' class='sentence'>
A function or reference type is always cv-unqualified<a class='hidden_link' href='#type.qualifier-1.sentence-3'>.</a></div> <ul class='itemize'><li id='type.qualifier-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type.qualifier-1.1'>(1.1)</a></div><div class='texpara'><div id='type.qualifier-1.1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:object,const' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:object,const'><i >const object</i></span></a> is an object of type <span class='texttt'><span id=':const_'><span class='texttt'><span class='keyword'>const</span></span></span> T</span> or a
  non-mutable subobject of a const object<a class='hidden_link' href='#type.qualifier-1.1.sentence-1'>.</a></div></div></li><li id='type.qualifier-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type.qualifier-1.2'>(1.2)</a></div><div class='texpara'><div id='type.qualifier-1.2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:object,volatile' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:object,volatile'><i >volatile object</i></span></a> is an object of type
  <span class='texttt'><span id=':volatile_'><span class='texttt'><span class='keyword'>volatile</span></span></span> T</span> or a subobject of a volatile object<a class='hidden_link' href='#type.qualifier-1.2.sentence-1'>.</a></div></div></li><li id='type.qualifier-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type.qualifier-1.3'>(1.3)</a></div><div class='texpara'><div id='type.qualifier-1.3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:object,const_volatile' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:object,const_volatile'><i >const volatile object</i></span></a> is an object of type
  <span class='texttt'><span id=':const__'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':volatile__'><span class='texttt'><span class='keyword'>volatile</span></span></span> T</span>, a non-mutable subobject of a const volatile object,
  a const subobject of a volatile object, or a non-mutable volatile
  subobject of a const object<a class='hidden_link' href='#type.qualifier-1.3.sentence-1'>.</a></div></div></li></ul> <div id='type.qualifier-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#type.qualifier-note-1'>1</a></i>:&ensp;<div id='type.qualifier-1.sentence-4' class='sentence'>The type of an object (<a href='#intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) includes
the <a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i> specified in the
<a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq'><span class='textsf'><i >decl-specifier-seq</i></span></span></a> (<a href='dcl.spec' title='9.2&emsp;Specifiers'>[dcl.<span class='shy'></span>spec]</a>),
<a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator______'><span class='textsf'><i >declarator</i></span></span></a> (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>),
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id'><span class='textsf'><i >type-id</i></span></span></a> (<a href='dcl.name' title='9.3.2&emsp;Type names'>[dcl.<span class='shy'></span>name]</a>), or
<a href='expr.new#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id'><span class='textsf'><i >new-type-id</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>)
when the object is created<a class='hidden_link' href='#type.qualifier-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='type.qualifier-2'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5530'>#</a></div><div class='texpara'><div id='type.qualifier-2.sentence-1' class='sentence'>Except for array types, a compound type (<a href='#compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) is not cv-qualified by the
cv-qualifiers (if any) of the types from which it is compounded<a class='hidden_link' href='#type.qualifier-2.sentence-1'>.</a></div></div></div><div class='para' id='type.qualifier-3'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5534'>#</a></div><div class='texpara'><div id='type.qualifier-3.sentence-1' class='sentence'><a class='index' id=':array,const'></a>An array type whose elements are cv-qualified
is also considered to have the same cv-qualifications
as its elements<a class='hidden_link' href='#type.qualifier-3.sentence-1'>.</a></div> <div id='type.qualifier-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#type.qualifier-note-2'>2</a></i>:&ensp;<div id='type.qualifier-3.sentence-2' class='sentence'>Cv-qualifiers applied to an array
type attach to the underlying element type, so the notation
“<span class='mathit'>cv</span> <span class='texttt'>T</span>”, where <span class='texttt'>T</span> is an array type, refers to
an array whose elements are so-qualified (<a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#type.qualifier-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='type.qualifier-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#type.qualifier-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>char</span> CA<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span>;
<span class='keyword'>typedef</span> <span class='keyword'>const</span> <span class='keyword'>char</span> CC;
CC arr1<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>0</span> <span class='curlybracket'>}</span>;
<span class='keyword'>const</span> CA arr2 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>0</span> <span class='curlybracket'>}</span>;
</span> <div id='type.qualifier-3.sentence-3' class='sentence'>
The type of both <span class='texttt'>arr1</span> and <span class='texttt'>arr2</span> is “array of 5
<span class='texttt'><span id=':const___'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':char__________________'><span class='texttt'><span class='keyword'>char</span></span></span></span>”, and the array type is considered to be
const-qualified<a class='hidden_link' href='#type.qualifier-3.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div> </div></div><div class='para nonNormativeOnly' id='type.qualifier-4'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5558'>#</a></div><div class='texpara'><div id='type.qualifier-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#type.qualifier-note-3'>3</a></i>:&ensp;<div id='type.qualifier-4.sentence-1' class='sentence'>See <a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a> and <a href='over.match.funcs' title='12.2.2&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a> regarding function
types that have <a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier_'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i><a class='hidden_link' href='#type.qualifier-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='type.qualifier-5'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5564'>#</a></div><div class='texpara'><div id='type.qualifier-5.sentence-1' class='sentence'>There is a partial ordering on cv-qualifiers, so that a type can be
said to be <a class='hidden_link' href='#def:more_cv-qualified' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:more_cv-qualified'><i >more cv-qualified</i></span></a> than another<a class='hidden_link' href='#type.qualifier-5.sentence-1'>.</a></div> <div id='type.qualifier-5.sentence-2' class='sentence'>Table <a href='#tab:basic.type.qualifier.rel' title='Table 16: Relations on const and volatile'>16</a> shows the relations that
constitute this ordering<a class='hidden_link' href='#type.qualifier-5.sentence-2'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:basic.type.qualifier.rel'>Table <a href='#tab:basic.type.qualifier.rel'>16</a>: Relations on <span id=':const____'><span class='texttt'><span class='keyword'>const</span></span></span> and <span id=':volatile___'><span class='texttt'><span class='keyword'>volatile</span></span></span>&emsp;<a href='./tab:basic.type.qualifier.rel'>[tab:basic.type.qualifier.rel]</a><br><table ><tr id='tab:basic.type.qualifier.rel-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.type.qualifier.rel-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-1-column-1-sentence-1' class='sentence'><i >no cv-qualifier</i></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-1-column-2-sentence-1' class='sentence'>&lt;</div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-1-column-3-sentence-1' class='sentence'><span id=':const_____'><span class='texttt'><span class='keyword'>const</span></span></span></div></div></td></tr><tr id='tab:basic.type.qualifier.rel-row-2'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.type.qualifier.rel-row-2'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-2-column-1-sentence-1' class='sentence'><i >no cv-qualifier</i></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-2-column-2-sentence-1' class='sentence'>&lt;</div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-2-column-3-sentence-1' class='sentence'><span id=':volatile____'><span class='texttt'><span class='keyword'>volatile</span></span></span></div></div></td></tr><tr id='tab:basic.type.qualifier.rel-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.type.qualifier.rel-row-3'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-3-column-1-sentence-1' class='sentence'><i >no cv-qualifier</i></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-3-column-2-sentence-1' class='sentence'>&lt;</div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-3-column-3-sentence-1' class='sentence'><span class='texttt'><span id=':const______'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':volatile_____'><span class='texttt'><span class='keyword'>volatile</span></span></span></span></div></div></td></tr><tr id='tab:basic.type.qualifier.rel-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.type.qualifier.rel-row-4'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-4-column-1-sentence-1' class='sentence'><span id=':const_______'><span class='texttt'><span class='keyword'>const</span></span></span></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-4-column-2-sentence-1' class='sentence'>&lt;</div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-4-column-3-sentence-1' class='sentence'><span class='texttt'><span id=':const________'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':volatile______'><span class='texttt'><span class='keyword'>volatile</span></span></span></span></div></div></td></tr><tr id='tab:basic.type.qualifier.rel-row-5'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:basic.type.qualifier.rel-row-5'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-5-column-1-sentence-1' class='sentence'><span id=':volatile_______'><span class='texttt'><span class='keyword'>volatile</span></span></span></div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-5-column-2-sentence-1' class='sentence'>&lt;</div></div></td><td class='center'><div class='texpara'><div id='tab:basic.type.qualifier.rel-row-5-column-3-sentence-1' class='sentence'><span class='texttt'><span id=':const_________'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':volatile________'><span class='texttt'><span class='keyword'>volatile</span></span></span></span></div></div></td></tr></table></div></div></div><div class='para' id='type.qualifier-6'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5580'>#</a></div><div class='texpara'><div id='type.qualifier-6.sentence-1' class='sentence'>In this document, the notation <span class='mathit'>cv</span> (or
<i >cv1</i>, <i >cv2</i>, etc<a class='hidden_link' href='#type.qualifier-6.sentence-1'>.</a>)</div> <div id='type.qualifier-6.sentence-2' class='sentence'>, used in the description of types,
represents an arbitrary set of cv-qualifiers, i.e., one of
{<span id=':const__________'><span class='texttt'><span class='keyword'>const</span></span></span>}, {<span id=':volatile_________'><span class='texttt'><span class='keyword'>volatile</span></span></span>}, {<span id=':const___________'><span class='texttt'><span class='keyword'>const</span></span></span>,
<span id=':volatile__________'><span class='texttt'><span class='keyword'>volatile</span></span></span>}, or the empty set<a class='hidden_link' href='#type.qualifier-6.sentence-2'>.</a></div> <div id='type.qualifier-6.sentence-3' class='sentence'>For a type <span class='mathit'>cv</span> <span class='texttt'>T</span>, the <a class='hidden_link' href='#def:cv-qualifier,top-level' title='6.8.5&emsp;CV-qualifiers&emsp;[basic.type.qualifier]'><span id='def:cv-qualifier,top-level'><i >top-level cv-qualifiers</i></span></a>
of that type are those denoted by <span class='mathit'>cv</span><a class='hidden_link' href='#type.qualifier-6.sentence-3'>.</a></div> <div id='type.qualifier-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#type.qualifier-example-2'>2</a></i>:&ensp;<div id='type.qualifier-6.sentence-4' class='sentence'>The type corresponding to the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_'><span class='textsf'><i >type-id</i></span></span></a>
<span class='texttt'><span id=':const____________'><span class='texttt'><span class='keyword'>const</span></span></span> <span id=':int______________'><span class='texttt'><span class='keyword'>int</span></span></span><span class='operator'>&amp;</span></span>
has no top-level cv-qualifiers<a class='hidden_link' href='#type.qualifier-6.sentence-4'>.</a></div> <div id='type.qualifier-6.sentence-5' class='sentence'>The type corresponding to the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__'><span class='textsf'><i >type-id</i></span></span></a>
<span class='texttt'><span id=':volatile___________'><span class='texttt'><span class='keyword'>volatile</span></span></span> <span id=':int_______________'><span class='texttt'><span class='keyword'>int</span></span></span> <span class='operator'>*</span> <span id=':const_____________'><span class='texttt'><span class='keyword'>const</span></span></span></span>
has the top-level cv-qualifier <span id=':const______________'><span class='texttt'><span class='keyword'>const</span></span></span><a class='hidden_link' href='#type.qualifier-6.sentence-5'>.</a></div> <div id='type.qualifier-6.sentence-6' class='sentence'>For a class type <span class='texttt'>C</span>,
the type corresponding to the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___'><span class='textsf'><i >type-id</i></span></span></a>
<span class='texttt'><span id=':void__________________________'><span class='texttt'><span class='keyword'>void</span></span></span> <span class='parenthesis'>(</span>C<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span> <span id=':volatile____________'><span class='texttt'><span class='keyword'>volatile</span></span></span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span id=':int________________'><span class='texttt'><span class='keyword'>int</span></span></span><span class='parenthesis'>)</span> <span id=':const_______________'><span class='texttt'><span class='keyword'>const</span></span></span></span>
has the top-level cv-qualifier <span id=':volatile_____________'><span class='texttt'><span class='keyword'>volatile</span></span></span><a class='hidden_link' href='#type.qualifier-6.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-35'><div class='texpara'><a class='footnotenum' href='#footnote-35'>35)</a><a class='footnoteBacklink' href='#footnoteref-35'>35)</a> <div id='footnote-35.sentence-1' class='sentence'>The same representation and alignment requirements
are meant to imply interchangeability as
arguments to functions,
return values from functions, and
non-static data members of unions<a class='hidden_link' href='#footnote-35.sentence-1'>.</a></div></div></div></div><div id='conv.rank' class='section'><h3 ><a class='secnum' href='#conv.rank' style='min-width:80pt'>6.8.6</a> Conversion ranks <a class='abbr_ref' href='conv.rank'>[conv.rank]</a></h3><div class='texpara'><a class='index' id=':conversion,integer_rank'></a></div><div class='para' id='conv.rank-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.rank-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5604'>#</a></div><div class='texpara'><div id='conv.rank-1.sentence-1' class='sentence'>Every integer type has an <a class='hidden_link' href='#def:integer_conversion_rank' id='def:integer_conversion_rank'><i>integer conversion rank</i></a> defined as follows:
<ul class='itemize'><li id='conv.rank-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.1'>(1.1)</a></div><div class='texpara'><div id='conv.rank-1.1.sentence-1' class='sentence'>No two signed integer types other than <span id=':char___________________'><span class='texttt'><span class='keyword'>char</span></span></span> and <span class='texttt'><span id=':signed_____'><span class='texttt'><span class='keyword'>signed</span></span></span>
<span id=':char____________________'><span class='texttt'><span class='keyword'>char</span></span></span></span> (if <span id=':char_____________________'><span class='texttt'><span class='keyword'>char</span></span></span> is signed) have the same rank, even if they have
the same representation<a class='hidden_link' href='#conv.rank-1.1.sentence-1'>.</a></div></div></li><li id='conv.rank-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.2'>(1.2)</a></div><div class='texpara'><div id='conv.rank-1.2.sentence-1' class='sentence'>The rank of a signed integer type is greater than the rank
of any signed integer type with a smaller width<a class='hidden_link' href='#conv.rank-1.2.sentence-1'>.</a></div></div></li><li id='conv.rank-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.3'>(1.3)</a></div><div class='texpara'><div id='conv.rank-1.3.sentence-1' class='sentence'>The rank of <span class='texttt'><span id=':long_______________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':long________________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int_________________'><span class='texttt'><span class='keyword'>int</span></span></span></span> is greater
than the rank of <span class='texttt'><span id=':long_________________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':int__________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>, which is greater than
the rank of <span id=':int___________________'><span class='texttt'><span class='keyword'>int</span></span></span>, which is greater than the rank of
<span class='texttt'><span id=':short____'><span class='texttt'><span class='keyword'>short</span></span></span> <span id=':int____________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>, which is greater than the rank of
<span class='texttt'><span id=':signed______'><span class='texttt'><span class='keyword'>signed</span></span></span> <span id=':char______________________'><span class='texttt'><span class='keyword'>char</span></span></span></span><a class='hidden_link' href='#conv.rank-1.3.sentence-1'>.</a></div></div></li><li id='conv.rank-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.4'>(1.4)</a></div><div class='texpara'><div id='conv.rank-1.4.sentence-1' class='sentence'>The rank of any unsigned integer type equals the rank of the
corresponding signed integer type<a class='hidden_link' href='#conv.rank-1.4.sentence-1'>.</a></div></div></li><li id='conv.rank-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.5'>(1.5)</a></div><div class='texpara'><div id='conv.rank-1.5.sentence-1' class='sentence'>The rank of any standard integer type is greater than the
rank of any extended integer type with the same width<a class='hidden_link' href='#conv.rank-1.5.sentence-1'>.</a></div></div></li><li id='conv.rank-1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.6'>(1.6)</a></div><div class='texpara'><div id='conv.rank-1.6.sentence-1' class='sentence'>The rank of <span id=':char_______________________'><span class='texttt'><span class='keyword'>char</span></span></span> equals the rank of <span class='texttt'><span id=':signed_______'><span class='texttt'><span class='keyword'>signed</span></span></span> <span id=':char________________________'><span class='texttt'><span class='keyword'>char</span></span></span></span>
and <span class='texttt'><span id=':unsigned_____________'><span class='texttt'><span class='keyword'>unsigned</span></span></span> <span id=':char_________________________'><span class='texttt'><span class='keyword'>char</span></span></span></span><a class='hidden_link' href='#conv.rank-1.6.sentence-1'>.</a></div></div></li><li id='conv.rank-1.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.7'>(1.7)</a></div><div class='texpara'><div id='conv.rank-1.7.sentence-1' class='sentence'>The rank of <span class='texttt'><span class='keyword'>bool</span></span> is less than the rank of all
standard integer types<a class='hidden_link' href='#conv.rank-1.7.sentence-1'>.</a></div></div></li><li id='conv.rank-1.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.8'>(1.8)</a></div><div class='texpara'><div id='conv.rank-1.8.sentence-1' class='sentence'><a class='index' id=':type,wchar_t_'></a><a class='index' id=':type,char16_t_'></a><a class='index' id=':type,char32_t_'></a>The ranks of <span id=':char8_t___'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>, <span id=':char16_t__'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>, <span id=':char32_t__'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>, and
<span id=':wchar_t__'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span> equal the ranks of their underlying
types (<a href='#fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)<a class='hidden_link' href='#conv.rank-1.8.sentence-1'>.</a></div></div></li><li id='conv.rank-1.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.9'>(1.9)</a></div><div class='texpara'><div id='conv.rank-1.9.sentence-1' class='sentence'>The rank of any extended signed integer type relative to another
extended signed integer type with the same width is <a class='index' id=':rank_of_extended_signed_integer_type'></a>implementation-defined, but still subject to the other rules for determining the integer
conversion rank<a class='hidden_link' href='#conv.rank-1.9.sentence-1'>.</a></div></div></li><li id='conv.rank-1.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-1.10'>(1.10)</a></div><div class='texpara'><div id='conv.rank-1.10.sentence-1' class='sentence'>For all integer types <span class='texttt'>T1</span>, <span class='texttt'>T2</span>, and <span class='texttt'>T3</span>, if
<span class='texttt'>T1</span> has greater rank than <span class='texttt'>T2</span> and <span class='texttt'>T2</span> has greater
rank than <span class='texttt'>T3</span>, then <span class='texttt'>T1</span> has greater rank than
<span class='texttt'>T3</span><a class='hidden_link' href='#conv.rank-1.10.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='conv.rank-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.rank-note-1'>1</a></i>:&ensp;<div id='conv.rank-1.sentence-2' class='sentence'>The integer conversion rank is used in the definition of the integral
promotions (<a href='conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>) and the usual arithmetic
conversions (<a href='expr.arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>)<a class='hidden_link' href='#conv.rank-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.rank-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.rank-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5657'>#</a></div><div class='texpara'><div id='conv.rank-2.sentence-1' class='sentence'>Every floating-point type has a <a class='hidden_link' href='#def:conversion_rank,floating-point' title='6.8.6&emsp;Conversion ranks&emsp;[conv.rank]'><span id='def:conversion_rank,floating-point'><i >floating-point conversion rank</i></span></a>
defined as follows:
<ul class='itemize'><li id='conv.rank-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-2.1'>(2.1)</a></div><div class='texpara'><div id='conv.rank-2.1.sentence-1' class='sentence'>The rank of a floating point type <span class='texttt'>T</span> is greater than
the rank of any floating-point type
whose set of values is a proper subset of the set of values of <span class='texttt'>T</span><a class='hidden_link' href='#conv.rank-2.1.sentence-1'>.</a></div></div></li><li id='conv.rank-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-2.2'>(2.2)</a></div><div class='texpara'><div id='conv.rank-2.2.sentence-1' class='sentence'>The rank of <span class='texttt'><span id=':long__________________'><span class='texttt'><span class='keyword'>long</span></span></span> <span id=':double___________'><span class='texttt'><span class='keyword'>double</span></span></span></span> is greater than
the rank of <span id=':double____________'><span class='texttt'><span class='keyword'>double</span></span></span>,
which is greater than the rank of <span id=':float____'><span class='texttt'><span class='keyword'>float</span></span></span><a class='hidden_link' href='#conv.rank-2.2.sentence-1'>.</a></div></div></li><li id='conv.rank-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-2.3'>(2.3)</a></div><div class='texpara'><div id='conv.rank-2.3.sentence-1' class='sentence'>Two extended floating-point types with the same set of values have equal ranks<a class='hidden_link' href='#conv.rank-2.3.sentence-1'>.</a></div></div></li><li id='conv.rank-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-2.4'>(2.4)</a></div><div class='texpara'><div id='conv.rank-2.4.sentence-1' class='sentence'>An extended floating-point type with the same set of values as
exactly one cv-unqualified standard floating-point type
has a rank equal to the rank of that standard floating-point type<a class='hidden_link' href='#conv.rank-2.4.sentence-1'>.</a></div></div></li><li id='conv.rank-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.rank-2.5'>(2.5)</a></div><div class='texpara'><div id='conv.rank-2.5.sentence-1' class='sentence'>An extended floating-point type with the same set of values as
more than one cv-unqualified standard floating-point type
has a rank equal to the rank of <span id=':double_____________'><span class='texttt'><span class='keyword'>double</span></span></span><a class='hidden_link' href='#conv.rank-2.5.sentence-1'>.</a></div></div></li></ul></div> <div id='conv.rank-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.rank-note-2'>2</a></i>:&ensp;<div id='conv.rank-2.sentence-2' class='sentence'>The conversion ranks of floating-point types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>
are unordered if the set of values of <span class='texttt'>T1</span> is
neither a subset nor a superset of the set of values of <span class='texttt'>T2</span><a class='hidden_link' href='#conv.rank-2.sentence-2'>.</a></div> <div id='conv.rank-2.sentence-3' class='sentence'>This can happen when one type has both a larger range and a lower precision
than the other<a class='hidden_link' href='#conv.rank-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.rank-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.rank-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5688'>#</a></div><div class='texpara'><div id='conv.rank-3.sentence-1' class='sentence'>Floating-point types that have equal floating-point conversion ranks
are ordered by floating-point conversion subrank<a class='hidden_link' href='#conv.rank-3.sentence-1'>.</a></div> <div id='conv.rank-3.sentence-2' class='sentence'>The subrank forms a total order among types with equal ranks<a class='hidden_link' href='#conv.rank-3.sentence-2'>.</a></div> <div id='conv.rank-3.sentence-3' class='sentence'>The types
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float16_<span class='shy'></span>t</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float32_<span class='shy'></span>t</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float64_<span class='shy'></span>t</span>, and
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>float128_<span class='shy'></span>t</span> (<a href='stdfloat.syn' title='17.4.2&emsp;Header &lt;stdfloat&gt; synopsis'>[stdfloat.<span class='shy'></span>syn]</a>)
have a greater conversion subrank than any standard floating-point type
with equal conversion rank<a class='hidden_link' href='#conv.rank-3.sentence-3'>.</a></div> <div id='conv.rank-3.sentence-4' class='sentence'>Otherwise, the conversion subrank order is
<a class='index' id=':floating-point_conversion_subrank'></a>implementation-defined<a class='hidden_link' href='#conv.rank-3.sentence-4'>.</a></div></div></div><div class='para nonNormativeOnly' id='conv.rank-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.rank-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5702'>#</a></div><div class='texpara'><div id='conv.rank-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.rank-note-3'>3</a></i>:&ensp;<div id='conv.rank-4.sentence-1' class='sentence'>The floating-point conversion rank and subrank are used in
the definition of the usual arithmetic conversions (<a href='expr.arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>)<a class='hidden_link' href='#conv.rank-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div></div><div id='exec' class='section'><h2 ><a class='secnum' href='#exec' style='min-width:65pt'>6.9</a> Program execution <a class='abbr_ref' href='basic.exec'>[basic.exec]</a></h2><div id='intro.execution' class='section'><h3 ><a class='secnum' href='#intro.execution' style='min-width:80pt'>6.9.1</a> Sequential execution <a class='abbr_ref' href='intro.execution'>[intro.execution]</a></h3><div class='texpara'><a class='index' id=':program_execution'></a></div><div class='para' id='intro.execution-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5713'>#</a></div><div class='texpara'><div id='intro.execution-1.sentence-1' class='sentence'>An instance of each object with <a href='#stc.auto' title='6.7.5.4&emsp;Automatic storage duration&emsp;[basic.stc.auto]'>automatic storage
duration</a> is associated with each entry into its
block<a class='hidden_link' href='#intro.execution-1.sentence-1'>.</a></div> <div id='intro.execution-1.sentence-2' class='sentence'>Such an object exists and retains its last-stored value during
the execution of the block and while the block is suspended (by a call
of a function, suspension of a coroutine (<a href='expr.await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>), or receipt of a signal)<a class='hidden_link' href='#intro.execution-1.sentence-2'>.</a></div></div></div><div class='para' id='intro.execution-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5720'>#</a></div><div class='texpara'><div id='intro.execution-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:constituent_expression' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:constituent_expression'><i >constituent expression</i></span></a> is defined as follows:
<ul class='itemize'><li id='intro.execution-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-2.1'>(2.1)</a></div><div class='texpara'><div id='intro.execution-2.1.sentence-1' class='sentence'>The constituent expression of an expression is that expression<a class='hidden_link' href='#intro.execution-2.1.sentence-1'>.</a></div></div></li><li id='intro.execution-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-2.2'>(2.2)</a></div><div class='texpara'><div id='intro.execution-2.2.sentence-1' class='sentence'>The constituent expression of a conversion is
the corresponding implicit function call, if any, or
the converted expression otherwise<a class='hidden_link' href='#intro.execution-2.2.sentence-1'>.</a></div></div></li><li id='intro.execution-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-2.3'>(2.3)</a></div><div class='texpara'><div id='intro.execution-2.3.sentence-1' class='sentence'>The constituent expressions of a <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><i >braced-init-list</i></span></span></a> or
of a (possibly parenthesized) <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__'><span class='textsf'><i >expression-list</i></span></span></a>
are the constituent expressions of the elements of the respective list<a class='hidden_link' href='#intro.execution-2.3.sentence-1'>.</a></div></div></li><li id='intro.execution-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-2.4'>(2.4)</a></div><div class='texpara'><div id='intro.execution-2.4.sentence-1' class='sentence'>The constituent expressions of a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>
of the form <span class='texttt'><span class='operator'>=</span></span> <a href='dcl.init.general#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause'><span class='textsf'><i >initializer-clause</i></span></span></a>
are the constituent expressions of the <a href='dcl.init.general#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause_'><span class='textsf'><i >initializer-clause</i></span></span></a><a class='hidden_link' href='#intro.execution-2.4.sentence-1'>.</a></div></div></li></ul></div> <div id='intro.execution-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.execution-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>int</span> y; <span class='keyword'>struct</span> A a; <span class='curlybracket'>}</span>;
B b <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>5</span>, <span class='curlybracket'>{</span> <span class='literal'>1</span><span class='operator'>+</span><span class='literal'>1</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;
</span> <div id='intro.execution-2.sentence-2' class='sentence'>
The constituent expressions of the <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer___'><span class='textsf'><i >initializer</i></span></span></a>
used for the initialization of <span class='texttt'>b</span> are <span class='texttt'><span class='literal'>5</span></span> and <span class='texttt'><span class='literal'>1</span><span class='operator'>+</span><span class='literal'>1</span></span><a class='hidden_link' href='#intro.execution-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='intro.execution-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5748'>#</a></div><div class='texpara'><div id='intro.execution-3.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:immediate_subexpression' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:immediate_subexpression'><i >immediate subexpressions</i></span></a> of an expression <span class='math'><span class='mathalpha'>E</span></span> are
<ul class='itemize'><li id='intro.execution-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-3.1'>(3.1)</a></div>the constituent expressions of <span class='math'><span class='mathalpha'>E</span></span>'s operands (<a href='expr.prop' title='7.2&emsp;Properties of expressions'>[expr.<span class='shy'></span>prop]</a>),</li><li id='intro.execution-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-3.2'>(3.2)</a></div>any function call that <span class='math'><span class='mathalpha'>E</span></span> implicitly invokes,</li><li id='intro.execution-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-3.3'>(3.3)</a></div>if <span class='math'><span class='mathalpha'>E</span></span> is a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_______________'><span class='textsf'><i >lambda-expression</i></span></span></a> (<a href='expr.prim.lambda' title='7.5.5&emsp;Lambda expressions'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda]</a>),
the initialization of the entities captured by copy and
the constituent expressions of the <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer____'><span class='textsf'><i >initializer</i></span></span></a> of the <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.5.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture__'><span class='textsf'><i >init-capture</i></span></span></a><i >s</i>,</li><li id='intro.execution-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-3.4'>(3.4)</a></div>if <span class='math'><span class='mathalpha'>E</span></span> is a <a href='expr.call' title='7.6.1.3&emsp;Function call&emsp;[expr.call]'>function call</a> or implicitly invokes a function,
the constituent expressions of each default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)
used in the call, or</li><li id='intro.execution-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-3.5'>(3.5)</a></div>if <span class='math'><span class='mathalpha'>E</span></span> creates an aggregate object (<a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>),
the constituent expressions of each default member initializer (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
used in the initialization<a class='hidden_link' href='#intro.execution-3.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='intro.execution-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5769'>#</a></div><div class='texpara'><div id='intro.execution-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:subexpression' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:subexpression'><i >subexpression</i></span></a> of an expression <span class='math'><span class='mathalpha'>E</span></span> is
an immediate subexpression of <span class='math'><span class='mathalpha'>E</span></span> or
a subexpression of an immediate subexpression of <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#intro.execution-4.sentence-1'>.</a></div> <div id='intro.execution-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.execution-note-1'>1</a></i>:&ensp;<div id='intro.execution-4.sentence-2' class='sentence'>Expressions appearing in the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement____'><span class='textsf'><i >compound-statement</i></span></span></a> of a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression________________'><span class='textsf'><i >lambda-expression</i></span></span></a>
are not subexpressions of the <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_________________'><span class='textsf'><i >lambda-expression</i></span></span></a><a class='hidden_link' href='#intro.execution-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.execution-4.sentence-3' class='sentence'>
The <a class='hidden_link' href='#def:subexpression,potentially-evaluated' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:subexpression,potentially-evaluated'><i >potentially-evaluated subexpressions</i></span></a> of
an expression, conversion, or <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_____'><span class='textsf'><i >initializer</i></span></span></a> <span class='math'><span class='mathalpha'>E</span></span> are
<ul class='itemize'><li id='intro.execution-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-4.1'>(4.1)</a></div>the constituent expressions of <span class='math'><span class='mathalpha'>E</span></span> and</li><li id='intro.execution-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-4.2'>(4.2)</a></div>the subexpressions thereof that
are not subexpressions of a nested unevaluated operand (<a href='expr.context#term.unevaluated.operand' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)<a class='hidden_link' href='#intro.execution-4.sentence-3'>.</a></li></ul></div></div></div><div class='para' id='intro.execution-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5787'>#</a></div><div class='texpara'><div id='intro.execution-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:full-expression' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:full-expression'><i >full-expression</i></span></a> is
<ul class='itemize'><li id='intro.execution-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-5.1'>(5.1)</a></div>an <a href='expr.context#def:unevaluated_operand' title='7.2.3&emsp;Context dependence&emsp;[expr.context]'>unevaluated operand</a>,</li><li id='intro.execution-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-5.2'>(5.2)</a></div>a <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>),</li><li id='intro.execution-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-5.3'>(5.3)</a></div>an immediate invocation (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>),</li><li id='intro.execution-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-5.4'>(5.4)</a></div>an <a href='dcl.decl.general#nt:init-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:init-declarator__'><span class='textsf'><i >init-declarator</i></span></span></a> (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>) or
a <a href='class.base.init#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer'><span class='textsf'><i >mem-initializer</i></span></span></a> (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>),
including the constituent expressions of the initializer,</li><li id='intro.execution-5.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-5.5'>(5.5)</a></div>an invocation of a destructor generated at the end of the lifetime
of an object other than a temporary object (<a href='#class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)
whose lifetime has not been extended, or</li><li id='intro.execution-5.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.execution-5.6'>(5.6)</a></div>an expression that is not a subexpression of another expression and
that is not otherwise part of a full-expression<a class='hidden_link' href='#intro.execution-5.sentence-1'>.</a></li></ul></div> <div id='intro.execution-5.sentence-2' class='sentence'>
If a language construct is defined to produce an implicit call of a function,
a use of the language construct is considered to be an expression
for the purposes of this definition<a class='hidden_link' href='#intro.execution-5.sentence-2'>.</a></div> <div id='intro.execution-5.sentence-3' class='sentence'>Conversions applied to the result of an expression in order to satisfy the requirements
of the language construct in which the expression appears
are also considered to be part of the full-expression<a class='hidden_link' href='#intro.execution-5.sentence-3'>.</a></div> <div id='intro.execution-5.sentence-4' class='sentence'>For an initializer, performing the initialization of the entity
(including evaluating default member initializers of an aggregate)
is also considered part of the full-expression<a class='hidden_link' href='#intro.execution-5.sentence-4'>.</a></div> <div id='intro.execution-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.execution-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span><span class='operator'>:</span> I<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>            <span class='comment'>// full-expression is initialization of <span class='tcode_in_codeblock'>I</span></span>
  <span class='keyword'>int</span><span class='operator'>&amp;</span> v<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> I; <span class='curlybracket'>}</span>
  <span class='operator'>~</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='literal'>false</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> I;
<span class='curlybracket'>}</span>;

S s1<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                        <span class='comment'>// full-expression comprises call of <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S(int)</span></span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  S s2 <span class='operator'>=</span> <span class='literal'>2</span>;                     <span class='comment'>// full-expression comprises call of <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S(int)</span></span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>S<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span><span class='operator'>.</span>v<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>                 <span class='comment'>// full-expression includes lvalue-to-rvalue and <span class='tcode_in_codeblock'>int</span> to <span class='tcode_in_codeblock'>bool</span> conversions,</span>
                                <span class='comment'>// performed before temporary is deleted at end of full-expression</span>
  <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>bool</span> b <span class='operator'>=</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span>S<span class='parenthesis'>(</span><span class='literal'>4</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;      <span class='comment'>// exception specification of destructor of <span class='tcode_in_codeblock'>S</span> considered for <span id=':noexcept_'><span class='tcode_in_codeblock'>noexcept</span></span></span>

  <span class='comment'>// full-expression is destruction of <span class='tcode_in_codeblock'>s2</span> at end of block</span>
<span class='curlybracket'>}</span>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span>S <span class='operator'>=</span> S<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
B b<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>}</span>;          <span class='comment'>// full-expression is the entire initialization</span>
                                <span class='comment'>// including the destruction of temporaries</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.execution-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5845'>#</a></div><div class='texpara'><div id='intro.execution-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.execution-note-2'>2</a></i>:&ensp;<div id='intro.execution-6.sentence-1' class='sentence'>The evaluation of a full-expression can include the
evaluation of subexpressions that are not lexically part of the
full-expression<a class='hidden_link' href='#intro.execution-6.sentence-1'>.</a></div> <div id='intro.execution-6.sentence-2' class='sentence'>For example, subexpressions involved in evaluating
default arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>) are considered to
be created in the expression that calls the function, not the expression
that defines the default argument<a class='hidden_link' href='#intro.execution-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.execution-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5855'>#</a></div><div class='texpara'><div id='intro.execution-7.sentence-1' class='sentence'><a class='index' id=':value_computation_'></a>Reading an object designated by a <span id=':volatile______________'><span class='texttt'><span class='keyword'>volatile</span></span></span>
glvalue (<a href='basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a>), modifying an object, calling a library I/O
function, or calling a function that does any of those operations are
all
<a class='hidden_link' href='#def:side_effects' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:side_effects'><i >side effects</i></span></a>, which are changes in the state of the execution
environment<a class='hidden_link' href='#intro.execution-7.sentence-1'>.</a></div> <div id='intro.execution-7.sentence-2' class='sentence'><a class='hidden_link' href='#def:evaluation' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:evaluation'><i >Evaluation</i></span></a> of an expression (or a
subexpression) in general includes both value computations (including
determining the identity of an object for glvalue evaluation and fetching
a value previously assigned to an object for prvalue evaluation) and
initiation of side effects<a class='hidden_link' href='#intro.execution-7.sentence-2'>.</a></div> <div id='intro.execution-7.sentence-3' class='sentence'>When a call to a library I/O function
returns or an access through a volatile glvalue is evaluated the side
effect is considered complete, even though some external actions implied
by the call (such as the I/O itself) or by the <span id=':volatile_______________'><span class='texttt'><span class='keyword'>volatile</span></span></span> access
may not have completed yet<a class='hidden_link' href='#intro.execution-7.sentence-3'>.</a></div></div></div><div class='para' id='intro.execution-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5872'>#</a></div><div class='texpara'><div id='intro.execution-8.sentence-1' class='sentence'><a class='hidden_link' href='#def:sequenced_before' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:sequenced_before'><i >Sequenced before</i></span></a> is an asymmetric, transitive, pair-wise relation between
evaluations executed by a single thread (<a href='#intro.multithread' title='6.9.2&emsp;Multi-threaded executions and data races'>[intro.<span class='shy'></span>multithread]</a>), which induces
a partial order among those evaluations<a class='hidden_link' href='#intro.execution-8.sentence-1'>.</a></div> <div id='intro.execution-8.sentence-2' class='sentence'>Given any two evaluations <i >A</i> and
<i >B</i>, if <i >A</i> is sequenced before <i >B</i>
(or, equivalently, <i >B</i> is <a class='hidden_link' href='#def:sequenced_after' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:sequenced_after'><i >sequenced after</i></span></a> <i >A</i>),
then the execution of
<i >A</i> shall precede the execution of <i >B</i><a class='hidden_link' href='#intro.execution-8.sentence-2'>.</a></div> <div id='intro.execution-8.sentence-3' class='sentence'>If <i >A</i> is not sequenced
before <i >B</i> and <i >B</i> is not sequenced before <i >A</i>, then <i >A</i> and
<i >B</i> are <a class='hidden_link' href='#def:unsequenced' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:unsequenced'><i >unsequenced</i></span></a><a class='hidden_link' href='#intro.execution-8.sentence-3'>.</a></div> <div id='intro.execution-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.execution-note-3'>3</a></i>:&ensp;<div id='intro.execution-8.sentence-4' class='sentence'>The execution of unsequenced
evaluations can overlap<a class='hidden_link' href='#intro.execution-8.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.execution-8.sentence-5' class='sentence'>
Evaluations <i >A</i> and <i >B</i> are
<a class='hidden_link' href='#def:indeterminately_sequenced' title='6.9.1&emsp;Sequential execution&emsp;[intro.execution]'><span id='def:indeterminately_sequenced'><i >indeterminately sequenced</i></span></a> when either <i >A</i> is sequenced before
<i >B</i> or <i >B</i> is sequenced before <i >A</i>, but it is unspecified which<a class='hidden_link' href='#intro.execution-8.sentence-5'>.</a></div> <div id='intro.execution-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.execution-note-4'>4</a></i>:&ensp;<div id='intro.execution-8.sentence-6' class='sentence'>Indeterminately sequenced evaluations cannot overlap, but either
can be executed first<a class='hidden_link' href='#intro.execution-8.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.execution-8.sentence-7' class='sentence'>
An expression <i >X</i>
is said to be sequenced before
an expression <i >Y</i> if
every value computation and every side effect
associated with the expression <i >X</i>
is sequenced before
every value computation and every side effect
associated with the expression <i >Y</i><a class='hidden_link' href='#intro.execution-8.sentence-7'>.</a></div></div></div><div class='para' id='intro.execution-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5902'>#</a></div><div class='texpara'><div id='intro.execution-9.sentence-1' class='sentence'>Every
<a class='index' id=':value_computation__'></a>value computation and
<a class='index' id=':side_effects_'></a>side effect associated with a full-expression is
sequenced before every value computation and side effect associated with the
next full-expression to be evaluated<a class='hidden_link' href='#intro.execution-9.sentence-1'>.</a><a class='footnoteref' href='#footnote-36' id='footnoteref-36' title='As specified in [class.temporary], after a full-expression is evaluated, a sequence of zero or more invocations of destructor functions for temporary objects takes place, usually in reverse order of the construction of each temporary object.'>36</a></div></div></div><div class='para' id='intro.execution-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5917'>#</a></div><div class='texpara'><div id='intro.execution-10.sentence-1' class='sentence'><a class='index' id=':evaluation,unspecified_order_of'></a>Except where noted, evaluations of operands of individual operators and
of subexpressions of individual expressions are unsequenced<a class='hidden_link' href='#intro.execution-10.sentence-1'>.</a></div> <div id='intro.execution-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.execution-note-5'>5</a></i>:&ensp;<div id='intro.execution-10.sentence-2' class='sentence'>In an expression that is evaluated more than once during the execution
of a program, unsequenced and indeterminately sequenced evaluations of
its subexpressions need not be performed consistently in different
evaluations<a class='hidden_link' href='#intro.execution-10.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.execution-10.sentence-3' class='sentence'>
The value computations of the operands of an
operator are sequenced before the value computation of the result of the
operator<a class='hidden_link' href='#intro.execution-10.sentence-3'>.</a></div> <div id='intro.execution-10.sentence-4' class='sentence'>If a
<a class='index' id=':side_effects__'></a>side effect on a memory location (<a href='#intro.memory' title='6.7.1&emsp;Memory model'>[intro.<span class='shy'></span>memory]</a>) is unsequenced
relative to either another side effect on the same memory location or
a value computation using the value of any object in the same memory location,
and they are not potentially concurrent (<a href='#intro.multithread' title='6.9.2&emsp;Multi-threaded executions and data races'>[intro.<span class='shy'></span>multithread]</a>),
the behavior is undefined<a class='hidden_link' href='#intro.execution-10.sentence-4'>.</a></div> <div id='intro.execution-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.execution-note-6'>6</a></i>:&ensp;<div id='intro.execution-10.sentence-5' class='sentence'>The next subclause imposes similar, but more complex restrictions on
potentially concurrent computations<a class='hidden_link' href='#intro.execution-10.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='intro.execution-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.execution-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  i <span class='operator'>=</span> <span class='literal'>7</span>, i<span class='operator'>+</span><span class='operator'>+</span>, i<span class='operator'>+</span><span class='operator'>+</span>;              <span class='comment'>// <span class='tcode_in_codeblock'>i</span> becomes <span class='tcode_in_codeblock'>9</span></span>

  i <span class='operator'>=</span> i<span class='operator'>+</span><span class='operator'>+</span> <span class='operator'>+</span> <span class='literal'>1</span>;                  <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> is incremented</span>
  i <span class='operator'>=</span> i<span class='operator'>+</span><span class='operator'>+</span> <span class='operator'>+</span> i;                  <span class='comment'>// undefined behavior</span>
  i <span class='operator'>=</span> i <span class='operator'>+</span> <span class='literal'>1</span>;                    <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> is incremented</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='intro.execution-11'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5953'>#</a></div><div class='texpara'><div id='intro.execution-11.sentence-1' class='sentence'>When invoking a function (whether or not the function is inline),
every argument expression and
the postfix expression designating the called function
are sequenced before every expression or statement
in the body of the called function<a class='hidden_link' href='#intro.execution-11.sentence-1'>.</a></div> <div id='intro.execution-11.sentence-2' class='sentence'>For each function invocation or
evaluation of an <a href='expr.await#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression'><span class='textsf'><i >await-expression</i></span></span></a> <i >F</i>,
each evaluation that does not occur within <i >F</i> but
is evaluated on the same thread and as part of the same signal handler (if any)
is either sequenced before all evaluations that occur within <i >F</i>
or sequenced after all evaluations that occur within <i >F</i>;<a class='footnoteref' href='#footnote-37' id='footnoteref-37' title='In other words, function executions do not interleave with each other.'>37</a>
if <i >F</i> invokes or resumes a coroutine (<a href='expr.await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>),
only evaluations
subsequent to the previous suspension (if any) and
prior to the next suspension (if any)
are considered to occur within <i >F</i><a class='hidden_link' href='#intro.execution-11.sentence-2'>.</a></div></div><div class='texpara'><div id='intro.execution-11.sentence-3' class='sentence'>Several contexts in C++ cause evaluation of a function call, even
though no corresponding function call syntax appears in the translation
unit<a class='hidden_link' href='#intro.execution-11.sentence-3'>.</a></div> <div id='intro.execution-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.execution-example-4'>4</a></i>:&ensp;<div id='intro.execution-11.sentence-4' class='sentence'>Evaluation of a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression________'><span class='textsf'><i >new-expression</i></span></span></a> invokes one or more allocation
and constructor functions; see <a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a><a class='hidden_link' href='#intro.execution-11.sentence-4'>.</a></div> <div id='intro.execution-11.sentence-5' class='sentence'>For another example,
invocation of a conversion function (<a href='class.conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>) can arise in
contexts in which no function call syntax appears<a class='hidden_link' href='#intro.execution-11.sentence-5'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='intro.execution-11.sentence-6' class='sentence'>
The sequencing constraints on the execution of the called function (as
described above) are features of the function calls as evaluated,
regardless of the syntax of the expression that calls the function<a class='hidden_link' href='#intro.execution-11.sentence-6'>.</a></div> <a class='index' id=':behavior,on_receipt_of_signal'></a><a class='index' id=':signal'></a></div></div><div class='para' id='intro.execution-12'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L5991'>#</a></div><div class='texpara'><div id='intro.execution-12.sentence-1' class='sentence'>If a signal handler is executed as a result of a call to the <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>raise</span>
function, then the execution of the handler is sequenced after the invocation
of the <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>raise</span> function and before its return<a class='hidden_link' href='#intro.execution-12.sentence-1'>.</a></div> <div id='intro.execution-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.execution-note-7'>7</a></i>:&ensp;<div id='intro.execution-12.sentence-2' class='sentence'>When a signal is received for another reason, the execution of the
signal handler is usually unsequenced with respect to the rest of the program<a class='hidden_link' href='#intro.execution-12.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-36'><div class='texpara'><a class='footnotenum' href='#footnote-36'>36)</a><a class='footnoteBacklink' href='#footnoteref-36'>36)</a> <div id='footnote-36.sentence-1' class='sentence'>As specified
in <a href='#class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>, after a full-expression is evaluated, a sequence of
zero or more invocations of destructor functions for temporary objects takes
place, usually in reverse order of the construction of each temporary object<a class='hidden_link' href='#footnote-36.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-37'><div class='texpara'><a class='footnotenum' href='#footnote-37'>37)</a><a class='footnoteBacklink' href='#footnoteref-37'>37)</a> <div id='footnote-37.sentence-1' class='sentence'>In other words,
function executions do not interleave with each other<a class='hidden_link' href='#footnote-37.sentence-1'>.</a></div></div></div></div><div id='intro.multithread' class='section'><h3 ><a class='secnum' href='#intro.multithread' style='min-width:80pt'>6.9.2</a> Multi-threaded executions and data races <a class='abbr_ref' href='intro.multithread'>[intro.multithread]</a></h3><div id='intro.multithread.general' class='section'><h4 ><a class='secnum' href='#intro.multithread.general' style='min-width:95pt'>6.9.2.1</a> General <a class='abbr_ref' href='intro.multithread.general'>[intro.multithread.general]</a></h4><div class='para' id='intro.multithread.general-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.multithread.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6004'>#</a></div><div class='texpara'><div id='intro.multithread.general-1.sentence-1' class='sentence'><a class='index' id=':threads,multiple'></a><a class='index' id=':atomic,operation'></a>A <a class='hidden_link' href='#def:thread_of_execution' title='6.9.2.1&emsp;General&emsp;[intro.multithread.general]'><span id='def:thread_of_execution'><i >thread of execution</i></span></a> (also known as a <a class='hidden_link' href='#def:thread' title='6.9.2.1&emsp;General&emsp;[intro.multithread.general]'><span id='def:thread'><i >thread</i></span></a>) is a single flow of
control within a program, including the initial invocation of a specific
top-level function, and recursively including every function invocation
subsequently executed by the thread<a class='hidden_link' href='#intro.multithread.general-1.sentence-1'>.</a></div> <div id='intro.multithread.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.multithread.general-note-1'>1</a></i>:&ensp;<div id='intro.multithread.general-1.sentence-2' class='sentence'>When one thread creates another,
the initial call to the top-level function of the new thread is executed by the
new thread, not by the creating thread<a class='hidden_link' href='#intro.multithread.general-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.multithread.general-1.sentence-3' class='sentence'>
Every thread in a program can
potentially access every object and function in a program<a class='hidden_link' href='#intro.multithread.general-1.sentence-3'>.</a><a class='footnoteref' href='#footnote-38' id='footnoteref-38' title='An object with automatic or thread storage duration ([basic.stc]) is associated with one specific thread, and can be accessed by a different thread only indirectly through a pointer or reference ([basic.compound]).'>38</a></div> <div id='intro.multithread.general-1.sentence-4' class='sentence'>
Under a hosted
implementation, a C++ program can have more than one thread running
concurrently<a class='hidden_link' href='#intro.multithread.general-1.sentence-4'>.</a></div> <div id='intro.multithread.general-1.sentence-5' class='sentence'>The execution of each thread proceeds as defined by the remainder
of this document<a class='hidden_link' href='#intro.multithread.general-1.sentence-5'>.</a></div> <div id='intro.multithread.general-1.sentence-6' class='sentence'>The execution of the entire program consists of an execution
of all of its threads<a class='hidden_link' href='#intro.multithread.general-1.sentence-6'>.</a></div> <div id='intro.multithread.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.multithread.general-note-2'>2</a></i>:&ensp;<div id='intro.multithread.general-1.sentence-7' class='sentence'>Usually the execution can be viewed as an
interleaving of all its threads<a class='hidden_link' href='#intro.multithread.general-1.sentence-7'>.</a></div> <div id='intro.multithread.general-1.sentence-8' class='sentence'>However, some kinds of atomic operations, for
example, allow executions inconsistent with a simple interleaving, as described
below<a class='hidden_link' href='#intro.multithread.general-1.sentence-8'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.multithread.general-1.sentence-9' class='sentence'><a class='index' id=':implementation,freestanding'></a>Under a freestanding implementation, it is <a class='index' id=':number_of_threads_in_a_program_under_a_freestanding_implementation'></a>implementation-defined whether a program can
have more than one thread of execution<a class='hidden_link' href='#intro.multithread.general-1.sentence-9'>.</a></div></div></div><div class='para' id='intro.multithread.general-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.multithread.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6040'>#</a></div><div class='texpara'><div id='intro.multithread.general-2.sentence-1' class='sentence'>For a signal handler that is not executed as a result of a call to the
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>raise</span> function, it is unspecified which thread of execution
contains the signal handler invocation<a class='hidden_link' href='#intro.multithread.general-2.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-38'><div class='texpara'><a class='footnotenum' href='#footnote-38'>38)</a><a class='footnoteBacklink' href='#footnoteref-38'>38)</a> <div id='footnote-38.sentence-1' class='sentence'>An object
with automatic or thread storage duration (<a href='#stc' title='6.7.5&emsp;Storage duration'>[basic.<span class='shy'></span>stc]</a>) is associated with
one specific thread, and can be accessed by a different thread only indirectly
through a pointer or reference (<a href='#compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>)<a class='hidden_link' href='#footnote-38.sentence-1'>.</a></div></div></div></div><div id='intro.races' class='section'><h4 ><a class='secnum' href='#intro.races' style='min-width:95pt'>6.9.2.2</a> Data races <a class='abbr_ref' href='intro.races'>[intro.races]</a></h4><div class='para' id='intro.races-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6047'>#</a></div><div class='texpara'><div id='intro.races-1.sentence-1' class='sentence'>The value of an object visible to a thread <span class='math'><span class='mathalpha'>T</span></span> at a particular point is the
initial value of the object, a value assigned to the object by <span class='math'><span class='mathalpha'>T</span></span>, or a
value assigned to the object by another thread, according to the rules below<a class='hidden_link' href='#intro.races-1.sentence-1'>.</a></div> <div id='intro.races-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-1'>1</a></i>:&ensp;<div id='intro.races-1.sentence-2' class='sentence'>In some cases, there might instead be undefined behavior<a class='hidden_link' href='#intro.races-1.sentence-2'>.</a></div> <div id='intro.races-1.sentence-3' class='sentence'>Much of this
subclause is motivated by the desire to support atomic operations with explicit
and detailed visibility constraints<a class='hidden_link' href='#intro.races-1.sentence-3'>.</a></div> <div id='intro.races-1.sentence-4' class='sentence'>However, it also implicitly supports a
simpler view for more restricted programs<a class='hidden_link' href='#intro.races-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6058'>#</a></div><div class='texpara'><div id='intro.races-2.sentence-1' class='sentence'>Two expression evaluations <a class='hidden_link' href='#def:conflict' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:conflict'><i >conflict</i></span></a> if one of them modifies a memory
location (<a href='#intro.memory' title='6.7.1&emsp;Memory model'>[intro.<span class='shy'></span>memory]</a>) and the other one reads or modifies the same
memory location<a class='hidden_link' href='#intro.races-2.sentence-1'>.</a></div></div></div><div class='para' id='intro.races-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6063'>#</a></div><div class='texpara'><div id='intro.races-3.sentence-1' class='sentence'>The library defines a number of atomic operations (<a href='atomics' title='33.5&emsp;Atomic operations'>[atomics]</a>) and
operations on mutexes (<a href='thread' title='33&emsp;Concurrency support library'>[thread]</a>) that are specially identified as
synchronization operations<a class='hidden_link' href='#intro.races-3.sentence-1'>.</a></div> <div id='intro.races-3.sentence-2' class='sentence'>These operations play a special role in making
assignments in one thread visible to another<a class='hidden_link' href='#intro.races-3.sentence-2'>.</a></div> <div id='intro.races-3.sentence-3' class='sentence'>A synchronization operation on one
or more memory locations is either a consume operation, an acquire operation, a
release operation, or both an acquire and release operation<a class='hidden_link' href='#intro.races-3.sentence-3'>.</a></div> <div id='intro.races-3.sentence-4' class='sentence'>A synchronization
operation without an associated memory location is a fence and can be either an
acquire fence, a release fence, or both an acquire and release fence<a class='hidden_link' href='#intro.races-3.sentence-4'>.</a></div> <div id='intro.races-3.sentence-5' class='sentence'>In
addition, there are relaxed atomic operations, which are not synchronization
operations, and atomic read-modify-write operations, which have special
characteristics<a class='hidden_link' href='#intro.races-3.sentence-5'>.</a></div> <div id='intro.races-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-2'>2</a></i>:&ensp;<div id='intro.races-3.sentence-6' class='sentence'>For example, a call that acquires a mutex will
perform an acquire operation on the locations comprising the mutex<a class='hidden_link' href='#intro.races-3.sentence-6'>.</a></div> <div id='intro.races-3.sentence-7' class='sentence'>Correspondingly, a call that releases the same mutex will perform a release
operation on those same locations<a class='hidden_link' href='#intro.races-3.sentence-7'>.</a></div> <div id='intro.races-3.sentence-8' class='sentence'>Informally, performing a release operation on
<span class='math'><span class='mathalpha'>A</span></span> forces prior
<a class='index' id=':side_effects___'></a>side effects on other memory locations to become visible
to other threads that later perform a consume or an acquire operation on
<span class='math'><span class='mathalpha'>A</span></span><a class='hidden_link' href='#intro.races-3.sentence-8'>.</a></div> <div id='intro.races-3.sentence-9' class='sentence'>“Relaxed” atomic operations are not synchronization operations even
though, like synchronization operations, they cannot contribute to data races<a class='hidden_link' href='#intro.races-3.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6088'>#</a></div><div class='texpara'><div id='intro.races-4.sentence-1' class='sentence'>All modifications to a particular atomic object <span class='math'><span class='mathalpha'>M</span></span> occur in some
particular total order, called the <a class='hidden_link' href='#def:modification_order' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:modification_order'><i >modification order</i></span></a> of <span class='math'><span class='mathalpha'>M</span></span><a class='hidden_link' href='#intro.races-4.sentence-1'>.</a></div> <div id='intro.races-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-3'>3</a></i>:&ensp;<div id='intro.races-4.sentence-2' class='sentence'>There is a separate order for each
atomic object<a class='hidden_link' href='#intro.races-4.sentence-2'>.</a></div> <div id='intro.races-4.sentence-3' class='sentence'>There is no requirement that these can be combined into a single
total order for all objects<a class='hidden_link' href='#intro.races-4.sentence-3'>.</a></div> <div id='intro.races-4.sentence-4' class='sentence'>In general this will be impossible since different
threads can observe modifications to different objects in inconsistent orders<a class='hidden_link' href='#intro.races-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6098'>#</a></div><div class='texpara'><div id='intro.races-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:release_sequence' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:release_sequence'><i >release sequence</i></span></a> headed
by a release operation <span class='math'><span class='mathalpha'>A</span></span> on an atomic object <span class='math'><span class='mathalpha'>M</span></span>
is a maximal contiguous sub-sequence of
<a class='index' id=':side_effects____'></a>side effects in the modification order of <span class='math'><span class='mathalpha'>M</span></span>,
where the first operation is <span class='math'><span class='mathalpha'>A</span></span>, and
every subsequent operation is an atomic read-modify-write operation<a class='hidden_link' href='#intro.races-5.sentence-1'>.</a></div></div></div><div class='para' id='intro.races-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6107'>#</a></div><div class='texpara'><div id='intro.races-6.sentence-1' class='sentence'>Certain library calls <a class='hidden_link' href='#def:synchronize_with' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:synchronize_with'><i >synchronize with</i></span></a> other library calls performed by
another thread<a class='hidden_link' href='#intro.races-6.sentence-1'>.</a></div> <div id='intro.races-6.sentence-2' class='sentence'>For example, an atomic store-release synchronizes with a
load-acquire that takes its value from the store (<a href='atomics.order' title='33.5.4&emsp;Order and consistency'>[atomics.<span class='shy'></span>order]</a>)<a class='hidden_link' href='#intro.races-6.sentence-2'>.</a></div> <div id='intro.races-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-4'>4</a></i>:&ensp;<div id='intro.races-6.sentence-3' class='sentence'>Except in the specified cases, reading a later value does not
necessarily ensure visibility as described below<a class='hidden_link' href='#intro.races-6.sentence-3'>.</a></div> <div id='intro.races-6.sentence-4' class='sentence'>Such a requirement would
sometimes interfere with efficient implementation<a class='hidden_link' href='#intro.races-6.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.races-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-5'>5</a></i>:&ensp;<div id='intro.races-6.sentence-5' class='sentence'>The
specifications of the synchronization operations define when one reads the value
written by another<a class='hidden_link' href='#intro.races-6.sentence-5'>.</a></div> <div id='intro.races-6.sentence-6' class='sentence'>For atomic objects, the definition is clear<a class='hidden_link' href='#intro.races-6.sentence-6'>.</a></div> <div id='intro.races-6.sentence-7' class='sentence'>All operations
on a given mutex occur in a single total order<a class='hidden_link' href='#intro.races-6.sentence-7'>.</a></div> <div id='intro.races-6.sentence-8' class='sentence'>Each mutex acquisition “reads
the value written” by the last mutex release<a class='hidden_link' href='#intro.races-6.sentence-8'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6124'>#</a></div><div class='texpara'><div id='intro.races-7.sentence-1' class='sentence'>An evaluation <span class='math'><span class='mathalpha'>A</span></span> <a class='hidden_link' href='#def:carries_a_dependency' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:carries_a_dependency'><i >carries a dependency</i></span></a> to an evaluation <span class='math'><span class='mathalpha'>B</span></span> if
<ul class='itemize'><li id='intro.races-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-7.1'>(7.1)</a></div>the value of <span class='math'><span class='mathalpha'>A</span></span> is used as an operand of <span class='math'><span class='mathalpha'>B</span></span>, unless:
<ul class='itemize'><li id='intro.races-7.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#intro.races-7.1.1'>(7.1.1)</a></div><span class='math'><span class='mathalpha'>B</span></span> is an invocation of any specialization of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>kill_<span class='shy'></span>dependency</span> (<a href='atomics.order' title='33.5.4&emsp;Order and consistency'>[atomics.<span class='shy'></span>order]</a>), or</li><li id='intro.races-7.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#intro.races-7.1.2'>(7.1.2)</a></div><span class='math'><span class='mathalpha'>A</span></span> is the left operand of a built-in logical <span class='textsc'>and</span> (<span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>,
see <a href='expr.log.and' title='7.6.14&emsp;Logical AND operator'>[expr.<span class='shy'></span>log.<span class='shy'></span>and]</a>) or logical <span class='textsc'>or</span> (<span class='texttt'><span class='operator'>|</span><span class='operator'>|</span></span>, see <a href='expr.log.or' title='7.6.15&emsp;Logical OR operator'>[expr.<span class='shy'></span>log.<span class='shy'></span>or]</a>)
operator, or</li><li id='intro.races-7.1.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#intro.races-7.1.3'>(7.1.3)</a></div><span class='math'><span class='mathalpha'>A</span></span> is the left operand of a conditional (<span class='texttt'><span class='operator'>?</span><span class='operator'>:</span></span>, see <a href='expr.cond' title='7.6.16&emsp;Conditional operator'>[expr.<span class='shy'></span>cond]</a>)
operator, or</li><li id='intro.races-7.1.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#intro.races-7.1.4'>(7.1.4)</a></div><span class='math'><span class='mathalpha'>A</span></span> is the left operand of the built-in comma (<span class='texttt'>,</span>)
operator (<a href='expr.comma' title='7.6.20&emsp;Comma operator'>[expr.<span class='shy'></span>comma]</a>);</li></ul> or</li><li id='intro.races-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-7.2'>(7.2)</a></div><span class='math'><span class='mathalpha'>A</span></span> writes a scalar object or bit-field <span class='math'><span class='mathalpha'>M</span></span>, <span class='math'><span class='mathalpha'>B</span></span> reads the value
written by <span class='math'><span class='mathalpha'>A</span></span> from <span class='math'><span class='mathalpha'>M</span></span>, and <span class='math'><span class='mathalpha'>A</span></span> is sequenced before <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-7.3'>(7.3)</a></div>for some evaluation <span class='math'><span class='mathalpha'>X</span></span>, <span class='math'><span class='mathalpha'>A</span></span> carries a dependency to <span class='math'><span class='mathalpha'>X</span></span>, and
<span class='math'><span class='mathalpha'>X</span></span> carries a dependency to <span class='math'><span class='mathalpha'>B</span></span><a class='hidden_link' href='#intro.races-7.sentence-1'>.</a></li></ul></div> <div id='intro.races-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-6'>6</a></i>:&ensp;<div id='intro.races-7.sentence-2' class='sentence'>“Carries a dependency to” is a subset of “is sequenced before”,
and is similarly strictly intra-thread<a class='hidden_link' href='#intro.races-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6155'>#</a></div><div class='texpara'><div id='intro.races-8.sentence-1' class='sentence'>An evaluation <span class='math'><span class='mathalpha'>A</span></span> is <a class='hidden_link' href='#def:dependency-ordered_before' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:dependency-ordered_before'><i >dependency-ordered before</i></span></a> an evaluation
<span class='math'><span class='mathalpha'>B</span></span> if
<ul class='itemize'><li id='intro.races-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-8.1'>(8.1)</a></div><span class='math'><span class='mathalpha'>A</span></span> performs a release operation on an atomic object <span class='math'><span class='mathalpha'>M</span></span>, and, in
another thread, <span class='math'><span class='mathalpha'>B</span></span> performs a consume operation on <span class='math'><span class='mathalpha'>M</span></span> and reads
the value written by <span class='math'><span class='mathalpha'>A</span></span>, or</li><li id='intro.races-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-8.2'>(8.2)</a></div>for some evaluation <span class='math'><span class='mathalpha'>X</span></span>, <span class='math'><span class='mathalpha'>A</span></span> is dependency-ordered before <span class='math'><span class='mathalpha'>X</span></span> and
<span class='math'><span class='mathalpha'>X</span></span> carries a dependency to <span class='math'><span class='mathalpha'>B</span></span><a class='hidden_link' href='#intro.races-8.sentence-1'>.</a></li></ul></div> <div id='intro.races-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-7'>7</a></i>:&ensp;<div id='intro.races-8.sentence-2' class='sentence'>The relation “is dependency-ordered before” is analogous to
“synchronizes with”, but uses release/consume in place of release/acquire<a class='hidden_link' href='#intro.races-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6173'>#</a></div><div class='texpara'><div id='intro.races-9.sentence-1' class='sentence'>An evaluation <span class='math'><span class='mathalpha'>A</span></span> <a class='hidden_link' href='#def:inter-thread_happens_before' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:inter-thread_happens_before'><i >inter-thread happens before</i></span></a> an evaluation <span class='math'><span class='mathalpha'>B</span></span>
if
<ul class='itemize'><li id='intro.races-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-9.1'>(9.1)</a></div><span class='math'><span class='mathalpha'>A</span></span> synchronizes with <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-9.2'>(9.2)</a></div><span class='math'><span class='mathalpha'>A</span></span> is dependency-ordered before <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-9.3'>(9.3)</a></div>for some evaluation <span class='math'><span class='mathalpha'>X</span></span>
  <ul class='itemize'><li id='intro.races-9.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#intro.races-9.3.1'>(9.3.1)</a></div><span class='math'><span class='mathalpha'>A</span></span> synchronizes with <span class='math'><span class='mathalpha'>X</span></span> and <span class='math'><span class='mathalpha'>X</span></span>
    is sequenced before <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-9.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#intro.races-9.3.2'>(9.3.2)</a></div><span class='math'><span class='mathalpha'>A</span></span> is sequenced before <span class='math'><span class='mathalpha'>X</span></span> and <span class='math'><span class='mathalpha'>X</span></span>
    inter-thread happens before <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-9.3.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#intro.races-9.3.3'>(9.3.3)</a></div><span class='math'><span class='mathalpha'>A</span></span> inter-thread happens before <span class='math'><span class='mathalpha'>X</span></span> and <span class='math'><span class='mathalpha'>X</span></span>
    inter-thread happens before <span class='math'><span class='mathalpha'>B</span></span><a class='hidden_link' href='#intro.races-9.sentence-1'>.</a></li></ul></li></ul></div> <div id='intro.races-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-8'>8</a></i>:&ensp;<div id='intro.races-9.sentence-2' class='sentence'>The “inter-thread happens before” relation describes arbitrary
concatenations of “sequenced before”, “synchronizes with” and
“dependency-ordered before” relationships, with two exceptions<a class='hidden_link' href='#intro.races-9.sentence-2'>.</a></div> <div id='intro.races-9.sentence-3' class='sentence'>The first
exception is that a concatenation never ends with
“dependency-ordered before” followed by “sequenced before”<a class='hidden_link' href='#intro.races-9.sentence-3'>.</a></div> <div id='intro.races-9.sentence-4' class='sentence'>The reason for
this limitation is that a consume operation participating in a
“dependency-ordered before” relationship provides ordering only with respect
to operations to which this consume operation actually carries a dependency<a class='hidden_link' href='#intro.races-9.sentence-4'>.</a></div> <div id='intro.races-9.sentence-5' class='sentence'>The
reason that this limitation applies only to the end of such a concatenation is
that any subsequent release operation will provide the required ordering for a
prior consume operation<a class='hidden_link' href='#intro.races-9.sentence-5'>.</a></div> <div id='intro.races-9.sentence-6' class='sentence'>The second exception is that a concatenation never
consist entirely of “sequenced before”<a class='hidden_link' href='#intro.races-9.sentence-6'>.</a></div> <div id='intro.races-9.sentence-7' class='sentence'>The reasons for this
limitation are (1) to permit “inter-thread happens before” to be transitively
closed and (2) the “happens before” relation, defined below, provides for
relationships consisting entirely of “sequenced before”<a class='hidden_link' href='#intro.races-9.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6213'>#</a></div><div class='texpara'><div id='intro.races-10.sentence-1' class='sentence'>An evaluation <span class='math'><span class='mathalpha'>A</span></span> <a class='hidden_link' href='#def:happens_before' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:happens_before'><i >happens before</i></span></a> an evaluation <span class='math'><span class='mathalpha'>B</span></span>
(or, equivalently, <span class='math'><span class='mathalpha'>B</span></span> <a class='hidden_link' href='#def:happens_after' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:happens_after'><i >happens after</i></span></a> <span class='math'><span class='mathalpha'>A</span></span>) if:
<ul class='itemize'><li id='intro.races-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-10.1'>(10.1)</a></div><span class='math'><span class='mathalpha'>A</span></span> is sequenced before <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-10.2'>(10.2)</a></div><span class='math'><span class='mathalpha'>A</span></span> inter-thread happens before <span class='math'><span class='mathalpha'>B</span></span><a class='hidden_link' href='#intro.races-10.sentence-1'>.</a></li></ul></div> <div id='intro.races-10.sentence-2' class='sentence'>
The implementation shall ensure that no program execution demonstrates a cycle
in the “happens before” relation<a class='hidden_link' href='#intro.races-10.sentence-2'>.</a></div> <div id='intro.races-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-9'>9</a></i>:&ensp;<div id='intro.races-10.sentence-3' class='sentence'>This cycle would otherwise be
possible only through the use of consume operations<a class='hidden_link' href='#intro.races-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-11'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6227'>#</a></div><div class='texpara'><div id='intro.races-11.sentence-1' class='sentence'>An evaluation <span class='math'><span class='mathalpha'>A</span></span> <a class='hidden_link' href='#def:simply_happens_before' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:simply_happens_before'><i >simply happens before</i></span></a> an evaluation <span class='math'><span class='mathalpha'>B</span></span>
if either
<ul class='itemize'><li id='intro.races-11.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-11.1'>(11.1)</a></div><span class='math'><span class='mathalpha'>A</span></span> is sequenced before <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-11.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-11.2'>(11.2)</a></div><span class='math'><span class='mathalpha'>A</span></span> synchronizes with <span class='math'><span class='mathalpha'>B</span></span>, or</li><li id='intro.races-11.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-11.3'>(11.3)</a></div><span class='math'><span class='mathalpha'>A</span></span> simply happens before <span class='math'><span class='mathalpha'>X</span></span> and
<span class='math'><span class='mathalpha'>X</span></span> simply happens before <span class='math'><span class='mathalpha'>B</span></span><a class='hidden_link' href='#intro.races-11.sentence-1'>.</a></li></ul></div> <div id='intro.races-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-10'>10</a></i>:&ensp;<div id='intro.races-11.sentence-2' class='sentence'>In the absence of consume operations,
the happens before and simply happens before relations are identical<a class='hidden_link' href='#intro.races-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-12'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6241'>#</a></div><div class='texpara'><div id='intro.races-12.sentence-1' class='sentence'>An evaluation <span class='math'><span class='mathalpha'>A</span></span> <a class='hidden_link' href='#def:strongly_happens_before' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:strongly_happens_before'><i >strongly happens before</i></span></a>
an evaluation <span class='math'><span class='mathalpha'>D</span></span> if, either
<ul class='itemize'><li id='intro.races-12.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-12.1'>(12.1)</a></div><span class='math'><span class='mathalpha'>A</span></span> is sequenced before <span class='math'><span class='mathalpha'>D</span></span>, or</li><li id='intro.races-12.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-12.2'>(12.2)</a></div><span class='math'><span class='mathalpha'>A</span></span> synchronizes with <span class='math'><span class='mathalpha'>D</span></span>, and
both <span class='math'><span class='mathalpha'>A</span></span> and <span class='math'><span class='mathalpha'>D</span></span> are
sequentially consistent atomic operations (<a href='atomics.order' title='33.5.4&emsp;Order and consistency'>[atomics.<span class='shy'></span>order]</a>), or</li><li id='intro.races-12.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-12.3'>(12.3)</a></div>there are evaluations <span class='math'><span class='mathalpha'>B</span></span> and <span class='math'><span class='mathalpha'>C</span></span>
such that <span class='math'><span class='mathalpha'>A</span></span> is sequenced before <span class='math'><span class='mathalpha'>B</span></span>,
<span class='math'><span class='mathalpha'>B</span></span> simply happens before <span class='math'><span class='mathalpha'>C</span></span>, and
<span class='math'><span class='mathalpha'>C</span></span> is sequenced before <span class='math'><span class='mathalpha'>D</span></span>, or</li><li id='intro.races-12.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-12.4'>(12.4)</a></div>there is an evaluation <span class='math'><span class='mathalpha'>B</span></span> such that
<span class='math'><span class='mathalpha'>A</span></span> strongly happens before <span class='math'><span class='mathalpha'>B</span></span>, and
<span class='math'><span class='mathalpha'>B</span></span> strongly happens before <span class='math'><span class='mathalpha'>D</span></span><a class='hidden_link' href='#intro.races-12.sentence-1'>.</a></li></ul></div> <div id='intro.races-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-11'>11</a></i>:&ensp;<div id='intro.races-12.sentence-2' class='sentence'>Informally, if <span class='math'><span class='mathalpha'>A</span></span> strongly happens before <span class='math'><span class='mathalpha'>B</span></span>,
then <span class='math'><span class='mathalpha'>A</span></span> appears to be evaluated before <span class='math'><span class='mathalpha'>B</span></span>
in all contexts<a class='hidden_link' href='#intro.races-12.sentence-2'>.</a></div> <div id='intro.races-12.sentence-3' class='sentence'>Strongly happens before excludes consume operations<a class='hidden_link' href='#intro.races-12.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-13'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6263'>#</a></div><div class='texpara'><div id='intro.races-13.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:side_effects,visible' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:side_effects,visible'><i >visible side effect</i></span></a> <span class='math'><span class='mathalpha'>A</span></span> on a scalar object or bit-field <span class='math'><span class='mathalpha'>M</span></span>
with respect to a value computation <span class='math'><span class='mathalpha'>B</span></span> of <span class='math'><span class='mathalpha'>M</span></span> satisfies the
conditions:
<ul class='itemize'><li id='intro.races-13.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-13.1'>(13.1)</a></div><span class='math'><span class='mathalpha'>A</span></span> happens before <span class='math'><span class='mathalpha'>B</span></span> and</li><li id='intro.races-13.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-13.2'>(13.2)</a></div>there is no other
<a class='index' id=':side_effects_____'></a>side effect <span class='math'><span class='mathalpha'>X</span></span> to <span class='math'><span class='mathalpha'>M</span></span> such that <span class='math'><span class='mathalpha'>A</span></span>
happens before <span class='math'><span class='mathalpha'>X</span></span> and <span class='math'><span class='mathalpha'>X</span></span> happens before <span class='math'><span class='mathalpha'>B</span></span><a class='hidden_link' href='#intro.races-13.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='intro.races-13.sentence-2' class='sentence'>The value of a non-atomic scalar object or bit-field <span class='math'><span class='mathalpha'>M</span></span>, as determined by
evaluation <span class='math'><span class='mathalpha'>B</span></span>, is the value stored by the
<a class='index' id=':side_effects,visible'></a>visible side effect <span class='math'><span class='mathalpha'>A</span></span><a class='hidden_link' href='#intro.races-13.sentence-2'>.</a></div> <div id='intro.races-note-12' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-12'>12</a></i>:&ensp;<div id='intro.races-13.sentence-3' class='sentence'>If there is ambiguity about which side effect to a
non-atomic object or bit-field is visible, then the behavior is either
unspecified or undefined<a class='hidden_link' href='#intro.races-13.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.races-note-13' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-13'>13</a></i>:&ensp;<div id='intro.races-13.sentence-4' class='sentence'>This states that operations on
ordinary objects are not visibly reordered<a class='hidden_link' href='#intro.races-13.sentence-4'>.</a></div> <div id='intro.races-13.sentence-5' class='sentence'>This is not actually detectable
without data races, but is needed to ensure that data races, as defined
below, and with suitable restrictions on the use of atomics, correspond to data
races in a simple interleaved (sequentially consistent) execution<a class='hidden_link' href='#intro.races-13.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-14'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6292'>#</a></div><div class='texpara'><div id='intro.races-14.sentence-1' class='sentence'>The value of an
atomic object <span class='math'><span class='mathalpha'>M</span></span>, as determined by evaluation <span class='math'><span class='mathalpha'>B</span></span>, is the value
stored by some unspecified
side effect <span class='math'><span class='mathalpha'>A</span></span> that modifies <span class='math'><span class='mathalpha'>M</span></span>, where <span class='math'><span class='mathalpha'>B</span></span> does not happen
before <span class='math'><span class='mathalpha'>A</span></span><a class='hidden_link' href='#intro.races-14.sentence-1'>.</a></div> <div id='intro.races-note-14' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-14'>14</a></i>:&ensp;<div id='intro.races-14.sentence-2' class='sentence'>The set of such side effects is also restricted by the rest of the rules
described here, and in particular, by the coherence requirements below<a class='hidden_link' href='#intro.races-14.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-15'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6303'>#</a></div><div class='texpara'><div id='intro.races-15.sentence-1' class='sentence'><a class='index' id=':coherence,write-write'></a>If an operation <span class='math'><span class='mathalpha'>A</span></span> that modifies an atomic object <span class='math'><span class='mathalpha'>M</span></span> happens before
an operation <span class='math'><span class='mathalpha'>B</span></span> that modifies <span class='math'><span class='mathalpha'>M</span></span>, then <span class='math'><span class='mathalpha'>A</span></span> is earlier
than <span class='math'><span class='mathalpha'>B</span></span> in the modification order of <span class='math'><span class='mathalpha'>M</span></span><a class='hidden_link' href='#intro.races-15.sentence-1'>.</a></div> <div id='intro.races-note-15' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-15'>15</a></i>:&ensp;<div id='intro.races-15.sentence-2' class='sentence'>This requirement is known as write-write coherence<a class='hidden_link' href='#intro.races-15.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-16'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6312'>#</a></div><div class='texpara'><div id='intro.races-16.sentence-1' class='sentence'><a class='index' id=':coherence,read-read'></a>If a
<a class='index' id=':value_computation___'></a>value computation <span class='math'><span class='mathalpha'>A</span></span> of an atomic object <span class='math'><span class='mathalpha'>M</span></span> happens before a
value computation <span class='math'><span class='mathalpha'>B</span></span> of <span class='math'><span class='mathalpha'>M</span></span>, and <span class='math'><span class='mathalpha'>A</span></span> takes its value from a side
effect <span class='math'><span class='mathalpha'>X</span></span> on <span class='math'><span class='mathalpha'>M</span></span>, then the value computed by <span class='math'><span class='mathalpha'>B</span></span> is either
the value stored by <span class='math'><span class='mathalpha'>X</span></span> or the value stored by a
<a class='index' id=':side_effects______'></a>side effect <span class='math'><span class='mathalpha'>Y</span></span> on <span class='math'><span class='mathalpha'>M</span></span>,
where <span class='math'><span class='mathalpha'>Y</span></span> follows <span class='math'><span class='mathalpha'>X</span></span> in the modification order of <span class='math'><span class='mathalpha'>M</span></span><a class='hidden_link' href='#intro.races-16.sentence-1'>.</a></div> <div id='intro.races-note-16' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-16'>16</a></i>:&ensp;<div id='intro.races-16.sentence-2' class='sentence'>This requirement is known as read-read coherence<a class='hidden_link' href='#intro.races-16.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-17'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6327'>#</a></div><div class='texpara'><div id='intro.races-17.sentence-1' class='sentence'><a class='index' id=':coherence,read-write'></a>If a
<a class='index' id=':value_computation____'></a>value computation <span class='math'><span class='mathalpha'>A</span></span> of an atomic object <span class='math'><span class='mathalpha'>M</span></span> happens before an
operation <span class='math'><span class='mathalpha'>B</span></span> that modifies <span class='math'><span class='mathalpha'>M</span></span>, then <span class='math'><span class='mathalpha'>A</span></span> takes its value from a side
effect <span class='math'><span class='mathalpha'>X</span></span> on <span class='math'><span class='mathalpha'>M</span></span>, where <span class='math'><span class='mathalpha'>X</span></span> precedes <span class='math'><span class='mathalpha'>B</span></span> in the
modification order of <span class='math'><span class='mathalpha'>M</span></span><a class='hidden_link' href='#intro.races-17.sentence-1'>.</a></div> <div id='intro.races-note-17' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-17'>17</a></i>:&ensp;<div id='intro.races-17.sentence-2' class='sentence'>This requirement is known as
read-write coherence<a class='hidden_link' href='#intro.races-17.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-18'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6340'>#</a></div><div class='texpara'><div id='intro.races-18.sentence-1' class='sentence'><a class='index' id=':coherence,write-read'></a>If a
<a class='index' id=':side_effects_______'></a>side effect <span class='math'><span class='mathalpha'>X</span></span> on an atomic object <span class='math'><span class='mathalpha'>M</span></span> happens before a value
computation <span class='math'><span class='mathalpha'>B</span></span> of <span class='math'><span class='mathalpha'>M</span></span>, then the evaluation <span class='math'><span class='mathalpha'>B</span></span> takes its
value from <span class='math'><span class='mathalpha'>X</span></span> or from a
<a class='index' id=':side_effects________'></a>side effect <span class='math'><span class='mathalpha'>Y</span></span> that follows <span class='math'><span class='mathalpha'>X</span></span> in the modification order of <span class='math'><span class='mathalpha'>M</span></span><a class='hidden_link' href='#intro.races-18.sentence-1'>.</a></div> <div id='intro.races-note-18' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-18'>18</a></i>:&ensp;<div id='intro.races-18.sentence-2' class='sentence'>This requirement is known as write-read coherence<a class='hidden_link' href='#intro.races-18.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.races-19'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6353'>#</a></div><div class='texpara'><div id='intro.races-note-19' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-19'>19</a></i>:&ensp;<div id='intro.races-19.sentence-1' class='sentence'>The four preceding coherence requirements effectively disallow
compiler reordering of atomic operations to a single object, even if both
operations are relaxed loads<a class='hidden_link' href='#intro.races-19.sentence-1'>.</a></div> <div id='intro.races-19.sentence-2' class='sentence'>This effectively makes the cache coherence
guarantee provided by most hardware available to C++ atomic operations<a class='hidden_link' href='#intro.races-19.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.races-20'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6361'>#</a></div><div class='texpara'><div id='intro.races-note-20' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-20'>20</a></i>:&ensp;<div id='intro.races-20.sentence-1' class='sentence'>The value observed by a load of an atomic depends on the “happens
before” relation, which depends on the values observed by loads of atomics<a class='hidden_link' href='#intro.races-20.sentence-1'>.</a></div> <div id='intro.races-20.sentence-2' class='sentence'>The intended reading is that there must exist an
association of atomic loads with modifications they observe that, together with
suitably chosen modification orders and the “happens before” relation derived
as described above, satisfy the resulting constraints as imposed here<a class='hidden_link' href='#intro.races-20.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-21'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6371'>#</a></div><div class='texpara'><div id='intro.races-21.sentence-1' class='sentence'>Two actions are <a class='hidden_link' href='#def:potentially_concurrent' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:potentially_concurrent'><i >potentially concurrent</i></span></a> if
<ul class='itemize'><li id='intro.races-21.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-21.1'>(21.1)</a></div>they are performed by different threads, or</li><li id='intro.races-21.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.races-21.2'>(21.2)</a></div>they are unsequenced, at least one is performed by a signal handler, and
they are not both performed by the same signal handler invocation<a class='hidden_link' href='#intro.races-21.sentence-1'>.</a></li></ul></div> <div id='intro.races-21.sentence-2' class='sentence'>
The execution of a program contains a <a class='hidden_link' href='#def:data_race' title='6.9.2.2&emsp;Data races&emsp;[intro.races]'><span id='def:data_race'><i >data race</i></span></a> if it contains two
potentially concurrent conflicting actions, at least one of which is not atomic,
and neither happens before the other,
except for the special case for signal handlers described below<a class='hidden_link' href='#intro.races-21.sentence-2'>.</a></div> <div id='intro.races-21.sentence-3' class='sentence'>Any such data race results in undefined
behavior<a class='hidden_link' href='#intro.races-21.sentence-3'>.</a></div> <div id='intro.races-note-21' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-21'>21</a></i>:&ensp;<div id='intro.races-21.sentence-4' class='sentence'>It can be shown that programs that correctly use mutexes
and <span class='texttt'>memory_<span class='shy'></span>order<span class='operator'>&#x200b;::&#x200b;</span>seq_<span class='shy'></span>cst</span> operations to prevent all data races and use no
other synchronization operations behave as if the operations executed by their
constituent threads were simply interleaved, with each
<a class='index' id=':value_computation_____'></a>value computation of an
object being taken from the last
<a class='index' id=':side_effects_________'></a>side effect on that object in that
interleaving<a class='hidden_link' href='#intro.races-21.sentence-4'>.</a></div> <div id='intro.races-21.sentence-5' class='sentence'>This is normally referred to as “sequential consistency”<a class='hidden_link' href='#intro.races-21.sentence-5'>.</a></div> <div id='intro.races-21.sentence-6' class='sentence'>However, this applies only to data-race-free programs, and data-race-free
programs cannot observe most program transformations that do not change
single-threaded program semantics<a class='hidden_link' href='#intro.races-21.sentence-6'>.</a></div> <div id='intro.races-21.sentence-7' class='sentence'>In fact, most single-threaded program
transformations remain possible, since any program that behaves
differently as a result has undefined behavior<a class='hidden_link' href='#intro.races-21.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.races-22'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6402'>#</a></div><div class='texpara'><div id='intro.races-22.sentence-1' class='sentence'>Two accesses to the same object of type <span class='texttt'><span id=':volatile________________'><span class='texttt'><span class='keyword'>volatile</span></span></span> std<span class='operator'>&#x200b;::&#x200b;</span>sig_<span class='shy'></span>atomic_<span class='shy'></span>t</span> do not
result in a data race if both occur in the same thread, even if one or more
occurs in a signal handler<a class='hidden_link' href='#intro.races-22.sentence-1'>.</a></div> <div id='intro.races-22.sentence-2' class='sentence'>For each signal handler invocation, evaluations
performed by the thread invoking a signal handler can be divided into two
groups <span class='math'><span class='mathalpha'>A</span></span> and <span class='math'><span class='mathalpha'>B</span></span>, such that no evaluations in
<span class='math'><span class='mathalpha'>B</span></span> happen before evaluations in <span class='math'><span class='mathalpha'>A</span></span>, and the
evaluations of such <span class='texttt'><span id=':volatile_________________'><span class='texttt'><span class='keyword'>volatile</span></span></span> std<span class='operator'>&#x200b;::&#x200b;</span>sig_<span class='shy'></span>atomic_<span class='shy'></span>t</span> objects take values as though
all evaluations in <span class='math'><span class='mathalpha'>A</span></span> happened before the execution of the signal
handler and the execution of the signal handler happened before all evaluations
in <span class='math'><span class='mathalpha'>B</span></span><a class='hidden_link' href='#intro.races-22.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='intro.races-23'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6414'>#</a></div><div class='texpara'><div id='intro.races-note-22' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-22'>22</a></i>:&ensp;<div id='intro.races-23.sentence-1' class='sentence'>Compiler transformations that introduce assignments to a potentially
shared memory location that would not be modified by the abstract machine are
generally precluded by this document, since such an assignment might overwrite
another assignment by a different thread in cases in which an abstract machine
execution would not have encountered a data race<a class='hidden_link' href='#intro.races-23.sentence-1'>.</a></div> <div id='intro.races-23.sentence-2' class='sentence'>This includes implementations
of data member assignment that overwrite adjacent members in separate memory
locations<a class='hidden_link' href='#intro.races-23.sentence-2'>.</a></div> <div id='intro.races-23.sentence-3' class='sentence'>Reordering of atomic loads in cases in which the atomics in question
might alias is also generally precluded, since this could violate the coherence
rules<a class='hidden_link' href='#intro.races-23.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.races-24'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6427'>#</a></div><div class='texpara'><div id='intro.races-note-23' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.races-note-23'>23</a></i>:&ensp;<div id='intro.races-24.sentence-1' class='sentence'>Transformations that introduce a speculative read of a potentially
shared memory location might not preserve the semantics of the C++ program as
defined in this document, since they potentially introduce a data race<a class='hidden_link' href='#intro.races-24.sentence-1'>.</a></div> <div id='intro.races-24.sentence-2' class='sentence'>However,
they are typically valid in the context of an optimizing compiler that targets a
specific machine with well-defined semantics for data races<a class='hidden_link' href='#intro.races-24.sentence-2'>.</a></div> <div id='intro.races-24.sentence-3' class='sentence'>They would be
invalid for a hypothetical machine that is not tolerant of races or provides
hardware race detection<a class='hidden_link' href='#intro.races-24.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='intro.progress' class='section'><h4 ><a class='secnum' href='#intro.progress' style='min-width:95pt'>6.9.2.3</a> Forward progress <a class='abbr_ref' href='intro.progress'>[intro.progress]</a></h4><div class='para' id='intro.progress-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6440'>#</a></div><div class='texpara'><div id='intro.progress-1.sentence-1' class='sentence'>The implementation may assume that any thread will eventually do one of the
following:
<ul class='itemize'><li id='intro.progress-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-1.1'>(1.1)</a></div>terminate,</li><li id='intro.progress-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-1.2'>(1.2)</a></div>make a call to a library I/O function,</li><li id='intro.progress-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-1.3'>(1.3)</a></div>perform an access through a volatile glvalue, or</li><li id='intro.progress-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-1.4'>(1.4)</a></div>perform a synchronization operation or an atomic operation<a class='hidden_link' href='#intro.progress-1.sentence-1'>.</a></li></ul></div> <div id='intro.progress-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-1'>1</a></i>:&ensp;<div id='intro.progress-1.sentence-2' class='sentence'>This is intended to allow compiler transformations such as removal of
empty loops, even when termination cannot be proven<a class='hidden_link' href='#intro.progress-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.progress-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6454'>#</a></div><div class='texpara'><div id='intro.progress-2.sentence-1' class='sentence'>Executions of atomic functions
that are either defined to be lock-free (<a href='atomics.flag' title='33.5.10&emsp;Flag type and operations'>[atomics.<span class='shy'></span>flag]</a>)
or indicated as lock-free (<a href='atomics.lockfree' title='33.5.5&emsp;Lock-free property'>[atomics.<span class='shy'></span>lockfree]</a>)
are <a class='hidden_link' href='#def:lock-free_execution' title='6.9.2.3&emsp;Forward progress&emsp;[intro.progress]'><span id='def:lock-free_execution'><i >lock-free executions</i></span></a><a class='hidden_link' href='#intro.progress-2.sentence-1'>.</a></div> <ul class='itemize'><li id='intro.progress-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-2.1'>(2.1)</a></div><div class='texpara'><div id='intro.progress-2.1.sentence-1' class='sentence'>If there is only one thread that is not blocked (<a href='defns.block' title='3.6&emsp;block'>[defns.<span class='shy'></span>block]</a>)
  in a standard library function,
  a lock-free execution in that thread shall complete<a class='hidden_link' href='#intro.progress-2.1.sentence-1'>.</a></div> <div id='intro.progress-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-2'>2</a></i>:&ensp;<div id='intro.progress-2.1.sentence-2' class='sentence'>Concurrently executing threads
    might prevent progress of a lock-free execution<a class='hidden_link' href='#intro.progress-2.1.sentence-2'>.</a></div> <div id='intro.progress-2.1.sentence-3' class='sentence'>For example,
    this situation can occur
    with load-locked store-conditional implementations<a class='hidden_link' href='#intro.progress-2.1.sentence-3'>.</a></div> <div id='intro.progress-2.1.sentence-4' class='sentence'>This property is sometimes termed obstruction-free<a class='hidden_link' href='#intro.progress-2.1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='intro.progress-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-2.2'>(2.2)</a></div><div class='texpara'><div id='intro.progress-2.2.sentence-1' class='sentence'>When one or more lock-free executions run concurrently,
  at least one should complete<a class='hidden_link' href='#intro.progress-2.2.sentence-1'>.</a></div> <div id='intro.progress-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-3'>3</a></i>:&ensp;<div id='intro.progress-2.2.sentence-2' class='sentence'>It is difficult for some implementations
    to provide absolute guarantees to this effect,
    since repeated and particularly inopportune interference
    from other threads
    could prevent forward progress,
    e.g.,
    by repeatedly stealing a cache line
    for unrelated purposes
    between load-locked and store-conditional instructions<a class='hidden_link' href='#intro.progress-2.2.sentence-2'>.</a></div> <div id='intro.progress-2.2.sentence-3' class='sentence'>For implementations that follow this recommendation and
    ensure that such effects cannot indefinitely delay progress
    under expected operating conditions,
    such anomalies
    can therefore safely be ignored by programmers<a class='hidden_link' href='#intro.progress-2.2.sentence-3'>.</a></div> <div id='intro.progress-2.2.sentence-4' class='sentence'>Outside this document,
    this property is sometimes termed lock-free<a class='hidden_link' href='#intro.progress-2.2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div><div class='para' id='intro.progress-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6495'>#</a></div><div class='texpara'><div id='intro.progress-3.sentence-1' class='sentence'>During the execution of a thread of execution, each of the following is termed
an <a class='hidden_link' href='#def:execution_step' title='6.9.2.3&emsp;Forward progress&emsp;[intro.progress]'><span id='def:execution_step'><i >execution step</i></span></a>:
<ul class='itemize'><li id='intro.progress-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-3.1'>(3.1)</a></div>termination of the thread of execution,</li><li id='intro.progress-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-3.2'>(3.2)</a></div>performing an access through a volatile glvalue, or</li><li id='intro.progress-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#intro.progress-3.3'>(3.3)</a></div>completion of a call to a library I/O function, a
      synchronization operation, or an atomic operation<a class='hidden_link' href='#intro.progress-3.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='intro.progress-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6505'>#</a></div><div class='texpara'><div id='intro.progress-4.sentence-1' class='sentence'>An invocation of a standard library function that blocks (<a href='defns.block' title='3.6&emsp;block'>[defns.<span class='shy'></span>block]</a>)
is considered to continuously execute execution steps while waiting for the
condition that it blocks on to be satisfied<a class='hidden_link' href='#intro.progress-4.sentence-1'>.</a></div> <div id='intro.progress-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#intro.progress-example-1'>1</a></i>:&ensp;<div id='intro.progress-4.sentence-2' class='sentence'>A library I/O function that blocks until the I/O operation is complete can
be considered to continuously check whether the operation is complete<a class='hidden_link' href='#intro.progress-4.sentence-2'>.</a></div> <div id='intro.progress-4.sentence-3' class='sentence'>Each
such check consists of one or more execution steps, for example using
observable behavior of the abstract machine<a class='hidden_link' href='#intro.progress-4.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.progress-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6516'>#</a></div><div class='texpara'><div id='intro.progress-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-4'>4</a></i>:&ensp;<div id='intro.progress-5.sentence-1' class='sentence'>Because of this and the preceding requirement regarding what threads of execution
have to perform eventually, it follows that no thread of execution can execute
forever without an execution step occurring<a class='hidden_link' href='#intro.progress-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.progress-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6523'>#</a></div><div class='texpara'><div id='intro.progress-6.sentence-1' class='sentence'>A thread of execution <a class='hidden_link' href='#def:make_progress,thread' title='6.9.2.3&emsp;Forward progress&emsp;[intro.progress]'><span id='def:make_progress,thread'><i >makes progress</i></span></a>
when an execution step occurs or a
lock-free execution does not complete because there are other concurrent threads
that are not blocked in a standard library function (see above)<a class='hidden_link' href='#intro.progress-6.sentence-1'>.</a></div></div></div><div class='para' id='intro.progress-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6529'>#</a></div><div class='texpara'><div id='intro.progress-7.sentence-1' class='sentence'><a class='index' id=':forward_progress_guarantees,concurrent'></a>For a thread of execution providing <a class='hidden_link' href='#def:concurrent_forward_progress_guarantees' title='6.9.2.3&emsp;Forward progress&emsp;[intro.progress]'><span id='def:concurrent_forward_progress_guarantees'><i >concurrent forward progress guarantees</i></span></a>,
the implementation ensures that the thread will eventually make progress for as
long as it has not terminated<a class='hidden_link' href='#intro.progress-7.sentence-1'>.</a></div> <div id='intro.progress-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-5'>5</a></i>:&ensp;<div id='intro.progress-7.sentence-2' class='sentence'>This applies regardless of whether or not other threads of execution (if any)
have been or are making progress<a class='hidden_link' href='#intro.progress-7.sentence-2'>.</a></div> <div id='intro.progress-7.sentence-3' class='sentence'>To eventually fulfill this requirement means that
this will happen in an unspecified but finite amount of time<a class='hidden_link' href='#intro.progress-7.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.progress-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6540'>#</a></div><div class='texpara'><div id='intro.progress-8.sentence-1' class='sentence'>It is <a class='index' id=':whether_the_thread_that_executes_main_and_the_threads_created_by_std::thread_or_std::jthread_provide_concurrent_forward_progress_guarantees'></a>implementation-defined whether the
implementation-created thread of execution that executes
<span class='texttt'>main</span> (<a href='#start.main' title='6.9.3.1&emsp;main function'>[basic.<span class='shy'></span>start.<span class='shy'></span>main]</a>) and the threads of execution created by
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>thread</span> (<a href='thread.thread.class' title='33.4.3&emsp;Class thread'>[thread.<span class='shy'></span>thread.<span class='shy'></span>class]</a>)
or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>jthread</span> (<a href='thread.jthread.class' title='33.4.4&emsp;Class jthread'>[thread.<span class='shy'></span>jthread.<span class='shy'></span>class]</a>)
provide concurrent forward progress guarantees<a class='hidden_link' href='#intro.progress-8.sentence-1'>.</a></div> <div id='intro.progress-8.sentence-2' class='sentence'>General-purpose implementations should provide these guarantees<a class='hidden_link' href='#intro.progress-8.sentence-2'>.</a></div></div></div><div class='para' id='intro.progress-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6550'>#</a></div><div class='texpara'><div id='intro.progress-9.sentence-1' class='sentence'><a class='index' id=':forward_progress_guarantees,parallel'></a>For a thread of execution providing <a class='hidden_link' href='#def:parallel_forward_progress_guarantees' title='6.9.2.3&emsp;Forward progress&emsp;[intro.progress]'><span id='def:parallel_forward_progress_guarantees'><i >parallel forward progress guarantees</i></span></a>,
the implementation is not required to ensure that the thread will eventually make
progress if it has not yet executed any execution step; once this thread has
executed a step, it provides concurrent forward progress guarantees<a class='hidden_link' href='#intro.progress-9.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='intro.progress-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6557'>#</a></div><div class='texpara'><div id='intro.progress-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-6'>6</a></i>:&ensp;<div id='intro.progress-10.sentence-1' class='sentence'>This does not specify a requirement for when to start this thread of execution,
which will typically be specified by the entity that creates this thread of
execution<a class='hidden_link' href='#intro.progress-10.sentence-1'>.</a></div> <div id='intro.progress-10.sentence-2' class='sentence'>For example, a thread of execution that provides concurrent forward
progress guarantees and executes tasks from a set of tasks in an arbitrary order,
one after the other, satisfies the requirements of parallel forward progress for
these tasks<a class='hidden_link' href='#intro.progress-10.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.progress-11'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6567'>#</a></div><div class='texpara'><div id='intro.progress-11.sentence-1' class='sentence'><a class='index' id=':forward_progress_guarantees,weakly_parallel'></a>For a thread of execution providing <a class='hidden_link' href='#def:weakly_parallel_forward_progress_guarantees' title='6.9.2.3&emsp;Forward progress&emsp;[intro.progress]'><span id='def:weakly_parallel_forward_progress_guarantees'><i >weakly parallel forward progress
guarantees</i></span></a>, the implementation does not ensure that the thread will eventually
make progress<a class='hidden_link' href='#intro.progress-11.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='intro.progress-12'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6573'>#</a></div><div class='texpara'><div id='intro.progress-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-7'>7</a></i>:&ensp;<div id='intro.progress-12.sentence-1' class='sentence'>Threads of execution providing weakly parallel forward progress guarantees cannot
be expected to make progress regardless of whether other threads make progress or
not; however, blocking with forward progress guarantee delegation, as defined below,
can be used to ensure that such threads of execution make progress eventually<a class='hidden_link' href='#intro.progress-12.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.progress-13'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6581'>#</a></div><div class='texpara'><div id='intro.progress-13.sentence-1' class='sentence'>Concurrent forward progress guarantees are stronger than parallel forward progress
guarantees, which in turn are stronger than weakly parallel forward progress
guarantees<a class='hidden_link' href='#intro.progress-13.sentence-1'>.</a></div> <div id='intro.progress-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-8'>8</a></i>:&ensp;<div id='intro.progress-13.sentence-2' class='sentence'>For example, some kinds of synchronization between threads of execution might only
make progress if the respective threads of execution provide parallel forward progress
guarantees, but will fail to make progress under weakly parallel guarantees<a class='hidden_link' href='#intro.progress-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.progress-14'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6591'>#</a></div><div class='texpara'><div id='intro.progress-14.sentence-1' class='sentence'><a class='index' id=':forward_progress_guarantees,delegation_of'></a>When a thread of execution <span class='math'><span class='mathalpha'>P</span></span> is specified to
<a class='hidden_link' href='#def:block_(execution),with_forward_progress_guarantee_delegation' title='6.9.2.3&emsp;Forward progress&emsp;[intro.progress]'><span id='def:block_(execution),with_forward_progress_guarantee_delegation'><i >block with forward progress guarantee delegation</i></span></a>
on the completion of a set <span class='math'><span class='mathalpha'>S</span></span> of threads of execution,
then throughout the whole time of <span class='math'><span class='mathalpha'>P</span></span> being blocked on <span class='math'><span class='mathalpha'>S</span></span>,
the implementation shall ensure that the forward progress guarantees
provided by at least one thread of execution in <span class='math'><span class='mathalpha'>S</span></span>
is at least as strong as <span class='math'><span class='mathalpha'>P</span></span>'s forward progress guarantees<a class='hidden_link' href='#intro.progress-14.sentence-1'>.</a></div> <div id='intro.progress-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-9'>9</a></i>:&ensp;<div id='intro.progress-14.sentence-2' class='sentence'>It is unspecified which thread or threads of execution in <span class='math'><span class='mathalpha'>S</span></span> are chosen
and for which number of execution steps<a class='hidden_link' href='#intro.progress-14.sentence-2'>.</a></div> <div id='intro.progress-14.sentence-3' class='sentence'>The strengthening is not permanent and
not necessarily in place for the rest of the lifetime of the affected thread of
execution<a class='hidden_link' href='#intro.progress-14.sentence-3'>.</a></div> <div id='intro.progress-14.sentence-4' class='sentence'>As long as <span class='math'><span class='mathalpha'>P</span></span> is blocked, the implementation has to eventually
select and potentially strengthen a thread of execution in <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#intro.progress-14.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='intro.progress-14.sentence-5' class='sentence'>
Once a thread of execution in <span class='math'><span class='mathalpha'>S</span></span> terminates, it is removed from <span class='math'><span class='mathalpha'>S</span></span><a class='hidden_link' href='#intro.progress-14.sentence-5'>.</a></div> <div id='intro.progress-14.sentence-6' class='sentence'>Once <span class='math'><span class='mathalpha'>S</span></span> is empty, <span class='math'><span class='mathalpha'>P</span></span> is unblocked<a class='hidden_link' href='#intro.progress-14.sentence-6'>.</a></div></div></div><div class='para nonNormativeOnly' id='intro.progress-15'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6611'>#</a></div><div class='texpara'><div id='intro.progress-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-10'>10</a></i>:&ensp;<div id='intro.progress-15.sentence-1' class='sentence'>A thread of execution <span class='math'><span class='mathalpha'>B</span></span> thus can temporarily provide an effectively
stronger forward progress guarantee for a certain amount of time, due to a
second thread of execution <span class='math'><span class='mathalpha'>A</span></span> being blocked on it with forward
progress guarantee delegation<a class='hidden_link' href='#intro.progress-15.sentence-1'>.</a></div> <div id='intro.progress-15.sentence-2' class='sentence'>In turn, if <span class='math'><span class='mathalpha'>B</span></span> then blocks with
forward progress guarantee delegation on <span class='math'><span class='mathalpha'>C</span></span>, this can also temporarily
provide a stronger forward progress guarantee to <span class='math'><span class='mathalpha'>C</span></span><a class='hidden_link' href='#intro.progress-15.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.progress-16'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6621'>#</a></div><div class='texpara'><div id='intro.progress-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-11'>11</a></i>:&ensp;<div id='intro.progress-16.sentence-1' class='sentence'>If all threads of execution in <span class='math'><span class='mathalpha'>S</span></span> finish executing (e.g., they terminate
and do not use blocking synchronization incorrectly), then <span class='math'><span class='mathalpha'>P</span></span>'s execution
of the operation that blocks with forward progress guarantee delegation will not
result in <span class='math'><span class='mathalpha'>P</span></span>'s progress guarantee being effectively weakened<a class='hidden_link' href='#intro.progress-16.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='intro.progress-17'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6629'>#</a></div><div class='texpara'><div id='intro.progress-note-12' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intro.progress-note-12'>12</a></i>:&ensp;<div id='intro.progress-17.sentence-1' class='sentence'>This does not remove any constraints regarding blocking synchronization for
threads of execution providing parallel or weakly parallel forward progress
guarantees because the implementation is not required to strengthen a particular
thread of execution whose too-weak progress guarantee is preventing overall progress<a class='hidden_link' href='#intro.progress-17.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='intro.progress-18'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6637'>#</a></div><div class='texpara'><div id='intro.progress-18.sentence-1' class='sentence'>An implementation should ensure that the last value (in modification order)
assigned by an atomic or synchronization operation will become visible to all
other threads in a finite period of time<a class='hidden_link' href='#intro.progress-18.sentence-1'>.</a></div> </div></div></div></div><div id='start' class='section'><h3 ><a class='secnum' href='#start' style='min-width:80pt'>6.9.3</a> Start and termination <a class='abbr_ref' href='basic.start'>[basic.start]</a></h3><div id='start.main' class='section'><h4 ><a class='secnum' href='#start.main' style='min-width:95pt'>6.9.3.1</a> <span class='texttt'>main</span> function <a class='abbr_ref' href='basic.start.main'>[basic.start.main]</a></h4><div class='texpara'><a class='index' id=':main_function'></a></div><div class='para' id='start.main-1'><div class='marginalizedparent'><a class='marginalized' href='#start.main-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6649'>#</a></div><div class='texpara'><div id='start.main-1.sentence-1' class='sentence'><a class='index' id=':program,startup'></a>A program shall contain exactly one function called <span class='texttt'>main</span>
that belongs to the global scope<a class='hidden_link' href='#start.main-1.sentence-1'>.</a></div> <div id='start.main-1.sentence-2' class='sentence'>Executing a program starts a main thread of execution (<a href='#intro.multithread' title='6.9.2&emsp;Multi-threaded executions and data races'>[intro.<span class='shy'></span>multithread]</a>, <a href='thread.threads' title='33.4&emsp;Threads'>[thread.<span class='shy'></span>threads]</a>)
in which the <span class='texttt'>main</span> function is invoked<a class='hidden_link' href='#start.main-1.sentence-2'>.</a></div> <div id='start.main-1.sentence-3' class='sentence'><a class='index' id=':implementation,freestanding_'></a>It is <a class='index' id=':defining_main_in_freestanding_environment'></a>implementation-defined
whether a program in a freestanding environment is required to define a <span class='texttt'>main</span>
function<a class='hidden_link' href='#start.main-1.sentence-3'>.</a></div> <div id='start.main-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.main-note-1'>1</a></i>:&ensp;<div id='start.main-1.sentence-4' class='sentence'>In a freestanding environment, startup and termination is
<a class='index' id=':startup_and_termination_in_freestanding_environment'></a>implementation-defined; startup contains the
execution of constructors for non-local objects with static storage duration;
termination contains the execution of destructors for objects with static storage
duration<a class='hidden_link' href='#start.main-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='start.main-2'><div class='marginalizedparent'><a class='marginalized' href='#start.main-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6667'>#</a></div><div class='texpara'><div id='start.main-2.sentence-1' class='sentence'>An implementation shall not predefine the <span class='texttt'>main</span> function<a class='hidden_link' href='#start.main-2.sentence-1'>.</a></div> <div id='start.main-2.sentence-2' class='sentence'>Its type shall have C++ language linkage
and it shall have a declared return type of type
<span id=':int_____________________'><span class='texttt'><span class='keyword'>int</span></span></span>, but otherwise its type is <a class='index' id=':parameters_to_main'></a>implementation-defined<a class='hidden_link' href='#start.main-2.sentence-2'>.</a></div> <div id='start.main-2.sentence-3' class='sentence'><a class='index' id=':main_function,implementation-defined_parameters_to'></a>An implementation shall allow both
<ul class='itemize'><li id='start.main-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.main-2.1'>(2.1)</a></div>a function of <span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> returning <span id=':int______________________'><span class='texttt'><span class='keyword'>int</span></span></span> and</li><li id='start.main-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.main-2.2'>(2.2)</a></div>a function of <span class='texttt'><span class='parenthesis'>(</span><span id=':int_______________________'><span class='texttt'><span class='keyword'>int</span></span></span></span>, pointer to pointer to <span class='texttt'><span id=':char__________________________'><span class='texttt'><span class='keyword'>char</span></span></span><span class='parenthesis'>)</span></span> returning <span id=':int________________________'><span class='texttt'><span class='keyword'>int</span></span></span></li></ul>
<a class='index' id=':argc'></a><a class='index' id=':argv'></a>as the type of <span class='texttt'>main</span> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#start.main-2.sentence-3'>.</a></div> <div id='start.main-2.sentence-4' class='sentence'><a class='index' id=':main_function,parameters_to'></a><a class='index' id=':environment,program'></a>In the latter form, for purposes of exposition, the first function
parameter is called <span class='texttt'>argc</span> and the second function parameter is
called <span class='texttt'>argv</span>, where <span class='texttt'>argc</span> shall be the number of
arguments passed to the program from the environment in which the
program is run<a class='hidden_link' href='#start.main-2.sentence-4'>.</a></div> <div id='start.main-2.sentence-5' class='sentence'>If
<span class='texttt'>argc</span> is nonzero these arguments shall be supplied in
<span class='texttt'>argv<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span> through <span class='texttt'>argv<span class='squarebracket'>[</span>argc<span class='operator'>-</span><span class='literal'>1</span><span class='squarebracket'>]</span></span> as pointers to the initial
characters of null-terminated multibyte strings (<span class='textsc'>ntmbs</span>s) (<a href='multibyte.strings' title='16.3.3.3.4.3&emsp;Multibyte strings'>[multibyte.<span class='shy'></span>strings]</a>)
and <span class='texttt'>argv<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span> shall be the pointer to
the initial character of a <span class='textsc'>ntmbs</span> that represents the name used to
invoke the program or <span class='texttt'><span class='literal'>""</span></span><a class='hidden_link' href='#start.main-2.sentence-5'>.</a></div> <div id='start.main-2.sentence-6' class='sentence'>The value of <span class='texttt'>argc</span> shall be
non-negative<a class='hidden_link' href='#start.main-2.sentence-6'>.</a></div> <div id='start.main-2.sentence-7' class='sentence'>The value of <span class='texttt'>argv<span class='squarebracket'>[</span>argc<span class='squarebracket'>]</span></span> shall be 0<a class='hidden_link' href='#start.main-2.sentence-7'>.</a></div></div><div class='texpara'><div id='start.main-2.sentence-8' class='sentence'><i >Recommended practice</i>: Any further (optional) parameters should be added after <span class='texttt'>argv</span><a class='hidden_link' href='#start.main-2.sentence-8'>.</a></div></div></div><div class='para' id='start.main-3'><div class='marginalizedparent'><a class='marginalized' href='#start.main-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6699'>#</a></div><div class='texpara'><div id='start.main-3.sentence-1' class='sentence'>The function <span class='texttt'>main</span> shall not be used within
a program<a class='hidden_link' href='#start.main-3.sentence-1'>.</a></div> <div id='start.main-3.sentence-2' class='sentence'><a class='index' id=':main_function,implementation-defined_linkage_of'></a>The linkage (<a href='#link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>) of <span class='texttt'>main</span> is
<a class='index' id=':linkage_of_main'></a>implementation-defined<a class='hidden_link' href='#start.main-3.sentence-2'>.</a></div> <div id='start.main-3.sentence-3' class='sentence'>A program that defines <span class='texttt'>main</span> as
deleted or that declares <span class='texttt'>main</span> to be
<span id=':inline'><span class='texttt'><span class='keyword'>inline</span></span></span>, <span id=':static_____'><span class='texttt'><span class='keyword'>static</span></span></span>, <span id=':constexpr_'><span class='texttt'><span class='keyword'>constexpr</span></span></span>, or <span id=':consteval'><span class='texttt'><span class='keyword'>consteval</span></span></span> is ill-formed<a class='hidden_link' href='#start.main-3.sentence-3'>.</a></div> <div id='start.main-3.sentence-4' class='sentence'>The function <span class='texttt'>main</span> shall not be a coroutine (<a href='dcl.fct.def.coroutine' title='9.5.4&emsp;Coroutine definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>coroutine]</a>)<a class='hidden_link' href='#start.main-3.sentence-4'>.</a></div> <div id='start.main-3.sentence-5' class='sentence'>The <span class='texttt'>main</span> function shall not be declared with a
<a href='dcl.link#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification___'><span class='textsf'><i >linkage-specification</i></span></span></a> (<a href='dcl.link' title='9.11&emsp;Linkage specifications'>[dcl.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#start.main-3.sentence-5'>.</a></div> <div id='start.main-3.sentence-6' class='sentence'>A program that declares
<ul class='itemize'><li id='start.main-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.main-3.1'>(3.1)</a></div>a variable <span class='texttt'>main</span> that belongs to the global scope, or</li><li id='start.main-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.main-3.2'>(3.2)</a></div>a function <span class='texttt'>main</span> that belongs to the global scope and
is attached to a named module, or</li><li id='start.main-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.main-3.3'>(3.3)</a></div>a function template <span class='texttt'>main</span> that belongs to the global scope, or</li><li id='start.main-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.main-3.4'>(3.4)</a></div>an entity named <span class='texttt'>main</span>
with C language linkage (in any namespace)</li></ul>
is ill-formed<a class='hidden_link' href='#start.main-3.sentence-6'>.</a></div> <div id='start.main-3.sentence-7' class='sentence'>The name <span class='texttt'>main</span> is
not otherwise reserved<a class='hidden_link' href='#start.main-3.sentence-7'>.</a></div> <div id='start.main-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#start.main-example-1'>1</a></i>:&ensp;<div id='start.main-3.sentence-8' class='sentence'>Member functions, classes, and
enumerations can be called <span class='texttt'>main</span>, as can entities in other
namespaces<a class='hidden_link' href='#start.main-3.sentence-8'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='start.main-4'><div class='marginalizedparent'><a class='marginalized' href='#start.main-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6732'>#</a></div><div class='texpara'><div id='start.main-4.sentence-1' class='sentence'><a class='index' id=':exit'></a><a class='index' id='lib:exit'></a><a class='index' id=':termination,program'></a>Terminating the program
without leaving the current block (e.g., by calling the function
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span> (<a href='support.start.term' title='17.5&emsp;Startup and termination'>[support.<span class='shy'></span>start.<span class='shy'></span>term]</a>)) does not destroy any
objects with automatic storage duration (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#start.main-4.sentence-1'>.</a></div> <div id='start.main-4.sentence-2' class='sentence'>If
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit</span> is invoked during the destruction of
an object with static or thread storage duration, the program has undefined
behavior<a class='hidden_link' href='#start.main-4.sentence-2'>.</a></div></div></div><div class='para' id='start.main-5'><div class='marginalizedparent'><a class='marginalized' href='#start.main-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6744'>#</a></div><div class='texpara'><div id='start.main-5.sentence-1' class='sentence'><a class='index' id=':termination,program_'></a><a class='index' id=':main_function,return_from'></a>A <span id=':return_'><span class='texttt'><span class='keyword'>return</span></span></span> statement (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>) in <span class='texttt'>main</span> has the effect of leaving the main
function (destroying any objects with automatic storage duration) and
calling <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit</span> with the return value as the argument<a class='hidden_link' href='#start.main-5.sentence-1'>.</a></div> <div id='start.main-5.sentence-2' class='sentence'>If control flows off the end of
the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement_____'><span class='textsf'><i >compound-statement</i></span></span></a> of <span class='texttt'>main</span>,
the effect is equivalent to a <span id=':return__'><span class='texttt'><span class='keyword'>return</span></span></span> with operand <span class='texttt'><span class='literal'>0</span></span>
(see also <a href='except.handle' title='14.4&emsp;Handling an exception'>[except.<span class='shy'></span>handle]</a>)<a class='hidden_link' href='#start.main-5.sentence-2'>.</a></div> </div></div></div><div id='start.static' class='section'><h4 ><a class='secnum' href='#start.static' style='min-width:95pt'>6.9.3.2</a> Static initialization <a class='abbr_ref' href='basic.start.static'>[basic.start.static]</a></h4><div class='para' id='start.static-1'><div class='marginalizedparent'><a class='marginalized' href='#start.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6758'>#</a></div><div class='texpara'><div id='start.static-1.sentence-1' class='sentence'><a class='index' id=':initialization'></a><a class='index' id=':initialization,static_and_thread'></a>Variables with static storage duration
are initialized as a consequence of program initiation<a class='hidden_link' href='#start.static-1.sentence-1'>.</a></div> <div id='start.static-1.sentence-2' class='sentence'>Variables with
thread storage duration are initialized as a consequence of thread execution<a class='hidden_link' href='#start.static-1.sentence-2'>.</a></div> <div id='start.static-1.sentence-3' class='sentence'>Within each of these phases of initiation, initialization occurs as follows<a class='hidden_link' href='#start.static-1.sentence-3'>.</a></div></div></div><div class='para' id='start.static-2'><div class='marginalizedparent'><a class='marginalized' href='#start.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6766'>#</a></div><div class='texpara'><div id='start.static-2.sentence-1' class='sentence'><a class='index' id=':initialization,constant'></a><a class='hidden_link' href='#def:constant_initialization' title='6.9.3.2&emsp;Static initialization&emsp;[basic.start.static]'><span id='def:constant_initialization'><i >Constant initialization</i></span></a> is performed
if a variable or temporary object with static or thread storage duration
is constant-initialized (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#start.static-2.sentence-1'>.</a></div> <div id='start.static-2.sentence-2' class='sentence'><a class='index' id=':initialization,zero-initialization'></a>If constant initialization is not performed, a variable with static
storage duration (<a href='#stc.static' title='6.7.5.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>) or thread storage
duration (<a href='#stc.thread' title='6.7.5.3&emsp;Thread storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>thread]</a>) is zero-initialized (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#start.static-2.sentence-2'>.</a></div> <div id='start.static-2.sentence-3' class='sentence'>Together, zero-initialization and constant initialization are called
<a class='hidden_link' href='#def:initialization,static' title='6.9.3.2&emsp;Static initialization&emsp;[basic.start.static]'><span id='def:initialization,static'><i >static initialization</i></span></a>;
all other initialization is <a class='hidden_link' href='#def:initialization,dynamic' title='6.9.3.2&emsp;Static initialization&emsp;[basic.start.static]'><span id='def:initialization,dynamic'><i >dynamic initialization</i></span></a><a class='hidden_link' href='#start.static-2.sentence-3'>.</a></div> <div id='start.static-2.sentence-4' class='sentence'>All static initialization strongly happens before (<a href='#intro.races' title='6.9.2.2&emsp;Data races'>[intro.<span class='shy'></span>races]</a>)
any dynamic initialization<a class='hidden_link' href='#start.static-2.sentence-4'>.</a></div> <div id='start.static-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.static-note-1'>1</a></i>:&ensp;<div id='start.static-2.sentence-5' class='sentence'>The dynamic initialization of non-block variables is described
in <a href='#start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a>; that of static block variables is described
in <a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a><a class='hidden_link' href='#start.static-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='start.static-3'><div class='marginalizedparent'><a class='marginalized' href='#start.static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6786'>#</a></div><div class='texpara'><div id='start.static-3.sentence-1' class='sentence'>An implementation is permitted to perform the initialization of a
variable with static or thread storage duration as a static
initialization even if such initialization is not required to be done
statically, provided that
<ul class='itemize'><li id='start.static-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.static-3.1'>(3.1)</a></div>the dynamic version of the initialization does not change the
value of any other object of static or thread storage duration
prior to its initialization, and</li><li id='start.static-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.static-3.2'>(3.2)</a></div>the static version of the initialization produces the same value
in the initialized variable as would be produced by the dynamic
initialization if all variables not required to be initialized statically
were initialized dynamically<a class='hidden_link' href='#start.static-3.sentence-1'>.</a></li></ul></div> <div id='start.static-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.static-note-2'>2</a></i>:&ensp;<div id='start.static-3.sentence-2' class='sentence'>As a consequence, if the initialization of an object <span class='texttt'>obj1</span> refers to an
object <span class='texttt'>obj2</span> potentially requiring dynamic initialization and defined
later in the same translation unit, it is unspecified whether the value of <span class='texttt'>obj2</span> used
will be the value of the fully initialized <span class='texttt'>obj2</span> (because <span class='texttt'>obj2</span> was statically
initialized) or will be the value of <span class='texttt'>obj2</span> merely zero-initialized<a class='hidden_link' href='#start.static-3.sentence-2'>.</a></div> <div id='start.static-3.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>inline</span> <span class='keyword'>double</span> fd<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>1.0</span>; <span class='curlybracket'>}</span>
<span class='keyword'>extern</span> <span class='keyword'>double</span> d1;
<span class='keyword'>double</span> d2 <span class='operator'>=</span> d1;     <span class='comment'>// unspecified:</span>
                    <span class='comment'>// either statically initialized to <span class='tcode_in_codeblock'>0.0</span> or</span>
                    <span class='comment'>// dynamically initialized to <span class='tcode_in_codeblock'>0.0</span> if <span class='tcode_in_codeblock'>d1</span> is</span>
                    <span class='comment'>// dynamically initialized, or <span class='tcode_in_codeblock'>1.0</span> otherwise</span>
<span class='keyword'>double</span> d1 <span class='operator'>=</span> fd<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// either initialized statically or dynamically to <span class='tcode_in_codeblock'>1.0</span></span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='start.dynamic' class='section'><h4 ><a class='secnum' href='#start.dynamic' style='min-width:95pt'>6.9.3.3</a> Dynamic initialization of non-block variables <a class='abbr_ref' href='basic.start.dynamic'>[basic.start.dynamic]</a></h4><div class='para' id='start.dynamic-1'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6822'>#</a></div><div class='texpara'><div id='start.dynamic-1.sentence-1' class='sentence'><a class='index' id=':initialization,dynamic_non-block'></a><a class='index' id=':start,program'></a><a class='index' id=':initialization,order_of'></a>Dynamic initialization of a non-block variable with static storage duration is
unordered if the variable is an implicitly or explicitly instantiated
specialization, is partially-ordered if the variable
is an inline variable that is not an implicitly or explicitly instantiated
specialization, and otherwise is ordered<a class='hidden_link' href='#start.dynamic-1.sentence-1'>.</a></div> <div id='start.dynamic-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.dynamic-note-1'>1</a></i>:&ensp;<div id='start.dynamic-1.sentence-2' class='sentence'>A non-inline explicit specialization of a templated variable
has ordered initialization<a class='hidden_link' href='#start.dynamic-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='start.dynamic-2'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6836'>#</a></div><div class='texpara'><div id='start.dynamic-2.sentence-1' class='sentence'>A declaration <span class='texttt'>D</span> is
<a class='hidden_link' href='#def:appearance-ordered' title='6.9.3.3&emsp;Dynamic initialization of non-block variables&emsp;[basic.start.dynamic]'><span id='def:appearance-ordered'><i >appearance-ordered</i></span></a> before a declaration <span class='texttt'>E</span> if
<ul class='itemize'><li id='start.dynamic-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.dynamic-2.1'>(2.1)</a></div><span class='texttt'>D</span> appears in the same translation unit as <span class='texttt'>E</span>, or</li><li id='start.dynamic-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.dynamic-2.2'>(2.2)</a></div>the translation unit containing <span class='texttt'>E</span>
has an interface dependency on the translation unit containing <span class='texttt'>D</span>,</li></ul>
in either case prior to <span class='texttt'>E</span><a class='hidden_link' href='#start.dynamic-2.sentence-1'>.</a></div></div></div><div class='para' id='start.dynamic-3'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6846'>#</a></div><div class='texpara'><div id='start.dynamic-3.sentence-1' class='sentence'>Dynamic initialization of non-block variables <span class='texttt'>V</span> and <span class='texttt'>W</span>
with static storage duration are ordered as follows:
<ul class='itemize'><li id='start.dynamic-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.dynamic-3.1'>(3.1)</a></div><div class='texpara'><div id='start.dynamic-3.1.sentence-1' class='sentence'>If <span class='texttt'>V</span> and <span class='texttt'>W</span> have ordered initialization and
the definition of <span class='texttt'>V</span>
is appearance-ordered before the definition of <span class='texttt'>W</span>, or
if <span class='texttt'>V</span> has partially-ordered initialization,
<span class='texttt'>W</span> does not have unordered initialization, and
for every definition <span class='texttt'>E</span> of <span class='texttt'>W</span>
there exists a definition <span class='texttt'>D</span> of <span class='texttt'>V</span>
such that <span class='texttt'>D</span> is appearance-ordered before <span class='texttt'>E</span>, then
<ul class='itemize'><li id='start.dynamic-3.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#start.dynamic-3.1.1'>(3.1.1)</a></div>if the program does not start a thread (<a href='#intro.multithread' title='6.9.2&emsp;Multi-threaded executions and data races'>[intro.<span class='shy'></span>multithread]</a>)
other than the main thread (<a href='#start.main' title='6.9.3.1&emsp;main function'>[basic.<span class='shy'></span>start.<span class='shy'></span>main]</a>)
or <span class='texttt'>V</span> and <span class='texttt'>W</span> have ordered initialization and
they are defined in the same translation unit,
the initialization of <span class='texttt'>V</span>
is sequenced before
the initialization of <span class='texttt'>W</span>;</li><li id='start.dynamic-3.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#start.dynamic-3.1.2'>(3.1.2)</a></div>otherwise,
the initialization of <span class='texttt'>V</span>
strongly happens before
the initialization of <span class='texttt'>W</span><a class='hidden_link' href='#start.dynamic-3.1.sentence-1'>.</a></li></ul></div></div></li><li id='start.dynamic-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.dynamic-3.2'>(3.2)</a></div><div class='texpara'><div id='start.dynamic-3.2.sentence-1' class='sentence'>Otherwise, if the program starts a thread
other than the main thread
before either <span class='texttt'>V</span> or <span class='texttt'>W</span> is initialized,
it is unspecified in which threads
the initializations of <span class='texttt'>V</span> and <span class='texttt'>W</span> occur;
the initializations are unsequenced if they occur in the same thread<a class='hidden_link' href='#start.dynamic-3.2.sentence-1'>.</a></div></div></li><li id='start.dynamic-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#start.dynamic-3.3'>(3.3)</a></div><div class='texpara'><div id='start.dynamic-3.3.sentence-1' class='sentence'>Otherwise, the initializations of <span class='texttt'>V</span> and <span class='texttt'>W</span> are indeterminately sequenced<a class='hidden_link' href='#start.dynamic-3.3.sentence-1'>.</a></div></div></li></ul></div> <div id='start.dynamic-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.dynamic-note-2'>2</a></i>:&ensp;<div id='start.dynamic-3.sentence-2' class='sentence'>This definition permits initialization of a sequence of
ordered variables concurrently with another sequence<a class='hidden_link' href='#start.dynamic-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='start.dynamic-4'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6891'>#</a></div><div class='texpara'><div id='start.dynamic-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:odr-use,non-initialization' title='6.9.3.3&emsp;Dynamic initialization of non-block variables&emsp;[basic.start.dynamic]'><span id='def:odr-use,non-initialization'><i >non-initialization odr-use</i></span></a>
is an odr-use (<a href='#def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) not caused directly or indirectly by
the initialization of a non-block static or thread storage duration variable<a class='hidden_link' href='#start.dynamic-4.sentence-1'>.</a></div></div></div><div class='para' id='start.dynamic-5'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6897'>#</a></div><div class='texpara'><div id='start.dynamic-5.sentence-1' class='sentence'><a class='index' id=':evaluation,unspecified_order_of_'></a>It is <a class='index' id=':dynamic_initialization_of_static_variables_before_main'></a>implementation-defined
whether the dynamic initialization of a
non-block non-inline variable with static storage duration
is sequenced before the first statement of <span class='texttt'>main</span> or is deferred<a class='hidden_link' href='#start.dynamic-5.sentence-1'>.</a></div> <div id='start.dynamic-5.sentence-2' class='sentence'>If it is deferred, it strongly happens before
any non-initialization odr-use
of any non-inline function or non-inline variable
defined in the same translation unit as the variable to be initialized<a class='hidden_link' href='#start.dynamic-5.sentence-2'>.</a><a class='footnoteref' href='#footnote-39' id='footnoteref-39' title='A non-block variable with static storage duration having initialization with side effects is initialized in this case, even if it is not itself odr-used ([term.odr.use], [basic.stc.static]).'>39</a></div> <div id='start.dynamic-5.sentence-3' class='sentence'>
It is <a class='index' id=':threads_and_program_points_at_which_deferred_dynamic_initialization_is_performed'></a>implementation-defined
in which threads and at which points in the program such deferred dynamic initialization occurs<a class='hidden_link' href='#start.dynamic-5.sentence-3'>.</a></div></div><div class='texpara'><div id='start.dynamic-5.sentence-4' class='sentence'><i >Recommended practice</i>: An implementation should choose such points in a way
that allows the programmer to avoid deadlocks<a class='hidden_link' href='#start.dynamic-5.sentence-4'>.</a></div> <div id='start.dynamic-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#start.dynamic-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='comment'>// - File 1 -</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"a.h"</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"b.h"</span>
B b;
A<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  b<span class='operator'>.</span>Use<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='comment'>// - File 2 -</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"a.h"</span>
A a;

<span class='comment'>// - File 3 -</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"a.h"</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"b.h"</span>
<span class='keyword'>extern</span> A a;
<span class='keyword'>extern</span> B b;

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  a<span class='operator'>.</span>Use<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  b<span class='operator'>.</span>Use<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='start.dynamic-5.sentence-5' class='sentence'>It is <a class='index' id=':dynamic_initialization_of_static_variables_before_main_'></a>implementation-defined
whether either <span class='texttt'>a</span> or <span class='texttt'>b</span> is
initialized before <span class='texttt'>main</span> is entered or whether the
initializations are delayed until <span class='texttt'>a</span> is first odr-used in
<span class='texttt'>main</span><a class='hidden_link' href='#start.dynamic-5.sentence-5'>.</a></div> <div id='start.dynamic-5.sentence-6' class='sentence'>In particular, if <span class='texttt'>a</span> is initialized before
<span class='texttt'>main</span> is entered, it is not guaranteed that <span class='texttt'>b</span> will be
initialized before it is odr-used by the initialization of <span class='texttt'>a</span>, that
is, before <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>A</span> is called<a class='hidden_link' href='#start.dynamic-5.sentence-6'>.</a></div> <div id='start.dynamic-5.sentence-7' class='sentence'>If, however, <span class='texttt'>a</span> is initialized
at some point after the first statement of <span class='texttt'>main</span>, <span class='texttt'>b</span> will
be initialized prior to its use in <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>A</span><a class='hidden_link' href='#start.dynamic-5.sentence-7'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='start.dynamic-6'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6957'>#</a></div><div class='texpara'><div id='start.dynamic-6.sentence-1' class='sentence'>It is <a class='index' id=':dynamic_initialization_of_static_inline_variables_before_main'></a>implementation-defined
whether the dynamic initialization of a
non-block inline variable with static storage duration
is sequenced before the first statement of <span class='texttt'>main</span> or is deferred<a class='hidden_link' href='#start.dynamic-6.sentence-1'>.</a></div> <div id='start.dynamic-6.sentence-2' class='sentence'>If it is deferred, it strongly happens before
any non-initialization odr-use
of that variable<a class='hidden_link' href='#start.dynamic-6.sentence-2'>.</a></div> <div id='start.dynamic-6.sentence-3' class='sentence'>It is <a class='index' id=':threads_and_program_points_at_which_deferred_dynamic_initialization_is_performed_'></a>implementation-defined
in which threads and at which points in the program such deferred dynamic initialization occurs<a class='hidden_link' href='#start.dynamic-6.sentence-3'>.</a></div></div></div><div class='para' id='start.dynamic-7'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6968'>#</a></div><div class='texpara'><div id='start.dynamic-7.sentence-1' class='sentence'>It is <a class='index' id=':dynamic_initialization_of_thread-local_variables_before_entry'></a>implementation-defined
whether the dynamic initialization of a
non-block non-inline variable with thread storage duration
is sequenced before the first statement of the initial function of a thread or is deferred<a class='hidden_link' href='#start.dynamic-7.sentence-1'>.</a></div> <div id='start.dynamic-7.sentence-2' class='sentence'>If it is deferred,
the initialization associated with the entity for thread <i >t</i>
is sequenced before the first non-initialization odr-use by <i >t</i>
of any non-inline variable with thread storage duration
defined in the same translation unit as the variable to be initialized<a class='hidden_link' href='#start.dynamic-7.sentence-2'>.</a></div> <div id='start.dynamic-7.sentence-3' class='sentence'>It is <a class='index' id=':threads_and_program_points_at_which_deferred_dynamic_initialization_is_performed__'></a>implementation-defined
in which threads and at which points in the program such deferred dynamic initialization occurs<a class='hidden_link' href='#start.dynamic-7.sentence-3'>.</a></div></div></div><div class='para' id='start.dynamic-8'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6981'>#</a></div><div class='texpara'><div id='start.dynamic-8.sentence-1' class='sentence'>If the initialization of
a non-block variable with static or thread storage duration
exits via an exception,
the function <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>terminate</span> is called (<a href='except.terminate' title='14.6.2&emsp;The std&#x200b;::&#x200b;terminate function'>[except.<span class='shy'></span>terminate]</a>)<a class='hidden_link' href='#start.dynamic-8.sentence-1'>.</a></div> </div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-39'><div class='texpara'><a class='footnotenum' href='#footnote-39'>39)</a><a class='footnoteBacklink' href='#footnoteref-39'>39)</a> <div id='footnote-39.sentence-1' class='sentence'>A non-block variable with static storage duration
having initialization
with side effects is initialized in this case,
even if it is not itself odr-used (<a href='#def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>, <a href='#stc.static' title='6.7.5.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#footnote-39.sentence-1'>.</a></div></div></div></div><div id='start.term' class='section'><h4 ><a class='secnum' href='#start.term' style='min-width:95pt'>6.9.3.4</a> Termination <a class='abbr_ref' href='basic.start.term'>[basic.start.term]</a></h4><div class='para' id='start.term-1'><div class='marginalizedparent'><a class='marginalized' href='#start.term-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L6990'>#</a></div><div class='texpara'><div id='start.term-1.sentence-1' class='sentence'><a class='index' id=':program,termination'></a><a class='index' id=':object,destructor_static'></a><a class='index' id=':main_function,return_from_'></a>Constructed objects (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
with static storage duration are destroyed
and functions registered with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span>
are called as part of a call to
<a class='index' id=':exit_'></a><a class='index' id='lib:exit_'></a><span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit</span> (<a href='support.start.term' title='17.5&emsp;Startup and termination'>[support.<span class='shy'></span>start.<span class='shy'></span>term]</a>)<a class='hidden_link' href='#start.term-1.sentence-1'>.</a></div> <div id='start.term-1.sentence-2' class='sentence'>The call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit</span> is sequenced before
the destructions and the registered functions<a class='hidden_link' href='#start.term-1.sentence-2'>.</a></div> <div id='start.term-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.term-note-1'>1</a></i>:&ensp;<div id='start.term-1.sentence-3' class='sentence'>Returning from <span class='texttt'>main</span> invokes <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit</span> (<a href='#start.main' title='6.9.3.1&emsp;main function'>[basic.<span class='shy'></span>start.<span class='shy'></span>main]</a>)<a class='hidden_link' href='#start.term-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='start.term-2'><div class='marginalizedparent'><a class='marginalized' href='#start.term-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L7007'>#</a></div><div class='texpara'><div id='start.term-2.sentence-1' class='sentence'>Constructed objects with thread storage duration within a given thread
are destroyed as a result of returning from the initial function of that thread and as a
result of that thread calling <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit</span><a class='hidden_link' href='#start.term-2.sentence-1'>.</a></div> <div id='start.term-2.sentence-2' class='sentence'>The destruction of all constructed objects with thread storage
duration within that thread strongly happens before destroying
any object with static storage duration<a class='hidden_link' href='#start.term-2.sentence-2'>.</a></div></div></div><div class='para' id='start.term-3'><div class='marginalizedparent'><a class='marginalized' href='#start.term-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L7015'>#</a></div><div class='texpara'><div id='start.term-3.sentence-1' class='sentence'>If the completion of the constructor or dynamic initialization of an object with static
storage duration strongly happens before that of another, the completion of the destructor
of the second is sequenced before the initiation of the destructor of the first<a class='hidden_link' href='#start.term-3.sentence-1'>.</a></div> <div id='start.term-3.sentence-2' class='sentence'>If the completion of the constructor or dynamic initialization of an object with thread
storage duration is sequenced before that of another, the completion of the destructor
of the second is sequenced before the initiation of the destructor of the first<a class='hidden_link' href='#start.term-3.sentence-2'>.</a></div> <div id='start.term-3.sentence-3' class='sentence'>If an object is
initialized statically, the object is destroyed in the same order as if
the object was dynamically initialized<a class='hidden_link' href='#start.term-3.sentence-3'>.</a></div> <div id='start.term-3.sentence-4' class='sentence'>For an object of array or class
type, all subobjects of that object are destroyed before any block
variable with static storage duration initialized during the construction
of the subobjects is destroyed<a class='hidden_link' href='#start.term-3.sentence-4'>.</a></div> <div id='start.term-3.sentence-5' class='sentence'>If the destruction of an object with static or thread storage duration
exits via an exception,
the function <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>terminate</span> is called (<a href='except.terminate' title='14.6.2&emsp;The std&#x200b;::&#x200b;terminate function'>[except.<span class='shy'></span>terminate]</a>)<a class='hidden_link' href='#start.term-3.sentence-5'>.</a></div></div></div><div class='para' id='start.term-4'><div class='marginalizedparent'><a class='marginalized' href='#start.term-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L7032'>#</a></div><div class='texpara'><div id='start.term-4.sentence-1' class='sentence'>If a function contains a block variable of static or thread storage duration that has been
destroyed and the function is called during the destruction of an object with static or
thread storage duration, the program has undefined behavior if the flow of control
passes through the definition of the previously destroyed block variable<a class='hidden_link' href='#start.term-4.sentence-1'>.</a></div> <div id='start.term-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.term-note-2'>2</a></i>:&ensp;<div id='start.term-4.sentence-2' class='sentence'>Likewise, the behavior is undefined
if the block variable is used indirectly (e.g., through a pointer)
after its destruction<a class='hidden_link' href='#start.term-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='start.term-5'><div class='marginalizedparent'><a class='marginalized' href='#start.term-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L7043'>#</a></div><div class='texpara'><div id='start.term-5.sentence-1' class='sentence'><a class='index' id=':atexit'></a><a class='index' id='lib:atexit'></a>If the completion of the initialization of an object with static storage
duration strongly happens before a call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span> (see
<a href='cstdlib.syn#header:%3ccstdlib%3e' title='17.2.2&emsp;Header &lt;cstdlib&gt; synopsis&emsp;[cstdlib.syn]'><span id='headerref:<cstdlib>'><span class='texttt'>&lt;cstdlib&gt;</span></span></a>, <a href='support.start.term' title='17.5&emsp;Startup and termination'>[support.<span class='shy'></span>start.<span class='shy'></span>term]</a>), the call to the function passed to
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span> is sequenced before the call to the destructor for the object<a class='hidden_link' href='#start.term-5.sentence-1'>.</a></div> <div id='start.term-5.sentence-2' class='sentence'>If a
call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span> strongly happens before the completion of the initialization of
an object with static storage duration, the call to the destructor for the
object is sequenced before the call to the function passed to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span><a class='hidden_link' href='#start.term-5.sentence-2'>.</a></div> <div id='start.term-5.sentence-3' class='sentence'>If a
call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span> strongly happens before another call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span>, the
call to the function passed to the second <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span> call is sequenced before
the call to the function passed to the first <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span> call<a class='hidden_link' href='#start.term-5.sentence-3'>.</a></div></div></div><div class='para' id='start.term-6'><div class='marginalizedparent'><a class='marginalized' href='#start.term-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L7057'>#</a></div><div class='texpara'><div id='start.term-6.sentence-1' class='sentence'>If there is a use of a standard library object or function not permitted within signal
handlers (<a href='support.runtime' title='17.13&emsp;Other runtime support'>[support.<span class='shy'></span>runtime]</a>) that does not happen before (<a href='#intro.multithread' title='6.9.2&emsp;Multi-threaded executions and data races'>[intro.<span class='shy'></span>multithread]</a>)
completion of destruction of objects with static storage duration and execution of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit</span> registered functions (<a href='support.start.term' title='17.5&emsp;Startup and termination'>[support.<span class='shy'></span>start.<span class='shy'></span>term]</a>), the program has
undefined behavior<a class='hidden_link' href='#start.term-6.sentence-1'>.</a></div> <div id='start.term-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#start.term-note-3'>3</a></i>:&ensp;<div id='start.term-6.sentence-2' class='sentence'>If there is a use of an object with static storage
duration that does not happen before the object's destruction, the program has undefined
behavior<a class='hidden_link' href='#start.term-6.sentence-2'>.</a></div> <div id='start.term-6.sentence-3' class='sentence'>Terminating every thread before a call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>exit</span> or the exit from
<span class='texttt'>main</span> is sufficient, but not necessary, to satisfy these requirements<a class='hidden_link' href='#start.term-6.sentence-3'>.</a></div> <div id='start.term-6.sentence-4' class='sentence'>These
requirements permit thread managers as static-storage-duration objects<a class='hidden_link' href='#start.term-6.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='start.term-7'><div class='marginalizedparent'><a class='marginalized' href='#start.term-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L7071'>#</a></div><div class='texpara'><div id='start.term-7.sentence-1' class='sentence'><a class='index' id=':abort'></a><a class='index' id='lib:abort'></a><a class='index' id=':termination,program__'></a>Calling the function <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>abort<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> declared in
<a href='cstdlib.syn#header:%3ccstdlib%3e' title='17.2.2&emsp;Header &lt;cstdlib&gt; synopsis&emsp;[cstdlib.syn]'><span id='headerref:<cstdlib>_'><span class='texttt'>&lt;cstdlib&gt;</span></span></a> terminates the program without executing any destructors
and without calling
the functions passed to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>atexit<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>at_<span class='shy'></span>quick_<span class='shy'></span>exit<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#start.term-7.sentence-1'>.</a></div> 
</div></div></div></div></div></div></body></html>