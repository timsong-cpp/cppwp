<!DOCTYPE html><html lang='en'><head><title>[conv.general]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>7.3</a> Standard conversions <a class='abbr_ref' href='conv#general'>[conv]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>7.3.1</a> General <a class='abbr_ref'>[conv.general]</a></h3><div class='texpara'>

</div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L503'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><a class='index' id=':conversion,standard'></a><a class='index' id=':conversion,implicit'></a>Standard conversions are implicit conversions with built-in meaning<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'><a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a> enumerates the full set of such conversions<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>A
<a class='hidden_link' href='#def:conversion_sequence,standard' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:conversion_sequence,standard'><i >standard conversion sequence</i></span></a> is a sequence of standard
conversions in the following order:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div><div class='texpara'><div id='1.1.sentence-1' class='sentence'>Zero or one conversion from the following set: lvalue-to-rvalue
conversion, array-to-pointer conversion, and function-to-pointer
conversion<a class='hidden_link' href='#1.1.sentence-1'>.</a></div></div></li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div><div class='texpara'><div id='1.2.sentence-1' class='sentence'>Zero or one conversion from the following set: integral
promotions, floating-point promotion, integral conversions, floating-point
conversions, floating-integral conversions, pointer conversions,
pointer-to-member conversions, and boolean conversions<a class='hidden_link' href='#1.2.sentence-1'>.</a></div></div></li><li id='1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.3'>(1.3)</a></div><div class='texpara'><div id='1.3.sentence-1' class='sentence'>Zero or one function pointer conversion<a class='hidden_link' href='#1.3.sentence-1'>.</a></div></div></li><li id='1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.4'>(1.4)</a></div><div class='texpara'><div id='1.4.sentence-1' class='sentence'>Zero or one qualification conversion<a class='hidden_link' href='#1.4.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='1.sentence-4' class='sentence'>A standard conversion sequence can be empty, i.e., it can consist of no
conversions<a class='hidden_link' href='#1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='1.sentence-5' class='sentence'>
A standard conversion sequence will be applied to
an expression if necessary to convert it to an expression having
a required destination type and value category<a class='hidden_link' href='#1.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L533'>#</a></div><div class='texpara'><div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='2.sentence-1' class='sentence'>Expressions with a given type will be implicitly converted to other
types in several contexts:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div><div class='texpara'><div id='2.1.sentence-1' class='sentence'>When used as operands of operators<a class='hidden_link' href='#2.1.sentence-1'>.</a></div> <div id='2.1.sentence-2' class='sentence'>The operator's requirements
for its operands dictate the destination type (<a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a>)<a class='hidden_link' href='#2.1.sentence-2'>.</a></div></div></li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div><div class='texpara'><div id='2.2.sentence-1' class='sentence'>When used in the condition of an <span id=':if'><span class='texttt'><span class='keyword'>if</span></span></span> statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>) or
iteration statement (<a href='stmt.iter' title='8.6&emsp;Iteration statements'>[stmt.<span class='shy'></span>iter]</a>)<a class='hidden_link' href='#2.2.sentence-1'>.</a></div> <div id='2.2.sentence-2' class='sentence'>The destination type is
<span id=':bool'><span class='texttt'><span class='keyword'>bool</span></span></span><a class='hidden_link' href='#2.2.sentence-2'>.</a></div></div></li><li id='2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.3'>(2.3)</a></div><div class='texpara'><div id='2.3.sentence-1' class='sentence'>When used in the expression of a <span id=':switch'><span class='texttt'><span class='keyword'>switch</span></span></span> statement (<a href='stmt.switch' title='8.5.3&emsp;The switch statement'>[stmt.<span class='shy'></span>switch]</a>)<a class='hidden_link' href='#2.3.sentence-1'>.</a></div> <div id='2.3.sentence-2' class='sentence'>The destination type is integral<a class='hidden_link' href='#2.3.sentence-2'>.</a></div></div></li><li id='2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.4'>(2.4)</a></div><div class='texpara'><div id='2.4.sentence-1' class='sentence'>When used as the source expression for an initialization (which
includes use as an argument in a function call and use as the expression
in a <span id=':return'><span class='texttt'><span class='keyword'>return</span></span></span> statement)<a class='hidden_link' href='#2.4.sentence-1'>.</a></div> <div id='2.4.sentence-2' class='sentence'>The type of the entity being initialized
is (generally) the destination type<a class='hidden_link' href='#2.4.sentence-2'>.</a></div> <div id='2.4.sentence-3' class='sentence'>See <a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, <a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a><a class='hidden_link' href='#2.4.sentence-3'>.</a></div></div></li></ul></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L556'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>An expression <span class='math'><span class='mathalpha'>E</span></span> can be
<a class='hidden_link' href='#def:conversion,implicit' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:conversion,implicit'><i >implicitly converted</i></span></a> to a type <span class='texttt'>T</span> if and only if the
declaration <span class='texttt'>T t <span class='operator'>=</span> <span class='math'><span class='mathalpha'>E</span></span>;</span> is well-formed, for some invented temporary
variable <span class='texttt'>t</span> (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L562'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Certain language constructs require that an expression be converted to a Boolean
value<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>An expression <span class='math'><span class='mathalpha'>E</span></span> appearing in such a context is said to be
<a class='hidden_link' href='#def:conversion,contextual_to_bool' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:conversion,contextual_to_bool'><i >contextually converted to <span class='texttt'>bool</span></i></span></a> and is well-formed if and only if
the declaration <span class='texttt'><span id=':bool_'><span class='texttt'><span class='keyword'>bool</span></span></span> t<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>E</span></span><span class='parenthesis'>)</span>;</span> is well-formed, for some invented temporary
variable <span class='texttt'>t</span> (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#4.sentence-2'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L569'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>Certain language constructs require conversion to a value having
one of a specified set of types appropriate to the construct<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>An
expression <span class='math'><span class='mathalpha'>E</span></span> of class type <span class='texttt'>C</span> appearing in such a
context is said to be
<a class='index' id=':conversion,contextual'></a><a class='hidden_link' href='#def:contextually_implicitly_converted' title='7.3.1&emsp;General&emsp;[conv.general]'><span id='def:contextually_implicitly_converted'><i >contextually implicitly converted</i></span></a> to a specified type <span class='texttt'>T</span> and is
well-formed if and only if <span class='math'><span class='mathalpha'>E</span></span> can be implicitly converted to a type <span class='texttt'>T</span>
that is determined as follows:
<span class='texttt'>C</span> is searched for non-explicit conversion functions
whose return type is <span class='mathit'>cv</span> <span class='texttt'>T</span> or reference to <span class='mathit'>cv</span>
<span class='texttt'>T</span> such that <span class='texttt'>T</span> is allowed by the context<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>There shall be exactly one such <span class='texttt'>T</span><a class='hidden_link' href='#5.sentence-3'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L583'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>The effect of any implicit
conversion is the same as performing the corresponding declaration and initialization
and then using the temporary variable as the result of the conversion<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>The result is an lvalue if <span class='texttt'>T</span> is an lvalue reference
type or an rvalue reference to function type (<a href='dcl.ref' title='9.3.4.3&emsp;References'>[dcl.<span class='shy'></span>ref]</a>),
an xvalue if <span class='texttt'>T</span> is an rvalue reference to object type,
and a prvalue otherwise<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>The expression <span class='math'><span class='mathalpha'>E</span></span>
is used as a glvalue if and only if the initialization uses it as a glvalue<a class='hidden_link' href='#6.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L593'>#</a></div><div class='texpara'><div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='7.sentence-1' class='sentence'>For class types, user-defined conversions are considered as well;
see <a href='class.conv' title='11.4.8&emsp;Conversions'>[class.<span class='shy'></span>conv]</a><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>In general, an implicit conversion
sequence (<a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>) consists of a standard conversion
sequence followed by a user-defined conversion followed by another
standard conversion sequence<a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c3bd02a2e44c53c8fe7ba5b48a94bacc9186235d/source/expressions.tex#L602'>#</a></div><div class='texpara'><div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>:&ensp;<div id='8.sentence-1' class='sentence'>There are some contexts where certain conversions are suppressed<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>For
example, the lvalue-to-rvalue conversion is not done on the operand of
the unary <span class='texttt'><span class='operator'>&amp;</span></span> operator<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>Specific exceptions are given in the
descriptions of those operators and contexts<a class='hidden_link' href='#8.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div></body></html>