<!DOCTYPE html><html lang='en'><head><title>[dcl.init.ref]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>9.3</a> Initializers <a class='abbr_ref' href='dcl.init#ref'>[dcl.init]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>9.3.3</a> References <a class='abbr_ref'>[dcl.init.ref]</a></h3><span class='indexparent'><a class='index' id=':initialization,reference'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/51074104369b0ba60050fddd24685efeb8ba45c5/source/declarations.tex#L5027'>#</a></div><div id='1.sentence-1' class='sentence'>A variable whose declared type is
“reference to type <span class='texttt'>T</span>” (<a href='dcl.ref'>[dcl.ref]</a>)
shall be initialized<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span><span class='operator'>&amp;</span> r <span class='operator'>=</span> i;                   <span class='comment'>// <span class='tcode_in_codeblock'>r</span> refers to <span class='tcode_in_codeblock'>i</span></span>
  r <span class='operator'>=</span> <span class='literal'>1</span>;                        <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> becomes <span class='tcode_in_codeblock'>1</span></span>
  <span class='keyword'>int</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='operator'>&amp;</span>r;                  <span class='comment'>// <span class='tcode_in_codeblock'>p</span> points to <span class='tcode_in_codeblock'>i</span></span>
  <span class='keyword'>int</span><span class='operator'>&amp;</span> rr <span class='operator'>=</span> r;                  <span class='comment'>// <span class='tcode_in_codeblock'>rr</span> refers to what <span class='tcode_in_codeblock'>r</span> refers to, that is, to <span class='tcode_in_codeblock'>i</span></span>
  <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>rg<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> g;           <span class='comment'>// <span class='tcode_in_codeblock'>rg</span> refers to the function <span class='tcode_in_codeblock'>g</span></span>
  rg<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>;                        <span class='comment'>// calls function <span class='tcode_in_codeblock'>g</span></span>
  <span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>ra<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> a;             <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to the array <span class='tcode_in_codeblock'>a</span></span>
  ra<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span> <span class='operator'>=</span> i;                    <span class='comment'>// modifies <span class='tcode_in_codeblock'>a[1]</span></span>
<span class='curlybracket'>}</span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/51074104369b0ba60050fddd24685efeb8ba45c5/source/declarations.tex#L5049'>#</a></div><div id='2.sentence-1' class='sentence'>A reference cannot be changed to refer to another object after initialization<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':assignment,reference'></a></span><div id='2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'>Assignment to a reference assigns to the object referred to by the reference (<a href='expr.ass'>[expr.ass]</a>)<a class='hidden_link' href='#2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> 
<span class='indexparent'><a class='index' id=':argument_passing,reference_and'></a></span>Argument passing (<a href='expr.call'>[expr.call]</a>)
<span class='indexparent'><a class='index' id=':return,reference_and'></a></span>and function value return (<a href='stmt.return'>[stmt.return]</a>) are initializations<a class='hidden_link' href='#2.sentence-3'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/51074104369b0ba60050fddd24685efeb8ba45c5/source/declarations.tex#L5060'>#</a></div><div id='3.sentence-1' class='sentence'>The initializer can be omitted for a reference only in a parameter declaration (<a href='dcl.fct'>[dcl.fct]</a>),
in the declaration of a function return type, in the declaration of
a class member within its class definition (<a href='class.mem'>[class.mem]</a>), and where the
<span class='texttt'><span class='keyword'>extern</span></span>
specifier is explicitly used<a class='hidden_link' href='#3.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id=':declaration,extern_reference'></a></span><div id='3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span><span class='operator'>&amp;</span> r1;                        <span class='comment'>// error: initializer missing</span>
<span class='keyword'>extern</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r2;                 <span class='comment'>// OK</span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/51074104369b0ba60050fddd24685efeb8ba45c5/source/declarations.tex#L5074'>#</a></div><div id='4.sentence-1' class='sentence'>Given types “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” and “<span class='textit'>cv2</span> <span class='texttt'>T2</span>”,
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-related' id='def:reference-related'><i >reference-related</i></a> to
“<span class='textit'>cv2</span> <span class='texttt'>T2</span>” if
<span class='texttt'>T1</span> is the same type as <span class='texttt'>T2</span>, or
<span class='texttt'>T1</span> is a base class of <span class='texttt'>T2</span><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-compatible' id='def:reference-compatible'><i >reference-compatible</i></a>
with “<span class='textit'>cv2</span> <span class='texttt'>T2</span>” if
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.1'>(4.1)</a></div><div id='4.1.sentence-1' class='sentence'><span class='texttt'>T1</span> is reference-related to <span class='texttt'>T2</span>, or</div></li><li id='4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.2'>(4.2)</a></div><div id='4.2.sentence-1' class='sentence'><span class='texttt'>T2</span> is “<span class='texttt'><span class='keyword'>noexcept</span></span> function” and <span class='texttt'>T1</span> is “function”,
where the function types are otherwise the same,</div></li></ul>
and
<span class='textit'>cv1</span>
is the same cv-qualification as, or greater cv-qualification than,
<span class='textit'>cv2</span><a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>In all cases where the reference-related or reference-compatible relationship
of two types is used to establish the validity of a reference binding, and
<span class='texttt'>T1</span>
is a base class of
<span class='texttt'>T2</span>,
a program that necessitates such a binding is ill-formed if
<span class='texttt'>T1</span>
is an inaccessible (<a href='class.access'>[class.access]</a>) or ambiguous (<a href='class.member.lookup'>[class.member.lookup]</a>)
base class of
<span class='texttt'>T2</span><a class='hidden_link' href='#4.sentence-3'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/51074104369b0ba60050fddd24685efeb8ba45c5/source/declarations.tex#L5102'>#</a></div><div id='5.sentence-1' class='sentence'>A reference to type “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is initialized by
an expression of type “<span class='textit'>cv2</span> <span class='texttt'>T2</span>” as follows:<span class='indexparent'><a class='index' id=':binding,reference'></a></span></div><div id='5.sentence-2' class='sentence'><ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.1'>(5.1)</a></div><div id='5.1.sentence-1' class='sentence'>If the reference is an lvalue reference and the initializer expression
<ul class='itemize'><li id='5.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.1.1'>(5.1.1)</a></div><div id='5.1.1.sentence-1' class='sentence'>is an lvalue (but is not a
bit-field), and
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is reference-compatible with
“<span class='textit'>cv2</span> <span class='texttt'>T2</span>”, or</div></li><li id='5.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.1.2'>(5.1.2)</a></div><div id='5.1.2.sentence-1' class='sentence'>has a class type (i.e.,
<span class='texttt'>T2</span>
is a class type), where <span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>, and can be converted
to an lvalue of type “<span class='textit'>cv3</span> <span class='texttt'>T3</span>”, where
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is reference-compatible with
“<span class='textit'>cv3</span> <span class='texttt'>T3</span>”<a class='footnotenum' href='#footnote-98'>98</a>
(this conversion is selected by enumerating the applicable conversion
functions (<a href='over.match.ref'>[over.match.ref]</a>) and choosing the best one through <a href='over.match'>overload
resolution</a>),</div></li></ul>
then the reference is bound to the initializer expression lvalue in the
first case and to the lvalue result of the conversion
in the second case (or, in either case, to the appropriate base class subobject of the object)<a class='hidden_link' href='#5.1.sentence-1'>.</a></div> <div id='5.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#5.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.1.sentence-2' class='sentence'>The usual <a href='conv.lval'>lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
and <a href='conv.func'>function-to-pointer</a> standard
conversions are not needed, and therefore are suppressed, when such
direct bindings to lvalues are done<a class='hidden_link' href='#5.1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='5.1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>double</span> d <span class='operator'>=</span> <span class='literal'>2.0</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span> rd <span class='operator'>=</span> d;                 <span class='comment'>// <span class='tcode_in_codeblock'>rd</span> refers to <span class='tcode_in_codeblock'>d</span></span>
<span class='keyword'>const</span> <span class='keyword'>double</span><span class='operator'>&amp;</span> rcd <span class='operator'>=</span> d;          <span class='comment'>// <span class='tcode_in_codeblock'>rcd</span> refers to <span class='tcode_in_codeblock'>d</span></span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span> b;
A<span class='operator'>&amp;</span> ra <span class='operator'>=</span> b;                      <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span></span>
<span class='keyword'>const</span> A<span class='operator'>&amp;</span> rca <span class='operator'>=</span> b;               <span class='comment'>// <span class='tcode_in_codeblock'>rca</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span></span>
<span class='keyword'>int</span><span class='operator'>&amp;</span> ir <span class='operator'>=</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// <span class='tcode_in_codeblock'>ir</span> refers to the result of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator int&amp;</span></span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.2'>(5.2)</a></div><div id='5.2.sentence-1' class='sentence'>Otherwise,
if the reference is an lvalue reference to a
type that is not const-qualified or is volatile-qualified,
the program is ill-formed<a class='hidden_link' href='#5.2.sentence-1'>.</a></div> <div id='5.2.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>double</span><span class='operator'>&amp;</span> rd2 <span class='operator'>=</span> <span class='literal'>2.0</span>;              <span class='comment'>// error: not an lvalue and reference not <span class='tcode_in_codeblock'>const</span></span>
<span class='keyword'>int</span>  i <span class='operator'>=</span> <span class='literal'>2</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span> rd3 <span class='operator'>=</span> i;                <span class='comment'>// error: type mismatch and reference not <span class='tcode_in_codeblock'>const</span></span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.3'>(5.3)</a></div><div id='5.3.sentence-1' class='sentence'>Otherwise, if the initializer expression
<ul class='itemize'><li id='5.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.3.1'>(5.3.1)</a></div><div id='5.3.1.sentence-1' class='sentence'>is an rvalue (but not a bit-field) or function lvalue and
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is
reference-compatible with “<span class='textit'>cv2</span> <span class='texttt'>T2</span>”, or</div></li><li id='5.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.3.2'>(5.3.2)</a></div><div id='5.3.2.sentence-1' class='sentence'>has a class type (i.e., <span class='texttt'>T2</span> is a class type), where <span class='texttt'>T1</span>
is not reference-related to <span class='texttt'>T2</span>, and can be converted to
an rvalue or function lvalue of type “<span class='textit'>cv3</span> <span class='texttt'>T3</span>”,
where “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is
reference-compatible with “<span class='textit'>cv3</span> <span class='texttt'>T3</span>” (see <a href='over.match.ref'>[over.match.ref]</a>),</div></li></ul>
then
the value of the initializer expression in the first case and
the result of the conversion in the second case
is called the converted initializer<a class='hidden_link' href='#5.3.sentence-1'>.</a></div> <div id='5.3.sentence-2' class='sentence'>If the converted initializer is a prvalue,
its type <span class='texttt'>T4</span> is adjusted to type “<span class='textit'>cv1</span> <span class='texttt'>T4</span>” (<a href='conv.qual'>[conv.qual]</a>)
and the temporary materialization conversion (<a href='conv.rval'>[conv.rval]</a>) is applied<a class='hidden_link' href='#5.3.sentence-2'>.</a></div> <div id='5.3.sentence-3' class='sentence'>In any case,
the reference is bound to the resulting glvalue
(or to an appropriate base class subobject)<a class='hidden_link' href='#5.3.sentence-3'>.</a></div><div style='height:0.6em;display:block'></div><div id='5.3.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.3.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> b;
<span class='keyword'>extern</span> B f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>const</span> A<span class='operator'>&amp;</span> rca2 <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// bound to the <span class='tcode_in_codeblock'>A</span> subobject of the <span class='tcode_in_codeblock'>B</span> rvalue.</span>
A<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rra <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// same as above</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> x;
<span class='keyword'>const</span> A<span class='operator'>&amp;</span> r <span class='operator'>=</span> x;                     <span class='comment'>// bound to the <span class='tcode_in_codeblock'>A</span> subobject of the result of the conversion</span>
<span class='keyword'>int</span> i2 <span class='operator'>=</span> <span class='literal'>42</span>;
<span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rri <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>i2<span class='parenthesis'>)</span>; <span class='comment'>// bound directly to <span class='tcode_in_codeblock'>i2</span></span>
B<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrb <span class='operator'>=</span> x;                        <span class='comment'>// bound directly to the result of <span class='tcode_in_codeblock'>operator B</span></span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.4'>(5.4)</a></div><div id='5.4.sentence-1' class='sentence'>Otherwise:
<ul class='itemize'><li id='5.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.4.1'>(5.4.1)</a></div><div id='5.4.1.sentence-1' class='sentence'>If <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is a class type and
<span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>,
user-defined conversions are considered
using the rules for copy-initialization of an object of type
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” by
user-defined conversion
(<a href='dcl.init'>[dcl.init]</a>, <a href='over.match.copy'>[over.match.copy]</a>, <a href='over.match.conv'>[over.match.conv]</a>);
the program is ill-formed if the corresponding non-reference
copy-initialization would be ill-formed<a class='hidden_link' href='#5.4.1.sentence-1'>.</a></div> <div id='5.4.1.sentence-2' class='sentence'>The result of the call to the
conversion function, as described for the non-reference
copy-initialization, is then used to direct-initialize the reference<a class='hidden_link' href='#5.4.1.sentence-2'>.</a></div> <div id='5.4.1.sentence-3' class='sentence'>For this direct-initialization, user-defined conversions are not considered<a class='hidden_link' href='#5.4.1.sentence-3'>.</a></div></li><li id='5.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.4.2'>(5.4.2)</a></div><div id='5.4.2.sentence-1' class='sentence'>Otherwise,
the initializer expression is implicitly converted to a prvalue
of type “<span class='textit'>cv1</span> <span class='texttt'>T1</span>”<a class='hidden_link' href='#5.4.2.sentence-1'>.</a></div> <div id='5.4.2.sentence-2' class='sentence'>The temporary materialization conversion is applied and the reference is
bound to the result<a class='hidden_link' href='#5.4.2.sentence-2'>.</a></div></li></ul></div><div id='5.4.sentence-2' class='sentence'>If
<span class='texttt'>T1</span>
is reference-related to
<span class='texttt'>T2</span>:
<ul class='itemize'><li id='5.4.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.4.3'>(5.4.3)</a></div><div id='5.4.3.sentence-1' class='sentence'><span class='textit'>cv1</span>
shall be the same cv-qualification as, or greater cv-qualification than,
<span class='textit'>cv2</span>; and</div></li><li id='5.4.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#5.4.4'>(5.4.4)</a></div><div id='5.4.4.sentence-1' class='sentence'>if the reference is an rvalue reference,
the initializer expression shall not be an lvalue<a class='hidden_link' href='#5.4.4.sentence-1'>.</a></div></li></ul></div><div id='5.4.example-4' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.4.example-4'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> Banana <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Enigma <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>const</span> Banana<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Alaska <span class='curlybracket'>{</span> <span class='keyword'>operator</span> Banana<span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> enigmatic<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>const</span> Banana ConstBanana;
  Banana <span class='operator'>&amp;</span><span class='operator'>&amp;</span>banana1 <span class='operator'>=</span> ConstBanana<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='comment'>// ill-formed</span>
  Banana <span class='operator'>&amp;</span><span class='operator'>&amp;</span>banana2 <span class='operator'>=</span> Enigma<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// ill-formed</span>
  Banana <span class='operator'>&amp;</span><span class='operator'>&amp;</span>banana3 <span class='operator'>=</span> Alaska<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// ill-formed</span>
<span class='curlybracket'>}</span>

<span class='keyword'>const</span> <span class='keyword'>double</span><span class='operator'>&amp;</span> rcd2 <span class='operator'>=</span> <span class='literal'>2</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>rcd2</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span></span>
<span class='keyword'>double</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrd <span class='operator'>=</span> <span class='literal'>2</span>;                   <span class='comment'>// <span class='tcode_in_codeblock'>rrd</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span></span>
<span class='keyword'>const</span> <span class='keyword'>volatile</span> <span class='keyword'>int</span> cvi <span class='operator'>=</span> <span class='literal'>1</span>;
<span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r2 <span class='operator'>=</span> cvi;                <span class='comment'>// error: cv-qualifier dropped</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>volatile</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span> a;
<span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r3 <span class='operator'>=</span> a;                  <span class='comment'>// error: cv-qualifier dropped</span>
                                    <span class='comment'>// from result of conversion function</span>
<span class='keyword'>double</span> d2 <span class='operator'>=</span> <span class='literal'>1.0</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrd2 <span class='operator'>=</span> d2;                 <span class='comment'>// error: initializer is lvalue of related type</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rri2 <span class='operator'>=</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// error: result of conversion function is lvalue of related type</span>
<span class='keyword'>int</span> i3 <span class='operator'>=</span> <span class='literal'>2</span>;
<span class='keyword'>double</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rrd3 <span class='operator'>=</span> i3;                 <span class='comment'>// <span class='tcode_in_codeblock'>rrd3</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span></span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div><div id='5.sentence-3' class='sentence'>In all cases except the last
(i.e., implicitly converting the initializer expression
to the referenced type),
the reference is said to <a class='hidden_link' href='#def:bind_directly' id='def:bind_directly'><i >bind directly</i></a> to the
initializer expression<a class='hidden_link' href='#5.sentence-3'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/51074104369b0ba60050fddd24685efeb8ba45c5/source/declarations.tex#L5279'>#</a></div><div id='6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'><a href='class.temporary'>[class.temporary]</a> describes the lifetime of temporaries bound to references<a class='hidden_link' href='#6.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-98'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-98'>98)</a></div><div id='footnote-98.sentence-1' class='sentence'>This requires a conversion
function (<a href='class.conv.fct'>[class.conv.fct]</a>) returning a reference type<a class='hidden_link' href='#footnote-98.sentence-1'>.</a></div></div></div></body></html>