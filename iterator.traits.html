<!DOCTYPE html><html lang='en'><head><title>[iterator.traits]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>27</a> Iterators library <a class='abbr_ref' href='./#iterators'>[iterators]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>27.4</a> Iterator primitives <a class='abbr_ref' href='iterator.primitives#iterator.traits'>[iterator.primitives]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>27.4.1</a> Iterator traits <a class='abbr_ref'>[iterator.traits]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/iterators.tex#L872'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id='lib:iterator_traits'></a></span>To implement algorithms only in terms of iterators, it is often necessary to
determine the value and
difference types that correspond to a particular iterator type<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Accordingly, it is required that if
<span class='texttt'>Iterator</span>
is the type of an iterator,
the types
<pre class='codeblock'>
iterator_traits&lt;Iterator&gt;::difference_type
iterator_traits&lt;Iterator&gt;::value_type
iterator_traits&lt;Iterator&gt;::iterator_category</pre>
be defined as the iterator's difference type, value type and iterator category, respectively<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>In addition, the types
<pre class='codeblock'>
iterator_traits&lt;Iterator&gt;::reference
iterator_traits&lt;Iterator&gt;::pointer</pre>
shall be defined as the iterator's reference and pointer types, that is, for an
iterator object <span class='texttt'>a</span>, the same type as the type of <span class='texttt'>*a</span> and <span class='texttt'>a-&gt;</span>,
respectively<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>In the case of an output iterator, the types
<pre class='codeblock'>
iterator_traits&lt;Iterator&gt;::difference_type
iterator_traits&lt;Iterator&gt;::value_type
iterator_traits&lt;Iterator&gt;::reference
iterator_traits&lt;Iterator&gt;::pointer</pre>
may be defined as <span class='texttt'>void</span><a class='hidden_link' href='#1.sentence-4'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/iterators.tex#L903'>#</a></div><div id='2.sentence-1' class='sentence'>If <span class='texttt'>Iterator</span> has valid (<a href='temp.deduct'>[temp.deduct]</a>) member
types <span class='texttt'>difference_&shy;type</span>, <span class='texttt'>value_&shy;type</span>, <span class='texttt'>pointer</span>,
<span class='texttt'>reference</span>, and <span class='texttt'>iterator_&shy;category</span>,
<span class='texttt'>iterator_&shy;traits&lt;Iterator&gt;</span>
shall have the following as publicly accessible members:
<pre class='codeblock'>
  using difference_type   = typename Iterator::difference_type;
  using value_type        = typename Iterator::value_type;
  using pointer           = typename Iterator::pointer;
  using reference         = typename Iterator::reference;
  using iterator_category = typename Iterator::iterator_category;</pre>
Otherwise, <span class='texttt'>iterator_&shy;traits&lt;Iterator&gt;</span>
shall have no members by any of the above names<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/iterators.tex#L919'>#</a></div><div id='3.sentence-1' class='sentence'>It is specialized for pointers as
<pre class='codeblock'>
namespace std {
  template&lt;class T&gt; struct iterator_traits&lt;T*&gt; {
    using difference_type   = ptrdiff_t;
    using value_type        = T;
    using pointer           = T*;
    using reference         = T&amp;;
    using iterator_category = random_access_iterator_tag;
  };
}</pre>
and for pointers to const as
<pre class='codeblock'>
namespace std {
  template&lt;class T&gt; struct iterator_traits&lt;const T*&gt; {
    using difference_type   = ptrdiff_t;
    using value_type        = T;
    using pointer           = const T*;
    using reference         = const T&amp;;
    using iterator_category = random_access_iterator_tag;
  };
}</pre></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/iterators.tex#L945'>#</a></div><div id='4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='4.sentence-1' class='sentence'>To implement a generic
<span class='texttt'>reverse</span>
function, a C++ program can do the following:
<pre class='codeblock'>
template &lt;class BidirectionalIterator&gt;
void reverse(BidirectionalIterator first, BidirectionalIterator last) {
  typename iterator_traits&lt;BidirectionalIterator&gt;::difference_type n =
    distance(first, last);
  --n;
  while(n &gt; 0) {
    typename iterator_traits&lt;BidirectionalIterator&gt;::value_type
     tmp = *first;
    *first++ = *--last;
    *last = tmp;
    n -= 2;
  }
}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></body></html>