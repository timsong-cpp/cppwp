<!DOCTYPE html><html lang='en'><head><title>[algorithms.requirements]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>28</a> Algorithms library <a class='abbr_ref' href='./#algorithms'>[algorithms]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>28.3</a> Algorithms requirements <a class='abbr_ref'>[algorithms.requirements]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1055'>#</a></div><div id='1.sentence-1' class='sentence'>All of the algorithms are separated from the particular implementations of data structures and are
parameterized by iterator types<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Because of this, they can work with program-defined data structures, as long
as these data structures have iterator types satisfying the assumptions on the algorithms<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1061'>#</a></div><div id='2.sentence-1' class='sentence'>For purposes of determining the existence of data races, algorithms shall
not modify objects referenced through an iterator argument unless the
specification requires such modification<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1066'>#</a></div><div id='3.sentence-1' class='sentence'>Throughout this Clause, the names of template parameters
are used to express type requirements<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'><ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><div id='3.1.sentence-1' class='sentence'>If an algorithm's template parameter is named
<span class='texttt'>InputIterator</span>,
<span class='texttt'>InputIterator1</span>,
or
<span class='texttt'>InputIterator2</span>,
the template argument shall satisfy the
requirements of an <a href='input.iterators'>input iterator</a><a class='hidden_link' href='#3.1.sentence-1'>.</a></div></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><div id='3.2.sentence-1' class='sentence'>If an algorithm's template parameter is named
<span class='texttt'>OutputIterator</span>,
<span class='texttt'>OutputIterator1</span>,
or
<span class='texttt'>OutputIterator2</span>,
the template argument shall satisfy the requirements
of an <a href='output.iterators'>output iterator</a><a class='hidden_link' href='#3.2.sentence-1'>.</a></div></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><div id='3.3.sentence-1' class='sentence'>If an algorithm's template parameter is named
<span class='texttt'>ForwardIterator</span>,
<span class='texttt'>ForwardIterator1</span>,
or
<span class='texttt'>ForwardIterator2</span>,
the template argument shall satisfy the requirements
of a <a href='forward.iterators'>forward iterator</a><a class='hidden_link' href='#3.3.sentence-1'>.</a></div></li><li id='3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.4'>(3.4)</a></div><div id='3.4.sentence-1' class='sentence'>If an algorithm's template parameter is named
<span class='texttt'>BidirectionalIterator</span>,
<span class='texttt'>BidirectionalIterator1</span>,
or
<span class='texttt'>BidirectionalIterator2</span>,
the template argument shall satisfy the requirements
of a <a href='bidirectional.iterators'>bidirectional iterator</a><a class='hidden_link' href='#3.4.sentence-1'>.</a></div></li><li id='3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.5'>(3.5)</a></div><div id='3.5.sentence-1' class='sentence'>If an algorithm's template parameter is named
<span class='texttt'>RandomAccessIterator</span>,
<span class='texttt'>RandomAccessIterator1</span>,
or
<span class='texttt'>RandomAccessIterator2</span>,
the template argument shall satisfy the requirements
of a <a href='random.access.iterators'>random-access iterator</a><a class='hidden_link' href='#3.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1112'>#</a></div><div id='4.sentence-1' class='sentence'>If an algorithm's
<span class='textit'>Effects:</span> 
section says that a value pointed to by any iterator passed
as an argument is modified, then that algorithm has an additional
type requirement:
The type of that argument shall satisfy the requirements
of a <a href='iterator.requirements'>mutable iterator</a><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-2' class='sentence'>This requirement does not affect arguments that are named
<span class='texttt'>OutputIterator</span>,
<span class='texttt'>OutputIterator1</span>,
or
<span class='texttt'>OutputIterator2</span>,
because output iterators must always be mutable<a class='hidden_link' href='#4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1129'>#</a></div><div id='5.sentence-1' class='sentence'>Both in-place and copying versions are provided for certain
algorithms<a class='hidden_link' href='#5.sentence-1'>.</a><a class='footnotenum' href='#footnote-263'>263</a></div> <div id='5.sentence-2' class='sentence'>
When such a version is provided for <span class='textit'>algorithm</span> it is called
<span class='textit'>algorithm<span class='texttt'>_&shy;copy</span></span><a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>Algorithms that take predicates end with the
suffix <span class='texttt'>_&shy;if</span> (which follows the suffix <span class='texttt'>_&shy;copy</span>)<a class='hidden_link' href='#5.sentence-3'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1140'>#</a></div><div id='6.sentence-1' class='sentence'>The
<span class='texttt'>Predicate</span>
parameter is used whenever an algorithm expects a <a href='function.objects#def:function_object'>function object</a>
that, when applied to the result
of dereferencing the corresponding iterator, returns a value testable as
<span class='texttt'>true</span><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>In other words, if an algorithm
takes
<span class='texttt'>Predicate pred</span>
as its argument and <span class='texttt'>first</span>
as its iterator argument, it should work correctly in the
construct
<span class='texttt'>pred(*first)</span> contextually converted to <span class='texttt'>bool</span> (<a href='conv'>[conv]</a>)<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>The function object
<span class='texttt'>pred</span>
shall not apply any non-constant
function through the dereferenced iterator<a class='hidden_link' href='#6.sentence-3'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1159'>#</a></div><div id='7.sentence-1' class='sentence'>The
<span class='texttt'>BinaryPredicate</span>
parameter is used whenever an algorithm expects a function object that when applied to
the result of dereferencing two corresponding iterators or to dereferencing an
iterator and type
<span class='texttt'>T</span>
when
<span class='texttt'>T</span>
is part of the signature returns a value testable as
<span class='texttt'>true</span><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>In other words, if an algorithm takes
<span class='texttt'>BinaryPredicate binary_&shy;pred</span>
as its argument and <span class='texttt'>first1</span> and <span class='texttt'>first2</span> as
its iterator arguments, it should work correctly in
the construct
<span class='texttt'>binary_&shy;pred(*first1, *first2)</span> contextually converted to <span class='texttt'>bool</span> (<a href='conv'>[conv]</a>)<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'><span class='texttt'>BinaryPredicate</span>
always takes the first
iterator's <span class='texttt'>value_&shy;type</span>
as its first argument, that is, in those cases when
<span class='texttt'>T value</span>
is part of the signature, it should work
correctly in the
construct <span class='texttt'>binary_&shy;pred(*first1, value)</span> contextually converted to <span class='texttt'>bool</span> (<a href='conv'>[conv]</a>)<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'><span class='texttt'>binary_&shy;pred</span> shall not
apply any non-constant function through the dereferenced iterators<a class='hidden_link' href='#7.sentence-4'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1187'>#</a></div><div id='8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='8.sentence-1' class='sentence'>Unless otherwise specified, algorithms that take function objects as arguments
are permitted to copy those function objects freely<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>Programmers for whom object
identity is important should consider using a wrapper class that points to a
noncopied implementation object such as <a href='refwrap'><span class='texttt'>reference_&shy;wrapper&lt;T&gt;</span></a>, or some equivalent solution<a class='hidden_link' href='#8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1195'>#</a></div><div id='9.sentence-1' class='sentence'>When the description of an algorithm gives an expression such as
<span class='texttt'>*first == value</span>
for a condition, the expression shall evaluate to
either <span class='texttt'>true</span> or <span class='texttt'>false</span> in boolean contexts<a class='hidden_link' href='#9.sentence-1'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/78f8e15e9acb75272c0c32cd7df9085e81668b1e/source/algorithms.tex#L1201'>#</a></div><div id='10.sentence-1' class='sentence'>In the description of the algorithms operators
<span class='texttt'>+</span>
and
<span class='texttt'>-</span>
are used for some of the iterator categories for which
they do not have to be defined<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>In these cases the semantics of
<span class='texttt'>a+n</span>
is the same as that of</div><pre class='codeblock'>
X tmp = a;
advance(tmp, n);
return tmp;</pre><div id='10.sentence-3' class='sentence'>and that of
<span class='texttt'>b-a</span>
is the same as of</div><pre class='codeblock'>
return distance(a, b);</pre></div><div class='footnote' id='footnote-263'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-263'>263)</a></div><div id='footnote-263.sentence-1' class='sentence'>The decision whether to include a copying version was
usually based on complexity considerations<a class='hidden_link' href='#footnote-263.sentence-1'>.</a></div> <div id='footnote-263.sentence-2' class='sentence'>When the cost of doing the operation
dominates the cost of copy, the copying version is not included<a class='hidden_link' href='#footnote-263.sentence-2'>.</a></div> <div id='footnote-263.sentence-3' class='sentence'>For example,
<span class='texttt'>sort_&shy;copy</span> is not included because the cost of sorting is much more
significant, and users might as well do <span class='texttt'>copy</span> followed by <span class='texttt'>sort</span><a class='hidden_link' href='#footnote-263.sentence-3'>.</a></div></div></div></body></html>