<!DOCTYPE html><html lang='en'><head><title>[fs.err.report]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>29</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>29.11</a> File systems <a class='abbr_ref' href='filesystems#fs.err.report'>[filesystems]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>29.11.6</a> Error reporting <a class='abbr_ref'>[fs.err.report]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ea10e25b784539f159580b58078ebe40f3179b20/source/iostreams.tex#L11652'>#</a></div><div id='1.sentence-1' class='sentence'>Filesystem library functions often provide two overloads, one that
throws an exception to report file system errors, and another that sets an <span class='texttt'>error_&shy;code</span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-2' class='sentence'>This supports two common use cases:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div>Uses where file system errors are truly exceptional
and indicate a serious failure. Throwing an exception is an appropriate response.</li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div>Uses where file system errors are routine
and do not necessarily represent failure. Returning an error code is the most appropriate response. This allows application specific error handling, including simply ignoring the error.</li></ul></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ea10e25b784539f159580b58078ebe40f3179b20/source/iostreams.tex#L11670'>#</a></div><div id='2.sentence-1' class='sentence'>Functions not having an argument of type <span class='texttt'>error_&shy;code<span class='operator'>&amp;</span></span>
handle errors as follows, unless otherwise specified:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div>When a call by the
  implementation to an operating system or other underlying API results in an
  error that prevents the function from meeting its specifications, an exception
  of type
<span class='texttt'>filesystem_&shy;error</span> shall be thrown. For functions with a single path
  argument, that argument shall be passed to the
<span class='texttt'>filesystem_&shy;error</span> constructor with a single path argument. For
  functions with two path arguments, the first of these arguments shall be
  passed to the
<span class='texttt'>filesystem_&shy;error</span> constructor as the <span class='texttt'>path1</span> argument,
  and the second shall be passed as the <span class='texttt'>path2</span> argument. The
  <span class='texttt'>filesystem_&shy;error</span> constructor's <span class='texttt'>error_&shy;code</span> argument
  is set as appropriate for the specific operating system dependent error.</li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div>Failure to allocate storage is reported by throwing an exception
as described in <a href='res.on.exception.handling'>[res.on.exception.handling]</a>.</li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div>Destructors throw nothing.</li></ul></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ea10e25b784539f159580b58078ebe40f3179b20/source/iostreams.tex#L11692'>#</a></div><div id='3.sentence-1' class='sentence'>Functions having an argument of type <span class='texttt'>error_&shy;code<span class='operator'>&amp;</span></span>
handle errors as follows, unless otherwise specified:
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div>If a call by the
  implementation to an operating system or other underlying API results in an
  error that prevents the function from meeting its specifications, the
  <span class='texttt'>error_&shy;code<span class='operator'>&amp;</span></span> argument is set as
  appropriate for the specific operating system dependent error. Otherwise, <span class='texttt'>clear<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
  is called on the
  <span class='texttt'>error_&shy;code<span class='operator'>&amp;</span></span> argument.</li></ul></div></div></div></body></html>