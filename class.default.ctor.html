<!DOCTYPE html><html lang='en'><head><title>[class.default.ctor]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>10</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>10.3</a> Class members <a class='abbr_ref' href='class.mem#class.default.ctor'>[class.mem]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>10.3.4</a> Constructors <a class='abbr_ref' href='class.ctor#class.default.ctor'>[class.ctor]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>10.3.4.1</a> Default constructors <a class='abbr_ref'>[class.default.ctor]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/classes.tex#L1290'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,inheritance_of'></a></span><span class='indexparent'><a class='index' id=':constructor,non-trivial'></a></span>A <a class='hidden_link' href='#def:constructor,default' id='def:constructor,default'><i >default constructor</i></a> for a class <span class='texttt'>X</span>
is a constructor of class <span class='texttt'>X</span>
for which each parameter
that is not a function parameter pack
has a default argument
(including the case of a constructor with no parameters)<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':implicitly-declared_default_constructor'></a></span>If there is no user-declared constructor for class
<span class='texttt'>X</span>,
a non-explicit constructor having no parameters is implicitly declared
as defaulted (<a href='dcl.fct.def'>[dcl.fct.def]</a>)<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>An implicitly-declared default constructor is an
inline public member of its class<a class='hidden_link' href='#1.sentence-3'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/classes.tex#L1307'>#</a></div><div id='2.sentence-1' class='sentence'>A defaulted default constructor for class <span class='texttt'>X</span> is defined as deleted if:</div><div id='2.sentence-2' class='sentence'><ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div><div id='2.1.sentence-1' class='sentence'><span class='texttt'>X</span> is a union that has a variant member
with a non-trivial default constructor and
no variant member of <span class='texttt'>X</span> has a default member initializer,</div></li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div><div id='2.2.sentence-1' class='sentence'><span class='texttt'>X</span> is a non-union class that has a variant member <span class='texttt'>M</span>
with a non-trivial default constructor and
no variant member of the anonymous union containing <span class='texttt'>M</span>
has a default member initializer,</div></li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div><div id='2.3.sentence-1' class='sentence'>any non-static data member with no default member initializer (<a href='class.mem'>[class.mem]</a>) is
of reference type,</div></li><li id='2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.4'>(2.4)</a></div><div id='2.4.sentence-1' class='sentence'>any non-variant non-static data member of const-qualified type (or array
thereof) with no <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> does not have a user-provided default constructor,</div></li><li id='2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.5'>(2.5)</a></div><div id='2.5.sentence-1' class='sentence'><span class='texttt'>X</span> is a union and all of its variant members are of const-qualified
type (or array thereof),</div></li><li id='2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.6'>(2.6)</a></div><div id='2.6.sentence-1' class='sentence'><span class='texttt'>X</span> is a non-union class and all members of any anonymous union member are
of const-qualified type (or array thereof),</div></li><li id='2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.7'>(2.7)</a></div><div id='2.7.sentence-1' class='sentence'>any potentially constructed subobject, except for a non-static data member
with a <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i>, has
class type <span class='texttt'>M</span> (or array thereof) and either <span class='texttt'>M</span>
has no default constructor or overload resolution (<a href='over.match'>[over.match]</a>)
as applied to find <span class='texttt'>M</span>'s corresponding
constructor results in an ambiguity or in a function that is deleted or
inaccessible from the defaulted default constructor, or</div></li><li id='2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.8'>(2.8)</a></div><div id='2.8.sentence-1' class='sentence'>any potentially constructed subobject has a type
with a destructor that is deleted or inaccessible from the defaulted default
constructor<a class='hidden_link' href='#2.8.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/classes.tex#L1345'>#</a></div><div id='3.sentence-1' class='sentence'>A default constructor is
<a class='hidden_link' href='#def:constructor,default,trivial' id='def:constructor,default,trivial'><i >trivial</i></a>
if it is not user-provided and if:</div><div id='3.sentence-2' class='sentence'><ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><div id='3.1.sentence-1' class='sentence'>its class has no virtual functions (<a href='class.virtual'>[class.virtual]</a>) and no virtual base
classes (<a href='class.mi'>[class.mi]</a>), and</div></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><div id='3.2.sentence-1' class='sentence'>no non-static data member of its class has
a default member initializer (<a href='class.mem'>[class.mem]</a>), and</div></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><div id='3.3.sentence-1' class='sentence'>all the direct base classes of its class have trivial default constructors, and</div></li><li id='3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.4'>(3.4)</a></div><div id='3.4.sentence-1' class='sentence'>for all the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial default constructor<a class='hidden_link' href='#3.4.sentence-1'>.</a></div></li></ul></div><div id='3.sentence-3' class='sentence'>Otherwise, the default constructor is
<a class='hidden_link' href='#def:constructor,default,non-trivial' id='def:constructor,default,non-trivial'><i >non-trivial</i></a><a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/classes.tex#L1369'>#</a></div><div id='4.sentence-1' class='sentence'>A default constructor
that is defaulted and not defined as deleted
is
<a class='hidden_link' href='#def:constructor,implicitly_defined' id='def:constructor,implicitly_defined'><i >implicitly defined</i></a>
when it is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>)
to create an object of its class type (<a href='intro.object'>[intro.object]</a>),
when it is needed for constant evaluation (<a href='expr.const'>[expr.const]</a>), or
when it is explicitly defaulted after its first declaration<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>The implicitly-defined default constructor performs the set of
initializations of the class that would be performed by a user-written default
constructor for that class with no
<i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i> (<a href='class.base.init'>[class.base.init]</a>) and an empty
<i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i><a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>If that user-written default constructor would be ill-formed,
the program is ill-formed<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>If that user-written default constructor would satisfy the requirements
of a constexpr constructor (<a href='dcl.constexpr'>[dcl.constexpr]</a>), the implicitly-defined
default constructor is <span class='texttt'><span class='keyword'>constexpr</span></span><a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.sentence-5' class='sentence'>Before the defaulted default constructor for a class is
implicitly defined,
all the non-user-provided default constructors for its base classes and
its non-static data members shall have been implicitly defined<a class='hidden_link' href='#4.sentence-5'>.</a></div> <div id='4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-6' class='sentence'>An implicitly-declared default constructor has an
exception specification (<a href='except.spec'>[except.spec]</a>)<a class='hidden_link' href='#4.sentence-6'>.</a></div> <div id='4.sentence-7' class='sentence'>An explicitly-defaulted definition might have an
implicit exception specification, see <a href='dcl.fct.def'>[dcl.fct.def]</a><a class='hidden_link' href='#4.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/classes.tex#L1399'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,implicitly_called'></a></span>Default constructors are called implicitly to create class objects of static, thread,
or automatic storage duration (<a href='basic.stc.static'>[basic.stc.static]</a>, <a href='basic.stc.thread'>[basic.stc.thread]</a>, <a href='basic.stc.auto'>[basic.stc.auto]</a>) defined
without an initializer (<a href='dcl.init'>[dcl.init]</a>),
are called to create class objects of dynamic storage duration (<a href='basic.stc.dynamic'>[basic.stc.dynamic]</a>) created by a
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
in which the
<i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i>
is omitted (<a href='expr.new'>[expr.new]</a>), or
are called when the explicit type conversion syntax (<a href='expr.type.conv'>[expr.type.conv]</a>) is
used<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>A program is ill-formed if the default constructor for an object
is implicitly used and the constructor is not accessible (<a href='class.access'>[class.access]</a>)<a class='hidden_link' href='#5.sentence-2'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/classes.tex#L1414'>#</a></div><div id='6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':order_of_execution,base_class_constructor'></a></span><span class='indexparent'><a class='index' id=':order_of_execution,member_constructor'></a></span><a href='class.base.init'>[class.base.init]</a> describes the order in which constructors for base
classes and non-static data members are called and
describes how arguments can be specified for the calls to these constructors<a class='hidden_link' href='#6.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></body></html>