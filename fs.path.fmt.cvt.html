<!DOCTYPE html><html lang='en'><head><title>[fs.path.fmt.cvt]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>31</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>31.12</a> File systems <a class='abbr_ref' href='filesystems#fs.path.fmt.cvt'>[filesystems]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>31.12.6</a> Class <span class='texttt'>path</span> <a class='abbr_ref' href='fs.class.path#fs.path.fmt.cvt'>[fs.class.path]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>31.12.6.3</a> Conversions <a class='abbr_ref' href='fs.path.cvt#fs.path.fmt.cvt'>[fs.path.cvt]</a></h4><h4 ><a class='secnum' style='min-width:110pt'>31.12.6.3.1</a> Argument format conversions <a class='abbr_ref'>[fs.path.fmt.cvt]</a></h4><div class='para nonNormativeOnly' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L13938'>#</a></div><div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='1.sentence-1' class='sentence'>The format conversions described in this subclause
are not applied on POSIX-based operating systems
because on these systems:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div><div class='texpara'><div id='1.1.sentence-1' class='sentence'>The generic format is acceptable as a native path<a class='hidden_link' href='#1.1.sentence-1'>.</a></div></div></li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div><div class='texpara'><div id='1.2.sentence-1' class='sentence'>There is no need to distinguish between native format and generic format in function arguments<a class='hidden_link' href='#1.2.sentence-1'>.</a></div></div></li><li id='1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.3'>(1.3)</a></div><div class='texpara'><div id='1.3.sentence-1' class='sentence'>Paths for regular files and paths for directories share the same syntax<a class='hidden_link' href='#1.3.sentence-1'>.</a></div></div></li></ul></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L13950'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>Several functions are defined to accept <a class='hidden_link' href='#def:detected-format' id='def:detected-format'><i>detected-format</i></a> arguments,
which are character sequences<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>A detected-format argument represents a path
using either a pathname in the generic format (<a href='fs.path.generic' title='31.12.6.2&emsp;Generic pathname format'>[fs.<span class='shy'></span>path.<span class='shy'></span>generic]</a>)
or a pathname in the native format (<a href='fs.class.path' title='31.12.6&emsp;Class path'>[fs.<span class='shy'></span>class.<span class='shy'></span>path]</a>)<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>Such an argument is taken to be in the generic format if and only if
it matches the generic format and is not acceptable to the operating system
as a native path<a class='hidden_link' href='#2.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L13959'>#</a></div><div class='texpara'><div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='3.sentence-1' class='sentence'>Some operating systems have no unambiguous way to distinguish between native format and generic format arguments<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>This is by design as it simplifies use for operating systems that do not require
disambiguation<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>It is possible that an implementation for an operating system
where disambiguation is needed distinguishes between the formats<a class='hidden_link' href='#3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L13967'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Pathnames are converted as needed between the generic and native formats
in an operating-system-dependent manner<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>Let <i >G(n)</i> and <i >N(g)</i> in a mathematical sense
be the implementation's functions that convert native-to-generic
and generic-to-native formats respectively<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>If <i >g=G(n)</i> for some <i >n</i>, then <i >G(N(g))=g</i>;
if <i >n=N(g)</i> for some <i >g</i>, then <i >N(G(n))=n</i><a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='4.sentence-4' class='sentence'>Neither <i >G</i> nor <i >N</i> need be invertible<a class='hidden_link' href='#4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L13979'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>If the native format requires paths for regular files to be formatted
differently from paths for directories, the path shall be treated as a directory
path if its last element is a <a href='fs.path.generic#nt:directory-separator' title='31.12.6.2&emsp;Generic pathname format&emsp;[fs.path.generic]'><span id='ntref:directory-separator'><span class='textsf'><i >directory-separator</i></span></span></a>,
otherwise it shall be treated as a path to a regular file<a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L13985'>#</a></div><div class='texpara'><div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>:&ensp;<div id='6.sentence-1' class='sentence'>A path stores a native format pathname (<a href='fs.path.native.obs' title='31.12.6.5.6&emsp;Native format observers'>[fs.<span class='shy'></span>path.<span class='shy'></span>native.<span class='shy'></span>obs]</a>)
and acts as if it also stores a generic format pathname,
related as given below<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>The implementation can generate the generic format pathname
based on the native format pathname (and possibly other information)
when requested<a class='hidden_link' href='#6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L13995'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>When a path is constructed from or is assigned a single representation
separate from any path, the other representation is selected
by the appropriate conversion function (<i >G</i> or <i >N</i>)<a class='hidden_link' href='#7.sentence-1'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/9243ba5befaea8fd3e878e6114942db8d556a6e0/source/iostreams.tex#L14000'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>When the (new) value <i >p</i> of one representation of a path
is derived from the representation of that or another path,
a value <i >q</i> is chosen for the other representation<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>The value <i >q</i> converts to <i >p</i>
(by <i >G</i> or <i >N</i> as appropriate)
if any such value does so;
<i >q</i> is otherwise unspecified<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-5'>5</a></i>:&ensp;<div id='8.sentence-3' class='sentence'>If <i >q</i> is the result of converting any path at all,
it is the result of converting <i >p</i><a class='hidden_link' href='#8.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div></body></html>