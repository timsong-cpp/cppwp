<!DOCTYPE html><html lang='en'><head><title>[temp.res]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>13.8</a> Name resolution <a class='abbr_ref'>[temp.res]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>13.8.1</a> General <a class='abbr_ref' href='temp.res.general'>[temp.res.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4219'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>A name that appears in a declaration <span class='math'><span class='mathalpha'>D</span></span> of a template <span class='math'><span class='mathalpha'>T</span></span> is looked up
from where it appears
in an unspecified declaration of <span class='math'><span class='mathalpha'>T</span></span>
that either is <span class='math'><span class='mathalpha'>D</span></span> itself or is reachable from <span class='math'><span class='mathalpha'>D</span></span> and
from which no other declaration of <span class='math'><span class='mathalpha'>T</span></span>
that contains the usage of the name is reachable<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>If the name is dependent (as specified in <a href='#temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>),
it is looked up for each specialization (after substitution)
because the lookup depends on a template parameter<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-1.sentence-3' class='sentence'>Some dependent names are also looked up during parsing to determine
that they are dependent or to interpret following <span class='texttt'><span class='anglebracket'>&lt;</span></span> tokens<a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-1.sentence-4' class='sentence'>Uses of other names might be type-dependent or
value-dependent (<a href='#temp.dep.expr' title='13.8.3.3&emsp;Type-dependent expressions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>expr]</a>, <a href='#temp.dep.constexpr' title='13.8.3.4&emsp;Value-dependent expressions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#general-1.sentence-4'>.</a></div> <div id='general-1.sentence-5' class='sentence'>A <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator'><span class='textsf'><i >using-declarator</i></span></span></a> is never dependent in a specialization and
is therefore replaced during lookup for that specialization (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#general-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> B, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  T get<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>      <span class='comment'>// <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a> is dependent</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>D<span class='anglebracket'>&lt;</span>A, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> d<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> d<span class='operator'>.</span>get<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>  <span class='comment'>// OK, lookup finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;operator int</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f(char)</span></span>
  f<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// dependent</span>
  f<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;             <span class='comment'>// dependent</span>
  dd<span class='operator'>+</span><span class='operator'>+</span>;             <span class='comment'>// not dependent; error: declaration for <span class='tcode_in_codeblock'>dd</span> not found</span>
<span class='curlybracket'>}</span>

<span class='keyword'>enum</span> E <span class='curlybracket'>{</span> e <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>E<span class='parenthesis'>)</span>;

<span class='keyword'>double</span> dd;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  g<span class='parenthesis'>(</span>e<span class='parenthesis'>)</span>;             <span class='comment'>// will cause one call of <span class='tcode_in_codeblock'>f(char)</span> followed by two calls of <span class='tcode_in_codeblock'>f(E)</span></span>
  g<span class='parenthesis'>(</span><span class='literal'>'a'</span><span class='parenthesis'>)</span>;           <span class='comment'>// will cause three calls of <span class='tcode_in_codeblock'>f(char)</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> a;
  <span class='keyword'>int</span> Y;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> a;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Y <span class='operator'>:</span> T <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  B b;                          <span class='comment'>// The <span class='tcode_in_codeblock'>B</span> defined in <span class='tcode_in_codeblock'>Y</span></span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> a <span class='operator'>=</span> i; <span class='curlybracket'>}</span>      <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;a</span></span>
  Y<span class='operator'>*</span> p;                         <span class='comment'>// <span class='tcode_in_codeblock'>Y&lt;T&gt;</span></span>
<span class='curlybracket'>}</span>;

Y<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> ya;
</span></div><div class='texpara'><div id='general-1.sentence-6' class='sentence'>The members <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>B</span>, <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>a</span>, and <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>Y</span>
of the template argument <span class='texttt'>A</span>
do not affect the binding of names in <span class='texttt'>Y<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#general-1.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4293'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>If the validity or meaning of the program would be changed by
considering a default argument or default template argument
introduced in a declaration that is reachable from
the point of instantiation of a specialization (<a href='#temp.point' title='13.8.4.1&emsp;Point of instantiation'>[temp.<span class='shy'></span>point]</a>)
but is not found by lookup for the specialization,
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#general-2.sentence-1'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:typename-specifier'>
<a class='hidden_link' href='#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='nt:typename-specifier'><span id=':typename-specifier'>typename-specifier<span class='textnormal'>:</span></span></span></a><br/><span id=':typename'><span class='texttt'><span class='keyword'>typename</span></span></span> <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a><br/><span id=':typename_'><span class='texttt'><span class='keyword'>typename</span></span></span> <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span class='terminal'><span class='keyword'>template</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>
</div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4307'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'><a class='index' id=':component_name'></a>The component names of a <a href='#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier'><span class='textsf'><i >typename-specifier</i></span></span></a> are
its <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a> (if any) and
those of its <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__'><span class='textsf'><i >nested-name-specifier</i></span></span></a> and
<a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a> (if any)<a class='hidden_link' href='#general-3.sentence-1'>.</a></div> <div id='general-3.sentence-2' class='sentence'>A <a href='#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier_'><span class='textsf'><i >typename-specifier</i></span></span></a>
denotes the type or class template
denoted by the <a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier'><span class='textsf'><i >simple-type-specifier</i></span></span></a> (<a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a>)
formed by omitting the keyword <span id=':typename__'><span class='texttt'><span class='keyword'>typename</span></span></span><a class='hidden_link' href='#general-3.sentence-2'>.</a></div> <div id='general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-2'>2</a></i>:&ensp;<div id='general-3.sentence-3' class='sentence'>The usual qualified name lookup (<a href='basic.lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a>) applies
even in the presence of <span id=':typename___'><span class='texttt'><span class='keyword'>typename</span></span></span><a class='hidden_link' href='#general-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> X;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>X x;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  B b;
  f<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;             <span class='comment'>// OK, <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;X</span> refers to <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;X</span></span>
  f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;             <span class='comment'>// error: <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;X</span> refers to the data member <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X</span> not the struct <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4342'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>A qualified or unqualified name is said to be in
a <a class='hidden_link' href='#def:context,type-only' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='def:context,type-only'><i >type-only context</i></span></a>
if it is the terminal name of
<ul class='itemize'><li id='general-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-4.1'>(4.1)</a></div>a
<a href='#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier__'><span class='textsf'><i >typename-specifier</i></span></span></a>,
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___'><span class='textsf'><i >nested-name-specifier</i></span></span></a>,
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>,
<a href='class.derived.general#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype'><span class='textsf'><i >class-or-decltype</i></span></span></a>, or</li><li id='general-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-4.2'>(4.2)</a></div>a <a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier'><span class='textsf'><i >type-specifier</i></span></span></a> of a
<ul class='itemize'><li id='general-4.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.2.1'>(4.2.1)</a></div><a href='expr.new#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id'><span class='textsf'><i >new-type-id</i></span></span></a>,</li><li id='general-4.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.2.2'>(4.2.2)</a></div><a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id'><span class='textsf'><i >defining-type-id</i></span></span></a>,</li><li id='general-4.2.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.2.3'>(4.2.3)</a></div><a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id'><span class='textsf'><i >conversion-type-id</i></span></span></a>,</li><li id='general-4.2.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.2.4'>(4.2.4)</a></div><a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type'><span class='textsf'><i >trailing-return-type</i></span></span></a>,</li><li id='general-4.2.5'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.2.5'>(4.2.5)</a></div>default argument of a <a href='temp.param#nt:type-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-parameter'><span class='textsf'><i >type-parameter</i></span></span></a>, or</li><li id='general-4.2.6'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.2.6'>(4.2.6)</a></div><a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id'><span class='textsf'><i >type-id</i></span></span></a> of a
<span id=':static_cast'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span>,
<span id=':const_cast'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span>,
<span id=':reinterpret_cast'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span>, or
<span id=':dynamic_cast'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>, or</li></ul></li><li id='general-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-4.3'>(4.3)</a></div>a <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier'><span class='textsf'><i >decl-specifier</i></span></span></a> of the <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq'><span class='textsf'><i >decl-specifier-seq</i></span></span></a> of a
<ul class='itemize'><li id='general-4.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.3.1'>(4.3.1)</a></div><a href='dcl.pre#nt:simple-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:simple-declaration'><span class='textsf'><i >simple-declaration</i></span></span></a> or a <a href='dcl.fct.def.general#nt:function-definition' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-definition'><span class='textsf'><i >function-definition</i></span></span></a> in namespace scope,</li><li id='general-4.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.3.2'>(4.3.2)</a></div><a href='class.mem.general#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration'><span class='textsf'><i >member-declaration</i></span></span></a>,</li><li id='general-4.3.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.3.3'>(4.3.3)</a></div><a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration'><span class='textsf'><i >parameter-declaration</i></span></span></a> in a <a href='class.mem.general#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_'><span class='textsf'><i >member-declaration</i></span></span></a>,<a class='footnoteref' href='#footnote-124' id='footnoteref-124' title='This includes friend function declarations.'>124</a>
unless that <a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration_'><span class='textsf'><i >parameter-declaration</i></span></span></a> appears in a default argument,</li><li id='general-4.3.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.3.4'>(4.3.4)</a></div><a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration__'><span class='textsf'><i >parameter-declaration</i></span></span></a> in a <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator'><span class='textsf'><i >declarator</i></span></span></a>
of a function or function template declaration
whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a> is qualified,
unless that <a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration___'><span class='textsf'><i >parameter-declaration</i></span></span></a>
appears in a default argument,</li><li id='general-4.3.5'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.3.5'>(4.3.5)</a></div><a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration____'><span class='textsf'><i >parameter-declaration</i></span></span></a> in a <a href='expr.prim.lambda.general#nt:lambda-declarator' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-declarator'><span class='textsf'><i >lambda-declarator</i></span></span></a>
or <a href='expr.prim.req.general#nt:requirement-parameter-list' title='7.5.7.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requirement-parameter-list'><span class='textsf'><i >requirement-parameter-list</i></span></span></a>,
unless that <a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration_____'><span class='textsf'><i >parameter-declaration</i></span></span></a> appears in a default argument, or</li><li id='general-4.3.6'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-4.3.6'>(4.3.6)</a></div><a href='dcl.fct#nt:parameter-declaration' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration______'><span class='textsf'><i >parameter-declaration</i></span></span></a> of a (non-type) <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><i >template-parameter</i></span></span></a><a class='hidden_link' href='#general-4.sentence-1'>.</a></li></ul></li></ul></div> <div id='general-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> T<span class='operator'>::</span>R f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, return type of a function declaration at global scope</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>::</span>R<span class='parenthesis'>)</span>;         <span class='comment'>// ill-formed, no diagnostic required: attempt to declare</span>
                                        <span class='comment'>// a <span id=':void'><span class='tcode_in_codeblock'>void</span></span> variable template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> Ptr <span class='operator'>=</span> PtrTraits<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>Ptr;        <span class='comment'>// OK, in a <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id_'><span class='textsf'><i >defining-type-id</i></span></span></a></span>
  T<span class='operator'>::</span>R f<span class='parenthesis'>(</span>T<span class='operator'>::</span>P p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                      <span class='comment'>// OK, class scope</span>
    <span class='keyword'>return</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>T<span class='operator'>::</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;        <span class='comment'>// OK, <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_'><span class='textsf'><i >type-id</i></span></span></a> of a <span id=':static_cast_'><span class='tcode_in_codeblock'>static_<span class='shy'></span>cast</span></span></span>
  <span class='curlybracket'>}</span>
  <span class='keyword'>auto</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> S<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>Ptr;               <span class='comment'>// OK, <a href='dcl.decl.general#nt:trailing-return-type' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:trailing-return-type_'><span class='textsf'><i >trailing-return-type</i></span></span></a></span>
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pf<span class='parenthesis'>)</span><span class='parenthesis'>(</span>T<span class='operator'>::</span>X<span class='parenthesis'>)</span>;                     <span class='comment'>// variable <span class='tcode_in_codeblock'>pf</span> of type <span class='tcode_in_codeblock'><span id=':void_'><span class='tcode_in_codeblock'>void</span></span>*</span> initialized with <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;X</span></span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>::</span>X<span class='parenthesis'>)</span>;                         <span class='comment'>// error: <span class='tcode_in_codeblock'>T&#x200b;::&#x200b;X</span> at block scope does not denote a type</span>
                                        <span class='comment'>// (attempt to declare a <span id=':void__'><span class='tcode_in_codeblock'>void</span></span> variable)</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-5'><div class='marginalizedparent'><a class='marginalized' href='#general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4407'>#</a></div><div class='texpara'><div id='general-5.sentence-1' class='sentence'>A <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
whose terminal name is dependent and that is in a type-only context
is considered to denote a type<a class='hidden_link' href='#general-5.sentence-1'>.</a></div> <div id='general-5.sentence-2' class='sentence'>A name
that refers to a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator_'><span class='textsf'><i >using-declarator</i></span></span></a> whose terminal name is dependent
is interpreted as a <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a>
if the <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator__'><span class='textsf'><i >using-declarator</i></span></span></a> uses the keyword <span id=':typename____'><span class='texttt'><span class='keyword'>typename</span></span></span><a class='hidden_link' href='#general-5.sentence-2'>.</a></div> <div id='general-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  T<span class='operator'>::</span>x <span class='operator'>*</span> i;         <span class='comment'>// expression, not the declaration of a variable <span class='tcode_in_codeblock'>i</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> Foo <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> x;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Bar <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> <span class='keyword'>const</span> x <span class='operator'>=</span> <span class='literal'>5</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='anglebracket'>&lt;</span>Bar<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK</span>
  f<span class='anglebracket'>&lt;</span>Foo<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>Foo&#x200b;::&#x200b;x</span> is a type</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-6'><div class='marginalizedparent'><a class='marginalized' href='#general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4436'>#</a></div><div class='texpara'><div id='general-6.sentence-1' class='sentence'><a class='index' id=':checking,syntax'></a><a class='index' id=':checking,point_of_error'></a>The validity of a template may be checked prior to any instantiation<a class='hidden_link' href='#general-6.sentence-1'>.</a></div> <div id='general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-3'>3</a></i>:&ensp;<div id='general-6.sentence-2' class='sentence'>Knowing which names are type names allows the syntax of every template
to be checked in this way<a class='hidden_link' href='#general-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-6.sentence-3' class='sentence'>
The program is ill-formed, no diagnostic required, if:
<ul class='itemize'><li id='general-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.1'>(6.1)</a></div>no valid specialization,
ignoring <a href='dcl.pre#nt:static_assert-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-declaration'><span class='textsf'><i >static_assert-declaration</i></span></span></a>s that fail,
can be generated for a template
or a substatement of a constexpr if statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>) within a template
and the template is not instantiated, or</li><li id='general-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.2'>(6.2)</a></div>any <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a> in the program, introduced or otherwise,
has (in its normal form) an atomic constraint <span class='math'><span class='mathalpha'>A</span></span> where
no satisfaction check of <span class='math'><span class='mathalpha'>A</span></span> could be well-formed and
no satisfaction check of <span class='math'><span class='mathalpha'>A</span></span> is performed, or</li><li id='general-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.3'>(6.3)</a></div>every valid specialization of a variadic template requires an empty template
parameter pack, or</li><li id='general-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.4'>(6.4)</a></div>a hypothetical instantiation of a template
immediately following its definition
would be ill-formed
due to a construct that does not depend on a template parameter, or</li><li id='general-6.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.5'>(6.5)</a></div>the interpretation of such a construct
in the hypothetical instantiation
is different from
the interpretation of the corresponding construct
in any actual instantiation of the template<a class='hidden_link' href='#general-6.sentence-3'>.</a></li></ul></div> <div id='general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-4'>4</a></i>:&ensp;<div id='general-6.sentence-4' class='sentence'>This can happen in situations including the following:
<ul class='itemize'><li id='general-6.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.6'>(6.6)</a></div>a type used in a non-dependent name is incomplete at the point at which a
template is defined but is complete at the point at which an instantiation is
performed, or</li><li id='general-6.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.7'>(6.7)</a></div>lookup for a name in the template definition found a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a>,
but the lookup in the corresponding scope in the instantiation
does not find any declarations because the <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration_'><span class='textsf'><i >using-declaration</i></span></span></a>
was a pack expansion and the corresponding pack is empty, or</li><li id='general-6.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.8'>(6.8)</a></div>an instantiation uses a default argument or default template argument
that had not been defined at the point at which the template was defined, or</li><li id='general-6.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.9'>(6.9)</a></div>constant expression evaluation (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) within the template
instantiation uses
  <ul class='itemize'><li id='general-6.9.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-6.9.1'>(6.9.1)</a></div>the value of a const object of integral or unscoped enumeration type or</li><li id='general-6.9.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-6.9.2'>(6.9.2)</a></div>the value of a <span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span> object or</li><li id='general-6.9.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-6.9.3'>(6.9.3)</a></div>the value of a reference or</li><li id='general-6.9.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#general-6.9.4'>(6.9.4)</a></div>the definition of a constexpr function,</li></ul>
and that entity was not defined when the template was defined, or</li><li id='general-6.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-6.10'>(6.10)</a></div>a class template specialization or variable template specialization that
is specified by a non-dependent <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><i >simple-template-id</i></span></span></a> is used by
the template, and either it is instantiated from a partial specialization that
was not defined when the template was defined or it names an explicit
specialization that was not declared when the template was defined<a class='hidden_link' href='#general-6.sentence-4'>.</a></li></ul></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='general-6.sentence-5' class='sentence'>Otherwise, no diagnostic shall be issued for a template
for which a valid specialization can be generated<a class='hidden_link' href='#general-6.sentence-5'>.</a></div> <div id='general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-5'>5</a></i>:&ensp;<div id='general-6.sentence-6' class='sentence'>If a template is instantiated, errors will be diagnosed according
to the other rules in this document<a class='hidden_link' href='#general-6.sentence-6'>.</a></div> <div id='general-6.sentence-7' class='sentence'>Exactly when these errors are diagnosed is a quality of implementation issue<a class='hidden_link' href='#general-6.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-7'>7</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> j;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T t, <span class='keyword'>int</span> i, <span class='keyword'>char</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    t <span class='operator'>=</span> i;          <span class='comment'>// diagnosed if <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f</span> is instantiated, and the assignment to <span class='tcode_in_codeblock'>t</span> is an error</span>
    p <span class='operator'>=</span> i;          <span class='comment'>// may be diagnosed even if <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f</span> is not instantiated</span>
    p <span class='operator'>=</span> j;          <span class='comment'>// may be diagnosed even if <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f</span> is not instantiated</span>
    X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;     <span class='comment'>// OK</span>
    X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;      <span class='comment'>// may be diagnosed even if <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f</span> is not instantiated</span>
  <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='operator'>+</span>;              <span class='comment'>// may be diagnosed even if <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;g</span> is not instantiated</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span>, T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> t<span class='parenthesis'>)</span>;                     <span class='comment'>// error: too many parameters</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>union</span> X <span class='operator'>:</span> T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;            <span class='comment'>// error: union with base class</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='operator'>:</span> T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>,  T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;    <span class='comment'>// error: duplicate base class</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-7'><div class='marginalizedparent'><a class='marginalized' href='#general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4536'>#</a></div><div class='texpara'><div id='general-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-6'>6</a></i>:&ensp;<div id='general-7.sentence-1' class='sentence'>For purposes of name lookup, default arguments and
<a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><i >noexcept-specifier</i></span></span></a><i >s</i> of function templates and default
arguments and <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_'><span class='textsf'><i >noexcept-specifier</i></span></span></a><i >s</i> of
member functions of class templates are considered definitions (<a href='temp.decls' title='13.7&emsp;Template declarations'>[temp.<span class='shy'></span>decls]</a>)<a class='hidden_link' href='#general-7.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-124'><div class='texpara'><a class='footnotenum' href='#footnote-124'>124)</a><a class='footnoteBacklink' href='#footnoteref-124'>124)</a> <div id='footnote-124.sentence-1' class='sentence'>This includes friend function declarations<a class='hidden_link' href='#footnote-124.sentence-1'>.</a></div></div></div></div><div id='temp.local' class='section'><h3 ><a class='secnum' href='#temp.local' style='min-width:80pt'>13.8.2</a> Locally declared names <a class='abbr_ref' href='temp.local'>[temp.local]</a></h3><div class='para' id='temp.local-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.local-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4546'>#</a></div><div class='texpara'><div id='temp.local-1.sentence-1' class='sentence'>Like normal (non-template) classes, class templates have an
injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>)<a class='hidden_link' href='#temp.local-1.sentence-1'>.</a></div> <div id='temp.local-1.sentence-2' class='sentence'>The
injected-class-name can be used
as a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a> or a <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a><a class='hidden_link' href='#temp.local-1.sentence-2'>.</a></div> <div id='temp.local-1.sentence-3' class='sentence'>When it is used with a
<a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list'><span class='textsf'><i >template-argument-list</i></span></span></a>,
as a <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a> for a template <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_'><span class='textsf'><i >template-parameter</i></span></span></a>,
or as the final identifier in the <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> of
a friend class template declaration,
it is a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a> that refers to the
class template itself<a class='hidden_link' href='#temp.local-1.sentence-3'>.</a></div> <div id='temp.local-1.sentence-4' class='sentence'>Otherwise, it is a <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_'><span class='textsf'><i >type-name</i></span></span></a>
equivalent to the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name__'><span class='textsf'><i >template-name</i></span></span></a>
followed by
the template argument list (<a href='temp.decls.general' title='13.7.1&emsp;General'>[temp.<span class='shy'></span>decls.<span class='shy'></span>general]</a>, <a href='temp.arg.general' title='13.4.1&emsp;General'>[temp.<span class='shy'></span>arg.<span class='shy'></span>general]</a>)
of the class template
enclosed in <span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#temp.local-1.sentence-4'>.</a></div></div></div><div class='para' id='temp.local-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.local-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4566'>#</a></div><div class='texpara'><div id='temp.local-2.sentence-1' class='sentence'>When the injected-class-name of a class template specialization or
partial specialization is used as a <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name__'><span class='textsf'><i >type-name</i></span></span></a>,
it is equivalent to the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name___'><span class='textsf'><i >template-name</i></span></span></a> followed by the
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i>
of the class template specialization or partial
specialization enclosed in
<span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#temp.local-2.sentence-1'>.</a></div> <div id='temp.local-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.local-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Y;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Y<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  Y<span class='operator'>*</span> p;                                 <span class='comment'>// meaning <span class='tcode_in_codeblock'>Y&lt;int&gt;</span></span>
  Y<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> q;                           <span class='comment'>// meaning <span class='tcode_in_codeblock'>Y&lt;char&gt;</span></span>
  A<span class='anglebracket'>&lt;</span>Y<span class='anglebracket'>&gt;</span><span class='operator'>*</span> a;                              <span class='comment'>// meaning <span class='tcode_in_codeblock'>A&lt;&#x200b;::&#x200b;Y&gt;</span></span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> Y;     <span class='comment'>// meaning <span class='tcode_in_codeblock'>&#x200b;::&#x200b;Y</span></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.local-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.local-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4589'>#</a></div><div class='texpara'><div id='temp.local-3.sentence-1' class='sentence'>The injected-class-name of a class template or class
template specialization can be used as either
a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name____'><span class='textsf'><i >template-name</i></span></span></a> or a <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name___'><span class='textsf'><i >type-name</i></span></span></a>
wherever it is named<a class='hidden_link' href='#temp.local-3.sentence-1'>.</a></div> <div id='temp.local-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.local-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  Base<span class='operator'>*</span> p;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Derived<span class='operator'>:</span> <span class='keyword'>public</span> Base<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> Derived<span class='operator'>::</span>Base<span class='operator'>*</span> p;            <span class='comment'>// meaning <span class='tcode_in_codeblock'>Derived&#x200b;::&#x200b;Base&lt;T&gt;</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='operator'>::</span>Base<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Third <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
Third<span class='anglebracket'>&lt;</span>Derived<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='anglebracket'>&gt;</span> t;                 <span class='comment'>// OK, default argument uses injected-class-name as a template</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.local-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.local-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4609'>#</a></div><div class='texpara'><div id='temp.local-4.sentence-1' class='sentence'>A lookup that finds an injected-class-name (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>) can result in an ambiguity in
certain cases (for example, if it is found in more than one
base class)<a class='hidden_link' href='#temp.local-4.sentence-1'>.</a></div> <div id='temp.local-4.sentence-2' class='sentence'>If all of the injected-class-names that are
found refer to specializations of the same class template,
and if the name
is used as a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_____'><span class='textsf'><i >template-name</i></span></span></a>,
the reference refers to the class template itself and not a
specialization thereof, and is not ambiguous<a class='hidden_link' href='#temp.local-4.sentence-2'>.</a></div> <div id='temp.local-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.local-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Base <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Derived<span class='operator'>:</span> Base<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>, Base<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> Derived<span class='operator'>::</span>Base b;             <span class='comment'>// error: ambiguous</span>
  <span class='keyword'>typename</span> Derived<span class='operator'>::</span>Base<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span> d;     <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.local-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.local-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4629'>#</a></div><div class='texpara'><div id='temp.local-5.sentence-1' class='sentence'>When the normal name of the template (i.e., the name from
the enclosing scope, not the injected-class-name) is
used,
it always refers to the class template itself and not a
specialization of the template<a class='hidden_link' href='#temp.local-5.sentence-1'>.</a></div> <div id='temp.local-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.local-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  X<span class='operator'>*</span> p;                                 <span class='comment'>// meaning <span class='tcode_in_codeblock'>X&lt;T&gt;</span></span>
  X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p2;
  X<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> p3;
  <span class='operator'>::</span>X<span class='operator'>*</span> p4;                              <span class='comment'>// error: missing template argument list</span>
                                        <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span> does not refer to the injected-class-name</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.local-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.local-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4647'>#</a></div><div class='texpara'><div id='temp.local-6.sentence-1' class='sentence'>The name of a <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter__'><span class='textsf'><i >template-parameter</i></span></span></a>
shall not be bound to any following declaration
whose locus is contained by the scope
to which the template-parameter belongs<a class='hidden_link' href='#temp.local-6.sentence-1'>.</a></div> <div id='temp.local-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.local-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>int</span> i<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> T;                                <span class='comment'>// error: <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter___'><span class='textsf'><i >template-parameter</i></span></span></a> hidden</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>char</span> T;                             <span class='comment'>// error: <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter____'><span class='textsf'><i >template-parameter</i></span></span></a> hidden</span>
  <span class='curlybracket'>}</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK, no name bound</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> X<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X;              <span class='comment'>// error: hidden by <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_____'><span class='textsf'><i >template-parameter</i></span></span></a></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.local-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.local-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4666'>#</a></div><div class='texpara'><div id='temp.local-7.sentence-1' class='sentence'>Unqualified name lookup considers
the template parameter scope of a <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration'><span class='textsf'><i >template-declaration</i></span></span></a>
immediately after the outermost scope associated with the template declared
(even if its parent scope does not contain
the <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><i >template-parameter-list</i></span></span></a>)<a class='hidden_link' href='#temp.local-7.sentence-1'>.</a></div> <div id='temp.local-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.local-note-1'>1</a></i>:&ensp;<div id='temp.local-7.sentence-2' class='sentence'>The scope of a class template,
including its non-dependent base classes (<a href='#temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>, <a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>),
is searched before its template parameter scope<a class='hidden_link' href='#temp.local-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.local-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.local-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>void</span> V;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='operator'>:</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>typedef</span> <span class='keyword'>void</span> C;
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> N<span class='operator'>::</span>A<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>   <span class='comment'>// <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;V</span> not considered here</span>
  V v;                                  <span class='comment'>// <span class='tcode_in_codeblock'>V</span> is still the template parameter, not <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;V</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> B<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> C<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> N<span class='operator'>::</span>A<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  B b;                                  <span class='comment'>// <span class='tcode_in_codeblock'>B</span> is the base class, not the template parameter</span>
  C c;                                  <span class='comment'>// <span class='tcode_in_codeblock'>C</span> is the template parameter, not <span class='tcode_in_codeblock'>A</span>'s <span class='tcode_in_codeblock'>C</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.dep' class='section'><h3 ><a class='secnum' href='#temp.dep' style='min-width:80pt'>13.8.3</a> Dependent names <a class='abbr_ref' href='temp.dep'>[temp.dep]</a></h3><div id='temp.dep.general' class='section'><h4 ><a class='secnum' href='#temp.dep.general' style='min-width:95pt'>13.8.3.1</a> General <a class='abbr_ref' href='temp.dep.general'>[temp.dep.general]</a></h4><div class='para' id='temp.dep.general-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4704'>#</a></div><div class='texpara'><div id='temp.dep.general-1.sentence-1' class='sentence'>Inside a template, some constructs have semantics which may differ from one
instantiation to another<a class='hidden_link' href='#temp.dep.general-1.sentence-1'>.</a></div> <div id='temp.dep.general-1.sentence-2' class='sentence'>Such a construct
<a class='hidden_link' href='#def:name,dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:name,dependent'><i >depends</i></span></a>
on the template parameters<a class='hidden_link' href='#temp.dep.general-1.sentence-2'>.</a></div> <div id='temp.dep.general-1.sentence-3' class='sentence'>In particular, types and expressions may depend on the type
and/or
value of
template parameters (as determined by the template arguments) and this determines
the context for name lookup for certain names<a class='hidden_link' href='#temp.dep.general-1.sentence-3'>.</a></div> <div id='temp.dep.general-1.sentence-4' class='sentence'>An expression may be
<a class='hidden_link' href='#def:expression,type-dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:expression,type-dependent'><i >type-dependent</i></span></a>
(that is, its type may depend on a template parameter) or
<a class='hidden_link' href='#def:expression,value-dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:expression,value-dependent'><i >value-dependent</i></span></a>
(that is, its value when evaluated as a constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)
may depend on a template parameter)
as described below<a class='hidden_link' href='#temp.dep.general-1.sentence-4'>.</a></div></div></div><div class='para' id='temp.dep.general-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4724'>#</a></div><div class='texpara'><div id='temp.dep.general-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:call,dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:call,dependent'><i >dependent call</i></span></a> is an expression,
possibly formed as a non-member candidate for an operator (<a href='over.match.oper' title='12.2.2.3&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>),
of the form:
<div class='simplebnf'>
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
where the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_'><span class='textsf'><i >postfix-expression</i></span></span></a>
is an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a> and
<ul class='itemize'><li id='temp.dep.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.general-2.1'>(2.1)</a></div>any of the expressions in the <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><i >expression-list</i></span></span></a> is a pack
expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>), or</li><li id='temp.dep.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.general-2.2'>(2.2)</a></div>any of the expressions
or <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a><i >s</i>
in the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__'><span class='textsf'><i >expression-list</i></span></span></a>
is type-dependent (<a href='#temp.dep.expr' title='13.8.3.3&emsp;Type-dependent expressions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>expr]</a>), or</li><li id='temp.dep.general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.general-2.3'>(2.3)</a></div>the <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><i >unqualified-id</i></span></span></a>
is a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a> in which any of the template arguments depends
on a template parameter<a class='hidden_link' href='#temp.dep.general-2.sentence-1'>.</a></li></ul></div> <div id='temp.dep.general-2.sentence-2' class='sentence'>
The component name of an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__'><span class='textsf'><i >unqualified-id</i></span></span></a> (<a href='expr.prim.id.unqual' title='7.5.4.2&emsp;Unqualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>unqual]</a>)
is dependent if
<ul class='itemize'><li id='temp.dep.general-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.general-2.4'>(2.4)</a></div>it is a <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id_'><span class='textsf'><i >conversion-function-id</i></span></span></a>
whose <a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id_'><span class='textsf'><i >conversion-type-id</i></span></span></a> is dependent, or</li><li id='temp.dep.general-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.general-2.5'>(2.5)</a></div>it is <span class='texttt'><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span></span> and
the current class is a templated entity, or</li><li id='temp.dep.general-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.general-2.6'>(2.6)</a></div>the <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id___'><span class='textsf'><i >unqualified-id</i></span></span></a> is
the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression__'><span class='textsf'><i >postfix-expression</i></span></span></a> in a dependent call<a class='hidden_link' href='#temp.dep.general-2.sentence-2'>.</a></li></ul></div> <div id='temp.dep.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.dep.general-note-1'>1</a></i>:&ensp;<div id='temp.dep.general-2.sentence-3' class='sentence'>Such names
are looked up only at the point of the template instantiation (<a href='#temp.point' title='13.8.4.1&emsp;Point of instantiation'>[temp.<span class='shy'></span>point]</a>)
in both the context of the template definition and the
context of the point of instantiation (<a href='#temp.dep.candidate' title='13.8.4.2&emsp;Candidate functions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>candidate]</a>)<a class='hidden_link' href='#temp.dep.general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.dep.general-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4768'>#</a></div><div class='texpara'><div id='temp.dep.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='operator'>:</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>A<span class='operator'>*</span> pa;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> pb<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> i <span class='operator'>=</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i;
    pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>j<span class='operator'>+</span><span class='operator'>+</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='temp.dep.general-3.sentence-1' class='sentence'>The base class name
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>,
the type name
<span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span>A</span>,
the names
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>i</span>
and
<span class='texttt'>pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>j</span>
explicitly depend on the
<a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter______'><span class='textsf'><i >template-parameter</i></span></span></a><a class='hidden_link' href='#temp.dep.general-3.sentence-1'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.dep.type' class='section'><h4 ><a class='secnum' href='#temp.dep.type' style='min-width:95pt'>13.8.3.2</a> Dependent types <a class='abbr_ref' href='temp.dep.type'>[temp.dep.type]</a></h4><div class='para' id='temp.dep.type-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4794'>#</a></div><div class='texpara'><div id='temp.dep.type-1.sentence-1' class='sentence'>A name or <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><i >template-id</i></span></span></a> refers to the
<a class='hidden_link' href='#def:current_instantiation' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:current_instantiation'><i >current instantiation</i></span></a>
if it is
<ul class='itemize'><li id='temp.dep.type-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-1.1'>(1.1)</a></div>in the definition of a class template, a nested class of a class template,
a member of a class template, or a member of a nested class of a class template,
the injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of the class template or nested class,</li><li id='temp.dep.type-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-1.2'>(1.2)</a></div>in the definition of a primary class template
or a member of a primary class template, the name of the
class template followed by the template argument list of
its <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a> (<a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a>) enclosed in
<span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> (or an equivalent template alias specialization),</li><li id='temp.dep.type-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-1.3'>(1.3)</a></div>in the definition of a nested class of a class template,
the name of the nested class referenced as a member of the
current instantiation, or</li><li id='temp.dep.type-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-1.4'>(1.4)</a></div>in the definition of a class template partial specialization
or a member of a class template partial specialization, the name of
the class template followed by a template argument list
equivalent to that of the partial specialization (<a href='temp.spec.partial' title='13.7.6&emsp;Partial specialization'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial]</a>)
enclosed in <span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> (or an equivalent template alias specialization)<a class='hidden_link' href='#temp.dep.type-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='temp.dep.type-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4821'>#</a></div><div class='texpara'><div id='temp.dep.type-2.sentence-1' class='sentence'>A template argument that is equivalent to a template
parameter can be used in place of that
template parameter in a reference to the current instantiation<a class='hidden_link' href='#temp.dep.type-2.sentence-1'>.</a></div> <div id='temp.dep.type-2.sentence-2' class='sentence'>For a template <a href='temp.param#nt:type-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-parameter_'><span class='textsf'><i >type-parameter</i></span></span></a>,
a template argument is equivalent to a template parameter
if it denotes the same type<a class='hidden_link' href='#temp.dep.type-2.sentence-2'>.</a></div> <div id='temp.dep.type-2.sentence-3' class='sentence'>For a non-type template parameter,
a template argument is equivalent to a template parameter
if it is an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a> that names a variable
that is equivalent to the template parameter<a class='hidden_link' href='#temp.dep.type-2.sentence-3'>.</a></div> <div id='temp.dep.type-2.sentence-4' class='sentence'>A variable is equivalent to a template parameter if
<ul class='itemize'><li id='temp.dep.type-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-2.1'>(2.1)</a></div>it has the same type as the template parameter
  (ignoring cv-qualification) and</li><li id='temp.dep.type-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-2.2'>(2.2)</a></div>its initializer consists of a single <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a>
  that names the template parameter or, recursively, such a variable<a class='hidden_link' href='#temp.dep.type-2.sentence-4'>.</a></li></ul></div> <div id='temp.dep.type-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.dep.type-note-1'>1</a></i>:&ensp;<div id='temp.dep.type-2.sentence-5' class='sentence'>Using a parenthesized variable name breaks the equivalence<a class='hidden_link' href='#temp.dep.type-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.dep.type-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.type-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  A<span class='operator'>*</span> p1;                        <span class='comment'>// <span class='tcode_in_codeblock'>A</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> p3;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is not the current instantiation</span>
  <span class='operator'>::</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p4;                   <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;A&lt;T&gt;</span> is the current instantiation</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
    B<span class='operator'>*</span> p1;                      <span class='comment'>// <span class='tcode_in_codeblock'>B</span> is the current instantiation</span>
    A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> p2;                <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;B</span> is the current instantiation</span>
    <span class='keyword'>typename</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> p3;      <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;&#x200b;::&#x200b;B</span> is not the current instantiation</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> p1;                    <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is not the current instantiation</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='anglebracket'>&lt;</span>T1, T2, I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b1;             <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>T2, T1, I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b2;             <span class='comment'>// not the current instantiation</span>
  <span class='keyword'>typedef</span> T1 my_T1;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I <span class='operator'>=</span> I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I2 <span class='operator'>=</span> I<span class='operator'>+</span><span class='literal'>0</span>;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I3 <span class='operator'>=</span> my_I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>long</span> my_I4 <span class='operator'>=</span> I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I5 <span class='operator'>=</span> <span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b3;       <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b4;      <span class='comment'>// not the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I3<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b5;      <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I4<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b6;      <span class='comment'>// not the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I5<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b7;      <span class='comment'>// not the current instantiation</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.dep.type-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4881'>#</a></div><div class='texpara'><div id='temp.dep.type-3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:base_class,dependent' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:base_class,dependent'><i >dependent base class</i></span></a> is a base class that is a dependent type and is
not the current instantiation<a class='hidden_link' href='#temp.dep.type-3.sentence-1'>.</a></div> <div id='temp.dep.type-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.dep.type-note-2'>2</a></i>:&ensp;<div id='temp.dep.type-3.sentence-2' class='sentence'>A base class can be the current instantiation in the case of a nested class
naming an enclosing class as a base<a class='hidden_link' href='#temp.dep.type-3.sentence-2'>.</a></div> <div id='temp.dep.type-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.type-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> M;
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>typedef</span> <span class='keyword'>void</span> M;
    <span class='keyword'>struct</span> C;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>::</span>C <span class='operator'>:</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  M m;                          <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;M</span></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.dep.type-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4905'>#</a></div><div class='texpara'><div id='temp.dep.type-4.sentence-1' class='sentence'>A qualified (<a href='basic.lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a>) or unqualified name is a
<a class='hidden_link' href='#def:current_instantiation,member_of_the' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:current_instantiation,member_of_the'><i >member of the current instantiation</i></span></a>
if
<ul class='itemize'><li id='temp.dep.type-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-4.1'>(4.1)</a></div>its lookup context, if it is a qualified name,
is the current instantiation, and</li><li id='temp.dep.type-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-4.2'>(4.2)</a></div>lookup for it finds any member of a class that is the current instantiation</li></ul>
<div id='temp.dep.type-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.type-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>5</span>;
  <span class='keyword'>int</span> n1<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;                    <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> n2<span class='squarebracket'>[</span>A<span class='operator'>::</span>i<span class='squarebracket'>]</span>;                 <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> n3<span class='squarebracket'>[</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>]</span>;              <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> i;                     <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='texpara'><div id='temp.dep.type-4.sentence-2' class='sentence'>A qualified or unqualified name names a <a class='hidden_link' href='#def:current_instantiation,dependent_member_of_the' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:current_instantiation,dependent_member_of_the'><i >dependent member of the current instantiation</i></span></a> if it is a
member of the current instantiation that, when looked up, refers to at least
one member declaration
(including a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator___'><span class='textsf'><i >using-declarator</i></span></span></a> whose terminal name is dependent)
of a class that is the current instantiation<a class='hidden_link' href='#temp.dep.type-4.sentence-2'>.</a></div></div></div><div class='para' id='temp.dep.type-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4940'>#</a></div><div class='texpara'><div id='temp.dep.type-5.sentence-1' class='sentence'>A qualified name (<a href='basic.lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a>) is dependent if</div></div><div class='texpara'><ul class='itemize'><li id='temp.dep.type-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-5.1'>(5.1)</a></div>it is a <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id__'><span class='textsf'><i >conversion-function-id</i></span></span></a>
whose <a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id__'><span class='textsf'><i >conversion-type-id</i></span></span></a> is dependent, or</li><li id='temp.dep.type-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-5.2'>(5.2)</a></div>its lookup context is dependent and is not the current instantiation, or</li><li id='temp.dep.type-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-5.3'>(5.3)</a></div>its lookup context is the current instantiation and
it is <span class='texttt'><span id=':operator_'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span></span>,<a class='footnoteref' href='#footnote-125' id='footnoteref-125' title='Every instantiation of a class template declares a different set of assignment operators.'>125</a>
or</li><li id='temp.dep.type-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-5.4'>(5.4)</a></div>its lookup context is the current instantiation and
has at least one dependent base class, and
qualified name lookup for the name finds nothing (<a href='basic.lookup.qual' title='6.5.5&emsp;Qualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>qual]</a>).</li></ul> <div id='temp.dep.type-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.type-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B <span class='operator'>=</span> <span class='keyword'>int</span>;
  A f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span>t<span class='operator'>.</span>A<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>::</span>B i;      <span class='comment'>// error: <span id=':typename_____'><span class='tcode_in_codeblock'>typename</span></span> needed to interpret <span class='tcode_in_codeblock'>B</span> as a type</span>
<span class='curlybracket'>}</span>
<span class='keyword'>template</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;             <span class='comment'>// &hellip;even though <span class='tcode_in_codeblock'>A</span> is <span class='tcode_in_codeblock'>&#x200b;::&#x200b;A</span> here</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.dep.type-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L4977'>#</a></div><div class='texpara'><div id='temp.dep.type-6.sentence-1' class='sentence'>If, for a given set of template arguments, a specialization of a template is
instantiated that refers to a member of the current instantiation with a
qualified name, the name is looked up in the
template instantiation context<a class='hidden_link' href='#temp.dep.type-6.sentence-1'>.</a></div> <div id='temp.dep.type-6.sentence-2' class='sentence'>If the result of this lookup differs from the
result of name lookup in the template definition context, name lookup is
ambiguous<a class='hidden_link' href='#temp.dep.type-6.sentence-2'>.</a></div> <div id='temp.dep.type-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.type-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, T <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>m; <span class='curlybracket'>}</span>   <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context</span>
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> m; <span class='curlybracket'>}</span>         <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='keyword'>int</span> C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// error: finds both <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;m</span></span>
<span class='keyword'>template</span> <span class='keyword'>int</span> C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// OK, transformation to class member access syntax</span>
                                <span class='comment'>// does not occur in the template definition context; see <a href='class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.dep.type-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5006'>#</a></div><div class='texpara'><div id='temp.dep.type-7.sentence-1' class='sentence'>A type is dependent if it is
<ul class='itemize'><li id='temp.dep.type-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.1'>(7.1)</a></div>a template parameter,</li><li id='temp.dep.type-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.2'>(7.2)</a></div>denoted by a dependent (qualified) name,</li><li id='temp.dep.type-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.3'>(7.3)</a></div>a nested class or enumeration that is a direct member of
a class that is the current instantiation,</li><li id='temp.dep.type-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.4'>(7.4)</a></div>a cv-qualified type where the cv-unqualified type is dependent,</li><li id='temp.dep.type-7.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.5'>(7.5)</a></div>a compound type constructed from any dependent type,</li><li id='temp.dep.type-7.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.6'>(7.6)</a></div>an array type whose element type is dependent or whose
bound (if any) is value-dependent,</li><li id='temp.dep.type-7.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.7'>(7.7)</a></div>a function type whose parameters include one or more function parameter packs,</li><li id='temp.dep.type-7.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.8'>(7.8)</a></div>a function type whose exception specification is value-dependent,</li><li id='temp.dep.type-7.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.9'>(7.9)</a></div>denoted by a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id___'><span class='textsf'><i >simple-template-id</i></span></span></a>
in which either the template name is a template parameter or any of the
template arguments is a dependent type or an expression that is type-dependent
or value-dependent or is a pack expansion,<a class='footnoteref' href='#footnote-126' id='footnoteref-126' title='This includes an injected-class-name ([class.pre]) of a class template used without a template-argument-list.'>126</a>
or</li><li id='temp.dep.type-7.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.type-7.10'>(7.10)</a></div>denoted by <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span></span><a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><i >expression</i></span></span></a><span class='texttt'><span class='parenthesis'>)</span></span>,
where <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_'><span class='textsf'><i >expression</i></span></span></a> is type-dependent (<a href='#temp.dep.expr' title='13.8.3.3&emsp;Type-dependent expressions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>expr]</a>)<a class='hidden_link' href='#temp.dep.type-7.sentence-1'>.</a></li></ul></div></div></div><div class='para nonNormativeOnly' id='temp.dep.type-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.type-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5041'>#</a></div><div class='texpara'><div id='temp.dep.type-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.dep.type-note-3'>3</a></i>:&ensp;<div id='temp.dep.type-8.sentence-1' class='sentence'>Because typedefs do not introduce new types, but
instead simply refer to other types, a name that refers to a
typedef that is a member of the current instantiation is dependent
only if the type referred to is dependent<a class='hidden_link' href='#temp.dep.type-8.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-125'><div class='texpara'><a class='footnotenum' href='#footnote-125'>125)</a><a class='footnoteBacklink' href='#footnoteref-125'>125)</a> <div id='footnote-125.sentence-1' class='sentence'>Every instantiation of a class template declares
a different set of assignment operators<a class='hidden_link' href='#footnote-125.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-126'><div class='texpara'><a class='footnotenum' href='#footnote-126'>126)</a><a class='footnoteBacklink' href='#footnoteref-126'>126)</a> <div id='footnote-126.sentence-1' class='sentence'>This includes an injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of a class template
used without a <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list_'><span class='textsf'><i >template-argument-list</i></span></span></a><a class='hidden_link' href='#footnote-126.sentence-1'>.</a></div></div></div></div><div id='temp.dep.expr' class='section'><h4 ><a class='secnum' href='#temp.dep.expr' style='min-width:95pt'>13.8.3.3</a> Type-dependent expressions <a class='abbr_ref' href='temp.dep.expr'>[temp.dep.expr]</a></h4><div class='para' id='temp.dep.expr-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.expr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5051'>#</a></div><div class='texpara'><div id='temp.dep.expr-1.sentence-1' class='sentence'>Except as described below, an expression is type-dependent if any
subexpression is type-dependent<a class='hidden_link' href='#temp.dep.expr-1.sentence-1'>.</a></div></div></div><div class='para' id='temp.dep.expr-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.expr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5055'>#</a></div><div class='texpara'><div id='temp.dep.expr-2.sentence-1' class='sentence'><span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span>
is type-dependent if the current class (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>) is
dependent (<a href='#temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#temp.dep.expr-2.sentence-1'>.</a></div></div></div><div class='para' id='temp.dep.expr-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.expr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5060'>#</a></div><div class='texpara'><div id='temp.dep.expr-3.sentence-1' class='sentence'>An <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> is type-dependent
if it is a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id__'><span class='textsf'><i >template-id</i></span></span></a> that is not a concept-id and is dependent;
or if its terminal name is
<ul class='itemize'><li id='temp.dep.expr-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.1'>(3.1)</a></div>associated by name lookup with one or more declarations
declared with a dependent type,</li><li id='temp.dep.expr-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.2'>(3.2)</a></div>associated by name lookup with
a non-type <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_______'><span class='textsf'><i >template-parameter</i></span></span></a>
declared with a type
that contains a placeholder type (<a href='dcl.spec.auto' title='9.2.9.6&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>),</li><li id='temp.dep.expr-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.3'>(3.3)</a></div>associated by name lookup with
a variable declared with a type that contains a placeholder type (<a href='dcl.spec.auto' title='9.2.9.6&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>)
where the initializer is type-dependent,</li><li id='temp.dep.expr-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.4'>(3.4)</a></div>associated by name lookup with one or more
declarations of member functions of a class that is the current instantiation
declared with a return type that contains a placeholder type,</li><li id='temp.dep.expr-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.5'>(3.5)</a></div>associated by name lookup with
a structured binding declaration (<a href='dcl.struct.bind' title='9.6&emsp;Structured binding declarations'>[dcl.<span class='shy'></span>struct.<span class='shy'></span>bind]</a>) whose
<a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> is type-dependent,</li><li id='temp.dep.expr-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.6'>(3.6)</a></div>associated by name lookup with
an entity captured by copy (<a href='expr.prim.lambda.capture' title='7.5.5.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>)
in a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression'><span class='textsf'><i >lambda-expression</i></span></span></a>
that has an explicit object parameter whose type is dependent (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),</li><li id='temp.dep.expr-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.7'>(3.7)</a></div>the
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a>
<span class='texttt'>__func__</span> (<a href='dcl.fct.def.general' title='9.5.1&emsp;In general'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a>), where any enclosing function is a
template, a member of a class template, or a generic lambda,</li><li id='temp.dep.expr-3.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.8'>(3.8)</a></div>a <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id___'><span class='textsf'><i >conversion-function-id</i></span></span></a> that specifies a dependent type, or</li><li id='temp.dep.expr-3.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.expr-3.9'>(3.9)</a></div>dependent</li></ul>
or if it names a dependent member of the current instantiation that is a static
data member of type
“array of unknown bound of <span class='texttt'>T</span>” for some <span class='texttt'>T</span> (<a href='temp.static' title='13.7.2.5&emsp;Static data members of class templates'>[temp.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#temp.dep.expr-3.sentence-1'>.</a></div> <div id='temp.dep.expr-3.sentence-2' class='sentence'>Expressions of the following forms are type-dependent only if the type
specified by the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__'><span class='textsf'><i >type-id</i></span></span></a>,
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier_'><span class='textsf'><i >simple-type-specifier</i></span></span></a>,
<a href='#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier___'><span class='textsf'><i >typename-specifier</i></span></span></a>,
or
<a href='expr.new#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id_'><span class='textsf'><i >new-type-id</i></span></span></a>
is dependent, even if any subexpression is type-dependent:</div></div><div class='texpara'><div class='simplebnf'>
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier__'><span class='textsf'><i >simple-type-specifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list___'><span class='textsf'><i >expression-list</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br/><a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier___'><span class='textsf'><i >simple-type-specifier</i></span></span></a> <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><i >braced-init-list</i></span></span></a><br/><a href='#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier____'><span class='textsf'><i >typename-specifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list____'><span class='textsf'><i >expression-list</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br/><a href='#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier_____'><span class='textsf'><i >typename-specifier</i></span></span></a> <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__'><span class='textsf'><i >braced-init-list</i></span></span></a><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':new'><span class='texttt'><span class='keyword'>new</span></span></span> <a href='expr.new#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement'><span class='textsf'><i >new-placement</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='expr.new#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id__'><span class='textsf'><i >new-type-id</i></span></span></a> <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer'><span class='textsf'><i >new-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':new_'><span class='texttt'><span class='keyword'>new</span></span></span> <a href='expr.new#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement_'><span class='textsf'><i >new-placement</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer_'><span class='textsf'><i >new-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><span id=':dynamic_cast_'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':static_cast__'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':const_cast_'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':reinterpret_cast_'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_______'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><i >cast-expression</i></span></span></a>
</div></div></div><div class='para' id='temp.dep.expr-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.expr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5126'>#</a></div><div class='texpara'><div id='temp.dep.expr-4.sentence-1' class='sentence'>Expressions of the following forms are never type-dependent (because the type
of the expression cannot be dependent):</div></div><div class='texpara'><div class='simplebnf'>
<a href='lex.literal.kinds#nt:literal' title='5.13.1&emsp;Kinds of literals&emsp;[lex.literal.kinds]'><span id='ntref:literal'><span class='textsf'><i >literal</i></span></span></a><br/><span id=':sizeof'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression'><span class='textsf'><i >unary-expression</i></span></span></a><br/><span id=':sizeof_'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':sizeof__'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':alignof'><span class='texttt'><span class='keyword'>alignof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid_'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':delete'><span class='texttt'><span class='keyword'>delete</span></span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_'><span class='textsf'><i >cast-expression</i></span></span></a><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':delete_'><span class='texttt'><span class='keyword'>delete</span></span></span> <span class='terminal'><span class='squarebracket'>[</span></span> <span class='terminal'><span class='squarebracket'>]</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression__'><span class='textsf'><i >cast-expression</i></span></span></a><br/><span id=':throw'><span class='texttt'><span class='keyword'>throw</span></span></span> <a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression'><span class='textsf'><i >assignment-expression</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><span id=':noexcept'><span class='texttt'><span class='keyword'>noexcept</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_______'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div id='temp.dep.expr-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.dep.expr-note-1'>1</a></i>:&ensp;<div id='temp.dep.expr-4.sentence-2' class='sentence'>For the standard library macro <span class='texttt'>offsetof</span>,
see <a href='support.types' title='17.2&emsp;Common definitions'>[support.<span class='shy'></span>types]</a><a class='hidden_link' href='#temp.dep.expr-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.dep.expr-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.expr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5149'>#</a></div><div class='texpara'><div id='temp.dep.expr-5.sentence-1' class='sentence'>A class member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) is
type-dependent if
the terminal name of its <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a>, if any, is dependent or
the expression refers to a member of the current instantiation and
the type of the referenced member is dependent<a class='hidden_link' href='#temp.dep.expr-5.sentence-1'>.</a></div> <div id='temp.dep.expr-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.dep.expr-note-2'>2</a></i>:&ensp;<div id='temp.dep.expr-5.sentence-2' class='sentence'>In an expression of the form
<span class='texttt'>x<span class='operator'>.</span>y</span>
or
<span class='texttt'>xp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>y</span>
the type of the expression is usually the type of the member
<span class='texttt'>y</span>
of the class of
<span class='texttt'>x</span>
(or the class pointed to by
<span class='texttt'>xp</span>)<a class='hidden_link' href='#temp.dep.expr-5.sentence-2'>.</a></div> <div id='temp.dep.expr-5.sentence-3' class='sentence'>However, if
<span class='texttt'>x</span>
or
<span class='texttt'>xp</span>
refers to a dependent type that is not the current instantiation,
the type of
<span class='texttt'>y</span>
is always dependent<a class='hidden_link' href='#temp.dep.expr-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.dep.expr-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.expr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5176'>#</a></div><div class='texpara'><div id='temp.dep.expr-6.sentence-1' class='sentence'>A <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list___'><span class='textsf'><i >braced-init-list</i></span></span></a> is type-dependent if any element is
type-dependent or is a pack expansion<a class='hidden_link' href='#temp.dep.expr-6.sentence-1'>.</a></div></div></div><div class='para' id='temp.dep.expr-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.expr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5180'>#</a></div><div class='texpara'><div id='temp.dep.expr-7.sentence-1' class='sentence'>A <a href='expr.prim.fold#nt:fold-expression' title='7.5.6&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-expression'><span class='textsf'><i >fold-expression</i></span></span></a> is type-dependent<a class='hidden_link' href='#temp.dep.expr-7.sentence-1'>.</a></div></div></div></div><div id='temp.dep.constexpr' class='section'><h4 ><a class='secnum' href='#temp.dep.constexpr' style='min-width:95pt'>13.8.3.4</a> Value-dependent expressions <a class='abbr_ref' href='temp.dep.constexpr'>[temp.dep.constexpr]</a></h4><div class='para' id='temp.dep.constexpr-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.constexpr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5185'>#</a></div><div class='texpara'><div id='temp.dep.constexpr-1.sentence-1' class='sentence'>Except as described below, an expression used in a context where a
constant expression is required is value-dependent if any
subexpression is value-dependent<a class='hidden_link' href='#temp.dep.constexpr-1.sentence-1'>.</a></div></div></div><div class='para' id='temp.dep.constexpr-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.constexpr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5190'>#</a></div><div class='texpara'><div id='temp.dep.constexpr-2.sentence-1' class='sentence'>An
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a>
is value-dependent if:
<ul class='itemize'><li id='temp.dep.constexpr-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.constexpr-2.1'>(2.1)</a></div>it is a concept-id and any of its arguments are dependent,</li><li id='temp.dep.constexpr-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.constexpr-2.2'>(2.2)</a></div>it is type-dependent,</li><li id='temp.dep.constexpr-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.constexpr-2.3'>(2.3)</a></div>it is the name of a non-type template parameter,</li><li id='temp.dep.constexpr-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.constexpr-2.4'>(2.4)</a></div>it names a static data member that is a dependent member of the current
instantiation and is not initialized in a <a href='class.mem.general#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator'><span class='textsf'><i >member-declarator</i></span></span></a>,</li><li id='temp.dep.constexpr-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.constexpr-2.5'>(2.5)</a></div>it names a static member function that is a dependent member of the current
instantiation, or</li><li id='temp.dep.constexpr-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.dep.constexpr-2.6'>(2.6)</a></div>it names a potentially-constant variable (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)
that is initialized with an expression that is value-dependent<a class='hidden_link' href='#temp.dep.constexpr-2.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='temp.dep.constexpr-2.sentence-2' class='sentence'>Expressions of the following form are value-dependent if the
<a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression_'><span class='textsf'><i >unary-expression</i></span></span></a> or <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression________'><span class='textsf'><i >expression</i></span></span></a>
is type-dependent or the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____________'><span class='textsf'><i >type-id</i></span></span></a>
is dependent:</div></div><div class='texpara'><div class='simplebnf'>
<span id=':sizeof___'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression__'><span class='textsf'><i >unary-expression</i></span></span></a><br/><span id=':sizeof____'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid__'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid___'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':alignof_'><span class='texttt'><span class='keyword'>alignof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_______________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':noexcept_'><span class='texttt'><span class='keyword'>noexcept</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div><div class='texpara'><div id='temp.dep.constexpr-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.dep.constexpr-note-1'>1</a></i>:&ensp;<div id='temp.dep.constexpr-2.sentence-3' class='sentence'>For the standard library macro <span class='texttt'>offsetof</span>,
see <a href='support.types' title='17.2&emsp;Common definitions'>[support.<span class='shy'></span>types]</a><a class='hidden_link' href='#temp.dep.constexpr-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.dep.constexpr-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.constexpr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5232'>#</a></div><div class='texpara'><div id='temp.dep.constexpr-3.sentence-1' class='sentence'>Expressions of the following form are value-dependent if either the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id________________'><span class='textsf'><i >type-id</i></span></span></a>
or
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier____'><span class='textsf'><i >simple-type-specifier</i></span></span></a>
is dependent or the
<a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___________'><span class='textsf'><i >expression</i></span></span></a>
or
<a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression___'><span class='textsf'><i >cast-expression</i></span></span></a>
is value-dependent:</div></div><div class='texpara'><div class='simplebnf'>
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier_____'><span class='textsf'><i >simple-type-specifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_____'><span class='textsf'><i >expression-list</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':static_cast___'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_________________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':const_cast__'><span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__________________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':reinterpret_cast__'><span class='texttt'><span class='keyword'>reinterpret_<span class='shy'></span>cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___________________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______________'><span class='textsf'><i >expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____________________'><span class='textsf'><i >type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression____'><span class='textsf'><i >cast-expression</i></span></span></a>
</div></div></div><div class='para' id='temp.dep.constexpr-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.constexpr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5251'>#</a></div><div class='texpara'><div id='temp.dep.constexpr-4.sentence-1' class='sentence'>Expressions of the following form are value-dependent:</div></div><div class='texpara'><div class='simplebnf'>
<span id=':sizeof_____'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier______'><span class='textsf'><i >identifier</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><a href='expr.prim.fold#nt:fold-expression' title='7.5.6&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-expression_'><span class='textsf'><i >fold-expression</i></span></span></a>
</div></div></div><div class='para' id='temp.dep.constexpr-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.constexpr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5259'>#</a></div><div class='texpara'><div id='temp.dep.constexpr-5.sentence-1' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a> where the
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id__'><span class='textsf'><i >qualified-id</i></span></span></a> names a dependent member of the current
instantiation is value-dependent<a class='hidden_link' href='#temp.dep.constexpr-5.sentence-1'>.</a></div> <div id='temp.dep.constexpr-5.sentence-2' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_____'><span class='textsf'><i >cast-expression</i></span></span></a>
is also value-dependent if evaluating <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression______'><span class='textsf'><i >cast-expression</i></span></span></a>
as a core constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) succeeds and
the result of the evaluation refers to a templated entity
that is an object with static or thread storage duration or a member function<a class='hidden_link' href='#temp.dep.constexpr-5.sentence-2'>.</a></div></div></div></div><div id='temp.dep.temp' class='section'><h4 ><a class='secnum' href='#temp.dep.temp' style='min-width:95pt'>13.8.3.5</a> Dependent template arguments <a class='abbr_ref' href='temp.dep.temp'>[temp.dep.temp]</a></h4><div class='para' id='temp.dep.temp-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.temp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5271'>#</a></div><div class='texpara'><div id='temp.dep.temp-1.sentence-1' class='sentence'>A type
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument__'><span class='textsf'><i >template-argument</i></span></span></a>
is dependent if the type it specifies is dependent<a class='hidden_link' href='#temp.dep.temp-1.sentence-1'>.</a></div></div></div><div class='para' id='temp.dep.temp-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.temp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5276'>#</a></div><div class='texpara'><div id='temp.dep.temp-2.sentence-1' class='sentence'>A non-type
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument___'><span class='textsf'><i >template-argument</i></span></span></a>
is dependent if its type is dependent or the constant
expression it specifies is value-dependent<a class='hidden_link' href='#temp.dep.temp-2.sentence-1'>.</a></div></div></div><div class='para' id='temp.dep.temp-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.temp-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5282'>#</a></div><div class='texpara'><div id='temp.dep.temp-3.sentence-1' class='sentence'>Furthermore, a non-type
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument____'><span class='textsf'><i >template-argument</i></span></span></a>
is dependent if the corresponding non-type <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter________'><span class='textsf'><i >template-parameter</i></span></span></a>
is of reference or pointer type and the <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_____'><span class='textsf'><i >template-argument</i></span></span></a>
designates or points to a member of the current instantiation or a member of
a dependent type<a class='hidden_link' href='#temp.dep.temp-3.sentence-1'>.</a></div></div></div><div class='para' id='temp.dep.temp-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.temp-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5290'>#</a></div><div class='texpara'><div id='temp.dep.temp-4.sentence-1' class='sentence'>A template <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_________'><span class='textsf'><i >template-parameter</i></span></span></a> is dependent if
it names a <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter__________'><span class='textsf'><i >template-parameter</i></span></span></a> or
its terminal name is dependent<a class='hidden_link' href='#temp.dep.temp-4.sentence-1'>.</a></div></div></div></div></div><div id='temp.dep.res' class='section'><h3 ><a class='secnum' href='#temp.dep.res' style='min-width:80pt'>13.8.4</a> Dependent name resolution <a class='abbr_ref' href='temp.dep.res'>[temp.dep.res]</a></h3><div id='temp.point' class='section'><h4 ><a class='secnum' href='#temp.point' style='min-width:95pt'>13.8.4.1</a> Point of instantiation <a class='abbr_ref' href='temp.point'>[temp.point]</a></h4><div class='para' id='temp.point-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.point-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5298'>#</a></div><div class='texpara'><div id='temp.point-1.sentence-1' class='sentence'><a class='index' id=':instantiation,point_of'></a>For a function template specialization, a member function template
specialization, or a specialization for a member function or static data member
of a class template,
if the specialization is implicitly instantiated because it is referenced
from within another template specialization and
the context from which it is referenced depends on a template parameter,
the point of instantiation of the specialization is the point of instantiation
of the enclosing specialization<a class='hidden_link' href='#temp.point-1.sentence-1'>.</a></div> <div id='temp.point-1.sentence-2' class='sentence'>Otherwise, the point of instantiation for such a specialization immediately
follows the namespace scope declaration
or definition that refers to the specialization<a class='hidden_link' href='#temp.point-1.sentence-2'>.</a></div></div></div><div class='para' id='temp.point-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.point-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5312'>#</a></div><div class='texpara'><div id='temp.point-2.sentence-1' class='sentence'>If a function template or member function of a class template is called
in a way which uses the definition of a default argument of that function
template or member function,
the point of instantiation of the default argument is the point of
instantiation of the function template or member function specialization<a class='hidden_link' href='#temp.point-2.sentence-1'>.</a></div></div></div><div class='para' id='temp.point-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.point-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5319'>#</a></div><div class='texpara'><div id='temp.point-3.sentence-1' class='sentence'>For a <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier__'><span class='textsf'><i >noexcept-specifier</i></span></span></a> of a function template
specialization or specialization of a member function of a class template, if
the <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier___'><span class='textsf'><i >noexcept-specifier</i></span></span></a> is implicitly instantiated because
it is needed by another template specialization and the context that requires
it depends on a template parameter, the point of instantiation of the
<a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier____'><span class='textsf'><i >noexcept-specifier</i></span></span></a> is the point of instantiation of the
specialization that requires it<a class='hidden_link' href='#temp.point-3.sentence-1'>.</a></div> <div id='temp.point-3.sentence-2' class='sentence'>Otherwise, the point of instantiation for such
a <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_____'><span class='textsf'><i >noexcept-specifier</i></span></span></a> immediately follows the namespace
scope declaration or definition that requires the
<a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier______'><span class='textsf'><i >noexcept-specifier</i></span></span></a><a class='hidden_link' href='#temp.point-3.sentence-2'>.</a></div></div></div><div class='para' id='temp.point-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.point-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5333'>#</a></div><div class='texpara'><div id='temp.point-4.sentence-1' class='sentence'>For a class template specialization, a class member template specialization,
or a specialization for a class member of a class template,
if the specialization is implicitly instantiated because it is referenced
from within another template specialization,
if the context from which the specialization is referenced depends on a
template parameter,
and if the specialization is not instantiated previous to the instantiation of
the enclosing template,
the point of instantiation is immediately before the point of instantiation of
the enclosing template<a class='hidden_link' href='#temp.point-4.sentence-1'>.</a></div> <div id='temp.point-4.sentence-2' class='sentence'>Otherwise, the point of instantiation for such a specialization immediately
precedes the namespace scope declaration
or definition that refers to the specialization<a class='hidden_link' href='#temp.point-4.sentence-2'>.</a></div></div></div><div class='para' id='temp.point-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.point-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5348'>#</a></div><div class='texpara'><div id='temp.point-5.sentence-1' class='sentence'>If a virtual function is implicitly instantiated, its point of instantiation
is immediately following the point of instantiation of its enclosing class
template specialization<a class='hidden_link' href='#temp.point-5.sentence-1'>.</a></div></div></div><div class='para' id='temp.point-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.point-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5353'>#</a></div><div class='texpara'><div id='temp.point-6.sentence-1' class='sentence'>An explicit instantiation definition is an instantiation
point for the specialization or specializations specified by the explicit
instantiation<a class='hidden_link' href='#temp.point-6.sentence-1'>.</a></div></div></div><div class='para' id='temp.point-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.point-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5358'>#</a></div><div class='texpara'><div id='temp.point-7.sentence-1' class='sentence'>A specialization for a function template, a member function template,
or of a member function or static data member of a class template may have
multiple points of instantiations within a translation unit, and in addition
to the points of instantiation described above,
<ul class='itemize'><li id='temp.point-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.point-7.1'>(7.1)</a></div>for any such
specialization that has a point of instantiation within the
<a href='dcl.pre#nt:declaration-seq' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration-seq'><span class='textsf'><i >declaration-seq</i></span></span></a> of the
<a href='basic.link#nt:translation-unit' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='ntref:translation-unit'><span class='textsf'><i >translation-unit</i></span></span></a>,
prior to the <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment'><span class='textsf'><i >private-module-fragment</i></span></span></a> (if any),
the point after the <a href='dcl.pre#nt:declaration-seq' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration-seq_'><span class='textsf'><i >declaration-seq</i></span></span></a>
of the <a href='basic.link#nt:translation-unit' title='6.6&emsp;Program and linkage&emsp;[basic.link]'><span id='ntref:translation-unit_'><span class='textsf'><i >translation-unit</i></span></span></a>
is also considered a point of instantiation,
and</li><li id='temp.point-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.point-7.2'>(7.2)</a></div>for any such specialization that has a point of instantiation
within the <a href='module.private.frag#nt:private-module-fragment' title='10.5&emsp;Private module fragment&emsp;[module.private.frag]'><span id='ntref:private-module-fragment_'><span class='textsf'><i >private-module-fragment</i></span></span></a>,
the end of the translation unit is also
considered a point of instantiation<a class='hidden_link' href='#temp.point-7.sentence-1'>.</a></li></ul></div> <div id='temp.point-7.sentence-2' class='sentence'>
A specialization for a class template has at most one point of instantiation
within a translation unit<a class='hidden_link' href='#temp.point-7.sentence-2'>.</a></div> <div id='temp.point-7.sentence-3' class='sentence'>A specialization for any template may have points of instantiation in multiple
translation units<a class='hidden_link' href='#temp.point-7.sentence-3'>.</a></div> <div id='temp.point-7.sentence-4' class='sentence'>If two different points of instantiation give a template specialization
different meanings according to the one-definition rule (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>),
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#temp.point-7.sentence-4'>.</a></div></div></div></div><div id='temp.dep.candidate' class='section'><h4 ><a class='secnum' href='#temp.dep.candidate' style='min-width:95pt'>13.8.4.2</a> Candidate functions <a class='abbr_ref' href='temp.dep.candidate'>[temp.dep.candidate]</a></h4><div class='para' id='temp.dep.candidate-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.candidate-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5390'>#</a></div><div class='texpara'><div id='temp.dep.candidate-1.sentence-1' class='sentence'><a class='index' id=':functions,candidate'></a>If a dependent call (<a href='#temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>) would be ill-formed or
would find a better match had the lookup for its dependent name
considered all the function declarations with external linkage
introduced in the associated namespaces in all translation units,
not just considering those declarations found in the template definition and
template instantiation contexts (<a href='basic.lookup.argdep' title='6.5.4&emsp;Argument-dependent name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>argdep]</a>),
then the program is ill-formed, no diagnostic required<a class='hidden_link' href='#temp.dep.candidate-1.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='temp.dep.candidate-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.candidate-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5400'>#</a></div><div class='texpara'><div id='temp.dep.candidate-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.candidate-example-1'>1</a></i>:&ensp;<p>Source file <span class='texttt'><span class='literal'>"X.h"</span></span>:<span class='codeblock'><span class='keyword'>namespace</span> Q <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Source file <span class='texttt'><span class='literal'>"G.h"</span></span>:<span class='codeblock'><span class='keyword'>namespace</span> Q <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> g_impl<span class='parenthesis'>(</span>X, X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>M1</span>:<span class='codeblock'><span class='keyword'>module</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"X.h"</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"G.h"</span>
<span class='keyword'>export</span> <span class='keyword'>module</span> M1;
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  g_impl<span class='parenthesis'>(</span>t, Q<span class='operator'>::</span>X<span class='curlybracket'>{</span> <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;   <span class='comment'>// ADL in definition context finds <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;g_<span class='shy'></span>impl</span>, <span class='tcode_in_codeblock'>g_<span class='shy'></span>impl</span> not discarded</span>
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>M2</span>:<span class='codeblock'><span class='keyword'>module</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"X.h"</span>
<span class='keyword'>export</span> <span class='keyword'>module</span> M2;
<span class='keyword'>import</span> M1;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span>Q<span class='operator'>::</span>X x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
   g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.dep.candidate-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.candidate-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5436'>#</a></div><div class='texpara'><div id='temp.dep.candidate-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.candidate-example-2'>2</a></i>:&ensp;<p>Module interface unit of <span class='texttt'>Std</span>:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> Std;
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> Iter<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> indirect_swap<span class='parenthesis'>(</span>Iter lhs, Iter rhs<span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  swap<span class='parenthesis'>(</span><span class='operator'>*</span>lhs, <span class='operator'>*</span>rhs<span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>swap</span> not found by unqualified lookup, can be found only via ADL</span>
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>M</span>:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> M;
<span class='keyword'>import</span> Std;

<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='comment'>/* ...*/</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> swap<span class='parenthesis'>(</span>S<span class='operator'>&amp;</span>, S<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;      <span class='comment'>// #1</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='operator'>*</span> p, S<span class='operator'>*</span> q<span class='parenthesis'>)</span>
<span class='curlybracket'>{</span>
  indirect_swap<span class='parenthesis'>(</span>p, q<span class='parenthesis'>)</span>;  <span class='comment'>// finds #1 via ADL in instantiation context</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.dep.candidate-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.candidate-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5461'>#</a></div><div class='texpara'><div id='temp.dep.candidate-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.candidate-example-3'>3</a></i>:&ensp;<p>Source file <span class='texttt'><span class='literal'>"X.h"</span></span>:<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
X <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span>X, X<span class='parenthesis'>)</span>;
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>F</span>:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> F;
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  t <span class='operator'>+</span> t;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>M</span>:<span class='codeblock'><span class='keyword'>module</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"X.h"</span>
<span class='keyword'>export</span> <span class='keyword'>module</span> M;
<span class='keyword'>import</span> F;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>X x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;             <span class='comment'>// OK, instantiates <span class='tcode_in_codeblock'>f</span> from <span class='tcode_in_codeblock'>F</span>,</span>
                    <span class='comment'>// <span class='tcode_in_codeblock'>operator+</span> is visible in instantiation context</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.dep.candidate-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.dep.candidate-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/templates.tex#L5488'>#</a></div><div class='texpara'><div id='temp.dep.candidate-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.dep.candidate-example-4'>4</a></i>:&ensp;<p>Module interface unit of <span class='texttt'>A</span>:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> A;
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  cat<span class='parenthesis'>(</span>t, t<span class='parenthesis'>)</span>;            <span class='comment'>// #1</span>
  dog<span class='parenthesis'>(</span>t, t<span class='parenthesis'>)</span>;            <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>B</span>:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> B;
<span class='keyword'>import</span> A;
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Source file <span class='texttt'><span class='literal'>"foo.h"</span></span>, not an importable header:<span class='codeblock'><span class='keyword'>struct</span> foo <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>int</span> cat<span class='parenthesis'>(</span>foo, foo<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> dog<span class='parenthesis'>(</span>foo, foo<span class='parenthesis'>)</span>;
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>C1</span>:<span class='codeblock'><span class='keyword'>module</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"foo.h"</span>        <span class='comment'>// <span class='tcode_in_codeblock'>dog</span> not referenced, discarded</span>
<span class='keyword'>export</span> <span class='keyword'>module</span> C1;
<span class='keyword'>import</span> B;
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  g<span class='parenthesis'>(</span>foo<span class='curlybracket'>{</span> <span class='curlybracket'>}</span>, t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit:<span class='codeblock'><span class='keyword'>import</span> C1;
<span class='keyword'>void</span> i<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
   h<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                <span class='comment'>// error: <span class='tcode_in_codeblock'>dog</span> not found at #2</span>
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Importable header <span class='texttt'><span class='literal'>"bar.h"</span></span>:<span class='codeblock'><span class='keyword'>struct</span> bar <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>int</span> cat<span class='parenthesis'>(</span>bar, bar<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> dog<span class='parenthesis'>(</span>bar, bar<span class='parenthesis'>)</span>;
</span></div><div class='texpara'><p>Module interface unit of <span class='texttt'>C2</span>:<span class='codeblock'><span class='keyword'>module</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"bar.h"</span>        <span class='comment'>// imports header unit <span class='tcode_in_codeblock'>"bar.h"</span></span>
<span class='keyword'>export</span> <span class='keyword'>module</span> C2;
<span class='keyword'>import</span> B;
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> j<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  g<span class='parenthesis'>(</span>bar<span class='curlybracket'>{</span> <span class='curlybracket'>}</span>, t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit:<span class='codeblock'><span class='keyword'>import</span> C2;
<span class='keyword'>void</span> k<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
   j<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK, <span class='tcode_in_codeblock'>dog</span> found in instantiation context:</span>
                        <span class='comment'>// visible at end of module interface unit of <span class='tcode_in_codeblock'>C2</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div></div></body></html>