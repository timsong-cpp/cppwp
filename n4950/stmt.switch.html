<!DOCTYPE html><html lang='en'><head><title>[stmt.switch]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>8</a> Statements <a class='abbr_ref' href='./#stmt.stmt'>[stmt.stmt]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>8.5</a> Selection statements <a class='abbr_ref' href='stmt.select#stmt.switch'>[stmt.select]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>8.5.3</a> The <span class='texttt'>switch</span> statement <a class='abbr_ref'>[stmt.switch]</a></h3><div class='texpara'><a class='index' id=':statement,switch'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/statements.tex#L407'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The <span id=':switch'><span class='texttt'><span class='keyword'>switch</span></span></span> statement causes control to be transferred to one of
several statements depending on the value of a condition<a class='hidden_link' href='#1.sentence-1'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/statements.tex#L411'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>The value of a <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition'><span class='textsf'><i >condition</i></span></span></a>
that is an initialized declaration
is the value of the declared variable,
or the value of the <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><i >expression</i></span></span></a> otherwise<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The value of the condition shall be of integral type, enumeration type, or class
type<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>If of class type, the
condition is contextually implicitly converted (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>) to
an integral or enumeration type<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>If the (possibly converted) type is subject to integral
promotions (<a href='conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>), the condition is converted
to the promoted type<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>Any
statement within the <span id=':switch_'><span class='texttt'><span class='keyword'>switch</span></span></span> statement can be labeled with one or
more case labels as follows:
<div class='bnf'>
<a class='index' id=':label,case'></a><span id=':case'><span class='texttt'><span class='keyword'>case</span></span></span> <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> <span class='terminal'><span class='operator'>:</span></span>
</div>
where the <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression_'><span class='textsf'><i >constant-expression</i></span></span></a> shall be
a converted constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) of the
adjusted type of the switch condition<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.sentence-6' class='sentence'>No two of the case constants in
the same switch shall have the same value after conversion<a class='hidden_link' href='#2.sentence-6'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/statements.tex#L435'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><a class='index' id=':label,default'></a>There shall be at most one label of the form
<span class='codeblock'><span class='keyword'>default</span> <span class='operator'>:</span>
</span>
within a <span id=':switch__'><span class='texttt'><span class='keyword'>switch</span></span></span> statement<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/statements.tex#L443'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Switch statements can be nested; a <span id=':case_'><span class='texttt'><span class='keyword'>case</span></span></span> or <span id=':default'><span class='texttt'><span class='keyword'>default</span></span></span> label
is associated with the smallest switch enclosing it<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/statements.tex#L447'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>When the <span id=':switch___'><span class='texttt'><span class='keyword'>switch</span></span></span> statement is executed, its condition is
evaluated<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'><a class='index' id=':label,case_'></a>If one of the case constants has the same value as the condition,
control is passed to the statement following the matched case label<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>If
no case constant matches the condition, and if there is a
<a class='index' id=':label,default_'></a><span id=':default_'><span class='texttt'><span class='keyword'>default</span></span></span> label, control passes to the statement labeled by the
default label<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>If no case matches and if there is no <span id=':default__'><span class='texttt'><span class='keyword'>default</span></span></span>
then none of the statements in the switch is executed<a class='hidden_link' href='#5.sentence-4'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/statements.tex#L459'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><span id=':case__'><span class='texttt'><span class='keyword'>case</span></span></span> and <span id=':default___'><span class='texttt'><span class='keyword'>default</span></span></span> labels in themselves do not alter the
flow of control, which continues unimpeded across such labels<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>To exit
from a switch, see <span id=':break'><span class='texttt'><span class='keyword'>break</span></span></span>, <a href='stmt.break' title='8.7.2&emsp;The break statement'>[stmt.<span class='shy'></span>break]</a><a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='6.sentence-3' class='sentence'>Usually, the substatement that is the subject of a switch is compound
and <span id=':case___'><span class='texttt'><span class='keyword'>case</span></span></span> and <span id=':default____'><span class='texttt'><span class='keyword'>default</span></span></span> labels appear on the top-level
statements contained within the (compound) substatement, but this is not
required<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.sentence-4' class='sentence'><a class='index' id=':statement,declaration_in_switch'></a>Declarations can appear in the substatement of a
<span id=':switch____'><span class='texttt'><span class='keyword'>switch</span></span></span> statement<a class='hidden_link' href='#6.sentence-4'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/statements.tex#L473'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>A <span id=':switch_____'><span class='texttt'><span class='keyword'>switch</span></span></span> statement of the form
<div class='simplebnf'>
<span id=':switch______'><span class='texttt'><span class='keyword'>switch</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='stmt.pre#nt:init-statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:init-statement'><span class='textsf'><i >init-statement</i></span></span></a> <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition_'><span class='textsf'><i >condition</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='stmt.pre#nt:statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:statement'><span class='textsf'><i >statement</i></span></span></a>
</div>
is equivalent to
<div class='simplebnf'>
<span class='terminal'><span class='curlybracket'>{</span></span><br/>&emsp;&emsp;&emsp;<a href='stmt.pre#nt:init-statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:init-statement_'><span class='textsf'><i >init-statement</i></span></span></a><br/>&emsp;&emsp;&emsp;<span id=':switch_______'><span class='texttt'><span class='keyword'>switch</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition__'><span class='textsf'><i >condition</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='stmt.pre#nt:statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:statement_'><span class='textsf'><i >statement</i></span></span></a><br/><span class='terminal'><span class='curlybracket'>}</span></span>
</div>
except that the <a href='stmt.pre#nt:init-statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:init-statement__'><span class='textsf'><i >init-statement</i></span></span></a> is in
the same scope as the <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition___'><span class='textsf'><i >condition</i></span></span></a><a class='hidden_link' href='#7.sentence-1'>.</a></div></div><div class='texpara'></div></div></div></body></html>