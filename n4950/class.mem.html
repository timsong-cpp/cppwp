<!DOCTYPE html><html lang='en'><head><title>[class.mem]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>11.4</a> Class members <a class='abbr_ref'>[class.mem]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>11.4.1</a> General <a class='abbr_ref' href='class.mem.general'>[class.mem.general]</a></h3><div class='texpara'><a class='index' id=':declaration,member'></a></div><div class='texpara'><div class='bnf' id='nt:member-specification'>
<a class='hidden_link' href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-specification'><span id=':member-specification'>member-specification<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration'><span class='textsf'><i >member-declaration</i></span></span></a> <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification'><span class='textsf'><i >member-specification</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='class.derived.general#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier'><span class='textsf'><i >access-specifier</i></span></span></a> <span class='terminal'><span class='operator'>:</span></span> <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_'><span class='textsf'><i >member-specification</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:member-declaration'>
<a class='hidden_link' href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-declaration'><span id=':member-declaration'>member-declaration<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq'><span class='textsf'><i >decl-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list'><span class='textsf'><i >member-declarator-list</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span><br/><a href='dcl.fct.def.general#nt:function-definition' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-definition'><span class='textsf'><i >function-definition</i></span></span></a><br/><a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a><br/><a href='enum.udecl#nt:using-enum-declaration' title='9.7.2&emsp;The using enum declaration&emsp;[enum.udecl]'><span id='ntref:using-enum-declaration'><span class='textsf'><i >using-enum-declaration</i></span></span></a><br/><a href='dcl.pre#nt:static_assert-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-declaration'><span class='textsf'><i >static_assert-declaration</i></span></span></a><br/><a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration'><span class='textsf'><i >template-declaration</i></span></span></a><br/><a href='temp.expl.spec#nt:explicit-specialization' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'><span id='ntref:explicit-specialization'><span class='textsf'><i >explicit-specialization</i></span></span></a><br/><a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><i >deduction-guide</i></span></span></a><br/><a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration'><span class='textsf'><i >alias-declaration</i></span></span></a><br/><a href='dcl.enum#nt:opaque-enum-declaration' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:opaque-enum-declaration'><span class='textsf'><i >opaque-enum-declaration</i></span></span></a><br/><a href='dcl.pre#nt:empty-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:empty-declaration'><span class='textsf'><i >empty-declaration</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:member-declarator-list'>
<a class='hidden_link' href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-declarator-list'><span id=':member-declarator-list'>member-declarator-list<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator'><span class='textsf'><i >member-declarator</i></span></span></a><br/><a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list_'><span class='textsf'><i >member-declarator-list</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator_'><span class='textsf'><i >member-declarator</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:member-declarator'>
<a class='hidden_link' href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-declarator'><span id=':member-declarator'>member-declarator<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator'><span class='textsf'><i >declarator</i></span></span></a> <a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq'><span class='textsf'><i >virt-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier'><span class='textsf'><i >pure-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator_'><span class='textsf'><i >declarator</i></span></span></a> <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a><br/><a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator__'><span class='textsf'><i >declarator</i></span></span></a> <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='operator'>:</span></span> <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:virt-specifier-seq'>
<a class='hidden_link' href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:virt-specifier-seq'><span id=':virt-specifier-seq'>virt-specifier-seq<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier'><span class='textsf'><i >virt-specifier</i></span></span></a><br/><a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq_'><span class='textsf'><i >virt-specifier-seq</i></span></span></a> <a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier_'><span class='textsf'><i >virt-specifier</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:virt-specifier'>
<a class='hidden_link' href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:virt-specifier'><span id=':virt-specifier'>virt-specifier<span class='textnormal'>:</span></span></span></a><br/><span id=':override'><span class='texttt'><span class='keyword'>override</span></span></span><br/><span id=':final'><span class='texttt'><span class='keyword'>final</span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:pure-specifier'>
<a class='hidden_link' href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:pure-specifier'><span id=':pure-specifier'>pure-specifier<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='operator'>=</span></span> <span class='terminal'><span class='literal'>0</span></span>
</div></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L506'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'><a class='index' id=':definition,class'></a>The <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification__'><span class='textsf'><i >member-specification</i></span></span></a> in a class definition declares the
full set of members of the class; no member can be added elsewhere<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:member,direct' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member,direct'><i >direct member</i></span></a> of a class <span class='texttt'>X</span> is a member of <span class='texttt'>X</span>
that was first declared within the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification___'><span class='textsf'><i >member-specification</i></span></span></a> of <span class='texttt'>X</span>,
including anonymous union members (<a href='class.union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>) and direct members thereof<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>Members of a class are data members, member
functions (<a href='#class.mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>), nested types, enumerators,
and member templates (<a href='temp.mem' title='13.7.3&emsp;Member templates'>[temp.<span class='shy'></span>mem]</a>) and specializations thereof<a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-1.sentence-4' class='sentence'>A specialization of a static data member template is a static data member<a class='hidden_link' href='#general-1.sentence-4'>.</a></div> <div id='general-1.sentence-5' class='sentence'>A specialization of a member function template is a member function<a class='hidden_link' href='#general-1.sentence-5'>.</a></div> <div id='general-1.sentence-6' class='sentence'>A specialization of a member class template is a nested class<a class='hidden_link' href='#general-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L522'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>A <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_'><span class='textsf'><i >member-declaration</i></span></span></a> does not declare new members of the class
if it is
<ul class='itemize'><li id='general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.1'>(2.1)</a></div>a friend declaration (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>),</li><li id='general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.2'>(2.2)</a></div>a <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_'><span class='textsf'><i >deduction-guide</i></span></span></a> (<a href='temp.deduct.guide' title='13.7.2.3&emsp;Deduction guides'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>guide]</a>),</li><li id='general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.3'>(2.3)</a></div>a <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration_'><span class='textsf'><i >template-declaration</i></span></span></a> whose <a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration'><span class='textsf'><i >declaration</i></span></span></a> is one of the above,</li><li id='general-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.4'>(2.4)</a></div>a <a href='dcl.pre#nt:static_assert-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-declaration_'><span class='textsf'><i >static_assert-declaration</i></span></span></a>,</li><li id='general-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.5'>(2.5)</a></div>a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration_'><span class='textsf'><i >using-declaration</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>), or</li><li id='general-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.6'>(2.6)</a></div>an <a href='dcl.pre#nt:empty-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:empty-declaration_'><span class='textsf'><i >empty-declaration</i></span></span></a><a class='hidden_link' href='#general-2.sentence-1'>.</a></li></ul></div> <div id='general-2.sentence-2' class='sentence'>
For any other <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration__'><span class='textsf'><i >member-declaration</i></span></span></a>,
each declared entity
that is not an unnamed bit-field (<a href='#class.bit' title='11.4.10&emsp;Bit-fields'>[class.<span class='shy'></span>bit]</a>)
is a member of the class,
and each such <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration___'><span class='textsf'><i >member-declaration</i></span></span></a>
shall either
declare at least one member name of the class
or declare at least one unnamed bit-field<a class='hidden_link' href='#general-2.sentence-2'>.</a></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L542'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:data_member' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:data_member'><i >data member</i></span></a> is a non-function member introduced by a
<a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator__'><span class='textsf'><i >member-declarator</i></span></span></a><a class='hidden_link' href='#general-3.sentence-1'>.</a></div> <div id='general-3.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:member_function' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member_function'><i >member function</i></span></a> is a member that is a function<a class='hidden_link' href='#general-3.sentence-2'>.</a></div> <div id='general-3.sentence-3' class='sentence'>Nested types are classes (<a href='class.name' title='11.3&emsp;Class names'>[class.<span class='shy'></span>name]</a>, <a href='#class.nest' title='11.4.12&emsp;Nested class declarations'>[class.<span class='shy'></span>nest]</a>) and
enumerations (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>) declared in the class and arbitrary types
declared as members by use of a typedef declaration (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>)
or <a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration_'><span class='textsf'><i >alias-declaration</i></span></span></a><a class='hidden_link' href='#general-3.sentence-3'>.</a></div> <div id='general-3.sentence-4' class='sentence'>The enumerators of an unscoped enumeration (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>) defined in the class
are members of the class<a class='hidden_link' href='#general-3.sentence-4'>.</a></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L553'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>A data member or member function
may be declared <span id=':static'><span class='texttt'><span class='keyword'>static</span></span></span> in its <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration____'><span class='textsf'><i >member-declaration</i></span></span></a>,
in which case it is a <a class='hidden_link' href='#def:member,static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member,static'><i >static member</i></span></a> (see <a href='#class.static' title='11.4.9&emsp;Static members'>[class.<span class='shy'></span>static]</a>)
(a <a class='hidden_link' href='#def:data_member,static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:data_member,static'><i >static data member</i></span></a> (<a href='#class.static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>) or
<a class='hidden_link' href='#def:member_function,static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member_function,static'><i >static member function</i></span></a> (<a href='#class.static.mfct' title='11.4.9.2&emsp;Static member functions'>[class.<span class='shy'></span>static.<span class='shy'></span>mfct]</a>), respectively)
of the class<a class='hidden_link' href='#general-4.sentence-1'>.</a></div> <div id='general-4.sentence-2' class='sentence'>Any other data member or member function is a <a class='hidden_link' href='#def:member,non-static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member,non-static'><i >non-static member</i></span></a>
(a <a class='hidden_link' href='#def:data_member,non-static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:data_member,non-static'><i >non-static data member</i></span></a> or
<a class='hidden_link' href='#def:member_function,non-static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member_function,non-static'><i >non-static member function</i></span></a> (<a href='#class.mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>), respectively)<a class='hidden_link' href='#general-4.sentence-2'>.</a></div> <div id='general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-2'>2</a></i>:&ensp;<div id='general-4.sentence-3' class='sentence'>A non-static data member of non-reference
type is a member subobject of a class object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)<a class='hidden_link' href='#general-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-5'><div class='marginalizedparent'><a class='marginalized' href='#general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L568'>#</a></div><div class='texpara'><div id='general-5.sentence-1' class='sentence'>A member shall not be declared twice in the
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification____'><span class='textsf'><i >member-specification</i></span></span></a>, except that
<ul class='itemize'><li id='general-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-5.1'>(5.1)</a></div>a nested class or member
class template can be declared and then later defined, and</li><li id='general-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-5.2'>(5.2)</a></div>an
enumeration can be introduced with an <a href='dcl.enum#nt:opaque-enum-declaration' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:opaque-enum-declaration_'><span class='textsf'><i >opaque-enum-declaration</i></span></span></a> and later
redeclared with an <a href='dcl.enum#nt:enum-specifier' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-specifier'><span class='textsf'><i >enum-specifier</i></span></span></a><a class='hidden_link' href='#general-5.sentence-1'>.</a></li></ul></div> <div id='general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-3'>3</a></i>:&ensp;<div id='general-5.sentence-2' class='sentence'>A single name can denote several member functions provided their types
are sufficiently different (<a href='basic.scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>)<a class='hidden_link' href='#general-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-6'><div class='marginalizedparent'><a class='marginalized' href='#general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L583'>#</a></div><div class='texpara'><div id='general-6.sentence-1' class='sentence'>A redeclaration of a class member outside its class definition shall be
a definition,
an explicit specialization, or
an explicit instantiation (<a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization'>[temp.<span class='shy'></span>expl.<span class='shy'></span>spec]</a>, <a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation'>[temp.<span class='shy'></span>explicit]</a>)<a class='hidden_link' href='#general-6.sentence-1'>.</a></div> <div id='general-6.sentence-2' class='sentence'>The member shall not be a non-static data member<a class='hidden_link' href='#general-6.sentence-2'>.</a></div></div></div><div class='para' id='general-7'><div class='marginalizedparent'><a class='marginalized' href='#general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L590'>#</a></div><div class='texpara'><div id='general-7.sentence-1' class='sentence'><a class='index' id=':completely_defined'></a>A <a class='hidden_link' href='#def:complete-class_context' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:complete-class_context'><i >complete-class context</i></span></a> of a class (template) is a
<ul class='itemize'><li id='general-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.1'>(7.1)</a></div>function body (<a href='dcl.fct.def.general' title='9.5.1&emsp;In general'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a>),</li><li id='general-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.2'>(7.2)</a></div>default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>),</li><li id='general-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.3'>(7.3)</a></div>default template argument (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>),</li><li id='general-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.4'>(7.4)</a></div><a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><i >noexcept-specifier</i></span></span></a> (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>), or</li><li id='general-7.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.5'>(7.5)</a></div>default member initializer</li></ul>
within the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_____'><span class='textsf'><i >member-specification</i></span></span></a> of the class or class template<a class='hidden_link' href='#general-7.sentence-1'>.</a></div> <div id='general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-4'>4</a></i>:&ensp;<div id='general-7.sentence-2' class='sentence'>A complete-class context of a nested class is also a complete-class
context of any enclosing class, if the nested class is defined within
the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification______'><span class='textsf'><i >member-specification</i></span></span></a> of the enclosing class<a class='hidden_link' href='#general-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-8'><div class='marginalizedparent'><a class='marginalized' href='#general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L607'>#</a></div><div class='texpara'><div id='general-8.sentence-1' class='sentence'>A class is regarded as complete
where its definition is reachable and
within its complete-class contexts;
otherwise it is regarded as incomplete within its own class
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_______'><span class='textsf'><i >member-specification</i></span></span></a><a class='hidden_link' href='#general-8.sentence-1'>.</a></div></div></div><div class='para' id='general-9'><div class='marginalizedparent'><a class='marginalized' href='#general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L614'>#</a></div><div class='texpara'><div id='general-9.sentence-1' class='sentence'>In a <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator___'><span class='textsf'><i >member-declarator</i></span></span></a>,
an <span class='texttt'><span class='operator'>=</span></span> immediately following the <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator___'><span class='textsf'><i >declarator</i></span></span></a>
is interpreted as introducing a <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier_'><span class='textsf'><i >pure-specifier</i></span></span></a>
if the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a> has function type,
otherwise it is interpreted as introducing
a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer__'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><a class='hidden_link' href='#general-9.sentence-1'>.</a></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> T <span class='operator'>=</span> <span class='keyword'>void</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  T <span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span>;        <span class='comment'>// OK, <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer___'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>virtual</span> T f <span class='operator'>=</span> <span class='literal'>0</span>;  <span class='comment'>// OK, <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier__'><span class='textsf'><i >pure-specifier</i></span></span></a></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-10'><div class='marginalizedparent'><a class='marginalized' href='#general-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L631'>#</a></div><div class='texpara'><div id='general-10.sentence-1' class='sentence'>In a <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator____'><span class='textsf'><i >member-declarator</i></span></span></a> for a bit-field,
the <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression_'><span class='textsf'><i >constant-expression</i></span></span></a> is parsed as
the longest sequence of tokens
that could syntactically form a <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression__'><span class='textsf'><i >constant-expression</i></span></span></a><a class='hidden_link' href='#general-10.sentence-1'>.</a></div> <div id='general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> a;
<span class='keyword'>const</span> <span class='keyword'>int</span> b <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x1 <span class='operator'>:</span> <span class='literal'>8</span> <span class='operator'>=</span> <span class='literal'>42</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>"= 42"</span> is <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer____'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>int</span> x2 <span class='operator'>:</span> <span class='literal'>8</span> <span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span>;            <span class='comment'>// OK, <span class='tcode_in_codeblock'>"{ 42 }"</span> is <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_____'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>int</span> y1 <span class='operator'>:</span> <span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> a <span class='operator'>=</span> <span class='literal'>42</span>;   <span class='comment'>// OK, <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer______'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> is absent</span>
  <span class='keyword'>int</span> y2 <span class='operator'>:</span> <span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> b <span class='operator'>=</span> <span class='literal'>42</span>;   <span class='comment'>// error: cannot assign to <span class='tcode_in_codeblock'>const int</span></span>
  <span class='keyword'>int</span> y3 <span class='operator'>:</span> <span class='parenthesis'>(</span><span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> b<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>42</span>; <span class='comment'>// OK, <span class='tcode_in_codeblock'>"= 42"</span> is <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_______'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>int</span> z <span class='operator'>:</span> <span class='literal'>1</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='keyword'>new</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span> <span class='literal'>0</span> <span class='curlybracket'>}</span>;   <span class='comment'>// OK, <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> is absent</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-11'><div class='marginalizedparent'><a class='marginalized' href='#general-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L651'>#</a></div><div class='texpara'><div id='general-11.sentence-1' class='sentence'>A <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> shall appear only in the
declaration of a data member<a class='hidden_link' href='#general-11.sentence-1'>.</a></div> <div id='general-11.sentence-2' class='sentence'>(For static data members,
see <a href='#class.static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>; for non-static data members,
see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> and <a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)<a class='hidden_link' href='#general-11.sentence-2'>.</a></div> <div id='general-11.sentence-3' class='sentence'>A <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer__________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> for a non-static data member
<a class='index' id=':member,default_initializer'></a>specifies a <a class='hidden_link' href='#def:default_member_initializer' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:default_member_initializer'><i >default member initializer</i></span></a> for the member, and
shall not directly or indirectly cause the implicit definition of a
defaulted default constructor for the enclosing class or the
exception specification of that constructor<a class='hidden_link' href='#general-11.sentence-3'>.</a></div> <div id='general-11.sentence-4' class='sentence'>An immediate invocation (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) that
is a potentially-evaluated subexpression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)
of a default member initializer
is neither evaluated nor checked for whether it
is a constant expression at the point where the subexpression appears<a class='hidden_link' href='#general-11.sentence-4'>.</a></div></div></div><div class='para' id='general-12'><div class='marginalizedparent'><a class='marginalized' href='#general-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L668'>#</a></div><div class='texpara'><div id='general-12.sentence-1' class='sentence'>A member shall not be declared with the <span id=':extern'><span class='texttt'><span class='keyword'>extern</span></span></span>
<a href='dcl.stc#nt:storage-class-specifier' title='9.2.2&emsp;Storage class specifiers&emsp;[dcl.stc]'><span id='ntref:storage-class-specifier'><span class='textsf'><i >storage-class-specifier</i></span></span></a><a class='hidden_link' href='#general-12.sentence-1'>.</a></div> <div id='general-12.sentence-2' class='sentence'>Within a class definition, a member shall not be declared with the <span id=':thread_local'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span> <a href='dcl.stc#nt:storage-class-specifier' title='9.2.2&emsp;Storage class specifiers&emsp;[dcl.stc]'><span id='ntref:storage-class-specifier_'><span class='textsf'><i >storage-class-specifier</i></span></span></a> unless also declared <span id=':static_'><span class='texttt'><span class='keyword'>static</span></span></span><a class='hidden_link' href='#general-12.sentence-2'>.</a></div></div></div><div class='para' id='general-13'><div class='marginalizedparent'><a class='marginalized' href='#general-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L672'>#</a></div><div class='texpara'><div id='general-13.sentence-1' class='sentence'>The <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq_'><span class='textsf'><i >decl-specifier-seq</i></span></span></a> may be omitted in constructor, destructor,
and conversion function declarations only;
when declaring another kind of member the <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq__'><span class='textsf'><i >decl-specifier-seq</i></span></span></a>
shall contain a <a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier'><span class='textsf'><i >type-specifier</i></span></span></a> that is not a <a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier'><span class='textsf'><i >cv-qualifier</i></span></span></a><a class='hidden_link' href='#general-13.sentence-1'>.</a></div> <div id='general-13.sentence-2' class='sentence'>The
<a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list__'><span class='textsf'><i >member-declarator-list</i></span></span></a> can be omitted only after a
<a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier'><span class='textsf'><i >class-specifier</i></span></span></a> or an <a href='dcl.enum#nt:enum-specifier' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-specifier_'><span class='textsf'><i >enum-specifier</i></span></span></a> or in a
friend declaration (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>)<a class='hidden_link' href='#general-13.sentence-2'>.</a></div> <div id='general-13.sentence-3' class='sentence'>A
<a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier___'><span class='textsf'><i >pure-specifier</i></span></span></a> shall be used only in the declaration of a
virtual function (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
that is not a friend declaration<a class='hidden_link' href='#general-13.sentence-3'>.</a></div></div></div><div class='para' id='general-14'><div class='marginalizedparent'><a class='marginalized' href='#general-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L685'>#</a></div><div class='texpara'><div id='general-14.sentence-1' class='sentence'>The optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq__'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_____'><span class='textsf'><i >member-declaration</i></span></span></a>
appertains to each of the entities declared by the <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator_____'><span class='textsf'><i >member-declarator</i></span></span></a><i >s</i>;
it shall not appear if the optional <a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list___'><span class='textsf'><i >member-declarator-list</i></span></span></a> is omitted<a class='hidden_link' href='#general-14.sentence-1'>.</a></div></div></div><div class='para' id='general-15'><div class='marginalizedparent'><a class='marginalized' href='#general-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L690'>#</a></div><div class='texpara'><div id='general-15.sentence-1' class='sentence'>A <a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq__'><span class='textsf'><i >virt-specifier-seq</i></span></span></a> shall contain at most one of each
<a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier__'><span class='textsf'><i >virt-specifier</i></span></span></a><a class='hidden_link' href='#general-15.sentence-1'>.</a></div> <div id='general-15.sentence-2' class='sentence'>A <a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq___'><span class='textsf'><i >virt-specifier-seq</i></span></span></a>
shall appear only in the first declaration of a virtual member
function (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)<a class='hidden_link' href='#general-15.sentence-2'>.</a></div></div></div><div class='para' id='general-16'><div class='marginalizedparent'><a class='marginalized' href='#general-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L697'>#</a></div><div class='texpara'><div id='general-16.sentence-1' class='sentence'><a class='index' id=':class_object,member'></a>The type of a non-static data member shall not be an
incomplete type (<a href='basic.types.general#term.incomplete.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>),
an abstract class type (<a href='class.abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>),
or a (possibly multidimensional) array thereof<a class='hidden_link' href='#general-16.sentence-1'>.</a></div> <div id='general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-5'>5</a></i>:&ensp;<div id='general-16.sentence-2' class='sentence'>In particular, a class <span class='texttt'>C</span> cannot contain
a non-static member of class <span class='texttt'>C</span>,
but it can contain a pointer or reference to an object of class <span class='texttt'>C</span><a class='hidden_link' href='#general-16.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-17'><div class='marginalizedparent'><a class='marginalized' href='#general-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L709'>#</a></div><div class='texpara'><div id='general-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-6'>6</a></i>:&ensp;<div id='general-17.sentence-1' class='sentence'>See <a href='expr.prim.id' title='7.5.4&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a> for restrictions on the use of non-static data
members and non-static member functions<a class='hidden_link' href='#general-17.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-18'><div class='marginalizedparent'><a class='marginalized' href='#general-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L715'>#</a></div><div class='texpara'><div id='general-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-7'>7</a></i>:&ensp;<div id='general-18.sentence-1' class='sentence'>The type of a non-static member function is an ordinary function type,
and the type of a non-static data member is an ordinary object type<a class='hidden_link' href='#general-18.sentence-1'>.</a></div> <div id='general-18.sentence-2' class='sentence'>There are no special member function types or data member types<a class='hidden_link' href='#general-18.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-19'><div class='marginalizedparent'><a class='marginalized' href='#general-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L722'>#</a></div><div class='texpara'><div id='general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-3'>3</a></i>:&ensp;<div id='general-19.sentence-1' class='sentence'>A simple example of a class definition is
<span class='codeblock'><span class='keyword'>struct</span> tnode <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> tword<span class='squarebracket'>[</span><span class='literal'>20</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> count;
  tnode<span class='operator'>*</span> left;
  tnode<span class='operator'>*</span> right;
<span class='curlybracket'>}</span>;
</span>
which contains an array of twenty characters, an integer, and two
pointers to objects of the same type<a class='hidden_link' href='#general-19.sentence-1'>.</a></div> <div id='general-19.sentence-2' class='sentence'>Once this definition has been
given, the declaration
<span class='codeblock'>tnode s, <span class='operator'>*</span>sp;
</span>
declares <span class='texttt'>s</span> to be a <span class='texttt'>tnode</span> and <span class='texttt'>sp</span> to be a pointer
to a <span class='texttt'>tnode</span><a class='hidden_link' href='#general-19.sentence-2'>.</a></div> <div id='general-19.sentence-3' class='sentence'>With these declarations, <span class='texttt'>sp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>count</span> refers to
the <span class='texttt'>count</span> member of the object to which <span class='texttt'>sp</span> points;
<span class='texttt'>s<span class='operator'>.</span>left</span> refers to the <span class='texttt'>left</span> subtree pointer of the object
<span class='texttt'>s</span>; and <span class='texttt'>s<span class='operator'>.</span>right<span class='operator'>-</span><span class='anglebracket'>&gt;</span>tword<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span> refers to the initial character
of the <span class='texttt'>tword</span> member of the <span class='texttt'>right</span> subtree of <span class='texttt'>s</span><a class='hidden_link' href='#general-19.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-20'><div class='marginalizedparent'><a class='marginalized' href='#general-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L747'>#</a></div><div class='texpara'><div id='general-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-8'>8</a></i>:&ensp;<div id='general-20.sentence-1' class='sentence'><a class='index' id=':layout,class_object'></a>Non-variant non-static data members of
non-zero size (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)
are allocated so that later
members have higher addresses within a class object (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>)<a class='hidden_link' href='#general-20.sentence-1'>.</a></div> <div id='general-20.sentence-2' class='sentence'>Implementation alignment requirements can cause two adjacent members
not to be allocated immediately after each other; so can requirements
for space for managing virtual functions (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) and
virtual base classes (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>)<a class='hidden_link' href='#general-20.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-21'><div class='marginalizedparent'><a class='marginalized' href='#general-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L760'>#</a></div><div class='texpara'><div id='general-21.sentence-1' class='sentence'>If <span class='texttt'>T</span> is the name of a class, then each of the following shall
have a name different from <span class='texttt'>T</span>:
<ul class='itemize'><li id='general-21.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-21.1'>(21.1)</a></div>every static data member of class <span class='texttt'>T</span>;</li><li id='general-21.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-21.2'>(21.2)</a></div>every member function of class <span class='texttt'>T</span>;
<div id='general-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-9'>9</a></i>:&ensp;<div id='general-21.2.sentence-1' class='sentence'>This restriction does not apply to constructors, which do not have
names (<a href='#class.ctor' title='11.4.5&emsp;Constructors'>[class.<span class='shy'></span>ctor]</a>)</div> —&nbsp;<i>end note</i>]</div></div></li><li id='general-21.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-21.3'>(21.3)</a></div>every member of class <span class='texttt'>T</span> that is itself a type;</li><li id='general-21.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-21.4'>(21.4)</a></div>every member template of class <span class='texttt'>T</span>;</li><li id='general-21.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-21.5'>(21.5)</a></div>every enumerator of every member of class <span class='texttt'>T</span> that is an
unscoped enumeration type; and</li><li id='general-21.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-21.6'>(21.6)</a></div>every member of every anonymous union that is a member of class
<span class='texttt'>T</span><a class='hidden_link' href='#general-21.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='general-22'><div class='marginalizedparent'><a class='marginalized' href='#general-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L783'>#</a></div><div class='texpara'><div id='general-22.sentence-1' class='sentence'>In addition, if class <span class='texttt'>T</span> has a user-declared
constructor (<a href='#class.ctor' title='11.4.5&emsp;Constructors'>[class.<span class='shy'></span>ctor]</a>), every non-static data member of class
<span class='texttt'>T</span> shall have a name different from <span class='texttt'>T</span><a class='hidden_link' href='#general-22.sentence-1'>.</a></div></div></div><div class='para' id='general-23'><div class='marginalizedparent'><a class='marginalized' href='#general-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L788'>#</a></div><div class='texpara'><div id='general-23.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:common_initial_sequence' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:common_initial_sequence'><i >common initial sequence</i></span></a> of two standard-layout struct (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>)
types is the longest sequence of non-static data
members and bit-fields in declaration order, starting with the first
such entity in each of the structs, such that
<ul class='itemize'><li id='general-23.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-23.1'>(23.1)</a></div>corresponding entities
have layout-compatible types (<a href='basic.types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>),</li><li id='general-23.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-23.2'>(23.2)</a></div>corresponding entities have the same alignment requirements (<a href='basic.align' title='6.7.6&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>),</li><li id='general-23.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-23.3'>(23.3)</a></div>either both entities are declared with
the <span class='texttt'>no_<span class='shy'></span>unique_<span class='shy'></span>address</span> attribute (<a href='dcl.attr.nouniqueaddr' title='9.12.11&emsp;No unique address attribute'>[dcl.<span class='shy'></span>attr.<span class='shy'></span>nouniqueaddr]</a>)
or neither is, and</li><li id='general-23.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-23.4'>(23.4)</a></div>either both entities are bit-fields with the same width
or neither is a bit-field<a class='hidden_link' href='#general-23.sentence-1'>.</a></li></ul></div> <div id='general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>const</span> <span class='keyword'>int</span> b1; <span class='keyword'>volatile</span> <span class='keyword'>char</span> b2; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>int</span> c; <span class='keyword'>unsigned</span> <span class='operator'>:</span> <span class='literal'>0</span>; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span> <span class='keyword'>int</span> d; <span class='keyword'>char</span> b <span class='operator'>:</span> <span class='literal'>4</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> E <span class='curlybracket'>{</span> <span class='keyword'>unsigned</span> <span class='keyword'>int</span> e; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
</span> <div id='general-23.sentence-2' class='sentence'>
The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>B</span> comprises all members
of either class<a class='hidden_link' href='#general-23.sentence-2'>.</a></div> <div id='general-23.sentence-3' class='sentence'>The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>C</span> and
of <span class='texttt'>A</span> and <span class='texttt'>D</span> comprises the first member in each case<a class='hidden_link' href='#general-23.sentence-3'>.</a></div> <div id='general-23.sentence-4' class='sentence'>The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>E</span> is empty<a class='hidden_link' href='#general-23.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-24'><div class='marginalizedparent'><a class='marginalized' href='#general-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L821'>#</a></div><div class='texpara'><div id='general-24.sentence-1' class='sentence'>Two standard-layout struct (<a href='class.prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>) types are
<a class='hidden_link' href='#def:layout-compatible,class' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:layout-compatible,class'><i >layout-compatible classes</i></span></a> if
their common initial sequence comprises all members and bit-fields of
both classes (<a href='basic.types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#general-24.sentence-1'>.</a></div></div></div><div class='para' id='general-25'><div class='marginalizedparent'><a class='marginalized' href='#general-25'>25</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L827'>#</a></div><div class='texpara'><div id='general-25.sentence-1' class='sentence'>Two standard-layout unions are layout-compatible if they
have the same number of non-static data members and corresponding
non-static data members (in any order) have layout-compatible
types (<a href='basic.types.general#term.layout.compatible.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#general-25.sentence-1'>.</a></div></div></div><div class='para' id='general-26'><div class='marginalizedparent'><a class='marginalized' href='#general-26'>26</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L833'>#</a></div><div class='texpara'><div id='general-26.sentence-1' class='sentence'>In a standard-layout union with an active member (<a href='class.union' title='11.5&emsp;Unions'>[class.<span class='shy'></span>union]</a>)
of struct type <span class='texttt'>T1</span>, it is permitted to read a non-static
data member <span class='texttt'>m</span> of another union member of struct type <span class='texttt'>T2</span>
provided <span class='texttt'>m</span> is part of the common initial sequence of <span class='texttt'>T1</span> and <span class='texttt'>T2</span>;
the behavior is as if the corresponding member of <span class='texttt'>T1</span> were nominated<a class='hidden_link' href='#general-26.sentence-1'>.</a></div> <div id='general-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> T1 <span class='curlybracket'>{</span> <span class='keyword'>int</span> a, b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> T2 <span class='curlybracket'>{</span> <span class='keyword'>int</span> c; <span class='keyword'>double</span> d; <span class='curlybracket'>}</span>;
<span class='keyword'>union</span> U <span class='curlybracket'>{</span> T1 t1; T2 t2; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  U u <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;   <span class='comment'>// active member is <span class='tcode_in_codeblock'>t1</span></span>
  <span class='keyword'>return</span> u<span class='operator'>.</span>t2<span class='operator'>.</span>c;        <span class='comment'>// OK, as if <span class='tcode_in_codeblock'>u.t1.a</span> were nominated</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='general-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-10'>10</a></i>:&ensp;<div id='general-26.sentence-2' class='sentence'>Reading a volatile object through a glvalue of non-volatile type has
undefined behavior (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>)<a class='hidden_link' href='#general-26.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-27'><div class='marginalizedparent'><a class='marginalized' href='#general-27'>27</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L855'>#</a></div><div class='texpara'><div id='general-27.sentence-1' class='sentence'>If a standard-layout class object has any non-static data members, its address
is the same as the address of its first non-static data member
if that member is not a bit-field<a class='hidden_link' href='#general-27.sentence-1'>.</a></div> <div id='general-27.sentence-2' class='sentence'>Its
address is also the same as the address of each of its base class subobjects<a class='hidden_link' href='#general-27.sentence-2'>.</a></div> <div id='general-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-11'>11</a></i>:&ensp;<div id='general-27.sentence-3' class='sentence'>There can therefore be unnamed padding within a standard-layout struct object
inserted by an implementation, but
not at its beginning, as necessary to achieve appropriate alignment<a class='hidden_link' href='#general-27.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-note-12' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-12'>12</a></i>:&ensp;<div id='general-27.sentence-4' class='sentence'>The object and its first subobject are
pointer-interconvertible (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#general-27.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.mfct' class='section'><h3 ><a class='secnum' href='#class.mfct' style='min-width:80pt'>11.4.2</a> Member functions <a class='abbr_ref' href='class.mfct'>[class.mfct]</a></h3><div class='texpara'><a class='index' id=':member_function,class'></a></div><div class='para' id='class.mfct-1'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L873'>#</a></div><div class='texpara'><div id='class.mfct-1.sentence-1' class='sentence'><a class='index' id=':member_function,inline'></a><a class='index' id=':definition,member_function'></a>If a member function is attached to the global module and is defined (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>) in its class definition,
it is inline (<a href='dcl.inline' title='9.2.8&emsp;The inline specifier'>[dcl.<span class='shy'></span>inline]</a>)<a class='hidden_link' href='#class.mfct-1.sentence-1'>.</a></div> <div id='class.mfct-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.mfct-note-1'>1</a></i>:&ensp;<div id='class.mfct-1.sentence-2' class='sentence'>A member function is also inline if it is declared
<span id=':inline'><span class='texttt'><span class='keyword'>inline</span></span></span>, <span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span>, or <span id=':consteval'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#class.mfct-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.mfct-2'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L883'>#</a></div><div class='texpara'><a class='index' id=':operator,scope_resolution'></a><div id='class.mfct-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.mfct-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> T;
  <span class='keyword'>static</span> T count;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> X<span class='operator'>::</span>f<span class='parenthesis'>(</span>T t <span class='operator'>=</span> count<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='class.mfct-2.sentence-1' class='sentence'>The definition of the member function <span class='texttt'>f</span> of class <span class='texttt'>X</span> inhabits the global
scope; the notation <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>f</span> indicates that the function <span class='texttt'>f</span>
is a member of class <span class='texttt'>X</span> and in the scope of class <span class='texttt'>X</span><a class='hidden_link' href='#class.mfct-2.sentence-1'>.</a></div> <div id='class.mfct-2.sentence-2' class='sentence'>In
the function definition, the parameter type <span class='texttt'>T</span> refers to the
typedef member <span class='texttt'>T</span> declared in class <span class='texttt'>X</span> and the default
argument <span class='texttt'>count</span> refers to the static data member <span class='texttt'>count</span>
declared in class <span class='texttt'>X</span><a class='hidden_link' href='#class.mfct-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.mfct-3'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L904'>#</a></div><div class='texpara'><div id='class.mfct-3.sentence-1' class='sentence'><a class='index' id=':local_class,member_function_in'></a>Member functions of a local class shall be defined inline in their class
definition, if they are defined at all<a class='hidden_link' href='#class.mfct-3.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.mfct-4'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L909'>#</a></div><div class='texpara'><div id='class.mfct-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.mfct-note-2'>2</a></i>:&ensp;<div id='class.mfct-4.sentence-1' class='sentence'>A member function can be declared (but not defined) using a typedef for
a function type<a class='hidden_link' href='#class.mfct-4.sentence-1'>.</a></div> <div id='class.mfct-4.sentence-2' class='sentence'>The resulting member function has exactly the same type
as it would have if the function declarator were provided explicitly,
see <a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a><a class='hidden_link' href='#class.mfct-4.sentence-2'>.</a></div> <div id='class.mfct-4.sentence-3' class='sentence'>For example,</div></div><div class='texpara'><span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>void</span> fv<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>typedef</span> <span class='keyword'>void</span> fvc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  fv memfunc1;      <span class='comment'>// equivalent to: <span class='tcode_in_codeblock'>void memfunc1();</span></span>
  <span class='keyword'>void</span> memfunc2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  fvc memfunc3;     <span class='comment'>// equivalent to: <span class='tcode_in_codeblock'>void memfunc3() const;</span></span>
<span class='curlybracket'>}</span>;
fv  S<span class='operator'>::</span><span class='operator'>*</span> pmfv1 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc1;
fv  S<span class='operator'>::</span><span class='operator'>*</span> pmfv2 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc2;
fvc S<span class='operator'>::</span><span class='operator'>*</span> pmfv3 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc3;
</span></div><div class='texpara'><div id='class.mfct-4.sentence-4' class='sentence'>Also see <a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a><a class='hidden_link' href='#class.mfct-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.mfct.non.static' class='section'><h3 ><a class='secnum' href='#class.mfct.non.static' style='min-width:80pt'>11.4.3</a> Non-static member functions <a class='abbr_ref' href='class.mfct.non.static'>[class.mfct.non.static]</a></h3><div class='texpara'><a class='index' id=':member_function,non-static'></a></div><div class='para' id='class.mfct.non.static-1'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L936'>#</a></div><div class='texpara'><div id='class.mfct.non.static-1.sentence-1' class='sentence'>A non-static member function may be called for an object of
its class type, or for an object of a class derived (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>)
from its class type, using the class member
access syntax (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <a href='over.match.call' title='12.2.2.2&emsp;Function call syntax'>[over.<span class='shy'></span>match.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#class.mfct.non.static-1.sentence-1'>.</a></div> <div id='class.mfct.non.static-1.sentence-2' class='sentence'>A non-static
member function may also be called directly using the function call
syntax (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>, <a href='over.match.call' title='12.2.2.2&emsp;Function call syntax'>[over.<span class='shy'></span>match.<span class='shy'></span>call]</a>) from within
its class or a class derived from its class, or
a member thereof, as described below<a class='hidden_link' href='#class.mfct.non.static-1.sentence-2'>.</a></div></div></div><div class='para' id='class.mfct.non.static-2'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L946'>#</a></div><div class='texpara'><div id='class.mfct.non.static-2.sentence-1' class='sentence'>When an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> (<a href='expr.prim.id' title='7.5.4&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a>) that is
neither part of a class member access syntax (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)
nor the unparenthesized operand of
the unary <span class='texttt'><span class='operator'>&amp;</span></span> operator (<a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>) is used
where the current class is <span class='texttt'>X</span> (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>),
if name
lookup (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>) resolves the name in the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> to a non-static non-type member of some class
<span class='texttt'>C</span>,
and if either the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a> is potentially evaluated or
<span class='texttt'>C</span> is <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>,
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a> is transformed into a class
member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) using
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> as the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a>
to the left of the <span class='texttt'><span class='operator'>.</span></span> operator<a class='hidden_link' href='#class.mfct.non.static-2.sentence-1'>.</a></div> <div id='class.mfct.non.static-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.mfct.non.static-note-1'>1</a></i>:&ensp;<div id='class.mfct.non.static-2.sentence-2' class='sentence'>If <span class='texttt'>C</span> is not <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>, the class
member access expression is ill-formed<a class='hidden_link' href='#class.mfct.non.static-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.mfct.non.static-2.sentence-3' class='sentence'>
This transformation does not apply in the
template definition context (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#class.mfct.non.static-2.sentence-3'>.</a></div> <div id='class.mfct.non.static-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.mfct.non.static-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> tnode <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> tword<span class='squarebracket'>[</span><span class='literal'>20</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> count;
  tnode<span class='operator'>*</span> left;
  tnode<span class='operator'>*</span> right;
  <span class='keyword'>void</span> set<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, tnode<span class='operator'>*</span> l, tnode<span class='operator'>*</span> r<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> tnode<span class='operator'>::</span>set<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> w, tnode<span class='operator'>*</span> l, tnode<span class='operator'>*</span> r<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  count <span class='operator'>=</span> strlen<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span><span class='operator'>+</span><span class='literal'>1</span>;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>tword<span class='parenthesis'>)</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span>count<span class='parenthesis'>)</span>
      perror<span class='parenthesis'>(</span><span class='literal'>"tnode string too long"</span><span class='parenthesis'>)</span>;
  strcpy<span class='parenthesis'>(</span>tword,w<span class='parenthesis'>)</span>;
  left <span class='operator'>=</span> l;
  right <span class='operator'>=</span> r;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>tnode n1, tnode n2<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  n1<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"abc"</span>,<span class='operator'>&amp;</span>n2,<span class='literal'>0</span><span class='parenthesis'>)</span>;
  n2<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"def"</span>,<span class='literal'>0</span>,<span class='literal'>0</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='class.mfct.non.static-2.sentence-4' class='sentence'>In the body of the member function <span class='texttt'>tnode<span class='operator'>&#x200b;::&#x200b;</span>set</span>, the member names
<span class='texttt'>tword</span>, <span class='texttt'>count</span>, <span class='texttt'>left</span>, and <span class='texttt'>right</span> refer to
members of the object for which the function is called<a class='hidden_link' href='#class.mfct.non.static-2.sentence-4'>.</a></div> <div id='class.mfct.non.static-2.sentence-5' class='sentence'>Thus, in the
call <span class='texttt'>n1<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"abc"</span>,<span class='operator'>&amp;</span>n2,<span class='literal'>0</span><span class='parenthesis'>)</span></span>, <span class='texttt'>tword</span> refers to
<span class='texttt'>n1<span class='operator'>.</span>tword</span>, and in the call <span class='texttt'>n2<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"def"</span>,<span class='literal'>0</span>,<span class='literal'>0</span><span class='parenthesis'>)</span></span>, it refers
to <span class='texttt'>n2<span class='operator'>.</span>tword</span><a class='hidden_link' href='#class.mfct.non.static-2.sentence-5'>.</a></div> <div id='class.mfct.non.static-2.sentence-6' class='sentence'>The functions <span class='texttt'>strlen</span>, <span class='texttt'>perror</span>, and
<span class='texttt'>strcpy</span> are not members of the class <span class='texttt'>tnode</span> and should be
declared elsewhere<a class='hidden_link' href='#class.mfct.non.static-2.sentence-6'>.</a><a class='footnoteref' href='#footnote-93' id='footnoteref-93' title='See, for example, &lt;cstring&gt;.'>93</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.mfct.non.static-3'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non.static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1006'>#</a></div><div class='texpara'><a class='index' id=':member_function,const'></a><a class='index' id=':member_function,volatile'></a><a class='index' id=':member_function,const_volatile'></a><div id='class.mfct.non.static-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.mfct.non.static-note-2'>2</a></i>:&ensp;<div id='class.mfct.non.static-3.sentence-1' class='sentence'>An implicit object member function can be declared with
<a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier_'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i>, which affect the type of the <span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span>
pointer (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>),
and/or a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>);
both affect overload resolution (<a href='over.match.funcs' title='12.2.2&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>)</div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.mfct.non.static-4'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non.static-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1018'>#</a></div><div class='texpara'><div id='class.mfct.non.static-4.sentence-1' class='sentence'>An implicit object member function may be declared
virtual (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) or pure virtual (<a href='class.abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>)<a class='hidden_link' href='#class.mfct.non.static-4.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-93'><div class='texpara'><a class='footnotenum' href='#footnote-93'>93)</a><a class='footnoteBacklink' href='#footnoteref-93'>93)</a> <div id='footnote-93.sentence-1' class='sentence'>See, for example, <a href='cstring.syn#header:%3ccstring%3e' title='23.5.3&emsp;Header &lt;cstring&gt; synopsis&emsp;[cstring.syn]'><span id='headerref:<cstring>'><span class='texttt'>&lt;cstring&gt;</span></span></a><a class='hidden_link' href='#footnote-93.sentence-1'>.</a></div></div></div></div><div id='special' class='section'><h3 ><a class='secnum' href='#special' style='min-width:80pt'>11.4.4</a> Special member functions <a class='abbr_ref' href='special'>[special]</a></h3><div class='texpara'></div><div class='para' id='special-1'><div class='marginalizedparent'><a class='marginalized' href='#special-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1029'>#</a></div><div class='texpara'><div id='special-1.sentence-1' class='sentence'><a class='index' id=':constructor,default'></a><a class='index' id=':constructor,copy'></a><a class='index' id=':constructor,move'></a><a class='index' id=':assignment_operator,copy'></a><a class='index' id=':assignment_operator,move'></a>Default constructors (<a href='#class.default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>),
copy constructors, move constructors (<a href='#class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
copy assignment operators, move assignment operators (<a href='#class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),
and prospective destructors (<a href='#class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>) are
<a class='hidden_link' href='#def:special_member_functions' id='def:special_member_functions'><i>special member functions</i></a><a class='hidden_link' href='#special-1.sentence-1'>.</a></div> <div id='special-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#special-note-1'>1</a></i>:&ensp;<div id='special-1.sentence-2' class='sentence'>The implementation will implicitly declare these member functions for some class
types when the program does not explicitly declare them<a class='hidden_link' href='#special-1.sentence-2'>.</a></div> <div id='special-1.sentence-3' class='sentence'>The implementation will implicitly define them
as needed (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#special-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='special-1.sentence-4' class='sentence'>
An implicitly-declared special member function is declared at the closing
<span class='texttt'><span class='curlybracket'>}</span></span> of the <a href='class.pre#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier_'><span class='textsf'><i >class-specifier</i></span></span></a><a class='hidden_link' href='#special-1.sentence-4'>.</a></div> <div id='special-1.sentence-5' class='sentence'>Programs shall not define implicitly-declared special member functions<a class='hidden_link' href='#special-1.sentence-5'>.</a></div></div></div><div class='para' id='special-2'><div class='marginalizedparent'><a class='marginalized' href='#special-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1050'>#</a></div><div class='texpara'><div id='special-2.sentence-1' class='sentence'>Programs may explicitly refer to implicitly-declared special member functions<a class='hidden_link' href='#special-2.sentence-1'>.</a></div> <div id='special-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#special-example-1'>1</a></i>:&ensp;<div id='special-2.sentence-2' class='sentence'>A program may explicitly call or form a pointer to member
to an implicitly-declared special member function<a class='hidden_link' href='#special-2.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                   <span class='comment'>// implicitly declared <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;operator=</span></span>
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  B<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
B<span class='operator'>&amp;</span> B<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>A<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;        <span class='comment'>// well-formed</span>
  <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='special-3'><div class='marginalizedparent'><a class='marginalized' href='#special-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1068'>#</a></div><div class='texpara'><div id='special-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#special-note-2'>2</a></i>:&ensp;<div id='special-3.sentence-1' class='sentence'>The special member functions affect the way objects of class type are created,
copied, moved, and destroyed, and how values can be converted to values of other types<a class='hidden_link' href='#special-3.sentence-1'>.</a></div> <div id='special-3.sentence-2' class='sentence'>Often such special member functions are called implicitly<a class='hidden_link' href='#special-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='special-4'><div class='marginalizedparent'><a class='marginalized' href='#special-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1075'>#</a></div><div class='texpara'><div id='special-4.sentence-1' class='sentence'><a class='index' id=':access_control,member_function_and'></a>Special member functions obey the usual access rules (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#special-4.sentence-1'>.</a></div> <div id='special-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#special-example-2'>2</a></i>:&ensp;<div id='special-4.sentence-2' class='sentence'>Declaring a constructor protected
ensures that only derived classes and friends can create objects using it<a class='hidden_link' href='#special-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='special-5'><div class='marginalizedparent'><a class='marginalized' href='#special-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1083'>#</a></div><div class='texpara'><div id='special-5.sentence-1' class='sentence'>Two special member functions are of the same kind if:
<ul class='itemize'><li id='special-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-5.1'>(5.1)</a></div>they are both default constructors,</li><li id='special-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-5.2'>(5.2)</a></div>they are both copy or move constructors
with the same first parameter type, or</li><li id='special-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-5.3'>(5.3)</a></div>they are both copy or move assignment operators
with the same first parameter type
and the same <a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier__'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i> and <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a>, if any<a class='hidden_link' href='#special-5.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='special-6'><div class='marginalizedparent'><a class='marginalized' href='#special-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1094'>#</a></div><div class='texpara'><div id='special-6.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:special_member_function,eligible' title='11.4.4&emsp;Special member functions&emsp;[special]'><span id='def:special_member_function,eligible'><i >eligible special member function</i></span></a> is a special member function for which:
<ul class='itemize'><li id='special-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-6.1'>(6.1)</a></div>the function is not deleted,</li><li id='special-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-6.2'>(6.2)</a></div>the associated constraints (<a href='temp.constr' title='13.5&emsp;Template constraints'>[temp.<span class='shy'></span>constr]</a>), if any, are satisfied, and</li><li id='special-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-6.3'>(6.3)</a></div>no special member function of the same kind is more constrained (<a href='temp.constr.order' title='13.5.5&emsp;Partial ordering by constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>order]</a>)<a class='hidden_link' href='#special-6.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='special-7'><div class='marginalizedparent'><a class='marginalized' href='#special-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1102'>#</a></div><div class='texpara'><div id='special-7.sentence-1' class='sentence'>For a class, its non-static data members, its non-virtual direct base classes,
and, if the class is not abstract (<a href='class.abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>), its virtual base
classes are called its <a class='hidden_link' href='#def:potentially_constructed_subobjects' id='def:potentially_constructed_subobjects'><i>potentially constructed subobjects</i></a><a class='hidden_link' href='#special-7.sentence-1'>.</a></div></div></div></div><div id='class.ctor' class='section'><h3 ><a class='secnum' href='#class.ctor' style='min-width:80pt'>11.4.5</a> Constructors <a class='abbr_ref' href='class.ctor'>[class.ctor]</a></h3><div id='class.ctor.general' class='section'><h4 ><a class='secnum' href='#class.ctor.general' style='min-width:95pt'>11.4.5.1</a> General <a class='abbr_ref' href='class.ctor.general'>[class.ctor.general]</a></h4><div class='texpara'><a class='index' id=':constructor'></a></div><div class='para' id='class.ctor.general-1'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1113'>#</a></div><div class='texpara'><div id='class.ctor.general-1.sentence-1' class='sentence'>A <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator____'><span class='textsf'><i >declarator</i></span></span></a> declares a <a class='hidden_link' href='#def:constructor' title='11.4.5.1&emsp;General&emsp;[class.ctor.general]'><span id='def:constructor'><i >constructor</i></span></a> if it is a
function declarator (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the form
<div class='bnf'>
<a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator'><span class='textsf'><i >ptr-declarator</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq___'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
where the <a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator_'><span class='textsf'><i >ptr-declarator</i></span></span></a> consists solely of an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a>, an optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq____'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>,
and optional surrounding parentheses, and the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____'><span class='textsf'><i >id-expression</i></span></span></a> has
one of the following forms:
<ul class='itemize'><li id='class.ctor.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.ctor.general-1.1'>(1.1)</a></div>in a friend declaration (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>),
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
that names a constructor (<a href='class.qual' title='6.5.5.2&emsp;Class members'>[class.<span class='shy'></span>qual]</a>);</li><li id='class.ctor.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.ctor.general-1.2'>(1.2)</a></div>otherwise, in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration______'><span class='textsf'><i >member-declaration</i></span></span></a> that belongs to the
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification________'><span class='textsf'><i >member-specification</i></span></span></a> of a class or class template,
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______'><span class='textsf'><i >id-expression</i></span></span></a> is the
injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of the immediately-enclosing entity;</li><li id='class.ctor.general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.ctor.general-1.3'>(1.3)</a></div>otherwise, the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a>
whose <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a> is
the injected-class-name of its lookup context<a class='hidden_link' href='#class.ctor.general-1.sentence-1'>.</a></li></ul></div> <div id='class.ctor.general-1.sentence-2' class='sentence'>
Constructors do not have names<a class='hidden_link' href='#class.ctor.general-1.sentence-2'>.</a></div> <div id='class.ctor.general-1.sentence-3' class='sentence'>In a constructor declaration, each <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier'><span class='textsf'><i >decl-specifier</i></span></span></a> in the optional
<a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq___'><span class='textsf'><i >decl-specifier-seq</i></span></span></a> shall be
<span id=':friend'><span class='texttt'><span class='keyword'>friend</span></span></span>,
<span id=':inline_'><span class='texttt'><span class='keyword'>inline</span></span></span>,
<span id=':constexpr_'><span class='texttt'><span class='keyword'>constexpr</span></span></span>,
<span id=':consteval_'><span class='texttt'><span class='keyword'>consteval</span></span></span>, or
an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a><a class='hidden_link' href='#class.ctor.general-1.sentence-3'>.</a></div> <div id='class.ctor.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.ctor.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// declares the constructor</span>
<span class='curlybracket'>}</span>;

S<span class='operator'>::</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>          <span class='comment'>// defines the constructor</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.ctor.general-2'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1158'>#</a></div><div class='texpara'><div id='class.ctor.general-2.sentence-1' class='sentence'><a class='index' id=':constructor,explicit_call'></a>A constructor is used to initialize objects of its class type<a class='hidden_link' href='#class.ctor.general-2.sentence-1'>.</a></div> <div id='class.ctor.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.ctor.general-note-1'>1</a></i>:&ensp;<div id='class.ctor.general-2.sentence-2' class='sentence'>Because constructors do not have names, they are never found during
unqualified name lookup; however an explicit type conversion using the functional
notation (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>) will cause a constructor to be called to
initialize an object<a class='hidden_link' href='#class.ctor.general-2.sentence-2'>.</a></div> <div id='class.ctor.general-2.sentence-3' class='sentence'>The syntax looks like an explicit call of the constructor<a class='hidden_link' href='#class.ctor.general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.ctor.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.ctor.general-example-2'>2</a></i>:&ensp;<span class='codeblock'>complex zz <span class='operator'>=</span> complex<span class='parenthesis'>(</span><span class='literal'>1</span>,<span class='literal'>2.3</span><span class='parenthesis'>)</span>;
cprint<span class='parenthesis'>(</span> complex<span class='parenthesis'>(</span><span class='literal'>7.8</span>,<span class='literal'>1.2</span><span class='parenthesis'>)</span> <span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='class.ctor.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.ctor.general-note-2'>2</a></i>:&ensp;<div id='class.ctor.general-2.sentence-4' class='sentence'>For initialization of objects of class type see <a href='class.init' title='11.9&emsp;Initialization'>[class.<span class='shy'></span>init]</a><a class='hidden_link' href='#class.ctor.general-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.ctor.general-3'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1178'>#</a></div><div class='texpara'><div id='class.ctor.general-3.sentence-1' class='sentence'><a class='index' id=':object,unnamed'></a>An object created in this way is unnamed<a class='hidden_link' href='#class.ctor.general-3.sentence-1'>.</a></div> <div id='class.ctor.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.ctor.general-note-3'>3</a></i>:&ensp;<div id='class.ctor.general-3.sentence-2' class='sentence'><a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a> describes the lifetime of temporary objects<a class='hidden_link' href='#class.ctor.general-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.ctor.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.ctor.general-note-4'>4</a></i>:&ensp;<div id='class.ctor.general-3.sentence-3' class='sentence'>Explicit constructor calls do not yield lvalues, see <a href='basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#class.ctor.general-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.ctor.general-4'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1188'>#</a></div><div class='texpara'><div id='class.ctor.general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.ctor.general-note-5'>5</a></i>:&ensp;<div id='class.ctor.general-4.sentence-1' class='sentence'><a class='index' id=':member_function,constructor_and'></a>Some language constructs have special semantics when used during construction;
see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> and <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#class.ctor.general-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.ctor.general-5'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1195'>#</a></div><div class='texpara'><div id='class.ctor.general-5.sentence-1' class='sentence'><a class='index' id=':const,constructor_and'></a><a class='index' id=':volatile,constructor_and'></a>A constructor can be invoked for a
<span id=':const'><span class='texttt'><span class='keyword'>const</span></span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>
or
<span id=':const_'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
object<a class='hidden_link' href='#class.ctor.general-5.sentence-1'>.</a></div> <div id='class.ctor.general-5.sentence-2' class='sentence'><a class='index' id=':restriction,constructor'></a><span id=':const__'><span class='texttt'><span class='keyword'>const</span></span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
semantics (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>) are not applied on an object under construction<a class='hidden_link' href='#class.ctor.general-5.sentence-2'>.</a></div> <div id='class.ctor.general-5.sentence-3' class='sentence'>They come into effect when the constructor for the
most derived object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) ends<a class='hidden_link' href='#class.ctor.general-5.sentence-3'>.</a></div></div></div><div class='para' id='class.ctor.general-6'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1213'>#</a></div><div class='texpara'><div id='class.ctor.general-6.sentence-1' class='sentence'><a class='index' id=':constructor,address_of'></a>The address of a constructor shall not be taken<a class='hidden_link' href='#class.ctor.general-6.sentence-1'>.</a></div> <a class='index' id=':restriction,constructor_'></a><div id='class.ctor.general-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.ctor.general-note-6'>6</a></i>:&ensp;<div id='class.ctor.general-6.sentence-2' class='sentence'>A <span class='texttt'><span class='keyword'>return</span></span> statement in the body of a constructor
cannot specify a return value (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>)<a class='hidden_link' href='#class.ctor.general-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.ctor.general-7'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1222'>#</a></div><div class='texpara'><div id='class.ctor.general-7.sentence-1' class='sentence'>A constructor shall not be a coroutine<a class='hidden_link' href='#class.ctor.general-7.sentence-1'>.</a></div></div></div><div class='para' id='class.ctor.general-8'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1225'>#</a></div><div class='texpara'><div id='class.ctor.general-8.sentence-1' class='sentence'>A constructor shall not have an explicit object parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#class.ctor.general-8.sentence-1'>.</a></div></div></div></div><div id='class.default.ctor' class='section'><h4 ><a class='secnum' href='#class.default.ctor' style='min-width:95pt'>11.4.5.2</a> Default constructors <a class='abbr_ref' href='class.default.ctor'>[class.default.ctor]</a></h4><div class='para' id='class.default.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1230'>#</a></div><div class='texpara'><div id='class.default.ctor-1.sentence-1' class='sentence'><a class='index' id=':constructor,inheritance_of'></a><a class='index' id=':constructor,non-trivial'></a>A <a class='hidden_link' href='#def:constructor,default' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default'><i >default constructor</i></span></a> for a class <span class='texttt'>X</span>
is a constructor of class <span class='texttt'>X</span>
for which each parameter
that is not a function parameter pack
has a default argument
(including the case of a constructor with no parameters)<a class='hidden_link' href='#class.default.ctor-1.sentence-1'>.</a></div> <div id='class.default.ctor-1.sentence-2' class='sentence'><a class='index' id=':implicitly-declared_default_constructor'></a>If there is no user-declared constructor for class
<span class='texttt'>X</span>,
a non-explicit constructor having no parameters is implicitly declared
as defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#class.default.ctor-1.sentence-2'>.</a></div> <div id='class.default.ctor-1.sentence-3' class='sentence'>An implicitly-declared default constructor is an
inline public member of its class<a class='hidden_link' href='#class.default.ctor-1.sentence-3'>.</a></div></div></div><div class='para' id='class.default.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1247'>#</a></div><div class='texpara'><div id='class.default.ctor-2.sentence-1' class='sentence'>A defaulted default constructor for class <span class='texttt'>X</span> is defined as deleted if:
<ul class='itemize'><li id='class.default.ctor-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.1'>(2.1)</a></div><span class='texttt'>X</span> is a union that has a variant member
with a non-trivial default constructor and
no variant member of <span class='texttt'>X</span> has a default member initializer,</li><li id='class.default.ctor-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.2'>(2.2)</a></div><span class='texttt'>X</span> is a non-union class that has a variant member <span class='texttt'>M</span>
with a non-trivial default constructor and
no variant member of the anonymous union containing <span class='texttt'>M</span>
has a default member initializer,</li><li id='class.default.ctor-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.3'>(2.3)</a></div>any non-static data member with no default member initializer ([class.<span class='shy'></span>mem]) is
of reference type,</li><li id='class.default.ctor-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.4'>(2.4)</a></div>any non-variant non-static data member of const-qualified type (or array
thereof) with no <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer___________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>
is not const-default-constructible (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),</li><li id='class.default.ctor-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.5'>(2.5)</a></div><span class='texttt'>X</span> is a union and all of its variant members are of const-qualified
type (or array thereof),</li><li id='class.default.ctor-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.6'>(2.6)</a></div><span class='texttt'>X</span> is a non-union class and all members of any anonymous union member are
of const-qualified type (or array thereof),</li><li id='class.default.ctor-2.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.7'>(2.7)</a></div>any potentially constructed subobject, except for a non-static data member
with a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer____________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>, has
class type <span class='texttt'>M</span> (or array thereof) and either <span class='texttt'>M</span>
has no default constructor or overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)
as applied to find <span class='texttt'>M</span>'s corresponding
constructor results in an ambiguity or in a function that is deleted or
inaccessible from the defaulted default constructor, or</li><li id='class.default.ctor-2.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.8'>(2.8)</a></div>any potentially constructed subobject has a type
with a destructor that is deleted or inaccessible from the defaulted default
constructor<a class='hidden_link' href='#class.default.ctor-2.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='class.default.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1285'>#</a></div><div class='texpara'><div id='class.default.ctor-3.sentence-1' class='sentence'>A default constructor is
<a class='hidden_link' href='#def:constructor,default,trivial' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default,trivial'><i >trivial</i></span></a>
if it is not user-provided and if:
<ul class='itemize'><li id='class.default.ctor-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.1'>(3.1)</a></div>its class has no virtual functions (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) and no virtual base
classes (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='class.default.ctor-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.2'>(3.2)</a></div>no non-static data member of its class has
a default member initializer ([class.<span class='shy'></span>mem]), and</li><li id='class.default.ctor-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.3'>(3.3)</a></div>all the direct base classes of its class have trivial default constructors, and</li><li id='class.default.ctor-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.4'>(3.4)</a></div>for all the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial default constructor<a class='hidden_link' href='#class.default.ctor-3.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.default.ctor-3.sentence-2' class='sentence'>Otherwise, the default constructor is
<a class='hidden_link' href='#def:constructor,default,non-trivial' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default,non-trivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#class.default.ctor-3.sentence-2'>.</a></div></div></div><div class='para' id='class.default.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1308'>#</a></div><div class='texpara'><div id='class.default.ctor-4.sentence-1' class='sentence'>An implicitly-defined (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>) default constructor performs the set of
initializations of the class that would be performed by a user-written default
constructor for that class with no
<a href='class.base.init#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer'><span class='textsf'><i >ctor-initializer</i></span></span></a> (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>) and an empty
<a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement'><span class='textsf'><i >compound-statement</i></span></span></a><a class='hidden_link' href='#class.default.ctor-4.sentence-1'>.</a></div> <div id='class.default.ctor-4.sentence-2' class='sentence'>If that user-written default constructor would be ill-formed,
the program is ill-formed<a class='hidden_link' href='#class.default.ctor-4.sentence-2'>.</a></div> <div id='class.default.ctor-4.sentence-3' class='sentence'>If that user-written default constructor would be constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>),
the implicitly-defined
default constructor is <span id=':constexpr__'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#class.default.ctor-4.sentence-3'>.</a></div> <div id='class.default.ctor-4.sentence-4' class='sentence'>Before the defaulted default constructor for a class is
implicitly defined,
all the non-user-provided default constructors for its base classes and
its non-static data members are implicitly defined<a class='hidden_link' href='#class.default.ctor-4.sentence-4'>.</a></div> <div id='class.default.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.default.ctor-note-1'>1</a></i>:&ensp;<div id='class.default.ctor-4.sentence-5' class='sentence'>An implicitly-declared default constructor has an
exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#class.default.ctor-4.sentence-5'>.</a></div> <div id='class.default.ctor-4.sentence-6' class='sentence'>An explicitly-defaulted definition might have an
implicit exception specification, see <a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a><a class='hidden_link' href='#class.default.ctor-4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.default.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1330'>#</a></div><div class='texpara'><div id='class.default.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.default.ctor-note-2'>2</a></i>:&ensp;<div id='class.default.ctor-5.sentence-1' class='sentence'><a class='index' id=':constructor,implicitly_invoked'></a>A default constructor is implicitly invoked to initialize
a class object when no initializer is specified (<a href='dcl.init.general' title='9.4.1&emsp;General'>[dcl.<span class='shy'></span>init.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#class.default.ctor-5.sentence-1'>.</a></div> <div id='class.default.ctor-5.sentence-2' class='sentence'>Such a default constructor is required to be accessible (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#class.default.ctor-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.default.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1338'>#</a></div><div class='texpara'><div id='class.default.ctor-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.default.ctor-note-3'>3</a></i>:&ensp;<div id='class.default.ctor-6.sentence-1' class='sentence'><a class='index' id=':order_of_execution,base_class_constructor'></a><a class='index' id=':order_of_execution,member_constructor'></a><a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> describes the order in which constructors for base
classes and non-static data members are called and
describes how arguments can be specified for the calls to these constructors<a class='hidden_link' href='#class.default.ctor-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.copy.ctor' class='section'><h4 ><a class='secnum' href='#class.copy.ctor' style='min-width:95pt'>11.4.5.3</a> Copy/move constructors <a class='abbr_ref' href='class.copy.ctor'>[class.copy.ctor]</a></h4><div class='para' id='class.copy.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1349'>#</a></div><div class='texpara'><div id='class.copy.ctor-1.sentence-1' class='sentence'><a class='index' id=':constructor,copy_'></a><a class='index' id=':constructor,move_'></a>A non-template constructor for class
<span class='texttt'>X</span>
is
a
copy
constructor if its first parameter is of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>
or
<span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>,
and either there are no other parameters
or else all other parameters have default arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#class.copy.ctor-1.sentence-1'>.</a></div> <div id='class.copy.ctor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-1'>1</a></i>:&ensp;<div id='class.copy.ctor-1.sentence-2' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span>,<span class='keyword'>int</span><span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span></span>
are copy constructors<a class='hidden_link' href='#class.copy.ctor-1.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span>, <span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>X(int);</span></span>
X b<span class='parenthesis'>(</span>a, <span class='literal'>0</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
X c <span class='operator'>=</span> b;            <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.copy.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1384'>#</a></div><div class='texpara'><div id='class.copy.ctor-2.sentence-1' class='sentence'>A non-template constructor for class <span class='texttt'>X</span> is a move constructor if its
first parameter is of type <span class='texttt'>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, and either there are
no other parameters or else all other parameters have default
arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#class.copy.ctor-2.sentence-1'>.</a></div> <div id='class.copy.ctor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-2'>2</a></i>:&ensp;<div id='class.copy.ctor-2.sentence-2' class='sentence'><span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> is a move constructor<a class='hidden_link' href='#class.copy.ctor-2.sentence-2'>.</a></div> <span class='codeblock'><span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  Y<span class='parenthesis'>(</span><span class='keyword'>const</span> Y<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> Y f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
Y d<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(Y&amp;&amp;)</span></span>
Y e <span class='operator'>=</span> d;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(const Y&amp;)</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.copy.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1403'>#</a></div><div class='texpara'><div id='class.copy.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-1'>1</a></i>:&ensp;<div id='class.copy.ctor-3.sentence-1' class='sentence'>All forms of copy/move constructor can be declared for a class<a class='hidden_link' href='#class.copy.ctor-3.sentence-1'>.</a></div> <div id='class.copy.ctor-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK, but possibly not sensible</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.copy.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1418'>#</a></div><div class='texpara'><div id='class.copy.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-2'>2</a></i>:&ensp;<div id='class.copy.ctor-4.sentence-1' class='sentence'>If a class
<span class='texttt'>X</span>
only has a copy constructor with a parameter of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
an initializer of type
<span id=':const___'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'>X</span>
or
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>X</span>
cannot initialize an object of type
<span class='mathit'>cv</span> <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.ctor-4.sentence-1'>.</a></div> <div id='class.copy.ctor-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// default constructor</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// copy constructor with a non-const parameter</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> X cx;
X x <span class='operator'>=</span> cx;           <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;X(X&amp;)</span> cannot copy <span class='tcode_in_codeblock'>cx</span> into <span class='tcode_in_codeblock'>x</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1444'>#</a></div><div class='texpara'><div id='class.copy.ctor-5.sentence-1' class='sentence'>A declaration of a constructor for a class
<span class='texttt'>X</span>
is ill-formed if its first parameter is of type
<span class='mathit'>cv</span> <span class='texttt'>X</span>
and either there are no other parameters or else all other parameters have
default arguments<a class='hidden_link' href='#class.copy.ctor-5.sentence-1'>.</a></div> <div id='class.copy.ctor-5.sentence-2' class='sentence'>A member function template is never instantiated to
produce such a constructor signature<a class='hidden_link' href='#class.copy.ctor-5.sentence-2'>.</a></div> <div id='class.copy.ctor-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> S<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

S g;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  S a<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span>;           <span class='comment'>// does not instantiate the member template to produce <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S&lt;S&gt;(S)</span>;</span>
                    <span class='comment'>// uses the implicitly declared copy constructor</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.copy.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1469'>#</a></div><div class='texpara'><div id='class.copy.ctor-6.sentence-1' class='sentence'>If the class definition does not explicitly declare a copy constructor,
a non-explicit one is declared <a class='hidden_link' href='#def:constructor,copy,implicitly_declared' title='11.4.5.3&emsp;Copy/move constructors&emsp;[class.copy.ctor]'><span id='def:constructor,copy,implicitly_declared'><i >implicitly</i></span></a><a class='hidden_link' href='#class.copy.ctor-6.sentence-1'>.</a></div> <div id='class.copy.ctor-6.sentence-2' class='sentence'>If the class definition declares a move
constructor or move assignment operator, the implicitly declared copy
constructor is defined as deleted; otherwise, it is
defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#class.copy.ctor-6.sentence-2'>.</a></div> <div id='class.copy.ctor-6.sentence-3' class='sentence'>The latter case is deprecated if the class has a user-declared copy assignment
operator or a user-declared destructor  (<a href='depr.impldec' title='D.8&emsp;Implicit declaration of copy functions'>[depr.<span class='shy'></span>impldec]</a>)<a class='hidden_link' href='#class.copy.ctor-6.sentence-3'>.</a></div></div></div><div class='para' id='class.copy.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1479'>#</a></div><div class='texpara'><div id='class.copy.ctor-7.sentence-1' class='sentence'>The implicitly-declared copy constructor for a class
<span class='texttt'>X</span>
will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span>
if each potentially constructed subobject of a class type
<span class='texttt'>M</span>
(or array thereof)
has a copy constructor whose first parameter is of type
<span id=':const____'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span>
or
<span id=':const_____'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.ctor-7.sentence-1'>.</a><a class='footnoteref' href='#footnote-94' id='footnoteref-94' title='This implies that the reference parameter of the implicitly-declared copy constructor cannot bind to a volatile lvalue; see [diff.class].'>94</a></div> <div id='class.copy.ctor-7.sentence-2' class='sentence'>
Otherwise, the implicitly-declared copy constructor will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='class.copy.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1508'>#</a></div><div class='texpara'><div id='class.copy.ctor-8.sentence-1' class='sentence'><a class='index' id=':constructor,move,implicitly_declared'></a>If the definition of a class <span class='texttt'>X</span> does not explicitly declare
a move constructor, a non-explicit one will be
implicitly declared as defaulted if and only if
<ul class='itemize'><li id='class.copy.ctor-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.1'>(8.1)</a></div><span class='texttt'>X</span> does not have a user-declared copy constructor,</li><li id='class.copy.ctor-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.2'>(8.2)</a></div><span class='texttt'>X</span> does not have a user-declared copy assignment operator,</li><li id='class.copy.ctor-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.3'>(8.3)</a></div><span class='texttt'>X</span> does not have a user-declared move assignment operator, and</li><li id='class.copy.ctor-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.4'>(8.4)</a></div><span class='texttt'>X</span> does not have a user-declared destructor<a class='hidden_link' href='#class.copy.ctor-8.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.ctor-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-3'>3</a></i>:&ensp;<div id='class.copy.ctor-8.sentence-2' class='sentence'>When the move constructor is not implicitly declared or explicitly supplied,
expressions that otherwise would have invoked the move constructor might instead invoke
a copy constructor<a class='hidden_link' href='#class.copy.ctor-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1533'>#</a></div><div class='texpara'><div id='class.copy.ctor-9.sentence-1' class='sentence'>The implicitly-declared move constructor for class <span class='texttt'>X</span> will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='class.copy.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1539'>#</a></div><div class='texpara'><div id='class.copy.ctor-10.sentence-1' class='sentence'>An implicitly-declared copy/move constructor is an
inline public member of its class<a class='hidden_link' href='#class.copy.ctor-10.sentence-1'>.</a></div> <div id='class.copy.ctor-10.sentence-2' class='sentence'>A defaulted copy/&#x200b;move constructor for a class
  <span class='texttt'>X</span> is defined as deleted (<a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>delete]</a>) if <span class='texttt'>X</span> has:
<ul class='itemize'><li id='class.copy.ctor-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.1'>(10.1)</a></div>a potentially constructed subobject of type
  <span class='texttt'>M</span> (or array thereof) that cannot be copied/moved because
  overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>), as applied to find
  <span class='texttt'>M</span>'s
  corresponding constructor, results in an ambiguity or
  a function that is deleted or inaccessible from the
  defaulted constructor,</li><li id='class.copy.ctor-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.2'>(10.2)</a></div>a variant member whose corresponding constructor
  as selected by overload resolution is non-trivial,</li><li id='class.copy.ctor-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.3'>(10.3)</a></div>any potentially constructed subobject of a type
  with a destructor that is deleted or inaccessible from the defaulted
  constructor, or,</li><li id='class.copy.ctor-10.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.4'>(10.4)</a></div>for the copy constructor, a non-static data member of rvalue reference type<a class='hidden_link' href='#class.copy.ctor-10.sentence-2'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.ctor-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-4'>4</a></i>:&ensp;<div id='class.copy.ctor-10.sentence-3' class='sentence'>A defaulted move constructor that is defined as deleted is ignored by overload
resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#class.copy.ctor-10.sentence-3'>.</a></div> <div id='class.copy.ctor-10.sentence-4' class='sentence'>Such a constructor would otherwise interfere with initialization from
an rvalue which can use the copy constructor instead<a class='hidden_link' href='#class.copy.ctor-10.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1570'>#</a></div><div class='texpara'><div id='class.copy.ctor-11.sentence-1' class='sentence'><a class='index' id=':constructor,copy,trivial'></a><a class='index' id=':constructor,move,trivial'></a>A copy/move constructor for class
<span class='texttt'>X</span>
is
trivial
if it is not user-provided and if:
<ul class='itemize'><li id='class.copy.ctor-11.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-11.1'>(11.1)</a></div>class
<span class='texttt'>X</span>
has no virtual functions (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
and no virtual base classes (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='class.copy.ctor-11.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-11.2'>(11.2)</a></div>the constructor selected to copy/move each direct base class subobject is trivial, and</li><li id='class.copy.ctor-11.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-11.3'>(11.3)</a></div>for each non-static data member of
<span class='texttt'>X</span>
that is of class type (or array thereof),
the constructor selected to copy/move that member is trivial;</li></ul></div></div><div class='texpara'><div id='class.copy.ctor-11.sentence-2' class='sentence'><a class='index' id=':constructor,move,non-trivial'></a>otherwise the copy/move constructor is
<a class='hidden_link' href='#def:constructor,copy,nontrivial' title='11.4.5.3&emsp;Copy/move constructors&emsp;[class.copy.ctor]'><span id='def:constructor,copy,nontrivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#class.copy.ctor-11.sentence-2'>.</a></div></div></div><div class='para' id='class.copy.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1599'>#</a></div><div class='texpara'><div id='class.copy.ctor-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-5'>5</a></i>:&ensp;<div id='class.copy.ctor-12.sentence-1' class='sentence'>The copy/move constructor is implicitly defined even if the implementation elided
its odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>, <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#class.copy.ctor-12.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.copy.ctor-12.sentence-2' class='sentence'>
If an implicitly-defined (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>) constructor would be constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>),
the implicitly-defined
constructor is <span id=':constexpr___'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#class.copy.ctor-12.sentence-2'>.</a></div></div></div><div class='para' id='class.copy.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1608'>#</a></div><div class='texpara'><div id='class.copy.ctor-13.sentence-1' class='sentence'>Before the defaulted copy/move constructor for a class is
implicitly defined,
all non-user-provided copy/move constructors for its
potentially constructed subobjects
are implicitly defined<a class='hidden_link' href='#class.copy.ctor-13.sentence-1'>.</a></div> <div id='class.copy.ctor-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-6'>6</a></i>:&ensp;<div id='class.copy.ctor-13.sentence-2' class='sentence'>An implicitly-declared copy/move constructor has an
implied exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#class.copy.ctor-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1619'>#</a></div><div class='texpara'><div id='class.copy.ctor-14.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a non-union class
<span class='texttt'>X</span>
performs a memberwise copy/move of its bases and members<a class='hidden_link' href='#class.copy.ctor-14.sentence-1'>.</a></div> <div id='class.copy.ctor-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-7'>7</a></i>:&ensp;<div id='class.copy.ctor-14.sentence-2' class='sentence'>Default member initializers of non-static data members are ignored<a class='hidden_link' href='#class.copy.ctor-14.sentence-2'>.</a></div> <div id='class.copy.ctor-14.sentence-3' class='sentence'>See also the example in <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a><a class='hidden_link' href='#class.copy.ctor-14.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.copy.ctor-14.sentence-4' class='sentence'>
The order of initialization is the same as the order of initialization of bases
and members in a user-defined constructor (see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.copy.ctor-14.sentence-4'>.</a></div> <div id='class.copy.ctor-14.sentence-5' class='sentence'>Let <span class='texttt'>x</span> be either the parameter of the constructor or, for the move constructor, an
xvalue referring to the parameter<a class='hidden_link' href='#class.copy.ctor-14.sentence-5'>.</a></div> <div id='class.copy.ctor-14.sentence-6' class='sentence'>Each base or non-static data member
is copied/moved in the manner appropriate to its type:
<ul class='itemize'><li id='class.copy.ctor-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-14.1'>(14.1)</a></div>if the member is an array, each element is
direct-initialized with the corresponding subobject of <span class='texttt'>x</span>;</li><li id='class.copy.ctor-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-14.2'>(14.2)</a></div>if a member <span class='texttt'>m</span> has rvalue reference type <span class='texttt'>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, it is direct-initialized with
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>m<span class='parenthesis'>)</span></span>;</li><li id='class.copy.ctor-14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-14.3'>(14.3)</a></div>otherwise, the base or member is direct-initialized with the corresponding base or member of <span class='texttt'>x</span><a class='hidden_link' href='#class.copy.ctor-14.sentence-6'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.ctor-14.sentence-7' class='sentence'><a class='index' id=':initialization,virtual_base_class'></a>Virtual base class subobjects shall be initialized only once by
the implicitly-defined copy/move constructor (see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.copy.ctor-14.sentence-7'>.</a></div></div></div><div class='para' id='class.copy.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1649'>#</a></div><div class='texpara'><div id='class.copy.ctor-15.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a union
<span class='texttt'>X</span> copies the object representation (<a href='basic.types.general#term.object.representation' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>) of <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.ctor-15.sentence-1'>.</a></div> <div id='class.copy.ctor-15.sentence-2' class='sentence'>For each object nested within (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)
the object that is the source of the copy,
a corresponding object <span class='math'><span class='mathalpha'>o</span></span> nested within the destination
is identified (if the object is a subobject) or created (otherwise),
and the lifetime of <span class='math'><span class='mathalpha'>o</span></span> begins before the copy is performed<a class='hidden_link' href='#class.copy.ctor-15.sentence-2'>.</a></div> 
</div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-94'><div class='texpara'><a class='footnotenum' href='#footnote-94'>94)</a><a class='footnoteBacklink' href='#footnoteref-94'>94)</a> <div id='footnote-94.sentence-1' class='sentence'>This implies that the reference parameter of the
implicitly-declared copy constructor
cannot bind to a
<span class='texttt'><span class='keyword'>volatile</span></span>
lvalue; see <a href='diff.class' title='C.6.7&emsp;[class]: classes'>[diff.<span class='shy'></span>class]</a><a class='hidden_link' href='#footnote-94.sentence-1'>.</a></div></div></div></div></div><div id='class.copy.assign' class='section'><h3 ><a class='secnum' href='#class.copy.assign' style='min-width:80pt'>11.4.6</a> Copy/move assignment operator <a class='abbr_ref' href='class.copy.assign'>[class.copy.assign]</a></h3><div class='para' id='class.copy.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1662'>#</a></div><div class='texpara'><div id='class.copy.assign-1.sentence-1' class='sentence'><a class='index' id=':assignment_operator,copy_'></a><a class='index' id=':assignment_operator,move_'></a>A user-declared <a class='hidden_link' href='#def:copy' id='def:copy'><i>copy</i></a> assignment operator <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span></span> is a
non-static non-template member function of class <span class='texttt'>X</span> with exactly one
non-object parameter of type <span class='texttt'>X</span>, <span class='texttt'>X<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.assign-1.sentence-1'>.</a><a class='footnoteref' href='#footnote-95' id='footnoteref-95' title='Because a template assignment operator or an assignment operator taking an rvalue reference parameter is never a copy assignment operator, the presence of such an assignment operator does not suppress the implicit declaration of a copy assignment operator. Such assignment operators participate in overload resolution with other assignment operators, including copy assignment operators, and, if selected, will be used to assign an object.'>95</a></div> <div id='class.copy.assign-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-1'>1</a></i>:&ensp;<div id='class.copy.assign-1.sentence-2' class='sentence'>An overloaded assignment operator must be declared to have only one parameter;
see <a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a><a class='hidden_link' href='#class.copy.assign-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.copy.assign-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-2'>2</a></i>:&ensp;<div id='class.copy.assign-1.sentence-3' class='sentence'>More than one form of copy assignment operator can be declared for a class<a class='hidden_link' href='#class.copy.assign-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.copy.assign-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-3'>3</a></i>:&ensp;<div id='class.copy.assign-1.sentence-4' class='sentence'>If a class
<span class='texttt'>X</span>
only has a copy assignment operator with a parameter of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
an expression of type const
<span class='texttt'>X</span>
cannot be assigned to an object of type
<span class='texttt'>X</span><a class='hidden_link' href='#class.copy.assign-1.sentence-4'>.</a></div> <div id='class.copy.assign-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.assign-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  X<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> X cx;
X x;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  x <span class='operator'>=</span> cx;           <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;operator=(X&amp;)</span> cannot assign <span class='tcode_in_codeblock'>cx</span> into <span class='tcode_in_codeblock'>x</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1714'>#</a></div><div class='texpara'><div id='class.copy.assign-2.sentence-1' class='sentence'>If the class definition does not explicitly declare a copy assignment operator,
one is declared <a class='hidden_link' href='#def:assignment_operator,copy,implicitly_declared' title='11.4.6&emsp;Copy/move assignment operator&emsp;[class.copy.assign]'><span id='def:assignment_operator,copy,implicitly_declared'><i >implicitly</i></span></a><a class='hidden_link' href='#class.copy.assign-2.sentence-1'>.</a></div> <div id='class.copy.assign-2.sentence-2' class='sentence'>If the class definition declares a move
constructor or move assignment operator, the implicitly declared copy
assignment operator is defined as deleted; otherwise, it is
defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#class.copy.assign-2.sentence-2'>.</a></div> <div id='class.copy.assign-2.sentence-3' class='sentence'>The latter case is deprecated if the class has a user-declared copy constructor
or a user-declared destructor  (<a href='depr.impldec' title='D.8&emsp;Implicit declaration of copy functions'>[depr.<span class='shy'></span>impldec]</a>)<a class='hidden_link' href='#class.copy.assign-2.sentence-3'>.</a></div> <div id='class.copy.assign-2.sentence-4' class='sentence'>The implicitly-declared copy assignment operator for a class
<span class='texttt'>X</span>
will have the form
<span class='codeblock'>X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span>
if
<ul class='itemize'><li id='class.copy.assign-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-2.1'>(2.1)</a></div>each direct base class <span class='texttt'>B</span> of <span class='texttt'>X</span>
has a copy assignment operator whose parameter is of type
<span class='texttt'><span class='keyword'>const</span> B<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> B<span class='operator'>&amp;</span></span>, or <span class='texttt'>B</span>, and</li><li id='class.copy.assign-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-2.2'>(2.2)</a></div>for all the non-static data members of <span class='texttt'>X</span>
that are of a class type <span class='texttt'>M</span> (or array thereof),
each such class type has a copy assignment operator whose parameter is of type
<span class='texttt'><span class='keyword'>const</span> M<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> M<span class='operator'>&amp;</span></span>,
or <span class='texttt'>M</span><a class='hidden_link' href='#class.copy.assign-2.sentence-4'>.</a><a class='footnoteref' href='#footnote-96' id='footnoteref-96' title='This implies that the reference parameter of the implicitly-declared copy assignment operator cannot bind to a volatile lvalue; see [diff.class].'>96</a></li></ul></div></div><div class='texpara'><div id='class.copy.assign-2.sentence-5' class='sentence'>Otherwise, the implicitly-declared copy assignment operator
will have the form
<span class='codeblock'>X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='class.copy.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1754'>#</a></div><div class='texpara'><div id='class.copy.assign-3.sentence-1' class='sentence'>A user-declared move assignment operator <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span></span> is
a non-static non-template member function of class <span class='texttt'>X</span> with exactly
one non-object parameter of type <span class='texttt'>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or
<span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.assign-3.sentence-1'>.</a></div> <div id='class.copy.assign-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-4'>4</a></i>:&ensp;<div id='class.copy.assign-3.sentence-2' class='sentence'>An overloaded assignment operator must be
declared to have only one parameter; see <a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a><a class='hidden_link' href='#class.copy.assign-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> 
<div id='class.copy.assign-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-5'>5</a></i>:&ensp;<div id='class.copy.assign-3.sentence-3' class='sentence'>More than one form of move assignment operator can be declared for a class<a class='hidden_link' href='#class.copy.assign-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1768'>#</a></div><div class='texpara'><div id='class.copy.assign-4.sentence-1' class='sentence'><a class='index' id=':assignment_operator,move,implicitly_declared'></a>If the definition of a class <span class='texttt'>X</span> does not explicitly declare a
move assignment operator, one
will be implicitly declared as defaulted if and only if
<ul class='itemize'><li id='class.copy.assign-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-4.1'>(4.1)</a></div><span class='texttt'>X</span> does not have a user-declared copy constructor,</li><li id='class.copy.assign-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-4.2'>(4.2)</a></div><span class='texttt'>X</span> does not have a user-declared move constructor,</li><li id='class.copy.assign-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-4.3'>(4.3)</a></div><span class='texttt'>X</span> does not have a user-declared copy assignment operator, and</li><li id='class.copy.assign-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-4.4'>(4.4)</a></div><span class='texttt'>X</span> does not have a user-declared destructor<a class='hidden_link' href='#class.copy.assign-4.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.assign-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.assign-example-2'>2</a></i>:&ensp;<div id='class.copy.assign-4.sentence-2' class='sentence'>The class definition
<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
<span class='curlybracket'>}</span>;
</span>
will not have a default move assignment operator implicitly declared because the
copy assignment operator has been user-declared<a class='hidden_link' href='#class.copy.assign-4.sentence-2'>.</a></div> <div id='class.copy.assign-4.sentence-3' class='sentence'>The move assignment operator may
be explicitly defaulted<a class='hidden_link' href='#class.copy.assign-4.sentence-3'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>S<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.copy.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1808'>#</a></div><div class='texpara'><div id='class.copy.assign-5.sentence-1' class='sentence'>The implicitly-declared move assignment operator for a class <span class='texttt'>X</span> will have the form
<span class='codeblock'>X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='class.copy.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1814'>#</a></div><div class='texpara'><div id='class.copy.assign-6.sentence-1' class='sentence'>The implicitly-declared copy/move assignment operator for class
<span class='texttt'>X</span>
has the return type
<span class='texttt'>X<span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.assign-6.sentence-1'>.</a></div> <div id='class.copy.assign-6.sentence-2' class='sentence'>An implicitly-declared copy/move assignment operator is an
inline public member of its class<a class='hidden_link' href='#class.copy.assign-6.sentence-2'>.</a></div></div></div><div class='para' id='class.copy.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1822'>#</a></div><div class='texpara'><div id='class.copy.assign-7.sentence-1' class='sentence'>A defaulted copy/move assignment operator for
class <span class='texttt'>X</span> is defined as deleted if <span class='texttt'>X</span> has:
<ul class='itemize'><li id='class.copy.assign-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-7.1'>(7.1)</a></div>a variant member with a non-trivial corresponding assignment operator and
  <span class='texttt'>X</span> is a union-like class, or</li><li id='class.copy.assign-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-7.2'>(7.2)</a></div>a non-static data member of <span id=':const______'><span class='texttt'><span class='keyword'>const</span></span></span> non-class
  type (or array thereof), or</li><li id='class.copy.assign-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-7.3'>(7.3)</a></div>a non-static data member of reference type, or</li><li id='class.copy.assign-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-7.4'>(7.4)</a></div>a direct non-static data member of class type <span class='texttt'>M</span>
  (or array thereof) or a direct base class <span class='texttt'>M</span>
  that cannot be copied/moved because overload resolution
  (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>), as applied to find <span class='texttt'>M</span>'s corresponding
  assignment operator, results in an ambiguity or
  a function that is deleted or inaccessible from the
  defaulted assignment operator<a class='hidden_link' href='#class.copy.assign-7.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.assign-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-6'>6</a></i>:&ensp;<div id='class.copy.assign-7.sentence-2' class='sentence'>A defaulted move assignment operator that is defined as deleted is ignored by
overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#class.copy.assign-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1848'>#</a></div><div class='texpara'><div id='class.copy.assign-8.sentence-1' class='sentence'><a class='index' id=':assignment_operator,copy,hidden'></a><a class='index' id=':assignment_operator,move,hidden'></a>Because a copy/move assignment operator is implicitly declared for a class
if not declared by the user,
a base class copy/move assignment operator is always hidden
by the corresponding assignment operator of a derived class (<a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a>)<a class='hidden_link' href='#class.copy.assign-8.sentence-1'>.</a></div> <div id='class.copy.assign-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-7'>7</a></i>:&ensp;<div id='class.copy.assign-8.sentence-2' class='sentence'>A <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration__'><span class='textsf'><i >using-declaration</i></span></span></a> in a derived class <span class='texttt'>C</span>
that names an assignment operator from a base class
never suppresses the implicit declaration of
an assignment operator of <span class='texttt'>C</span>,
even if the base class assignment operator would be
a copy or move assignment operator
if declared as a member of <span class='texttt'>C</span><a class='hidden_link' href='#class.copy.assign-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1865'>#</a></div><div class='texpara'><div id='class.copy.assign-9.sentence-1' class='sentence'><a class='index' id=':assignment_operator,copy,trivial'></a><a class='index' id=':assignment_operator,move,trivial'></a>A copy/move assignment operator for class
<span class='texttt'>X</span>
is
trivial
if it is not user-provided and if:
<ul class='itemize'><li id='class.copy.assign-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-9.1'>(9.1)</a></div>class
<span class='texttt'>X</span>
has no virtual functions (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
and no virtual base classes (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='class.copy.assign-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-9.2'>(9.2)</a></div>the assignment operator selected to copy/move each direct
base class subobject is trivial, and</li><li id='class.copy.assign-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-9.3'>(9.3)</a></div>for each non-static data member of
<span class='texttt'>X</span>
that is of class type (or array thereof),
the assignment operator selected to copy/move that member is trivial;</li></ul>
<a class='index' id=':assignment_operator,move,non-trivial'></a>otherwise the copy/move assignment operator is
<a class='hidden_link' href='#def:assignment_operator,copy,non-trivial' title='11.4.6&emsp;Copy/move assignment operator&emsp;[class.copy.assign]'><span id='def:assignment_operator,copy,non-trivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#class.copy.assign-9.sentence-1'>.</a></div></div></div><div class='para' id='class.copy.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1893'>#</a></div><div class='texpara'><div id='class.copy.assign-10.sentence-1' class='sentence'>An implicitly-defined (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>) copy/move assignment operator is <span id=':constexpr____'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#class.copy.assign-10.sentence-1'>.</a></div></div></div><div class='para' id='class.copy.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1896'>#</a></div><div class='texpara'><div id='class.copy.assign-11.sentence-1' class='sentence'>Before the defaulted copy/move assignment operator for a class is
implicitly defined,
all non-user-provided copy/move assignment operators for
its direct base classes and
its non-static data members are implicitly defined<a class='hidden_link' href='#class.copy.assign-11.sentence-1'>.</a></div> <div id='class.copy.assign-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.assign-note-8'>8</a></i>:&ensp;<div id='class.copy.assign-11.sentence-2' class='sentence'>An implicitly-declared copy/move assignment operator has an
implied exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#class.copy.assign-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1907'>#</a></div><div class='texpara'><div id='class.copy.assign-12.sentence-1' class='sentence'>The implicitly-defined copy/move assignment operator for a
non-union class <span class='texttt'>X</span> performs memberwise copy/move assignment of its subobjects<a class='hidden_link' href='#class.copy.assign-12.sentence-1'>.</a></div> <div id='class.copy.assign-12.sentence-2' class='sentence'>The direct
base classes of <span class='texttt'>X</span> are assigned first, in the order of their declaration in the
<a href='class.derived.general#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list'><span class='textsf'><i >base-specifier-list</i></span></span></a>, and then the immediate non-static data members of
<span class='texttt'>X</span> are assigned, in the order in which they were declared in the class
definition<a class='hidden_link' href='#class.copy.assign-12.sentence-2'>.</a></div> <div id='class.copy.assign-12.sentence-3' class='sentence'>Let <span class='texttt'>x</span> be either the parameter of the function or, for the move operator, an
xvalue referring to the parameter<a class='hidden_link' href='#class.copy.assign-12.sentence-3'>.</a></div> <div id='class.copy.assign-12.sentence-4' class='sentence'>Each subobject is assigned in the manner appropriate to its type:
<ul class='itemize'><li id='class.copy.assign-12.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-12.1'>(12.1)</a></div>if the subobject is of class type,
as if by a call to <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span></span> with the subobject as the object expression
and the corresponding subobject of <span class='texttt'>x</span> as a single function argument
(as if by explicit qualification; that is,
ignoring any possible virtual overriding functions in more derived classes);</li><li id='class.copy.assign-12.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-12.2'>(12.2)</a></div>if the subobject is an array, each element is assigned,
in the manner appropriate to the element type;</li><li id='class.copy.assign-12.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.assign-12.3'>(12.3)</a></div>if the subobject is of scalar type,
the built-in assignment operator is used<a class='hidden_link' href='#class.copy.assign-12.sentence-4'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.assign-12.sentence-5' class='sentence'><a class='index' id=':assignment_operator,copy,virtual_bases_and'></a>It is unspecified whether subobjects representing virtual base classes
are assigned more than once by the implicitly-defined copy/move assignment
operator<a class='hidden_link' href='#class.copy.assign-12.sentence-5'>.</a></div> <div id='class.copy.assign-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.assign-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> B, A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='class.copy.assign-12.sentence-6' class='sentence'>It is unspecified whether the virtual base class subobject
<span class='texttt'>V</span>
is assigned twice by the implicitly-defined copy/move assignment operator for
<span class='texttt'>C</span><a class='hidden_link' href='#class.copy.assign-12.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.copy.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1950'>#</a></div><div class='texpara'><div id='class.copy.assign-13.sentence-1' class='sentence'>The implicitly-defined copy/move assignment operator for a
union <span class='texttt'>X</span> copies the object representation (<a href='basic.types.general#term.object.representation' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>) of <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.assign-13.sentence-1'>.</a></div> <div id='class.copy.assign-13.sentence-2' class='sentence'>If the source and destination of the assignment are not the same object, then
for each object nested within (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)
the object that is the source of the copy,
a corresponding object <span class='math'><span class='mathalpha'>o</span></span> nested within the destination is created,
and the lifetime of <span class='math'><span class='mathalpha'>o</span></span> begins before the copy is performed<a class='hidden_link' href='#class.copy.assign-13.sentence-2'>.</a></div></div></div><div class='para' id='class.copy.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1959'>#</a></div><div class='texpara'><div id='class.copy.assign-14.sentence-1' class='sentence'>The implicitly-defined copy/move assignment operator for a class
returns the object for which the assignment operator is invoked,
that is, the object assigned to<a class='hidden_link' href='#class.copy.assign-14.sentence-1'>.</a></div> 
</div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-95'><div class='texpara'><a class='footnotenum' href='#footnote-95'>95)</a><a class='footnoteBacklink' href='#footnoteref-95'>95)</a> <div id='footnote-95.sentence-1' class='sentence'>Because
a template assignment operator or an assignment operator
taking an rvalue reference parameter is never a copy assignment operator,
the presence of such an assignment operator does not suppress the
implicit declaration of a copy assignment operator<a class='hidden_link' href='#footnote-95.sentence-1'>.</a></div> <div id='footnote-95.sentence-2' class='sentence'>Such assignment operators
participate in overload resolution with other assignment operators, including
copy assignment operators, and, if selected, will be used to assign an object<a class='hidden_link' href='#footnote-95.sentence-2'>.</a></div></div></div><div class='footnote' id='footnote-96'><div class='texpara'><a class='footnotenum' href='#footnote-96'>96)</a><a class='footnoteBacklink' href='#footnoteref-96'>96)</a> <div id='footnote-96.sentence-1' class='sentence'>This implies that the reference parameter of the
implicitly-declared copy assignment operator cannot bind to a
<span class='texttt'><span class='keyword'>volatile</span></span> lvalue; see <a href='diff.class' title='C.6.7&emsp;[class]: classes'>[diff.<span class='shy'></span>class]</a><a class='hidden_link' href='#footnote-96.sentence-1'>.</a></div></div></div></div><div id='class.dtor' class='section'><h3 ><a class='secnum' href='#class.dtor' style='min-width:80pt'>11.4.7</a> Destructors <a class='abbr_ref' href='class.dtor'>[class.dtor]</a></h3><div class='texpara'><a class='index' id=':destructor'></a></div><div class='para' id='class.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L1969'>#</a></div><div class='texpara'><div id='class.dtor-1.sentence-1' class='sentence'>A declaration whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id_'><span class='textsf'><i >declarator-id</i></span></span></a>
has an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><i >unqualified-id</i></span></span></a> that begins with a <span class='texttt'><span class='operator'>~</span></span>
declares a <a class='hidden_link' href='#def:destructor,prospective' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor,prospective'><i >prospective destructor</i></span></a>;
its <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator_____'><span class='textsf'><i >declarator</i></span></span></a> shall be a function declarator (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the form
<div class='bnf'>
<a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator__'><span class='textsf'><i >ptr-declarator</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier__'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_____'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
where the <a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator___'><span class='textsf'><i >ptr-declarator</i></span></span></a> consists solely of an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_________'><span class='textsf'><i >id-expression</i></span></span></a>, an optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq______'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>,
and optional surrounding parentheses, and the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__________'><span class='textsf'><i >id-expression</i></span></span></a> has
one of the following forms:
<ul class='itemize'><li id='class.dtor-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-1.1'>(1.1)</a></div>in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_______'><span class='textsf'><i >member-declaration</i></span></span></a> that belongs to the
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_________'><span class='textsf'><i >member-specification</i></span></span></a> of a class or class template
but is not a friend
declaration (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>), the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___________'><span class='textsf'><i >id-expression</i></span></span></a> is
<span class='texttt'><span class='operator'>~</span></span><a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name'><span class='textsf'><i >class-name</i></span></span></a> and the <a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name_'><span class='textsf'><i >class-name</i></span></span></a> is the
injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of the immediately-enclosing entity or</li><li id='class.dtor-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-1.2'>(1.2)</a></div>otherwise, the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____________'><span class='textsf'><i >id-expression</i></span></span></a> is <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
<span class='texttt'><span class='operator'>~</span></span><a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name__'><span class='textsf'><i >class-name</i></span></span></a> and the <a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name___'><span class='textsf'><i >class-name</i></span></span></a>
is the injected-class-name of the
class nominated by the <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#class.dtor-1.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.dtor-1.sentence-2' class='sentence'>A prospective destructor shall take no arguments (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#class.dtor-1.sentence-2'>.</a></div> <div id='class.dtor-1.sentence-3' class='sentence'>Each <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier_'><span class='textsf'><i >decl-specifier</i></span></span></a> of the <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq____'><span class='textsf'><i >decl-specifier-seq</i></span></span></a>
of a prospective destructor declaration (if any)
shall be
<span id=':friend_'><span class='texttt'><span class='keyword'>friend</span></span></span>,
<span id=':inline__'><span class='texttt'><span class='keyword'>inline</span></span></span>,
<span id=':virtual'><span class='texttt'><span class='keyword'>virtual</span></span></span>,
<span id=':constexpr_____'><span class='texttt'><span class='keyword'>constexpr</span></span></span>, or
<span id=':consteval__'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#class.dtor-1.sentence-3'>.</a></div></div></div><div class='para' id='class.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2008'>#</a></div><div class='texpara'><div id='class.dtor-2.sentence-1' class='sentence'><a class='index' id=':destructor,default'></a>If a class has no user-declared
prospective destructor,
a prospective destructor is implicitly
declared as defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#class.dtor-2.sentence-1'>.</a></div> <div id='class.dtor-2.sentence-2' class='sentence'>An implicitly-declared prospective destructor is an
inline public member of its class<a class='hidden_link' href='#class.dtor-2.sentence-2'>.</a></div></div></div><div class='para' id='class.dtor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2018'>#</a></div><div class='texpara'><div id='class.dtor-3.sentence-1' class='sentence'>An implicitly-declared prospective destructor for a class <span class='texttt'>X</span> will have the form
<span class='codeblock'><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='class.dtor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2024'>#</a></div><div class='texpara'><div id='class.dtor-4.sentence-1' class='sentence'>At the end of the definition of a class,
overload resolution is performed
among the prospective destructors declared in that class
with an empty argument list
to select the <a class='hidden_link' href='#def:destructor' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor'><i >destructor</i></span></a> for the class,
also known as the <a class='hidden_link' href='#def:destructor,selected' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor,selected'><i >selected destructor</i></span></a><a class='hidden_link' href='#class.dtor-4.sentence-1'>.</a></div> <div id='class.dtor-4.sentence-2' class='sentence'>The program is ill-formed if overload resolution fails<a class='hidden_link' href='#class.dtor-4.sentence-2'>.</a></div> <div id='class.dtor-4.sentence-3' class='sentence'>Destructor selection does not constitute
a reference to,
or odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) of,
the selected destructor,
and in particular,
the selected destructor may be deleted (<a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>delete]</a>)<a class='hidden_link' href='#class.dtor-4.sentence-3'>.</a></div></div></div><div class='para' id='class.dtor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2039'>#</a></div><div class='texpara'><div id='class.dtor-5.sentence-1' class='sentence'><a class='index' id=':destructor,address_of'></a>The address of a destructor shall not be taken<a class='hidden_link' href='#class.dtor-5.sentence-1'>.</a></div> <div id='class.dtor-5.sentence-3' class='sentence'><a class='index' id=':restriction,destructor'></a><div id='class.dtor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-1'>1</a></i>:&ensp;<div id='class.dtor-5.sentence-2' class='sentence'>A <span class='texttt'><span class='keyword'>return</span></span> statement in the body of a destructor
cannot specify a return value (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>)<a class='hidden_link' href='#class.dtor-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<a class='index' id=':const,destructor_and'></a><a class='index' id=':volatile,destructor_and'></a>A destructor can be invoked for a
<span id=':const_______'><span class='texttt'><span class='keyword'>const</span></span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>
or
<span id=':const________'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
object<a class='hidden_link' href='#class.dtor-5.sentence-3'>.</a></div> <div id='class.dtor-5.sentence-4' class='sentence'><span id=':const_________'><span class='texttt'><span class='keyword'>const</span></span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
semantics (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>) are not applied on an object under destruction<a class='hidden_link' href='#class.dtor-5.sentence-4'>.</a></div> <div id='class.dtor-5.sentence-5' class='sentence'>They stop being in effect when the destructor for the
most derived object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) starts<a class='hidden_link' href='#class.dtor-5.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.dtor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2063'>#</a></div><div class='texpara'><div id='class.dtor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-2'>2</a></i>:&ensp;<div id='class.dtor-6.sentence-1' class='sentence'>A declaration of a destructor that does not have a <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier___'><span class='textsf'><i >noexcept-specifier</i></span></span></a>
has the same exception specification as if it had been implicitly declared (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#class.dtor-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.dtor-7'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2069'>#</a></div><div class='texpara'><div id='class.dtor-7.sentence-1' class='sentence'>A defaulted destructor for a class
  <span class='texttt'>X</span> is defined as deleted if:
<ul class='itemize'><li id='class.dtor-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-7.1'>(7.1)</a></div><span class='texttt'>X</span> is a union-like class that has a variant
  member with a non-trivial destructor,</li><li id='class.dtor-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-7.2'>(7.2)</a></div>any potentially constructed subobject has class type
  <span class='texttt'>M</span> (or array thereof) and
  <span class='texttt'>M</span> has a deleted destructor or a destructor
  that is inaccessible from the defaulted destructor,</li><li id='class.dtor-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-7.3'>(7.3)</a></div>or, for a virtual destructor, lookup of the non-array deallocation
  function results in an ambiguity or in a function that is deleted or
  inaccessible from the defaulted destructor<a class='hidden_link' href='#class.dtor-7.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='class.dtor-8'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2086'>#</a></div><div class='texpara'><div id='class.dtor-8.sentence-1' class='sentence'>A destructor is trivial if it is not user-provided and if:
<ul class='itemize'><li id='class.dtor-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-8.1'>(8.1)</a></div>the destructor is not virtual,</li><li id='class.dtor-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-8.2'>(8.2)</a></div>all of the direct base classes of its class have trivial destructors, and</li><li id='class.dtor-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-8.3'>(8.3)</a></div>for all of the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial destructor<a class='hidden_link' href='#class.dtor-8.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.dtor-8.sentence-2' class='sentence'>Otherwise, the destructor is
<a class='hidden_link' href='#def:destructor,non-trivial' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor,non-trivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#class.dtor-8.sentence-2'>.</a></div></div></div><div class='para' id='class.dtor-9'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2100'>#</a></div><div class='texpara'><div id='class.dtor-9.sentence-1' class='sentence'>A defaulted destructor is a constexpr destructor
if it is constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#class.dtor-9.sentence-1'>.</a></div></div></div><div class='para' id='class.dtor-10'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2104'>#</a></div><div class='texpara'><div id='class.dtor-10.sentence-1' class='sentence'>Before a
defaulted destructor for a class is implicitly defined, all the non-user-provided
destructors for its base classes and its non-static data members are
implicitly defined<a class='hidden_link' href='#class.dtor-10.sentence-1'>.</a></div></div></div><div class='para' id='class.dtor-11'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2110'>#</a></div><div class='texpara'><div id='class.dtor-11.sentence-1' class='sentence'><a class='index' id=':destructor,virtual'></a><a class='index' id=':destructor,pure_virtual'></a>A prospective destructor can be
declared <span id=':virtual_'><span class='texttt'><span class='keyword'>virtual</span></span></span> (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
and with a <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier____'><span class='textsf'><i >pure-specifier</i></span></span></a> (<a href='class.abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>)<a class='hidden_link' href='#class.dtor-11.sentence-1'>.</a></div> <div id='class.dtor-11.sentence-2' class='sentence'>If the destructor of a class is virtual and
any objects of that class or any derived class are created in the program,
the destructor shall be defined<a class='hidden_link' href='#class.dtor-11.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.dtor-12'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2120'>#</a></div><div class='texpara'><div id='class.dtor-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-3'>3</a></i>:&ensp;<div id='class.dtor-12.sentence-1' class='sentence'><a class='index' id=':member_function,destructor_and'></a>Some language constructs have special semantics when used during destruction;
see <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#class.dtor-12.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.dtor-13'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2127'>#</a></div><div class='texpara'><div id='class.dtor-13.sentence-1' class='sentence'><a class='index' id=':order_of_execution,destructor'></a><a class='index' id=':order_of_execution,base_class_destructor'></a><a class='index' id=':order_of_execution,member_destructor'></a>After executing the body of the destructor and destroying
any objects with automatic storage duration allocated within the body, a
destructor for class
<span class='texttt'>X</span>
calls the destructors for
<span class='texttt'>X</span>'s
direct non-variant non-static data members, the destructors for
<span class='texttt'>X</span>'s
non-virtual direct base classes and, if
<span class='texttt'>X</span>
is the most derived class (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>),
its destructor calls the destructors for
<span class='texttt'>X</span>'s
virtual base classes<a class='hidden_link' href='#class.dtor-13.sentence-1'>.</a></div> <div id='class.dtor-13.sentence-2' class='sentence'>All destructors are called as if they were referenced with a qualified name,
that is, ignoring any possible virtual overriding destructors in more
derived classes<a class='hidden_link' href='#class.dtor-13.sentence-2'>.</a></div> <div id='class.dtor-13.sentence-3' class='sentence'>Bases and members are destroyed in the reverse order of the completion of
their constructor (see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.dtor-13.sentence-3'>.</a></div> <div id='class.dtor-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-4'>4</a></i>:&ensp;<div id='class.dtor-13.sentence-4' class='sentence'>A
<span class='texttt'><span class='keyword'>return</span></span>
statement (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>) in a destructor might not directly return to the
caller; before transferring control to the caller, the destructors for the
members and bases are called<a class='hidden_link' href='#class.dtor-13.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.dtor-13.sentence-5' class='sentence'><a class='index' id=':order_of_execution,destructor_and_array'></a>Destructors for elements of an array are called in reverse order of their
construction (see <a href='class.init' title='11.9&emsp;Initialization'>[class.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.dtor-13.sentence-5'>.</a></div></div></div><div class='para' id='class.dtor-14'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2161'>#</a></div><div class='texpara'><div id='class.dtor-14.sentence-1' class='sentence'><a class='index' id=':destructor,implicit_call'></a><a class='index' id=':destructor,program_termination_and'></a>A destructor is invoked implicitly
<ul class='itemize'><li id='class.dtor-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-14.1'>(14.1)</a></div>for a constructed object with static storage duration (<a href='basic.stc.static' title='6.7.5.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>) at program termination (<a href='basic.start.term' title='6.9.3.4&emsp;Termination'>[basic.<span class='shy'></span>start.<span class='shy'></span>term]</a>),</li><li id='class.dtor-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-14.2'>(14.2)</a></div>for a constructed object with thread storage duration (<a href='basic.stc.thread' title='6.7.5.3&emsp;Thread storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>thread]</a>) at thread exit,</li><li id='class.dtor-14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-14.3'>(14.3)</a></div>for a constructed object with automatic storage duration (<a href='basic.stc.auto' title='6.7.5.4&emsp;Automatic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>auto]</a>) when the block in which an object is created exits (<a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a>),</li><li id='class.dtor-14.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.dtor-14.4'>(14.4)</a></div>for a constructed temporary object when its lifetime ends (<a href='conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>, <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#class.dtor-14.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.dtor-14.sentence-2' class='sentence'><a class='index' id=':delete,destructor_and'></a><a class='index' id=':destructor,explicit_call'></a>In each case, the context of the invocation is the context of the construction of
the object<a class='hidden_link' href='#class.dtor-14.sentence-2'>.</a></div> <div id='class.dtor-14.sentence-3' class='sentence'>A destructor may also be invoked implicitly through use of a
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression'><span class='textsf'><i >delete-expression</i></span></span></a> (<a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>) for a constructed object allocated
by a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>); the context of the invocation is the
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_'><span class='textsf'><i >delete-expression</i></span></span></a><a class='hidden_link' href='#class.dtor-14.sentence-3'>.</a></div> <div id='class.dtor-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-5'>5</a></i>:&ensp;<div id='class.dtor-14.sentence-4' class='sentence'>An array of class type contains several subobjects for each of which
the destructor is invoked<a class='hidden_link' href='#class.dtor-14.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.dtor-14.sentence-5' class='sentence'>
A destructor can also be invoked explicitly<a class='hidden_link' href='#class.dtor-14.sentence-5'>.</a></div> <div id='class.dtor-14.sentence-6' class='sentence'>A destructor is <a class='hidden_link' href='#def:potentially_invoked' id='def:potentially_invoked'><i>potentially invoked</i></a>
if it is invoked or as specified in <a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>,
<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>, <a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>,
<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>, and <a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a><a class='hidden_link' href='#class.dtor-14.sentence-6'>.</a></div> <div id='class.dtor-14.sentence-7' class='sentence'>A program is ill-formed if a destructor that is potentially invoked is deleted
or not accessible from the context of the invocation<a class='hidden_link' href='#class.dtor-14.sentence-7'>.</a></div></div></div><div class='para' id='class.dtor-15'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2193'>#</a></div><div class='texpara'><div id='class.dtor-15.sentence-1' class='sentence'>At the point of definition of a virtual destructor (including an implicit
definition), the non-array deallocation function is
determined as if for the expression <span class='texttt'><span class='keyword'>delete</span> <span class='keyword'>this</span></span> appearing in a
non-virtual destructor of the destructor's class (see <a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>)<a class='hidden_link' href='#class.dtor-15.sentence-1'>.</a></div> <div id='class.dtor-15.sentence-2' class='sentence'>If the lookup fails or if the deallocation function has
a deleted definition (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>), the program is ill-formed<a class='hidden_link' href='#class.dtor-15.sentence-2'>.</a></div> <div id='class.dtor-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-6'>6</a></i>:&ensp;<div id='class.dtor-15.sentence-3' class='sentence'>This assures that a deallocation function corresponding to the dynamic type of an
object is available for the
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression__'><span class='textsf'><i >delete-expression</i></span></span></a> (<a href='#class.free' title='11.4.11&emsp;Allocation and deallocation functions'>[class.<span class='shy'></span>free]</a>)<a class='hidden_link' href='#class.dtor-15.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.dtor-16'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2206'>#</a></div><div class='texpara'><div id='class.dtor-16.sentence-1' class='sentence'><a class='index' id=':destructor,explicit_call_'></a>In an explicit destructor call, the destructor is specified by a
<span class='texttt'><span class='operator'>~</span></span>
followed by a
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> or <a href='dcl.type.decltype#nt:decltype-specifier' title='9.2.9.5&emsp;Decltype specifiers&emsp;[dcl.type.decltype]'><span id='ntref:decltype-specifier'><span class='textsf'><i >decltype-specifier</i></span></span></a>
that denotes the destructor's class type<a class='hidden_link' href='#class.dtor-16.sentence-1'>.</a></div> <div id='class.dtor-16.sentence-2' class='sentence'>The invocation of a destructor is subject to the usual rules for member
functions (<a href='#class.mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>);
that is, if the object is not of the destructor's class type and
not of a class derived from the destructor's class type (including when
the destructor is invoked via a null pointer value), the program has
undefined behavior<a class='hidden_link' href='#class.dtor-16.sentence-2'>.</a></div> <div id='class.dtor-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-7'>7</a></i>:&ensp;<div id='class.dtor-16.sentence-3' class='sentence'>Invoking <span id=':delete'><span class='texttt'><span class='keyword'>delete</span></span></span> on a null pointer does not call the
destructor; see <a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a><a class='hidden_link' href='#class.dtor-16.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.dtor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.dtor-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='operator'>~</span>D<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

D D_object;
<span class='keyword'>typedef</span> B B_alias;
B<span class='operator'>*</span> B_ptr <span class='operator'>=</span> <span class='operator'>&amp;</span>D_object;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D_object<span class='operator'>.</span>B<span class='operator'>::</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// calls <span class='tcode_in_codeblock'>D</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>B_alias<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>D</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B_alias<span class='operator'>::</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B_alias<span class='operator'>::</span><span class='operator'>~</span>B_alias<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='class.dtor-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-8'>8</a></i>:&ensp;<div id='class.dtor-16.sentence-4' class='sentence'>An explicit destructor call must always be written using
a member access operator (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) or a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id__'><span class='textsf'><i >qualified-id</i></span></span></a> (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>);
in particular, the
<a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression'><span class='textsf'><i >unary-expression</i></span></span></a>
<span class='texttt'><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
in a member function is not an explicit destructor call (<a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>)<a class='hidden_link' href='#class.dtor-16.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.dtor-17'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2254'>#</a></div><div class='texpara'><div id='class.dtor-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-9'>9</a></i>:&ensp;<div id='class.dtor-17.sentence-1' class='sentence'><a class='index' id=':object,destructor_and_placement_of'></a>Explicit calls of destructors are rarely needed<a class='hidden_link' href='#class.dtor-17.sentence-1'>.</a></div> <div id='class.dtor-17.sentence-2' class='sentence'>One use of such calls is for objects placed at specific
addresses using a placement
<a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#class.dtor-17.sentence-2'>.</a></div> <div id='class.dtor-17.sentence-3' class='sentence'>Such use of explicit placement and destruction of objects can be necessary
to cope with dedicated hardware resources and for writing memory management
facilities<a class='hidden_link' href='#class.dtor-17.sentence-3'>.</a></div> <div id='class.dtor-17.sentence-4' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, <span class='keyword'>void</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> p; <span class='curlybracket'>}</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='operator'>*</span> p<span class='parenthesis'>)</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                      <span class='comment'>// rare, specialized use:</span>
  <span class='keyword'>char</span><span class='operator'>*</span> buf <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>char</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>X<span class='parenthesis'>)</span><span class='squarebracket'>]</span>;
  X<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>buf<span class='parenthesis'>)</span> X<span class='parenthesis'>(</span><span class='literal'>222</span><span class='parenthesis'>)</span>;       <span class='comment'>// use <span class='tcode_in_codeblock'>buf[]</span> and initialize</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>X<span class='operator'>::</span><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// cleanup</span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.dtor-18'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2282'>#</a></div><div class='texpara'><div id='class.dtor-18.sentence-1' class='sentence'>Once a destructor is invoked for an object, the object's lifetime ends;
the behavior is undefined if the destructor is invoked
for an object whose lifetime has ended (<a href='basic.life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#class.dtor-18.sentence-1'>.</a></div> <div id='class.dtor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.dtor-example-2'>2</a></i>:&ensp;<div id='class.dtor-18.sentence-2' class='sentence'>If the destructor for an object with automatic storage duration is explicitly invoked,
and the block is subsequently left in a manner that would ordinarily
invoke implicit destruction of the object, the behavior is undefined<a class='hidden_link' href='#class.dtor-18.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.dtor-19'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2292'>#</a></div><div class='texpara'><div id='class.dtor-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.dtor-note-10'>10</a></i>:&ensp;<div id='class.dtor-19.sentence-1' class='sentence'><a class='index' id=':fundamental_type,destructor_and'></a>The notation for explicit call of a destructor can be used for any scalar type
name (<a href='expr.prim.id.dtor' title='7.5.4.4&emsp;Destruction'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#class.dtor-19.sentence-1'>.</a></div> <div id='class.dtor-19.sentence-2' class='sentence'>Allowing this makes it possible to write code without having to know if a
destructor exists for a given type<a class='hidden_link' href='#class.dtor-19.sentence-2'>.</a></div> <div id='class.dtor-19.sentence-3' class='sentence'>For example:
<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
I<span class='operator'>*</span> p;
p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>I<span class='operator'>::</span><span class='operator'>~</span>I<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.dtor-20'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2307'>#</a></div><div class='texpara'><div id='class.dtor-20.sentence-1' class='sentence'>A destructor shall not be a coroutine<a class='hidden_link' href='#class.dtor-20.sentence-1'>.</a></div></div></div></div><div id='class.conv' class='section'><h3 ><a class='secnum' href='#class.conv' style='min-width:80pt'>11.4.8</a> Conversions <a class='abbr_ref' href='class.conv'>[class.conv]</a></h3><div id='class.conv.general' class='section'><h4 ><a class='secnum' href='#class.conv.general' style='min-width:95pt'>11.4.8.1</a> General <a class='abbr_ref' href='class.conv.general'>[class.conv.general]</a></h4><div class='para' id='class.conv.general-1'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2314'>#</a></div><div class='texpara'><div id='class.conv.general-1.sentence-1' class='sentence'><a class='index' id=':conversion,class'></a><a class='index' id=':conversion,implicit'></a>Type conversions of class objects can be specified by constructors and
by conversion functions<a class='hidden_link' href='#class.conv.general-1.sentence-1'>.</a></div> <div id='class.conv.general-1.sentence-2' class='sentence'>These conversions are called
<a class='hidden_link' href='#def:conversion,user-defined' title='11.4.8.1&emsp;General&emsp;[class.conv.general]'><span id='def:conversion,user-defined'><i >user-defined conversions</i></span></a>
and are used for implicit type conversions (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>),
for initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),
and for explicit type conversions (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#class.conv.general-1.sentence-2'>.</a></div></div></div><div class='para' id='class.conv.general-2'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2328'>#</a></div><div class='texpara'><div id='class.conv.general-2.sentence-1' class='sentence'>User-defined conversions are applied only where they are unambiguous (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>, <a href='#class.conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#class.conv.general-2.sentence-1'>.</a></div> <div id='class.conv.general-2.sentence-2' class='sentence'>Conversions obey the access control rules (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#class.conv.general-2.sentence-2'>.</a></div> <div id='class.conv.general-2.sentence-3' class='sentence'>Access control is applied after ambiguity resolution (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#class.conv.general-2.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.conv.general-3'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2333'>#</a></div><div class='texpara'><div id='class.conv.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.conv.general-note-1'>1</a></i>:&ensp;<div id='class.conv.general-3.sentence-1' class='sentence'>See <a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a> for a discussion of the use of conversions in function calls
as well as examples below<a class='hidden_link' href='#class.conv.general-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.conv.general-4'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2339'>#</a></div><div class='texpara'><div id='class.conv.general-4.sentence-1' class='sentence'><a class='index' id=':conversion,implicit_user-defined'></a>At most one user-defined conversion (constructor or conversion function)
is implicitly applied to a single value<a class='hidden_link' href='#class.conv.general-4.sentence-1'>.</a></div> <div id='class.conv.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Y a;
<span class='keyword'>int</span> b <span class='operator'>=</span> a;          <span class='comment'>// error: no viable conversion (<span class='tcode_in_codeblock'>a.operator X().operator int()</span> not considered)</span>
<span class='keyword'>int</span> c <span class='operator'>=</span> X<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;       <span class='comment'>// OK, <span class='tcode_in_codeblock'>a.operator X().operator int()</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='class.conv.ctor' class='section'><h4 ><a class='secnum' href='#class.conv.ctor' style='min-width:95pt'>11.4.8.2</a> Conversion by constructor <a class='abbr_ref' href='class.conv.ctor'>[class.conv.ctor]</a></h4><div class='texpara'><a class='index' id=':conversion,user-defined'></a></div><div class='para' id='class.conv.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2362'>#</a></div><div class='texpara'><div id='class.conv.ctor-1.sentence-1' class='sentence'>A constructor that is not explicit (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>)
specifies a conversion from
the types of its parameters (if any)
to the type of its class<a class='hidden_link' href='#class.conv.ctor-1.sentence-1'>.</a></div> <div id='class.conv.ctor-1.sentence-2' class='sentence'>Such a constructor is called a
<a class='hidden_link' href='#def:constructor,converting' title='11.4.8.2&emsp;Conversion by constructor&emsp;[class.conv.ctor]'><span id='def:constructor,converting'><i >converting constructor</i></span></a><a class='hidden_link' href='#class.conv.ctor-1.sentence-2'>.</a></div> <div id='class.conv.ctor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.ctor-example-1'>1</a></i>:&ensp;<span id=':Jessie'><div class='marginalizedparent'><a class='itemDeclLink' href='#:Jessie'>🔗</a></div><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
    X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
    X<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, <span class='keyword'>int</span> <span class='operator'>=</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
    X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X arg<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X a <span class='operator'>=</span> <span class='literal'>1</span>;          <span class='comment'>// <span class='tcode_in_codeblock'>a = X(1)</span></span>
  X b <span class='operator'>=</span> <span class='literal'>"Jessie"</span>;   <span class='comment'>// <span class='tcode_in_codeblock'>b = X("Jessie",0)</span></span>
  a <span class='operator'>=</span> <span class='literal'>2</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>a = X(2)</span></span>
  f<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f(X(3))</span></span>
  f<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;        <span class='comment'>// <span class='tcode_in_codeblock'>f(X(1,2))</span></span>
<span class='curlybracket'>}</span>
</span></span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.conv.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2388'>#</a></div><div class='texpara'><div id='class.conv.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.conv.ctor-note-1'>1</a></i>:&ensp;<div id='class.conv.ctor-2.sentence-1' class='sentence'>An explicit constructor constructs objects just like non-explicit
constructors, but does so only where the direct-initialization syntax (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
or where casts (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>) are explicitly
used; see also <a href='over.match.copy' title='12.2.2.5&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a><a class='hidden_link' href='#class.conv.ctor-2.sentence-1'>.</a></div> <div id='class.conv.ctor-2.sentence-2' class='sentence'>A default constructor can be an explicit constructor; such a constructor
will be used to perform default-initialization
or value-initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.conv.ctor-2.sentence-2'>.</a></div> <div id='class.conv.ctor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.ctor-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Z a;                            <span class='comment'>// OK, default-initialization performed</span>
Z b<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                          <span class='comment'>// OK, direct initialization syntax used</span>
Z c <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                       <span class='comment'>// error: copy-list-initialization</span>
Z a1 <span class='operator'>=</span> <span class='literal'>1</span>;                       <span class='comment'>// error: no implicit conversion</span>
Z a3 <span class='operator'>=</span> Z<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                    <span class='comment'>// OK, direct initialization syntax used</span>
Z a2<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                        <span class='comment'>// OK, direct initialization syntax used</span>
Z<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> Z<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK, direct initialization syntax used</span>
Z a4 <span class='operator'>=</span> <span class='parenthesis'>(</span>Z<span class='parenthesis'>)</span><span class='literal'>1</span>;                    <span class='comment'>// OK, explicit cast used</span>
Z a5 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>Z<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK, explicit cast used</span>
Z a6 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>3</span>, <span class='literal'>4</span> <span class='curlybracket'>}</span>;                <span class='comment'>// error: no implicit conversion</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.conv.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2419'>#</a></div><div class='texpara'><div id='class.conv.ctor-3.sentence-1' class='sentence'>A non-explicit copy/move constructor (<a href='#class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>) is
a converting constructor<a class='hidden_link' href='#class.conv.ctor-3.sentence-1'>.</a></div> <div id='class.conv.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.conv.ctor-note-2'>2</a></i>:&ensp;<div id='class.conv.ctor-3.sentence-2' class='sentence'>An implicitly-declared copy/move constructor is not an explicit constructor;
it can be called for implicit type conversions<a class='hidden_link' href='#class.conv.ctor-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.conv.fct' class='section'><h4 ><a class='secnum' href='#class.conv.fct' style='min-width:95pt'>11.4.8.3</a> Conversion functions <a class='abbr_ref' href='class.conv.fct'>[class.conv.fct]</a></h4><div class='texpara'><a class='index' id=':function,conversion'></a><a class='index' id=':conversion,user-defined_'></a>
<div class='bnf' id='nt:conversion-function-id'>
<a class='hidden_link' href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='nt:conversion-function-id'><span id=':conversion-function-id'>conversion-function-id<span class='textnormal'>:</span></span></span></a><br/><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span> <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id'><span class='textsf'><i >conversion-type-id</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:conversion-type-id'>
<a class='hidden_link' href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='nt:conversion-type-id'><span id=':conversion-type-id'>conversion-type-id<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.type.general#nt:type-specifier-seq' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier-seq'><span class='textsf'><i >type-specifier-seq</i></span></span></a> <a href='#nt:conversion-declarator' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-declarator'><span class='textsf'><i >conversion-declarator</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:conversion-declarator'>
<a class='hidden_link' href='#nt:conversion-declarator' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='nt:conversion-declarator'><span id=':conversion-declarator'>conversion-declarator<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.decl.general#nt:ptr-operator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-operator'><span class='textsf'><i >ptr-operator</i></span></span></a> <a href='#nt:conversion-declarator' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-declarator_'><span class='textsf'><i >conversion-declarator</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='para' id='class.conv.fct-1'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2447'>#</a></div><div class='texpara'><div id='class.conv.fct-1.sentence-1' class='sentence'>A declaration
whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id__'><span class='textsf'><i >declarator-id</i></span></span></a> has
an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__'><span class='textsf'><i >unqualified-id</i></span></span></a> that is a <a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a>
declares a <a class='hidden_link' href='#def:function,conversion' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='def:function,conversion'><i >conversion function</i></span></a>;
its <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator______'><span class='textsf'><i >declarator</i></span></span></a> shall be
a function declarator (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the form
<div class='simplebnf'>
<a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator____'><span class='textsf'><i >ptr-declarator</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/>&emsp;&emsp;&emsp;ref-qualifier-seq<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier____'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_______'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
where the <a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator_____'><span class='textsf'><i >ptr-declarator</i></span></span></a> consists solely of
an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____________'><span class='textsf'><i >id-expression</i></span></span></a>,
an optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>, and
optional surrounding parentheses, and
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______________'><span class='textsf'><i >id-expression</i></span></span></a> has one of the following forms:
<ul class='itemize'><li id='class.conv.fct-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.conv.fct-1.1'>(1.1)</a></div>in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration________'><span class='textsf'><i >member-declaration</i></span></span></a> that belongs to
the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification__________'><span class='textsf'><i >member-specification</i></span></span></a> of a class or class template
but is not a friend declaration (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>),
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______________'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id_'><span class='textsf'><i >conversion-function-id</i></span></span></a>;</li><li id='class.conv.fct-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.conv.fct-1.2'>(1.2)</a></div>otherwise, the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________________'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id___'><span class='textsf'><i >qualified-id</i></span></span></a>
whose <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id___'><span class='textsf'><i >unqualified-id</i></span></span></a> is a <a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id__'><span class='textsf'><i >conversion-function-id</i></span></span></a><a class='hidden_link' href='#class.conv.fct-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='class.conv.fct-2'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2474'>#</a></div><div class='texpara'><div id='class.conv.fct-2.sentence-1' class='sentence'>A conversion function  shall have no non-object parameters and
shall be a non-static member function of a class or class template <span class='texttt'>X</span>;
it specifies a conversion from <span class='texttt'>X</span> to
the type specified by the <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id_'><span class='textsf'><i >conversion-type-id</i></span></span></a>,
interpreted as a <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id'><span class='textsf'><i >type-id</i></span></span></a> (<a href='dcl.name' title='9.3.2&emsp;Type names'>[dcl.<span class='shy'></span>name]</a>)<a class='hidden_link' href='#class.conv.fct-2.sentence-1'>.</a></div> <div id='class.conv.fct-2.sentence-2' class='sentence'>A <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier__'><span class='textsf'><i >decl-specifier</i></span></span></a> in the <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq_____'><span class='textsf'><i >decl-specifier-seq</i></span></span></a>
of a conversion function (if any) shall not be
a <a href='dcl.type.general#nt:defining-type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:defining-type-specifier'><span class='textsf'><i >defining-type-specifier</i></span></span></a><a class='hidden_link' href='#class.conv.fct-2.sentence-2'>.</a></div></div></div><div class='para' id='class.conv.fct-3'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2484'>#</a></div><div class='texpara'><div id='class.conv.fct-3.sentence-1' class='sentence'><a class='index' id=':conversion,type_of'></a>The type of the conversion function is
“<span class='texttt'><span class='keyword'>noexcept</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> function taking no parameter
<a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq_'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier__'><span class='textsf'><i >ref-qualifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
returning <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id__'><span class='textsf'><i >conversion-type-id</i></span></span></a>”<a class='hidden_link' href='#class.conv.fct-3.sentence-1'>.</a></div></div></div><div class='para' id='class.conv.fct-4'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2491'>#</a></div><div class='texpara'><div id='class.conv.fct-4.sentence-1' class='sentence'>A conversion function is never used to convert a (possibly cv-qualified) object
to the (possibly cv-qualified) same object type (or a reference to it),
to a (possibly cv-qualified) base class of that type (or a reference to it),
or to <span class='mathit'>cv</span> <span id=':void_'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#class.conv.fct-4.sentence-1'>.</a><a class='footnoteref' href='#footnote-97' id='footnoteref-97' title='These conversions are considered as standard conversions for the purposes of overload resolution ([over.best.ics], [over.ics.ref]) and therefore initialization ([dcl.init]) and explicit casts ([expr.static.cast]). A conversion to void does not invoke any conversion function ([expr.static.cast]). Even though never directly called to perform a conversion, such conversion functions can be declared and can potentially be reached through a call to a virtual conversion function in a base class.'>97</a></div> <div id='class.conv.fct-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.fct-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>short</span>;     <span class='comment'>// error: trailing return type</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='keyword'>int</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;
  i <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>a;
  i <span class='operator'>=</span> a;
<span class='curlybracket'>}</span>
</span> <div id='class.conv.fct-4.sentence-2' class='sentence'>
In all three cases the value assigned will be converted by
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#class.conv.fct-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.conv.fct-5'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2520'>#</a></div><div class='texpara'><div id='class.conv.fct-5.sentence-1' class='sentence'>A conversion function may be explicit (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>), in which case it is only considered as a user-defined conversion for direct-initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.conv.fct-5.sentence-1'>.</a></div> <div id='class.conv.fct-5.sentence-2' class='sentence'>Otherwise, user-defined conversions are not restricted to use in assignments and initializations<a class='hidden_link' href='#class.conv.fct-5.sentence-2'>.</a></div> <div id='class.conv.fct-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.fct-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> <span class='keyword'>operator</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span>Z z<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Y y1<span class='parenthesis'>(</span>z<span class='parenthesis'>)</span>;          <span class='comment'>// OK, direct-initialization</span>
  Y y2 <span class='operator'>=</span> z;         <span class='comment'>// error: no conversion function candidate for copy-initialization</span>
  Y y3 <span class='operator'>=</span> <span class='parenthesis'>(</span>Y<span class='parenthesis'>)</span>z;      <span class='comment'>// OK, cast notation</span>
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>X a, X b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>1</span><span class='operator'>+</span>a <span class='operator'>:</span> <span class='literal'>0</span>;
  <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='parenthesis'>(</span>a<span class='operator'>&amp;</span><span class='operator'>&amp;</span>b<span class='parenthesis'>)</span> <span class='operator'>?</span> a<span class='operator'>+</span>b <span class='operator'>:</span> i;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.conv.fct-6'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2544'>#</a></div><div class='texpara'><div id='class.conv.fct-6.sentence-1' class='sentence'>The
<a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id___'><span class='textsf'><i >conversion-type-id</i></span></span></a>
shall not represent a function type nor an array type<a class='hidden_link' href='#class.conv.fct-6.sentence-1'>.</a></div> <div id='class.conv.fct-6.sentence-2' class='sentence'>The
<a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id____'><span class='textsf'><i >conversion-type-id</i></span></span></a>
in a
<a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id___'><span class='textsf'><i >conversion-function-id</i></span></span></a>
is the longest sequence of
tokens that could possibly form a <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id_____'><span class='textsf'><i >conversion-type-id</i></span></span></a><a class='hidden_link' href='#class.conv.fct-6.sentence-2'>.</a></div> <div id='class.conv.fct-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.conv.fct-note-1'>1</a></i>:&ensp;<div id='class.conv.fct-6.sentence-3' class='sentence'>This prevents ambiguities between the declarator operator <span class='texttt'><span class='operator'>*</span></span> and its expression
counterparts<a class='hidden_link' href='#class.conv.fct-6.sentence-3'>.</a></div> <div id='class.conv.fct-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.fct-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='operator'>&amp;</span>ac<span class='operator'>.</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>*</span>i; <span class='comment'>// syntax error:</span>
                    <span class='comment'>// parsed as: <span class='tcode_in_codeblock'>&amp;(ac.operator int *)i</span></span>
                    <span class='comment'>// not as: <span class='tcode_in_codeblock'>&amp;(ac.operator int)*i</span></span>
</span> <div id='class.conv.fct-6.sentence-4' class='sentence'>
The <span class='texttt'><span class='operator'>*</span></span> is the pointer declarator and not the multiplication operator<a class='hidden_link' href='#class.conv.fct-6.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='class.conv.fct-6.sentence-5' class='sentence'>
This rule also prevents ambiguities for attributes<a class='hidden_link' href='#class.conv.fct-6.sentence-5'>.</a></div> <div id='class.conv.fct-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.fct-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>operator</span> <span class='keyword'>int</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>noreturn<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>noreturn</span> attribute applied to a type</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.conv.fct-7'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2573'>#</a></div><div class='texpara'><a class='index' id=':conversion,inheritance_of_user-defined'></a><div id='class.conv.fct-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.conv.fct-note-2'>2</a></i>:&ensp;<div id='class.conv.fct-7.sentence-1' class='sentence'>A conversion function in a derived class hides only
conversion functions in base classes that convert to the same type<a class='hidden_link' href='#class.conv.fct-7.sentence-1'>.</a></div> <div id='class.conv.fct-7.sentence-2' class='sentence'>A conversion function template with a dependent return type hides only
templates in base classes that correspond to it (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>);
otherwise, it hides and is hidden as a non-template function<a class='hidden_link' href='#class.conv.fct-7.sentence-2'>.</a></div> <div id='class.conv.fct-7.sentence-3' class='sentence'>Function overload resolution (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>) selects
the best conversion function to perform the conversion<a class='hidden_link' href='#class.conv.fct-7.sentence-3'>.</a></div> <div id='class.conv.fct-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.fct-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='operator'>:</span> X <span class='curlybracket'>{</span>
    <span class='keyword'>operator</span> <span class='keyword'>char</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>          <span class='comment'>// error: ambiguous between <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;operator int()</span> and <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;operator char()</span></span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.conv.fct-8'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2601'>#</a></div><div class='texpara'><div id='class.conv.fct-8.sentence-1' class='sentence'><a class='index' id=':conversion,virtual_user-defined'></a>Conversion functions can be virtual<a class='hidden_link' href='#class.conv.fct-8.sentence-1'>.</a></div></div></div><div class='para' id='class.conv.fct-9'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2605'>#</a></div><div class='texpara'><div id='class.conv.fct-9.sentence-1' class='sentence'><a class='index' id=':conversion,deduced_return_type_of_user-defined'></a>A conversion function template shall not have a
deduced return type (<a href='dcl.spec.auto' title='9.2.9.6&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>)<a class='hidden_link' href='#class.conv.fct-9.sentence-1'>.</a></div> <div id='class.conv.fct-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.conv.fct-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>10</span>; <span class='curlybracket'>}</span>      <span class='comment'>// OK</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>1.2</span>; <span class='curlybracket'>}</span>     <span class='comment'>// error: conversion function template</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-97'><div class='texpara'><a class='footnotenum' href='#footnote-97'>97)</a><a class='footnoteBacklink' href='#footnoteref-97'>97)</a> <div id='footnote-97.sentence-1' class='sentence'>These conversions are considered
as standard conversions for the purposes of overload resolution (<a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>, <a href='over.ics.ref' title='12.2.4.2.5&emsp;Reference binding'>[over.<span class='shy'></span>ics.<span class='shy'></span>ref]</a>) and therefore initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>) and explicit casts (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#footnote-97.sentence-1'>.</a></div> <div id='footnote-97.sentence-2' class='sentence'>A conversion to <span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span> does not invoke any conversion function (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#footnote-97.sentence-2'>.</a></div> <div id='footnote-97.sentence-3' class='sentence'>Even though never directly called to perform a conversion,
such conversion functions can be declared and can potentially
be reached through a call to a virtual conversion function in a base class<a class='hidden_link' href='#footnote-97.sentence-3'>.</a></div></div></div></div></div><div id='class.static' class='section'><h3 ><a class='secnum' href='#class.static' style='min-width:80pt'>11.4.9</a> Static members <a class='abbr_ref' href='class.static'>[class.static]</a></h3><div id='class.static.general' class='section'><h4 ><a class='secnum' href='#class.static.general' style='min-width:95pt'>11.4.9.1</a> General <a class='abbr_ref' href='class.static.general'>[class.static.general]</a></h4><div class='texpara'><a class='index' id=':member,static'></a></div><div class='para' id='class.static.general-1'><div class='marginalizedparent'><a class='marginalized' href='#class.static.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2624'>#</a></div><div class='texpara'><div id='class.static.general-1.sentence-1' class='sentence'>A static member <span class='texttt'>s</span> of class <span class='texttt'>X</span> may be referred to
using the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id____'><span class='textsf'><i >qualified-id</i></span></span></a> expression <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>s</span>; it is not
necessary to use the class member access syntax (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) to
refer to a static member<a class='hidden_link' href='#class.static.general-1.sentence-1'>.</a></div> <div id='class.static.general-1.sentence-2' class='sentence'>A static member may be
referred to using the class member access syntax, in which case the
object expression is evaluated<a class='hidden_link' href='#class.static.general-1.sentence-2'>.</a></div> <div id='class.static.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.static.general-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> process <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
process<span class='operator'>&amp;</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  process<span class='operator'>::</span>reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, no object necessary</span>
  g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>g()</span> is called</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.static.general-2'><div class='marginalizedparent'><a class='marginalized' href='#class.static.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2645'>#</a></div><div class='texpara'><div id='class.static.general-2.sentence-1' class='sentence'>Static members obey the usual class member access rules (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#class.static.general-2.sentence-1'>.</a></div> <div id='class.static.general-2.sentence-2' class='sentence'>When used in the declaration of a class
member, the <span id=':static__'><span class='texttt'><span class='keyword'>static</span></span></span> specifier shall only be used in the member
declarations that appear within the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification___________'><span class='textsf'><i >member-specification</i></span></span></a> of
the class definition<a class='hidden_link' href='#class.static.general-2.sentence-2'>.</a></div> <div id='class.static.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.static.general-note-1'>1</a></i>:&ensp;<div id='class.static.general-2.sentence-3' class='sentence'>It cannot be specified in member declarations that appear in namespace scope<a class='hidden_link' href='#class.static.general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.static.mfct' class='section'><h4 ><a class='secnum' href='#class.static.mfct' style='min-width:95pt'>11.4.9.2</a> Static member functions <a class='abbr_ref' href='class.static.mfct'>[class.static.mfct]</a></h4><div class='texpara'><a class='index' id=':member_function,static'></a></div><div class='para nonNormativeOnly' id='class.static.mfct-1'><div class='marginalizedparent'><a class='marginalized' href='#class.static.mfct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2658'>#</a></div><div class='texpara'><div id='class.static.mfct-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.static.mfct-note-1'>1</a></i>:&ensp;<div id='class.static.mfct-1.sentence-1' class='sentence'>The rules described in <a href='#class.mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a> apply to static member
functions<a class='hidden_link' href='#class.static.mfct-1.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.static.mfct-2'><div class='marginalizedparent'><a class='marginalized' href='#class.static.mfct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2664'>#</a></div><div class='texpara'><div id='class.static.mfct-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.static.mfct-note-2'>2</a></i>:&ensp;<div id='class.static.mfct-2.sentence-1' class='sentence'>A static member function does not have a <span id=':this_'><span class='texttt'><span class='keyword'>this</span></span></span>
pointer (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>)<a class='hidden_link' href='#class.static.mfct-2.sentence-1'>.</a></div> <div id='class.static.mfct-2.sentence-2' class='sentence'>A static member function cannot be qualified with <span id=':const__________'><span class='texttt'><span class='keyword'>const</span></span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>, or <span id=':virtual__'><span class='texttt'><span class='keyword'>virtual</span></span></span> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#class.static.mfct-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.static.data' class='section'><h4 ><a class='secnum' href='#class.static.data' style='min-width:95pt'>11.4.9.3</a> Static data members <a class='abbr_ref' href='class.static.data'>[class.static.data]</a></h4><div class='texpara'><a class='index' id=':member_data,static'></a></div><div class='para' id='class.static.data-1'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2675'>#</a></div><div class='texpara'><div id='class.static.data-1.sentence-1' class='sentence'>A static data member is not part of the subobjects of a class<a class='hidden_link' href='#class.static.data-1.sentence-1'>.</a></div> <div id='class.static.data-1.sentence-2' class='sentence'>If a
static data member is declared <span id=':thread_local_'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span> there is one copy of
the member per thread<a class='hidden_link' href='#class.static.data-1.sentence-2'>.</a></div> <div id='class.static.data-1.sentence-3' class='sentence'>If a static data member is not declared
<span id=':thread_local__'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span> there is one copy of the data member that is shared by all
the objects of the class<a class='hidden_link' href='#class.static.data-1.sentence-3'>.</a></div></div></div><div class='para' id='class.static.data-2'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2682'>#</a></div><div class='texpara'><div id='class.static.data-2.sentence-1' class='sentence'>A static data member shall not be <span id=':mutable'><span class='texttt'><span class='keyword'>mutable</span></span></span> (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>)<a class='hidden_link' href='#class.static.data-2.sentence-1'>.</a></div> <div id='class.static.data-2.sentence-2' class='sentence'>A static data member shall not be a direct member ([class.<span class='shy'></span>mem])
of an unnamed (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) or local (<a href='class.local' title='11.6&emsp;Local class declarations'>[class.<span class='shy'></span>local]</a>) class or
of a (possibly indirectly) nested class (<a href='#class.nest' title='11.4.12&emsp;Nested class declarations'>[class.<span class='shy'></span>nest]</a>) thereof<a class='hidden_link' href='#class.static.data-2.sentence-2'>.</a></div></div></div><div class='para' id='class.static.data-3'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2688'>#</a></div><div class='texpara'><div id='class.static.data-3.sentence-1' class='sentence'><a class='index' id=':initialization,static_member'></a><a class='index' id=':definition,static_member'></a>The declaration of a non-inline
static data member in its class definition
is not a definition and may be of an incomplete type other than
<span class='mathit'>cv</span> <span id=':void__'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#class.static.data-3.sentence-1'>.</a></div> <a class='index' id=':operator_use,scope_resolution'></a><div id='class.static.data-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.static.data-note-1'>1</a></i>:&ensp;<div id='class.static.data-3.sentence-2' class='sentence'>The <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer'><span class='textsf'><i >initializer</i></span></span></a> in the definition of a
static data member is in the scope of its
class (<a href='basic.scope.class' title='6.4.7&emsp;Class scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>class]</a>)<a class='hidden_link' href='#class.static.data-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='class.static.data-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.static.data-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> process <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> process<span class='operator'>*</span> run_chain;
  <span class='keyword'>static</span> process<span class='operator'>*</span> running;
<span class='curlybracket'>}</span>;

process<span class='operator'>*</span> process<span class='operator'>::</span>running <span class='operator'>=</span> get_main<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
process<span class='operator'>*</span> process<span class='operator'>::</span>run_chain <span class='operator'>=</span> running;
</span></div><div class='texpara'><div id='class.static.data-3.sentence-3' class='sentence'>The definition of the static data member <span class='texttt'>run_<span class='shy'></span>chain</span> of class
<span class='texttt'>process</span> inhabits the global scope; the notation
<span class='texttt'>process<span class='operator'>&#x200b;::&#x200b;</span>run_<span class='shy'></span>chain</span> indicates that the member <span class='texttt'>run_<span class='shy'></span>chain</span>
is a member of class <span class='texttt'>process</span> and in the scope of class
<span class='texttt'>process</span><a class='hidden_link' href='#class.static.data-3.sentence-3'>.</a></div> <div id='class.static.data-3.sentence-4' class='sentence'>In the static data member definition, the
<a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_'><span class='textsf'><i >initializer</i></span></span></a> expression refers to the static data
member <span class='texttt'>running</span> of class <span class='texttt'>process</span><a class='hidden_link' href='#class.static.data-3.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div id='class.static.data-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.static.data-note-2'>2</a></i>:&ensp;<div id='class.static.data-3.sentence-5' class='sentence'>Once the static data member has been defined, it exists even if
no objects of its class have been created<a class='hidden_link' href='#class.static.data-3.sentence-5'>.</a></div> <div id='class.static.data-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.static.data-example-2'>2</a></i>:&ensp;<div id='class.static.data-3.sentence-6' class='sentence'>In the example above, <span class='texttt'>run_<span class='shy'></span>chain</span> and <span class='texttt'>running</span> exist even
if no objects of class <span class='texttt'>process</span> are created by the program<a class='hidden_link' href='#class.static.data-3.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='class.static.data-3.sentence-7' class='sentence'>
The initialization and destruction of static data members is described in
<a href='basic.start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>, <a href='basic.start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a>, and <a href='basic.start.term' title='6.9.3.4&emsp;Termination'>[basic.<span class='shy'></span>start.<span class='shy'></span>term]</a><a class='hidden_link' href='#class.static.data-3.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.static.data-4'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2732'>#</a></div><div class='texpara'><div id='class.static.data-4.sentence-1' class='sentence'>If a non-volatile non-inline <span id=':const___________'><span class='texttt'><span class='keyword'>const</span></span></span> static data member is
of integral or enumeration type,
its declaration in the class definition can specify a
<a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_____________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> in which every
<a href='dcl.init.general#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause'><span class='textsf'><i >initializer-clause</i></span></span></a> that is an <a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression'><span class='textsf'><i >assignment-expression</i></span></span></a>
is a constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#class.static.data-4.sentence-1'>.</a></div> <div id='class.static.data-4.sentence-2' class='sentence'>The member shall still be defined in a namespace scope if
it is odr-used (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) in the program and the
namespace scope definition shall not contain an <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer__'><span class='textsf'><i >initializer</i></span></span></a><a class='hidden_link' href='#class.static.data-4.sentence-2'>.</a></div> <div id='class.static.data-4.sentence-3' class='sentence'>The declaration of an inline static data member (which is a definition)
may specify a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer______________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><a class='hidden_link' href='#class.static.data-4.sentence-3'>.</a></div> <div id='class.static.data-4.sentence-4' class='sentence'>If the
member is declared with the <span id=':constexpr______'><span class='texttt'><span class='keyword'>constexpr</span></span></span> specifier, it may be
redeclared in namespace scope with no initializer (this usage is
deprecated; see <a href='depr.static.constexpr' title='D.6&emsp;Redeclaration of static constexpr data members'>[depr.<span class='shy'></span>static.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#class.static.data-4.sentence-4'>.</a></div> <div id='class.static.data-4.sentence-5' class='sentence'>Declarations of other
static data members shall not specify a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_______________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><a class='hidden_link' href='#class.static.data-4.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.static.data-5'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2749'>#</a></div><div class='texpara'><div id='class.static.data-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.static.data-note-3'>3</a></i>:&ensp;<div id='class.static.data-5.sentence-1' class='sentence'>There is exactly one definition of a static data member
that is odr-used (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) in a valid program<a class='hidden_link' href='#class.static.data-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.static.data-6'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2755'>#</a></div><div class='texpara'><div id='class.static.data-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.static.data-note-4'>4</a></i>:&ensp;<div id='class.static.data-6.sentence-1' class='sentence'>Static data members of a class in namespace scope have the linkage of the name of the class (<a href='basic.link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#class.static.data-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div></div><div id='class.bit' class='section'><h3 ><a class='secnum' href='#class.bit' style='min-width:80pt'>11.4.10</a> Bit-fields <a class='abbr_ref' href='class.bit'>[class.bit]</a></h3><div class='texpara'><a class='index' id=':bit-field'></a></div><div class='para' id='class.bit-1'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2763'>#</a></div><div class='texpara'><div id='class.bit-1.sentence-1' class='sentence'>A <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator______'><span class='textsf'><i >member-declarator</i></span></span></a> of the form
<div class='simplebnf'>
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='operator'>:</span></span> <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression___'><span class='textsf'><i >constant-expression</i></span></span></a> <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer________________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
<a class='index' id='::,bit-field_declaration'></a><a class='index' id=':declaration,bit-field'></a>specifies a bit-field<a class='hidden_link' href='#class.bit-1.sentence-1'>.</a></div> <div id='class.bit-1.sentence-2' class='sentence'>The optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq__________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> appertains
to the entity being declared<a class='hidden_link' href='#class.bit-1.sentence-2'>.</a></div> <div id='class.bit-1.sentence-3' class='sentence'>A bit-field shall not be a static member<a class='hidden_link' href='#class.bit-1.sentence-3'>.</a></div> <div id='class.bit-1.sentence-4' class='sentence'><a class='index' id=':bit-field,type_of'></a>A bit-field shall have integral or (possibly cv-qualified) enumeration type;
the bit-field semantic property is not part of the type of the class member<a class='hidden_link' href='#class.bit-1.sentence-4'>.</a></div> <div id='class.bit-1.sentence-5' class='sentence'>The <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression____'><span class='textsf'><i >constant-expression</i></span></span></a> shall be an integral constant expression
with a value greater than or equal to zero and
is called the <a class='hidden_link' href='#def:width' title='11.4.10&emsp;Bit-fields&emsp;[class.bit]'><span id='def:width'><i >width</i></span></a> of the bit-field<a class='hidden_link' href='#class.bit-1.sentence-5'>.</a></div> <div id='class.bit-1.sentence-6' class='sentence'>If the width of a bit-field is larger than
the width of the bit-field's type
(or, in case of an enumeration type, of its underlying type),
the extra bits are padding bits (<a href='basic.types.general#term.padding.bits' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#class.bit-1.sentence-6'>.</a></div> <div id='class.bit-1.sentence-7' class='sentence'><a class='index' id=':allocation,implementation-defined_bit-field'></a>Allocation of bit-fields within a class object is
<a class='index' id=':allocation_of_bit-fields_within_a_class_object'></a>implementation-defined<a class='hidden_link' href='#class.bit-1.sentence-7'>.</a></div> <div id='class.bit-1.sentence-8' class='sentence'><a class='index' id=':bit-field,implementation-defined_alignment_of'></a>Alignment of bit-fields is <a class='index' id=':alignment_of_bit-fields_within_a_class_object'></a>implementation-defined<a class='hidden_link' href='#class.bit-1.sentence-8'>.</a></div> <div id='class.bit-1.sentence-9' class='sentence'><a class='index' id=':layout,bit-field'></a>Bit-fields are packed into some addressable allocation unit<a class='hidden_link' href='#class.bit-1.sentence-9'>.</a></div> <div id='class.bit-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.bit-note-1'>1</a></i>:&ensp;<div id='class.bit-1.sentence-10' class='sentence'>Bit-fields straddle allocation units on some machines and not on others<a class='hidden_link' href='#class.bit-1.sentence-10'>.</a></div> <div id='class.bit-1.sentence-11' class='sentence'>Bit-fields are assigned right-to-left on some machines, left-to-right on
others<a class='hidden_link' href='#class.bit-1.sentence-11'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.bit-2'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2797'>#</a></div><div class='texpara'><div id='class.bit-2.sentence-1' class='sentence'><a class='index' id=':bit-field,unnamed'></a>A declaration for a bit-field that omits the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a>
declares an <a class='hidden_link' href='#def:unnamed_bit-field' title='11.4.10&emsp;Bit-fields&emsp;[class.bit]'><span id='def:unnamed_bit-field'><i >unnamed bit-field</i></span></a><a class='hidden_link' href='#class.bit-2.sentence-1'>.</a></div> <div id='class.bit-2.sentence-2' class='sentence'>Unnamed bit-fields are not
members and cannot be initialized<a class='hidden_link' href='#class.bit-2.sentence-2'>.</a></div> <div id='class.bit-2.sentence-3' class='sentence'>An unnamed bit-field shall not be declared with a cv-qualified type<a class='hidden_link' href='#class.bit-2.sentence-3'>.</a></div> <div id='class.bit-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.bit-note-2'>2</a></i>:&ensp;<div id='class.bit-2.sentence-4' class='sentence'>An unnamed bit-field is useful for padding to conform to
externally-imposed layouts<a class='hidden_link' href='#class.bit-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.bit-2.sentence-5' class='sentence'><a class='index' id=':bit-field,zero_width_of'></a><a class='index' id=':bit-field,alignment_of'></a>As a special case, an unnamed bit-field with a width of zero specifies
alignment of the next bit-field at an allocation unit boundary<a class='hidden_link' href='#class.bit-2.sentence-5'>.</a></div> <div id='class.bit-2.sentence-6' class='sentence'>Only
when declaring an unnamed bit-field may the width be zero<a class='hidden_link' href='#class.bit-2.sentence-6'>.</a></div></div></div><div class='para' id='class.bit-3'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2813'>#</a></div><div class='texpara'><div id='class.bit-3.sentence-1' class='sentence'><a class='index' id=':bit-field,address_of'></a>The address-of operator <span class='texttt'><span class='operator'>&amp;</span></span> shall not be applied to a bit-field,
so there are no pointers to bit-fields<a class='hidden_link' href='#class.bit-3.sentence-1'>.</a></div> <div id='class.bit-3.sentence-2' class='sentence'><a class='index' id=':restriction,bit-field'></a><a class='index' id=':restriction,address_of_bit-field'></a><a class='index' id=':restriction,pointer_to_bit-field'></a>A non-const reference shall not bind to a bit-field (<a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#class.bit-3.sentence-2'>.</a></div> <div id='class.bit-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.bit-note-3'>3</a></i>:&ensp;<div id='class.bit-3.sentence-3' class='sentence'>If the initializer for a reference of type <span id=':const____________'><span class='texttt'><span class='keyword'>const</span></span></span> <span class='texttt'>T<span class='operator'>&amp;</span></span> is
an lvalue that refers to a bit-field, the reference is bound to a
temporary initialized to hold the value of the bit-field; the reference
is not bound to the bit-field directly<a class='hidden_link' href='#class.bit-3.sentence-3'>.</a></div> <div id='class.bit-3.sentence-4' class='sentence'>See <a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a><a class='hidden_link' href='#class.bit-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.bit-4'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2828'>#</a></div><div class='texpara'><div id='class.bit-4.sentence-1' class='sentence'>If a value of integral type (other than <span class='texttt'><span class='keyword'>bool</span></span>) is stored
into a bit-field of width <span class='math'><span class='mathalpha'>N</span></span> and the value would be representable
in a hypothetical signed or unsigned integer type
with width <span class='math'><span class='mathalpha'>N</span></span> and the same signedness as the bit-field's type,
the original value and the value of the bit-field compare equal<a class='hidden_link' href='#class.bit-4.sentence-1'>.</a></div> <div id='class.bit-4.sentence-2' class='sentence'>If the value <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span> is stored into a bit-field of
type <span class='texttt'><span class='keyword'>bool</span></span> of any size (including a one bit bit-field), the
original <span class='texttt'><span class='keyword'>bool</span></span> value and the value of the bit-field compare
equal<a class='hidden_link' href='#class.bit-4.sentence-2'>.</a></div> <div id='class.bit-4.sentence-3' class='sentence'>If a value of an enumeration type is stored into a bit-field of the
same type and the width is large
enough to hold all the values of that enumeration type (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),
the original value and the value of the bit-field compare equal<a class='hidden_link' href='#class.bit-4.sentence-3'>.</a></div> <div id='class.bit-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.bit-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>enum</span> BOOL <span class='curlybracket'>{</span> FALSE<span class='operator'>=</span><span class='literal'>0</span>, TRUE<span class='operator'>=</span><span class='literal'>1</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  BOOL b<span class='operator'>:</span><span class='literal'>1</span>;
<span class='curlybracket'>}</span>;
A a;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  a<span class='operator'>.</span>b <span class='operator'>=</span> TRUE;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='operator'>.</span>b <span class='operator'>=</span><span class='operator'>=</span> TRUE<span class='parenthesis'>)</span>              <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span></span>
    <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='class.free' class='section'><h3 ><a class='secnum' href='#class.free' style='min-width:80pt'>11.4.11</a> Allocation and deallocation functions <a class='abbr_ref' href='class.free'>[class.free]</a></h3><div class='texpara'><a class='index' id=':free_store'></a></div><div class='para' id='class.free-1'><div class='marginalizedparent'><a class='marginalized' href='#class.free-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2859'>#</a></div><div class='texpara'><div id='class.free-1.sentence-1' class='sentence'><a class='index' id=':new,type_of'></a><a class='index' id=':allocation_function,class-specific'></a>Any allocation function for a class
<span class='texttt'>T</span>
is a static member (even if not explicitly declared
<span id=':static___'><span class='texttt'><span class='keyword'>static</span></span></span>)<a class='hidden_link' href='#class.free-1.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.free-2'><div class='marginalizedparent'><a class='marginalized' href='#class.free-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2867'>#</a></div><div class='texpara'><div id='class.free-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.free-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> Arena;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, Arena<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D1 <span class='operator'>:</span> B <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>;

Arena<span class='operator'>*</span>  ap;
<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>new</span> <span class='parenthesis'>(</span>ap<span class='parenthesis'>)</span> D1;      <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator new(std&#x200b;::&#x200b;size_<span class='shy'></span>t, Arena*)</span></span>
  <span class='keyword'>new</span> D1<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;        <span class='comment'>// calls <span class='tcode_in_codeblock'>&#x200b;::&#x200b;operator new[](std&#x200b;::&#x200b;size_<span class='shy'></span>t)</span></span>
  <span class='keyword'>new</span> D1;           <span class='comment'>// error: <span class='tcode_in_codeblock'>&#x200b;::&#x200b;operator new(std&#x200b;::&#x200b;size_<span class='shy'></span>t)</span> hidden</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.free-3'><div class='marginalizedparent'><a class='marginalized' href='#class.free-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2886'>#</a></div><div class='texpara'><div id='class.free-3.sentence-1' class='sentence'><a class='index' id=':delete,type_of'></a><a class='index' id=':deallocation_function,class-specific'></a>Any deallocation function for a class
<span class='texttt'>X</span>
is a static member (even if not explicitly declared
<span id=':static____'><span class='texttt'><span class='keyword'>static</span></span></span>)<a class='hidden_link' href='#class.free-3.sentence-1'>.</a></div> <div id='class.free-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.free-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.free-4'><div class='marginalizedparent'><a class='marginalized' href='#class.free-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2907'>#</a></div><div class='texpara'><div id='class.free-4.sentence-1' class='sentence'>Since member allocation and deallocation functions are
<span id=':static_____'><span class='texttt'><span class='keyword'>static</span></span></span>
they cannot be virtual<a class='hidden_link' href='#class.free-4.sentence-1'>.</a></div> <div id='class.free-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.free-note-1'>1</a></i>:&ensp;<div id='class.free-4.sentence-2' class='sentence'>However, when the
<a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><i >cast-expression</i></span></span></a>
of a
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression___'><span class='textsf'><i >delete-expression</i></span></span></a>
refers to an object of class type with a virtual destructor,
because the deallocation function is chosen by the destructor
of the dynamic type of the object, the effect is the same in that case<a class='hidden_link' href='#class.free-4.sentence-2'>.</a></div> <div id='class.free-4.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> E <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> log_deletion<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span>E <span class='operator'>*</span>p, std<span class='operator'>::</span>destroying_delete_t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>log_deletion<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>E<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='operator'>::</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  B<span class='operator'>*</span> bp <span class='operator'>=</span> <span class='keyword'>new</span> D;
  <span class='keyword'>delete</span> bp;        <span class='comment'>// 1: uses <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;operator delete(void*)</span></span>
  bp <span class='operator'>=</span> <span class='keyword'>new</span> E;
  <span class='keyword'>delete</span> bp;        <span class='comment'>// 2: uses <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;operator delete(E*, std&#x200b;::&#x200b;destroying_<span class='shy'></span>delete_<span class='shy'></span>t)</span></span>
<span class='curlybracket'>}</span>
</span></div> <div id='class.free-4.sentence-4' class='sentence'>
Here, storage for the object of class
<span class='texttt'>D</span>
is deallocated by
<span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
and
the object of class <span class='texttt'>E</span> is destroyed
and its storage is deallocated
by <span class='texttt'>E<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
due to the virtual destructor<a class='hidden_link' href='#class.free-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.free-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.free-note-2'>2</a></i>:&ensp;<div id='class.free-4.sentence-5' class='sentence'>Virtual destructors have no effect on the deallocation function actually
called when the
<a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_'><span class='textsf'><i >cast-expression</i></span></span></a>
of a
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression____'><span class='textsf'><i >delete-expression</i></span></span></a>
refers to an array of objects of class type<a class='hidden_link' href='#class.free-4.sentence-5'>.</a></div> <div id='class.free-4.sentence-6' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D<span class='operator'>*</span> dp <span class='operator'>=</span> <span class='keyword'>new</span> D<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
  <span class='keyword'>delete</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span> dp;     <span class='comment'>// uses <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;operator delete[](void*, std&#x200b;::&#x200b;size_<span class='shy'></span>t)</span></span>
  B<span class='operator'>*</span> bp <span class='operator'>=</span> <span class='keyword'>new</span> D<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
  <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> bp;      <span class='comment'>// undefined behavior</span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.free-5'><div class='marginalizedparent'><a class='marginalized' href='#class.free-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2983'>#</a></div><div class='texpara'><div id='class.free-5.sentence-1' class='sentence'>Access to the deallocation function is checked statically,
even if a different one is actually executed<a class='hidden_link' href='#class.free-5.sentence-1'>.</a></div> <div id='class.free-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.free-example-3'>3</a></i>:&ensp;<div id='class.free-5.sentence-2' class='sentence'>For the call on line “// 1” above,
if
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
had been private, the delete expression would have been ill-formed<a class='hidden_link' href='#class.free-5.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.free-6'><div class='marginalizedparent'><a class='marginalized' href='#class.free-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L2993'>#</a></div><div class='texpara'><div id='class.free-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.free-note-3'>3</a></i>:&ensp;<div id='class.free-6.sentence-1' class='sentence'>If a deallocation function has no explicit <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_____'><span class='textsf'><i >noexcept-specifier</i></span></span></a>, it
has a non-throwing exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#class.free-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.nest' class='section'><h3 ><a class='secnum' href='#class.nest' style='min-width:80pt'>11.4.12</a> Nested class declarations <a class='abbr_ref' href='class.nest'>[class.nest]</a></h3><div class='texpara'><a class='index' id=':definition,nested_class'></a></div><div class='para' id='class.nest-1'><div class='marginalizedparent'><a class='marginalized' href='#class.nest-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L3002'>#</a></div><div class='texpara'><div id='class.nest-1.sentence-1' class='sentence'>A class can be declared within another class<a class='hidden_link' href='#class.nest-1.sentence-1'>.</a></div> <div id='class.nest-1.sentence-2' class='sentence'>A class declared within
another is called a <a class='hidden_link' href='#def:class,nested' title='11.4.12&emsp;Nested class declarations&emsp;[class.nest]'><span id='def:class,nested'><i >nested class</i></span></a><a class='hidden_link' href='#class.nest-1.sentence-2'>.</a></div> <div id='class.nest-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.nest-note-1'>1</a></i>:&ensp;<div id='class.nest-1.sentence-3' class='sentence'>See <a href='expr.prim.id' title='7.5.4&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a> for restrictions on the use of non-static data
members and non-static member functions<a class='hidden_link' href='#class.nest-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='class.nest-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.nest-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x;
<span class='keyword'>int</span> y;

<span class='keyword'>struct</span> enclose <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;

  <span class='keyword'>struct</span> inner <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> a <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;        <span class='comment'>// OK, operand of sizeof is an unevaluated operand</span>
      x <span class='operator'>=</span> i;                    <span class='comment'>// error: assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;x</span></span>
      s <span class='operator'>=</span> i;                    <span class='comment'>// OK, assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;s</span></span>
      <span class='operator'>::</span>x <span class='operator'>=</span> i;                  <span class='comment'>// OK, assign to global <span class='tcode_in_codeblock'>x</span></span>
      y <span class='operator'>=</span> i;                    <span class='comment'>// OK, assign to global <span class='tcode_in_codeblock'>y</span></span>
    <span class='curlybracket'>}</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>enclose<span class='operator'>*</span> p, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>x <span class='operator'>=</span> i;                 <span class='comment'>// OK, assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;x</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

inner<span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span>;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>inner</span> not found</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.nest-2'><div class='marginalizedparent'><a class='marginalized' href='#class.nest-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L3037'>#</a></div><div class='texpara'><div id='class.nest-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.nest-note-2'>2</a></i>:&ensp;<div id='class.nest-2.sentence-1' class='sentence'>Nested classes can be defined
either in the enclosing class or in an enclosing namespace;
member functions and static data members of a nested class can be
defined either in the nested class or in an enclosing namespace scope<a class='hidden_link' href='#class.nest-2.sentence-1'>.</a></div> <div id='class.nest-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.nest-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> enclose <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> inner <span class='curlybracket'>{</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> x;
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> enclose<span class='operator'>::</span>inner<span class='operator'>::</span>x <span class='operator'>=</span> <span class='literal'>1</span>;

<span class='keyword'>void</span> enclose<span class='operator'>::</span>inner<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>class</span> E <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> I1;                     <span class='comment'>// forward declaration of nested class</span>
  <span class='keyword'>class</span> I2;
  <span class='keyword'>class</span> I1 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// definition of nested class</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>class</span> E<span class='operator'>::</span>I2 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                <span class='comment'>// definition of nested class</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.nest-3'><div class='marginalizedparent'><a class='marginalized' href='#class.nest-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/classes.tex#L3066'>#</a></div><div class='texpara'><div id='class.nest-3.sentence-1' class='sentence'><a class='index' id=':friend_function,nested_class'></a>A friend function (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) defined
within a nested class has no special access rights to
members of an enclosing class<a class='hidden_link' href='#class.nest-3.sentence-1'>.</a></div></div></div></div></div></body></html>