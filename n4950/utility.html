<!DOCTYPE html><html lang='en'><head><title>[utility]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>22</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>22.2</a> Utility components <a class='abbr_ref'>[utility]</a></h2><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:80pt'>22.2.1</a> Header <span class='texttt'>&lt;utility&gt;</span> synopsis <a class='abbr_ref' href='utility.syn'>[utility.syn]</a></h3><div class='para' id='syn-1'><div class='marginalizedparent'><a class='marginalized' href='#syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L33'>#</a></div><div class='texpara'><div id='syn-1.sentence-1' class='sentence'>The header <span id='header:<utility>'><span class='texttt'><span class='anglebracket'>&lt;</span>utility<span class='anglebracket'>&gt;</span></span></span>
contains some basic function and class templates that are used
throughout the rest of the library<a class='hidden_link' href='#syn-1.sentence-1'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='comment'>// all freestanding</span>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>compare<span class='anglebracket'>&gt;</span>              <span class='comment'>// see <a href='compare.syn' title='17.11.1&emsp;Header &lt;compare&gt; synopsis'>[compare.<span class='shy'></span>syn]</a></span>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>initializer_list<span class='anglebracket'>&gt;</span>     <span class='comment'>// see <a href='initializer.list.syn' title='17.10.2&emsp;Header &lt;initializer_&shy;list&gt; synopsis'>[initializer.<span class='shy'></span>list.<span class='shy'></span>syn]</a></span>

<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='comment'>// <a href='#swap' title='22.2.2&emsp;swap'>[utility.<span class='shy'></span>swap]</a>, swap</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> a, T<span class='operator'>&amp;</span> b<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, size_t N<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>T <span class='parenthesis'>(</span><span class='operator'>&amp;</span>a<span class='parenthesis'>)</span><span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>, T <span class='parenthesis'>(</span><span class='operator'>&amp;</span>b<span class='parenthesis'>)</span><span class='squarebracket'>[</span>N<span class='squarebracket'>]</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span>is_nothrow_swappable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#exchange' title='22.2.3&emsp;exchange'>[utility.<span class='shy'></span>exchange]</a>, exchange</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T exchange<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> obj, U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> new_val<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#forward' title='22.2.4&emsp;Forward/move helpers'>[forward]</a>, forward/move</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> forward<span class='parenthesis'>(</span>remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> forward<span class='parenthesis'>(</span>remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> forward_like<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <i ><span class='texttt'>see below</span></i>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> move<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> conditional_t<span class='anglebracket'>&lt;</span>
        <span class='operator'>!</span>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_copy_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, <span class='keyword'>const</span> T<span class='operator'>&amp;</span>, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>
      move_if_noexcept<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> x<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='#as.const' title='22.2.5&emsp;Function template as_&shy;const'>[utility.<span class='shy'></span>as.<span class='shy'></span>const]</a>, <span class='tcode_in_codeblock'>as_<span class='shy'></span>const</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_const_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> as_const<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> as_const<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

  <span class='comment'>// <a href='#declval' title='22.2.6&emsp;Function template declval'>[declval]</a>, declval</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    add_rvalue_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> declval<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;   <span class='comment'>// as unevaluated operand</span>

  <span class='comment'>// <a href='#intcmp' title='22.2.7&emsp;Integer comparison functions'>[utility.<span class='shy'></span>intcmp]</a>, integer comparison functions</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_not_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_less<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_greater<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_less_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_greater_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> in_range<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='#underlying' title='22.2.8&emsp;Function template to_&shy;underlying'>[utility.<span class='shy'></span>underlying]</a>, <span class='tcode_in_codeblock'>to_<span class='shy'></span>underlying</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> underlying_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> to_underlying<span class='parenthesis'>(</span>T value<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='#unreachable' title='22.2.9&emsp;Function unreachable'>[utility.<span class='shy'></span>unreachable]</a>, unreachable</span>
  <span class='squarebracket'>[</span><span class='squarebracket'>[</span>noreturn<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span> unreachable<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='intseq' title='21.2&emsp;Compile-time integer sequences'>[intseq]</a>, compile-time integer sequences<a class='index' id='lib:index_sequence'></a><a class='index' id='lib:make_index_sequence'></a><a class='index' id='lib:index_sequence_for'></a></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> integer_sequence;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> I<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> index_sequence <span class='operator'>=</span> integer_sequence<span class='anglebracket'>&lt;</span>size_t, I<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, T N<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> make_integer_sequence <span class='operator'>=</span> integer_sequence<span class='anglebracket'>&lt;</span>T, <i ><span class='texttt'>see below</span></i><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t N<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> make_index_sequence <span class='operator'>=</span> make_integer_sequence<span class='anglebracket'>&lt;</span>size_t, N<span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> index_sequence_for <span class='operator'>=</span> make_index_sequence<span class='anglebracket'>&lt;</span><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='pairs' title='22.3&emsp;Pairs'>[pairs]</a>, class template <span class='tcode_in_codeblock'>pair</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> pair;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span> U1, <span class='keyword'>class</span> U2,
           <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> TQual, <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> UQual<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>typename</span> pair<span class='anglebracket'>&lt;</span>common_reference_t<span class='anglebracket'>&lt;</span>TQual<span class='anglebracket'>&lt;</span>T1<span class='anglebracket'>&gt;</span>, UQual<span class='anglebracket'>&lt;</span>U1<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>,
                                      common_reference_t<span class='anglebracket'>&lt;</span>TQual<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span>, UQual<span class='anglebracket'>&lt;</span>U2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>struct</span> basic_common_reference<span class='anglebracket'>&lt;</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span>, pair<span class='anglebracket'>&lt;</span>U1, U2<span class='anglebracket'>&gt;</span>, TQual, UQual<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
    <span class='keyword'>using</span> type <span class='operator'>=</span> pair<span class='anglebracket'>&lt;</span>common_reference_t<span class='anglebracket'>&lt;</span>TQual<span class='anglebracket'>&lt;</span>T1<span class='anglebracket'>&gt;</span>, UQual<span class='anglebracket'>&lt;</span>U1<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>,
                      common_reference_t<span class='anglebracket'>&lt;</span>TQual<span class='anglebracket'>&lt;</span>T2<span class='anglebracket'>&gt;</span>, UQual<span class='anglebracket'>&lt;</span>U2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span> U1, <span class='keyword'>class</span> U2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>typename</span> pair<span class='anglebracket'>&lt;</span>common_type_t<span class='anglebracket'>&lt;</span>T1, U1<span class='anglebracket'>&gt;</span>, common_type_t<span class='anglebracket'>&lt;</span>T2, U2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>struct</span> common_type<span class='anglebracket'>&lt;</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span>, pair<span class='anglebracket'>&lt;</span>U1, U2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
    <span class='keyword'>using</span> type <span class='operator'>=</span> pair<span class='anglebracket'>&lt;</span>common_type_t<span class='anglebracket'>&lt;</span>T1, U1<span class='anglebracket'>&gt;</span>, common_type_t<span class='anglebracket'>&lt;</span>T2, U2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
  <span class='curlybracket'>}</span>;

  <span class='comment'>// <a href='pairs.spec' title='22.3.3&emsp;Specialized algorithms'>[pairs.<span class='shy'></span>spec]</a>, pair specialized algorithms</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span> U1, <span class='keyword'>class</span> U2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>U1, U2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span> U1, <span class='keyword'>class</span> U2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> common_comparison_category_t<span class='anglebracket'>&lt;</span><i >synth-three-way-result</i><span class='anglebracket'>&lt;</span>T1, U1<span class='anglebracket'>&gt;</span>,
                                           <i >synth-three-way-result</i><span class='anglebracket'>&lt;</span>T2, U2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
      <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>U1, U2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>
      <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <i ><span class='texttt'>see below</span></i> make_pair<span class='parenthesis'>(</span>T1<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T2<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='pair.astuple' title='22.3.4&emsp;Tuple-like access to pair'>[pair.<span class='shy'></span>astuple]</a>, tuple-like access to pair</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> tuple_size;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> tuple_element;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> tuple_size<span class='anglebracket'>&lt;</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> tuple_element<span class='anglebracket'>&lt;</span>I, pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> tuple_element_t<span class='anglebracket'>&lt;</span>I, pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> tuple_element_t<span class='anglebracket'>&lt;</span>I, pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> tuple_element_t<span class='anglebracket'>&lt;</span>I, pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> tuple_element_t<span class='anglebracket'>&lt;</span>I, pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T1<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T1<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T1<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T1<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T2<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T2<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T2<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T2<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='pair.piecewise' title='22.3.5&emsp;Piecewise construction'>[pair.<span class='shy'></span>piecewise]</a>, pair piecewise construction</span>
  <span class='keyword'>struct</span> piecewise_construct_t <span class='curlybracket'>{</span>
    <span class='keyword'>explicit</span> piecewise_construct_t<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>inline</span> <span class='keyword'>constexpr</span> piecewise_construct_t piecewise_construct<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> tuple;         <span class='comment'>// defined in <a href='tuple.syn#header:%3ctuple%3e' title='22.4.2&emsp;Header &lt;tuple&gt; synopsis&emsp;[tuple.syn]'><span id='headerref:<tuple>'><span class='tcode_in_codeblock'>&lt;tuple&gt;</span></span></a></span>

  <span class='comment'>// in-place construction<a class='index' id='lib:in_place_t'></a><a class='index' id='lib:in_place'></a><a class='index' id='lib:in_place_type_t'></a><a class='index' id='lib:in_place_type'></a><a class='index' id='lib:in_place_index_t'></a><a class='index' id='lib:in_place_index'></a></span>
  <span class='keyword'>struct</span> in_place_t <span class='curlybracket'>{</span>
    <span class='keyword'>explicit</span> in_place_t<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>inline</span> <span class='keyword'>constexpr</span> in_place_t in_place<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> in_place_type_t <span class='curlybracket'>{</span>
      <span class='keyword'>explicit</span> in_place_type_t<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
    <span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> in_place_type<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> in_place_index_t <span class='curlybracket'>{</span>
      <span class='keyword'>explicit</span> in_place_index_t<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
    <span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span> in_place_index<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div></div></div><div id='swap' class='section'><h3 ><a class='secnum' href='#swap' style='min-width:80pt'>22.2.2</a> <span class='texttt'>swap</span> <a class='abbr_ref' href='utility.swap'>[utility.swap]</a></h3><div class='texpara'><div id='lib:swap'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> a, T<span class='operator'>&amp;</span> b<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='swap-1'><div class='marginalizedparent'><a class='marginalized' href='#swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L230'>#</a></div><div class='texpara'><div id='swap-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#swap-1.sentence-1'>.</a></div></div></div></div><div class='para' id='swap-2'><div class='marginalizedparent'><a class='marginalized' href='#swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L235'>#</a></div><div class='texpara'><div id='swap-2.sentence-1' class='sentence'><i >Preconditions</i>: Type
<span class='texttt'>T</span>
meets the
<i >Cpp17MoveConstructible</i> (Table <a href='utility.arg.requirements#tab:cpp17.moveconstructible' title='Table 31: Cpp17MoveConstructible requirements'>31</a>)
and
<i >Cpp17MoveAssignable</i> (Table <a href='utility.arg.requirements#tab:cpp17.moveassignable' title='Table 33: Cpp17MoveAssignable requirements'>33</a>)
requirements<a class='hidden_link' href='#swap-2.sentence-1'>.</a></div></div></div></div><div class='para' id='swap-3'><div class='marginalizedparent'><a class='marginalized' href='#swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L245'>#</a></div><div class='texpara'><div id='swap-3.sentence-1' class='sentence'><i >Effects</i>: Exchanges values stored in two locations<a class='hidden_link' href='#swap-3.sentence-1'>.</a></div></div></div></div><div class='para' id='swap-4'><div class='marginalizedparent'><a class='marginalized' href='#swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L249'>#</a></div><div class='texpara'><div id='swap-4.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to:</div></div><div class='texpara'><span class='codeblock'>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_move_assignable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
</span></div></div></div><div class='texpara'><div id='lib:swap_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, size_t N<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>T <span class='parenthesis'>(</span><span class='operator'>&amp;</span>a<span class='parenthesis'>)</span><span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>, T <span class='parenthesis'>(</span><span class='operator'>&amp;</span>b<span class='parenthesis'>)</span><span class='squarebracket'>[</span>N<span class='squarebracket'>]</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span>is_nothrow_swappable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='swap-5'><div class='marginalizedparent'><a class='marginalized' href='#swap-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L265'>#</a></div><div class='texpara'><div id='swap-5.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>swappable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#swap-5.sentence-1'>.</a></div></div></div></div><div class='para' id='swap-6'><div class='marginalizedparent'><a class='marginalized' href='#swap-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L269'>#</a></div><div class='texpara'><div id='swap-6.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>a<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span></span> is swappable with (<a href='swappable.requirements' title='16.4.4.3&emsp;Swappable requirements'>[swappable.<span class='shy'></span>requirements]</a>) <span class='texttt'>b<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span></span>
for all <span class='texttt'>i</span> in the range [<span class='texttt'><span class='literal'>0</span>, N</span>)<a class='hidden_link' href='#swap-6.sentence-1'>.</a></div></div></div></div><div class='para' id='swap-7'><div class='marginalizedparent'><a class='marginalized' href='#swap-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L274'>#</a></div><div class='texpara'><div id='swap-7.sentence-1' class='sentence'><i >Effects</i>: As if by <span class='texttt'>swap_<span class='shy'></span>ranges<span class='parenthesis'>(</span>a, a <span class='operator'>+</span> N, b<span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-7.sentence-1'>.</a></div></div></div></div></div><div id='exchange' class='section'><h3 ><a class='secnum' href='#exchange' style='min-width:80pt'>22.2.3</a> <span class='texttt'>exchange</span> <a class='abbr_ref' href='utility.exchange'>[utility.exchange]</a></h3><div class='texpara'><div id='lib:exchange'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:exchange'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> T exchange<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> obj, U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> new_val<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='exchange-1'><div class='marginalizedparent'><a class='marginalized' href='#exchange-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L288'>#</a></div><div class='texpara'><div id='exchange-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>T old_val <span class='operator'>=</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>obj<span class='parenthesis'>)</span>;
obj <span class='operator'>=</span> std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>new_val<span class='parenthesis'>)</span>;
<span class='keyword'>return</span> old_val;
</span></div></div></div></div><div class='para' id='exchange-2'><div class='marginalizedparent'><a class='marginalized' href='#exchange-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L297'>#</a></div><div class='texpara'><div id='exchange-2.sentence-1' class='sentence'><i >Remarks</i>: The exception specification is equivalent to:
<span class='codeblock'>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_assignable_v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, U<span class='anglebracket'>&gt;</span>
</span></div></div></div></div></div><div id='forward' class='section'><h3 ><a class='secnum' href='#forward' style='min-width:80pt'>22.2.4</a> Forward/move helpers <a class='abbr_ref' href='forward'>[forward]</a></h3><div class='para' id='forward-1'><div class='marginalizedparent'><a class='marginalized' href='#forward-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L308'>#</a></div><div class='texpara'><div id='forward-1.sentence-1' class='sentence'>The library provides templated helper functions to simplify
applying move semantics to an lvalue and to simplify the implementation
of forwarding functions<a class='hidden_link' href='#forward-1.sentence-1'>.</a></div> <div id='forward-1.sentence-2' class='sentence'><a class='index' id=':signal-safe,forward'></a><a class='index' id=':signal-safe,move'></a><a class='index' id=':signal-safe,move_if_noexcept'></a>All functions specified in this subclause are signal-safe (<a href='support.signal' title='17.13.5&emsp;Signal handlers'>[support.<span class='shy'></span>signal]</a>)<a class='hidden_link' href='#forward-1.sentence-2'>.</a></div></div></div><div class='texpara'><div id=':forward'><div id='lib:forward'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:forward'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> forward<span class='parenthesis'>(</span>remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> forward<span class='parenthesis'>(</span>remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='forward-2'><div class='marginalizedparent'><a class='marginalized' href='#forward-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L325'>#</a></div><div class='texpara'><div id='forward-2.sentence-1' class='sentence'><i >Mandates</i>: For the second overload, <span class='texttt'>is_<span class='shy'></span>lvalue_<span class='shy'></span>reference_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#forward-2.sentence-1'>.</a></div></div></div></div><div class='para' id='forward-3'><div class='marginalizedparent'><a class='marginalized' href='#forward-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L329'>#</a></div><div class='texpara'><div id='forward-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span><a class='hidden_link' href='#forward-3.sentence-1'>.</a></div></div></div></div><div class='para nonNormativeOnly' id='forward-4'><div class='marginalizedparent'><a class='marginalized' href='#forward-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L333'>#</a></div><div class='texpara'><div id='forward-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#forward-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> A1, <span class='keyword'>class</span> A2<span class='anglebracket'>&gt;</span>
shared_ptr<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> factory<span class='parenthesis'>(</span>A1<span class='operator'>&amp;</span><span class='operator'>&amp;</span> a1, A2<span class='operator'>&amp;</span><span class='operator'>&amp;</span> a2<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> shared_ptr<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>new</span> T<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>A1<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a1<span class='parenthesis'>)</span>, std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>A2<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a2<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> <span class='keyword'>double</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  shared_ptr<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> sp1 <span class='operator'>=</span> factory<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>2</span>, <span class='literal'>1.414</span><span class='parenthesis'>)</span>; <span class='comment'>// error: 2 will not bind to <span class='tcode_in_codeblock'>int&amp;</span></span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>2</span>;
  shared_ptr<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> sp2 <span class='operator'>=</span> factory<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>i, <span class='literal'>1.414</span><span class='parenthesis'>)</span>; <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</span> <div id='forward-4.sentence-1' class='sentence'>
In the first call to <span class='texttt'>factory</span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'><span class='keyword'>int</span></span>, so 2 is forwarded
to <span class='texttt'>A</span>'s constructor as an rvalue<a class='hidden_link' href='#forward-4.sentence-1'>.</a></div> <div id='forward-4.sentence-2' class='sentence'>In the second call to <span class='texttt'>factory</span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'><span class='keyword'>int</span><span class='operator'>&amp;</span></span>, so <span class='texttt'>i</span> is forwarded
to <span class='texttt'>A</span>'s constructor as an lvalue<a class='hidden_link' href='#forward-4.sentence-2'>.</a></div> <div id='forward-4.sentence-3' class='sentence'>In
both cases, <span class='texttt'>A2</span> is deduced as <span class='texttt'><span class='keyword'>double</span></span>, so
1.414 is forwarded to <span class='texttt'>A</span>'s constructor as an rvalue<a class='hidden_link' href='#forward-4.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div class='texpara'><div id='lib:forward_like'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:forward_like'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> forward_like<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <i ><span class='texttt'>see below</span></i>;
</code></div></div></div><div class='para' id='forward-5'><div class='marginalizedparent'><a class='marginalized' href='#forward-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L369'>#</a></div><div class='texpara'><div id='forward-5.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>T</span> is a referenceable type (<a href='defns.referenceable' title='3.43&emsp;referenceable type'>[defns.<span class='shy'></span>referenceable]</a>)<a class='hidden_link' href='#forward-5.sentence-1'>.</a></div></div></div></div><div class='para' id='forward-6'><div class='marginalizedparent'><a class='marginalized' href='#forward-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L373'>#</a></div><div class='texpara'><ul class='itemize'><li id='forward-6.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#forward-6.1'>(6.1)</a></div><div class='texpara'><div id='forward-6.1.sentence-1' class='sentence'>Let <span class='texttt'><span class='texttt'><i >COPY_<span class='shy'></span>CONST</i></span><span class='parenthesis'>(</span>A, B<span class='parenthesis'>)</span></span> be <span class='texttt'><span class='keyword'>const</span> B</span>
if <span class='texttt'>A</span> is a const type, otherwise <span class='texttt'>B</span><a class='hidden_link' href='#forward-6.1.sentence-1'>.</a></div></div></li><li id='forward-6.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#forward-6.2'>(6.2)</a></div><div class='texpara'><div id='forward-6.2.sentence-1' class='sentence'>Let <span class='texttt'><span class='texttt'><i >OVERRIDE_<span class='shy'></span>REF</i></span><span class='parenthesis'>(</span>A, B<span class='parenthesis'>)</span></span> be <span class='texttt'>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
if <span class='texttt'>A</span> is an rvalue reference type, otherwise <span class='texttt'>B<span class='operator'>&amp;</span></span><a class='hidden_link' href='#forward-6.2.sentence-1'>.</a></div></div></li><li id='forward-6.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#forward-6.3'>(6.3)</a></div><div class='texpara'><div id='forward-6.3.sentence-1' class='sentence'>Let <span class='texttt'>V</span> be
<span class='codeblock'><i >OVERRIDE_REF</i><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, <i >COPY_CONST</i><span class='parenthesis'>(</span>remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, remove_reference_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></li></ul></div></div></div><div class='para' id='forward-7'><div class='marginalizedparent'><a class='marginalized' href='#forward-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L388'>#</a></div><div class='texpara'><div id='forward-7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span><a class='hidden_link' href='#forward-7.sentence-1'>.</a></div></div></div></div><div class='para' id='forward-8'><div class='marginalizedparent'><a class='marginalized' href='#forward-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L392'>#</a></div><div class='texpara'><div id='forward-8.sentence-1' class='sentence'><i >Remarks</i>: The return type is <span class='texttt'>V</span><a class='hidden_link' href='#forward-8.sentence-1'>.</a></div></div></div></div><div class='para nonNormativeOnly' id='forward-9'><div class='marginalizedparent'><a class='marginalized' href='#forward-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L396'>#</a></div><div class='texpara'><div id='forward-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#forward-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> accessor <span class='curlybracket'>{</span>
  vector<span class='anglebracket'>&lt;</span>string<span class='anglebracket'>&gt;</span><span class='operator'>*</span> container;
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>)</span> <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>auto</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> self, size_t i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> std<span class='operator'>::</span>forward_like<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>self<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='operator'>*</span>container<span class='parenthesis'>)</span><span class='squarebracket'>[</span>i<span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  vector v<span class='curlybracket'>{</span><span class='literal'>"a"s</span>, <span class='literal'>"b"s</span><span class='curlybracket'>}</span>;
  accessor a<span class='curlybracket'>{</span><span class='operator'>&amp;</span>v<span class='curlybracket'>}</span>;
  string<span class='operator'>&amp;</span> x <span class='operator'>=</span> a<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span>;                             <span class='comment'>// OK, binds to lvalue reference</span>
  string<span class='operator'>&amp;</span><span class='operator'>&amp;</span> y <span class='operator'>=</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span>;                 <span class='comment'>// OK, is rvalue reference</span>
  string <span class='keyword'>const</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> z <span class='operator'>=</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span>as_const<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span>; <span class='comment'>// OK, is <span class='tcode_in_codeblock'>const&amp;&amp;</span></span>
  string<span class='operator'>&amp;</span> w <span class='operator'>=</span> as_const<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span>;                   <span class='comment'>// error: will not bind to non-const</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div class='texpara'><div id=':move'><div id='lib:move,function'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move,function'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> move<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='forward-10'><div class='marginalizedparent'><a class='marginalized' href='#forward-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L424'>#</a></div><div class='texpara'><div id='forward-10.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span><a class='hidden_link' href='#forward-10.sentence-1'>.</a></div></div></div></div><div class='para nonNormativeOnly' id='forward-11'><div class='marginalizedparent'><a class='marginalized' href='#forward-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L428'>#</a></div><div class='texpara'><div id='forward-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#forward-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> A1<span class='anglebracket'>&gt;</span>
shared_ptr<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> factory<span class='parenthesis'>(</span>A1<span class='operator'>&amp;</span><span class='operator'>&amp;</span> a1<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> shared_ptr<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>new</span> T<span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>A1<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a1<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  A<span class='parenthesis'>(</span><span class='keyword'>const</span> A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;      <span class='comment'>// copies from lvalues</span>
  A<span class='parenthesis'>(</span>A<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;           <span class='comment'>// moves from rvalues</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  shared_ptr<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> sp1 <span class='operator'>=</span> factory<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;                <span class='comment'>// “<span class='tcode_in_codeblock'>a</span>'' binds to <span class='tcode_in_codeblock'>A(const A&amp;)</span></span>
  shared_ptr<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> sp2 <span class='operator'>=</span> factory<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;     <span class='comment'>// “<span class='tcode_in_codeblock'>a</span>'' binds to <span class='tcode_in_codeblock'>A(A&amp;&amp;)</span></span>
<span class='curlybracket'>}</span>
</span> <div id='forward-11.sentence-1' class='sentence'>
In the first call to <span class='texttt'>factory</span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'>A<span class='operator'>&amp;</span></span>, so <span class='texttt'>a</span> is forwarded
as a non-const lvalue<a class='hidden_link' href='#forward-11.sentence-1'>.</a></div> <div id='forward-11.sentence-2' class='sentence'>This binds to the constructor <span class='texttt'>A<span class='parenthesis'>(</span><span class='keyword'>const</span> A<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span>,
which copies the value from <span class='texttt'>a</span><a class='hidden_link' href='#forward-11.sentence-2'>.</a></div> <div id='forward-11.sentence-3' class='sentence'>In the second call to <span class='texttt'>factory</span>, because of the call
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span></span>,
<span class='texttt'>A1</span> is deduced as <span class='texttt'>A</span>, so <span class='texttt'>a</span> is forwarded
as an rvalue<a class='hidden_link' href='#forward-11.sentence-3'>.</a></div> <div id='forward-11.sentence-4' class='sentence'>This binds to the constructor <span class='texttt'>A<span class='parenthesis'>(</span>A<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span>,
which moves the value from <span class='texttt'>a</span><a class='hidden_link' href='#forward-11.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div class='texpara'><div id='lib:move_if_noexcept'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:move_if_noexcept'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> conditional_t<span class='anglebracket'>&lt;</span>
    <span class='operator'>!</span>is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_copy_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, <span class='keyword'>const</span> T<span class='operator'>&amp;</span>, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>
  move_if_noexcept<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> x<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='forward-12'><div class='marginalizedparent'><a class='marginalized' href='#forward-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L468'>#</a></div><div class='texpara'><div id='forward-12.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span><a class='hidden_link' href='#forward-12.sentence-1'>.</a></div></div></div></div></div><div id='as.const' class='section'><h3 ><a class='secnum' href='#as.const' style='min-width:80pt'>22.2.5</a> Function template <span class='texttt'>as_<span class='shy'></span>const</span> <a class='abbr_ref' href='utility.as.const'>[utility.as.const]</a></h3><div class='texpara'><div id='lib:as_const'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:as_const'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> add_const_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> as_const<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='as.const-1'><div class='marginalizedparent'><a class='marginalized' href='#as.const-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L481'>#</a></div><div class='texpara'><div id='as.const-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>t</span><a class='hidden_link' href='#as.const-1.sentence-1'>.</a></div></div></div></div></div><div id='declval' class='section'><h3 ><a class='secnum' href='#declval' style='min-width:80pt'>22.2.6</a> Function template <span class='texttt'>declval</span> <a class='abbr_ref' href='declval'>[declval]</a></h3><div class='para' id='declval-1'><div class='marginalizedparent'><a class='marginalized' href='#declval-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L488'>#</a></div><div class='texpara'><div id='declval-1.sentence-1' class='sentence'>The library provides the function template <span class='texttt'>declval</span> to simplify the definition of
expressions which occur as unevaluated operands (<a href='expr.context#term.unevaluated.operand' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)<a class='hidden_link' href='#declval-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:declval'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:declval'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> add_rvalue_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> declval<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;    <span class='comment'>// as unevaluated operand</span>
</code></div></div></div><div class='para' id='declval-2'><div class='marginalizedparent'><a class='marginalized' href='#declval-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L498'>#</a></div><div class='texpara'><div id='declval-2.sentence-1' class='sentence'><i >Mandates</i>: This function is not odr-used (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)<a class='hidden_link' href='#declval-2.sentence-1'>.</a></div></div></div></div><div class='para' id='declval-3'><div class='marginalizedparent'><a class='marginalized' href='#declval-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L502'>#</a></div><div class='texpara'><div id='declval-3.sentence-1' class='sentence'><i >Remarks</i>: The template parameter <span class='texttt'>T</span> of <span class='texttt'>declval</span> may be an incomplete type<a class='hidden_link' href='#declval-3.sentence-1'>.</a></div></div></div></div><div class='para nonNormativeOnly' id='declval-4'><div class='marginalizedparent'><a class='marginalized' href='#declval-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L506'>#</a></div><div class='texpara'><div id='declval-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#declval-example-1'>1</a></i>:&ensp;<div id='declval-4.sentence-1' class='sentence'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> To, <span class='keyword'>class</span> From<span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>To<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>declval<span class='anglebracket'>&lt;</span>From<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> convert<span class='parenthesis'>(</span>From<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</span>
declares a function template <span class='texttt'>convert</span> which only participates in overload resolution if the
type <span class='texttt'>From</span> can be explicitly converted to type <span class='texttt'>To</span><a class='hidden_link' href='#declval-4.sentence-1'>.</a></div> <div id='declval-4.sentence-2' class='sentence'>For another example see class
template <span class='texttt'>common_<span class='shy'></span>type</span> (<a href='meta.trans.other' title='21.3.8.7&emsp;Other transformations'>[meta.<span class='shy'></span>trans.<span class='shy'></span>other]</a>)<a class='hidden_link' href='#declval-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div></div><div id='intcmp' class='section'><h3 ><a class='secnum' href='#intcmp' style='min-width:80pt'>22.2.7</a> Integer comparison functions <a class='abbr_ref' href='utility.intcmp'>[utility.intcmp]</a></h3><div class='texpara'><div id='lib:cmp_equal'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:cmp_equal'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='intcmp-1'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L526'>#</a></div><div class='texpara'><div id='intcmp-1.sentence-1' class='sentence'><i >Mandates</i>: Both <span class='texttt'>T</span> and <span class='texttt'>U</span> are standard integer types or
extended integer types (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)<a class='hidden_link' href='#intcmp-1.sentence-1'>.</a></div></div></div></div><div class='para' id='intcmp-2'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L531'>#</a></div><div class='texpara'><div id='intcmp-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>using</span> UT <span class='operator'>=</span> make_unsigned_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
<span class='keyword'>using</span> UU <span class='operator'>=</span> make_unsigned_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>;
<span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_signed_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>=</span><span class='operator'>=</span> is_signed_v<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> t <span class='operator'>=</span><span class='operator'>=</span> u;
<span class='keyword'>else</span> <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_signed_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> t <span class='anglebracket'>&lt;</span> <span class='literal'>0</span> <span class='operator'>?</span> <span class='literal'>false</span> <span class='operator'>:</span> UT<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> u;
<span class='keyword'>else</span>
  <span class='keyword'>return</span> u <span class='anglebracket'>&lt;</span> <span class='literal'>0</span> <span class='operator'>?</span> <span class='literal'>false</span> <span class='operator'>:</span> t <span class='operator'>=</span><span class='operator'>=</span> UU<span class='parenthesis'>(</span>u<span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:cmp_not_equal'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:cmp_not_equal'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_not_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='intcmp-3'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L553'>#</a></div><div class='texpara'><div id='intcmp-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='operator'>!</span>cmp_<span class='shy'></span>equal<span class='parenthesis'>(</span>t, u<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:cmp_less'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:cmp_less'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_less<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='intcmp-4'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L565'>#</a></div><div class='texpara'><div id='intcmp-4.sentence-1' class='sentence'><i >Mandates</i>: Both <span class='texttt'>T</span> and <span class='texttt'>U</span> are standard integer types or
extended integer types (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)<a class='hidden_link' href='#intcmp-4.sentence-1'>.</a></div></div></div></div><div class='para' id='intcmp-5'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L570'>#</a></div><div class='texpara'><div id='intcmp-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>using</span> UT <span class='operator'>=</span> make_unsigned_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
<span class='keyword'>using</span> UU <span class='operator'>=</span> make_unsigned_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>;
<span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_signed_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>=</span><span class='operator'>=</span> is_signed_v<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> t <span class='anglebracket'>&lt;</span> u;
<span class='keyword'>else</span> <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>is_signed_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>return</span> t <span class='anglebracket'>&lt;</span> <span class='literal'>0</span> <span class='operator'>?</span> <span class='literal'>true</span> <span class='operator'>:</span> UT<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> u;
<span class='keyword'>else</span>
  <span class='keyword'>return</span> u <span class='anglebracket'>&lt;</span> <span class='literal'>0</span> <span class='operator'>?</span> <span class='literal'>false</span> <span class='operator'>:</span> t <span class='anglebracket'>&lt;</span> UU<span class='parenthesis'>(</span>u<span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:cmp_greater'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:cmp_greater'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_greater<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='intcmp-6'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L592'>#</a></div><div class='texpara'><div id='intcmp-6.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> cmp_<span class='shy'></span>less<span class='parenthesis'>(</span>u, t<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:cmp_less_equal'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:cmp_less_equal'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_less_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='intcmp-7'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L604'>#</a></div><div class='texpara'><div id='intcmp-7.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='operator'>!</span>cmp_<span class='shy'></span>greater<span class='parenthesis'>(</span>t, u<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:cmp_greater_equal'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:cmp_greater_equal'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> cmp_greater_equal<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='intcmp-8'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L616'>#</a></div><div class='texpara'><div id='intcmp-8.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='operator'>!</span>cmp_<span class='shy'></span>less<span class='parenthesis'>(</span>t, u<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:in_range'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:in_range'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> in_range<span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='intcmp-9'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L628'>#</a></div><div class='texpara'><div id='intcmp-9.sentence-1' class='sentence'><i >Mandates</i>: Both <span class='texttt'>T</span> and <span class='texttt'>R</span> are standard integer types or
extended integer types (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)<a class='hidden_link' href='#intcmp-9.sentence-1'>.</a></div></div></div></div><div class='para' id='intcmp-10'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L633'>#</a></div><div class='texpara'><div id='intcmp-10.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> cmp_greater_equal<span class='parenthesis'>(</span>t, numeric_limits<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='operator'>::</span>min<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
       cmp_less_equal<span class='parenthesis'>(</span>t, numeric_limits<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='operator'>::</span>max<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para nonNormativeOnly' id='intcmp-11'><div class='marginalizedparent'><a class='marginalized' href='#intcmp-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L642'>#</a></div><div class='texpara'><div id='intcmp-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#intcmp-note-1'>1</a></i>:&ensp;<div id='intcmp-11.sentence-1' class='sentence'>These function templates cannot be used to compare
<span class='texttt'>byte</span>,
<span class='texttt'><span class='keyword'>char</span></span>,
<span id=':char8_t'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>,
<span id=':char16_t'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>,
<span id=':char32_t'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>,
<span id=':wchar_t'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span>, and
<span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#intcmp-11.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='underlying' class='section'><h3 ><a class='secnum' href='#underlying' style='min-width:80pt'>22.2.8</a> Function template <span class='texttt'>to_<span class='shy'></span>underlying</span> <a class='abbr_ref' href='utility.underlying'>[utility.underlying]</a></h3><div class='texpara'><div id='lib:to_underlying'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:to_underlying'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> underlying_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> to_underlying<span class='parenthesis'>(</span>T value<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='underlying-1'><div class='marginalizedparent'><a class='marginalized' href='#underlying-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L663'>#</a></div><div class='texpara'><div id='underlying-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>underlying_<span class='shy'></span>type_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span></span><a class='hidden_link' href='#underlying-1.sentence-1'>.</a></div></div></div></div></div><div id='unreachable' class='section'><h3 ><a class='secnum' href='#unreachable' style='min-width:80pt'>22.2.9</a> Function <span class='texttt'>unreachable</span> <a class='abbr_ref' href='utility.unreachable'>[utility.unreachable]</a></h3><div class='texpara'><div id='lib:unreachable'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:unreachable'>🔗</a></div><code class='itemdeclcode'><span class='squarebracket'>[</span><span class='squarebracket'>[</span>noreturn<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>void</span> unreachable<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='unreachable-1'><div class='marginalizedparent'><a class='marginalized' href='#unreachable-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L676'>#</a></div><div class='texpara'><div id='unreachable-1.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'><span class='literal'>false</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#unreachable-1.sentence-1'>.</a></div> <div id='unreachable-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#unreachable-note-1'>1</a></i>:&ensp;<div id='unreachable-1.sentence-2' class='sentence'>This precondition cannot be satisfied, thus the behavior
of calling <span class='texttt'>unreachable</span> is undefined<a class='hidden_link' href='#unreachable-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para nonNormativeOnly' id='unreachable-2'><div class='marginalizedparent'><a class='marginalized' href='#unreachable-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/dbd2450ef21216a8eff8e7c454db6c4e1683bbf5/source/utilities.tex#L684'>#</a></div><div class='texpara'><div id='unreachable-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#unreachable-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>switch</span> <span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>case</span> <span class='literal'>0</span><span class='operator'>:</span>
  <span class='keyword'>case</span> <span class='literal'>1</span><span class='operator'>:</span>
    <span class='keyword'>return</span> x;
  <span class='keyword'>default</span><span class='operator'>:</span>
    std<span class='operator'>::</span>unreachable<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
<span class='keyword'>int</span> a <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, <span class='tcode_in_codeblock'>a</span> has value <span class='tcode_in_codeblock'>1</span></span>
<span class='keyword'>int</span> b <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;           <span class='comment'>// undefined behavior</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div></div></body></html>