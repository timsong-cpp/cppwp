<!DOCTYPE html><html lang='en'><head><title>[format]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>22</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>22.14</a> Formatting <a class='abbr_ref'>[format]</a></h2><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:80pt'>22.14.1</a> Header <span class='texttt'>&lt;format&gt;</span> synopsis <a class='abbr_ref' href='format.syn'>[format.syn]</a></h3><div class='texpara'><span id='lib:format_to_n_result,size'><span id='lib:size,format_to_n_result'><span id='lib:format_to_n_result,out'><span id='lib:out,format_to_n_result'><span id='lib:format_to_n_result'><span id='lib:wformat_args'><span id='lib:format_args'><span id='lib:wformat_context'><span id='lib:format_context'><span id='lib:wformat_parse_context'><span id='lib:format_parse_context'><span id='header:<format>'><div class='marginalizedparent'><a class='itemDeclLink' href='#header:%3cformat%3e'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='comment'>// <a href='#context' title='22.14.6.6&emsp;Class template basic_&shy;format_&shy;context'>[format.<span class='shy'></span>context]</a>, class template <span class='tcode_in_codeblock'>basic_<span class='shy'></span>format_<span class='shy'></span>context</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_context;
  <span class='keyword'>using</span> format_context <span class='operator'>=</span> basic_format_context<span class='anglebracket'>&lt;</span><i ><span class='texttt'>unspecified</span></i>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wformat_context <span class='operator'>=</span> basic_format_context<span class='anglebracket'>&lt;</span><i ><span class='texttt'>unspecified</span></i>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#args' title='22.14.8.3&emsp;Class template basic_&shy;format_&shy;args'>[format.<span class='shy'></span>args]</a>, class template <span class='tcode_in_codeblock'>basic_<span class='shy'></span>format_<span class='shy'></span>args</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_args;
  <span class='keyword'>using</span> format_args <span class='operator'>=</span> basic_format_args<span class='anglebracket'>&lt;</span>format_context<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wformat_args <span class='operator'>=</span> basic_format_args<span class='anglebracket'>&lt;</span>wformat_context<span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#fmt.string' title='22.14.4&emsp;Class template basic_&shy;format_&shy;string'>[format.<span class='shy'></span>fmt.<span class='shy'></span>string]</a>, class template <span class='tcode_in_codeblock'>basic_<span class='shy'></span>format_<span class='shy'></span>string</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> basic_format_string;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> <span id='lib:format_string'><a class='hidden_link' href='#lib:format_string' title='22.14.1&emsp;Header &lt;format&gt; synopsis&emsp;[format.syn]'>format_string</a></span> <span class='operator'>=</span> basic_format_string<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>, type_identity_t<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> <span id='lib:wformat_string'><a class='hidden_link' href='#lib:wformat_string' title='22.14.1&emsp;Header &lt;format&gt; synopsis&emsp;[format.syn]'>wformat_string</a></span> <span class='operator'>=</span> basic_format_string<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span>, type_identity_t<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#functions' title='22.14.5&emsp;Formatting functions'>[format.<span class='shy'></span>functions]</a>, formatting functions</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    string format<span class='parenthesis'>(</span>format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    wstring format<span class='parenthesis'>(</span>wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    string format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    wstring format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  string vformat<span class='parenthesis'>(</span>string_view fmt, format_args args<span class='parenthesis'>)</span>;
  wstring vformat<span class='parenthesis'>(</span>wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
  string vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, format_args args<span class='parenthesis'>)</span>;
  wstring vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, string_view fmt, format_args args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, format_args args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> format_to_n_result <span class='curlybracket'>{</span>
    Out out;
    iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> size;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt,
                                        Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt,
                                        Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span>format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span>wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#formatter' title='22.14.6&emsp;Formatter'>[format.<span class='shy'></span>formatter]</a>, formatter</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> charT <span class='operator'>=</span> <span class='keyword'>char</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter;

  <span class='comment'>// <a href='#formattable' title='22.14.6.2&emsp;Concept formattable'>[format.<span class='shy'></span>formattable]</a>, concept <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable'><span class='tcode_in_codeblock'>formattable</span></span></a></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
    <span class='keyword'>concept</span> formattable <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
    <span class='keyword'>concept</span> <a class='hidden_link' href='#concept:const-formattable-range' title='22.14.1&emsp;Header &lt;format&gt; synopsis&emsp;[format.syn]'><span id='concept:const-formattable-range'><span class='tcode_in_codeblock'><i >const-formattable-range</i></span></span></a> <span class='operator'>=</span>                                   <span class='comment'>// <i >exposition only</i></span>
      ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> R<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
      <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable_'><span class='tcode_in_codeblock'>formattable</span></span></a><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> R<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> <i >fmt-maybe-const</i> <span class='operator'>=</span>                                             <span class='comment'>// <i >exposition only</i></span>
      conditional_t<span class='anglebracket'>&lt;</span><a href='#concept:const-formattable-range' title='22.14.1&emsp;Header &lt;format&gt; synopsis&emsp;[format.syn]'><span id='conceptref:const-formattable-range'><span class='tcode_in_codeblock'><i >const-formattable-range</i></span></span></a><span class='anglebracket'>&lt;</span>R, charT<span class='anglebracket'>&gt;</span>, <span class='keyword'>const</span> R, R<span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#parse.ctx' title='22.14.6.5&emsp;Class template basic_&shy;format_&shy;parse_&shy;context'>[format.<span class='shy'></span>parse.<span class='shy'></span>ctx]</a>, class template <span class='tcode_in_codeblock'>basic_<span class='shy'></span>format_<span class='shy'></span>parse_<span class='shy'></span>context</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_parse_context;
  <span class='keyword'>using</span> format_parse_context <span class='operator'>=</span> basic_format_parse_context<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wformat_parse_context <span class='operator'>=</span> basic_format_parse_context<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#range' title='22.14.7&emsp;Formatting of ranges'>[format.<span class='shy'></span>range]</a>, formatting of ranges</span>
  <span class='comment'>// <a href='#range.fmtkind' title='22.14.7.1&emsp;Variable template format_&shy;kind'>[format.<span class='shy'></span>range.<span class='shy'></span>fmtkind]</a>, variable template <span class='tcode_in_codeblock'>format_<span class='shy'></span>kind</span></span>
  <span class='keyword'>enum</span> <span class='keyword'>class</span> <span id='lib:range_format'><a class='hidden_link' href='#lib:range_format' title='22.14.1&emsp;Header &lt;format&gt; synopsis&emsp;[format.syn]'>range_format</a></span> <span class='curlybracket'>{</span>
    <span id='lib:range_format,disabled'><span id='lib:disabled,range_format'>disabled</span></span>,
    <span id='lib:range_format,map'><span id='lib:map,range_format'>map</span></span>,
    <span id='lib:range_format,set'><span id='lib:set,range_format'>set</span></span>,
    <span id='lib:range_format,sequence'><span id='lib:sequence,range_format'>sequence</span></span>,
    <span id='lib:range_format,string'><span id='lib:string,range_format'>string</span></span>,
    <span id='lib:range_format,debug_string'><span id='lib:debug_string,range_format'>debug_string</span></span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <i ><span class='texttt'>unspecified</span></i> format_kind <span class='operator'>=</span> <i ><span class='texttt'>unspecified</span></i>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range_'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R<span class='anglebracket'>&gt;</span>
      <span class='keyword'>requires</span> <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>R, remove_cvref_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> range_format format_kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;

  <span class='comment'>// <a href='#range.formatter' title='22.14.7.2&emsp;Class template range_&shy;formatter'>[format.<span class='shy'></span>range.<span class='shy'></span>formatter]</a>, class template <span class='tcode_in_codeblock'>range_<span class='shy'></span>formatter</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> charT <span class='operator'>=</span> <span class='keyword'>char</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as_'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>remove_cvref_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable__'><span class='tcode_in_codeblock'>formattable</span></span></a><span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> range_formatter;

  <span class='comment'>// <a href='#range.fmtdef' title='22.14.7.3&emsp;Class template range-default-formatter'>[format.<span class='shy'></span>range.<span class='shy'></span>fmtdef]</a>, class template <span class='tcode_in_codeblock'><i >range-default-formatter</i></span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>range_format K, ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range__'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> <i >range-default-formatter</i>;                                     <span class='comment'>// <i >exposition only</i></span>

  <span class='comment'>// <a href='#range.fmtmap' title='22.14.7.4&emsp;Specialization of range-default-formatter for maps'>[format.<span class='shy'></span>range.<span class='shy'></span>fmtmap]</a>, <a href='#range.fmtset' title='22.14.7.5&emsp;Specialization of range-default-formatter for sets'>[format.<span class='shy'></span>range.<span class='shy'></span>fmtset]</a>, <a href='#range.fmtstr' title='22.14.7.6&emsp;Specialization of range-default-formatter for strings'>[format.<span class='shy'></span>range.<span class='shy'></span>fmtstr]</a>, specializations for maps, sets, and strings</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range___'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <span class='parenthesis'>(</span>format_kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span> <span class='operator'>!</span><span class='operator'>=</span> range_format<span class='operator'>::</span>disabled<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
             <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable___'><span class='tcode_in_codeblock'>formattable</span></span></a><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>R, charT<span class='anglebracket'>&gt;</span> <span class='operator'>:</span> <i >range-default-formatter</i><span class='anglebracket'>&lt;</span>format_kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span>, R, charT<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

  <span class='comment'>// <a href='#arguments' title='22.14.8&emsp;Arguments'>[format.<span class='shy'></span>arguments]</a>, arguments</span>
  <span class='comment'>// <a href='#arg' title='22.14.8.1&emsp;Class template basic_&shy;format_&shy;arg'>[format.<span class='shy'></span>arg]</a>, class template <span class='tcode_in_codeblock'>basic_<span class='shy'></span>format_<span class='shy'></span>arg</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_arg;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
    <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>)</span> visit_format_arg<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#arg.store' title='22.14.8.2&emsp;Class template format-arg-store'>[format.<span class='shy'></span>arg.<span class='shy'></span>store]</a>, class template <span class='tcode_in_codeblock'><i >format-arg-store</i></span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> <i >format-arg-store</i>;        <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context <span class='operator'>=</span> format_context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <i >format-arg-store</i><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
      make_format_args<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> fmt_args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <i >format-arg-store</i><span class='anglebracket'>&lt;</span>wformat_context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
      make_wformat_args<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#error' title='22.14.10&emsp;Class format_&shy;error'>[format.<span class='shy'></span>error]</a>, class <span class='tcode_in_codeblock'>format_<span class='shy'></span>error</span></span>
  <span class='keyword'>class</span> format_error;
<span class='curlybracket'>}</span>
</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div class='para' id='syn-1'><div class='marginalizedparent'><a class='marginalized' href='#syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14661'>#</a></div><div class='texpara'><div id='syn-1.sentence-1' class='sentence'>The class template <span class='texttt'>format_<span class='shy'></span>to_<span class='shy'></span>n_<span class='shy'></span>result</span>
has the template parameters, data members, and special members specified above<a class='hidden_link' href='#syn-1.sentence-1'>.</a></div> <div id='syn-1.sentence-2' class='sentence'>It has no base classes or members other than those specified<a class='hidden_link' href='#syn-1.sentence-2'>.</a></div></div></div></div><div id='string' class='section'><h3 ><a class='secnum' href='#string' style='min-width:80pt'>22.14.2</a> Format string <a class='abbr_ref' href='format.string'>[format.string]</a></h3><div id='string.general' class='section'><h4 ><a class='secnum' href='#string.general' style='min-width:95pt'>22.14.2.1</a> In general <a class='abbr_ref' href='format.string.general'>[format.string.general]</a></h4><div class='para' id='string.general-1'><div class='marginalizedparent'><a class='marginalized' href='#string.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14669'>#</a></div><div class='texpara'><div id='string.general-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:format_string' title='22.14.2.1&emsp;In general&emsp;[format.string.general]'><span id='def:format_string'><i >format string</i></span></a> for arguments <span class='texttt'>args</span> is
a (possibly empty) sequence of
<a class='hidden_link' href='#def:replacement_field,format_string' title='22.14.2.1&emsp;In general&emsp;[format.string.general]'><span id='def:replacement_field,format_string'><i >replacement fields</i></span></a>,
<a class='hidden_link' href='#def:escape_sequence,format_string' title='22.14.2.1&emsp;In general&emsp;[format.string.general]'><span id='def:escape_sequence,format_string'><i >escape sequences</i></span></a>,
and characters other than <span class='texttt'>{</span> and <span class='texttt'>}</span><a class='hidden_link' href='#string.general-1.sentence-1'>.</a></div> <div id='string.general-1.sentence-2' class='sentence'>Let <span class='texttt'>charT</span> be the character type of the format string<a class='hidden_link' href='#string.general-1.sentence-2'>.</a></div> <div id='string.general-1.sentence-3' class='sentence'>Each character that is not part of
a replacement field or an escape sequence
is copied unchanged to the output<a class='hidden_link' href='#string.general-1.sentence-3'>.</a></div> <div id='string.general-1.sentence-4' class='sentence'>An escape sequence is one of <span class='texttt'>{{</span> or <span class='texttt'>}}</span><a class='hidden_link' href='#string.general-1.sentence-4'>.</a></div> <div id='string.general-1.sentence-5' class='sentence'>It is replaced with <span class='texttt'>{</span> or <span class='texttt'>}</span>, respectively, in the output<a class='hidden_link' href='#string.general-1.sentence-5'>.</a></div> <div id='string.general-1.sentence-6' class='sentence'>The syntax of replacement fields is as follows:
<div class='bnf'>
<span class='sffamily'></span><i>replacement-field</i><span class='textnormal'>:</span><br/><span class='noncxxterminal'>{</span> arg-id<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> format-specifier<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='noncxxterminal'>}</span>
</div></div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>arg-id</i><span class='textnormal'>:</span><br/><span class='noncxxterminal'>0</span><br/>positive-integer
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>positive-integer</i><span class='textnormal'>:</span><br/><a href='lex.icon#nt:nonzero-digit' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:nonzero-digit'><span class='textsf'><i >nonzero-digit</i></span></span></a><br/>positive-integer <a href='lex.name#nt:digit' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:digit'><span class='textsf'><i >digit</i></span></span></a>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>nonnegative-integer</i><span class='textnormal'>:</span><br/><a href='lex.name#nt:digit' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:digit_'><span class='textsf'><i >digit</i></span></span></a><br/>nonnegative-integer <a href='lex.name#nt:digit' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:digit__'><span class='textsf'><i >digit</i></span></span></a>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i><a href='lex.icon#nt:nonzero-digit' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span class='textsf'><i >nonzero-digit</i></span></a></i><span class='textnormal'>:</span> <span class='textnormal'>one of</span><br/><span class='noncxxterminal'>1 2 3 4 5 6 7 8 9</span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i><a href='lex.name#nt:digit' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span class='textsf'><i >digit</i></span></a></i><span class='textnormal'>:</span> <span class='textnormal'>one of</span><br/><span class='noncxxterminal'>0 1 2 3 4 5 6 7 8 9</span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>format-specifier</i><span class='textnormal'>:</span><br/><span class='noncxxterminal'>:</span> format-spec
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>format-spec</i><span class='textnormal'>:</span><br/><span class='textnormal'>as specified by the <span class='texttt'>formatter</span> specialization for the argument type</span>
</div></div></div><div class='para' id='string.general-2'><div class='marginalizedparent'><a class='marginalized' href='#string.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14726'>#</a></div><div class='texpara'><div id='string.general-2.sentence-1' class='sentence'>The <span class='textsf'><i >arg-id</i></span> field specifies the index of
the argument in <span class='texttt'>args</span>
whose value is to be formatted and inserted into the output
instead of the replacement field<a class='hidden_link' href='#string.general-2.sentence-1'>.</a></div> <div id='string.general-2.sentence-2' class='sentence'>If there is no argument with
the index <span class='textsf'><i >arg-id</i></span> in <span class='texttt'>args</span>,
the string is not a format string for <span class='texttt'>args</span><a class='hidden_link' href='#string.general-2.sentence-2'>.</a></div> <div id='string.general-2.sentence-3' class='sentence'>The optional <span class='textsf'><i >format-specifier</i></span> field
explicitly specifies a format for the replacement value<a class='hidden_link' href='#string.general-2.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='string.general-3'><div class='marginalizedparent'><a class='marginalized' href='#string.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14737'>#</a></div><div class='texpara'><div id='string.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.general-example-1'>1</a></i>:&ensp;<span class='codeblock'>string s <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0}-{{"</span>, <span class='literal'>8</span><span class='parenthesis'>)</span>;         <span class='comment'>// value of <span class='tcode_in_codeblock'>s</span> is <span class='tcode_in_codeblock'>"8-{"</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='string.general-4'><div class='marginalizedparent'><a class='marginalized' href='#string.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14744'>#</a></div><div class='texpara'><div id='string.general-4.sentence-1' class='sentence'>If all <span class='textsf'><i >arg-id</i></span><i >s</i> in a format string are omitted
(including those in the <span class='textsf'><i >format-spec</i></span>,
as interpreted by the corresponding <span class='texttt'>formatter</span> specialization),
argument indices 0, 1, 2, &hellip; will automatically be used in that order<a class='hidden_link' href='#string.general-4.sentence-1'>.</a></div> <div id='string.general-4.sentence-2' class='sentence'>If some <span class='textsf'><i >arg-id</i></span><i >s</i> are omitted and some are present,
the string is not a format string<a class='hidden_link' href='#string.general-4.sentence-2'>.</a></div> <div id='string.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.general-note-1'>1</a></i>:&ensp;<div id='string.general-4.sentence-3' class='sentence'>A format string cannot contain a
mixture of automatic and manual indexing<a class='hidden_link' href='#string.general-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='string.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.general-example-2'>2</a></i>:&ensp;<span class='codeblock'>string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{} to {}"</span>,   <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// OK, automatic indexing</span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{1} to {0}"</span>, <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// OK, manual indexing</span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0} to {}"</span>,  <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// not a format string (mixing automatic and manual indexing),</span>
                                            <span class='comment'>// ill-formed</span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{} to {1}"</span>,  <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// not a format string (mixing automatic and manual indexing),</span>
                                            <span class='comment'>// ill-formed</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='string.general-5'><div class='marginalizedparent'><a class='marginalized' href='#string.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14766'>#</a></div><div class='texpara'><div id='string.general-5.sentence-1' class='sentence'>The <span class='textsf'><i >format-spec</i></span> field contains
<a class='hidden_link' href='#def:format_specification,format_string' title='22.14.2.1&emsp;In general&emsp;[format.string.general]'><span id='def:format_specification,format_string'><i >format specifications</i></span></a>
that define how the value should be presented<a class='hidden_link' href='#string.general-5.sentence-1'>.</a></div> <div id='string.general-5.sentence-2' class='sentence'>Each type can define its own
interpretation of the <span class='textsf'><i >format-spec</i></span> field<a class='hidden_link' href='#string.general-5.sentence-2'>.</a></div> <div id='string.general-5.sentence-3' class='sentence'>If <span class='textsf'><i >format-spec</i></span> does not conform
to the format specifications for
the argument type referred to by <span class='textsf'><i >arg-id</i></span>,
the string is not a format string for <span class='texttt'>args</span><a class='hidden_link' href='#string.general-5.sentence-3'>.</a></div> <div id='string.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.general-example-3'>3</a></i>:&ensp;<ul class='itemize'><li id='string.general-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.general-5.1'>(5.1)</a></div><div class='texpara'><div id='string.general-5.1.sentence-1' class='sentence'>For arithmetic, pointer, and string types
the <span class='textsf'><i >format-spec</i></span>
is interpreted as a <span class='textsf'><i >std-format-spec</i></span>
as described in  (<a href='#string.std' title='22.14.2.2&emsp;Standard format specifiers'>[format.<span class='shy'></span>string.<span class='shy'></span>std]</a>)<a class='hidden_link' href='#string.general-5.1.sentence-1'>.</a></div></div></li><li id='string.general-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.general-5.2'>(5.2)</a></div><div class='texpara'><div id='string.general-5.2.sentence-1' class='sentence'>For chrono types
the <span class='textsf'><i >format-spec</i></span>
is interpreted as a <span class='textsf'><i >chrono-format-spec</i></span>
as described in  (<a href='time.format' title='29.12&emsp;Formatting'>[time.<span class='shy'></span>format]</a>)<a class='hidden_link' href='#string.general-5.2.sentence-1'>.</a></div></div></li><li id='string.general-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.general-5.3'>(5.3)</a></div><div class='texpara'><div id='string.general-5.3.sentence-1' class='sentence'>For user-defined <span class='texttt'>formatter</span> specializations,
the behavior of the <span class='texttt'>parse</span> member function
determines how the <span class='textsf'><i >format-spec</i></span>
is interpreted<a class='hidden_link' href='#string.general-5.3.sentence-1'>.</a></div></div></li></ul> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='string.std' class='section'><h4 ><a class='secnum' href='#string.std' style='min-width:95pt'>22.14.2.2</a> Standard format specifiers <a class='abbr_ref' href='format.string.std'>[format.string.std]</a></h4><div class='para' id='string.std-1'><div class='marginalizedparent'><a class='marginalized' href='#string.std-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14798'>#</a></div><div class='texpara'><div id='string.std-1.sentence-1' class='sentence'>Each <span class='texttt'>formatter</span> specialization
described in <a href='#formatter.spec' title='22.14.6.3&emsp;Formatter specializations'>[format.<span class='shy'></span>formatter.<span class='shy'></span>spec]</a>
for fundamental and string types
interprets <span class='textsf'><i >format-spec</i></span> as a
<span class='textsf'><i >std-format-spec</i></span><a class='hidden_link' href='#string.std-1.sentence-1'>.</a></div> <div id='string.std-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-1'>1</a></i>:&ensp;<div id='string.std-1.sentence-2' class='sentence'>The format specification can be used to specify such details as
minimum field width, alignment, padding, and decimal precision<a class='hidden_link' href='#string.std-1.sentence-2'>.</a></div> <div id='string.std-1.sentence-3' class='sentence'>Some of the formatting options
are only supported for arithmetic types<a class='hidden_link' href='#string.std-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='string.std-1.sentence-4' class='sentence'>
The syntax of format specifications is as follows:
<div class='bnf'>
<span class='sffamily'></span><i>std-format-spec</i><span class='textnormal'>:</span><br/>fill-and-align<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='lex.fcon#nt:sign' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:sign'><span class='textsf'><i >sign</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='noncxxterminal'>#</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='noncxxterminal'>0</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> width<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> precision<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='noncxxterminal'>L</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> type<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>fill-and-align</i><span class='textnormal'>:</span><br/>fill<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> align
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>fill</i><span class='textnormal'>:</span><br/><span class='textnormal'>any character other than <span class='texttt'>{</span> or <span class='texttt'>}</span></span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>align</i><span class='textnormal'>:</span> <span class='textnormal'>one of</span><br/><span class='noncxxterminal'>&lt; &gt; ^</span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i><a href='lex.fcon#nt:sign' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span class='textsf'><i >sign</i></span></a></i><span class='textnormal'>:</span> <span class='textnormal'>one of</span><br/><span class='noncxxterminal'>+ -</span> <span class='textnormal'>space</span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>width</i><span class='textnormal'>:</span><br/>positive-integer<br/><span class='noncxxterminal'>{</span> arg-id<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='noncxxterminal'>}</span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>precision</i><span class='textnormal'>:</span><br/><span class='noncxxterminal'>.</span> nonnegative-integer<br/><span class='noncxxterminal'>.</span> <span class='noncxxterminal'>{</span> arg-id<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='noncxxterminal'>}</span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>type</i><span class='textnormal'>:</span> <span class='textnormal'>one of</span><br/><span class='noncxxterminal'>a A b B c d e E f F g G o p s x X ?</span>
</div></div></div><div class='para' id='string.std-2'><div class='marginalizedparent'><a class='marginalized' href='#string.std-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14853'>#</a></div><div class='texpara'><div id='string.std-2.sentence-1' class='sentence'>Field widths are specified in <a class='hidden_link' href='#def:units,field_width' title='22.14.2.2&emsp;Standard format specifiers&emsp;[format.string.std]'><span id='def:units,field_width'><i >field width units</i></span></a>;
the number of column positions required to display a sequence of
characters in a terminal<a class='hidden_link' href='#string.std-2.sentence-1'>.</a></div> <div id='string.std-2.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:field_width,minimum' title='22.14.2.2&emsp;Standard format specifiers&emsp;[format.string.std]'><span id='def:field_width,minimum'><i >minimum field width</i></span></a>
is the number of field width units a replacement field minimally requires of
the formatted sequence of characters produced for a format argument<a class='hidden_link' href='#string.std-2.sentence-2'>.</a></div> <div id='string.std-2.sentence-3' class='sentence'>The <a class='hidden_link' href='#def:field_width,estimated' title='22.14.2.2&emsp;Standard format specifiers&emsp;[format.string.std]'><span id='def:field_width,estimated'><i >estimated field width</i></span></a> is the number of field width units
that are required for the formatted sequence of characters
produced for a format argument independent of
the effects of the <span class='textsf'><i >width</i></span> option<a class='hidden_link' href='#string.std-2.sentence-3'>.</a></div> <div id='string.std-2.sentence-4' class='sentence'>The <a class='hidden_link' href='#def:width,padding' title='22.14.2.2&emsp;Standard format specifiers&emsp;[format.string.std]'><span id='def:width,padding'><i >padding width</i></span></a> is the greater of <span class='texttt'><span class='literal'>0</span></span> and
the difference of the minimum field width and the estimated field width<a class='hidden_link' href='#string.std-2.sentence-4'>.</a></div></div><div class='texpara'><div id='string.std-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-2'>2</a></i>:&ensp;<div id='string.std-2.sentence-5' class='sentence'>The POSIX <span class='texttt'>wcswidth</span> function is an example of a function that,
given a string, returns the number of column positions required by
a terminal to display the string<a class='hidden_link' href='#string.std-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='string.std-3'><div class='marginalizedparent'><a class='marginalized' href='#string.std-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14873'>#</a></div><div class='texpara'><div id='string.std-3.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:character,fill' title='22.14.2.2&emsp;Standard format specifiers&emsp;[format.string.std]'><span id='def:character,fill'><i >fill character</i></span></a> is the character denoted by
the <span class='textsf'><i >fill</i></span> option or,
if the <span class='textsf'><i >fill</i></span> option is absent, the space character<a class='hidden_link' href='#string.std-3.sentence-1'>.</a></div> <div id='string.std-3.sentence-2' class='sentence'>For a format specification in UTF-8, UTF-16, or UTF-32,
the fill character corresponds to a single Unicode scalar value<a class='hidden_link' href='#string.std-3.sentence-2'>.</a></div> <div id='string.std-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-3'>3</a></i>:&ensp;<div id='string.std-3.sentence-3' class='sentence'>The presence of a <span class='textsf'><i >fill</i></span> option
is signaled by the character following it,
which must be one of the alignment options<a class='hidden_link' href='#string.std-3.sentence-3'>.</a></div> <div id='string.std-3.sentence-4' class='sentence'>If the second character of <span class='textsf'><i >std-format-spec</i></span>
is not a valid alignment option,
then it is assumed that
the <span class='textsf'><i >fill</i></span> and <span class='textsf'><i >align</i></span> options
are both absent<a class='hidden_link' href='#string.std-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='string.std-4'><div class='marginalizedparent'><a class='marginalized' href='#string.std-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14890'>#</a></div><div class='texpara'><div id='string.std-4.sentence-1' class='sentence'>The <span class='textsf'><i >align</i></span> option applies to all argument types<a class='hidden_link' href='#string.std-4.sentence-1'>.</a></div> <div id='string.std-4.sentence-2' class='sentence'>The meaning of the various alignment options is as specified in Table <a href='#tab:format.align' title='Table 65: Meaning of align options'>65</a><a class='hidden_link' href='#string.std-4.sentence-2'>.</a></div> <div id='string.std-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.std-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>char</span> c <span class='operator'>=</span> <span class='literal'>120</span>;
string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;             <span class='comment'>// value of <span class='tcode_in_codeblock'>s0</span> is <span class='tcode_in_codeblock'>"&nbsp;&nbsp;&nbsp;&nbsp;42"</span></span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;            <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*&lt;6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;          <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"x*****"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*&gt;6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;          <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> is <span class='tcode_in_codeblock'>"*****x"</span></span>
string s4 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*^6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;          <span class='comment'>// value of <span class='tcode_in_codeblock'>s4</span> is <span class='tcode_in_codeblock'>"**x***"</span></span>
string s5 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6d}"</span>, c<span class='parenthesis'>)</span>;             <span class='comment'>// value of <span class='tcode_in_codeblock'>s5</span> is <span class='tcode_in_codeblock'>"&nbsp;&nbsp;&nbsp;120"</span></span>
string s6 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6}"</span>, <span class='literal'>true</span><span class='parenthesis'>)</span>;           <span class='comment'>// value of <span class='tcode_in_codeblock'>s6</span> is <span class='tcode_in_codeblock'>"true&nbsp;&nbsp;"</span></span>
string s7 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*&lt;6.3}"</span>, <span class='literal'>"123456"</span><span class='parenthesis'>)</span>;   <span class='comment'>// value of <span class='tcode_in_codeblock'>s7</span> is <span class='tcode_in_codeblock'>"123***"</span></span>
string s8 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:02}"</span>, <span class='literal'>1234</span><span class='parenthesis'>)</span>;          <span class='comment'>// value of <span class='tcode_in_codeblock'>s8</span> is <span class='tcode_in_codeblock'>"1234"</span></span>
string s9 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*&lt;}"</span>, <span class='literal'>"12"</span><span class='parenthesis'>)</span>;          <span class='comment'>// value of <span class='tcode_in_codeblock'>s9</span> is <span class='tcode_in_codeblock'>"12"</span></span>
string sA <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*&lt;6}"</span>, <span class='literal'>"12345678"</span><span class='parenthesis'>)</span>;   <span class='comment'>// value of <span class='tcode_in_codeblock'>sA</span> is <span class='tcode_in_codeblock'>"12345678"</span></span>
string sB <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:🤡^6}"</span>, <span class='literal'>"x"</span><span class='parenthesis'>)</span>;         <span class='comment'>// value of <span class='tcode_in_codeblock'>sB</span> is <span class='tcode_in_codeblock'>"🤡🤡x🤡🤡🤡"</span></span>
string sC <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*^6}"</span>, <span class='literal'>"🤡🤡🤡"</span><span class='parenthesis'>)</span>;     <span class='comment'>// value of <span class='tcode_in_codeblock'>sC</span> is <span class='tcode_in_codeblock'>"🤡🤡🤡"</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='string.std-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-4'>4</a></i>:&ensp;<div id='string.std-4.sentence-3' class='sentence'>The <span class='textsf'><i >fill</i></span>, <span class='textsf'><i >align</i></span>, and <span class='texttt'><span class='literal'>0</span></span> options
have no effect when the minimum field width
is not greater than the estimated field width
because padding width is <span class='texttt'><span class='literal'>0</span></span> in that case<a class='hidden_link' href='#string.std-4.sentence-3'>.</a></div> <div id='string.std-4.sentence-4' class='sentence'>Since fill characters are assumed to have a field width of <span class='texttt'><span class='literal'>1</span></span>,
use of a character with a different field width can produce misaligned output<a class='hidden_link' href='#string.std-4.sentence-4'>.</a></div> <div id='string.std-4.sentence-5' class='sentence'>The 🤡 (<span class='ucode'>U+1f921</span> <span class='uname'>clown face</span>) character has a field width of <span class='texttt'><span class='literal'>2</span></span><a class='hidden_link' href='#string.std-4.sentence-5'>.</a></div> <div id='string.std-4.sentence-6' class='sentence'>The examples above that include that character
illustrate the effect of the field width
when that character is used as a fill character
as opposed to when it is used as a formatting argument<a class='hidden_link' href='#string.std-4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='numberedTable' id='tab:format.align'>Table <a href='#tab:format.align'>65</a>: Meaning of <span class='textsf'><i >align</i></span> options&emsp;<a href='./tab:format.align'>[tab:format.align]</a><br><table ><tr id='tab:format.align-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.align-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.align-row-1-column-1-sentence-1' class='sentence'><b>Option</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.align-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.align-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.align-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.align-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>&lt;</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.align-row-2-column-2-sentence-1' class='sentence'>Forces the formatted argument to be aligned to the start of the field
by inserting <span class='math'><span class='mathalpha'>n</span></span> fill characters after the formatted argument
where <span class='math'><span class='mathalpha'>n</span></span> is the padding width<a class='hidden_link' href='#tab:format.align-row-2-column-2-sentence-1'>.</a></div> <div id='tab:format.align-row-2-column-2-sentence-2' class='sentence'>This is the default for
non-arithmetic non-pointer types, <span class='texttt'>charT</span>, and <span class='texttt'><span class='keyword'>bool</span></span>,
unless an integer presentation type is specified<a class='hidden_link' href='#tab:format.align-row-2-column-2-sentence-2'>.</a></div></div></td></tr><tr id='tab:format.align-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.align-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.align-row-3-column-1-sentence-1' class='sentence'><span class='texttt'><span class='anglebracket'>&gt;</span></span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.align-row-3-column-2-sentence-1' class='sentence'>Forces the formatted argument to be aligned to the end of the field
by inserting <span class='math'><span class='mathalpha'>n</span></span> fill characters before the formatted argument
where <span class='math'><span class='mathalpha'>n</span></span> is the padding width<a class='hidden_link' href='#tab:format.align-row-3-column-2-sentence-1'>.</a></div> <div id='tab:format.align-row-3-column-2-sentence-2' class='sentence'>This is the default for
arithmetic types other than <span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span>,
pointer types,
or when an integer presentation type is specified<a class='hidden_link' href='#tab:format.align-row-3-column-2-sentence-2'>.</a></div></div></td></tr><tr id='tab:format.align-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.align-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.align-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>^</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.align-row-4-column-2-sentence-1' class='sentence'>Forces the formatted argument to be centered within the field
by inserting
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌊</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 0.566em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 0.8em; top: -1.159em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-denominator" style="font-size: 70.7%; width: 0.8em; bottom: -0.665em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 0.566em;" class="mjx-line"></span></span><span style="height: 1.29em; vertical-align: -0.47em;" class="mjx-vsize"></span></span><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌋</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span>
fill characters before and
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌈</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 0.566em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 0.8em; top: -1.159em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-denominator" style="font-size: 70.7%; width: 0.8em; bottom: -0.665em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 0.566em;" class="mjx-line"></span></span><span style="height: 1.29em; vertical-align: -0.47em;" class="mjx-vsize"></span></span><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌉</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span>
fill characters after the formatted argument, where
<span class='math'><span class='mathalpha'>n</span></span> is the padding width<a class='hidden_link' href='#tab:format.align-row-4-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div><div class='para' id='string.std-5'><div class='marginalizedparent'><a class='marginalized' href='#string.std-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14958'>#</a></div><div class='texpara'><div id='string.std-5.sentence-1' class='sentence'>The <span class='textsf'><i >sign</i></span> option is only valid
for arithmetic types other than <span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span>
or when an integer presentation type is specified<a class='hidden_link' href='#string.std-5.sentence-1'>.</a></div> <div id='string.std-5.sentence-2' class='sentence'>The meaning of the various options is as specified in Table <a href='#tab:format.sign' title='Table 66: Meaning of sign options'>66</a><a class='hidden_link' href='#string.std-5.sentence-2'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:format.sign'>Table <a href='#tab:format.sign'>66</a>: Meaning of <span class='textsf'><i >sign</i></span> options&emsp;<a href='./tab:format.sign'>[tab:format.sign]</a><br><table ><tr id='tab:format.sign-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.sign-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.sign-row-1-column-1-sentence-1' class='sentence'><b>Option</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.sign-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.sign-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.sign-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.sign-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>+</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.sign-row-2-column-2-sentence-1' class='sentence'>Indicates that a sign should be used for both non-negative and negative
numbers<a class='hidden_link' href='#tab:format.sign-row-2-column-2-sentence-1'>.</a></div> <div id='tab:format.sign-row-2-column-2-sentence-2' class='sentence'>The <span class='texttt'>+</span> sign is inserted before the output of <span class='texttt'>to_<span class='shy'></span>chars</span> for
non-negative numbers other than negative zero<a class='hidden_link' href='#tab:format.sign-row-2-column-2-sentence-2'>.</a></div> <div id='tab:format.sign-row-2-column-2-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#tab:format.sign-row-2-column-2-note-5'>5</a></i>:&ensp;<div id='tab:format.sign-row-2-column-2-sentence-3' class='sentence'>For negative numbers and negative zero
the output of <span class='texttt'>to_<span class='shy'></span>chars</span> will already contain the sign
so no additional transformation is performed<a class='hidden_link' href='#tab:format.sign-row-2-column-2-sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></td></tr><tr id='tab:format.sign-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.sign-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.sign-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>-</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.sign-row-3-column-2-sentence-1' class='sentence'>Indicates that a sign should be used for
negative numbers and negative zero only (this is the default behavior)<a class='hidden_link' href='#tab:format.sign-row-3-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.sign-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.sign-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.sign-row-4-column-1-sentence-1' class='sentence'>space</div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.sign-row-4-column-2-sentence-1' class='sentence'>Indicates that a leading space should be used for
non-negative numbers other than negative zero, and
a minus sign for negative numbers and negative zero<a class='hidden_link' href='#tab:format.sign-row-4-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div><div class='para' id='string.std-6'><div class='marginalizedparent'><a class='marginalized' href='#string.std-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L14991'>#</a></div><div class='texpara'><div id='string.std-6.sentence-1' class='sentence'>The <span class='textsf'><i >sign</i></span> option applies to floating-point infinity and NaN.
<div id='string.std-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.std-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>double</span> inf <span class='operator'>=</span> numeric_limits<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>infinity<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>double</span> nan <span class='operator'>=</span> numeric_limits<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>quiet_NaN<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, <span class='literal'>1</span><span class='parenthesis'>)</span>;        <span class='comment'>// value of <span class='tcode_in_codeblock'>s0</span> is <span class='tcode_in_codeblock'>"1,+1,1, 1"</span></span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, <span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span>;       <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"-1,-1,-1,-1"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, inf<span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"inf,+inf,inf, inf"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, nan<span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> is <span class='tcode_in_codeblock'>"nan,+nan,nan, nan"</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div class='para' id='string.std-7'><div class='marginalizedparent'><a class='marginalized' href='#string.std-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15004'>#</a></div><div class='texpara'><div id='string.std-7.sentence-1' class='sentence'>The <span class='texttt'>#</span> option causes the
<a class='hidden_link' href='#def:alternate_form,format_string' title='22.14.2.2&emsp;Standard format specifiers&emsp;[format.string.std]'><span id='def:alternate_form,format_string'><i >alternate form</i></span></a>
to be used for the conversion<a class='hidden_link' href='#string.std-7.sentence-1'>.</a></div> <div id='string.std-7.sentence-2' class='sentence'>This option is valid for arithmetic types other than
<span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span>
or when an integer presentation type is specified, and not otherwise<a class='hidden_link' href='#string.std-7.sentence-2'>.</a></div> <div id='string.std-7.sentence-3' class='sentence'>For integral types,
the alternate form inserts the
base prefix (if any) specified in Table <a href='#tab:format.type.int' title='Table 68: Meaning of type options for integer types'>68</a>
into the output after the sign character (possibly space) if there is one, or
before the output of <span class='texttt'>to_<span class='shy'></span>chars</span> otherwise<a class='hidden_link' href='#string.std-7.sentence-3'>.</a></div> <div id='string.std-7.sentence-4' class='sentence'>For floating-point types,
the alternate form causes the result of the conversion of finite values
to always contain a decimal-point character,
even if no digits follow it<a class='hidden_link' href='#string.std-7.sentence-4'>.</a></div> <div id='string.std-7.sentence-5' class='sentence'>Normally, a decimal-point character appears in the result of these
conversions only if a digit follows it<a class='hidden_link' href='#string.std-7.sentence-5'>.</a></div> <div id='string.std-7.sentence-6' class='sentence'>In addition, for <span class='texttt'>g</span> and <span class='texttt'>G</span> conversions,
trailing zeros are not removed from the result<a class='hidden_link' href='#string.std-7.sentence-6'>.</a></div></div></div><div class='para' id='string.std-8'><div class='marginalizedparent'><a class='marginalized' href='#string.std-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15029'>#</a></div><div class='texpara'><div id='string.std-8.sentence-1' class='sentence'>The <span class='texttt'><span class='literal'>0</span></span> option is valid for arithmetic types
other than <span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span> or
when an integer presentation type is specified<a class='hidden_link' href='#string.std-8.sentence-1'>.</a></div> <div id='string.std-8.sentence-2' class='sentence'>For formatting arguments that have a value
other than an infinity or a NaN,
this option pads the formatted argument by
inserting the <span class='texttt'><span class='literal'>0</span></span> character <span class='math'><span class='mathalpha'>n</span></span> times
following the sign or base prefix indicators (if any)
where <span class='math'><span class='mathalpha'>n</span></span> is <span class='texttt'><span class='literal'>0</span></span> if the <span class='textsf'><i >align</i></span> option is present and
is the padding width otherwise<a class='hidden_link' href='#string.std-8.sentence-2'>.</a></div> <div id='string.std-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.std-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>char</span> c <span class='operator'>=</span> <span class='literal'>120</span>;
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:+06d}"</span>, c<span class='parenthesis'>)</span>;       <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"+00120"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:#06x}"</span>, <span class='literal'>0xa</span><span class='parenthesis'>)</span>;     <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"0x000a"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:&lt;06}"</span>, <span class='operator'>-</span><span class='literal'>42</span><span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> is <span class='tcode_in_codeblock'>"-42&nbsp;&nbsp;&nbsp;"</span> (<span class='tcode_in_codeblock'>0</span> has no effect)</span>
string s4 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:06}"</span>, inf<span class='parenthesis'>)</span>;       <span class='comment'>// value of <span class='tcode_in_codeblock'>s4</span> is <span class='tcode_in_codeblock'>"&nbsp;&nbsp;&nbsp;inf"</span> (<span class='tcode_in_codeblock'>0</span> has no effect)</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='string.std-9'><div class='marginalizedparent'><a class='marginalized' href='#string.std-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15050'>#</a></div><div class='texpara'><div id='string.std-9.sentence-1' class='sentence'>The <span class='textsf'><i >width</i></span> option specifies the minimum field width<a class='hidden_link' href='#string.std-9.sentence-1'>.</a></div> <div id='string.std-9.sentence-2' class='sentence'>If the <span class='textsf'><i >width</i></span> option is absent,
the minimum field width is <span class='texttt'><span class='literal'>0</span></span><a class='hidden_link' href='#string.std-9.sentence-2'>.</a></div></div></div><div class='para' id='string.std-10'><div class='marginalizedparent'><a class='marginalized' href='#string.std-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15055'>#</a></div><div class='texpara'><div id='string.std-10.sentence-1' class='sentence'>If <span class='texttt'>{ <span class='textsf'><i >arg-id</i></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> }</span> is used in
a <span class='textsf'><i >width</i></span> or <span class='textsf'><i >precision</i></span> option,
the value of the corresponding formatting argument is used as the value of the option<a class='hidden_link' href='#string.std-10.sentence-1'>.</a></div> <div id='string.std-10.sentence-2' class='sentence'>If the corresponding formatting argument is
not of standard signed or unsigned integer type, or
its value is negative,
an exception of type <span class='texttt'>format_<span class='shy'></span>error</span> is thrown<a class='hidden_link' href='#string.std-10.sentence-2'>.</a></div></div></div><div class='para' id='string.std-11'><div class='marginalizedparent'><a class='marginalized' href='#string.std-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15064'>#</a></div><div class='texpara'><div id='string.std-11.sentence-1' class='sentence'>If <span class='textsf'><i >positive-integer</i></span> is used in a
<span class='textsf'><i >width</i></span> option, the value of the <span class='textsf'><i >positive-integer</i></span>
is interpreted as a decimal integer and used as the value of the option<a class='hidden_link' href='#string.std-11.sentence-1'>.</a></div></div></div><div class='para' id='string.std-12'><div class='marginalizedparent'><a class='marginalized' href='#string.std-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15070'>#</a></div><div class='texpara'><div id='string.std-12.sentence-1' class='sentence'>For the purposes of width computation,
a string is assumed to be in
a locale-independent,
<a class='index' id=':encoding_assumption_for_format_width_computation'></a>implementation-defined encoding<a class='hidden_link' href='#string.std-12.sentence-1'>.</a></div> <div id='string.std-12.sentence-2' class='sentence'>Implementations should use either UTF-8, UTF-16, or UTF-32,
on platforms capable of displaying Unicode text in a terminal<a class='hidden_link' href='#string.std-12.sentence-2'>.</a></div> <div id='string.std-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-6'>6</a></i>:&ensp;<div id='string.std-12.sentence-3' class='sentence'>This is the case for Windows<a class='footnoteref' href='#footnote-204' id='footnoteref-204' title='Windows&reg;&nbsp;is a registered trademark of Microsoft Corporation. This information is given for the convenience of users of this document and does not constitute an endorsement by ISO or IEC of this product.'>204</a>-based and
many POSIX-based operating systems<a class='hidden_link' href='#string.std-12.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='string.std-13'><div class='marginalizedparent'><a class='marginalized' href='#string.std-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15088'>#</a></div><div class='texpara'><div id='string.std-13.sentence-1' class='sentence'>For a sequence of characters in UTF-8, UTF-16, or UTF-32,
an implementation should use as its field width
the sum of the field widths of the first code point
of each extended grapheme cluster<a class='hidden_link' href='#string.std-13.sentence-1'>.</a></div> <div id='string.std-13.sentence-2' class='sentence'>Extended grapheme clusters are defined by UAX #29 of the Unicode Standard<a class='hidden_link' href='#string.std-13.sentence-2'>.</a></div> <div id='string.std-13.sentence-3' class='sentence'>The following code points have a field width of 2:
<ul class='itemize'><li id='string.std-13.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.std-13.1'>(13.1)</a></div>any code point with the <span class='texttt'>East_<span class='shy'></span>Asian_<span class='shy'></span>Width<span class='operator'>=</span><span class='literal'>"W"</span></span> or
<span class='texttt'>East_<span class='shy'></span>Asian_<span class='shy'></span>Width<span class='operator'>=</span><span class='literal'>"F"</span></span> Derived Extracted Property as described by
UAX #44 of the Unicode Standard</li><li id='string.std-13.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.std-13.2'>(13.2)</a></div><span class='ucode'>U+4dc0</span> – <span class='ucode'>U+4dff</span> (Yijing Hexagram Symbols)</li><li id='string.std-13.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.std-13.3'>(13.3)</a></div><span class='ucode'>U+1f300</span> – <span class='ucode'>U+1f5ff</span> (Miscellaneous Symbols and Pictographs)</li><li id='string.std-13.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.std-13.4'>(13.4)</a></div><span class='ucode'>U+1f900</span> – <span class='ucode'>U+1f9ff</span> (Supplemental Symbols and Pictographs)</li></ul>
The field width of all other code points is 1<a class='hidden_link' href='#string.std-13.sentence-3'>.</a></div></div></div><div class='para' id='string.std-14'><div class='marginalizedparent'><a class='marginalized' href='#string.std-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15109'>#</a></div><div class='texpara'><div id='string.std-14.sentence-1' class='sentence'>For a sequence of characters in neither UTF-8, UTF-16, nor UTF-32,
the field width is unspecified<a class='hidden_link' href='#string.std-14.sentence-1'>.</a></div></div></div><div class='para' id='string.std-15'><div class='marginalizedparent'><a class='marginalized' href='#string.std-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15113'>#</a></div><div class='texpara'><div id='string.std-15.sentence-1' class='sentence'>The <span class='textsf'><i >precision</i></span> option is valid
for floating-point and string types<a class='hidden_link' href='#string.std-15.sentence-1'>.</a></div> <div id='string.std-15.sentence-2' class='sentence'>For floating-point types,
the value of this option specifies the precision
to be used for the floating-point presentation type<a class='hidden_link' href='#string.std-15.sentence-2'>.</a></div> <div id='string.std-15.sentence-3' class='sentence'>For string types,
this option specifies the longest prefix of the formatted argument
to be included in the replacement field such that
the field width of the prefix is no greater than the value of this option<a class='hidden_link' href='#string.std-15.sentence-3'>.</a></div></div></div><div class='para' id='string.std-16'><div class='marginalizedparent'><a class='marginalized' href='#string.std-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15124'>#</a></div><div class='texpara'><div id='string.std-16.sentence-1' class='sentence'>If <span class='textsf'><i >nonnegative-integer</i></span> is used in
a <span class='textsf'><i >precision</i></span> option,
the value of the decimal integer is used as the value of the option<a class='hidden_link' href='#string.std-16.sentence-1'>.</a></div></div></div><div class='para' id='string.std-17'><div class='marginalizedparent'><a class='marginalized' href='#string.std-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15129'>#</a></div><div class='texpara'><div id='string.std-17.sentence-1' class='sentence'>When the <span class='texttt'>L</span> option is used, the form used for the conversion is called
the <a class='hidden_link' href='#def:locale-specific_form,format_string' title='22.14.2.2&emsp;Standard format specifiers&emsp;[format.string.std]'><span id='def:locale-specific_form,format_string'><i >locale-specific form</i></span></a><a class='hidden_link' href='#string.std-17.sentence-1'>.</a></div> <div id='string.std-17.sentence-2' class='sentence'>The <span class='texttt'>L</span> option is only valid for arithmetic types, and
its effect depends upon the type<a class='hidden_link' href='#string.std-17.sentence-2'>.</a></div> <ul class='itemize'><li id='string.std-17.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.std-17.1'>(17.1)</a></div><div class='texpara'><div id='string.std-17.1.sentence-1' class='sentence'>For integral types, the locale-specific form
causes the context's locale to be used
to insert the appropriate digit group separator characters<a class='hidden_link' href='#string.std-17.1.sentence-1'>.</a></div></div></li><li id='string.std-17.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.std-17.2'>(17.2)</a></div><div class='texpara'><div id='string.std-17.2.sentence-1' class='sentence'>For floating-point types, the locale-specific form
causes the context's locale to be used
to insert the appropriate digit group and radix separator characters<a class='hidden_link' href='#string.std-17.2.sentence-1'>.</a></div></div></li><li id='string.std-17.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.std-17.3'>(17.3)</a></div><div class='texpara'><div id='string.std-17.3.sentence-1' class='sentence'>For the textual representation of <span class='texttt'><span class='keyword'>bool</span></span>, the locale-specific form
causes the context's locale to be used
to insert the appropriate string as if obtained
with <span class='texttt'>numpunct<span class='operator'>&#x200b;::&#x200b;</span>truename</span> or <span class='texttt'>numpunct<span class='operator'>&#x200b;::&#x200b;</span>falsename</span><a class='hidden_link' href='#string.std-17.3.sentence-1'>.</a></div></div></li></ul></div></div><div class='para' id='string.std-18'><div class='marginalizedparent'><a class='marginalized' href='#string.std-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15152'>#</a></div><div class='texpara'><div id='string.std-18.sentence-1' class='sentence'>The <span class='textsf'><i >type</i></span> determines how the data should be presented<a class='hidden_link' href='#string.std-18.sentence-1'>.</a></div></div></div><div class='para' id='string.std-19'><div class='marginalizedparent'><a class='marginalized' href='#string.std-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15155'>#</a></div><div class='texpara'><div id='string.std-19.sentence-1' class='sentence'>The available string presentation types are specified in Table <a href='#tab:format.type.string' title='Table 67: Meaning of type options for strings'>67</a><a class='hidden_link' href='#string.std-19.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:format.type.string'>Table <a href='#tab:format.type.string'>67</a>: Meaning of <span class='textsf'><i >type</i></span> options for strings&emsp;<a href='./tab:format.type.string'>[tab:format.type.string]</a><br><table ><tr id='tab:format.type.string-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.string-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.type.string-row-1-column-1-sentence-1' class='sentence'><b>Type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.type.string-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.type.string-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.string-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.string-row-2-column-1-sentence-1' class='sentence'>none, <span class='texttt'>s</span></div></div></td><td class='left'><div class='texpara'><div id='tab:format.type.string-row-2-column-2-sentence-1' class='sentence'>Copies the string to the output<a class='hidden_link' href='#tab:format.type.string-row-2-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.string-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.string-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.string-row-3-column-1-sentence-1' class='sentence'><span class='texttt'><span class='operator'>?</span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:format.type.string-row-3-column-2-sentence-1' class='sentence'>Copies the escaped string (<a href='#string.escaped' title='22.14.6.4&emsp;Formatting escaped characters and strings'>[format.<span class='shy'></span>string.<span class='shy'></span>escaped]</a>) to the output<a class='hidden_link' href='#tab:format.type.string-row-3-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div><div class='para' id='string.std-20'><div class='marginalizedparent'><a class='marginalized' href='#string.std-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15171'>#</a></div><div class='texpara'><div id='string.std-20.sentence-1' class='sentence'>The meaning of some non-string presentation types
is defined in terms of a call to <span class='texttt'>to_<span class='shy'></span>chars</span><a class='hidden_link' href='#string.std-20.sentence-1'>.</a></div> <div id='string.std-20.sentence-2' class='sentence'>In such cases,
let [<span class='texttt'>first, last</span>) be a range
large enough to hold the <span class='texttt'>to_<span class='shy'></span>chars</span> output
and <span class='texttt'>value</span> be the formatting argument value<a class='hidden_link' href='#string.std-20.sentence-2'>.</a></div> <div id='string.std-20.sentence-3' class='sentence'>Formatting is done as if by calling <span class='texttt'>to_<span class='shy'></span>chars</span> as specified
and copying the output through the output iterator of the format context<a class='hidden_link' href='#string.std-20.sentence-3'>.</a></div> <div id='string.std-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-7'>7</a></i>:&ensp;<div id='string.std-20.sentence-4' class='sentence'>Additional padding and adjustments are performed
prior to copying the output through the output iterator
as specified by the format specifiers<a class='hidden_link' href='#string.std-20.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='string.std-21'><div class='marginalizedparent'><a class='marginalized' href='#string.std-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15186'>#</a></div><div class='texpara'><div id='string.std-21.sentence-1' class='sentence'>The available integer presentation types
for integral types other than <span class='texttt'><span class='keyword'>bool</span></span> and <span class='texttt'>charT</span>
are specified in Table <a href='#tab:format.type.int' title='Table 68: Meaning of type options for integer types'>68</a><a class='hidden_link' href='#string.std-21.sentence-1'>.</a></div> <div id='string.std-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.std-example-4'>4</a></i>:&ensp;<span class='codeblock'>string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;                           <span class='comment'>// value of <span class='tcode_in_codeblock'>s0</span> is <span class='tcode_in_codeblock'>"42"</span></span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:b} {0:d} {0:o} {0:x}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"101010 42 52 2a"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:#x} {0:#X}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;                <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"0x2a 0X2A"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:L}"</span>, <span class='literal'>1234</span><span class='parenthesis'>)</span>;                       <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> can be <span class='tcode_in_codeblock'>"1,234"</span></span>
                                                        <span class='comment'>// (depending on the locale)</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div class='numberedTable' id='tab:format.type.int'>Table <a href='#tab:format.type.int'>68</a>: Meaning of <span class='textsf'><i >type</i></span> options for integer types&emsp;<a href='./tab:format.type.int'>[tab:format.type.int]</a><br><table ><tr id='tab:format.type.int-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.type.int-row-1-column-1-sentence-1' class='sentence'><b>Type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.type.int-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.type.int-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>b</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>to_<span class='shy'></span>chars<span class='parenthesis'>(</span>first, last, value, <span class='literal'>2</span><span class='parenthesis'>)</span></span>;
<a class='index' id=':base_prefix'></a>the base prefix is <span class='texttt'>0b</span><a class='hidden_link' href='#tab:format.type.int-row-2-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.int-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>B</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-3-column-2-sentence-1' class='sentence'>The same as <span class='texttt'>b</span>, except that
<a class='index' id=':base_prefix_'></a>the base prefix is <span class='texttt'>0B</span><a class='hidden_link' href='#tab:format.type.int-row-3-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.int-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>c</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-4-column-2-sentence-1' class='sentence'>Copies the character <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span></span> to the output<a class='hidden_link' href='#tab:format.type.int-row-4-column-2-sentence-1'>.</a></div> <div id='tab:format.type.int-row-4-column-2-sentence-2' class='sentence'>Throws <span class='texttt'>format_<span class='shy'></span>error</span> if <span class='texttt'>value</span> is not
in the range of representable values for <span class='texttt'>charT</span><a class='hidden_link' href='#tab:format.type.int-row-4-column-2-sentence-2'>.</a></div></div></td></tr><tr id='tab:format.type.int-row-5' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-5'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-5-column-1-sentence-1' class='sentence'><span class='texttt'>d</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-5-column-2-sentence-1' class='sentence'><span class='texttt'>to_<span class='shy'></span>chars<span class='parenthesis'>(</span>first, last, value<span class='parenthesis'>)</span></span><a class='hidden_link' href='#tab:format.type.int-row-5-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.int-row-6' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-6'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-6-column-1-sentence-1' class='sentence'><span class='texttt'>o</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-6-column-2-sentence-1' class='sentence'><span class='texttt'>to_<span class='shy'></span>chars<span class='parenthesis'>(</span>first, last, value, <span class='literal'>8</span><span class='parenthesis'>)</span></span>;
<a class='index' id=':base_prefix__'></a>the base prefix is <span class='texttt'>0</span> if <span class='texttt'>value</span> is nonzero and is empty otherwise<a class='hidden_link' href='#tab:format.type.int-row-6-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.int-row-7' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-7'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-7-column-1-sentence-1' class='sentence'><span class='texttt'>x</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-7-column-2-sentence-1' class='sentence'><span class='texttt'>to_<span class='shy'></span>chars<span class='parenthesis'>(</span>first, last, value, <span class='literal'>16</span><span class='parenthesis'>)</span></span>;
<a class='index' id=':base_prefix___'></a>the base prefix is <span class='texttt'>0x</span><a class='hidden_link' href='#tab:format.type.int-row-7-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.int-row-8' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-8'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-8-column-1-sentence-1' class='sentence'><span class='texttt'>X</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-8-column-2-sentence-1' class='sentence'>The same as <span class='texttt'>x</span>, except that
it uses uppercase letters for digits above 9 and
<a class='index' id=':base_prefix____'></a>the base prefix is <span class='texttt'>0X</span><a class='hidden_link' href='#tab:format.type.int-row-8-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.int-row-9' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.int-row-9'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.int-row-9-column-1-sentence-1' class='sentence'>none</div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.int-row-9-column-2-sentence-1' class='sentence'>The same as <span class='texttt'>d</span><a class='hidden_link' href='#tab:format.type.int-row-9-column-2-sentence-1'>.</a></div> <div id='tab:format.type.int-row-9-column-2-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#tab:format.type.int-row-9-column-2-note-8'>8</a></i>:&ensp;<div id='tab:format.type.int-row-9-column-2-sentence-2' class='sentence'>If the formatting argument type is <span class='texttt'>charT</span> or <span class='texttt'><span class='keyword'>bool</span></span>,
the default is instead <span class='texttt'>c</span> or <span class='texttt'>s</span>, respectively<a class='hidden_link' href='#tab:format.type.int-row-9-column-2-sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></td></tr></table></div></div></div><div class='para' id='string.std-22'><div class='marginalizedparent'><a class='marginalized' href='#string.std-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15253'>#</a></div><div class='texpara'><div id='string.std-22.sentence-1' class='sentence'>The available <span class='texttt'>charT</span> presentation types are specified in Table <a href='#tab:format.type.char' title='Table 69: Meaning of type options for charT'>69</a><a class='hidden_link' href='#string.std-22.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:format.type.char'>Table <a href='#tab:format.type.char'>69</a>: Meaning of <span class='textsf'><i >type</i></span> options for <span class='texttt'>charT</span>&emsp;<a href='./tab:format.type.char'>[tab:format.type.char]</a><br><table ><tr id='tab:format.type.char-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.char-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.type.char-row-1-column-1-sentence-1' class='sentence'><b>Type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.type.char-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.type.char-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.char-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.char-row-2-column-1-sentence-1' class='sentence'>none, <span class='texttt'>c</span></div></div></td><td class='left'><div class='texpara'><div id='tab:format.type.char-row-2-column-2-sentence-1' class='sentence'>Copies the character to the output<a class='hidden_link' href='#tab:format.type.char-row-2-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.char-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.char-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.char-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>b</span>, <span class='texttt'>B</span>, <span class='texttt'>d</span>, <span class='texttt'>o</span>, <span class='texttt'>x</span>, <span class='texttt'>X</span></div></div></td><td class='left'><div class='texpara'><div id='tab:format.type.char-row-3-column-2-sentence-1' class='sentence'>As specified in Table <a href='#tab:format.type.int' title='Table 68: Meaning of type options for integer types'>68</a><a class='hidden_link' href='#tab:format.type.char-row-3-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.char-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.char-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.char-row-4-column-1-sentence-1' class='sentence'><span class='texttt'><span class='operator'>?</span></span></div></div></td><td class='left'><div class='texpara'><div id='tab:format.type.char-row-4-column-2-sentence-1' class='sentence'>Copies the escaped character (<a href='#string.escaped' title='22.14.6.4&emsp;Formatting escaped characters and strings'>[format.<span class='shy'></span>string.<span class='shy'></span>escaped]</a>) to the output<a class='hidden_link' href='#tab:format.type.char-row-4-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div><div class='para' id='string.std-23'><div class='marginalizedparent'><a class='marginalized' href='#string.std-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15272'>#</a></div><div class='texpara'><div id='string.std-23.sentence-1' class='sentence'>The available <span class='texttt'><span class='keyword'>bool</span></span> presentation types are specified in Table <a href='#tab:format.type.bool' title='Table 70: Meaning of type options for bool'>70</a><a class='hidden_link' href='#string.std-23.sentence-1'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:format.type.bool'>Table <a href='#tab:format.type.bool'>70</a>: Meaning of <span class='textsf'><i >type</i></span> options for <span class='texttt'><span class='keyword'>bool</span></span>&emsp;<a href='./tab:format.type.bool'>[tab:format.type.bool]</a><br><table ><tr id='tab:format.type.bool-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.bool-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.type.bool-row-1-column-1-sentence-1' class='sentence'><b>Type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.type.bool-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.type.bool-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.bool-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.bool-row-2-column-1-sentence-1' class='sentence'>none,
<span class='texttt'>s</span></div></div></td><td class='left'><div class='texpara'><div id='tab:format.type.bool-row-2-column-2-sentence-1' class='sentence'>Copies textual representation, either <span class='texttt'>true</span> or <span class='texttt'>false</span>, to the output<a class='hidden_link' href='#tab:format.type.bool-row-2-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.bool-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.bool-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.bool-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>b</span>, <span class='texttt'>B</span>, <span class='texttt'>d</span>, <span class='texttt'>o</span>, <span class='texttt'>x</span>, <span class='texttt'>X</span></div></div></td><td class='left'><div class='texpara'><div id='tab:format.type.bool-row-3-column-2-sentence-1' class='sentence'>As specified in Table <a href='#tab:format.type.int' title='Table 68: Meaning of type options for integer types'>68</a>
for the value
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span></span><a class='hidden_link' href='#tab:format.type.bool-row-3-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div><div class='para' id='string.std-24'><div class='marginalizedparent'><a class='marginalized' href='#string.std-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15290'>#</a></div><div class='texpara'><div id='string.std-24.sentence-1' class='sentence'>The available floating-point presentation types and their meanings
for values other than infinity and NaN are
specified in Table <a href='#tab:format.type.float' title='Table 71: Meaning of type options for floating-point types'>71</a><a class='hidden_link' href='#string.std-24.sentence-1'>.</a></div> <div id='string.std-24.sentence-2' class='sentence'>For lower-case presentation types, infinity and NaN are formatted as
<span class='texttt'>inf</span> and <span class='texttt'>nan</span>, respectively<a class='hidden_link' href='#string.std-24.sentence-2'>.</a></div> <div id='string.std-24.sentence-3' class='sentence'>For upper-case presentation types, infinity and NaN are formatted as
<span class='texttt'>INF</span> and <span class='texttt'>NAN</span>, respectively<a class='hidden_link' href='#string.std-24.sentence-3'>.</a></div> <div id='string.std-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-9'>9</a></i>:&ensp;<div id='string.std-24.sentence-4' class='sentence'>In either case, a sign is included
if indicated by the <span class='textsf'><i >sign</i></span> option<a class='hidden_link' href='#string.std-24.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='numberedTable' id='tab:format.type.float'>Table <a href='#tab:format.type.float'>71</a>: Meaning of <span class='textsf'><i >type</i></span> options for floating-point types&emsp;<a href='./tab:format.type.float'>[tab:format.type.float]</a><br><table ><tr id='tab:format.type.float-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.type.float-row-1-column-1-sentence-1' class='sentence'><b>Type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.type.float-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.type.float-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>a</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-2-column-2-sentence-1' class='sentence'>If <span class='textsf'><i >precision</i></span> is specified, equivalent to
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>hex, precision<span class='parenthesis'>)</span>
</span>
where <span class='texttt'>precision</span> is the specified formatting precision; equivalent to
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>hex<span class='parenthesis'>)</span>
</span>
otherwise<a class='hidden_link' href='#tab:format.type.float-row-2-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.float-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>A</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-3-column-2-sentence-1' class='sentence'>The same as <span class='texttt'>a</span>, except that
it uses uppercase letters for digits above 9 and
<span class='texttt'>P</span> to indicate the exponent<a class='hidden_link' href='#tab:format.type.float-row-3-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.float-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>e</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-4-column-2-sentence-1' class='sentence'>Equivalent to
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>scientific, precision<span class='parenthesis'>)</span>
</span>
where <span class='texttt'>precision</span> is the specified formatting precision,
or <span class='texttt'>6</span> if <span class='textsf'><i >precision</i></span> is not specified<a class='hidden_link' href='#tab:format.type.float-row-4-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.float-row-5' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-5'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-5-column-1-sentence-1' class='sentence'><span class='texttt'>E</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-5-column-2-sentence-1' class='sentence'>The same as <span class='texttt'>e</span>, except that it uses <span class='texttt'>E</span> to indicate exponent<a class='hidden_link' href='#tab:format.type.float-row-5-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.float-row-6' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-6'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-6-column-1-sentence-1' class='sentence'><span class='texttt'>f</span>, <span class='texttt'>F</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-6-column-2-sentence-1' class='sentence'>Equivalent to
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>fixed, precision<span class='parenthesis'>)</span>
</span>
where <span class='texttt'>precision</span> is the specified formatting precision,
or <span class='texttt'>6</span> if <span class='textsf'><i >precision</i></span> is not specified<a class='hidden_link' href='#tab:format.type.float-row-6-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.float-row-7' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-7'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-7-column-1-sentence-1' class='sentence'><span class='texttt'>g</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-7-column-2-sentence-1' class='sentence'>Equivalent to
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>general, precision<span class='parenthesis'>)</span>
</span>
where <span class='texttt'>precision</span> is the specified formatting precision,
or <span class='texttt'>6</span> if <span class='textsf'><i >precision</i></span> is not specified<a class='hidden_link' href='#tab:format.type.float-row-7-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.float-row-8' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-8'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-8-column-1-sentence-1' class='sentence'><span class='texttt'>G</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-8-column-2-sentence-1' class='sentence'>The same as <span class='texttt'>g</span>, except that
it uses <span class='texttt'>E</span> to indicate exponent<a class='hidden_link' href='#tab:format.type.float-row-8-column-2-sentence-1'>.</a></div></div></td></tr><tr id='tab:format.type.float-row-9' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.float-row-9'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.float-row-9-column-1-sentence-1' class='sentence'>none</div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.float-row-9-column-2-sentence-1' class='sentence'>If <span class='textsf'><i >precision</i></span> is specified, equivalent to
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>general, precision<span class='parenthesis'>)</span>
</span>
where <span class='texttt'>precision</span> is the specified formatting precision; equivalent to
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, value<span class='parenthesis'>)</span>
</span>
otherwise<a class='hidden_link' href='#tab:format.type.float-row-9-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div><div class='para' id='string.std-25'><div class='marginalizedparent'><a class='marginalized' href='#string.std-25'>25</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15374'>#</a></div><div class='texpara'><div id='string.std-25.sentence-1' class='sentence'>The available pointer presentation types and their mapping to
<span class='texttt'>to_<span class='shy'></span>chars</span> are specified in Table <a href='#tab:format.type.ptr' title='Table 72: Meaning of type options for pointer types'>72</a><a class='hidden_link' href='#string.std-25.sentence-1'>.</a></div> <div id='string.std-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#string.std-note-10'>10</a></i>:&ensp;<div id='string.std-25.sentence-2' class='sentence'>Pointer presentation types also apply to <span class='texttt'>nullptr_<span class='shy'></span>t</span><a class='hidden_link' href='#string.std-25.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='numberedTable' id='tab:format.type.ptr'>Table <a href='#tab:format.type.ptr'>72</a>: Meaning of <span class='textsf'><i >type</i></span> options for pointer types&emsp;<a href='./tab:format.type.ptr'>[tab:format.type.ptr]</a><br><table ><tr id='tab:format.type.ptr-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.ptr-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.type.ptr-row-1-column-1-sentence-1' class='sentence'><b>Type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.type.ptr-row-1-column-2-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:format.type.ptr-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.type.ptr-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:format.type.ptr-row-2-column-1-sentence-1' class='sentence'>none, <span class='texttt'>p</span></div></div></td><td class='justify' style='width:80%'><div class='texpara'><div id='tab:format.type.ptr-row-2-column-2-sentence-1' class='sentence'>If <span class='texttt'>uintptr_<span class='shy'></span>t</span> is defined,
<span class='codeblock'>to_chars<span class='parenthesis'>(</span>first, last, <span class='keyword'>reinterpret_cast</span><span class='anglebracket'>&lt;</span>uintptr_t<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span>, <span class='literal'>16</span><span class='parenthesis'>)</span>
</span>
with the prefix <span class='texttt'>0x</span> inserted immediately before the output of <span class='texttt'>to_<span class='shy'></span>chars</span>;
otherwise, implementation-defined<a class='hidden_link' href='#tab:format.type.ptr-row-2-column-2-sentence-1'>.</a></div></div></td></tr></table></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-204'><div class='texpara'><a class='footnotenum' href='#footnote-204'>204)</a><a class='footnoteBacklink' href='#footnoteref-204'>204)</a> <div id='footnote-204.sentence-1' class='sentence'>Windows&reg;&nbsp;is a registered trademark of Microsoft Corporation<a class='hidden_link' href='#footnote-204.sentence-1'>.</a></div> <div id='footnote-204.sentence-2' class='sentence'>This information is given for the convenience of users of this document and
does not constitute an endorsement by ISO or IEC of this product<a class='hidden_link' href='#footnote-204.sentence-2'>.</a></div></div></div></div></div><div id='err.report' class='section'><h3 ><a class='secnum' href='#err.report' style='min-width:80pt'>22.14.3</a> Error reporting <a class='abbr_ref' href='format.err.report'>[format.err.report]</a></h3><div class='para' id='err.report-1'><div class='marginalizedparent'><a class='marginalized' href='#err.report-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15396'>#</a></div><div class='texpara'><div id='err.report-1.sentence-1' class='sentence'>Formatting functions throw <span class='texttt'>format_<span class='shy'></span>error</span> if
an argument <span class='texttt'>fmt</span> is passed that
is not a format string for <span class='texttt'>args</span><a class='hidden_link' href='#err.report-1.sentence-1'>.</a></div> <div id='err.report-1.sentence-2' class='sentence'>They propagate exceptions thrown by operations of
<span class='texttt'>formatter</span> specializations and iterators<a class='hidden_link' href='#err.report-1.sentence-2'>.</a></div> <div id='err.report-1.sentence-3' class='sentence'>Failure to allocate storage is reported by
throwing an exception as described in <a href='res.on.exception.handling' title='16.4.6.13&emsp;Restrictions on exception handling'>[res.<span class='shy'></span>on.<span class='shy'></span>exception.<span class='shy'></span>handling]</a><a class='hidden_link' href='#err.report-1.sentence-3'>.</a></div></div></div></div><div id='fmt.string' class='section'><h3 ><a class='secnum' href='#fmt.string' style='min-width:80pt'>22.14.4</a> Class template <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>string</span> <a class='abbr_ref' href='format.fmt.string'>[format.fmt.string]</a></h3><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> <span id='lib:basic_format_string'><a class='hidden_link' href='#lib:basic_format_string' title='22.14.4&emsp;Class template basic_&shy;format_&shy;string&emsp;[format.fmt.string]'>basic_format_string</a></span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >str</i>;         <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>consteval</span> basic_format_string<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s<span class='parenthesis'>)</span>;

    <span class='keyword'>constexpr</span> basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> get<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <i >str</i>; <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div class='itemdecl' id='fmt.string-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#fmt.string-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>consteval</span> basic_format_string<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='fmt.string-1'><div class='marginalizedparent'><a class='marginalized' href='#fmt.string-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15427'>#</a></div><div class='texpara'><div id='fmt.string-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='keyword'>const</span> T<span class='operator'>&amp;</span></span> models <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>basic_<span class='shy'></span>string_<span class='shy'></span>view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#fmt.string-1.sentence-1'>.</a></div></div></div></div><div class='para' id='fmt.string-2'><div class='marginalizedparent'><a class='marginalized' href='#fmt.string-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15431'>#</a></div><div class='texpara'><div id='fmt.string-2.sentence-1' class='sentence'><i >Effects</i>: Direct-non-list-initializes <span class='texttt'><i >str</i></span> with <span class='texttt'>s</span><a class='hidden_link' href='#fmt.string-2.sentence-1'>.</a></div></div></div></div><div class='para' id='fmt.string-3'><div class='marginalizedparent'><a class='marginalized' href='#fmt.string-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15435'>#</a></div><div class='texpara'><div id='fmt.string-3.sentence-1' class='sentence'><i >Remarks</i>: A call to this function is not a core constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)
unless there exist <span class='texttt'>args</span> of types <span class='texttt'>Args</span>
such that <span class='texttt'><i >str</i></span> is a format string for <span class='texttt'>args</span><a class='hidden_link' href='#fmt.string-3.sentence-1'>.</a></div></div></div></div></div><div id='functions' class='section'><h3 ><a class='secnum' href='#functions' style='min-width:80pt'>22.14.5</a> Formatting functions <a class='abbr_ref' href='format.functions'>[format.functions]</a></h3><div class='para' id='functions-1'><div class='marginalizedparent'><a class='marginalized' href='#functions-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15444'>#</a></div><div class='texpara'><div id='functions-1.sentence-1' class='sentence'>In the description of the functions, operator <span class='texttt'><span class='operator'>+</span></span> is used
for some of the iterator categories for which it does not have to be defined<a class='hidden_link' href='#functions-1.sentence-1'>.</a></div> <div id='functions-1.sentence-2' class='sentence'>In these cases the semantics of <span class='texttt'>a <span class='operator'>+</span> n</span> are
the same as in <a href='algorithms.requirements' title='27.2&emsp;Algorithms requirements'>[algorithms.<span class='shy'></span>requirements]</a><a class='hidden_link' href='#functions-1.sentence-2'>.</a></div></div></div><div class='texpara'><div id='lib:format'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  string format<span class='parenthesis'>(</span>format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-2'><div class='marginalizedparent'><a class='marginalized' href='#functions-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15457'>#</a></div><div class='texpara'><div id='functions-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>fmt<span class='operator'>.</span><i >str</i>, make_format_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:format_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  wstring format<span class='parenthesis'>(</span>wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-3'><div class='marginalizedparent'><a class='marginalized' href='#functions-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15472'>#</a></div><div class='texpara'><div id='functions-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>fmt<span class='operator'>.</span><i >str</i>, make_wformat_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:format__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  string format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-4'><div class='marginalizedparent'><a class='marginalized' href='#functions-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15487'>#</a></div><div class='texpara'><div id='functions-4.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>loc, fmt<span class='operator'>.</span><i >str</i>, make_format_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:format___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  wstring format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-5'><div class='marginalizedparent'><a class='marginalized' href='#functions-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15502'>#</a></div><div class='texpara'><div id='functions-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>loc, fmt<span class='operator'>.</span><i >str</i>, make_wformat_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:vformat'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:vformat'>🔗</a></div><code class='itemdeclcode'>string vformat<span class='parenthesis'>(</span>string_view fmt, format_args args<span class='parenthesis'>)</span>;
wstring vformat<span class='parenthesis'>(</span>wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
string vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, format_args args<span class='parenthesis'>)</span>;
wstring vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-6'><div class='marginalizedparent'><a class='marginalized' href='#functions-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15519'>#</a></div><div class='texpara'><div id='functions-6.sentence-1' class='sentence'><i >Returns</i>: A string object holding the character representation of
formatting arguments provided by <span class='texttt'>args</span> formatted according to
specifications given in <span class='texttt'>fmt</span><a class='hidden_link' href='#functions-6.sentence-1'>.</a></div> <div id='functions-6.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-6.sentence-2'>.</a></div></div></div></div><div class='para' id='functions-7'><div class='marginalizedparent'><a class='marginalized' href='#functions-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15526'>#</a></div><div class='texpara'><div id='functions-7.sentence-1' class='sentence'><i >Throws</i>: As specified in <a href='#err.report' title='22.14.3&emsp;Error reporting'>[format.<span class='shy'></span>err.<span class='shy'></span>report]</a><a class='hidden_link' href='#functions-7.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:format_to'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_to'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-8'><div class='marginalizedparent'><a class='marginalized' href='#functions-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15538'>#</a></div><div class='texpara'><div id='functions-8.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat_to<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>out<span class='parenthesis'>)</span>, fmt<span class='operator'>.</span><i >str</i>, make_format_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:format_to_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_to_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-9'><div class='marginalizedparent'><a class='marginalized' href='#functions-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15553'>#</a></div><div class='texpara'><div id='functions-9.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat_to<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>out<span class='parenthesis'>)</span>, fmt<span class='operator'>.</span><i >str</i>, make_wformat_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:format_to__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_to__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>  fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-10'><div class='marginalizedparent'><a class='marginalized' href='#functions-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15568'>#</a></div><div class='texpara'><div id='functions-10.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat_to<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>out<span class='parenthesis'>)</span>, loc, fmt<span class='operator'>.</span><i >str</i>, make_format_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:format_to___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_to___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-11'><div class='marginalizedparent'><a class='marginalized' href='#functions-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15583'>#</a></div><div class='texpara'><div id='functions-11.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> vformat_to<span class='parenthesis'>(</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>out<span class='parenthesis'>)</span>, loc, fmt<span class='operator'>.</span><i >str</i>, make_wformat_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:vformat_to'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:vformat_to'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, string_view fmt, format_args args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, format_args args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-12'><div class='marginalizedparent'><a class='marginalized' href='#functions-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15604'>#</a></div><div class='texpara'><div id='functions-12.sentence-1' class='sentence'>Let <span class='texttt'>charT</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='parenthesis'>)</span><span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type</span><a class='hidden_link' href='#functions-12.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-13'><div class='marginalizedparent'><a class='marginalized' href='#functions-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15607'>#</a></div><div class='texpara'><div id='functions-13.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>Out</span> satisfies <span class='texttt'><a href='iterator.concept.output#concept:output_iterator' title='25.3.4.10&emsp;Concept output_&shy;iterator&emsp;[iterator.concept.output]'><span id='conceptref:output_iterator'><span class='texttt'>output_<span class='shy'></span>iterator</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#functions-13.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-14'><div class='marginalizedparent'><a class='marginalized' href='#functions-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15611'>#</a></div><div class='texpara'><div id='functions-14.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>Out</span> models <span class='texttt'><a href='iterator.concept.output#concept:output_iterator' title='25.3.4.10&emsp;Concept output_&shy;iterator&emsp;[iterator.concept.output]'><span id='conceptref:output_iterator_'><span class='texttt'>output_<span class='shy'></span>iterator</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#functions-14.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-15'><div class='marginalizedparent'><a class='marginalized' href='#functions-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15615'>#</a></div><div class='texpara'><div id='functions-15.sentence-1' class='sentence'><i >Effects</i>: Places the character representation of formatting
the arguments provided by <span class='texttt'>args</span>,
formatted according to the specifications given in <span class='texttt'>fmt</span>,
into the range [<span class='texttt'>out, out <span class='operator'>+</span> N</span>),
where <span class='texttt'>N</span> is the number of characters in that character representation<a class='hidden_link' href='#functions-15.sentence-1'>.</a></div> <div id='functions-15.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-15.sentence-2'>.</a></div></div></div></div><div class='para' id='functions-16'><div class='marginalizedparent'><a class='marginalized' href='#functions-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15624'>#</a></div><div class='texpara'><div id='functions-16.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>out <span class='operator'>+</span> N</span><a class='hidden_link' href='#functions-16.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-17'><div class='marginalizedparent'><a class='marginalized' href='#functions-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15628'>#</a></div><div class='texpara'><div id='functions-17.sentence-1' class='sentence'><i >Throws</i>: As specified in <a href='#err.report' title='22.14.3&emsp;Error reporting'>[format.<span class='shy'></span>err.<span class='shy'></span>report]</a><a class='hidden_link' href='#functions-17.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:format_to_n'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_to_n'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt,
                                      Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt,
                                      Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-18'><div class='marginalizedparent'><a class='marginalized' href='#functions-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15652'>#</a></div><div class='texpara'><div id='functions-18.sentence-1' class='sentence'>Let
<ul class='itemize'><li id='functions-18.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#functions-18.1'>(18.1)</a></div><span class='texttt'>charT</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='operator'>.</span><span class='texttt'><i >str</i></span><span class='parenthesis'>)</span><span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type</span>,</li><li id='functions-18.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#functions-18.2'>(18.2)</a></div><span class='texttt'>N</span> be
<span class='texttt'>formatted_<span class='shy'></span>size<span class='parenthesis'>(</span>fmt, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> for the functions without a <span class='texttt'>loc</span> parameter and
<span class='texttt'>formatted_<span class='shy'></span>size<span class='parenthesis'>(</span>loc, fmt, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> for the functions with a <span class='texttt'>loc</span> parameter, and</li><li id='functions-18.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#functions-18.3'>(18.3)</a></div><span class='texttt'>M</span> be <span class='texttt'>clamp<span class='parenthesis'>(</span>n, <span class='literal'>0</span>, N<span class='parenthesis'>)</span></span><a class='hidden_link' href='#functions-18.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='functions-19'><div class='marginalizedparent'><a class='marginalized' href='#functions-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15662'>#</a></div><div class='texpara'><div id='functions-19.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>Out</span> satisfies <span class='texttt'><a href='iterator.concept.output#concept:output_iterator' title='25.3.4.10&emsp;Concept output_&shy;iterator&emsp;[iterator.concept.output]'><span id='conceptref:output_iterator__'><span class='texttt'>output_<span class='shy'></span>iterator</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#functions-19.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-20'><div class='marginalizedparent'><a class='marginalized' href='#functions-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15666'>#</a></div><div class='texpara'><div id='functions-20.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>Out</span> models <span class='texttt'><a href='iterator.concept.output#concept:output_iterator' title='25.3.4.10&emsp;Concept output_&shy;iterator&emsp;[iterator.concept.output]'><span id='conceptref:output_iterator___'><span class='texttt'>output_<span class='shy'></span>iterator</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span>, and
<span class='texttt'>formatter<span class='anglebracket'>&lt;</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">remove_cvref_t<span class='anglebracket'>&lt;</span>T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.22em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='texttt'><span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span></span>
meets the <i >BasicFormatter</i> requirements (<a href='#formatter.requirements' title='22.14.6.1&emsp;Formatter requirements'>[formatter.<span class='shy'></span>requirements]</a>)
for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>Args</span><a class='hidden_link' href='#functions-20.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-21'><div class='marginalizedparent'><a class='marginalized' href='#functions-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15673'>#</a></div><div class='texpara'><div id='functions-21.sentence-1' class='sentence'><i >Effects</i>: Places the first <span class='texttt'>M</span> characters of the character representation of
formatting the arguments provided by <span class='texttt'>args</span>,
formatted according to the specifications given in <span class='texttt'>fmt</span>,
into the range [<span class='texttt'>out, out <span class='operator'>+</span> M</span>)<a class='hidden_link' href='#functions-21.sentence-1'>.</a></div> <div id='functions-21.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-21.sentence-2'>.</a></div></div></div></div><div class='para' id='functions-22'><div class='marginalizedparent'><a class='marginalized' href='#functions-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15681'>#</a></div><div class='texpara'><div id='functions-22.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='curlybracket'>{</span>out <span class='operator'>+</span> M, N<span class='curlybracket'>}</span></span><a class='hidden_link' href='#functions-22.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-23'><div class='marginalizedparent'><a class='marginalized' href='#functions-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15685'>#</a></div><div class='texpara'><div id='functions-23.sentence-1' class='sentence'><i >Throws</i>: As specified in <a href='#err.report' title='22.14.3&emsp;Error reporting'>[format.<span class='shy'></span>err.<span class='shy'></span>report]</a><a class='hidden_link' href='#functions-23.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:formatted_size'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:formatted_size'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span>format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span>wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, format_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wformat_string<span class='anglebracket'>&lt;</span>Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> fmt, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='functions-24'><div class='marginalizedparent'><a class='marginalized' href='#functions-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15703'>#</a></div><div class='texpara'><div id='functions-24.sentence-1' class='sentence'>Let <span class='texttt'>charT</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='operator'>.</span><span class='texttt'><i >str</i></span><span class='parenthesis'>)</span><span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type</span><a class='hidden_link' href='#functions-24.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-25'><div class='marginalizedparent'><a class='marginalized' href='#functions-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15706'>#</a></div><div class='texpara'><div id='functions-25.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>formatter<span class='anglebracket'>&lt;</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">remove_cvref_t<span class='anglebracket'>&lt;</span>T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.22em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='texttt'><span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span></span>
meets the <i >BasicFormatter</i> requirements (<a href='#formatter.requirements' title='22.14.6.1&emsp;Formatter requirements'>[formatter.<span class='shy'></span>requirements]</a>)
for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>Args</span><a class='hidden_link' href='#functions-25.sentence-1'>.</a></div></div></div></div><div class='para' id='functions-26'><div class='marginalizedparent'><a class='marginalized' href='#functions-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15712'>#</a></div><div class='texpara'><div id='functions-26.sentence-1' class='sentence'><i >Returns</i>: The number of characters in the character representation of
formatting arguments <span class='texttt'>args</span>
formatted according to specifications given in <span class='texttt'>fmt</span><a class='hidden_link' href='#functions-26.sentence-1'>.</a></div> <div id='functions-26.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-26.sentence-2'>.</a></div></div></div></div><div class='para' id='functions-27'><div class='marginalizedparent'><a class='marginalized' href='#functions-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15719'>#</a></div><div class='texpara'><div id='functions-27.sentence-1' class='sentence'><i >Throws</i>: As specified in <a href='#err.report' title='22.14.3&emsp;Error reporting'>[format.<span class='shy'></span>err.<span class='shy'></span>report]</a><a class='hidden_link' href='#functions-27.sentence-1'>.</a></div></div></div></div></div><div id='formatter' class='section'><h3 ><a class='secnum' href='#formatter' style='min-width:80pt'>22.14.6</a> Formatter <a class='abbr_ref' href='format.formatter'>[format.formatter]</a></h3><div id='formatter.requirements' class='section'><h4 ><a class='secnum' href='#formatter.requirements' style='min-width:95pt'>22.14.6.1</a> Formatter requirements <a class='abbr_ref' href='formatter.requirements'>[formatter.requirements]</a></h4><div class='para' id='formatter.requirements-1'><div class='marginalizedparent'><a class='marginalized' href='#formatter.requirements-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15728'>#</a></div><div class='texpara'><div id='formatter.requirements-1.sentence-1' class='sentence'>A type <span class='texttt'>F</span> meets the <a class='index' id='def:BasicFormatter'></a><i >BasicFormatter</i> requirements if
it meets the
<ul class='itemize'><li id='formatter.requirements-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-1.1'>(1.1)</a></div><i >Cpp17DefaultConstructible</i> (Table <a href='utility.arg.requirements#tab:cpp17.defaultconstructible' title='Table 30: Cpp17DefaultConstructible requirements'>30</a>),</li><li id='formatter.requirements-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-1.2'>(1.2)</a></div><i >Cpp17CopyConstructible</i> (Table <a href='utility.arg.requirements#tab:cpp17.copyconstructible' title='Table 32: Cpp17CopyConstructible requirements (in addition to Cpp17MoveConstructible)'>32</a>),</li><li id='formatter.requirements-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-1.3'>(1.3)</a></div><i >Cpp17CopyAssignable</i> (Table <a href='utility.arg.requirements#tab:cpp17.copyassignable' title='Table 34: Cpp17CopyAssignable requirements (in addition to Cpp17MoveAssignable)'>34</a>),</li><li id='formatter.requirements-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-1.4'>(1.4)</a></div><i >Cpp17Swappable</i> (<a href='swappable.requirements' title='16.4.4.3&emsp;Swappable requirements'>[swappable.<span class='shy'></span>requirements]</a>), and</li><li id='formatter.requirements-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-1.5'>(1.5)</a></div><i >Cpp17Destructible</i> (Table <a href='utility.arg.requirements#tab:cpp17.destructible' title='Table 35: Cpp17Destructible requirements'>35</a>)</li></ul>
requirements, and
the expressions shown in Table <a href='#tab:formatter.basic' title='Table 73: BasicFormatter requirements'>73</a> are valid and
have the indicated semantics<a class='hidden_link' href='#formatter.requirements-1.sentence-1'>.</a></div></div></div><div class='para' id='formatter.requirements-2'><div class='marginalizedparent'><a class='marginalized' href='#formatter.requirements-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15742'>#</a></div><div class='texpara'><div id='formatter.requirements-2.sentence-1' class='sentence'>A type <span class='texttt'>F</span> meets the <a class='index' id='def:Formatter'></a><i >Formatter</i> requirements
if it meets the <i >BasicFormatter</i> requirements and
the expressions shown in Table <a href='#tab:formatter' title='Table 74: Formatter requirements'>74</a> are valid and
have the indicated semantics<a class='hidden_link' href='#formatter.requirements-2.sentence-1'>.</a></div></div></div><div class='para' id='formatter.requirements-3'><div class='marginalizedparent'><a class='marginalized' href='#formatter.requirements-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15748'>#</a></div><div class='texpara'><div id='formatter.requirements-3.sentence-1' class='sentence'>Given character type <span class='texttt'>charT</span>, output iterator type
<span class='texttt'>Out</span>, and formatting argument type <span class='texttt'>T</span>,
in Table <a href='#tab:formatter.basic' title='Table 73: BasicFormatter requirements'>73</a> and Table <a href='#tab:formatter' title='Table 74: Formatter requirements'>74</a>:
<ul class='itemize'><li id='formatter.requirements-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.1'>(3.1)</a></div><span class='texttt'>f</span> is a value of type (possibly const) <span class='texttt'>F</span>,</li><li id='formatter.requirements-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.2'>(3.2)</a></div><span class='texttt'>g</span> is an lvalue of type <span class='texttt'>F</span>,</li><li id='formatter.requirements-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.3'>(3.3)</a></div><span class='texttt'>u</span> is an lvalue of type <span class='texttt'>T</span>,</li><li id='formatter.requirements-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.4'>(3.4)</a></div><span class='texttt'>t</span> is a value of a type convertible to (possibly const) <span class='texttt'>T</span>,</li><li id='formatter.requirements-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.5'>(3.5)</a></div><span class='texttt'>PC</span> is <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>parse_<span class='shy'></span>context<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.requirements-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.6'>(3.6)</a></div><span class='texttt'>FC</span> is <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>context<span class='anglebracket'>&lt;</span>Out, charT<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.requirements-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.7'>(3.7)</a></div><span class='texttt'>pc</span> is an lvalue of type <span class='texttt'>PC</span>, and</li><li id='formatter.requirements-3.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.requirements-3.8'>(3.8)</a></div><span class='texttt'>fc</span> is an lvalue of type <span class='texttt'>FC</span><a class='hidden_link' href='#formatter.requirements-3.sentence-1'>.</a></li></ul></div> <div id='formatter.requirements-3.sentence-2' class='sentence'><span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> points to the beginning of the
<span class='textsf'><i >format-spec</i></span> (<a href='#string' title='22.14.2&emsp;Format string'>[format.<span class='shy'></span>string]</a>)
of the replacement field being formatted
in the format string<a class='hidden_link' href='#formatter.requirements-3.sentence-2'>.</a></div> <div id='formatter.requirements-3.sentence-3' class='sentence'>If <span class='textsf'><i >format-spec</i></span> is empty then either
<span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> pc<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> or
<span class='texttt'><span class='operator'>*</span>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> '<span class='curlybracket'>}</span>'</span><a class='hidden_link' href='#formatter.requirements-3.sentence-3'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:formatter.basic'>Table <a href='#tab:formatter.basic'>73</a>: <i >BasicFormatter</i> requirements&emsp;<a href='./tab:formatter.basic'>[tab:formatter.basic]</a><br><table ><tr id='tab:formatter.basic-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.basic-row-1'>🔗</a></div></td><td class='justify' style='width:1.2in'><div class='texpara'><div id='tab:formatter.basic-row-1-column-1-sentence-1' class='sentence'><b>Expression</b></div></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter.basic-row-1-column-2-sentence-1' class='sentence'><b>Return type</b></div></div></td><td class='justify' style='width:2.9in'><div class='texpara'><div id='tab:formatter.basic-row-1-column-3-sentence-1' class='sentence'><b>Requirement</b></div></div></td></tr><tr id='tab:formatter.basic-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.basic-row-2'>🔗</a></div></td><td class='justify' style='width:1.2in'><div class='texpara'><div id='tab:formatter.basic-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>g<span class='operator'>.</span>parse<span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span></span></div></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter.basic-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>PC<span class='operator'>&#x200b;::&#x200b;</span>iterator</span></div></div></td><td class='justify' style='width:2.9in'><div class='texpara'><div id='tab:formatter.basic-row-2-column-3-sentence-1' class='sentence'>Parses <span class='textsf'><i >format-spec</i></span> (<a href='#string' title='22.14.2&emsp;Format string'>[format.<span class='shy'></span>string]</a>)
for type <span class='texttt'>T</span>
in the range [<span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, pc<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>)
until the first unmatched character<a class='hidden_link' href='#tab:formatter.basic-row-2-column-3-sentence-1'>.</a></div> <div id='tab:formatter.basic-row-2-column-3-sentence-2' class='sentence'>Throws <span class='texttt'>format_<span class='shy'></span>error</span> unless the whole range is parsed
or the unmatched character is <span class='texttt'><span class='curlybracket'>}</span></span><a class='hidden_link' href='#tab:formatter.basic-row-2-column-3-sentence-2'>.</a></div> <div id='tab:formatter.basic-row-2-column-3-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#tab:formatter.basic-row-2-column-3-note-1'>1</a></i>:&ensp;<div id='tab:formatter.basic-row-2-column-3-sentence-3' class='sentence'>This allows formatters to emit meaningful error messages<a class='hidden_link' href='#tab:formatter.basic-row-2-column-3-sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='tab:formatter.basic-row-2-column-3-sentence-4' class='sentence'>
Stores the parsed format specifiers in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and
returns an iterator past the end of the parsed range<a class='hidden_link' href='#tab:formatter.basic-row-2-column-3-sentence-4'>.</a></div></div></td></tr><tr id='tab:formatter.basic-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.basic-row-3'>🔗</a></div></td><td class='justify' style='width:1.2in'><div class='texpara'><div id='tab:formatter.basic-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>f<span class='operator'>.</span>format<span class='parenthesis'>(</span>u, fc<span class='parenthesis'>)</span></span></div></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter.basic-row-3-column-2-sentence-1' class='sentence'><span class='texttt'>FC<span class='operator'>&#x200b;::&#x200b;</span>iterator</span></div></div></td><td class='justify' style='width:2.9in'><div class='texpara'><div id='tab:formatter.basic-row-3-column-3-sentence-1' class='sentence'>Formats <span class='texttt'>u</span> according to the specifiers stored in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>,
writes the output to <span class='texttt'>fc<span class='operator'>.</span>out<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, and
returns an iterator past the end of the output range<a class='hidden_link' href='#tab:formatter.basic-row-3-column-3-sentence-1'>.</a></div> <div id='tab:formatter.basic-row-3-column-3-sentence-2' class='sentence'>The output shall only depend on
<span class='texttt'>u</span>,
<span class='texttt'>fc<span class='operator'>.</span>locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>fc<span class='operator'>.</span>arg<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span></span> for any value <span class='texttt'>n</span> of type <span class='texttt'>size_<span class='shy'></span>t</span>,
and the range [<span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, pc<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>)
from the last call to <span class='texttt'>f<span class='operator'>.</span>parse<span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span></span><a class='hidden_link' href='#tab:formatter.basic-row-3-column-3-sentence-2'>.</a></div></div></td></tr></table></div>
 </div><div class='texpara'><div class='numberedTable' id='tab:formatter'>Table <a href='#tab:formatter'>74</a>: <i >Formatter</i> requirements&emsp;<a href='./tab:formatter'>[tab:formatter]</a><br><table ><tr id='tab:formatter-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter-row-1'>🔗</a></div></td><td class='justify' style='width:1.2in'><div class='texpara'><div id='tab:formatter-row-1-column-1-sentence-1' class='sentence'><b>Expression</b></div></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter-row-1-column-2-sentence-1' class='sentence'><b>Return type</b></div></div></td><td class='justify' style='width:2.9in'><div class='texpara'><div id='tab:formatter-row-1-column-3-sentence-1' class='sentence'><b>Requirement</b></div></div></td></tr><tr id='tab:formatter-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter-row-2'>🔗</a></div></td><td class='justify' style='width:1.2in'><div class='texpara'><div id='tab:formatter-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>f<span class='operator'>.</span>format<span class='parenthesis'>(</span>t, fc<span class='parenthesis'>)</span></span></div></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>FC<span class='operator'>&#x200b;::&#x200b;</span>iterator</span></div></div></td><td class='justify' style='width:2.9in'><div class='texpara'><div id='tab:formatter-row-2-column-3-sentence-1' class='sentence'>Formats <span class='texttt'>t</span> according to the specifiers stored in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>,
writes the output to <span class='texttt'>fc<span class='operator'>.</span>out<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, and
returns an iterator past the end of the output range<a class='hidden_link' href='#tab:formatter-row-2-column-3-sentence-1'>.</a></div> <div id='tab:formatter-row-2-column-3-sentence-2' class='sentence'>The output shall only depend on
<span class='texttt'>t</span>,
<span class='texttt'>fc<span class='operator'>.</span>locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>fc<span class='operator'>.</span>arg<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span></span> for any value <span class='texttt'>n</span> of type <span class='texttt'>size_<span class='shy'></span>t</span>,
and the range [<span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, pc<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>)
from the last call to <span class='texttt'>f<span class='operator'>.</span>parse<span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span></span><a class='hidden_link' href='#tab:formatter-row-2-column-3-sentence-2'>.</a></div></div></td></tr><tr id='tab:formatter-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter-row-3'>🔗</a></div></td><td class='justify' style='width:1.2in'><div class='texpara'><div id='tab:formatter-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>f<span class='operator'>.</span>format<span class='parenthesis'>(</span>u, fc<span class='parenthesis'>)</span></span></div></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter-row-3-column-2-sentence-1' class='sentence'><span class='texttt'>FC<span class='operator'>&#x200b;::&#x200b;</span>iterator</span></div></div></td><td class='justify' style='width:2.9in'><div class='texpara'><div id='tab:formatter-row-3-column-3-sentence-1' class='sentence'>As above, but does not modify <span class='texttt'>u</span><a class='hidden_link' href='#tab:formatter-row-3-column-3-sentence-1'>.</a></div></div></td></tr></table></div></div></div></div><div id='formattable' class='section'><h4 ><a class='secnum' href='#formattable' style='min-width:95pt'>22.14.6.2</a> Concept <span class='texttt'>formattable</span> <a class='abbr_ref' href='format.formattable'>[format.formattable]</a></h4><div class='para' id='formattable-1'><div class='marginalizedparent'><a class='marginalized' href='#formattable-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15826'>#</a></div><div class='texpara'><div id='formattable-1.sentence-1' class='sentence'>Let <span class='texttt'><i >fmt-iter-for</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span> be an unspecified type
that models
<span class='texttt'><a href='iterator.concept.output#concept:output_iterator' title='25.3.4.10&emsp;Concept output_&shy;iterator&emsp;[iterator.concept.output]'><span id='conceptref:output_iterator____'><span class='texttt'>output_<span class='shy'></span>iterator</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> (<a href='iterator.concept.output' title='25.3.4.10&emsp;Concept output_&shy;iterator'>[iterator.<span class='shy'></span>concept.<span class='shy'></span>output]</a>)<a class='hidden_link' href='#formattable-1.sentence-1'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> Context,
         <span class='keyword'>class</span> Formatter <span class='operator'>=</span> <span class='keyword'>typename</span> Context<span class='operator'>::</span><span class='keyword'>template</span> formatter_type<span class='anglebracket'>&lt;</span>remove_const_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>concept</span> <a class='hidden_link' href='#concept:formattable-with' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='concept:formattable-with'><span class='tcode_in_codeblock'><i >formattable-with</i></span></span></a> <span class='operator'>=</span>                <span class='comment'>// <i >exposition only</i></span>
    <a href='concepts.object#concept:semiregular' title='18.6&emsp;Object concepts&emsp;[concepts.object]'><span id='conceptref:semiregular'><span class='tcode_in_codeblock'>semiregular</span></span></a><span class='anglebracket'>&lt;</span>Formatter<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
    <span class='keyword'>requires</span><span class='parenthesis'>(</span>Formatter<span class='operator'>&amp;</span> f, <span class='keyword'>const</span> Formatter<span class='operator'>&amp;</span> cf, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> t, Context fc,
             basic_format_parse_context<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> Context<span class='operator'>::</span>char_type<span class='anglebracket'>&gt;</span> pc<span class='parenthesis'>)</span>
    <span class='curlybracket'>{</span>
      <span class='curlybracket'>{</span> f<span class='operator'>.</span>parse<span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span> <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as__'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span><span class='operator'>::</span>iterator<span class='anglebracket'>&gt;</span>;
      <span class='curlybracket'>{</span> cf<span class='operator'>.</span>format<span class='parenthesis'>(</span>t, fc<span class='parenthesis'>)</span> <span class='curlybracket'>}</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as___'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> Context<span class='operator'>::</span>iterator<span class='anglebracket'>&gt;</span>;
    <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>concept</span> <a class='hidden_link' href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='concept:formattable'><span id='lib:formattable'><span class='tcode_in_codeblock'>formattable</span></span></span></a> <span class='operator'>=</span>
    <a href='#concept:formattable-with' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable-with'><span class='tcode_in_codeblock'><i >formattable-with</i></span></span></a><span class='anglebracket'>&lt;</span>remove_reference_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, basic_format_context<span class='anglebracket'>&lt;</span><i >fmt-iter-for</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
</span></div></div><div class='para' id='formattable-2'><div class='marginalizedparent'><a class='marginalized' href='#formattable-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15848'>#</a></div><div class='texpara'><div id='formattable-2.sentence-1' class='sentence'>A type <span class='texttt'>T</span> and a character type <span class='texttt'>charT</span>
model <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable____'><span class='texttt'>formattable</span></span></a>
if <span class='texttt'>formatter<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span></span> meets
the <i >BasicFormatter</i> requirements (<a href='#formatter.requirements' title='22.14.6.1&emsp;Formatter requirements'>[formatter.<span class='shy'></span>requirements]</a>)
and, if <span class='texttt'>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is const-qualified,
the <i >Formatter</i> requirements<a class='hidden_link' href='#formattable-2.sentence-1'>.</a></div></div></div></div><div id='formatter.spec' class='section'><h4 ><a class='secnum' href='#formatter.spec' style='min-width:95pt'>22.14.6.3</a> Formatter specializations <a class='abbr_ref' href='format.formatter.spec'>[format.formatter.spec]</a></h4><div class='texpara'><a class='index' id='lib:formatter'></a></div><div class='para' id='formatter.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15859'>#</a></div><div class='texpara'><div id='formatter.spec-1.sentence-1' class='sentence'>The functions defined in <a href='#functions' title='22.14.5&emsp;Formatting functions'>[format.<span class='shy'></span>functions]</a> use
specializations of the class template <span class='texttt'>formatter</span> to format
individual arguments<a class='hidden_link' href='#formatter.spec-1.sentence-1'>.</a></div></div></div><div class='para' id='formatter.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15865'>#</a></div><div class='texpara'><div id='formatter.spec-2.sentence-1' class='sentence'>Let <span class='texttt'>charT</span> be either <span class='texttt'><span class='keyword'>char</span></span> or <span id=':wchar_t'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span><a class='hidden_link' href='#formatter.spec-2.sentence-1'>.</a></div> <div id='formatter.spec-2.sentence-2' class='sentence'>Each specialization of <span class='texttt'>formatter</span> is either enabled or disabled,
as described below<a class='hidden_link' href='#formatter.spec-2.sentence-2'>.</a></div> <div id='formatter.spec-2.sentence-3' class='sentence'><a class='index' id=':formatter,debug-enabled_specialization_of'></a>A <a class='hidden_link' href='#def:debug-enabled' title='22.14.6.3&emsp;Formatter specializations&emsp;[format.formatter.spec]'><span id='def:debug-enabled'><i >debug-enabled</i></span></a> specialization of <span class='texttt'>formatter</span>
additionally provides
a public, constexpr, non-static member function <span class='texttt'>set_<span class='shy'></span>debug_<span class='shy'></span>format<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
which modifies the state of the <span class='texttt'>formatter</span> to be as if
the type of the <span class='textsf'><i >std-format-spec</i></span>
parsed by the last call to <span class='texttt'>parse</span> were <span class='texttt'><span class='operator'>?</span></span><a class='hidden_link' href='#formatter.spec-2.sentence-3'>.</a></div> <div id='formatter.spec-2.sentence-4' class='sentence'>Each header that declares the template <span class='texttt'>formatter</span>
provides the following enabled specializations:
<ul class='itemize'><li id='formatter.spec-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-2.1'>(2.1)</a></div><a class='index' id='lib:formatter,specializations,character_types'></a>The debug-enabled specializations
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;
</span></li><li id='formatter.spec-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-2.2'>(2.2)</a></div><a class='index' id='lib:formatter,specializations,string_types'></a>For each <span class='texttt'>charT</span>,
the debug-enabled string type specializations
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>charT<span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t N<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>charT<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits, <span class='keyword'>class</span> Allocator<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>basic_string<span class='anglebracket'>&lt;</span>charT, traits, Allocator<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>basic_string_view<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span>;
</span></li><li id='formatter.spec-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-2.3'>(2.3)</a></div><a class='index' id='lib:formatter,specializations,arithmetic_types'></a>For each <span class='texttt'>charT</span>,
for each cv-unqualified arithmetic type <span class='texttt'>ArithmeticT</span>
other than
<span class='texttt'><span class='keyword'>char</span></span>,
<span id=':wchar_t_'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span>,
<span id=':char8_t'><span class='texttt'><span class='keyword'>char8_<span class='shy'></span>t</span></span></span>,
<span id=':char16_t'><span class='texttt'><span class='keyword'>char16_<span class='shy'></span>t</span></span></span>, or
<span id=':char32_t'><span class='texttt'><span class='keyword'>char32_<span class='shy'></span>t</span></span></span>,
a specialization
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>ArithmeticT, charT<span class='anglebracket'>&gt;</span>;
</span></li><li id='formatter.spec-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-2.4'>(2.4)</a></div><a class='index' id='lib:formatter,specializations,pointer_types'></a><a class='index' id='lib:formatter,specializations,nullptr_t'></a>For each <span class='texttt'>charT</span>,
the pointer type specializations
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>nullptr_t, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
</span></li></ul>
The <span class='texttt'>parse</span> member functions of these formatters
interpret the format specification
as a <span class='textsf'><i >std-format-spec</i></span>
as described in <a href='#string.std' title='22.14.2.2&emsp;Standard format specifiers'>[format.<span class='shy'></span>string.<span class='shy'></span>std]</a><a class='hidden_link' href='#formatter.spec-2.sentence-4'>.</a></div> <div id='formatter.spec-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#formatter.spec-note-1'>1</a></i>:&ensp;<div id='formatter.spec-2.sentence-5' class='sentence'>Specializations such as <span class='texttt'>formatter<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_<span class='shy'></span>t</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span></span>
and <span class='texttt'>formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, <span class='keyword'>wchar_<span class='shy'></span>t</span><span class='anglebracket'>&gt;</span></span>
that would require implicit
multibyte / wide string or character conversion are disabled<a class='hidden_link' href='#formatter.spec-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='formatter.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15939'>#</a></div><div class='texpara'><div id='formatter.spec-3.sentence-1' class='sentence'>For any types <span class='texttt'>T</span> and <span class='texttt'>charT</span> for which
neither the library nor the user provides
an explicit or partial specialization of
the class template <span class='texttt'>formatter</span>,
<span class='texttt'>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span> is disabled<a class='hidden_link' href='#formatter.spec-3.sentence-1'>.</a></div></div></div><div class='para' id='formatter.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15946'>#</a></div><div class='texpara'><div id='formatter.spec-4.sentence-1' class='sentence'>If the library provides an explicit or partial specialization of
<span class='texttt'>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span>, that specialization is enabled
and meets the <i >Formatter</i> requirements
except as noted otherwise<a class='hidden_link' href='#formatter.spec-4.sentence-1'>.</a></div></div></div><div class='para' id='formatter.spec-5'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15952'>#</a></div><div class='texpara'><div id='formatter.spec-5.sentence-1' class='sentence'>If <span class='texttt'>F</span> is a disabled specialization of <span class='texttt'>formatter</span>, these
values are <span class='texttt'><span class='literal'>false</span></span>:
<ul class='itemize'><li id='formatter.spec-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-5.1'>(5.1)</a></div><span class='texttt'>is_<span class='shy'></span>default_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.spec-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-5.2'>(5.2)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.spec-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-5.3'>(5.3)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>constructible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.spec-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-5.4'>(5.4)</a></div><span class='texttt'>is_<span class='shy'></span>copy_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>, and</li><li id='formatter.spec-5.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#formatter.spec-5.5'>(5.5)</a></div><span class='texttt'>is_<span class='shy'></span>move_<span class='shy'></span>assignable_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#formatter.spec-5.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='formatter.spec-6'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15963'>#</a></div><div class='texpara'><div id='formatter.spec-6.sentence-1' class='sentence'>An enabled specialization <span class='texttt'>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span> meets the
<i >BasicFormatter</i> requirements (<a href='#formatter.requirements' title='22.14.6.1&emsp;Formatter requirements'>[formatter.<span class='shy'></span>requirements]</a>)<a class='hidden_link' href='#formatter.spec-6.sentence-1'>.</a></div> <div id='formatter.spec-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#formatter.spec-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>format<span class='anglebracket'>&gt;</span>

<span class='keyword'>enum</span> color <span class='curlybracket'>{</span> red, green, blue <span class='curlybracket'>}</span>;
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> color_names<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"red"</span>, <span class='literal'>"green"</span>, <span class='literal'>"blue"</span> <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> std<span class='operator'>::</span>formatter<span class='anglebracket'>&lt;</span>color<span class='anglebracket'>&gt;</span> <span class='operator'>:</span> std<span class='operator'>::</span>formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> format<span class='parenthesis'>(</span>color c, format_context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>format<span class='parenthesis'>(</span>color_names<span class='squarebracket'>[</span>c<span class='squarebracket'>]</span>, ctx<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> err <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

std<span class='operator'>::</span>string s0 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;         <span class='comment'>// OK, library-provided formatter</span>
std<span class='operator'>::</span>string s1 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, <span class='literal'>L"foo"</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: disabled formatter</span>
std<span class='operator'>::</span>string s2 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, red<span class='parenthesis'>)</span>;        <span class='comment'>// OK, user-provided formatter</span>
std<span class='operator'>::</span>string s3 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, err<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;      <span class='comment'>// error: disabled formatter</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='string.escaped' class='section'><h4 ><a class='secnum' href='#string.escaped' style='min-width:95pt'>22.14.6.4</a> Formatting escaped characters and strings <a class='abbr_ref' href='format.string.escaped'>[format.string.escaped]</a></h4><div class='para' id='string.escaped-1'><div class='marginalizedparent'><a class='marginalized' href='#string.escaped-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15990'>#</a></div><div class='texpara'><div id='string.escaped-1.sentence-1' class='sentence'><a class='index' id=':string,formatted_as_escaped'></a><a class='index' id=':character,formatted_as_escaped'></a>A character or string can be formatted as <a class='hidden_link' href='#def:escaped' title='22.14.6.4&emsp;Formatting escaped characters and strings&emsp;[format.string.escaped]'><span id='def:escaped'><i >escaped</i></span></a>
to make it more suitable for debugging or for logging<a class='hidden_link' href='#string.escaped-1.sentence-1'>.</a></div></div></div><div class='para' id='string.escaped-2'><div class='marginalizedparent'><a class='marginalized' href='#string.escaped-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L15996'>#</a></div><div class='texpara'><div id='string.escaped-2.sentence-1' class='sentence'>The escaped string <i >E</i> representation of a string <i >S</i>
is constructed by encoding a sequence of characters as follows<a class='hidden_link' href='#string.escaped-2.sentence-1'>.</a></div> <div id='string.escaped-2.sentence-2' class='sentence'>The associated character encoding <i >CE</i>
for <span class='texttt'>charT</span> (Table <a href='lex.string#tab:lex.string.literal' title='Table 12: String literals'>12</a>)
is used to both interpret <i >S</i> and construct <i >E</i><a class='hidden_link' href='#string.escaped-2.sentence-2'>.</a></div></div><div class='texpara'><ul class='itemize'><li id='string.escaped-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.escaped-2.1'>(2.1)</a></div><div class='texpara'><div id='string.escaped-2.1.sentence-1' class='sentence'><span class='ucode'>U+0022</span> <span class='uname'>quotation mark</span> (<span class='texttt'>"</span>) is appended to <i >E</i><a class='hidden_link' href='#string.escaped-2.1.sentence-1'>.</a></div></div></li><li id='string.escaped-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.escaped-2.2'>(2.2)</a></div><div class='texpara'><div id='string.escaped-2.2.sentence-1' class='sentence'>For each code unit sequence <i >X</i> in <i >S</i> that either
encodes a single character,
is a shift sequence, or
is a sequence of ill-formed code units,
processing is in order as follows:</div></div><div class='texpara'><ul class='itemize'><li id='string.escaped-2.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#string.escaped-2.2.1'>(2.2.1)</a></div><div class='texpara'><div id='string.escaped-2.2.1.sentence-1' class='sentence'>If <i >X</i> encodes a single character <i >C</i>, then:</div></div><div class='texpara'><ul class='itemize'><li id='string.escaped-2.2.1.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#string.escaped-2.2.1.1'>(2.2.1.1)</a></div><div class='texpara'><div id='string.escaped-2.2.1.1.sentence-1' class='sentence'>If <i >C</i> is one of the characters in Table <a href='#tab:format.escape.sequences' title='Table 75: Mapping of characters to escape sequences'>75</a>,
then the two characters shown as the corresponding escape sequence
are appended to <i >E</i><a class='hidden_link' href='#string.escaped-2.2.1.1.sentence-1'>.</a></div></div></li><li id='string.escaped-2.2.1.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#string.escaped-2.2.1.2'>(2.2.1.2)</a></div><div class='texpara'><div id='string.escaped-2.2.1.2.sentence-1' class='sentence'>Otherwise, if <i >C</i> is not <span class='ucode'>U+0020</span> <span class='uname'>space</span> and</div></div><div class='texpara'><ul class='itemize'><li id='string.escaped-2.2.1.2.1'><div class='marginalizedparent' style='left:-54mm'><a class='marginalized' href='#string.escaped-2.2.1.2.1'>(2.2.1.2.1)</a></div><i >CE</i> is UTF-8, UTF-16, or UTF-32 and
<i >C</i> corresponds to a Unicode scalar value
whose Unicode property <span class='texttt'>General_<span class='shy'></span>Category</span> has a value in the groups
<span class='texttt'>Separator</span> (<span class='texttt'>Z</span>) or <span class='texttt'>Other</span> (<span class='texttt'>C</span>),
as described by UAX #44 of the Unicode Standard, or</li><li id='string.escaped-2.2.1.2.2'><div class='marginalizedparent' style='left:-54mm'><a class='marginalized' href='#string.escaped-2.2.1.2.2'>(2.2.1.2.2)</a></div><i >CE</i> is UTF-8, UTF-16, or UTF-32 and
<i >C</i> corresponds to a Unicode scalar value
with the Unicode property <span class='texttt'>Grapheme_<span class='shy'></span>Extend<span class='operator'>=</span>Yes</span>
as described by UAX #44 of the Unicode Standard and
<i >C</i> is not immediately preceded in <i >S</i> by
a character <i >P</i> appended to <i >E</i>
without translation to an escape sequence, or</li><li id='string.escaped-2.2.1.2.3'><div class='marginalizedparent' style='left:-54mm'><a class='marginalized' href='#string.escaped-2.2.1.2.3'>(2.2.1.2.3)</a></div><i >CE</i> is neither UTF-8, UTF-16, nor UTF-32 and
<i >C</i> is one of an implementation-defined set
of separator or non-printable characters</li></ul></div><div class='texpara'><div id='string.escaped-2.2.1.2.sentence-2' class='sentence'>then the sequence <span class='literal'><span class='texttt'>\u{<i >hex-digit-sequence</i>}</span></span>
is appended to <i >E</i>,
where <span class='texttt'><i >hex-digit-sequence</i></span>
is the shortest hexadecimal representation
of <i >C</i> using lower-case hexadecimal digits<a class='hidden_link' href='#string.escaped-2.2.1.2.sentence-2'>.</a></div></div></li><li id='string.escaped-2.2.1.3'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#string.escaped-2.2.1.3'>(2.2.1.3)</a></div><div class='texpara'><div id='string.escaped-2.2.1.3.sentence-1' class='sentence'>Otherwise, <i >C</i> is appended to <i >E</i><a class='hidden_link' href='#string.escaped-2.2.1.3.sentence-1'>.</a></div></div></li></ul></div></li><li id='string.escaped-2.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#string.escaped-2.2.2'>(2.2.2)</a></div><div class='texpara'><div id='string.escaped-2.2.2.sentence-1' class='sentence'>Otherwise, if <i >X</i> is a shift sequence,
the effect on <i >E</i> and further decoding of <i >S</i>
is unspecified<a class='hidden_link' href='#string.escaped-2.2.2.sentence-1'>.</a></div></div><div class='texpara'><div id='string.escaped-2.2.2.sentence-2' class='sentence'><i >Recommended practice</i>: A shift sequence should be represented in <i >E</i>
such that the original code unit sequence of <i >S</i>
can be reconstructed<a class='hidden_link' href='#string.escaped-2.2.2.sentence-2'>.</a></div></div></li><li id='string.escaped-2.2.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#string.escaped-2.2.3'>(2.2.3)</a></div><div class='texpara'><div id='string.escaped-2.2.3.sentence-1' class='sentence'>Otherwise (<i >X</i> is a sequence of ill-formed code units),
each code unit <i >U</i> is appended to <i >E</i> in order
as the sequence <span class='literal'><span class='texttt'>\x{<i >hex-digit-sequence</i>}</span></span>,
where <span class='texttt'><i >hex-digit-sequence</i></span>
is the shortest hexadecimal representation of <i >U</i>
using lower-case hexadecimal digits<a class='hidden_link' href='#string.escaped-2.2.3.sentence-1'>.</a></div></div></li></ul></div></li><li id='string.escaped-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.escaped-2.3'>(2.3)</a></div><div class='texpara'><div id='string.escaped-2.3.sentence-1' class='sentence'>Finally, <span class='ucode'>U+0022</span> <span class='uname'>quotation mark</span> (<span class='texttt'>"</span>)
is appended to <i >E</i><a class='hidden_link' href='#string.escaped-2.3.sentence-1'>.</a></div></div></li></ul></div><div class='texpara'><div class='numberedTable' id='tab:format.escape.sequences'>Table <a href='#tab:format.escape.sequences'>75</a>: Mapping of characters to escape sequences&emsp;<a href='./tab:format.escape.sequences'>[tab:format.escape.sequences]</a><br><table ><tr id='tab:format.escape.sequences-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.escape.sequences-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:format.escape.sequences-row-1-column-1-sentence-1' class='sentence'><b>Character</b></div></div></td><td class='center'><div class='texpara'><div id='tab:format.escape.sequences-row-1-column-2-sentence-1' class='sentence'><b>Escape sequence</b></div></div></td></tr><tr id='tab:format.escape.sequences-row-2' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.escape.sequences-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><span class='ucode'>U+0009</span> <span class='uname'>character tabulation</span></div></td><td class='left'><div class='texpara'><div id='tab:format.escape.sequences-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>\t</span></div></div></td></tr><tr id='tab:format.escape.sequences-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.escape.sequences-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><span class='ucode'>U+000a</span> <span class='uname'>line feed</span></div></td><td class='left'><div class='texpara'><div id='tab:format.escape.sequences-row-3-column-2-sentence-1' class='sentence'><span class='texttt'>\n</span></div></div></td></tr><tr id='tab:format.escape.sequences-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.escape.sequences-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><span class='ucode'>U+000d</span> <span class='uname'>carriage return</span></div></td><td class='left'><div class='texpara'><div id='tab:format.escape.sequences-row-4-column-2-sentence-1' class='sentence'><span class='texttt'>\r</span></div></div></td></tr><tr id='tab:format.escape.sequences-row-5' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.escape.sequences-row-5'>🔗</a></div></td><td class='left'><div class='texpara'><span class='ucode'>U+0022</span> <span class='uname'>quotation mark</span></div></td><td class='left'><div class='texpara'><div id='tab:format.escape.sequences-row-5-column-2-sentence-1' class='sentence'><span class='texttt'>\"</span></div></div></td></tr><tr id='tab:format.escape.sequences-row-6' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:format.escape.sequences-row-6'>🔗</a></div></td><td class='left'><div class='texpara'><span class='ucode'>U+005c</span> <span class='uname'>reverse solidus</span></div></td><td class='left'><div class='texpara'><div id='tab:format.escape.sequences-row-6-column-2-sentence-1' class='sentence'><span class='texttt'>\\</span></div></div></td></tr></table></div></div></div><div class='para' id='string.escaped-3'><div class='marginalizedparent'><a class='marginalized' href='#string.escaped-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16108'>#</a></div><div class='texpara'><div id='string.escaped-3.sentence-1' class='sentence'>The escaped string representation of a character <i >C</i>
is equivalent to the escaped string representation
of a string of <i >C</i>, except that:</div></div><div class='texpara'><ul class='itemize'><li id='string.escaped-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.escaped-3.1'>(3.1)</a></div>the result starts and ends with <span class='ucode'>U+0027</span> <span class='uname'>apostrophe</span> (<span class='texttt'>'</span>)
instead of <span class='ucode'>U+0022</span> <span class='uname'>quotation mark</span> (<span class='texttt'>"</span>), and</li><li id='string.escaped-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.escaped-3.2'>(3.2)</a></div>if <i >C</i> is <span class='ucode'>U+0027</span> <span class='uname'>apostrophe</span>,
the two characters <span class='texttt'>\'</span> are appended to <i >E</i>, and</li><li id='string.escaped-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#string.escaped-3.3'>(3.3)</a></div>if <i >C</i> is <span class='ucode'>U+0022</span> <span class='uname'>quotation mark</span>,
then <i >C</i> is appended unchanged.</li></ul></div><div class='texpara'><div id='string.escaped-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#string.escaped-example-1'>1</a></i>:&ensp;<span class='codeblock'>string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{}]"</span>, <span class='literal'>"h\tllo"</span><span class='parenthesis'>)</span>;                   <span class='comment'>// <span class='tcode_in_codeblock'>s0</span> has value: <span class='tcode_in_codeblock'>[h&nbsp;&nbsp;&nbsp;&nbsp;llo]</span></span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, <span class='literal'>"h\tllo"</span><span class='parenthesis'>)</span>;                 <span class='comment'>// <span class='tcode_in_codeblock'>s1</span> has value: <span class='tcode_in_codeblock'>["h\tllo"]</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, <span class='literal'>"<span class='texttt'>Спасибо, Виктор ♥!</span>"</span><span class='parenthesis'>)</span>;  <span class='comment'>// <span class='tcode_in_codeblock'>s2</span> has value: <span class='tcode_in_codeblock'>["<span class='texttt'>Спасибо, Виктор ♥!</span>"]</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}, {:?}]"</span>, <span class='literal'>'\''</span>, <span class='literal'>'"'</span><span class='parenthesis'>)</span>;          <span class='comment'>// <span class='tcode_in_codeblock'>s3</span> has value: <span class='tcode_in_codeblock'>['\'', '"']</span></span>

<span class='comment'>// The following examples assume use of the UTF-8 encoding</span>
string s4 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, string<span class='parenthesis'>(</span><span class='literal'>"\0 \n \t \x02 \x1b"</span>, <span class='literal'>9</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
                                                    <span class='comment'>// <span class='tcode_in_codeblock'>s4</span> has value: <span class='tcode_in_codeblock'>["\u{0} \n \t \u{2} \u{1b}"]</span></span>
string s5 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, <span class='literal'>"\xc3\x28"</span><span class='parenthesis'>)</span>;           <span class='comment'>// invalid UTF-8, <span class='tcode_in_codeblock'>s5</span> has value: <span class='tcode_in_codeblock'>["\x{c3}("]</span></span>
string s6 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, <span class='literal'>"🤷🏻‍♂️"</span><span class='parenthesis'>)</span>;                 <span class='comment'>// <span class='tcode_in_codeblock'>s6</span> has value: <span class='tcode_in_codeblock'>["🤷\u{200d}♂\u{fe0f}"]</span></span>
string s7 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, <span class='literal'>"\u0301"</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>s7</span> has value: <span class='tcode_in_codeblock'>["\u{301}"]</span></span>
string s8 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, <span class='literal'>"\\\u0301"</span><span class='parenthesis'>)</span>;           <span class='comment'>// <span class='tcode_in_codeblock'>s8</span> has value: <span class='tcode_in_codeblock'>["\\\u{301}"]</span></span>
string s9 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"[{:?}]"</span>, <span class='literal'>"e\u0301\u0323"</span><span class='parenthesis'>)</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>s9</span> has value: <span class='tcode_in_codeblock'>["<span class='texttt'>ẹ́</span>"]</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='parse.ctx' class='section'><h4 ><a class='secnum' href='#parse.ctx' style='min-width:95pt'>22.14.6.5</a> Class template <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>parse_<span class='shy'></span>context</span> <a class='abbr_ref' href='format.parse.ctx'>[format.parse.ctx]</a></h4><div class='texpara'><span id='lib:basic_format_parse_context,iterator'><span id='lib:iterator,basic_format_parse_context'><span id='lib:basic_format_parse_context,const_iterator'><span id='lib:const_iterator,basic_format_parse_context'><span id='lib:basic_format_parse_context,char_type'><span id='lib:char_type,basic_format_parse_context'><span id='lib:basic_format_parse_context'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_parse_context'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_parse_context <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> const_iterator <span class='operator'>=</span> <span class='keyword'>typename</span> basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='operator'>::</span>const_iterator;
    <span class='keyword'>using</span> iterator <span class='operator'>=</span> const_iterator;

  <span class='keyword'>private</span><span class='operator'>:</span>
    iterator begin_;                                    <span class='comment'>// <i >exposition only</i></span>
    iterator end_;                                      <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>enum</span> indexing <span class='curlybracket'>{</span> unknown, manual, automatic <span class='curlybracket'>}</span>;       <span class='comment'>// <i >exposition only</i></span>
    indexing indexing_;                                 <span class='comment'>// <i >exposition only</i></span>
    size_t next_arg_id_;                                <span class='comment'>// <i >exposition only</i></span>
    size_t num_args_;                                   <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> basic_format_parse_context<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> fmt,
                                                  size_t num_args <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    basic_format_parse_context<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_format_parse_context<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_format_parse_context<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_format_parse_context<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>constexpr</span> const_iterator begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> const_iterator end<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>const_iterator it<span class='parenthesis'>)</span>;

    <span class='keyword'>constexpr</span> size_t next_arg_id<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> check_arg_id<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></span></span></span></span></span></span></div><div class='para' id='parse.ctx-1'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16182'>#</a></div><div class='texpara'><div id='parse.ctx-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>parse_<span class='shy'></span>context</span> holds
the format string parsing state consisting of
the format string range being parsed and
the argument counter for automatic indexing<a class='hidden_link' href='#parse.ctx-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:basic_format_parse_context,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_parse_context,constructor'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> basic_format_parse_context<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> fmt,
                                              size_t num_args <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='parse.ctx-2'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16195'>#</a></div><div class='texpara'><div id='parse.ctx-2.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'>begin_<span class='shy'></span></span> with <span class='texttt'>fmt<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>end_<span class='shy'></span></span> with <span class='texttt'>fmt<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>indexing_<span class='shy'></span></span> with <span class='texttt'>unknown</span>,
<span class='texttt'>next_<span class='shy'></span>arg_<span class='shy'></span>id_<span class='shy'></span></span> with <span class='texttt'><span class='literal'>0</span></span>, and
<span class='texttt'>num_<span class='shy'></span>args_<span class='shy'></span></span> with <span class='texttt'>num_<span class='shy'></span>args</span><a class='hidden_link' href='#parse.ctx-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_parse_context,begin'><div id='lib:begin,basic_format_parse_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:begin,basic_format_parse_context'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> const_iterator begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='parse.ctx-3'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16211'>#</a></div><div class='texpara'><div id='parse.ctx-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>begin_<span class='shy'></span></span><a class='hidden_link' href='#parse.ctx-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_parse_context,end'><div id='lib:end,basic_format_parse_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:end,basic_format_parse_context'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> const_iterator end<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='parse.ctx-4'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16222'>#</a></div><div class='texpara'><div id='parse.ctx-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>end_<span class='shy'></span></span><a class='hidden_link' href='#parse.ctx-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_parse_context,advance_to'><div id='lib:advance_to,basic_format_parse_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:advance_to,basic_format_parse_context'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>const_iterator it<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='parse.ctx-5'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16233'>#</a></div><div class='texpara'><div id='parse.ctx-5.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is reachable from <span class='texttt'>it</span><a class='hidden_link' href='#parse.ctx-5.sentence-1'>.</a></div></div></div></div><div class='para' id='parse.ctx-6'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16237'>#</a></div><div class='texpara'><div id='parse.ctx-6.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>begin_<span class='shy'></span> <span class='operator'>=</span> it;</span></div></div></div></div><div class='texpara'><div id='lib:basic_format_parse_context,next_arg_id'><div id='lib:next_arg_id,basic_format_parse_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:next_arg_id,basic_format_parse_context'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> size_t next_arg_id<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='parse.ctx-7'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16248'>#</a></div><div class='texpara'><div id='parse.ctx-7.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>indexing_<span class='shy'></span> <span class='operator'>!</span><span class='operator'>=</span> manual</span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>indexing_ <span class='operator'>=</span><span class='operator'>=</span> unknown<span class='parenthesis'>)</span>
  indexing_ <span class='operator'>=</span> automatic;
<span class='keyword'>return</span> next_arg_id_<span class='operator'>+</span><span class='operator'>+</span>;
</span></div></div></div></div><div class='para' id='parse.ctx-8'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16257'>#</a></div><div class='texpara'><div id='parse.ctx-8.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>format_<span class='shy'></span>error</span> if <span class='texttt'>indexing_<span class='shy'></span> <span class='operator'>=</span><span class='operator'>=</span> manual</span> is <span class='texttt'><span class='literal'>true</span></span>
which indicates mixing of automatic and manual argument indexing<a class='hidden_link' href='#parse.ctx-8.sentence-1'>.</a></div></div></div></div><div class='para' id='parse.ctx-9'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16262'>#</a></div><div class='texpara'><div id='parse.ctx-9.sentence-1' class='sentence'><i >Remarks</i>: Let <span class='texttt'><i >cur-arg-id</i></span> be the value of <span class='texttt'>next_<span class='shy'></span>arg_<span class='shy'></span>id_<span class='shy'></span></span> prior to this call<a class='hidden_link' href='#parse.ctx-9.sentence-1'>.</a></div> <div id='parse.ctx-9.sentence-2' class='sentence'>Call expressions where <span class='texttt'><i >cur-arg-id</i> <span class='anglebracket'>&gt;</span><span class='operator'>=</span> num_<span class='shy'></span>args_<span class='shy'></span></span> is <span class='texttt'><span class='literal'>true</span></span>
are not core constant expressions (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#parse.ctx-9.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_parse_context,check_arg_id'><div id='lib:check_arg_id,basic_format_parse_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:check_arg_id,basic_format_parse_context'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> check_arg_id<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='parse.ctx-10'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16275'>#</a></div><div class='texpara'><div id='parse.ctx-10.sentence-1' class='sentence'><i >Effects</i>: If <span class='texttt'>indexing_<span class='shy'></span> <span class='operator'>!</span><span class='operator'>=</span> automatic</span> is <span class='texttt'><span class='literal'>true</span></span>, equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>indexing_ <span class='operator'>=</span><span class='operator'>=</span> unknown<span class='parenthesis'>)</span>
  indexing_ <span class='operator'>=</span> manual;
</span></div></div></div></div><div class='para' id='parse.ctx-11'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16283'>#</a></div><div class='texpara'><div id='parse.ctx-11.sentence-1' class='sentence'><i >Throws</i>: <span class='texttt'>format_<span class='shy'></span>error</span> if
<span class='texttt'>indexing_<span class='shy'></span> <span class='operator'>=</span><span class='operator'>=</span> automatic</span> is <span class='texttt'><span class='literal'>true</span></span>
which indicates mixing of automatic and manual argument indexing<a class='hidden_link' href='#parse.ctx-11.sentence-1'>.</a></div></div></div></div><div class='para' id='parse.ctx-12'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16289'>#</a></div><div class='texpara'><div id='parse.ctx-12.sentence-1' class='sentence'><i >Remarks</i>: Call expressions where <span class='texttt'>id <span class='anglebracket'>&gt;</span><span class='operator'>=</span> num_<span class='shy'></span>args_<span class='shy'></span></span> is <span class='texttt'><span class='literal'>true</span></span> are not
core constant expressions (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#parse.ctx-12.sentence-1'>.</a></div></div></div></div></div><div id='context' class='section'><h4 ><a class='secnum' href='#context' style='min-width:95pt'>22.14.6.6</a> Class template <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>context</span> <a class='abbr_ref' href='format.context'>[format.context]</a></h4><div class='texpara'><span id='lib:basic_format_context,formatter_type'><span id='lib:formatter_type,basic_format_context'><span id='lib:basic_format_context,char_type'><span id='lib:char_type,basic_format_context'><span id='lib:basic_format_context,iterator'><span id='lib:iterator,basic_format_context'><span id='lib:basic_format_context'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_context'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_context <span class='curlybracket'>{</span>
    basic_format_args<span class='anglebracket'>&lt;</span>basic_format_context<span class='anglebracket'>&gt;</span> args_;      <span class='comment'>// <i >exposition only</i></span>
    Out out_;                                           <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> iterator <span class='operator'>=</span> Out;
    <span class='keyword'>using</span> char_type <span class='operator'>=</span> charT;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> formatter_type <span class='operator'>=</span> formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span>;

    basic_format_arg<span class='anglebracket'>&lt;</span>basic_format_context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    std<span class='operator'>::</span>locale locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    iterator out<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>iterator it<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></span></span></span></span></span></span></div><div class='para' id='context-1'><div class='marginalizedparent'><a class='marginalized' href='#context-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16322'>#</a></div><div class='texpara'><div id='context-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>context</span> holds formatting state
consisting of the formatting arguments and the output iterator<a class='hidden_link' href='#context-1.sentence-1'>.</a></div></div></div><div class='para' id='context-2'><div class='marginalizedparent'><a class='marginalized' href='#context-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16326'>#</a></div><div class='texpara'><div id='context-2.sentence-1' class='sentence'><span class='texttt'>Out</span> shall model <span class='texttt'><a href='iterator.concept.output#concept:output_iterator' title='25.3.4.10&emsp;Concept output_&shy;iterator&emsp;[iterator.concept.output]'><span id='conceptref:output_iterator_____'><span class='texttt'>output_<span class='shy'></span>iterator</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#context-2.sentence-1'>.</a></div></div></div><div class='para' id='context-3'><div class='marginalizedparent'><a class='marginalized' href='#context-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16329'>#</a></div><div class='texpara'><div id='context-3.sentence-1' class='sentence'><a class='index' id='lib:format_context_'></a><span class='texttt'>format_<span class='shy'></span>context</span> is an alias for
a specialization of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>context</span>
with an output iterator
that appends to <span class='texttt'>string</span>,
such as <span class='texttt'>back_<span class='shy'></span>insert_<span class='shy'></span>iterator<span class='anglebracket'>&lt;</span>string<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#context-3.sentence-1'>.</a></div> <div id='context-3.sentence-2' class='sentence'><a class='index' id='lib:wformat_context_'></a>Similarly, <span class='texttt'>wformat_<span class='shy'></span>context</span> is an alias for
a specialization of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>context</span>
with an output iterator
that appends to <span class='texttt'>wstring</span><a class='hidden_link' href='#context-3.sentence-2'>.</a></div></div></div><div class='para' id='context-4'><div class='marginalizedparent'><a class='marginalized' href='#context-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16342'>#</a></div><div class='texpara'><div id='context-4.sentence-1' class='sentence'><i >Recommended practice</i>: For a given type <span class='texttt'>charT</span>,
implementations should provide
a single instantiation of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>context</span>
for appending to
<span class='texttt'>basic_<span class='shy'></span>string<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>,
<span class='texttt'>vector<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>,
or any other container with contiguous storage
by wrapping those in temporary objects with a uniform interface
(such as a <span class='texttt'>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>) and polymorphic reallocation<a class='hidden_link' href='#context-4.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:basic_format_context,arg'><div id='lib:arg,basic_format_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:arg,basic_format_context'>🔗</a></div><code class='itemdeclcode'>basic_format_arg<span class='anglebracket'>&lt;</span>basic_format_context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='context-5'><div class='marginalizedparent'><a class='marginalized' href='#context-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16360'>#</a></div><div class='texpara'><div id='context-5.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>args_<span class='shy'></span><span class='operator'>.</span>get<span class='parenthesis'>(</span>id<span class='parenthesis'>)</span></span><a class='hidden_link' href='#context-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_context,locale'><div id='lib:locale,basic_format_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:locale,basic_format_context'>🔗</a></div><code class='itemdeclcode'>std<span class='operator'>::</span>locale locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='context-6'><div class='marginalizedparent'><a class='marginalized' href='#context-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16371'>#</a></div><div class='texpara'><div id='context-6.sentence-1' class='sentence'><i >Returns</i>: The locale passed to the formatting function
if the latter takes one,
and <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> otherwise<a class='hidden_link' href='#context-6.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_context,out'><div id='lib:out,basic_format_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:out,basic_format_context'>🔗</a></div><code class='itemdeclcode'>iterator out<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='context-7'><div class='marginalizedparent'><a class='marginalized' href='#context-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16384'>#</a></div><div class='texpara'><div id='context-7.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>out_<span class='shy'></span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_format_context,advance_to'><div id='lib:advance_to,basic_format_context'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:advance_to,basic_format_context'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>iterator it<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='context-8'><div class='marginalizedparent'><a class='marginalized' href='#context-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16395'>#</a></div><div class='texpara'><div id='context-8.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>out_<span class='shy'></span> <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>it<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><a class='index' id=':left-pad'></a><div id='context-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#context-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> value; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> std<span class='operator'>::</span>formatter<span class='anglebracket'>&lt;</span>S<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  size_t width_arg_id <span class='operator'>=</span> <span class='literal'>0</span>;

  <span class='comment'>// Parses a width argument id in the format <span class='tcode_in_codeblock'>{</span> <span class='textsf'><i >digit</i></span> <span class='tcode_in_codeblock'>}</span>.</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> parse<span class='parenthesis'>(</span>format_parse_context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>auto</span> iter <span class='operator'>=</span> ctx<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>auto</span> get_char <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> iter <span class='operator'>!</span><span class='operator'>=</span> ctx<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='operator'>*</span>iter <span class='operator'>:</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>;
    <span class='keyword'>if</span> <span class='parenthesis'>(</span>get_char<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>'{'</span><span class='parenthesis'>)</span>
      <span class='keyword'>return</span> iter;
    <span class='operator'>+</span><span class='operator'>+</span>iter;
    <span class='keyword'>char</span> c <span class='operator'>=</span> get_char<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='operator'>!</span>isdigit<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span>iter, get_char<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>'}'</span><span class='parenthesis'>)</span>
      <span class='keyword'>throw</span> format_error<span class='parenthesis'>(</span><span class='literal'>"invalid format"</span><span class='parenthesis'>)</span>;
    width_arg_id <span class='operator'>=</span> c <span class='operator'>-</span> <span class='literal'>'0'</span>;
    ctx<span class='operator'>.</span>check_arg_id<span class='parenthesis'>(</span>width_arg_id<span class='parenthesis'>)</span>;
    <span class='keyword'>return</span> <span class='operator'>+</span><span class='operator'>+</span>iter;
  <span class='curlybracket'>}</span>

  <span class='comment'>// Formats an <span class='tcode_in_codeblock'>S</span> with width given by the argument <span class='tcode_in_codeblock'>width_<span class='shy'></span>arg_<span class='shy'></span>id</span>.</span>
  <span class='keyword'>auto</span> format<span class='parenthesis'>(</span>S s, format_context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> width <span class='operator'>=</span> visit_format_arg<span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> value<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span>
      <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span><span class='operator'>!</span>is_integral_v<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
        <span class='keyword'>throw</span> format_error<span class='parenthesis'>(</span><span class='literal'>"width is not integral"</span><span class='parenthesis'>)</span>;
      <span class='keyword'>else</span> <span class='keyword'>if</span> <span class='parenthesis'>(</span>value <span class='anglebracket'>&lt;</span> <span class='literal'>0</span> <span class='operator'>|</span><span class='operator'>|</span> value <span class='anglebracket'>&gt;</span> numeric_limits<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>max<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
        <span class='keyword'>throw</span> format_error<span class='parenthesis'>(</span><span class='literal'>"invalid width"</span><span class='parenthesis'>)</span>;
      <span class='keyword'>else</span>
        <span class='keyword'>return</span> value;
      <span class='curlybracket'>}</span>, ctx<span class='operator'>.</span>arg<span class='parenthesis'>(</span>width_arg_id<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>return</span> format_to<span class='parenthesis'>(</span>ctx<span class='operator'>.</span>out<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, <span class='literal'>"{0:x&lt;{1}}"</span>, s<span class='operator'>.</span>value, width<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

std<span class='operator'>::</span>string s <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{0:{1}}"</span>, S<span class='curlybracket'>{</span><span class='literal'>42</span><span class='curlybracket'>}</span>, <span class='literal'>10</span><span class='parenthesis'>)</span>;  <span class='comment'>// value of <span class='tcode_in_codeblock'>s</span> is <span class='tcode_in_codeblock'>"xxxxxxxx42"</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='range' class='section'><h3 ><a class='secnum' href='#range' style='min-width:80pt'>22.14.7</a> Formatting of ranges <a class='abbr_ref' href='format.range'>[format.range]</a></h3><div id='range.fmtkind' class='section'><h4 ><a class='secnum' href='#range.fmtkind' style='min-width:95pt'>22.14.7.1</a> Variable template <span class='texttt'>format_<span class='shy'></span>kind</span> <a class='abbr_ref' href='format.range.fmtkind'>[format.range.fmtkind]</a></h4><div class='texpara'><div id='lib:format_kind'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_kind'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range____'><span class='texttt'>input_<span class='shy'></span>range</span></span></a> R<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as____'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>R, remove_cvref_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> range_format format_kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span> <span class='operator'>=</span> <i ><span class='texttt'>see below</span></i>;
</code></div></div></div><div class='para' id='range.fmtkind-1'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtkind-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16453'>#</a></div><div class='texpara'><div id='range.fmtkind-1.sentence-1' class='sentence'>A program that instantiates the primary template of <span class='texttt'>format_<span class='shy'></span>kind</span>
is ill-formed<a class='hidden_link' href='#range.fmtkind-1.sentence-1'>.</a></div></div></div></div><div class='para' id='range.fmtkind-2'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtkind-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16457'>#</a></div><div class='texpara'><div id='range.fmtkind-2.sentence-1' class='sentence'>For a type <span class='texttt'>R</span>, <span class='texttt'>format_<span class='shy'></span>kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span></span> is defined as follows:
<ul class='itemize'><li id='range.fmtkind-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.fmtkind-2.1'>(2.1)</a></div><div class='texpara'><div id='range.fmtkind-2.1.sentence-1' class='sentence'>If <span class='texttt'><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as_____'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>ranges<span class='operator'>&#x200b;::&#x200b;</span>range_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>, R<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>format_<span class='shy'></span>kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span></span> is <span class='texttt'>range_<span class='shy'></span>format<span class='operator'>&#x200b;::&#x200b;</span>disabled</span><a class='hidden_link' href='#range.fmtkind-2.1.sentence-1'>.</a></div> <div id='range.fmtkind-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#range.fmtkind-note-1'>1</a></i>:&ensp;<div id='range.fmtkind-2.1.sentence-2' class='sentence'>This prevents constraint recursion for ranges whose
reference type is the same range type<a class='hidden_link' href='#range.fmtkind-2.1.sentence-2'>.</a></div> <div id='range.fmtkind-2.1.sentence-3' class='sentence'>For example,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>filesystem<span class='operator'>&#x200b;::&#x200b;</span>path</span> is a range of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>filesystem<span class='operator'>&#x200b;::&#x200b;</span>path</span><a class='hidden_link' href='#range.fmtkind-2.1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='range.fmtkind-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.fmtkind-2.2'>(2.2)</a></div><div class='texpara'><div id='range.fmtkind-2.2.sentence-1' class='sentence'>Otherwise, if the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a> <span class='texttt'>R<span class='operator'>&#x200b;::&#x200b;</span>key_<span class='shy'></span>type</span>
is valid and denotes a type:
<ul class='itemize'><li id='range.fmtkind-2.2.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#range.fmtkind-2.2.1'>(2.2.1)</a></div><div class='texpara'><div id='range.fmtkind-2.2.1.sentence-1' class='sentence'>If the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a> <span class='texttt'>R<span class='operator'>&#x200b;::&#x200b;</span>mapped_<span class='shy'></span>type</span>
is valid and denotes a type,
let <span class='texttt'>U</span> be <span class='texttt'>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>ranges<span class='operator'>&#x200b;::&#x200b;</span>range_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#range.fmtkind-2.2.1.sentence-1'>.</a></div> <div id='range.fmtkind-2.2.1.sentence-2' class='sentence'>If either <span class='texttt'>U</span> is a specialization of <span class='texttt'>pair</span> or
<span class='texttt'>U</span> is a specialization of <span class='texttt'>tuple</span> and
<span class='texttt'>tuple_<span class='shy'></span>size_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>2</span></span>,
<span class='texttt'>format_<span class='shy'></span>kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span></span> is <span class='texttt'>range_<span class='shy'></span>format<span class='operator'>&#x200b;::&#x200b;</span>map</span><a class='hidden_link' href='#range.fmtkind-2.2.1.sentence-2'>.</a></div></div></li><li id='range.fmtkind-2.2.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#range.fmtkind-2.2.2'>(2.2.2)</a></div><div class='texpara'><div id='range.fmtkind-2.2.2.sentence-1' class='sentence'>Otherwise, <span class='texttt'>format_<span class='shy'></span>kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span></span> is <span class='texttt'>range_<span class='shy'></span>format<span class='operator'>&#x200b;::&#x200b;</span>set</span><a class='hidden_link' href='#range.fmtkind-2.2.2.sentence-1'>.</a></div></div></li></ul></div></div></li><li id='range.fmtkind-2.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.fmtkind-2.3'>(2.3)</a></div><div class='texpara'><div id='range.fmtkind-2.3.sentence-1' class='sentence'>Otherwise, <span class='texttt'>format_<span class='shy'></span>kind<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span></span> is <span class='texttt'>range_<span class='shy'></span>format<span class='operator'>&#x200b;::&#x200b;</span>sequence</span><a class='hidden_link' href='#range.fmtkind-2.3.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='range.fmtkind-3'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtkind-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16491'>#</a></div><div class='texpara'><div id='range.fmtkind-3.sentence-1' class='sentence'><i >Remarks</i>: Pursuant to <a href='namespace.std' title='16.4.5.2.1&emsp;Namespace std'>[namespace.<span class='shy'></span>std]</a>, users may specialize <span class='texttt'>format_<span class='shy'></span>kind</span>
for cv-unqualified program-defined types
that model <span class='texttt'>ranges<span class='operator'>&#x200b;::&#x200b;</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range_____'><span class='texttt'>input_<span class='shy'></span>range</span></span></a></span><a class='hidden_link' href='#range.fmtkind-3.sentence-1'>.</a></div> <div id='range.fmtkind-3.sentence-2' class='sentence'>Such specializations shall be usable in constant expressions (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)
and have type <span class='texttt'><span class='keyword'>const</span> range_<span class='shy'></span>format</span><a class='hidden_link' href='#range.fmtkind-3.sentence-2'>.</a></div></div></div></div></div><div id='range.formatter' class='section'><h4 ><a class='secnum' href='#range.formatter' style='min-width:95pt'>22.14.7.2</a> Class template <span class='texttt'>range_<span class='shy'></span>formatter</span> <a class='abbr_ref' href='format.range.formatter'>[format.range.formatter]</a></h4><div class='texpara'><span id='lib:range_formatter'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:range_formatter'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> charT <span class='operator'>=</span> <span class='keyword'>char</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as______'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>remove_cvref_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable_____'><span class='tcode_in_codeblock'>formattable</span></span></a><span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> range_formatter <span class='curlybracket'>{</span>
    formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span> <i >underlying_</i>;                                          <span class='comment'>// <i >exposition only</i></span>
    basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >separator_</i> <span class='operator'>=</span> <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>", "</span><span class='parenthesis'>)</span>;      <span class='comment'>// <i >exposition only</i></span>
    basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >opening-bracket_</i> <span class='operator'>=</span> <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>"["</span><span class='parenthesis'>)</span>; <span class='comment'>// <i >exposition only</i></span>
    basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >closing-bracket_</i> <span class='operator'>=</span> <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>"]"</span><span class='parenthesis'>)</span>; <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_separator<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> sep<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_brackets<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> opening,
                                basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> closing<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> underlying<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <i >underlying_</i>; <span class='curlybracket'>}</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> underlying<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <i >underlying_</i>; <span class='curlybracket'>}</span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
        parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range______'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
        <span class='keyword'>requires</span> <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable______'><span class='tcode_in_codeblock'>formattable</span></span></a><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
                 <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as_______'><span class='tcode_in_codeblock'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>remove_cvref_t<span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>, T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
        format<span class='parenthesis'>(</span>R<span class='operator'>&amp;</span><span class='operator'>&amp;</span> r, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='range.formatter-1'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16533'>#</a></div><div class='texpara'><div id='range.formatter-1.sentence-1' class='sentence'>The class template <span class='texttt'>range_<span class='shy'></span>formatter</span> is a utility
for implementing <span class='texttt'>formatter</span> specializations for range types<a class='hidden_link' href='#range.formatter-1.sentence-1'>.</a></div></div></div><div class='para' id='range.formatter-2'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16537'>#</a></div><div class='texpara'><div id='range.formatter-2.sentence-1' class='sentence'><span class='texttt'>range_<span class='shy'></span>formatter</span> interprets <span class='textsf'><i >format-spec</i></span>
as a <span class='textsf'><i >range-format-spec</i></span><a class='hidden_link' href='#range.formatter-2.sentence-1'>.</a></div> <div id='range.formatter-2.sentence-2' class='sentence'>The syntax of format specifications is as follows:</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>range-format-spec</i><span class='textnormal'>:</span><br/>range-fill-and-align<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> width<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>n</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> range-type<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> range-underlying-spec<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>range-fill-and-align</i><span class='textnormal'>:</span><br/>range-fill<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> align
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>range-fill</i><span class='textnormal'>:</span><br/><span class='textnormal'>any character other than</span> <span class='terminal'><span class='curlybracket'>{</span></span> <span class='textnormal'>or</span> <span class='terminal'><span class='curlybracket'>}</span></span> <span class='textnormal'>or</span> <span class='terminal'><span class='operator'>:</span></span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>range-type</i><span class='textnormal'>:</span><br/><span class='terminal'>m</span><br/><span class='terminal'>s</span><br/><span class='terminal'><span class='operator'>?</span>s</span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>range-underlying-spec</i><span class='textnormal'>:</span><br/><span class='terminal'><span class='operator'>:</span></span> format-spec
</div></div></div><div class='para' id='range.formatter-3'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16569'>#</a></div><div class='texpara'><div id='range.formatter-3.sentence-1' class='sentence'>For <span class='texttt'>range_<span class='shy'></span>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span>,
the <span class='textsf'><i >format-spec</i></span>
in a <span class='textsf'><i >range-underlying-spec</i></span>, if any,
is interpreted by <span class='texttt'>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#range.formatter-3.sentence-1'>.</a></div></div></div><div class='para' id='range.formatter-4'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16575'>#</a></div><div class='texpara'><div id='range.formatter-4.sentence-1' class='sentence'>The <span class='textsf'><i >range-fill-and-align</i></span> is interpreted
the same way as a <span class='textsf'><i >fill-and-align</i></span> (<a href='#string.std' title='22.14.2.2&emsp;Standard format specifiers'>[format.<span class='shy'></span>string.<span class='shy'></span>std]</a>)<a class='hidden_link' href='#range.formatter-4.sentence-1'>.</a></div> <div id='range.formatter-4.sentence-2' class='sentence'>The productions <span class='textsf'><i >align</i></span> and <span class='textsf'><i >width</i></span>
are described in <a href='#string' title='22.14.2&emsp;Format string'>[format.<span class='shy'></span>string]</a><a class='hidden_link' href='#range.formatter-4.sentence-2'>.</a></div></div></div><div class='para' id='range.formatter-5'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16581'>#</a></div><div class='texpara'><div id='range.formatter-5.sentence-1' class='sentence'>The <span class='texttt'>n</span> option causes the range to be formatted
without the opening and closing brackets<a class='hidden_link' href='#range.formatter-5.sentence-1'>.</a></div> <div id='range.formatter-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#range.formatter-note-1'>1</a></i>:&ensp;<div id='range.formatter-5.sentence-2' class='sentence'>This is equivalent to invoking <span class='texttt'>set_<span class='shy'></span>brackets<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#range.formatter-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='range.formatter-6'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16588'>#</a></div><div class='texpara'><div id='range.formatter-6.sentence-1' class='sentence'>The <span class='textsf'><i >range-type</i></span> specifier changes the way a range is formatted,
with certain options only valid with certain argument types<a class='hidden_link' href='#range.formatter-6.sentence-1'>.</a></div> <div id='range.formatter-6.sentence-2' class='sentence'>The meaning of the various type options
is as specified in Table <a href='#tab:formatter.range.type' title='Table 76: Meaning of range-type options'>76</a><a class='hidden_link' href='#range.formatter-6.sentence-2'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:formatter.range.type'>Table <a href='#tab:formatter.range.type'>76</a>: Meaning of <span class='textsf'><i >range-type</i></span> options&emsp;<a href='./tab:formatter.range.type'>[tab:formatter.range.type]</a><br><table ><tr id='tab:formatter.range.type-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.range.type-row-1'>🔗</a></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter.range.type-row-1-column-1-sentence-1' class='sentence'><b>Option</b></div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.range.type-row-1-column-2-sentence-1' class='sentence'><b>Requirements</b></div></div></td><td class='justify' style='width:2.7in'><div class='texpara'><div id='tab:formatter.range.type-row-1-column-3-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:formatter.range.type-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.range.type-row-2'>🔗</a></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter.range.type-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>m</span></div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.range.type-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>T</span> shall be
either a specialization of <span class='texttt'>pair</span> or a specialization of <span class='texttt'>tuple</span>
such that <span class='texttt'>tuple_<span class='shy'></span>size_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>2</span></span><a class='hidden_link' href='#tab:formatter.range.type-row-2-column-2-sentence-1'>.</a></div></div></td><td class='justify' style='width:2.7in'><div class='texpara'><div id='tab:formatter.range.type-row-2-column-3-sentence-1' class='sentence'>Indicates that
the opening bracket should be <span class='texttt'><span class='literal'>"{"</span></span>,
the closing bracket should be <span class='texttt'><span class='literal'>"}"</span></span>,
the separator should be <span class='texttt'><span class='literal'>", "</span></span>, and
each range element should be formatted as if
<span class='texttt'>m</span> were specified for its <span class='textsf'><i >tuple-type</i></span><a class='hidden_link' href='#tab:formatter.range.type-row-2-column-3-sentence-1'>.</a></div> <div id='tab:formatter.range.type-row-2-column-3-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#tab:formatter.range.type-row-2-column-3-note-2'>2</a></i>:&ensp;<div id='tab:formatter.range.type-row-2-column-3-sentence-2' class='sentence'>If the <span class='texttt'>n</span> option is provided in addition to the <span class='texttt'>m</span> option,
both the opening and closing brackets are still empty<a class='hidden_link' href='#tab:formatter.range.type-row-2-column-3-sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></td></tr><tr id='tab:formatter.range.type-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.range.type-row-3'>🔗</a></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter.range.type-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>s</span></div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.range.type-row-3-column-2-sentence-1' class='sentence'><span class='texttt'>T</span> shall be <span class='texttt'>charT</span><a class='hidden_link' href='#tab:formatter.range.type-row-3-column-2-sentence-1'>.</a></div></div></td><td class='justify' style='width:2.7in'><div class='texpara'><div id='tab:formatter.range.type-row-3-column-3-sentence-1' class='sentence'>Indicates that the range should be formatted as a <span class='texttt'>string</span><a class='hidden_link' href='#tab:formatter.range.type-row-3-column-3-sentence-1'>.</a></div></div></td></tr><tr id='tab:formatter.range.type-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.range.type-row-4'>🔗</a></div></td><td class='justify' style='width:1in'><div class='texpara'><div id='tab:formatter.range.type-row-4-column-1-sentence-1' class='sentence'><span class='texttt'><span class='operator'>?</span>s</span></div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.range.type-row-4-column-2-sentence-1' class='sentence'><span class='texttt'>T</span> shall be <span class='texttt'>charT</span><a class='hidden_link' href='#tab:formatter.range.type-row-4-column-2-sentence-1'>.</a></div></div></td><td class='justify' style='width:2.7in'><div class='texpara'><div id='tab:formatter.range.type-row-4-column-3-sentence-1' class='sentence'>Indicates that the range should be formatted as
an escaped string (<a href='#string.escaped' title='22.14.6.4&emsp;Formatting escaped characters and strings'>[format.<span class='shy'></span>string.<span class='shy'></span>escaped]</a>)<a class='hidden_link' href='#tab:formatter.range.type-row-4-column-3-sentence-1'>.</a></div></div></td></tr></table></div>
 </div><div class='texpara'><div id='range.formatter-6.sentence-3' class='sentence'>If the <span class='textsf'><i >range-type</i></span> is <span class='texttt'>s</span> or <span class='texttt'><span class='operator'>?</span>s</span>,
then there shall be
no <span class='texttt'>n</span> option and no <span class='textsf'><i >range-underlying-spec</i></span><a class='hidden_link' href='#range.formatter-6.sentence-3'>.</a></div></div></div><div class='texpara'><div id='lib:range_formatter,set_separator'><div id='lib:set_separator,range_formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:set_separator,range_formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_separator<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> sep<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='range.formatter-7'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16637'>#</a></div><div class='texpara'><div id='range.formatter-7.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='texttt'><i >separator_<span class='shy'></span></i></span> <span class='operator'>=</span> sep;</span></div></div></div></div><div class='texpara'><div id='lib:range_formatter,set_brackets'><div id='lib:set_brackets,range_formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:set_brackets,range_formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_brackets<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> opening,
                            basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> closing<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='range.formatter-8'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16649'>#</a></div><div class='texpara'><div id='range.formatter-8.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><i >opening-bracket_</i> <span class='operator'>=</span> opening;
<i >closing-bracket_</i> <span class='operator'>=</span> closing;
</span></div></div></div></div><div class='texpara'><div id='lib:range_formatter,parse'><div id='lib:parse,range_formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:parse,range_formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
    parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='range.formatter-9'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16666'>#</a></div><div class='texpara'><div id='range.formatter-9.sentence-1' class='sentence'><i >Effects</i>: Parses the format specifier as a <span class='textsf'><i >range-format-spec</i></span> and
stores the parsed specifiers in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#range.formatter-9.sentence-1'>.</a></div> <div id='range.formatter-9.sentence-2' class='sentence'>The values of
<span class='texttt'><i >opening-bracket_<span class='shy'></span></i></span>, <span class='texttt'><i >closing-bracket_<span class='shy'></span></i></span>, and <span class='texttt'><i >separator_<span class='shy'></span></i></span>
are modified if and only if required by
the <span class='textsf'><i >range-type</i></span> or the <span class='texttt'>n</span> option, if present<a class='hidden_link' href='#range.formatter-9.sentence-2'>.</a></div> <div id='range.formatter-9.sentence-3' class='sentence'>If:
<ul class='itemize'><li id='range.formatter-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.formatter-9.1'>(9.1)</a></div>the <span class='textsf'><i >range-type</i></span> is neither <span class='texttt'>s</span> nor <span class='texttt'><span class='operator'>?</span>s</span>,</li><li id='range.formatter-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.formatter-9.2'>(9.2)</a></div><span class='texttt'><span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>set_<span class='shy'></span>debug_<span class='shy'></span>format<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a valid expression, and</li><li id='range.formatter-9.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.formatter-9.3'>(9.3)</a></div>there is no <span class='textsf'><i >range-underlying-spec</i></span>,</li></ul>
then calls <span class='texttt'><span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>set_<span class='shy'></span>debug_<span class='shy'></span>format<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#range.formatter-9.sentence-3'>.</a></div></div></div></div><div class='para' id='range.formatter-10'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16685'>#</a></div><div class='texpara'><div id='range.formatter-10.sentence-1' class='sentence'><i >Returns</i>: An iterator past the end of the <span class='textsf'><i >range-format-spec</i></span><a class='hidden_link' href='#range.formatter-10.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:range_formatter,format'><div id='lib:format,range_formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format,range_formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range_______'><span class='texttt'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable_______'><span class='texttt'>formattable</span></span></a><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
             <a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as________'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>remove_cvref_t<span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>, T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
    format<span class='parenthesis'>(</span>R<span class='operator'>&amp;</span><span class='operator'>&amp;</span> r, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='range.formatter-11'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16700'>#</a></div><div class='texpara'><div id='range.formatter-11.sentence-1' class='sentence'><i >Effects</i>: Writes the following into <span class='texttt'>ctx<span class='operator'>.</span>out<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
adjusted according to the <span class='textsf'><i >range-format-spec</i></span>:</div></div><div class='texpara'><ul class='itemize'><li id='range.formatter-11.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.formatter-11.1'>(11.1)</a></div><div class='texpara'><div id='range.formatter-11.1.sentence-1' class='sentence'>If the <span class='textsf'><i >range-type</i></span> was <span class='texttt'>s</span>,
then as if by formatting <span class='texttt'>basic_<span class='shy'></span>string<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>from_<span class='shy'></span>range, r<span class='parenthesis'>)</span></span><a class='hidden_link' href='#range.formatter-11.1.sentence-1'>.</a></div></div></li><li id='range.formatter-11.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.formatter-11.2'>(11.2)</a></div><div class='texpara'><div id='range.formatter-11.2.sentence-1' class='sentence'>Otherwise, if the <span class='textsf'><i >range-type</i></span> was <span class='texttt'><span class='operator'>?</span>s</span>,
then as if by formatting <span class='texttt'>basic_<span class='shy'></span>string<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>from_<span class='shy'></span>range, r<span class='parenthesis'>)</span></span>
as an escaped string (<a href='#string.escaped' title='22.14.6.4&emsp;Formatting escaped characters and strings'>[format.<span class='shy'></span>string.<span class='shy'></span>escaped]</a>)<a class='hidden_link' href='#range.formatter-11.2.sentence-1'>.</a></div></div></li><li id='range.formatter-11.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.formatter-11.3'>(11.3)</a></div><div class='texpara'><div id='range.formatter-11.3.sentence-1' class='sentence'>Otherwise,
<ul class='itemize'><li id='range.formatter-11.3.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#range.formatter-11.3.1'>(11.3.1)</a></div><span class='texttt'><i >opening-bracket_<span class='shy'></span></i></span>,</li><li id='range.formatter-11.3.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#range.formatter-11.3.2'>(11.3.2)</a></div>for each element <span class='texttt'>e</span> of the range <span class='texttt'>r</span>:
<ul class='itemize'><li id='range.formatter-11.3.2.1'><div class='marginalizedparent' style='left:-57mm'><a class='marginalized' href='#range.formatter-11.3.2.1'>(11.3.2.1)</a></div>the result of writing <span class='texttt'>e</span> via <span class='texttt'><i >underlying_<span class='shy'></span></i></span> and</li><li id='range.formatter-11.3.2.2'><div class='marginalizedparent' style='left:-57mm'><a class='marginalized' href='#range.formatter-11.3.2.2'>(11.3.2.2)</a></div><span class='texttt'><i >separator_<span class='shy'></span></i></span>, unless <span class='texttt'>e</span> is the last element of <span class='texttt'>r</span>, and</li></ul></li><li id='range.formatter-11.3.3'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#range.formatter-11.3.3'>(11.3.3)</a></div><span class='texttt'><i >closing-bracket_<span class='shy'></span></i></span><a class='hidden_link' href='#range.formatter-11.3.sentence-1'>.</a></li></ul></div></div></li></ul></div></div></div><div class='para' id='range.formatter-12'><div class='marginalizedparent'><a class='marginalized' href='#range.formatter-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16731'>#</a></div><div class='texpara'><div id='range.formatter-12.sentence-1' class='sentence'><i >Returns</i>: An iterator past the end of the output range<a class='hidden_link' href='#range.formatter-12.sentence-1'>.</a></div></div></div></div></div><div id='range.fmtdef' class='section'><h4 ><a class='secnum' href='#range.fmtdef' style='min-width:95pt'>22.14.7.3</a> Class template <span class='texttt'><i >range-default-formatter</i></span> <a class='abbr_ref' href='format.range.fmtdef'>[format.range.fmtdef]</a></h4><div class='texpara'><span id='lib:range-default-formatter'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:range-default-formatter'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range________'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> <i >range-default-formatter</i><span class='anglebracket'>&lt;</span>range_format<span class='operator'>::</span>sequence, R, charT<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>    <span class='comment'>// <i >exposition only</i></span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>using</span> <i >maybe-const-r</i> <span class='operator'>=</span> <i >fmt-maybe-const</i><span class='anglebracket'>&lt;</span>R, charT<span class='anglebracket'>&gt;</span>;                    <span class='comment'>// <i >exposition only</i></span>
    range_formatter<span class='anglebracket'>&lt;</span>remove_cvref_t<span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span><i >maybe-const-r</i><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>,
                    charT<span class='anglebracket'>&gt;</span> <i >underlying_</i>;                                 <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_separator<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> sep<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_brackets<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> opening,
                                basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> closing<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
        parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
        format<span class='parenthesis'>(</span><i >maybe-const-r</i><span class='operator'>&amp;</span> elems, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='texpara'><div id='lib:range-default-formatter,set_separator'><div id='lib:set_separator,range-default-formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:set_separator,range-default-formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_separator<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> sep<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='range.fmtdef-1'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtdef-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16770'>#</a></div><div class='texpara'><div id='range.fmtdef-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>set_<span class='shy'></span>separator<span class='parenthesis'>(</span>sep<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,set_brackets'><div id='lib:set_brackets,range-default-formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:set_brackets,range-default-formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_brackets<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> opening,
                            basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> closing<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='range.fmtdef-2'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtdef-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16782'>#</a></div><div class='texpara'><div id='range.fmtdef-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>set_<span class='shy'></span>brackets<span class='parenthesis'>(</span>opening, closing<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,parse'><div id='lib:parse,range-default-formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:parse,range-default-formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
    parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='range.fmtdef-3'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtdef-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16795'>#</a></div><div class='texpara'><div id='range.fmtdef-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>parse<span class='parenthesis'>(</span>ctx<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,format'><div id='lib:format,range-default-formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format,range-default-formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
    format<span class='parenthesis'>(</span><span class='texttt'><i >maybe-const-r</i></span><span class='operator'>&amp;</span> elems, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='range.fmtdef-4'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtdef-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16808'>#</a></div><div class='texpara'><div id='range.fmtdef-4.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>format<span class='parenthesis'>(</span>elems, ctx<span class='parenthesis'>)</span>;</span></div></div></div></div></div><div id='range.fmtmap' class='section'><h4 ><a class='secnum' href='#range.fmtmap' style='min-width:95pt'>22.14.7.4</a> Specialization of <span class='texttt'><i >range-default-formatter</i></span> for maps <a class='abbr_ref' href='format.range.fmtmap'>[format.range.fmtmap]</a></h4><div class='texpara'><span id='lib:range-default-formatter_'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:range-default-formatter_'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range_________'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> <i >range-default-formatter</i><span class='anglebracket'>&lt;</span>range_format<span class='operator'>::</span>map, R, charT<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>using</span> <i >maybe-const-map</i> <span class='operator'>=</span> <i >fmt-maybe-const</i><span class='anglebracket'>&lt;</span>R, charT<span class='anglebracket'>&gt;</span>;                  <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>using</span> <i >element-type</i> <span class='operator'>=</span>                                                <span class='comment'>// <i >exposition only</i></span>
      remove_cvref_t<span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span><i >maybe-const-map</i><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
    range_formatter<span class='anglebracket'>&lt;</span><i >element-type</i>, charT<span class='anglebracket'>&gt;</span> <i >underlying_</i>;                   <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> <i >range-default-formatter</i><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
        parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
        format<span class='parenthesis'>(</span><i >maybe-const-map</i><span class='operator'>&amp;</span> r, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='texpara'><div id='lib:range-default-formatter,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:range-default-formatter,constructor'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='texttt'><i >range-default-formatter</i></span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='range.fmtmap-1'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtmap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16846'>#</a></div><div class='texpara'><div id='range.fmtmap-1.sentence-1' class='sentence'><i >Mandates</i>: Either:
<ul class='itemize'><li id='range.fmtmap-1.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.fmtmap-1.1'>(1.1)</a></div><span class='texttt'><i >element-type</i></span> is a specialization of <span class='texttt'>pair</span>, or</li><li id='range.fmtmap-1.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#range.fmtmap-1.2'>(1.2)</a></div><span class='texttt'><i >element-type</i></span> is a specialization of <span class='texttt'>tuple</span> and
<span class='texttt'>tuple_<span class='shy'></span>size_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class='texttt'><i >element-type</i></span><span class='anglebracket'>&gt;</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>2</span></span><a class='hidden_link' href='#range.fmtmap-1.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='range.fmtmap-2'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtmap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16857'>#</a></div><div class='texpara'><div id='range.fmtmap-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><i >underlying_</i><span class='operator'>.</span>set_brackets<span class='parenthesis'>(</span><i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>"{"</span><span class='parenthesis'>)</span>, <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>"}"</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<i >underlying_</i><span class='operator'>.</span>underlying<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>set_brackets<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
<i >underlying_</i><span class='operator'>.</span>underlying<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>set_separator<span class='parenthesis'>(</span><i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>": "</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,parse_'><div id='lib:parse,range-default-formatter_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:parse,range-default-formatter_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
    parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='range.fmtmap-3'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtmap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16875'>#</a></div><div class='texpara'><div id='range.fmtmap-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>parse<span class='parenthesis'>(</span>ctx<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,format_'><div id='lib:format,range-default-formatter_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format,range-default-formatter_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
    format<span class='parenthesis'>(</span><span class='texttt'><i >maybe-const-map</i></span><span class='operator'>&amp;</span> r, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='range.fmtmap-4'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtmap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16888'>#</a></div><div class='texpara'><div id='range.fmtmap-4.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>format<span class='parenthesis'>(</span>r, ctx<span class='parenthesis'>)</span>;</span></div></div></div></div></div><div id='range.fmtset' class='section'><h4 ><a class='secnum' href='#range.fmtset' style='min-width:95pt'>22.14.7.5</a> Specialization of <span class='texttt'><i >range-default-formatter</i></span> for sets <a class='abbr_ref' href='format.range.fmtset'>[format.range.fmtset]</a></h4><div class='texpara'><span id='lib:range-default-formatter__'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:range-default-formatter__'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range__________'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> <i >range-default-formatter</i><span class='anglebracket'>&lt;</span>range_format<span class='operator'>::</span>set, R, charT<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>using</span> <i >maybe-const-set</i> <span class='operator'>=</span> <i >fmt-maybe-const</i><span class='anglebracket'>&lt;</span>R, charT<span class='anglebracket'>&gt;</span>;                  <span class='comment'>// <i >exposition only</i></span>
    range_formatter<span class='anglebracket'>&lt;</span>remove_cvref_t<span class='anglebracket'>&lt;</span>ranges<span class='operator'>::</span>range_reference_t<span class='anglebracket'>&lt;</span><i >maybe-const-set</i><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>,
                    charT<span class='anglebracket'>&gt;</span> <i >underlying_</i>;                                 <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> <i >range-default-formatter</i><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
        parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
        format<span class='parenthesis'>(</span><i >maybe-const-set</i><span class='operator'>&amp;</span> r, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='texpara'><div id='lib:range-default-formatter,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:range-default-formatter,constructor_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='texttt'><i >range-default-formatter</i></span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='range.fmtset-1'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtset-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16925'>#</a></div><div class='texpara'><div id='range.fmtset-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><i >underlying_</i><span class='operator'>.</span>set_brackets<span class='parenthesis'>(</span><i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>"{"</span><span class='parenthesis'>)</span>, <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>"}"</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,parse__'><div id='lib:parse,range-default-formatter__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:parse,range-default-formatter__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
    parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='range.fmtset-2'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtset-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16941'>#</a></div><div class='texpara'><div id='range.fmtset-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>parse<span class='parenthesis'>(</span>ctx<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,format__'><div id='lib:format,range-default-formatter__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format,range-default-formatter__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
    format<span class='parenthesis'>(</span><span class='texttt'><i >maybe-const-set</i></span><span class='operator'>&amp;</span> r, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='range.fmtset-3'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtset-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16954'>#</a></div><div class='texpara'><div id='range.fmtset-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>format<span class='parenthesis'>(</span>r, ctx<span class='parenthesis'>)</span>;</span></div></div></div></div></div><div id='range.fmtstr' class='section'><h4 ><a class='secnum' href='#range.fmtstr' style='min-width:95pt'>22.14.7.6</a> Specialization of <span class='texttt'><i >range-default-formatter</i></span> for strings <a class='abbr_ref' href='format.range.fmtstr'>[format.range.fmtstr]</a></h4><div class='texpara'><span id='lib:range-default-formatter___'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:range-default-formatter___'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>range_format K, ranges<span class='operator'>::</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range___________'><span class='tcode_in_codeblock'>input_<span class='shy'></span>range</span></span></a> R, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <span class='parenthesis'>(</span>K <span class='operator'>=</span><span class='operator'>=</span> range_format<span class='operator'>::</span>string <span class='operator'>|</span><span class='operator'>|</span> K <span class='operator'>=</span><span class='operator'>=</span> range_format<span class='operator'>::</span>debug_string<span class='parenthesis'>)</span>
  <span class='keyword'>struct</span> <i >range-default-formatter</i><span class='anglebracket'>&lt;</span>K, R, charT<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    formatter<span class='anglebracket'>&lt;</span>basic_string<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span> <i >underlying_</i>;                  <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
        parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
        format<span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='operator'>&amp;</span> str, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='range.fmtstr-1'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtstr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16982'>#</a></div><div class='texpara'><div id='range.fmtstr-1.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'><a href='concept.same#concept:same_as' title='18.4.2&emsp;Concept same_&shy;as&emsp;[concept.same]'><span id='conceptref:same_as_________'><span class='texttt'>same_<span class='shy'></span>as</span></span></a><span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>range_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#range.fmtstr-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:range-default-formatter,parse___'><div id='lib:parse,range-default-formatter___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:parse,range-default-formatter___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
    parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='range.fmtstr-2'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtstr-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L16995'>#</a></div><div class='texpara'><div id='range.fmtstr-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>auto</span> i <span class='operator'>=</span> <i >underlying_</i><span class='operator'>.</span>parse<span class='parenthesis'>(</span>ctx<span class='parenthesis'>)</span>;
<span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span>K <span class='operator'>=</span><span class='operator'>=</span> range_format<span class='operator'>::</span>debug_string<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <i >underlying_</i><span class='operator'>.</span>set_debug_format<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>return</span> i;
</span></div></div></div></div><div class='texpara'><div id='lib:range-default-formatter,format___'><div id='lib:format,range-default-formatter___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format,range-default-formatter___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
    format<span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='operator'>&amp;</span> r, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='range.fmtstr-3'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtstr-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17015'>#</a></div><div class='texpara'><div id='range.fmtstr-3.sentence-1' class='sentence'>The type of <span class='texttt'>r</span> is <span class='texttt'><span class='keyword'>const</span> R<span class='operator'>&amp;</span></span>
if <span class='texttt'>ranges<span class='operator'>&#x200b;::&#x200b;</span><a href='range.refinements#concept:input_range' title='26.4.5&emsp;Other range refinements&emsp;[range.refinements]'><span id='conceptref:input_range____________'><span class='texttt'>input_<span class='shy'></span>range</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> R<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>R<span class='operator'>&amp;</span></span> otherwise<a class='hidden_link' href='#range.fmtstr-3.sentence-1'>.</a></div></div></div></div><div class='para' id='range.fmtstr-4'><div class='marginalizedparent'><a class='marginalized' href='#range.fmtstr-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17020'>#</a></div><div class='texpara'><div id='range.fmtstr-4.sentence-1' class='sentence'><i >Effects</i>: Let <span class='texttt'><i >s</i></span> be a <span class='texttt'>basic_<span class='shy'></span>string<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span> such that
<span class='texttt'>ranges<span class='operator'>&#x200b;::&#x200b;</span>equal<span class='parenthesis'>(</span><i >s</i>, r<span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#range.fmtstr-4.sentence-1'>.</a></div> <div id='range.fmtstr-4.sentence-2' class='sentence'>Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='operator'>.</span>format<span class='parenthesis'>(</span><i >s</i>, ctx<span class='parenthesis'>)</span>;</span></div></div></div></div></div></div><div id='arguments' class='section'><h3 ><a class='secnum' href='#arguments' style='min-width:80pt'>22.14.8</a> Arguments <a class='abbr_ref' href='format.arguments'>[format.arguments]</a></h3><div id='arg' class='section'><h4 ><a class='secnum' href='#arg' style='min-width:95pt'>22.14.8.1</a> Class template <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>arg</span> <a class='abbr_ref' href='format.arg'>[format.arg]</a></h4><div class='texpara'><span id='lib:basic_format_arg'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_arg'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_arg <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>class</span> handle;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type <span class='operator'>=</span> <span class='keyword'>typename</span> Context<span class='operator'>::</span>char_type;                              <span class='comment'>// <i >exposition only</i></span>

    variant<span class='anglebracket'>&lt;</span>monostate, <span class='keyword'>bool</span>, char_type,
            <span class='keyword'>int</span>, <span class='keyword'>unsigned</span> <span class='keyword'>int</span>, <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span>, <span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span>,
            <span class='keyword'>float</span>, <span class='keyword'>double</span>, <span class='keyword'>long</span> <span class='keyword'>double</span>,
            <span class='keyword'>const</span> char_type<span class='operator'>*</span>, basic_string_view<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span>,
            <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span>, handle<span class='anglebracket'>&gt;</span> value;                                         <span class='comment'>// <i >exposition only</i></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;                 <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    basic_format_arg<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='arg-1'><div class='marginalizedparent'><a class='marginalized' href='#arg-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17058'>#</a></div><div class='texpara'><div id='arg-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>arg</span> provides access to
a formatting argument for user-defined formatters<a class='hidden_link' href='#arg-1.sentence-1'>.</a></div></div></div><div class='para' id='arg-2'><div class='marginalizedparent'><a class='marginalized' href='#arg-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17062'>#</a></div><div class='texpara'><div id='arg-2.sentence-1' class='sentence'>The behavior of a program that adds specializations of
<span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>arg</span> is undefined<a class='hidden_link' href='#arg-2.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:basic_format_arg,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_arg,constructor'>🔗</a></div><code class='itemdeclcode'>basic_format_arg<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='arg-3'><div class='marginalizedparent'><a class='marginalized' href='#arg-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17072'>#</a></div><div class='texpara'><div id='arg-3.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#arg-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='arg-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div><div class='para' id='arg-4'><div class='marginalizedparent'><a class='marginalized' href='#arg-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17082'>#</a></div><div class='texpara'><div id='arg-4.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>T</span> satisfies <span class='texttt'><a href='#concept:formattable-with' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable-with_'><span class='texttt'><i >formattable-with</i></span></span></a><span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#arg-4.sentence-1'>.</a></div></div></div></div><div class='para' id='arg-5'><div class='marginalizedparent'><a class='marginalized' href='#arg-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17086'>#</a></div><div class='texpara'><div id='arg-5.sentence-1' class='sentence'><i >Preconditions</i>: If <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'>char_<span class='shy'></span>type<span class='operator'>*</span></span> or <span class='texttt'><span class='keyword'>const</span> char_<span class='shy'></span>type<span class='operator'>*</span></span>,
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> char_<span class='shy'></span><br/>type<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> points to a NTCTS (<a href='defns.ntcts' title='3.34&emsp;NTCTS'>[defns.<span class='shy'></span>ntcts]</a>)<a class='hidden_link' href='#arg-5.sentence-1'>.</a></div></div></div></div><div class='para' id='arg-6'><div class='marginalizedparent'><a class='marginalized' href='#arg-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17091'>#</a></div><div class='texpara'><div id='arg-6.sentence-1' class='sentence'><i >Effects</i>: Let <span class='texttt'>TD</span> be <span class='texttt'>remove_<span class='shy'></span>const_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#arg-6.sentence-1'>.</a></div> <ul class='itemize'><li id='arg-6.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.1'>(6.1)</a></div>If <span class='texttt'>TD</span> is <span class='texttt'><span class='keyword'>bool</span></span> or <span class='texttt'>char_<span class='shy'></span>type</span>,
initializes <span class='texttt'>value</span> with <span class='texttt'>v</span>;</li><li id='arg-6.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.2'>(6.2)</a></div>otherwise, if <span class='texttt'>TD</span> is <span class='texttt'><span class='keyword'>char</span></span> and <span class='texttt'>char_<span class='shy'></span>type</span> is
<span id=':wchar_t__'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span>, initializes <span class='texttt'>value</span> with
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>wchar_<span class='shy'></span>t</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-6.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.3'>(6.3)</a></div>otherwise, if <span class='texttt'>TD</span> is a signed integer type (<a href='basic.fundamental' title='6.8.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)
and <span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>TD<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span>,
initializes <span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-6.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.4'>(6.4)</a></div>otherwise, if <span class='texttt'>TD</span> is an unsigned integer type and
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>TD<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>unsigned</span> <span class='keyword'>int</span><span class='parenthesis'>)</span></span>, initializes
<span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-6.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.5'>(6.5)</a></div>otherwise, if <span class='texttt'>TD</span> is a signed integer type and
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>TD<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='parenthesis'>)</span></span>, initializes
<span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-6.6'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.6'>(6.6)</a></div>otherwise, if <span class='texttt'>TD</span> is an unsigned integer type and
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>TD<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='parenthesis'>)</span></span>, initializes
<span class='texttt'>value</span> with
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-6.7'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.7'>(6.7)</a></div>otherwise, if <span class='texttt'>TD</span> is a standard floating-point type,
initializes <span class='texttt'>value</span> with <span class='texttt'>v</span>;</li><li id='arg-6.8'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.8'>(6.8)</a></div>otherwise, if <span class='texttt'>TD</span> is
a specialization of <span class='texttt'>basic_<span class='shy'></span>string_<span class='shy'></span>view</span> or <span class='texttt'>basic_<span class='shy'></span>string</span> and
<span class='texttt'>TD<span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type</span> is <span class='texttt'>char_<span class='shy'></span>type</span>,
initializes <span class='texttt'>value</span> with
<span class='texttt'>basic_<span class='shy'></span>string_<span class='shy'></span>view<span class='anglebracket'>&lt;</span>char_<span class='shy'></span>type<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, v<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>;</li><li id='arg-6.9'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.9'>(6.9)</a></div>otherwise, if <span class='texttt'>decay_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>TD<span class='anglebracket'>&gt;</span></span> is
<span class='texttt'>char_<span class='shy'></span>type<span class='operator'>*</span></span> or <span class='texttt'><span class='keyword'>const</span> char_<span class='shy'></span>type<span class='operator'>*</span></span>,
initializes <span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> char_<span class='shy'></span>type<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-6.10'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.10'>(6.10)</a></div>otherwise, if <span class='texttt'>is_<span class='shy'></span>void_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>pointer_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>TD<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> or
<span class='texttt'>is_<span class='shy'></span>null_<span class='shy'></span>pointer_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>TD<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
initializes <span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-6.11'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-6.11'>(6.11)</a></div>otherwise, initializes <span class='texttt'>value</span> with <span class='texttt'>handle<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>.</li></ul> <div id='arg-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#arg-note-1'>1</a></i>:&ensp;<div id='arg-6.sentence-2' class='sentence'>Constructing <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>arg</span> from a pointer to a member is ill-formed
unless the user provides an enabled specialization of <span class='texttt'>formatter</span>
for that pointer to member type<a class='hidden_link' href='#arg-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='texpara'></div><div class='texpara'><div id='lib:basic_format_arg,operator_bool'><div id='lib:operator_bool,basic_format_arg'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator_bool,basic_format_arg'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='arg-7'><div class='marginalizedparent'><a class='marginalized' href='#arg-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17154'>#</a></div><div class='texpara'><div id='arg-7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>!</span>holds_<span class='shy'></span>alternative<span class='anglebracket'>&lt;</span>monostate<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span></span><a class='hidden_link' href='#arg-7.sentence-1'>.</a></div></div></div></div><div class='para' id='arg-8'><div class='marginalizedparent'><a class='marginalized' href='#arg-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17159'>#</a></div><div class='texpara'><div id='arg-8.sentence-1' class='sentence'>The class <span class='texttt'>handle</span> allows formatting an object of a user-defined type<a class='hidden_link' href='#arg-8.sentence-1'>.</a></div></div><div class='texpara'><span id='lib:basic_format_arg,handle'><span id='lib:handle,basic_format_arg'><span id='lib:basic_format_arg::handle'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_arg::handle'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='operator'>::</span>handle <span class='curlybracket'>{</span>
    <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span> ptr_;                                           <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>format_<span class='parenthesis'>)</span><span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>,
                    Context<span class='operator'>&amp;</span>, <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                     <span class='comment'>// <i >exposition only</i></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> handle<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> val<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;         <span class='comment'>// <i >exposition only</i></span>

    <span class='keyword'>friend</span> <span class='keyword'>class</span> basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span>;                     <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>void</span> format<span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></span></span></div></div><div class='texpara'><div id='lib:basic_format_arg::handle,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_arg::handle,constructor'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> handle<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> val<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='arg-9'><div class='marginalizedparent'><a class='marginalized' href='#arg-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17188'>#</a></div><div class='texpara'><div id='arg-9.sentence-1' class='sentence'>Let
<ul class='itemize'><li id='arg-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-9.1'>(9.1)</a></div><span class='texttt'>TD</span> be <span class='texttt'>remove_<span class='shy'></span>const_<span class='shy'></span>t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>,</li><li id='arg-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#arg-9.2'>(9.2)</a></div><span class='texttt'>TQ</span> be <span class='texttt'><span class='keyword'>const</span> TD</span> if
<span class='texttt'><span class='keyword'>const</span> TD</span> satisfies <span class='texttt'><a href='#concept:formattable-with' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable-with__'><span class='texttt'><i >formattable-with</i></span></span></a><span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span></span>
and <span class='texttt'>TD</span> otherwise<a class='hidden_link' href='#arg-9.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='arg-10'><div class='marginalizedparent'><a class='marginalized' href='#arg-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17199'>#</a></div><div class='texpara'><div id='arg-10.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>TQ</span> satisfies <span class='texttt'><a href='#concept:formattable-with' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable-with___'><span class='texttt'><i >formattable-with</i></span></span></a><span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#arg-10.sentence-1'>.</a></div></div></div></div><div class='para' id='arg-11'><div class='marginalizedparent'><a class='marginalized' href='#arg-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17203'>#</a></div><div class='texpara'><div id='arg-11.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'>ptr_<span class='shy'></span></span> with <span class='texttt'>addressof<span class='parenthesis'>(</span>val<span class='parenthesis'>)</span></span> and
<span class='texttt'>format_<span class='shy'></span></span> with
<span class='codeblock'><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> parse_ctx,
   Context<span class='operator'>&amp;</span> format_ctx, <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span> ptr<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> Context<span class='operator'>::</span><span class='keyword'>template</span> formatter_type<span class='anglebracket'>&lt;</span>TD<span class='anglebracket'>&gt;</span> f;
  parse_ctx<span class='operator'>.</span>advance_to<span class='parenthesis'>(</span>f<span class='operator'>.</span>parse<span class='parenthesis'>(</span>parse_ctx<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  format_ctx<span class='operator'>.</span>advance_to<span class='parenthesis'>(</span>f<span class='operator'>.</span>format<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>TQ<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> TD<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>ptr<span class='parenthesis'>)</span><span class='parenthesis'>)</span>,
                                 format_ctx<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div></div></div></div><div class='texpara'><div id='lib:basic_format_arg::handle,format'><div id='lib:format,basic_format_arg::handle'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format,basic_format_arg::handle'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> format<span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> parse_ctx, Context<span class='operator'>&amp;</span> format_ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='arg-12'><div class='marginalizedparent'><a class='marginalized' href='#arg-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17225'>#</a></div><div class='texpara'><div id='arg-12.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'>format_<span class='shy'></span><span class='parenthesis'>(</span>parse_<span class='shy'></span>ctx, format_<span class='shy'></span>ctx, ptr_<span class='shy'></span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:visit_format_arg'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:visit_format_arg'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>)</span> visit_format_arg<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='arg-13'><div class='marginalizedparent'><a class='marginalized' href='#arg-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17237'>#</a></div><div class='texpara'><div id='arg-13.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> visit<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, arg<span class='operator'>.</span>value<span class='parenthesis'>)</span>;</span></div></div></div></div></div><div id='arg.store' class='section'><h4 ><a class='secnum' href='#arg.store' style='min-width:95pt'>22.14.8.2</a> Class template <span class='texttt'><i >format-arg-store</i></span> <a class='abbr_ref' href='format.arg.store'>[format.arg.store]</a></h4><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> <i >format-arg-store</i> <span class='curlybracket'>{</span>                                      <span class='comment'>// <i >exposition only</i></span>
    array<span class='anglebracket'>&lt;</span>basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span>, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Args<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <i >args</i>;     <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div><div class='para' id='arg.store-1'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17253'>#</a></div><div class='texpara'><div id='arg.store-1.sentence-1' class='sentence'>An instance of <span class='texttt'><i >format-arg-store</i></span> stores formatting arguments<a class='hidden_link' href='#arg.store-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:make_format_args'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:make_format_args'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context <span class='operator'>=</span> format_context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='texttt'><i >format-arg-store</i></span><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> make_format_args<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> fmt_args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='arg.store-2'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17263'>#</a></div><div class='texpara'><div id='arg.store-2.sentence-1' class='sentence'><i >Preconditions</i>: The type
<span class='texttt'><span class='keyword'>typename</span> Context<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>template</span> formatter_<span class='shy'></span>type<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='texttt'><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span><br/>
meets the <i >BasicFormatter</i> requirements (<a href='#formatter.requirements' title='22.14.6.1&emsp;Formatter requirements'>[formatter.<span class='shy'></span>requirements]</a>)
for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>Args</span><a class='hidden_link' href='#arg.store-2.sentence-1'>.</a></div></div></div></div><div class='para' id='arg.store-3'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17270'>#</a></div><div class='texpara'><div id='arg.store-3.sentence-1' class='sentence'><i >Returns</i>: An object of type <span class='texttt'><span class='texttt'><i >format-arg-store</i></span><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span>
whose <span class='texttt'><i >args</i></span> data member is initialized with
<span class='texttt'><span class='curlybracket'>{</span>basic_<span class='shy'></span>format_<span class='shy'></span>arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>fmt_<span class='shy'></span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='curlybracket'>}</span></span><a class='hidden_link' href='#arg.store-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:make_wformat_args'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:make_wformat_args'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='texttt'><i >format-arg-store</i></span><span class='anglebracket'>&lt;</span>wformat_context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> make_wformat_args<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='arg.store-4'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17284'>#</a></div><div class='texpara'><div id='arg.store-4.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='texttt'><span class='keyword'>return</span> make_<span class='shy'></span>format_<span class='shy'></span>args<span class='anglebracket'>&lt;</span>wformat_<span class='shy'></span>context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;</span></div></div></div></div></div><div id='args' class='section'><h4 ><a class='secnum' href='#args' style='min-width:95pt'>22.14.8.3</a> Class template <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>args</span> <a class='abbr_ref' href='format.args'>[format.args]</a></h4><div class='texpara'><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_args <span class='curlybracket'>{</span>
    size_t size_;                               <span class='comment'>// <i >exposition only</i></span>
    <span class='keyword'>const</span> basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='operator'>*</span> data_;     <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    basic_format_args<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      basic_format_args<span class='parenthesis'>(</span><span class='keyword'>const</span> <i >format-arg-store</i><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> store<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> get<span class='parenthesis'>(</span>size_t i<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    basic_format_args<span class='parenthesis'>(</span><i >format-arg-store</i><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> basic_format_args<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</span></div><div class='para' id='args-1'><div class='marginalizedparent'><a class='marginalized' href='#args-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17313'>#</a></div><div class='texpara'><div id='args-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>args</span> provides access to formatting
arguments<a class='hidden_link' href='#args-1.sentence-1'>.</a></div> <div id='args-1.sentence-2' class='sentence'>Implementations should
optimize the representation of <span class='texttt'>basic_<span class='shy'></span>format_<span class='shy'></span>args</span>
for a small number of formatting arguments<a class='hidden_link' href='#args-1.sentence-2'>.</a></div> <div id='args-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#args-note-1'>1</a></i>:&ensp;<div id='args-1.sentence-3' class='sentence'>For example, by storing indices of type alternatives separately from values
and packing the former<a class='hidden_link' href='#args-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='texpara'><div id='lib:basic_format_args,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_args,constructor'>🔗</a></div><code class='itemdeclcode'>basic_format_args<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='args-2'><div class='marginalizedparent'><a class='marginalized' href='#args-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17330'>#</a></div><div class='texpara'><div id='args-2.sentence-1' class='sentence'><i >Effects</i>: Initializes <span class='texttt'>size_<span class='shy'></span></span> with <span class='texttt'><span class='literal'>0</span></span><a class='hidden_link' href='#args-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_args,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_format_args,constructor_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  basic_format_args<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='texttt'><i >format-arg-store</i></span><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> store<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='args-3'><div class='marginalizedparent'><a class='marginalized' href='#args-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17342'>#</a></div><div class='texpara'><div id='args-3.sentence-1' class='sentence'><i >Effects</i>: Initializes
<span class='texttt'>size_<span class='shy'></span></span> with <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Args<span class='parenthesis'>)</span></span> and
<span class='texttt'>data_<span class='shy'></span></span> with <span class='texttt'>store<span class='operator'>.</span>args<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#args-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_format_args,get'><div id='lib:get,basic_format_args'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,basic_format_args'>🔗</a></div><code class='itemdeclcode'>basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> get<span class='parenthesis'>(</span>size_t i<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='args-4'><div class='marginalizedparent'><a class='marginalized' href='#args-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17355'>#</a></div><div class='texpara'><div id='args-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>i <span class='anglebracket'>&lt;</span> size_<span class='shy'></span> <span class='operator'>?</span>&nbsp;data_<span class='shy'></span><span class='squarebracket'>[</span>i<span class='squarebracket'>]</span> <span class='operator'>:</span>&nbsp;basic_<span class='shy'></span>format_<span class='shy'></span>arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#args-4.sentence-1'>.</a></div></div></div></div></div></div><div id='tuple' class='section'><h3 ><a class='secnum' href='#tuple' style='min-width:80pt'>22.14.9</a> Tuple formatter <a class='abbr_ref' href='format.tuple'>[format.tuple]</a></h3><div class='para' id='tuple-1'><div class='marginalizedparent'><a class='marginalized' href='#tuple-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17362'>#</a></div><div class='texpara'><div id='tuple-1.sentence-1' class='sentence'>For each of <span class='texttt'>pair</span> and <span class='texttt'>tuple</span>,
the library provides the following formatter specialization
where <span class='texttt'><i >pair-or-tuple</i></span> is the name of the template:</div></div><div class='texpara'><span id='lib:formatter_'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:formatter_'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable________'><span class='tcode_in_codeblock'>formattable</span></span></a><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Ts<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><i >pair-or-tuple</i><span class='anglebracket'>&lt;</span>Ts<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    tuple<span class='anglebracket'>&lt;</span>formatter<span class='anglebracket'>&lt;</span>remove_cvref_t<span class='anglebracket'>&lt;</span>Ts<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <i >underlying_</i>;               <span class='comment'>// <i >exposition only</i></span>
    basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >separator_</i> <span class='operator'>=</span> <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>", "</span><span class='parenthesis'>)</span>;      <span class='comment'>// <i >exposition only</i></span>
    basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >opening-bracket_</i> <span class='operator'>=</span> <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>"("</span><span class='parenthesis'>)</span>; <span class='comment'>// <i >exposition only</i></span>
    basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >closing-bracket_</i> <span class='operator'>=</span> <i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>")"</span><span class='parenthesis'>)</span>; <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_separator<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> sep<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_brackets<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> opening,
                                basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> closing<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
        parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
      <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
        format<span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='operator'>&amp;</span> elems, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div></div><div class='para' id='tuple-2'><div class='marginalizedparent'><a class='marginalized' href='#tuple-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17394'>#</a></div><div class='texpara'><div id='tuple-2.sentence-1' class='sentence'>The <span class='texttt'>parse</span> member functions of these formatters
interpret the format specification as
a <span class='textsf'><i >tuple-format-spec</i></span> according to the following syntax:</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>tuple-format-spec</i><span class='textnormal'>:</span><br/>tuple-fill-and-align<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> width<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> tuple-type<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>tuple-fill-and-align</i><span class='textnormal'>:</span><br/>tuple-fill<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> align
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>tuple-fill</i><span class='textnormal'>:</span><br/><span class='textnormal'>any character other than</span> <span class='terminal'><span class='curlybracket'>{</span></span> <span class='textnormal'>or</span> <span class='terminal'><span class='curlybracket'>}</span></span> <span class='textnormal'>or</span> <span class='terminal'><span class='operator'>:</span></span>
</div></div><div class='texpara'><div class='bnf'>
<span class='sffamily'></span><i>tuple-type</i><span class='textnormal'>:</span><br/><span class='terminal'>m</span><br/><span class='terminal'>n</span>
</div></div></div><div class='para' id='tuple-3'><div class='marginalizedparent'><a class='marginalized' href='#tuple-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17420'>#</a></div><div class='texpara'><div id='tuple-3.sentence-1' class='sentence'>The <span class='textsf'><i >tuple-fill-and-align</i></span> is interpreted the same way as
a <span class='textsf'><i >fill-and-align</i></span> (<a href='#string.std' title='22.14.2.2&emsp;Standard format specifiers'>[format.<span class='shy'></span>string.<span class='shy'></span>std]</a>)<a class='hidden_link' href='#tuple-3.sentence-1'>.</a></div> <div id='tuple-3.sentence-2' class='sentence'>The productions <span class='textsf'><i >align</i></span> and <span class='textsf'><i >width</i></span>
are described in <a href='#string' title='22.14.2&emsp;Format string'>[format.<span class='shy'></span>string]</a><a class='hidden_link' href='#tuple-3.sentence-2'>.</a></div></div></div><div class='para' id='tuple-4'><div class='marginalizedparent'><a class='marginalized' href='#tuple-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17426'>#</a></div><div class='texpara'><div id='tuple-4.sentence-1' class='sentence'>The <span class='textsf'><i >tuple-type</i></span> specifier
changes the way a <span class='texttt'>pair</span> or <span class='texttt'>tuple</span> is formatted,
with certain options only valid with certain argument types<a class='hidden_link' href='#tuple-4.sentence-1'>.</a></div> <div id='tuple-4.sentence-2' class='sentence'>The meaning of the various type options
is as specified in Table <a href='#tab:formatter.tuple.type' title='Table 77: Meaning of tuple-type options'>77</a><a class='hidden_link' href='#tuple-4.sentence-2'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:formatter.tuple.type'>Table <a href='#tab:formatter.tuple.type'>77</a>: Meaning of <span class='textsf'><i >tuple-type</i></span> options&emsp;<a href='./tab:formatter.tuple.type'>[tab:formatter.tuple.type]</a><br><table ><tr id='tab:formatter.tuple.type-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.tuple.type-row-1'>🔗</a></div></td><td class='justify' style='width:0.5in'><div class='texpara'><div id='tab:formatter.tuple.type-row-1-column-1-sentence-1' class='sentence'><b>Option</b></div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.tuple.type-row-1-column-2-sentence-1' class='sentence'><b>Requirements</b></div></div></td><td class='justify' style='width:3.2in'><div class='texpara'><div id='tab:formatter.tuple.type-row-1-column-3-sentence-1' class='sentence'><b>Meaning</b></div></div></td></tr><tr id='tab:formatter.tuple.type-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.tuple.type-row-2'>🔗</a></div></td><td class='justify' style='width:0.5in'><div class='texpara'><div id='tab:formatter.tuple.type-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>m</span></div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.tuple.type-row-2-column-2-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Ts<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>2</span></span></div></div></td><td class='justify' style='width:3.2in'><div class='texpara'><div id='tab:formatter.tuple.type-row-2-column-3-sentence-1' class='sentence'>Equivalent to:
<span class='codeblock'>set_separator<span class='parenthesis'>(</span><i >STATICALLY-WIDEN</i><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>": "</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
set_brackets<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;
</span></div></div></td></tr><tr id='tab:formatter.tuple.type-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.tuple.type-row-3'>🔗</a></div></td><td class='justify' style='width:0.5in'><div class='texpara'><div id='tab:formatter.tuple.type-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>n</span></div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.tuple.type-row-3-column-2-sentence-1' class='sentence'>none</div></div></td><td class='justify' style='width:3.2in'><div class='texpara'><div id='tab:formatter.tuple.type-row-3-column-3-sentence-1' class='sentence'>Equivalent to: <span class='texttt'>set_<span class='shy'></span>brackets<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;</span></div></div></td></tr><tr id='tab:formatter.tuple.type-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:formatter.tuple.type-row-4'>🔗</a></div></td><td class='justify' style='width:0.5in'><div class='texpara'><div id='tab:formatter.tuple.type-row-4-column-1-sentence-1' class='sentence'>none</div></div></td><td class='justify' style='width:1.4in'><div class='texpara'><div id='tab:formatter.tuple.type-row-4-column-2-sentence-1' class='sentence'>none</div></div></td><td class='justify' style='width:3.2in'><div class='texpara'><div id='tab:formatter.tuple.type-row-4-column-3-sentence-1' class='sentence'>No effects</div></div></td></tr></table></div></div></div><div class='texpara'><div id='lib:formatter,set_separator'><div id='lib:set_separator,formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:set_separator,formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_separator<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> sep<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='tuple-5'><div class='marginalizedparent'><a class='marginalized' href='#tuple-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17464'>#</a></div><div class='texpara'><div id='tuple-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='texttt'><i >separator_<span class='shy'></span></i></span> <span class='operator'>=</span> sep;</span></div></div></div></div><div class='texpara'><div id='lib:formatter,set_brackets'><div id='lib:set_brackets,formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:set_brackets,formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> set_brackets<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> opening,
                            basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> closing<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='tuple-6'><div class='marginalizedparent'><a class='marginalized' href='#tuple-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17476'>#</a></div><div class='texpara'><div id='tuple-6.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><i >opening-bracket_</i> <span class='operator'>=</span> opening;
<i >closing-bracket_</i> <span class='operator'>=</span> closing;
</span></div></div></div></div><div class='texpara'><div id='lib:formatter,parse'><div id='lib:parse,formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:parse,formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ParseContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>typename</span> ParseContext<span class='operator'>::</span>iterator
    parse<span class='parenthesis'>(</span>ParseContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='tuple-7'><div class='marginalizedparent'><a class='marginalized' href='#tuple-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17493'>#</a></div><div class='texpara'><div id='tuple-7.sentence-1' class='sentence'><i >Effects</i>: Parses the format specifier as a <span class='textsf'><i >tuple-format-spec</i></span> and
stores the parsed specifiers in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#tuple-7.sentence-1'>.</a></div> <div id='tuple-7.sentence-2' class='sentence'>The values of
<span class='texttt'><i >opening-bracket_<span class='shy'></span></i></span>,
<span class='texttt'><i >closing-bracket_<span class='shy'></span></i></span>, and
<span class='texttt'><i >separator_<span class='shy'></span></i></span>
are modified if and only if
required by the <span class='textsf'><i >tuple-type</i></span>, if present<a class='hidden_link' href='#tuple-7.sentence-2'>.</a></div> <div id='tuple-7.sentence-3' class='sentence'>For each element <span class='texttt'><i >e</i></span> in <span class='texttt'><i >underlying_<span class='shy'></span></i></span>,
if <span class='texttt'><i >e</i><span class='operator'>.</span>set_<span class='shy'></span>debug_<span class='shy'></span>format<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a valid expression,
calls <span class='texttt'><i >e</i><span class='operator'>.</span>set_<span class='shy'></span>debug_<span class='shy'></span>format<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#tuple-7.sentence-3'>.</a></div></div></div></div><div class='para' id='tuple-8'><div class='marginalizedparent'><a class='marginalized' href='#tuple-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17507'>#</a></div><div class='texpara'><div id='tuple-8.sentence-1' class='sentence'><i >Returns</i>: An iterator past the end of the <span class='textsf'><i >tuple-format-spec</i></span><a class='hidden_link' href='#tuple-8.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:formatter,format'><div id='lib:format,formatter'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format,formatter'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> FormatContext<span class='anglebracket'>&gt;</span>
  <span class='keyword'>typename</span> FormatContext<span class='operator'>::</span>iterator
    format<span class='parenthesis'>(</span><i ><span class='texttt'>see below</span></i><span class='operator'>&amp;</span> elems, FormatContext<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='tuple-9'><div class='marginalizedparent'><a class='marginalized' href='#tuple-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17520'>#</a></div><div class='texpara'><div id='tuple-9.sentence-1' class='sentence'>The type of <span class='texttt'>elems</span> is:
<ul class='itemize'><li id='tuple-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#tuple-9.1'>(9.1)</a></div><div class='texpara'><div id='tuple-9.1.sentence-1' class='sentence'>If <span class='texttt'><span class='parenthesis'>(</span><a href='#concept:formattable' title='22.14.6.2&emsp;Concept formattable&emsp;[format.formattable]'><span id='conceptref:formattable_________'><span class='texttt'>formattable</span></span></a><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> Ts, charT<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'><span class='keyword'>const</span> <i >pair-or-tuple</i><span class='anglebracket'>&lt;</span>Ts<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span></span><a class='hidden_link' href='#tuple-9.1.sentence-1'>.</a></div></div></li><li id='tuple-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#tuple-9.2'>(9.2)</a></div><div class='texpara'><div id='tuple-9.2.sentence-1' class='sentence'>Otherwise <span class='texttt'><i >pair-or-tuple</i><span class='anglebracket'>&lt;</span>Ts<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span></span><a class='hidden_link' href='#tuple-9.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='tuple-10'><div class='marginalizedparent'><a class='marginalized' href='#tuple-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17530'>#</a></div><div class='texpara'><div id='tuple-10.sentence-1' class='sentence'><i >Effects</i>: Writes the following into <span class='texttt'>ctx<span class='operator'>.</span>out<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
adjusted according to the <span class='textsf'><i >tuple-format-spec</i></span>:
<ul class='itemize'><li id='tuple-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#tuple-10.1'>(10.1)</a></div><span class='texttt'><i >opening-bracket_<span class='shy'></span></i></span>,</li><li id='tuple-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#tuple-10.2'>(10.2)</a></div>for each index <span class='texttt'>I</span> in the [<span class='texttt'><span class='literal'>0</span>, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Ts<span class='parenthesis'>)</span></span>):
<ul class='itemize'><li id='tuple-10.2.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#tuple-10.2.1'>(10.2.1)</a></div>if <span class='texttt'>I <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span></span>, <span class='texttt'><i >separator_<span class='shy'></span></i></span>,</li><li id='tuple-10.2.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#tuple-10.2.2'>(10.2.2)</a></div>the result of writing <span class='texttt'>get<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>elems<span class='parenthesis'>)</span></span>
via <span class='texttt'>get<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='texttt'><i >underlying_<span class='shy'></span></i></span><span class='parenthesis'>)</span></span>, and</li></ul></li><li id='tuple-10.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#tuple-10.3'>(10.3)</a></div><span class='texttt'><i >closing-bracket_<span class='shy'></span></i></span><a class='hidden_link' href='#tuple-10.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='tuple-11'><div class='marginalizedparent'><a class='marginalized' href='#tuple-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17550'>#</a></div><div class='texpara'><div id='tuple-11.sentence-1' class='sentence'><i >Returns</i>: An iterator past the end of the output range<a class='hidden_link' href='#tuple-11.sentence-1'>.</a></div></div></div></div></div><div id='error' class='section'><h3 ><a class='secnum' href='#error' style='min-width:80pt'>22.14.10</a> Class <span class='texttt'>format_<span class='shy'></span>error</span> <a class='abbr_ref' href='format.error'>[format.error]</a></h3><div class='texpara'><span id='lib:format_error'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_error'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> format_error <span class='operator'>:</span> <span class='keyword'>public</span> runtime_error <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>explicit</span> format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> what_arg<span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what_arg<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='error-1'><div class='marginalizedparent'><a class='marginalized' href='#error-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17568'>#</a></div><div class='texpara'><div id='error-1.sentence-1' class='sentence'>The class <span class='texttt'>format_<span class='shy'></span>error</span> defines the type of objects thrown as
exceptions to report errors from the formatting library<a class='hidden_link' href='#error-1.sentence-1'>.</a></div></div></div><div class='texpara'><div id='lib:format_error,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:format_error,constructor'>🔗</a></div><code class='itemdeclcode'>format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> what_arg<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='error-2'><div class='marginalizedparent'><a class='marginalized' href='#error-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17578'>#</a></div><div class='texpara'><div id='error-2.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>strcmp<span class='parenthesis'>(</span>what<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, what_<span class='shy'></span>arg<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span><a class='hidden_link' href='#error-2.sentence-1'>.</a></div> <a class='index' id='lib:format_error,constructor_'></a></div></div></div><div class='texpara'><div class='itemdecl' id='error-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#error-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what_arg<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='error-3'><div class='marginalizedparent'><a class='marginalized' href='#error-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='http://github.com/timsong-cpp/draft/tree/df2e6ff582d09a4100b459399f5f76ad3db5f88f/source/utilities.tex#L17589'>#</a></div><div class='texpara'><div id='error-3.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>strcmp<span class='parenthesis'>(</span>what<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, what_<span class='shy'></span>arg<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span><a class='hidden_link' href='#error-3.sentence-1'>.</a></div></div></div></div></div></div></body></html>