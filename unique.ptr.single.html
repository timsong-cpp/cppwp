<!DOCTYPE html><html lang='en'><head><title>[unique.ptr.single]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>19</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>19.11</a> Smart pointers <a class='abbr_ref' href='smartptr#unique.ptr.single'>[smartptr]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>19.11.1</a> Class template <span class='texttt'>unique_&shy;ptr</span> <a class='abbr_ref' href='unique.ptr#single'>[unique.ptr]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>19.11.1.2</a> <span class='texttt'>unique_&shy;ptr</span> for single objects <a class='abbr_ref'>[unique.ptr.single]</a></h4><span class='indexparent'><a class='index' id='lib:unique_ptr'></a></span><pre class='codeblock'>
namespace std {
  template&lt;class T, class D = default_delete&lt;T&gt;&gt; class unique_ptr {
  public:
    using pointer      = <span class='textit'><span class='texttt'>see below</span></span>;
    using element_type = T;
    using deleter_type = D;

    <span class='comment'>// <a href='#ctor'>[unique.ptr.single.ctor]</a>, constructors
</span>    constexpr unique_ptr() noexcept;
    explicit unique_ptr(pointer p) noexcept;
    unique_ptr(pointer p, <span class='textit'><span class='texttt'>see below</span></span> d1) noexcept;
    unique_ptr(pointer p, <span class='textit'><span class='texttt'>see below</span></span> d2) noexcept;
    unique_ptr(unique_ptr&amp;&amp; u) noexcept;
    constexpr unique_ptr(nullptr_t) noexcept;
    template&lt;class U, class E&gt;
      unique_ptr(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;

    <span class='comment'>// <a href='#dtor'>[unique.ptr.single.dtor]</a>, destructor
</span>    ~unique_ptr();

    <span class='comment'>// <a href='#asgn'>[unique.ptr.single.asgn]</a>, assignment
</span>    unique_ptr&amp; operator=(unique_ptr&amp;&amp; u) noexcept;
    template&lt;class U, class E&gt;
      unique_ptr&amp; operator=(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
    unique_ptr&amp; operator=(nullptr_t) noexcept;

    <span class='comment'>// <a href='#observers'>[unique.ptr.single.observers]</a>, observers
</span>    add_lvalue_reference_t&lt;T&gt; operator*() const;
    pointer operator-&gt;() const noexcept;
    pointer get() const noexcept;
    deleter_type&amp; get_deleter() noexcept;
    const deleter_type&amp; get_deleter() const noexcept;
    explicit operator bool() const noexcept;

    <span class='comment'>// <a href='#modifiers'>[unique.ptr.single.modifiers]</a>, modifiers
</span>    pointer release() noexcept;
    void reset(pointer p = pointer()) noexcept;
    void swap(unique_ptr&amp; u) noexcept;

    <span class='comment'>// disable copy from lvalue
</span>    unique_ptr(const unique_ptr&amp;) = delete;
    unique_ptr&amp; operator=(const unique_ptr&amp;) = delete;
  };
}</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8140'>#</a></div><div id='1.sentence-1' class='sentence'>The default type for the template parameter <span class='texttt'>D</span> is
<span class='texttt'>default_&shy;delete</span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>A client-supplied template argument
<span class='texttt'>D</span> shall be a
<a href='function.objects#def:function_object,type'>function object type</a>,
lvalue reference to function, or
lvalue reference to function object type
for which, given
a value <span class='texttt'>d</span> of type <span class='texttt'>D</span> and a value
<span class='texttt'>ptr</span> of type <span class='texttt'>unique_&shy;ptr&lt;T, D&gt;&#x200b;::&#x200b;pointer</span>, the expression
<span class='texttt'>d(ptr)</span> is valid and has the effect of disposing of the
pointer as appropriate for that deleter<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8153'>#</a></div><div id='2.sentence-1' class='sentence'>If the deleter's type <span class='texttt'>D</span> is not a reference type, <span class='texttt'>D</span> shall satisfy
the <span class='textit'>Cpp17Destructible</span> requirements (Table <a href='utility.arg.requirements#tab:destructible'>29</a>)<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8157'>#</a></div><div id='3.sentence-1' class='sentence'>If the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>remove_&shy;reference_&shy;t&lt;D&gt;&#x200b;::&#x200b;pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>), then <span class='texttt'>unique_&shy;ptr&lt;T,
D&gt;&#x200b;::&#x200b;pointer</span> shall be a synonym for <span class='texttt'>remove_&shy;reference_&shy;t&lt;D&gt;&#x200b;::&#x200b;pointer</span><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Otherwise
<span class='texttt'>unique_&shy;ptr&lt;T, D&gt;&#x200b;::&#x200b;pointer</span> shall be a synonym for <span class='texttt'>element_&shy;type*</span><a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>The type <span class='texttt'>unique_&shy;ptr&lt;T,
D&gt;&#x200b;::&#x200b;pointer</span> shall
satisfy the <span class='textit'>Cpp17NullablePointer</span> requirements (Table <a href='nullablepointer.requirements#tab:nullablepointer'>30</a>)<a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8165'>#</a></div><div id='4.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='4.sentence-1' class='sentence'>Given an allocator type <span class='texttt'>X</span> (Table <a href='allocator.requirements#tab:utilities.allocator.requirements'>33</a>) and
letting <span class='texttt'>A</span> be a synonym for <span class='texttt'>allocator_&shy;traits&lt;X&gt;</span>, the types <span class='texttt'>A&#x200b;::&#x200b;pointer</span>,
<span class='texttt'>A&#x200b;::&#x200b;const_&shy;pointer</span>, <span class='texttt'>A&#x200b;::&#x200b;void_&shy;pointer</span>, and <span class='texttt'>A&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span>
may be used as <span class='texttt'>unique_&shy;ptr&lt;T, D&gt;&#x200b;::&#x200b;pointer</span><a class='hidden_link' href='#4.sentence-1'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div id='ctor' class='section'><h4 ><a class='secnum' href='#ctor' style='min-width:133pt'>19.11.1.2.1</a> Constructors <a class='abbr_ref' href='unique.ptr.single.ctor'>[unique.ptr.single.ctor]</a></h4><span class='indexparent'><a class='index' id='lib:unique_ptr,constructor'></a></span><div class='itemdecl' id='ctor-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>constexpr unique_ptr() noexcept;
constexpr unique_ptr(nullptr_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8180'>#</a></div><div id='ctor-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>D</span> shall
satisfy the <span class='textit'>Cpp17DefaultConstructible</span> requirements (Table <a href='utility.arg.requirements#tab:defaultconstructible'>24</a>),
and that construction shall not throw an exception<a class='hidden_link' href='#ctor-1.sentence-1'>.</a></div></div></div><div class='para' id='ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8185'>#</a></div><div id='ctor-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a <span class='texttt'>unique_&shy;ptr</span> object that owns
nothing, value-initializing the stored pointer and the stored deleter<a class='hidden_link' href='#ctor-2.sentence-1'>.</a></div></div></div><div class='para' id='ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8189'>#</a></div><div id='ctor-3.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get() == nullptr</span><a class='hidden_link' href='#ctor-3.sentence-1'>.</a></div> <div id='ctor-3.sentence-2' class='sentence'><span class='texttt'>get_&shy;deleter()</span>
returns a reference to the stored deleter<a class='hidden_link' href='#ctor-3.sentence-2'>.</a></div></div></div><div class='para' id='ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8193'>#</a></div><div id='ctor-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If <span class='texttt'>is_&shy;pointer_&shy;v&lt;deleter_&shy;type&gt;</span> is <span class='texttt'>true</span> or
<span class='texttt'>is_&shy;default_&shy;constructible_&shy;v&lt;deleter_&shy;type&gt;</span> is <span class='texttt'>false</span>,
this constructor shall not participate in overload resolution<a class='hidden_link' href='#ctor-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:unique_ptr,constructor_'></a></span><div class='itemdecl' id='ctor-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>explicit unique_ptr(pointer p) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8205'>#</a></div><div id='ctor-5.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>D</span> shall
satisfy the <span class='textit'>Cpp17DefaultConstructible</span> requirements (Table <a href='utility.arg.requirements#tab:defaultconstructible'>24</a>),
and that construction shall not throw an exception<a class='hidden_link' href='#ctor-5.sentence-1'>.</a></div></div></div><div class='para' id='ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8210'>#</a></div><div id='ctor-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a <span class='texttt'>unique_&shy;ptr</span> which owns
<span class='texttt'>p</span>, initializing the stored pointer with <span class='texttt'>p</span> and
value-initializing the stored deleter<a class='hidden_link' href='#ctor-6.sentence-1'>.</a></div></div></div><div class='para' id='ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8215'>#</a></div><div id='ctor-7.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get() == p</span><a class='hidden_link' href='#ctor-7.sentence-1'>.</a></div> <div id='ctor-7.sentence-2' class='sentence'><span class='texttt'>get_&shy;deleter()</span>
returns a reference to the stored deleter<a class='hidden_link' href='#ctor-7.sentence-2'>.</a></div></div></div><div class='para' id='ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8219'>#</a></div><div id='ctor-8.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If <span class='texttt'>is_&shy;pointer_&shy;v&lt;deleter_&shy;type&gt;</span> is <span class='texttt'>true</span> or
<span class='texttt'>is_&shy;default_&shy;constructible_&shy;v&lt;deleter_&shy;type&gt;</span> is <span class='texttt'>false</span>,
this constructor shall not participate in overload resolution<a class='hidden_link' href='#ctor-8.sentence-1'>.</a></div> <div id='ctor-8.sentence-2' class='sentence'>If class template argument deduction (<a href='over.match.class.deduct'>[over.match.class.deduct]</a>)
would select the function template corresponding to this constructor,
then the program is ill-formed<a class='hidden_link' href='#ctor-8.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:unique_ptr,constructor__'></a></span><div class='itemdecl' id='ctor-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>unique_ptr(pointer p, <span class='textit'><span class='texttt'>see below</span></span> d1) noexcept;
unique_ptr(pointer p, <span class='textit'><span class='texttt'>see below</span></span> d2) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8235'>#</a></div><div id='ctor-9.sentence-1' class='sentence'>The signature of these constructors depends upon whether <span class='texttt'>D</span>
is a reference type<a class='hidden_link' href='#ctor-9.sentence-1'>.</a></div> <div id='ctor-9.sentence-2' class='sentence'>If <span class='texttt'>D</span> is a non-reference type
<span class='texttt'>A</span>, then the signatures are:</div><pre class='codeblock'>
unique_ptr(pointer p, const A&amp; d) noexcept;
unique_ptr(pointer p, A&amp;&amp; d) noexcept;</pre></div></div><div class='para' id='ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8245'>#</a></div><div id='ctor-10.sentence-1' class='sentence'>If <span class='texttt'>D</span> is an lvalue reference type <span class='texttt'>A&amp;</span>,
then the signatures are:</div><pre class='codeblock'>
unique_ptr(pointer p, A&amp; d) noexcept;
unique_ptr(pointer p, A&amp;&amp; d) = delete;</pre></div></div><div class='para' id='ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8254'>#</a></div><div id='ctor-11.sentence-1' class='sentence'>If <span class='texttt'>D</span> is an lvalue reference type <span class='texttt'>const A&amp;</span>,
then the signatures are:</div><pre class='codeblock'>
unique_ptr(pointer p, const A&amp; d) noexcept;
unique_ptr(pointer p, const A&amp;&amp; d) = delete;</pre></div></div><div class='para' id='ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8263'>#</a></div><div id='ctor-12.sentence-1' class='sentence'><span class='textit'>Requires:</span> For the first constructor, if <span class='texttt'>D</span> is not a reference type,
<span class='texttt'>D</span> shall satisfy the <span class='textit'>Cpp17CopyConstructible</span> requirements and
such construction shall not exit via an exception<a class='hidden_link' href='#ctor-12.sentence-1'>.</a></div> <div id='ctor-12.sentence-2' class='sentence'>For the second constructor, if <span class='texttt'>D</span> is not a reference type,
<span class='texttt'>D</span> shall satisfy the <span class='textit'>Cpp17MoveConstructible</span> requirements and
such construction shall not exit via an exception<a class='hidden_link' href='#ctor-12.sentence-2'>.</a></div></div></div><div class='para' id='ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8271'>#</a></div><div id='ctor-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a <span class='texttt'>unique_&shy;ptr</span> object which owns <span class='texttt'>p</span>, initializing
the stored pointer with <span class='texttt'>p</span> and initializing the deleter
from <span class='texttt'>std&#x200b;::&#x200b;forward&lt;decltype(d)&gt;(d)</span><a class='hidden_link' href='#ctor-13.sentence-1'>.</a></div></div></div><div class='para' id='ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8276'>#</a></div><div id='ctor-14.sentence-1' class='sentence'><span class='textit'>Remarks:</span> These constructors shall not participate in overload resolution
unless <span class='texttt'>is_&shy;constructible_&shy;v&lt;D, decltype(d)&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#ctor-14.sentence-1'>.</a></div></div></div><div class='para' id='ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8280'>#</a></div><div id='ctor-15.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get() == p</span><a class='hidden_link' href='#ctor-15.sentence-1'>.</a></div> <div id='ctor-15.sentence-2' class='sentence'><span class='texttt'>get_&shy;deleter()</span> returns a reference to the stored
deleter<a class='hidden_link' href='#ctor-15.sentence-2'>.</a></div> <div id='ctor-15.sentence-3' class='sentence'>If <span class='texttt'>D</span> is a reference type then <span class='texttt'>get_&shy;deleter()</span>
returns a reference to the lvalue <span class='texttt'>d</span><a class='hidden_link' href='#ctor-15.sentence-3'>.</a></div></div></div><div class='para' id='ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8286'>#</a></div><div id='ctor-16.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If class template argument deduction (<a href='over.match.class.deduct'>[over.match.class.deduct]</a>)
would select a function template corresponding to either of these constructors,
then the program is ill-formed<a class='hidden_link' href='#ctor-16.sentence-1'>.</a></div></div></div><div class='para' id='ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8291'>#</a></div><div id='ctor-17.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#ctor-17.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
D d;
unique_ptr&lt;int, D&gt; p1(new int, D());        <span class='comment'>// <span class='tcode_in_codeblock'>D</span> must be <span class='textit'>Cpp17MoveConstructible</span>
</span>unique_ptr&lt;int, D&gt; p2(new int, d);          <span class='comment'>// <span class='tcode_in_codeblock'>D</span> must be <span class='textit'>Cpp17CopyConstructible</span>
</span>unique_ptr&lt;int, D&amp;&gt; p3(new int, d);         <span class='comment'>// <span class='tcode_in_codeblock'>p3</span> holds a reference to <span class='tcode_in_codeblock'>d</span>
</span>unique_ptr&lt;int, const D&amp;&gt; p4(new int, D()); <span class='comment'>// error: rvalue deleter object combined
</span>                                            <span class='comment'>// with reference deleter type
</span></pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:unique_ptr,constructor___'></a></span><div class='itemdecl' id='ctor-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>unique_ptr(unique_ptr&amp;&amp; u) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8310'>#</a></div><div id='ctor-18.sentence-1' class='sentence'><span class='textit'>Requires:</span> If <span class='texttt'>D</span> is not a reference type,
<span class='texttt'>D</span> shall satisfy the <span class='textit'>Cpp17MoveConstructible</span>
requirements (Table <a href='utility.arg.requirements#tab:moveconstructible'>25</a>)<a class='hidden_link' href='#ctor-18.sentence-1'>.</a></div> <div id='ctor-18.sentence-2' class='sentence'>Construction
of the deleter from an rvalue of type <span class='texttt'>D</span> shall not
throw an exception<a class='hidden_link' href='#ctor-18.sentence-2'>.</a></div></div></div><div class='para' id='ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8318'>#</a></div><div id='ctor-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a <span class='texttt'>unique_&shy;ptr</span> from
<span class='texttt'>u</span><a class='hidden_link' href='#ctor-19.sentence-1'>.</a></div> <div id='ctor-19.sentence-2' class='sentence'>If <span class='texttt'>D</span> is a reference type, this
deleter is copy constructed from <span class='texttt'>u</span>'s deleter; otherwise, this
deleter is move constructed from <span class='texttt'>u</span>'s deleter<a class='hidden_link' href='#ctor-19.sentence-2'>.</a></div> <div id='ctor-19.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#ctor-19.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ctor-19.sentence-3' class='sentence'>The
construction of the deleter can be implemented with <span class='texttt'>std&#x200b;::&#x200b;forward&lt;D&gt;</span><a class='hidden_link' href='#ctor-19.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div class='para' id='ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8325'>#</a></div><div id='ctor-20.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get()</span> yields the value <span class='texttt'>u.get()</span>
yielded before the construction<a class='hidden_link' href='#ctor-20.sentence-1'>.</a></div> <div id='ctor-20.sentence-2' class='sentence'><span class='texttt'>u.get() == nullptr</span><a class='hidden_link' href='#ctor-20.sentence-2'>.</a></div> <div id='ctor-20.sentence-3' class='sentence'><span class='texttt'>get_&shy;deleter()</span> returns a reference
to the stored deleter that was constructed from
<span class='texttt'>u.get_&shy;deleter()</span><a class='hidden_link' href='#ctor-20.sentence-3'>.</a></div> <div id='ctor-20.sentence-4' class='sentence'>If <span class='texttt'>D</span> is a reference type then
<span class='texttt'>get_&shy;deleter()</span> and <span class='texttt'>u.get_&shy;deleter()</span> both reference
the same lvalue deleter<a class='hidden_link' href='#ctor-20.sentence-4'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:unique_ptr,constructor____'></a></span><div class='itemdecl' id='ctor-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class U, class E&gt; unique_ptr(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8341'>#</a></div><div id='ctor-21.sentence-1' class='sentence'><span class='textit'>Requires:</span> If <span class='texttt'>E</span> is not a reference type,
construction of the deleter from an rvalue of type
<span class='texttt'>E</span> shall be well-formed and shall not throw an exception<a class='hidden_link' href='#ctor-21.sentence-1'>.</a></div> <div id='ctor-21.sentence-2' class='sentence'>Otherwise, <span class='texttt'>E</span> is a reference type and construction of the deleter from an
lvalue of type <span class='texttt'>E</span> shall be well-formed and shall not throw an exception<a class='hidden_link' href='#ctor-21.sentence-2'>.</a></div></div></div><div class='para' id='ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8348'>#</a></div><div id='ctor-22.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This constructor shall not participate in overload resolution unless:</div><div id='ctor-22.sentence-2' class='sentence'><ul class='itemize'><li id='ctor-22.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-22.1'>(22.1)</a></div><div id='ctor-22.1.sentence-1' class='sentence'><span class='texttt'>unique_&shy;ptr&lt;U, E&gt;&#x200b;::&#x200b;pointer</span> is implicitly convertible to <span class='texttt'>pointer</span>,</div></li><li id='ctor-22.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-22.2'>(22.2)</a></div><div id='ctor-22.2.sentence-1' class='sentence'><span class='texttt'>U</span> is not an array type, and</div></li><li id='ctor-22.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-22.3'>(22.3)</a></div><div id='ctor-22.3.sentence-1' class='sentence'>either <span class='texttt'>D</span> is a reference type and <span class='texttt'>E</span> is the same type as <span class='texttt'>D</span>, or
<span class='texttt'>D</span> is not a reference type and <span class='texttt'>E</span> is implicitly convertible to <span class='texttt'>D</span><a class='hidden_link' href='#ctor-22.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8358'>#</a></div><div id='ctor-23.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a <span class='texttt'>unique_&shy;ptr</span> from <span class='texttt'>u</span><a class='hidden_link' href='#ctor-23.sentence-1'>.</a></div> <div id='ctor-23.sentence-2' class='sentence'>If <span class='texttt'>E</span> is a reference type, this deleter is copy constructed from
<span class='texttt'>u</span>'s deleter; otherwise, this deleter is move constructed from <span class='texttt'>u</span>'s
deleter<a class='hidden_link' href='#ctor-23.sentence-2'>.</a></div> <div id='ctor-23.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#ctor-23.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ctor-23.sentence-3' class='sentence'>The deleter constructor can be implemented with
<span class='texttt'>std&#x200b;::&#x200b;forward&lt;E&gt;</span><a class='hidden_link' href='#ctor-23.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div class='para' id='ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8365'>#</a></div><div id='ctor-24.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get()</span> yields the value <span class='texttt'>u.get()</span>
yielded before the construction<a class='hidden_link' href='#ctor-24.sentence-1'>.</a></div> <div id='ctor-24.sentence-2' class='sentence'><span class='texttt'>u.get() == nullptr</span><a class='hidden_link' href='#ctor-24.sentence-2'>.</a></div> <div id='ctor-24.sentence-3' class='sentence'><span class='texttt'>get_&shy;deleter()</span> returns a reference
to the stored deleter that was constructed from
<span class='texttt'>u.get_&shy;deleter()</span><a class='hidden_link' href='#ctor-24.sentence-3'>.</a></div></div></div></div><div id='dtor' class='section'><h4 ><a class='secnum' href='#dtor' style='min-width:133pt'>19.11.1.2.2</a> Destructor <a class='abbr_ref' href='unique.ptr.single.dtor'>[unique.ptr.single.dtor]</a></h4><div id='lib:unique_ptr,destructor'>
<div class='itemdecl' id='dtor-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#dtor-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>~unique_ptr();
</code></div>
</div><div class='itemdescr'></div><div class='para' id='dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8382'>#</a></div><div id='dtor-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> The expression <span class='texttt'>get_&shy;deleter()(get())</span> shall be well-formed,
shall have well-defined behavior, and shall not throw exceptions<a class='hidden_link' href='#dtor-1.sentence-1'>.</a></div> <div id='dtor-1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#dtor-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dtor-1.sentence-2' class='sentence'>The
use of <span class='texttt'>default_&shy;delete</span> requires <span class='texttt'>T</span> to be a complete type<a class='hidden_link' href='#dtor-1.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div class='para' id='dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8388'>#</a></div><div id='dtor-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>get() == nullptr</span> there are no effects<a class='hidden_link' href='#dtor-2.sentence-1'>.</a></div> <div id='dtor-2.sentence-2' class='sentence'>Otherwise <span class='texttt'>get_&shy;deleter()(get())</span><a class='hidden_link' href='#dtor-2.sentence-2'>.</a></div></div></div></div><div id='asgn' class='section'><h4 ><a class='secnum' href='#asgn' style='min-width:133pt'>19.11.1.2.3</a> Assignment <a class='abbr_ref' href='unique.ptr.single.asgn'>[unique.ptr.single.asgn]</a></h4><span class='indexparent'><a class='index' id='lib:operator=,unique_ptr'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,operator='></a></span><div class='itemdecl' id='asgn-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#asgn-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>unique_ptr&amp; operator=(unique_ptr&amp;&amp; u) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='asgn-1'><div class='marginalizedparent'><a class='marginalized' href='#asgn-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8401'>#</a></div><div id='asgn-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> If <span class='texttt'>D</span> is not a reference type, <span class='texttt'>D</span> shall satisfy the
<span class='textit'>Cpp17MoveAssignable</span> requirements (Table <a href='utility.arg.requirements#tab:moveassignable'>27</a>) and assignment
of the deleter from an rvalue of type <span class='texttt'>D</span> shall not throw an exception<a class='hidden_link' href='#asgn-1.sentence-1'>.</a></div> <div id='asgn-1.sentence-2' class='sentence'>Otherwise, <span class='texttt'>D</span> is a reference type;
<span class='texttt'>remove_&shy;reference_&shy;t&lt;D&gt;</span> shall satisfy the <span class='textit'>Cpp17CopyAssignable</span>
requirements and assignment of the deleter from an
lvalue of type <span class='texttt'>D</span> shall not throw an exception<a class='hidden_link' href='#asgn-1.sentence-2'>.</a></div></div></div><div class='para' id='asgn-2'><div class='marginalizedparent'><a class='marginalized' href='#asgn-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8410'>#</a></div><div id='asgn-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'>reset(u.release())</span> followed by
<span class='texttt'>get_&shy;deleter() = std&#x200b;::&#x200b;forward&lt;D&gt;(u.get_&shy;deleter())</span><a class='hidden_link' href='#asgn-2.sentence-1'>.</a></div></div></div><div class='para' id='asgn-3'><div class='marginalizedparent'><a class='marginalized' href='#asgn-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8414'>#</a></div><div id='asgn-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#asgn-3.sentence-1'>.</a></div></div></div><div class='para' id='asgn-4'><div class='marginalizedparent'><a class='marginalized' href='#asgn-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8417'>#</a></div><div id='asgn-4.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>u.get() == nullptr</span><a class='hidden_link' href='#asgn-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,unique_ptr_'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,operator=_'></a></span><div class='itemdecl' id='asgn-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#asgn-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class U, class E&gt; unique_ptr&amp; operator=(unique_ptr&lt;U, E&gt;&amp;&amp; u) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='asgn-5'><div class='marginalizedparent'><a class='marginalized' href='#asgn-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8427'>#</a></div><div id='asgn-5.sentence-1' class='sentence'><span class='textit'>Requires:</span> If <span class='texttt'>E</span> is not a reference type, assignment of the deleter from
an rvalue of type <span class='texttt'>E</span> shall be well-formed and shall not throw an exception<a class='hidden_link' href='#asgn-5.sentence-1'>.</a></div> <div id='asgn-5.sentence-2' class='sentence'>Otherwise, <span class='texttt'>E</span> is a reference type and assignment of the deleter from an lvalue
of type <span class='texttt'>E</span> shall be well-formed and shall not throw an exception<a class='hidden_link' href='#asgn-5.sentence-2'>.</a></div></div></div><div class='para' id='asgn-6'><div class='marginalizedparent'><a class='marginalized' href='#asgn-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8433'>#</a></div><div id='asgn-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This operator shall not participate in overload resolution unless:</div><div id='asgn-6.sentence-2' class='sentence'><ul class='itemize'><li id='asgn-6.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#asgn-6.1'>(6.1)</a></div><div id='asgn-6.1.sentence-1' class='sentence'><span class='texttt'>unique_&shy;ptr&lt;U, E&gt;&#x200b;::&#x200b;pointer</span> is implicitly convertible to <span class='texttt'>pointer</span>, and</div></li><li id='asgn-6.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#asgn-6.2'>(6.2)</a></div><div id='asgn-6.2.sentence-1' class='sentence'><span class='texttt'>U</span> is not an array type, and</div></li><li id='asgn-6.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#asgn-6.3'>(6.3)</a></div><div id='asgn-6.3.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;D&amp;, E&amp;&amp;&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#asgn-6.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='asgn-7'><div class='marginalizedparent'><a class='marginalized' href='#asgn-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8442'>#</a></div><div id='asgn-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'>reset(u.release())</span> followed by
<span class='texttt'>get_&shy;deleter() = std&#x200b;::&#x200b;forward&lt;E&gt;(u.get_&shy;deleter())</span><a class='hidden_link' href='#asgn-7.sentence-1'>.</a></div></div></div><div class='para' id='asgn-8'><div class='marginalizedparent'><a class='marginalized' href='#asgn-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8446'>#</a></div><div id='asgn-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#asgn-8.sentence-1'>.</a></div></div></div><div class='para' id='asgn-9'><div class='marginalizedparent'><a class='marginalized' href='#asgn-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8449'>#</a></div><div id='asgn-9.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>u.get() == nullptr</span><a class='hidden_link' href='#asgn-9.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,unique_ptr__'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,operator=__'></a></span><div class='itemdecl' id='asgn-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#asgn-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>unique_ptr&amp; operator=(nullptr_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='asgn-10'><div class='marginalizedparent'><a class='marginalized' href='#asgn-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8459'>#</a></div><div id='asgn-10.sentence-1' class='sentence'><span class='textit'>Effects:</span> As if by <span class='texttt'>reset()</span><a class='hidden_link' href='#asgn-10.sentence-1'>.</a></div></div></div><div class='para' id='asgn-11'><div class='marginalizedparent'><a class='marginalized' href='#asgn-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8462'>#</a></div><div id='asgn-11.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get() == nullptr</span><a class='hidden_link' href='#asgn-11.sentence-1'>.</a></div></div></div><div class='para' id='asgn-12'><div class='marginalizedparent'><a class='marginalized' href='#asgn-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8465'>#</a></div><div id='asgn-12.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#asgn-12.sentence-1'>.</a></div></div></div></div><div id='observers' class='section'><h4 ><a class='secnum' href='#observers' style='min-width:133pt'>19.11.1.2.4</a> Observers <a class='abbr_ref' href='unique.ptr.single.observers'>[unique.ptr.single.observers]</a></h4><span class='indexparent'><a class='index' id='lib:operator*,unique_ptr'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,operator*'></a></span><div class='itemdecl' id='observers-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#observers-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>add_lvalue_reference_t&lt;T&gt; operator*() const;
</code></div><div class='itemdescr'></div><div class='para' id='observers-1'><div class='marginalizedparent'><a class='marginalized' href='#observers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8477'>#</a></div><div id='observers-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>get() != nullptr</span><a class='hidden_link' href='#observers-1.sentence-1'>.</a></div></div></div><div class='para' id='observers-2'><div class='marginalizedparent'><a class='marginalized' href='#observers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8480'>#</a></div><div id='observers-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*get()</span><a class='hidden_link' href='#observers-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator->,unique_ptr'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,operator->'></a></span><div class='itemdecl' id='observers-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#observers-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>pointer operator-&gt;() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='observers-3'><div class='marginalizedparent'><a class='marginalized' href='#observers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8491'>#</a></div><div id='observers-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>get() != nullptr</span><a class='hidden_link' href='#observers-3.sentence-1'>.</a></div></div></div><div class='para' id='observers-4'><div class='marginalizedparent'><a class='marginalized' href='#observers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8494'>#</a></div><div id='observers-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>get()</span><a class='hidden_link' href='#observers-4.sentence-1'>.</a></div></div></div><div class='para' id='observers-5'><div class='marginalizedparent'><a class='marginalized' href='#observers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8497'>#</a></div><div id='observers-5.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#observers-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='observers-5.sentence-1' class='sentence'>The use of this function typically requires that <span class='texttt'>T</span> be a complete type<a class='hidden_link' href='#observers-5.sentence-1'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:get,unique_ptr'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,get'></a></span><div class='itemdecl' id='observers-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#observers-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>pointer get() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='observers-6'><div class='marginalizedparent'><a class='marginalized' href='#observers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8509'>#</a></div><div id='observers-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> The stored pointer<a class='hidden_link' href='#observers-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:get_deleter,unique_ptr'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,get_deleter'></a></span><div class='itemdecl' id='observers-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#observers-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>deleter_type&amp; get_deleter() noexcept;
const deleter_type&amp; get_deleter() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='observers-7'><div class='marginalizedparent'><a class='marginalized' href='#observers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8520'>#</a></div><div id='observers-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> A reference to the stored deleter<a class='hidden_link' href='#observers-7.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator_bool,unique_ptr'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,operator_bool'></a></span><div class='itemdecl' id='observers-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#observers-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>explicit operator bool() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='observers-8'><div class='marginalizedparent'><a class='marginalized' href='#observers-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8530'>#</a></div><div id='observers-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>get() != nullptr</span><a class='hidden_link' href='#observers-8.sentence-1'>.</a></div></div></div></div><div id='modifiers' class='section'><h4 ><a class='secnum' href='#modifiers' style='min-width:133pt'>19.11.1.2.5</a> Modifiers <a class='abbr_ref' href='unique.ptr.single.modifiers'>[unique.ptr.single.modifiers]</a></h4><span class='indexparent'><a class='index' id='lib:release,unique_ptr'></a></span><span class='indexparent'><a class='index' id='lib:unique_ptr,release'></a></span><div class='itemdecl' id='modifiers-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#modifiers-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>pointer release() noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='modifiers-1'><div class='marginalizedparent'><a class='marginalized' href='#modifiers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8542'>#</a></div><div id='modifiers-1.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get() == nullptr</span><a class='hidden_link' href='#modifiers-1.sentence-1'>.</a></div></div></div><div class='para' id='modifiers-2'><div class='marginalizedparent'><a class='marginalized' href='#modifiers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8545'>#</a></div><div id='modifiers-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> The value <span class='texttt'>get()</span> had at the start of
the call to <span class='texttt'>release</span><a class='hidden_link' href='#modifiers-2.sentence-1'>.</a></div></div></div><div id='lib:unique_ptr,reset'><div id='lib:reset,unique_ptr'>
<div class='itemdecl' id='modifiers-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#modifiers-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>void reset(pointer p = pointer()) noexcept;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='modifiers-3'><div class='marginalizedparent'><a class='marginalized' href='#modifiers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8557'>#</a></div><div id='modifiers-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> The expression <span class='texttt'>get_&shy;deleter()(get())</span> shall be well-formed, shall have
well-defined behavior, and shall not throw exceptions<a class='hidden_link' href='#modifiers-3.sentence-1'>.</a></div></div></div><div class='para' id='modifiers-4'><div class='marginalizedparent'><a class='marginalized' href='#modifiers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8561'>#</a></div><div id='modifiers-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Assigns <span class='texttt'>p</span> to the stored pointer, and then if and only if the old value of the
stored pointer, <span class='texttt'>old_&shy;p</span>, was not equal to <span class='texttt'>nullptr</span>, calls
<span class='texttt'>get_&shy;deleter()(old_&shy;p)</span><a class='hidden_link' href='#modifiers-4.sentence-1'>.</a></div> <div id='modifiers-4.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#modifiers-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='modifiers-4.sentence-2' class='sentence'>The order of these operations is significant
because the call to <span class='texttt'>get_&shy;deleter()</span> may destroy <span class='texttt'>*this</span><a class='hidden_link' href='#modifiers-4.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div class='para' id='modifiers-5'><div class='marginalizedparent'><a class='marginalized' href='#modifiers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8567'>#</a></div><div id='modifiers-5.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>get() == p</span><a class='hidden_link' href='#modifiers-5.sentence-1'>.</a></div> <div id='modifiers-5.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#modifiers-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='modifiers-5.sentence-2' class='sentence'>The postcondition does not hold if the call to <span class='texttt'>get_&shy;deleter()</span>
destroys <span class='texttt'>*this</span> since <span class='texttt'>this-&gt;get()</span> is no longer a valid expression<a class='hidden_link' href='#modifiers-5.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div id='lib:unique_ptr,swap'><div id='lib:swap,unique_ptr'>
<div class='itemdecl' id='modifiers-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#modifiers-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>void swap(unique_ptr&amp; u) noexcept;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='modifiers-6'><div class='marginalizedparent'><a class='marginalized' href='#modifiers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8581'>#</a></div><div id='modifiers-6.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>get_&shy;deleter()</span> shall be
<a href='swappable.requirements'>swappable</a> and shall
not throw an exception
under <span class='texttt'>swap</span><a class='hidden_link' href='#modifiers-6.sentence-1'>.</a></div></div></div><div class='para' id='modifiers-7'><div class='marginalizedparent'><a class='marginalized' href='#modifiers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/utilities.tex#L8587'>#</a></div><div id='modifiers-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> Invokes <span class='texttt'>swap</span> on the stored pointers and on the stored
deleters of <span class='texttt'>*this</span> and <span class='texttt'>u</span><a class='hidden_link' href='#modifiers-7.sentence-1'>.</a></div></div></div></div></div></body></html>