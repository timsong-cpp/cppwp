<!DOCTYPE html><html lang='en'><head><title>[dcl.attr.nodiscard]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>7</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>7.6</a> Attributes <a class='abbr_ref' href='dcl.attr#nodiscard'>[dcl.attr]</a></h2><div id='dcl.attr.nodiscard'><h3 ><a class='secnum' style='min-width:103pt'>7.6.7</a> Nodiscard attribute <a class='abbr_ref'>[dcl.attr.nodiscard]</a></h3><p ><span class='indexparent'><a class='index' id='attribute,nodiscard'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/declarations.tex#L4074'>#</a></div><p >The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>nodiscard</span>
may be applied to the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in a function declaration or to the declaration of a class or enumeration.
It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and
no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/declarations.tex#L4081'>#</a></div><p >[ <i>Note:</i>
A nodiscard call is a function call expression that
calls a function previously declared <span class='texttt'>nodiscard</span>, or
whose return type is a possibly cv-qualified class or enumeration type
marked <span class='texttt'>nodiscard</span>. Appearance of a nodiscard call as
a potentially-evaluated discarded-value expression (Clause <a href='expr'>[expr]</a>)
is discouraged unless explicitly cast to <span class='texttt'>void</span>.
Implementations are encouraged to issue a warning in such cases.
This is typically because discarding the return value
of a nodiscard call has surprising consequences.
<i> — end note</i> ]</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/declarations.tex#L4094'>#</a></div><p >[ <i>Example:</i>
</p><pre class='codeblock'>
struct [[nodiscard]] error_info { <span class='texttt'>/* ...&nbsp;*/</span> };
error_info enable_missile_safety_mode();
void launch_missiles();
void test_missiles() {
  enable_missile_safety_mode(); <span class='comment'>// warning encouraged
</span>  launch_missiles();
}
error_info &amp;foo();
void f() { foo(); }             <span class='comment'>// reference type, warning not encouraged
</span></pre><p ><i> — end example</i> ]</p></div></div></div></body></html>